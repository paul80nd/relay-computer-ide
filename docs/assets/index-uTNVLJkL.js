import{r as Q0,a as w,m as Ut,j as h,M as Wa,b as Pa,T as Vn,c as ei,d as ti,e as Qe,f as An,g as is,h as Mr,i as Mp,k as Rp,l as Wf,t as D,n as qc,o as cl,C as K0,p as Ke,q as Fe,s as Bc,u as Ca,P as F0,v as J0,w as k0,x as I0,y as W0,z as P0,Q as ey,A as ty,B as ny,D as ly,E as ay,F as iy,G as sy,H as ry,S as uy,I as cy,J as ba,K as oy,R as fy,L as Uc,N as ri,O as an,U as dy,V as hy,W as Wp,X as Pp,Y as Mn,Z as eg,_ as my,$ as py,a0 as gy,a1 as yy,a2 as vy,a3 as gd,a4 as fs,a5 as ds,a6 as hs,a7 as $l,a8 as Bl,a9 as by,aa as Sy,ab as xy,ac as Cy,ad as tg,ae as ng,af as zy,ag as Ay,ah as Pf,ai as Tp,aj as jy}from"./fluent-DwWp82kL.js";import{r as Ey,a as My}from"./react-OvXVS5lI.js";import{e as ps,l as oi,c as Ry,M as Ty,R as Ny,a as sn}from"./monaco-BwBSdBAj.js";(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const p of document.querySelectorAll('link[rel="modulepreload"]'))o(p);new MutationObserver(p=>{for(const f of p)if(f.type==="childList")for(const d of f.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function a(p){const f={};return p.integrity&&(f.integrity=p.integrity),p.referrerPolicy&&(f.referrerPolicy=p.referrerPolicy),p.crossOrigin==="use-credentials"?f.credentials="include":p.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function o(p){if(p.ep)return;p.ep=!0;const f=a(p);fetch(p.href,f)}})();var ed={exports:{}},Rr={};var Np;function Dy(){if(Np)return Rr;Np=1;var c=Q0(),i=Ey(),a=My();function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function p(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function d(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function b(e){if(f(e)!==e)throw Error(o(188))}function g(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(o(188));return t!==e?null:e}for(var n=e,l=t;;){var r=n.return;if(r===null)break;var u=r.alternate;if(u===null){if(l=r.return,l!==null){n=l;continue}break}if(r.child===u.child){for(u=r.child;u;){if(u===n)return b(r),e;if(u===l)return b(r),t;u=u.sibling}throw Error(o(188))}if(n.return!==l.return)n=r,l=u;else{for(var v=!1,z=r.child;z;){if(z===n){v=!0,n=r,l=u;break}if(z===l){v=!0,l=r,n=u;break}z=z.sibling}if(!v){for(z=u.child;z;){if(z===n){v=!0,n=u,l=r;break}if(z===l){v=!0,l=u,n=r;break}z=z.sibling}if(!v)throw Error(o(189))}}if(n.alternate!==l)throw Error(o(190))}if(n.tag!==3)throw Error(o(188));return n.stateNode.current===n?e:t}function x(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=x(e),t!==null)return t;e=e.sibling}return null}var C=Object.assign,j=Symbol.for("react.element"),M=Symbol.for("react.transitional.element"),$=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),Q=Symbol.for("react.strict_mode"),K=Symbol.for("react.profiler"),P=Symbol.for("react.consumer"),te=Symbol.for("react.context"),Ae=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),pe=Symbol.for("react.lazy"),me=Symbol.for("react.activity"),et=Symbol.for("react.memo_cache_sentinel"),je=Symbol.iterator;function ve(e){return e===null||typeof e!="object"?null:(e=je&&e[je]||e["@@iterator"],typeof e=="function"?e:null)}var nt=Symbol.for("react.client.reference");function Be(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===nt?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case V:return"Fragment";case K:return"Profiler";case Q:return"StrictMode";case re:return"Suspense";case k:return"SuspenseList";case me:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case $:return"Portal";case te:return e.displayName||"Context";case P:return(e._context.displayName||"Context")+".Consumer";case Ae:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case X:return t=e.displayName||null,t!==null?t:Be(e.type)||"Memo";case pe:t=e._payload,e=e._init;try{return Be(e(t))}catch{}}return null}var _e=Array.isArray,ee=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,we={pending:!1,data:null,method:null,action:null},_t=[],Mt=-1;function at(e){return{current:e}}function Je(e){0>Mt||(e.current=_t[Mt],_t[Mt]=null,Mt--)}function J(e,t){Mt++,_t[Mt]=e.current,e.current=t}var ue=at(null),ge=at(null),ce=at(null),le=at(null);function ye(e,t){switch(J(ce,t),J(ge,e),J(ue,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?km(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=km(t),e=Im(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Je(ue),J(ue,e)}function Te(){Je(ue),Je(ge),Je(ce)}function We(e){e.memoizedState!==null&&J(le,e);var t=ue.current,n=Im(t,e.type);t!==n&&(J(ge,e),J(ue,n))}function Rt(e){ge.current===e&&(Je(ue),Je(ge)),le.current===e&&(Je(le),zr._currentValue=we)}var Bt,He;function ct(e){if(Bt===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Bt=t&&t[1]||"",He=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Bt+e+He}var Rn=!1;function vt(e,t){if(!e||Rn)return"";Rn=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(H){var _=H}Reflect.construct(e,[],Z)}else{try{Z.call()}catch(H){_=H}e.call(Z.prototype)}}else{try{throw Error()}catch(H){_=H}(Z=e())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(H){if(H&&_&&typeof H.stack=="string")return[H.stack,_.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=l.DetermineComponentFrameRoot(),v=u[0],z=u[1];if(v&&z){var R=v.split(`
`),O=z.split(`
`);for(r=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;r<O.length&&!O[r].includes("DetermineComponentFrameRoot");)r++;if(l===R.length||r===O.length)for(l=R.length-1,r=O.length-1;1<=l&&0<=r&&R[l]!==O[r];)r--;for(;1<=l&&0<=r;l--,r--)if(R[l]!==O[r]){if(l!==1||r!==1)do if(l--,r--,0>r||R[l]!==O[r]){var q=`
`+R[l].replace(" at new "," at ");return e.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",e.displayName)),q}while(1<=l&&0<=r);break}}}finally{Rn=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?ct(n):""}function za(e,t){switch(e.tag){case 26:case 27:case 5:return ct(e.type);case 16:return ct("Lazy");case 13:return e.child!==t&&t!==null?ct("Suspense Fallback"):ct("Suspense");case 19:return ct("SuspenseList");case 0:case 15:return vt(e.type,!1);case 11:return vt(e.type.render,!1);case 1:return vt(e.type,!0);case 31:return ct("Activity");default:return""}}function bt(e){try{var t="",n=null;do t+=za(e,n),n=e,e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ol=Object.prototype.hasOwnProperty,wl=c.unstable_scheduleCallback,Tn=c.unstable_cancelCallback,Aa=c.unstable_shouldYield,ja=c.unstable_requestPaint,Ht=c.unstable_now,Fc=c.unstable_getCurrentPriorityLevel,Gr=c.unstable_ImmediatePriority,qr=c.unstable_UserBlockingPriority,fi=c.unstable_NormalPriority,Jc=c.unstable_LowPriority,Xr=c.unstable_IdlePriority,kc=c.log,Yr=c.unstable_setDisableYieldValue,Ll=null,Gt=null;function Nn(e){if(typeof kc=="function"&&Yr(e),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(Ll,e)}catch{}}var qt=Math.clz32?Math.clz32:Pc,Ic=Math.log,Wc=Math.LN2;function Pc(e){return e>>>=0,e===0?32:31-(Ic(e)/Wc|0)|0}var di=256,hi=262144,mi=4194304;function fl(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function pi(e,t,n){var l=e.pendingLanes;if(l===0)return 0;var r=0,u=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var z=l&134217727;return z!==0?(l=z&~u,l!==0?r=fl(l):(v&=z,v!==0?r=fl(v):n||(n=z&~e,n!==0&&(r=fl(n))))):(z=l&~u,z!==0?r=fl(z):v!==0?r=fl(v):n||(n=l&~e,n!==0&&(r=fl(n)))),r===0?0:t!==0&&t!==r&&(t&u)===0&&(u=r&-r,n=t&-t,u>=n||u===32&&(n&4194048)!==0)?t:r}function Ea(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function eo(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vr(){var e=mi;return mi<<=1,(mi&62914560)===0&&(mi=4194304),e}function bs(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ma(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function to(e,t,n,l,r,u){var v=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var z=e.entanglements,R=e.expirationTimes,O=e.hiddenUpdates;for(n=v&~n;0<n;){var q=31-qt(n),Z=1<<q;z[q]=0,R[q]=-1;var _=O[q];if(_!==null)for(O[q]=null,q=0;q<_.length;q++){var H=_[q];H!==null&&(H.lane&=-536870913)}n&=~Z}l!==0&&Zr(e,l,0),u!==0&&r===0&&e.tag!==0&&(e.suspendedLanes|=u&~(v&~t))}function Zr(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-qt(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|n&261930}function Qr(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var l=31-qt(n),r=1<<l;r&t|e[l]&t&&(e[l]|=t),n&=~r}}function Kr(e,t){var n=t&-t;return n=(n&42)!==0?1:Ss(n),(n&(e.suspendedLanes|t))!==0?0:n}function Ss(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function xs(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Fr(){var e=I.p;return e!==0?e:(e=window.event,e===void 0?32:Sp(e.type))}function Jr(e,t){var n=I.p;try{return I.p=e,t()}finally{I.p=n}}var Kn=Math.random().toString(36).slice(2),St="__reactFiber$"+Kn,wt="__reactProps$"+Kn,Ol="__reactContainer$"+Kn,Cs="__reactEvents$"+Kn,no="__reactListeners$"+Kn,zs="__reactHandles$"+Kn,kr="__reactResources$"+Kn,Ra="__reactMarker$"+Kn;function As(e){delete e[St],delete e[wt],delete e[Cs],delete e[no],delete e[zs]}function Ul(e){var t=e[St];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ol]||n[St]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ap(e);e!==null;){if(n=e[St])return n;e=ap(e)}return t}e=n,n=e.parentNode}return null}function _l(e){if(e=e[St]||e[Ol]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Ta(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(o(33))}function Hl(e){var t=e[kr];return t||(t=e[kr]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function mt(e){e[Ra]=!0}var Ir=new Set,Wr={};function dl(e,t){Gl(e,t),Gl(e+"Capture",t)}function Gl(e,t){for(Wr[e]=t,e=0;e<t.length;e++)Ir.add(t[e])}var lo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Pr={},ql={};function js(e){return ol.call(ql,e)?!0:ol.call(Pr,e)?!1:lo.test(e)?ql[e]=!0:(Pr[e]=!0,!1)}function Na(e,t,n){if(js(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function gi(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Dn(e,t,n,l){if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+l)}}function Ft(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function eu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ao(e,t,n){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var r=l.get,u=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(v){n=""+v,u.call(this,v)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return n},setValue:function(v){n=""+v},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Es(e){if(!e._valueTracker){var t=eu(e)?"checked":"value";e._valueTracker=ao(e,t,""+e[t])}}function tu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),l="";return e&&(l=eu(e)?e.checked?"true":"false":e.value),e=l,e!==n?(t.setValue(e),!0):!1}function yi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var io=/[\n"\\]/g;function Jt(e){return e.replace(io,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function vi(e,t,n,l,r,u,v,z){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),t!=null?v==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Ft(t)):e.value!==""+Ft(t)&&(e.value=""+Ft(t)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),t!=null?Ms(e,v,Ft(t)):n!=null?Ms(e,v,Ft(n)):l!=null&&e.removeAttribute("value"),r==null&&u!=null&&(e.defaultChecked=!!u),r!=null&&(e.checked=r&&typeof r!="function"&&typeof r!="symbol"),z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"?e.name=""+Ft(z):e.removeAttribute("name")}function Xl(e,t,n,l,r,u,v,z){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.type=u),t!=null||n!=null){if(!(u!=="submit"&&u!=="reset"||t!=null)){Es(e);return}n=n!=null?""+Ft(n):"",t=t!=null?""+Ft(t):n,z||t===e.value||(e.value=t),e.defaultValue=t}l=l??r,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=z?e.checked:!!l,e.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v),Es(e)}function Ms(e,t,n){t==="number"&&yi(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Yl(e,t,n,l){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&l&&(e[n].defaultSelected=!0)}else{for(n=""+Ft(n),t=null,r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,l&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function nu(e,t,n){if(t!=null&&(t=""+Ft(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Ft(n):""}function lu(e,t,n,l){if(t==null){if(l!=null){if(n!=null)throw Error(o(92));if(_e(l)){if(1<l.length)throw Error(o(93));l=l[0]}n=l}n==null&&(n=""),t=n}n=Ft(t),e.defaultValue=n,l=e.textContent,l===n&&l!==""&&l!==null&&(e.value=l),Es(e)}function Vl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var so=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ro(e,t,n){var l=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,n):typeof n!="number"||n===0||so.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function au(e,t,n){if(t!=null&&typeof t!="object")throw Error(o(62));if(e=e.style,n!=null){for(var l in n)!n.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var r in t)l=t[r],t.hasOwnProperty(r)&&n[r]!==l&&ro(e,r,l)}else for(var u in t)t.hasOwnProperty(u)&&ro(e,u,t[u])}function Rs(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),co=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function bi(e){return co.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function $n(){}var iu=null;function su(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Zl=null,Ql=null;function ru(e){var t=_l(e);if(t&&(e=t.stateNode)){var n=e[wt]||null;e:switch(e=t.stateNode,t.type){case"input":if(vi(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Jt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var l=n[t];if(l!==e&&l.form===e.form){var r=l[wt]||null;if(!r)throw Error(o(90));vi(l,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<n.length;t++)l=n[t],l.form===e.form&&tu(l)}break e;case"textarea":nu(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Yl(e,!!n.multiple,t,!1)}}}var Ts=!1;function uu(e,t,n){if(Ts)return e(t,n);Ts=!0;try{var l=e(t);return l}finally{if(Ts=!1,(Zl!==null||Ql!==null)&&(sc(),Zl&&(t=Zl,e=Ql,Ql=Zl=null,ru(t),e)))for(t=0;t<e.length;t++)ru(e[t])}}function Da(e,t){var n=e.stateNode;if(n===null)return null;var l=n[wt]||null;if(l===null)return null;n=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(o(231,t,typeof n));return n}var Bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ns=!1;if(Bn)try{var Si={};Object.defineProperty(Si,"passive",{get:function(){Ns=!0}}),window.addEventListener("test",Si,Si),window.removeEventListener("test",Si,Si)}catch{Ns=!1}var Fn=null,Ds=null,xi=null;function cu(){if(xi)return xi;var e,t=Ds,n=t.length,l,r="value"in Fn?Fn.value:Fn.textContent,u=r.length;for(e=0;e<n&&t[e]===r[e];e++);var v=n-e;for(l=1;l<=v&&t[n-l]===r[u-l];l++);return xi=r.slice(e,1<l?1-l:void 0)}function Ci(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function zi(){return!0}function ou(){return!1}function Lt(e){function t(n,l,r,u,v){this._reactName=n,this._targetInst=r,this.type=l,this.nativeEvent=u,this.target=v,this.currentTarget=null;for(var z in e)e.hasOwnProperty(z)&&(n=e[z],this[z]=n?n(u):u[z]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?zi:ou,this.isPropagationStopped=ou,this}return C(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=zi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=zi)},persist:function(){},isPersistent:zi}),t}var hl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$s=Lt(hl),Ai=C({},hl,{view:0,detail:0}),Cd=Lt(Ai),fu,du,ji,Bs=C({},Ai,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ws,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ji&&(ji&&e.type==="mousemove"?(fu=e.screenX-ji.screenX,du=e.screenY-ji.screenY):du=fu=0,ji=e),fu)},movementY:function(e){return"movementY"in e?e.movementY:du}}),oo=Lt(Bs),zd=C({},Bs,{dataTransfer:0}),Ad=Lt(zd),jd=C({},Ai,{relatedTarget:0}),hu=Lt(jd),Ed=C({},hl,{animationName:0,elapsedTime:0,pseudoElement:0}),Md=Lt(Ed),Rd=C({},hl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Td=Lt(Rd),Nd=C({},hl,{data:0}),fo=Lt(Nd),Dd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$d={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ho={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mo(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ho[e])?!!t[e]:!1}function ws(){return mo}var po=C({},Ai,{key:function(e){if(e.key){var t=Dd[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ci(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?$d[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ws,charCode:function(e){return e.type==="keypress"?Ci(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ci(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),go=Lt(po),yo=C({},Bs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mu=Lt(yo),Bd=C({},Ai,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ws}),vo=Lt(Bd),wd=C({},hl,{propertyName:0,elapsedTime:0,pseudoElement:0}),bo=Lt(wd),So=C({},Bs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ld=Lt(So),xo=C({},hl,{newState:0,oldState:0}),Co=Lt(xo),zo=[9,13,27,32],Ls=Bn&&"CompositionEvent"in window,$a=null;Bn&&"documentMode"in document&&($a=document.documentMode);var Ao=Bn&&"TextEvent"in window&&!$a,pu=Bn&&(!Ls||$a&&8<$a&&11>=$a),gu=" ",yu=!1;function S(e,t){switch(e){case"keyup":return zo.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function W(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var rn=!1;function un(e,t){switch(e){case"compositionend":return W(t);case"keypress":return t.which!==32?null:(yu=!0,gu);case"textInput":return e=t.data,e===gu&&yu?null:e;default:return null}}function Ei(e,t){if(rn)return e==="compositionend"||!Ls&&S(e,t)?(e=cu(),xi=Ds=Fn=null,rn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return pu&&t.locale!=="ko"?null:t.data;default:return null}}var G={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!G[e.type]:t==="textarea"}function vu(e,t,n,l){Zl?Ql?Ql.push(l):Ql=[l]:Zl=l,t=hc(t,"onChange"),0<t.length&&(n=new $s("onChange","change",null,n,l),e.push({event:n,listeners:t}))}var Ba=null,wa=null;function he(e){Vm(e,0)}function Ot(e){var t=Ta(e);if(tu(t))return e}function bu(e,t){if(e==="change")return t}var Su=!1;if(Bn){var Xt;if(Bn){var Mi="oninput"in document;if(!Mi){var Ri=document.createElement("div");Ri.setAttribute("oninput","return;"),Mi=typeof Ri.oninput=="function"}Xt=Mi}else Xt=!1;Su=Xt&&(!document.documentMode||9<document.documentMode)}function F(){Ba&&(Ba.detachEvent("onpropertychange",xu),wa=Ba=null)}function xu(e){if(e.propertyName==="value"&&Ot(wa)){var t=[];vu(t,wa,e,su(e)),uu(he,t)}}function Cu(e,t,n){e==="focusin"?(F(),Ba=t,wa=n,Ba.attachEvent("onpropertychange",xu)):e==="focusout"&&F()}function Fl(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ot(wa)}function Os(e,t){if(e==="click")return Ot(t)}function jo(e,t){if(e==="input"||e==="change")return Ot(t)}function zu(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Yt=typeof Object.is=="function"?Object.is:zu;function Jl(e,t){if(Yt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),l=Object.keys(t);if(n.length!==l.length)return!1;for(l=0;l<n.length;l++){var r=n[l];if(!ol.call(t,r)||!Yt(e[r],t[r]))return!1}return!0}function Au(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Us(e,t){var n=Au(e);e=0;for(var l;n;){if(n.nodeType===3){if(l=e+n.textContent.length,e<=t&&l>=t)return{node:n,offset:t-e};e=l}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Au(n)}}function ju(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ju(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ti(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=yi(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=yi(e.document)}return t}function La(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var _s=Bn&&"documentMode"in document&&11>=document.documentMode,ot=null,Oa=null,Ua=null,_a=!1;function Ni(e,t,n){var l=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;_a||ot==null||ot!==yi(l)||(l=ot,"selectionStart"in l&&La(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ua&&Jl(Ua,l)||(Ua=l,l=hc(Oa,"onSelect"),0<l.length&&(t=new $s("onSelect","select",null,t,n),e.push({event:t,listeners:l}),t.target=ot)))}function Jn(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kl={animationend:Jn("Animation","AnimationEnd"),animationiteration:Jn("Animation","AnimationIteration"),animationstart:Jn("Animation","AnimationStart"),transitionrun:Jn("Transition","TransitionRun"),transitionstart:Jn("Transition","TransitionStart"),transitioncancel:Jn("Transition","TransitionCancel"),transitionend:Jn("Transition","TransitionEnd")},Hs={},Eu={};Bn&&(Eu=document.createElement("div").style,"AnimationEvent"in window||(delete kl.animationend.animation,delete kl.animationiteration.animation,delete kl.animationstart.animation),"TransitionEvent"in window||delete kl.transitionend.transition);function kn(e){if(Hs[e])return Hs[e];if(!kl[e])return e;var t=kl[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Eu)return Hs[e]=t[n];return e}var Gs=kn("animationend"),Mu=kn("animationiteration"),qs=kn("animationstart"),Il=kn("transitionrun"),Di=kn("transitionstart"),Ru=kn("transitioncancel"),Ha=kn("transitionend"),$i=new Map,In="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");In.push("scrollEnd");function Vt(e,t){$i.set(e,t),dl(t,[e])}var Bi=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Tt=[],Wl=0,Wn=0;function Ga(){for(var e=Wl,t=Wn=Wl=0;t<e;){var n=Tt[t];Tt[t++]=null;var l=Tt[t];Tt[t++]=null;var r=Tt[t];Tt[t++]=null;var u=Tt[t];if(Tt[t++]=null,l!==null&&r!==null){var v=l.pending;v===null?r.next=r:(r.next=v.next,v.next=r),l.pending=r}u!==0&&Ys(n,r,u)}}function qa(e,t,n,l){Tt[Wl++]=e,Tt[Wl++]=t,Tt[Wl++]=n,Tt[Wl++]=l,Wn|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Xs(e,t,n,l){return qa(e,t,n,l),wi(e)}function Pn(e,t){return qa(e,null,null,t),wi(e)}function Ys(e,t,n){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n);for(var r=!1,u=e.return;u!==null;)u.childLanes|=n,l=u.alternate,l!==null&&(l.childLanes|=n),u.tag===22&&(e=u.stateNode,e===null||e._visibility&1||(r=!0)),e=u,u=u.return;return e.tag===3?(u=e.stateNode,r&&t!==null&&(r=31-qt(n),e=u.hiddenUpdates,l=e[r],l===null?e[r]=[t]:l.push(t),t.lane=n|536870912),u):null}function wi(e){if(50<gr)throw gr=0,Cf=null,Error(o(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ml={};function Tu(e,t,n,l){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function At(e,t,n,l){return new Tu(e,t,n,l)}function Li(e){return e=e.prototype,!(!e||!e.isReactComponent)}function wn(e,t){var n=e.alternate;return n===null?(n=At(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Vs(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Xa(e,t,n,l,r,u){var v=0;if(l=e,typeof e=="function")Li(e)&&(v=1);else if(typeof e=="string")v=w0(e,n,ue.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case me:return e=At(31,n,t,r),e.elementType=me,e.lanes=u,e;case V:return el(n.children,r,u,t);case Q:v=8,r|=24;break;case K:return e=At(12,n,t,r|2),e.elementType=K,e.lanes=u,e;case re:return e=At(13,n,t,r),e.elementType=re,e.lanes=u,e;case k:return e=At(19,n,t,r),e.elementType=k,e.lanes=u,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case te:v=10;break e;case P:v=9;break e;case Ae:v=11;break e;case X:v=14;break e;case pe:v=16,l=null;break e}v=29,n=Error(o(130,e===null?"null":typeof e,"")),l=null}return t=At(v,n,t,r),t.elementType=e,t.type=l,t.lanes=u,t}function el(e,t,n,l){return e=At(7,e,l,t),e.lanes=n,e}function Oi(e,t,n){return e=At(6,e,null,t),e.lanes=n,e}function Zs(e){var t=At(18,null,null,0);return t.stateNode=e,t}function Ui(e,t,n){return t=At(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Qs=new WeakMap;function ft(e,t){if(typeof e=="object"&&e!==null){var n=Qs.get(e);return n!==void 0?n:(t={value:e,source:t,stack:bt(t)},Qs.set(e,t),t)}return{value:e,source:t,stack:bt(t)}}var Ln=[],On=0,tl=null,Un=0,Zt=[],Qt=0,_n=null,kt=1,vn="";function Hn(e,t){Ln[On++]=Un,Ln[On++]=tl,tl=e,Un=t}function Nu(e,t,n){Zt[Qt++]=kt,Zt[Qt++]=vn,Zt[Qt++]=_n,_n=e;var l=kt;e=vn;var r=32-qt(l)-1;l&=~(1<<r),n+=1;var u=32-qt(t)+r;if(30<u){var v=r-r%5;u=(l&(1<<v)-1).toString(32),l>>=v,r-=v,kt=1<<32-qt(t)+r|n<<r|l,vn=u+e}else kt=1<<u|n<<r|l,vn=e}function Ks(e){e.return!==null&&(Hn(e,1),Nu(e,1,0))}function Fs(e){for(;e===tl;)tl=Ln[--On],Ln[On]=null,Un=Ln[--On],Ln[On]=null;for(;e===_n;)_n=Zt[--Qt],Zt[Qt]=null,vn=Zt[--Qt],Zt[Qt]=null,kt=Zt[--Qt],Zt[Qt]=null}function Du(e,t){Zt[Qt++]=kt,Zt[Qt++]=vn,Zt[Qt++]=_n,kt=t.id,vn=t.overflow,_n=e}var xt=null,ke=null,Ee=!1,nl=null,It=!1,Js=Error(o(519));function ll(e){var t=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw jt(ft(t,e)),Js}function $u(e){var t=e.stateNode,n=e.type,l=e.memoizedProps;switch(t[St]=e,t[wt]=l,n){case"dialog":Re("cancel",t),Re("close",t);break;case"iframe":case"object":case"embed":Re("load",t);break;case"video":case"audio":for(n=0;n<vr.length;n++)Re(vr[n],t);break;case"source":Re("error",t);break;case"img":case"image":case"link":Re("error",t),Re("load",t);break;case"details":Re("toggle",t);break;case"input":Re("invalid",t),Xl(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Re("invalid",t);break;case"textarea":Re("invalid",t),lu(t,l.value,l.defaultValue,l.children)}n=l.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||l.suppressHydrationWarning===!0||Fm(t.textContent,n)?(l.popover!=null&&(Re("beforetoggle",t),Re("toggle",t)),l.onScroll!=null&&Re("scroll",t),l.onScrollEnd!=null&&Re("scrollend",t),l.onClick!=null&&(t.onclick=$n),t=!0):t=!1,t||ll(e,!0)}function Bu(e){for(xt=e.return;xt;)switch(xt.tag){case 5:case 31:case 13:It=!1;return;case 27:case 3:It=!0;return;default:xt=xt.return}}function Gn(e){if(e!==xt)return!1;if(!Ee)return Bu(e),Ee=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Uf(e.type,e.memoizedProps)),n=!n),n&&ke&&ll(e),Bu(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));ke=lp(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));ke=lp(e)}else t===27?(t=ke,da(e.type)?(e=Xf,Xf=null,ke=e):ke=t):ke=xt?Cn(e.stateNode.nextSibling):null;return!0}function Nt(){ke=xt=null,Ee=!1}function ks(){var e=nl;return e!==null&&(nn===null?nn=e:nn.push.apply(nn,e),nl=null),e}function jt(e){nl===null?nl=[e]:nl.push(e)}var ae=at(null),bn=null,Wt=null;function al(e,t,n){J(ae,t._currentValue),t._currentValue=n}function cn(e){e._currentValue=ae.current,Je(ae)}function Is(e,t,n){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===n)break;e=e.return}}function Ya(e,t,n,l){var r=e.child;for(r!==null&&(r.return=e);r!==null;){var u=r.dependencies;if(u!==null){var v=r.child;u=u.firstContext;e:for(;u!==null;){var z=u;u=r;for(var R=0;R<t.length;R++)if(z.context===t[R]){u.lanes|=n,z=u.alternate,z!==null&&(z.lanes|=n),Is(u.return,n,e),l||(v=null);break e}u=z.next}}else if(r.tag===18){if(v=r.return,v===null)throw Error(o(341));v.lanes|=n,u=v.alternate,u!==null&&(u.lanes|=n),Is(v,n,e),v=null}else v=r.child;if(v!==null)v.return=r;else for(v=r;v!==null;){if(v===e){v=null;break}if(r=v.sibling,r!==null){r.return=v.return,v=r;break}v=v.return}r=v}}function pl(e,t,n,l){e=null;for(var r=t,u=!1;r!==null;){if(!u){if((r.flags&524288)!==0)u=!0;else if((r.flags&262144)!==0)break}if(r.tag===10){var v=r.alternate;if(v===null)throw Error(o(387));if(v=v.memoizedProps,v!==null){var z=r.type;Yt(r.pendingProps.value,v.value)||(e!==null?e.push(z):e=[z])}}else if(r===le.current){if(v=r.alternate,v===null)throw Error(o(387));v.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(e!==null?e.push(zr):e=[zr])}r=r.return}e!==null&&Ya(t,e,n,l),t.flags|=262144}function _i(e){for(e=e.firstContext;e!==null;){if(!Yt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function il(e){bn=e,Wt=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ct(e){return wu(bn,e)}function Hi(e,t){return bn===null&&il(e),wu(e,t)}function wu(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Wt===null){if(e===null)throw Error(o(308));Wt=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Wt=Wt.next=t;return n}var Gi=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},Ne=c.unstable_scheduleCallback,Ws=c.unstable_NormalPriority,lt={$$typeof:te,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function s(){return{controller:new Gi,data:new Map,refCount:0}}function y(e){e.refCount--,e.refCount===0&&Ne(Ws,function(){e.controller.abort()})}var E=null,A=0,N=0,U=null;function fe(e,t){if(E===null){var n=E=[];A=0,N=Rf(),U={status:"pending",value:void 0,then:function(l){n.push(l)}}}return A++,t.then(se,se),t}function se(){if(--A===0&&E!==null){U!==null&&(U.status="fulfilled");var e=E;E=null,N=0,U=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Pl(e,t){var n=[],l={status:"pending",value:null,reason:null,then:function(r){n.push(r)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var r=0;r<n.length;r++)(0,n[r])(t)},function(r){for(l.status="rejected",l.reason=r,r=0;r<n.length;r++)(0,n[r])(void 0)}),l}var gl=ee.S;ee.S=function(e,t){vm=Ht(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&fe(e,t),gl!==null&&gl(e,t)};var Sn=at(null);function Va(){var e=Sn.current;return e!==null?e:Ie.pooledCache}function on(e,t){t===null?J(Sn,Sn.current):J(Sn,t.pool)}function Od(){var e=Va();return e===null?null:{parent:lt._currentValue,pool:e}}var qi=Error(o(460)),Eo=Error(o(474)),Lu=Error(o(542)),Ou={then:function(){}};function Ud(e){return e=e.status,e==="fulfilled"||e==="rejected"}function _d(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then($n,$n),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Gd(e),e;default:if(typeof t.status=="string")t.then($n,$n);else{if(e=Ie,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var r=t;r.status="fulfilled",r.value=l}},function(l){if(t.status==="pending"){var r=t;r.status="rejected",r.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Gd(e),e}throw Qa=t,qi}}function Za(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Qa=n,qi):n}}var Qa=null;function Hd(){if(Qa===null)throw Error(o(459));var e=Qa;return Qa=null,e}function Gd(e){if(e===qi||e===Lu)throw Error(o(483))}var Xi=null,Ps=0;function Uu(e){var t=Ps;return Ps+=1,Xi===null&&(Xi=[]),_d(Xi,e,t)}function er(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function _u(e,t){throw t.$$typeof===j?Error(o(525)):(e=Object.prototype.toString.call(t),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function qd(e){function t(B,T){if(e){var L=B.deletions;L===null?(B.deletions=[T],B.flags|=16):L.push(T)}}function n(B,T){if(!e)return null;for(;T!==null;)t(B,T),T=T.sibling;return null}function l(B){for(var T=new Map;B!==null;)B.key!==null?T.set(B.key,B):T.set(B.index,B),B=B.sibling;return T}function r(B,T){return B=wn(B,T),B.index=0,B.sibling=null,B}function u(B,T,L){return B.index=L,e?(L=B.alternate,L!==null?(L=L.index,L<T?(B.flags|=67108866,T):L):(B.flags|=67108866,T)):(B.flags|=1048576,T)}function v(B){return e&&B.alternate===null&&(B.flags|=67108866),B}function z(B,T,L,Y){return T===null||T.tag!==6?(T=Oi(L,B.mode,Y),T.return=B,T):(T=r(T,L),T.return=B,T)}function R(B,T,L,Y){var oe=L.type;return oe===V?q(B,T,L.props.children,Y,L.key):T!==null&&(T.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===pe&&Za(oe)===T.type)?(T=r(T,L.props),er(T,L),T.return=B,T):(T=Xa(L.type,L.key,L.props,null,B.mode,Y),er(T,L),T.return=B,T)}function O(B,T,L,Y){return T===null||T.tag!==4||T.stateNode.containerInfo!==L.containerInfo||T.stateNode.implementation!==L.implementation?(T=Ui(L,B.mode,Y),T.return=B,T):(T=r(T,L.children||[]),T.return=B,T)}function q(B,T,L,Y,oe){return T===null||T.tag!==7?(T=el(L,B.mode,Y,oe),T.return=B,T):(T=r(T,L),T.return=B,T)}function Z(B,T,L){if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return T=Oi(""+T,B.mode,L),T.return=B,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case M:return L=Xa(T.type,T.key,T.props,null,B.mode,L),er(L,T),L.return=B,L;case $:return T=Ui(T,B.mode,L),T.return=B,T;case pe:return T=Za(T),Z(B,T,L)}if(_e(T)||ve(T))return T=el(T,B.mode,L,null),T.return=B,T;if(typeof T.then=="function")return Z(B,Uu(T),L);if(T.$$typeof===te)return Z(B,Hi(B,T),L);_u(B,T)}return null}function _(B,T,L,Y){var oe=T!==null?T.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return oe!==null?null:z(B,T,""+L,Y);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case M:return L.key===oe?R(B,T,L,Y):null;case $:return L.key===oe?O(B,T,L,Y):null;case pe:return L=Za(L),_(B,T,L,Y)}if(_e(L)||ve(L))return oe!==null?null:q(B,T,L,Y,null);if(typeof L.then=="function")return _(B,T,Uu(L),Y);if(L.$$typeof===te)return _(B,T,Hi(B,L),Y);_u(B,L)}return null}function H(B,T,L,Y,oe){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return B=B.get(L)||null,z(T,B,""+Y,oe);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case M:return B=B.get(Y.key===null?L:Y.key)||null,R(T,B,Y,oe);case $:return B=B.get(Y.key===null?L:Y.key)||null,O(T,B,Y,oe);case pe:return Y=Za(Y),H(B,T,L,Y,oe)}if(_e(Y)||ve(Y))return B=B.get(L)||null,q(T,B,Y,oe,null);if(typeof Y.then=="function")return H(B,T,L,Uu(Y),oe);if(Y.$$typeof===te)return H(B,T,L,Hi(T,Y),oe);_u(T,Y)}return null}function ne(B,T,L,Y){for(var oe=null,Le=null,ie=T,Ce=T=0,$e=null;ie!==null&&Ce<L.length;Ce++){ie.index>Ce?($e=ie,ie=null):$e=ie.sibling;var Oe=_(B,ie,L[Ce],Y);if(Oe===null){ie===null&&(ie=$e);break}e&&ie&&Oe.alternate===null&&t(B,ie),T=u(Oe,T,Ce),Le===null?oe=Oe:Le.sibling=Oe,Le=Oe,ie=$e}if(Ce===L.length)return n(B,ie),Ee&&Hn(B,Ce),oe;if(ie===null){for(;Ce<L.length;Ce++)ie=Z(B,L[Ce],Y),ie!==null&&(T=u(ie,T,Ce),Le===null?oe=ie:Le.sibling=ie,Le=ie);return Ee&&Hn(B,Ce),oe}for(ie=l(ie);Ce<L.length;Ce++)$e=H(ie,B,Ce,L[Ce],Y),$e!==null&&(e&&$e.alternate!==null&&ie.delete($e.key===null?Ce:$e.key),T=u($e,T,Ce),Le===null?oe=$e:Le.sibling=$e,Le=$e);return e&&ie.forEach(function(ya){return t(B,ya)}),Ee&&Hn(B,Ce),oe}function de(B,T,L,Y){if(L==null)throw Error(o(151));for(var oe=null,Le=null,ie=T,Ce=T=0,$e=null,Oe=L.next();ie!==null&&!Oe.done;Ce++,Oe=L.next()){ie.index>Ce?($e=ie,ie=null):$e=ie.sibling;var ya=_(B,ie,Oe.value,Y);if(ya===null){ie===null&&(ie=$e);break}e&&ie&&ya.alternate===null&&t(B,ie),T=u(ya,T,Ce),Le===null?oe=ya:Le.sibling=ya,Le=ya,ie=$e}if(Oe.done)return n(B,ie),Ee&&Hn(B,Ce),oe;if(ie===null){for(;!Oe.done;Ce++,Oe=L.next())Oe=Z(B,Oe.value,Y),Oe!==null&&(T=u(Oe,T,Ce),Le===null?oe=Oe:Le.sibling=Oe,Le=Oe);return Ee&&Hn(B,Ce),oe}for(ie=l(ie);!Oe.done;Ce++,Oe=L.next())Oe=H(ie,B,Ce,Oe.value,Y),Oe!==null&&(e&&Oe.alternate!==null&&ie.delete(Oe.key===null?Ce:Oe.key),T=u(Oe,T,Ce),Le===null?oe=Oe:Le.sibling=Oe,Le=Oe);return e&&ie.forEach(function(Z0){return t(B,Z0)}),Ee&&Hn(B,Ce),oe}function Ze(B,T,L,Y){if(typeof L=="object"&&L!==null&&L.type===V&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case M:e:{for(var oe=L.key;T!==null;){if(T.key===oe){if(oe=L.type,oe===V){if(T.tag===7){n(B,T.sibling),Y=r(T,L.props.children),Y.return=B,B=Y;break e}}else if(T.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===pe&&Za(oe)===T.type){n(B,T.sibling),Y=r(T,L.props),er(Y,L),Y.return=B,B=Y;break e}n(B,T);break}else t(B,T);T=T.sibling}L.type===V?(Y=el(L.props.children,B.mode,Y,L.key),Y.return=B,B=Y):(Y=Xa(L.type,L.key,L.props,null,B.mode,Y),er(Y,L),Y.return=B,B=Y)}return v(B);case $:e:{for(oe=L.key;T!==null;){if(T.key===oe)if(T.tag===4&&T.stateNode.containerInfo===L.containerInfo&&T.stateNode.implementation===L.implementation){n(B,T.sibling),Y=r(T,L.children||[]),Y.return=B,B=Y;break e}else{n(B,T);break}else t(B,T);T=T.sibling}Y=Ui(L,B.mode,Y),Y.return=B,B=Y}return v(B);case pe:return L=Za(L),Ze(B,T,L,Y)}if(_e(L))return ne(B,T,L,Y);if(ve(L)){if(oe=ve(L),typeof oe!="function")throw Error(o(150));return L=oe.call(L),de(B,T,L,Y)}if(typeof L.then=="function")return Ze(B,T,Uu(L),Y);if(L.$$typeof===te)return Ze(B,T,Hi(B,L),Y);_u(B,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,T!==null&&T.tag===6?(n(B,T.sibling),Y=r(T,L),Y.return=B,B=Y):(n(B,T),Y=Oi(L,B.mode,Y),Y.return=B,B=Y),v(B)):n(B,T)}return function(B,T,L,Y){try{Ps=0;var oe=Ze(B,T,L,Y);return Xi=null,oe}catch(ie){if(ie===qi||ie===Lu)throw ie;var Le=At(29,ie,null,B.mode);return Le.lanes=Y,Le.return=B,Le}finally{}}}var Ka=qd(!0),Xd=qd(!1),ea=!1;function Mo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ro(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ta(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function na(e,t,n){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Ge&2)!==0){var r=l.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),l.pending=t,t=wi(e),Ys(e,null,n),t}return qa(e,l,t,n),wi(e)}function tr(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,Qr(e,n)}}function To(e,t){var n=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,n===l)){var r=null,u=null;if(n=n.firstBaseUpdate,n!==null){do{var v={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};u===null?r=u=v:u=u.next=v,n=n.next}while(n!==null);u===null?r=u=t:u=u.next=t}else r=u=t;n={baseState:l.baseState,firstBaseUpdate:r,lastBaseUpdate:u,shared:l.shared,callbacks:l.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var No=!1;function nr(){if(No){var e=U;if(e!==null)throw e}}function lr(e,t,n,l){No=!1;var r=e.updateQueue;ea=!1;var u=r.firstBaseUpdate,v=r.lastBaseUpdate,z=r.shared.pending;if(z!==null){r.shared.pending=null;var R=z,O=R.next;R.next=null,v===null?u=O:v.next=O,v=R;var q=e.alternate;q!==null&&(q=q.updateQueue,z=q.lastBaseUpdate,z!==v&&(z===null?q.firstBaseUpdate=O:z.next=O,q.lastBaseUpdate=R))}if(u!==null){var Z=r.baseState;v=0,q=O=R=null,z=u;do{var _=z.lane&-536870913,H=_!==z.lane;if(H?(De&_)===_:(l&_)===_){_!==0&&_===N&&(No=!0),q!==null&&(q=q.next={lane:0,tag:z.tag,payload:z.payload,callback:null,next:null});e:{var ne=e,de=z;_=t;var Ze=n;switch(de.tag){case 1:if(ne=de.payload,typeof ne=="function"){Z=ne.call(Ze,Z,_);break e}Z=ne;break e;case 3:ne.flags=ne.flags&-65537|128;case 0:if(ne=de.payload,_=typeof ne=="function"?ne.call(Ze,Z,_):ne,_==null)break e;Z=C({},Z,_);break e;case 2:ea=!0}}_=z.callback,_!==null&&(e.flags|=64,H&&(e.flags|=8192),H=r.callbacks,H===null?r.callbacks=[_]:H.push(_))}else H={lane:_,tag:z.tag,payload:z.payload,callback:z.callback,next:null},q===null?(O=q=H,R=Z):q=q.next=H,v|=_;if(z=z.next,z===null){if(z=r.shared.pending,z===null)break;H=z,z=H.next,H.next=null,r.lastBaseUpdate=H,r.shared.pending=null}}while(!0);q===null&&(R=Z),r.baseState=R,r.firstBaseUpdate=O,r.lastBaseUpdate=q,u===null&&(r.shared.lanes=0),ra|=v,e.lanes=v,e.memoizedState=Z}}function Yd(e,t){if(typeof e!="function")throw Error(o(191,e));e.call(t)}function Vd(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Yd(n[e],t)}var Yi=at(null),Hu=at(0);function Zd(e,t){e=jl,J(Hu,e),J(Yi,t),jl=e|t.baseLanes}function Do(){J(Hu,jl),J(Yi,Yi.current)}function $o(){jl=Hu.current,Je(Yi),Je(Hu)}var fn=at(null),xn=null;function la(e){var t=e.alternate;J(dt,dt.current&1),J(fn,e),xn===null&&(t===null||Yi.current!==null||t.memoizedState!==null)&&(xn=e)}function Bo(e){J(dt,dt.current),J(fn,e),xn===null&&(xn=e)}function Qd(e){e.tag===22?(J(dt,dt.current),J(fn,e),xn===null&&(xn=e)):aa()}function aa(){J(dt,dt.current),J(fn,fn.current)}function dn(e){Je(fn),xn===e&&(xn=null),Je(dt)}var dt=at(0);function Gu(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Gf(n)||qf(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var yl=0,xe=null,Ye=null,pt=null,qu=!1,Vi=!1,Fa=!1,Xu=0,ar=0,Zi=null,Lg=0;function it(){throw Error(o(321))}function wo(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Yt(e[n],t[n]))return!1;return!0}function Lo(e,t,n,l,r,u){return yl=u,xe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ee.H=e===null||e.memoizedState===null?Th:ko,Fa=!1,u=n(l,r),Fa=!1,Vi&&(u=Fd(t,n,l,r)),Kd(e),u}function Kd(e){ee.H=rr;var t=Ye!==null&&Ye.next!==null;if(yl=0,pt=Ye=xe=null,qu=!1,ar=0,Zi=null,t)throw Error(o(300));e===null||gt||(e=e.dependencies,e!==null&&_i(e)&&(gt=!0))}function Fd(e,t,n,l){xe=e;var r=0;do{if(Vi&&(Zi=null),ar=0,Vi=!1,25<=r)throw Error(o(301));if(r+=1,pt=Ye=null,e.updateQueue!=null){var u=e.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}ee.H=Nh,u=t(n,l)}while(Vi);return u}function Og(){var e=ee.H,t=e.useState()[0];return t=typeof t.then=="function"?ir(t):t,e=e.useState()[0],(Ye!==null?Ye.memoizedState:null)!==e&&(xe.flags|=1024),t}function Oo(){var e=Xu!==0;return Xu=0,e}function Uo(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function _o(e){if(qu){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}qu=!1}yl=0,pt=Ye=xe=null,Vi=!1,ar=Xu=0,Zi=null}function Kt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pt===null?xe.memoizedState=pt=e:pt=pt.next=e,pt}function ht(){if(Ye===null){var e=xe.alternate;e=e!==null?e.memoizedState:null}else e=Ye.next;var t=pt===null?xe.memoizedState:pt.next;if(t!==null)pt=t,Ye=e;else{if(e===null)throw xe.alternate===null?Error(o(467)):Error(o(310));Ye=e,e={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},pt===null?xe.memoizedState=pt=e:pt=pt.next=e}return pt}function Yu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ir(e){var t=ar;return ar+=1,Zi===null&&(Zi=[]),e=_d(Zi,e,t),t=xe,(pt===null?t.memoizedState:pt.next)===null&&(t=t.alternate,ee.H=t===null||t.memoizedState===null?Th:ko),e}function Vu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ir(e);if(e.$$typeof===te)return Ct(e)}throw Error(o(438,String(e)))}function Ho(e){var t=null,n=xe.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var l=xe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(r){return r.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Yu(),xe.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),l=0;l<e;l++)n[l]=et;return t.index++,n}function vl(e,t){return typeof t=="function"?t(e):t}function Zu(e){var t=ht();return Go(t,Ye,e)}function Go(e,t,n){var l=e.queue;if(l===null)throw Error(o(311));l.lastRenderedReducer=n;var r=e.baseQueue,u=l.pending;if(u!==null){if(r!==null){var v=r.next;r.next=u.next,u.next=v}t.baseQueue=r=u,l.pending=null}if(u=e.baseState,r===null)e.memoizedState=u;else{t=r.next;var z=v=null,R=null,O=t,q=!1;do{var Z=O.lane&-536870913;if(Z!==O.lane?(De&Z)===Z:(yl&Z)===Z){var _=O.revertLane;if(_===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null}),Z===N&&(q=!0);else if((yl&_)===_){O=O.next,_===N&&(q=!0);continue}else Z={lane:0,revertLane:O.revertLane,gesture:null,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},R===null?(z=R=Z,v=u):R=R.next=Z,xe.lanes|=_,ra|=_;Z=O.action,Fa&&n(u,Z),u=O.hasEagerState?O.eagerState:n(u,Z)}else _={lane:Z,revertLane:O.revertLane,gesture:O.gesture,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},R===null?(z=R=_,v=u):R=R.next=_,xe.lanes|=Z,ra|=Z;O=O.next}while(O!==null&&O!==t);if(R===null?v=u:R.next=z,!Yt(u,e.memoizedState)&&(gt=!0,q&&(n=U,n!==null)))throw n;e.memoizedState=u,e.baseState=v,e.baseQueue=R,l.lastRenderedState=u}return r===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function qo(e){var t=ht(),n=t.queue;if(n===null)throw Error(o(311));n.lastRenderedReducer=e;var l=n.dispatch,r=n.pending,u=t.memoizedState;if(r!==null){n.pending=null;var v=r=r.next;do u=e(u,v.action),v=v.next;while(v!==r);Yt(u,t.memoizedState)||(gt=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),n.lastRenderedState=u}return[u,l]}function Jd(e,t,n){var l=xe,r=ht(),u=Ee;if(u){if(n===void 0)throw Error(o(407));n=n()}else n=t();var v=!Yt((Ye||r).memoizedState,n);if(v&&(r.memoizedState=n,gt=!0),r=r.queue,Vo(Wd.bind(null,l,r,e),[e]),r.getSnapshot!==t||v||pt!==null&&pt.memoizedState.tag&1){if(l.flags|=2048,Qi(9,{destroy:void 0},Id.bind(null,l,r,n,t),null),Ie===null)throw Error(o(349));u||(yl&127)!==0||kd(l,t,n)}return n}function kd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=xe.updateQueue,t===null?(t=Yu(),xe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Id(e,t,n,l){t.value=n,t.getSnapshot=l,Pd(t)&&eh(e)}function Wd(e,t,n){return n(function(){Pd(t)&&eh(e)})}function Pd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Yt(e,n)}catch{return!0}}function eh(e){var t=Pn(e,2);t!==null&&ln(t,e,2)}function Xo(e){var t=Kt();if(typeof e=="function"){var n=e;if(e=n(),Fa){Nn(!0);try{n()}finally{Nn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vl,lastRenderedState:e},t}function th(e,t,n,l){return e.baseState=n,Go(e,Ye,typeof l=="function"?l:vl)}function Ug(e,t,n,l,r){if(Fu(e))throw Error(o(485));if(e=t.action,e!==null){var u={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){u.listeners.push(v)}};ee.T!==null?n(!0):u.isTransition=!1,l(u),n=t.pending,n===null?(u.next=t.pending=u,nh(t,u)):(u.next=n.next,t.pending=n.next=u)}}function nh(e,t){var n=t.action,l=t.payload,r=e.state;if(t.isTransition){var u=ee.T,v={};ee.T=v;try{var z=n(r,l),R=ee.S;R!==null&&R(v,z),lh(e,t,z)}catch(O){Yo(e,t,O)}finally{u!==null&&v.types!==null&&(u.types=v.types),ee.T=u}}else try{u=n(r,l),lh(e,t,u)}catch(O){Yo(e,t,O)}}function lh(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(l){ah(e,t,l)},function(l){return Yo(e,t,l)}):ah(e,t,n)}function ah(e,t,n){t.status="fulfilled",t.value=n,ih(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,nh(e,n)))}function Yo(e,t,n){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=n,ih(t),t=t.next;while(t!==l)}e.action=null}function ih(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function sh(e,t){return t}function rh(e,t){if(Ee){var n=Ie.formState;if(n!==null){e:{var l=xe;if(Ee){if(ke){t:{for(var r=ke,u=It;r.nodeType!==8;){if(!u){r=null;break t}if(r=Cn(r.nextSibling),r===null){r=null;break t}}u=r.data,r=u==="F!"||u==="F"?r:null}if(r){ke=Cn(r.nextSibling),l=r.data==="F!";break e}}ll(l)}l=!1}l&&(t=n[0])}}return n=Kt(),n.memoizedState=n.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sh,lastRenderedState:t},n.queue=l,n=Eh.bind(null,xe,l),l.dispatch=n,l=Xo(!1),u=Jo.bind(null,xe,!1,l.queue),l=Kt(),r={state:t,dispatch:null,action:e,pending:null},l.queue=r,n=Ug.bind(null,xe,r,u,n),r.dispatch=n,l.memoizedState=e,[t,n,!1]}function uh(e){var t=ht();return ch(t,Ye,e)}function ch(e,t,n){if(t=Go(e,t,sh)[0],e=Zu(vl)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=ir(t)}catch(v){throw v===qi?Lu:v}else l=t;t=ht();var r=t.queue,u=r.dispatch;return n!==t.memoizedState&&(xe.flags|=2048,Qi(9,{destroy:void 0},_g.bind(null,r,n),null)),[l,u,e]}function _g(e,t){e.action=t}function oh(e){var t=ht(),n=Ye;if(n!==null)return ch(t,n,e);ht(),t=t.memoizedState,n=ht();var l=n.queue.dispatch;return n.memoizedState=e,[t,l,!1]}function Qi(e,t,n,l){return e={tag:e,create:n,deps:l,inst:t,next:null},t=xe.updateQueue,t===null&&(t=Yu(),xe.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(l=n.next,n.next=e,e.next=l,t.lastEffect=e),e}function fh(){return ht().memoizedState}function Qu(e,t,n,l){var r=Kt();xe.flags|=e,r.memoizedState=Qi(1|t,{destroy:void 0},n,l===void 0?null:l)}function Ku(e,t,n,l){var r=ht();l=l===void 0?null:l;var u=r.memoizedState.inst;Ye!==null&&l!==null&&wo(l,Ye.memoizedState.deps)?r.memoizedState=Qi(t,u,n,l):(xe.flags|=e,r.memoizedState=Qi(1|t,u,n,l))}function dh(e,t){Qu(8390656,8,e,t)}function Vo(e,t){Ku(2048,8,e,t)}function Hg(e){xe.flags|=4;var t=xe.updateQueue;if(t===null)t=Yu(),xe.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function hh(e){var t=ht().memoizedState;return Hg({ref:t,nextImpl:e}),function(){if((Ge&2)!==0)throw Error(o(440));return t.impl.apply(void 0,arguments)}}function mh(e,t){return Ku(4,2,e,t)}function ph(e,t){return Ku(4,4,e,t)}function gh(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function yh(e,t,n){n=n!=null?n.concat([e]):null,Ku(4,4,gh.bind(null,t,e),n)}function Zo(){}function vh(e,t){var n=ht();t=t===void 0?null:t;var l=n.memoizedState;return t!==null&&wo(t,l[1])?l[0]:(n.memoizedState=[e,t],e)}function bh(e,t){var n=ht();t=t===void 0?null:t;var l=n.memoizedState;if(t!==null&&wo(t,l[1]))return l[0];if(l=e(),Fa){Nn(!0);try{e()}finally{Nn(!1)}}return n.memoizedState=[l,t],l}function Qo(e,t,n){return n===void 0||(yl&1073741824)!==0&&(De&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=Sm(),xe.lanes|=e,ra|=e,n)}function Sh(e,t,n,l){return Yt(n,t)?n:Yi.current!==null?(e=Qo(e,n,l),Yt(e,t)||(gt=!0),e):(yl&42)===0||(yl&1073741824)!==0&&(De&261930)===0?(gt=!0,e.memoizedState=n):(e=Sm(),xe.lanes|=e,ra|=e,t)}function xh(e,t,n,l,r){var u=I.p;I.p=u!==0&&8>u?u:8;var v=ee.T,z={};ee.T=z,Jo(e,!1,t,n);try{var R=r(),O=ee.S;if(O!==null&&O(z,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var q=Pl(R,l);sr(e,t,q,pn(e))}else sr(e,t,l,pn(e))}catch(Z){sr(e,t,{then:function(){},status:"rejected",reason:Z},pn())}finally{I.p=u,v!==null&&z.types!==null&&(v.types=z.types),ee.T=v}}function Gg(){}function Ko(e,t,n,l){if(e.tag!==5)throw Error(o(476));var r=Ch(e).queue;xh(e,r,t,we,n===null?Gg:function(){return zh(e),n(l)})}function Ch(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:we,baseState:we,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vl,lastRenderedState:we},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vl,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function zh(e){var t=Ch(e);t.next===null&&(t=e.alternate.memoizedState),sr(e,t.next.queue,{},pn())}function Fo(){return Ct(zr)}function Ah(){return ht().memoizedState}function jh(){return ht().memoizedState}function qg(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=pn();e=ta(n);var l=na(t,e,n);l!==null&&(ln(l,t,n),tr(l,t,n)),t={cache:s()},e.payload=t;return}t=t.return}}function Xg(e,t,n){var l=pn();n={lane:l,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Fu(e)?Mh(t,n):(n=Xs(e,t,n,l),n!==null&&(ln(n,e,l),Rh(n,t,l)))}function Eh(e,t,n){var l=pn();sr(e,t,n,l)}function sr(e,t,n,l){var r={lane:l,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Fu(e))Mh(t,r);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var v=t.lastRenderedState,z=u(v,n);if(r.hasEagerState=!0,r.eagerState=z,Yt(z,v))return qa(e,t,r,0),Ie===null&&Ga(),!1}catch{}finally{}if(n=Xs(e,t,r,l),n!==null)return ln(n,e,l),Rh(n,t,l),!0}return!1}function Jo(e,t,n,l){if(l={lane:2,revertLane:Rf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Fu(e)){if(t)throw Error(o(479))}else t=Xs(e,n,l,2),t!==null&&ln(t,e,2)}function Fu(e){var t=e.alternate;return e===xe||t!==null&&t===xe}function Mh(e,t){Vi=qu=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Rh(e,t,n){if((n&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,Qr(e,n)}}var rr={readContext:Ct,use:Vu,useCallback:it,useContext:it,useEffect:it,useImperativeHandle:it,useLayoutEffect:it,useInsertionEffect:it,useMemo:it,useReducer:it,useRef:it,useState:it,useDebugValue:it,useDeferredValue:it,useTransition:it,useSyncExternalStore:it,useId:it,useHostTransitionStatus:it,useFormState:it,useActionState:it,useOptimistic:it,useMemoCache:it,useCacheRefresh:it};rr.useEffectEvent=it;var Th={readContext:Ct,use:Vu,useCallback:function(e,t){return Kt().memoizedState=[e,t===void 0?null:t],e},useContext:Ct,useEffect:dh,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Qu(4194308,4,gh.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Qu(4194308,4,e,t)},useInsertionEffect:function(e,t){Qu(4,2,e,t)},useMemo:function(e,t){var n=Kt();t=t===void 0?null:t;var l=e();if(Fa){Nn(!0);try{e()}finally{Nn(!1)}}return n.memoizedState=[l,t],l},useReducer:function(e,t,n){var l=Kt();if(n!==void 0){var r=n(t);if(Fa){Nn(!0);try{n(t)}finally{Nn(!1)}}}else r=t;return l.memoizedState=l.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},l.queue=e,e=e.dispatch=Xg.bind(null,xe,e),[l.memoizedState,e]},useRef:function(e){var t=Kt();return e={current:e},t.memoizedState=e},useState:function(e){e=Xo(e);var t=e.queue,n=Eh.bind(null,xe,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Zo,useDeferredValue:function(e,t){var n=Kt();return Qo(n,e,t)},useTransition:function(){var e=Xo(!1);return e=xh.bind(null,xe,e.queue,!0,!1),Kt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var l=xe,r=Kt();if(Ee){if(n===void 0)throw Error(o(407));n=n()}else{if(n=t(),Ie===null)throw Error(o(349));(De&127)!==0||kd(l,t,n)}r.memoizedState=n;var u={value:n,getSnapshot:t};return r.queue=u,dh(Wd.bind(null,l,u,e),[e]),l.flags|=2048,Qi(9,{destroy:void 0},Id.bind(null,l,u,n,t),null),n},useId:function(){var e=Kt(),t=Ie.identifierPrefix;if(Ee){var n=vn,l=kt;n=(l&~(1<<32-qt(l)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Xu++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=Lg++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Fo,useFormState:rh,useActionState:rh,useOptimistic:function(e){var t=Kt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Jo.bind(null,xe,!0,n),n.dispatch=t,[e,t]},useMemoCache:Ho,useCacheRefresh:function(){return Kt().memoizedState=qg.bind(null,xe)},useEffectEvent:function(e){var t=Kt(),n={impl:e};return t.memoizedState=n,function(){if((Ge&2)!==0)throw Error(o(440));return n.impl.apply(void 0,arguments)}}},ko={readContext:Ct,use:Vu,useCallback:vh,useContext:Ct,useEffect:Vo,useImperativeHandle:yh,useInsertionEffect:mh,useLayoutEffect:ph,useMemo:bh,useReducer:Zu,useRef:fh,useState:function(){return Zu(vl)},useDebugValue:Zo,useDeferredValue:function(e,t){var n=ht();return Sh(n,Ye.memoizedState,e,t)},useTransition:function(){var e=Zu(vl)[0],t=ht().memoizedState;return[typeof e=="boolean"?e:ir(e),t]},useSyncExternalStore:Jd,useId:Ah,useHostTransitionStatus:Fo,useFormState:uh,useActionState:uh,useOptimistic:function(e,t){var n=ht();return th(n,Ye,e,t)},useMemoCache:Ho,useCacheRefresh:jh};ko.useEffectEvent=hh;var Nh={readContext:Ct,use:Vu,useCallback:vh,useContext:Ct,useEffect:Vo,useImperativeHandle:yh,useInsertionEffect:mh,useLayoutEffect:ph,useMemo:bh,useReducer:qo,useRef:fh,useState:function(){return qo(vl)},useDebugValue:Zo,useDeferredValue:function(e,t){var n=ht();return Ye===null?Qo(n,e,t):Sh(n,Ye.memoizedState,e,t)},useTransition:function(){var e=qo(vl)[0],t=ht().memoizedState;return[typeof e=="boolean"?e:ir(e),t]},useSyncExternalStore:Jd,useId:Ah,useHostTransitionStatus:Fo,useFormState:oh,useActionState:oh,useOptimistic:function(e,t){var n=ht();return Ye!==null?th(n,Ye,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Ho,useCacheRefresh:jh};Nh.useEffectEvent=hh;function Io(e,t,n,l){t=e.memoizedState,n=n(l,t),n=n==null?t:C({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Wo={enqueueSetState:function(e,t,n){e=e._reactInternals;var l=pn(),r=ta(l);r.payload=t,n!=null&&(r.callback=n),t=na(e,r,l),t!==null&&(ln(t,e,l),tr(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var l=pn(),r=ta(l);r.tag=1,r.payload=t,n!=null&&(r.callback=n),t=na(e,r,l),t!==null&&(ln(t,e,l),tr(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=pn(),l=ta(n);l.tag=2,t!=null&&(l.callback=t),t=na(e,l,n),t!==null&&(ln(t,e,n),tr(t,e,n))}};function Dh(e,t,n,l,r,u,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,u,v):t.prototype&&t.prototype.isPureReactComponent?!Jl(n,l)||!Jl(r,u):!0}function $h(e,t,n,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,l),t.state!==e&&Wo.enqueueReplaceState(t,t.state,null)}function Ja(e,t){var n=t;if("ref"in t){n={};for(var l in t)l!=="ref"&&(n[l]=t[l])}if(e=e.defaultProps){n===t&&(n=C({},n));for(var r in e)n[r]===void 0&&(n[r]=e[r])}return n}function Bh(e){Bi(e)}function wh(e){console.error(e)}function Lh(e){Bi(e)}function Ju(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function Oh(e,t,n){try{var l=e.onCaughtError;l(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Po(e,t,n){return n=ta(n),n.tag=3,n.payload={element:null},n.callback=function(){Ju(e,t)},n}function Uh(e){return e=ta(e),e.tag=3,e}function _h(e,t,n,l){var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var u=l.value;e.payload=function(){return r(u)},e.callback=function(){Oh(t,n,l)}}var v=n.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){Oh(t,n,l),typeof r!="function"&&(ua===null?ua=new Set([this]):ua.add(this));var z=l.stack;this.componentDidCatch(l.value,{componentStack:z!==null?z:""})})}function Yg(e,t,n,l,r){if(n.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=n.alternate,t!==null&&pl(t,n,r,!0),n=fn.current,n!==null){switch(n.tag){case 31:case 13:return xn===null?rc():n.alternate===null&&st===0&&(st=3),n.flags&=-257,n.flags|=65536,n.lanes=r,l===Ou?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([l]):t.add(l),jf(e,l,r)),!1;case 22:return n.flags|=65536,l===Ou?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([l]):n.add(l)),jf(e,l,r)),!1}throw Error(o(435,n.tag))}return jf(e,l,r),rc(),!1}if(Ee)return t=fn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=r,l!==Js&&(e=Error(o(422),{cause:l}),jt(ft(e,n)))):(l!==Js&&(t=Error(o(423),{cause:l}),jt(ft(t,n))),e=e.current.alternate,e.flags|=65536,r&=-r,e.lanes|=r,l=ft(l,n),r=Po(e.stateNode,l,r),To(e,r),st!==4&&(st=2)),!1;var u=Error(o(520),{cause:l});if(u=ft(u,n),pr===null?pr=[u]:pr.push(u),st!==4&&(st=2),t===null)return!0;l=ft(l,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=r&-r,n.lanes|=e,e=Po(n.stateNode,l,e),To(n,e),!1;case 1:if(t=n.type,u=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(ua===null||!ua.has(u))))return n.flags|=65536,r&=-r,n.lanes|=r,r=Uh(r),_h(r,e,n,l),To(n,r),!1}n=n.return}while(n!==null);return!1}var ef=Error(o(461)),gt=!1;function Dt(e,t,n,l){t.child=e===null?Xd(t,null,n,l):Ka(t,e.child,n,l)}function Hh(e,t,n,l,r){n=n.render;var u=t.ref;if("ref"in l){var v={};for(var z in l)z!=="ref"&&(v[z]=l[z])}else v=l;return il(t),l=Lo(e,t,n,v,u,r),z=Oo(),e!==null&&!gt?(Uo(e,t,r),bl(e,t,r)):(Ee&&z&&Ks(t),t.flags|=1,Dt(e,t,l,r),t.child)}function Gh(e,t,n,l,r){if(e===null){var u=n.type;return typeof u=="function"&&!Li(u)&&u.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=u,qh(e,t,u,l,r)):(e=Xa(n.type,null,l,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!cf(e,r)){var v=u.memoizedProps;if(n=n.compare,n=n!==null?n:Jl,n(v,l)&&e.ref===t.ref)return bl(e,t,r)}return t.flags|=1,e=wn(u,l),e.ref=t.ref,e.return=t,t.child=e}function qh(e,t,n,l,r){if(e!==null){var u=e.memoizedProps;if(Jl(u,l)&&e.ref===t.ref)if(gt=!1,t.pendingProps=l=u,cf(e,r))(e.flags&131072)!==0&&(gt=!0);else return t.lanes=e.lanes,bl(e,t,r)}return tf(e,t,n,l,r)}function Xh(e,t,n,l){var r=l.children,u=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((t.flags&128)!==0){if(u=u!==null?u.baseLanes|n:n,e!==null){for(l=t.child=e.child,r=0;l!==null;)r=r|l.lanes|l.childLanes,l=l.sibling;l=r&~u}else l=0,t.child=null;return Yh(e,t,u,n,l)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&on(t,u!==null?u.cachePool:null),u!==null?Zd(t,u):Do(),Qd(t);else return l=t.lanes=536870912,Yh(e,t,u!==null?u.baseLanes|n:n,n,l)}else u!==null?(on(t,u.cachePool),Zd(t,u),aa(),t.memoizedState=null):(e!==null&&on(t,null),Do(),aa());return Dt(e,t,r,n),t.child}function ur(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Yh(e,t,n,l,r){var u=Va();return u=u===null?null:{parent:lt._currentValue,pool:u},t.memoizedState={baseLanes:n,cachePool:u},e!==null&&on(t,null),Do(),Qd(t),e!==null&&pl(e,t,l,!0),t.childLanes=r,null}function ku(e,t){return t=Wu({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Vh(e,t,n){return Ka(t,e.child,null,n),e=ku(t,t.pendingProps),e.flags|=2,dn(t),t.memoizedState=null,e}function Vg(e,t,n){var l=t.pendingProps,r=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Ee){if(l.mode==="hidden")return e=ku(t,l),t.lanes=536870912,ur(null,e);if(Bo(t),(e=ke)?(e=np(e,It),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:_n!==null?{id:kt,overflow:vn}:null,retryLane:536870912,hydrationErrors:null},n=Zs(e),n.return=t,t.child=n,xt=t,ke=null)):e=null,e===null)throw ll(t);return t.lanes=536870912,null}return ku(t,l)}var u=e.memoizedState;if(u!==null){var v=u.dehydrated;if(Bo(t),r)if(t.flags&256)t.flags&=-257,t=Vh(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(o(558));else if(gt||pl(e,t,n,!1),r=(n&e.childLanes)!==0,gt||r){if(l=Ie,l!==null&&(v=Kr(l,n),v!==0&&v!==u.retryLane))throw u.retryLane=v,Pn(e,v),ln(l,e,v),ef;rc(),t=Vh(e,t,n)}else e=u.treeContext,ke=Cn(v.nextSibling),xt=t,Ee=!0,nl=null,It=!1,e!==null&&Du(t,e),t=ku(t,l),t.flags|=4096;return t}return e=wn(e.child,{mode:l.mode,children:l.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Iu(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(o(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function tf(e,t,n,l,r){return il(t),n=Lo(e,t,n,l,void 0,r),l=Oo(),e!==null&&!gt?(Uo(e,t,r),bl(e,t,r)):(Ee&&l&&Ks(t),t.flags|=1,Dt(e,t,n,r),t.child)}function Zh(e,t,n,l,r,u){return il(t),t.updateQueue=null,n=Fd(t,l,n,r),Kd(e),l=Oo(),e!==null&&!gt?(Uo(e,t,u),bl(e,t,u)):(Ee&&l&&Ks(t),t.flags|=1,Dt(e,t,n,u),t.child)}function Qh(e,t,n,l,r){if(il(t),t.stateNode===null){var u=ml,v=n.contextType;typeof v=="object"&&v!==null&&(u=Ct(v)),u=new n(l,u),t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Wo,t.stateNode=u,u._reactInternals=t,u=t.stateNode,u.props=l,u.state=t.memoizedState,u.refs={},Mo(t),v=n.contextType,u.context=typeof v=="object"&&v!==null?Ct(v):ml,u.state=t.memoizedState,v=n.getDerivedStateFromProps,typeof v=="function"&&(Io(t,n,v,l),u.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(v=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),v!==u.state&&Wo.enqueueReplaceState(u,u.state,null),lr(t,l,u,r),nr(),u.state=t.memoizedState),typeof u.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){u=t.stateNode;var z=t.memoizedProps,R=Ja(n,z);u.props=R;var O=u.context,q=n.contextType;v=ml,typeof q=="object"&&q!==null&&(v=Ct(q));var Z=n.getDerivedStateFromProps;q=typeof Z=="function"||typeof u.getSnapshotBeforeUpdate=="function",z=t.pendingProps!==z,q||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(z||O!==v)&&$h(t,u,l,v),ea=!1;var _=t.memoizedState;u.state=_,lr(t,l,u,r),nr(),O=t.memoizedState,z||_!==O||ea?(typeof Z=="function"&&(Io(t,n,Z,l),O=t.memoizedState),(R=ea||Dh(t,n,R,l,_,O,v))?(q||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=O),u.props=l,u.state=O,u.context=v,l=R):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{u=t.stateNode,Ro(e,t),v=t.memoizedProps,q=Ja(n,v),u.props=q,Z=t.pendingProps,_=u.context,O=n.contextType,R=ml,typeof O=="object"&&O!==null&&(R=Ct(O)),z=n.getDerivedStateFromProps,(O=typeof z=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(v!==Z||_!==R)&&$h(t,u,l,R),ea=!1,_=t.memoizedState,u.state=_,lr(t,l,u,r),nr();var H=t.memoizedState;v!==Z||_!==H||ea||e!==null&&e.dependencies!==null&&_i(e.dependencies)?(typeof z=="function"&&(Io(t,n,z,l),H=t.memoizedState),(q=ea||Dh(t,n,q,l,_,H,R)||e!==null&&e.dependencies!==null&&_i(e.dependencies))?(O||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(l,H,R),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(l,H,R)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||v===e.memoizedProps&&_===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&_===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=H),u.props=l,u.state=H,u.context=R,l=q):(typeof u.componentDidUpdate!="function"||v===e.memoizedProps&&_===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&_===e.memoizedState||(t.flags|=1024),l=!1)}return u=l,Iu(e,t),l=(t.flags&128)!==0,u||l?(u=t.stateNode,n=l&&typeof n.getDerivedStateFromError!="function"?null:u.render(),t.flags|=1,e!==null&&l?(t.child=Ka(t,e.child,null,r),t.child=Ka(t,null,n,r)):Dt(e,t,n,r),t.memoizedState=u.state,e=t.child):e=bl(e,t,r),e}function Kh(e,t,n,l){return Nt(),t.flags|=256,Dt(e,t,n,l),t.child}var nf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function lf(e){return{baseLanes:e,cachePool:Od()}}function af(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=mn),e}function Fh(e,t,n){var l=t.pendingProps,r=!1,u=(t.flags&128)!==0,v;if((v=u)||(v=e!==null&&e.memoizedState===null?!1:(dt.current&2)!==0),v&&(r=!0,t.flags&=-129),v=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ee){if(r?la(t):aa(),(e=ke)?(e=np(e,It),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:_n!==null?{id:kt,overflow:vn}:null,retryLane:536870912,hydrationErrors:null},n=Zs(e),n.return=t,t.child=n,xt=t,ke=null)):e=null,e===null)throw ll(t);return qf(e)?t.lanes=32:t.lanes=536870912,null}var z=l.children;return l=l.fallback,r?(aa(),r=t.mode,z=Wu({mode:"hidden",children:z},r),l=el(l,r,n,null),z.return=t,l.return=t,z.sibling=l,t.child=z,l=t.child,l.memoizedState=lf(n),l.childLanes=af(e,v,n),t.memoizedState=nf,ur(null,l)):(la(t),sf(t,z))}var R=e.memoizedState;if(R!==null&&(z=R.dehydrated,z!==null)){if(u)t.flags&256?(la(t),t.flags&=-257,t=rf(e,t,n)):t.memoizedState!==null?(aa(),t.child=e.child,t.flags|=128,t=null):(aa(),z=l.fallback,r=t.mode,l=Wu({mode:"visible",children:l.children},r),z=el(z,r,n,null),z.flags|=2,l.return=t,z.return=t,l.sibling=z,t.child=l,Ka(t,e.child,null,n),l=t.child,l.memoizedState=lf(n),l.childLanes=af(e,v,n),t.memoizedState=nf,t=ur(null,l));else if(la(t),qf(z)){if(v=z.nextSibling&&z.nextSibling.dataset,v)var O=v.dgst;v=O,l=Error(o(419)),l.stack="",l.digest=v,jt({value:l,source:null,stack:null}),t=rf(e,t,n)}else if(gt||pl(e,t,n,!1),v=(n&e.childLanes)!==0,gt||v){if(v=Ie,v!==null&&(l=Kr(v,n),l!==0&&l!==R.retryLane))throw R.retryLane=l,Pn(e,l),ln(v,e,l),ef;Gf(z)||rc(),t=rf(e,t,n)}else Gf(z)?(t.flags|=192,t.child=e.child,t=null):(e=R.treeContext,ke=Cn(z.nextSibling),xt=t,Ee=!0,nl=null,It=!1,e!==null&&Du(t,e),t=sf(t,l.children),t.flags|=4096);return t}return r?(aa(),z=l.fallback,r=t.mode,R=e.child,O=R.sibling,l=wn(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,O!==null?z=wn(O,z):(z=el(z,r,n,null),z.flags|=2),z.return=t,l.return=t,l.sibling=z,t.child=l,ur(null,l),l=t.child,z=e.child.memoizedState,z===null?z=lf(n):(r=z.cachePool,r!==null?(R=lt._currentValue,r=r.parent!==R?{parent:R,pool:R}:r):r=Od(),z={baseLanes:z.baseLanes|n,cachePool:r}),l.memoizedState=z,l.childLanes=af(e,v,n),t.memoizedState=nf,ur(e.child,l)):(la(t),n=e.child,e=n.sibling,n=wn(n,{mode:"visible",children:l.children}),n.return=t,n.sibling=null,e!==null&&(v=t.deletions,v===null?(t.deletions=[e],t.flags|=16):v.push(e)),t.child=n,t.memoizedState=null,n)}function sf(e,t){return t=Wu({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Wu(e,t){return e=At(22,e,null,t),e.lanes=0,e}function rf(e,t,n){return Ka(t,e.child,null,n),e=sf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Jh(e,t,n){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),Is(e.return,t,n)}function uf(e,t,n,l,r,u){var v=e.memoizedState;v===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:n,tailMode:r,treeForkCount:u}:(v.isBackwards=t,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=n,v.tailMode=r,v.treeForkCount=u)}function kh(e,t,n){var l=t.pendingProps,r=l.revealOrder,u=l.tail;l=l.children;var v=dt.current,z=(v&2)!==0;if(z?(v=v&1|2,t.flags|=128):v&=1,J(dt,v),Dt(e,t,l,n),l=Ee?Un:0,!z&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Jh(e,n,t);else if(e.tag===19)Jh(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(r){case"forwards":for(n=t.child,r=null;n!==null;)e=n.alternate,e!==null&&Gu(e)===null&&(r=n),n=n.sibling;n=r,n===null?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),uf(t,!1,r,n,u,l);break;case"backwards":case"unstable_legacy-backwards":for(n=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&Gu(e)===null){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}uf(t,!0,n,null,u,l);break;case"together":uf(t,!1,null,null,void 0,l);break;default:t.memoizedState=null}return t.child}function bl(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ra|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(pl(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(o(153));if(t.child!==null){for(e=t.child,n=wn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=wn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function cf(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&_i(e)))}function Zg(e,t,n){switch(t.tag){case 3:ye(t,t.stateNode.containerInfo),al(t,lt,e.memoizedState.cache),Nt();break;case 27:case 5:We(t);break;case 4:ye(t,t.stateNode.containerInfo);break;case 10:al(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Bo(t),null;break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(la(t),t.flags|=128,null):(n&t.child.childLanes)!==0?Fh(e,t,n):(la(t),e=bl(e,t,n),e!==null?e.sibling:null);la(t);break;case 19:var r=(e.flags&128)!==0;if(l=(n&t.childLanes)!==0,l||(pl(e,t,n,!1),l=(n&t.childLanes)!==0),r){if(l)return kh(e,t,n);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),J(dt,dt.current),l)break;return null;case 22:return t.lanes=0,Xh(e,t,n,t.pendingProps);case 24:al(t,lt,e.memoizedState.cache)}return bl(e,t,n)}function Ih(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)gt=!0;else{if(!cf(e,n)&&(t.flags&128)===0)return gt=!1,Zg(e,t,n);gt=(e.flags&131072)!==0}else gt=!1,Ee&&(t.flags&1048576)!==0&&Nu(t,Un,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(e=Za(t.elementType),t.type=e,typeof e=="function")Li(e)?(l=Ja(e,l),t.tag=1,t=Qh(null,t,e,l,n)):(t.tag=0,t=tf(null,t,e,l,n));else{if(e!=null){var r=e.$$typeof;if(r===Ae){t.tag=11,t=Hh(null,t,e,l,n);break e}else if(r===X){t.tag=14,t=Gh(null,t,e,l,n);break e}}throw t=Be(e)||e,Error(o(306,t,""))}}return t;case 0:return tf(e,t,t.type,t.pendingProps,n);case 1:return l=t.type,r=Ja(l,t.pendingProps),Qh(e,t,l,r,n);case 3:e:{if(ye(t,t.stateNode.containerInfo),e===null)throw Error(o(387));l=t.pendingProps;var u=t.memoizedState;r=u.element,Ro(e,t),lr(t,l,null,n);var v=t.memoizedState;if(l=v.cache,al(t,lt,l),l!==u.cache&&Ya(t,[lt],n,!0),nr(),l=v.element,u.isDehydrated)if(u={element:l,isDehydrated:!1,cache:v.cache},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){t=Kh(e,t,l,n);break e}else if(l!==r){r=ft(Error(o(424)),t),jt(r),t=Kh(e,t,l,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ke=Cn(e.firstChild),xt=t,Ee=!0,nl=null,It=!0,n=Xd(t,null,l,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Nt(),l===r){t=bl(e,t,n);break e}Dt(e,t,l,n)}t=t.child}return t;case 26:return Iu(e,t),e===null?(n=up(t.type,null,t.pendingProps,null))?t.memoizedState=n:Ee||(n=t.type,e=t.pendingProps,l=mc(ce.current).createElement(n),l[St]=t,l[wt]=e,$t(l,n,e),mt(l),t.stateNode=l):t.memoizedState=up(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return We(t),e===null&&Ee&&(l=t.stateNode=ip(t.type,t.pendingProps,ce.current),xt=t,It=!0,r=ke,da(t.type)?(Xf=r,ke=Cn(l.firstChild)):ke=r),Dt(e,t,t.pendingProps.children,n),Iu(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ee&&((r=l=ke)&&(l=x0(l,t.type,t.pendingProps,It),l!==null?(t.stateNode=l,xt=t,ke=Cn(l.firstChild),It=!1,r=!0):r=!1),r||ll(t)),We(t),r=t.type,u=t.pendingProps,v=e!==null?e.memoizedProps:null,l=u.children,Uf(r,u)?l=null:v!==null&&Uf(r,v)&&(t.flags|=32),t.memoizedState!==null&&(r=Lo(e,t,Og,null,null,n),zr._currentValue=r),Iu(e,t),Dt(e,t,l,n),t.child;case 6:return e===null&&Ee&&((e=n=ke)&&(n=C0(n,t.pendingProps,It),n!==null?(t.stateNode=n,xt=t,ke=null,e=!0):e=!1),e||ll(t)),null;case 13:return Fh(e,t,n);case 4:return ye(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=Ka(t,null,l,n):Dt(e,t,l,n),t.child;case 11:return Hh(e,t,t.type,t.pendingProps,n);case 7:return Dt(e,t,t.pendingProps,n),t.child;case 8:return Dt(e,t,t.pendingProps.children,n),t.child;case 12:return Dt(e,t,t.pendingProps.children,n),t.child;case 10:return l=t.pendingProps,al(t,t.type,l.value),Dt(e,t,l.children,n),t.child;case 9:return r=t.type._context,l=t.pendingProps.children,il(t),r=Ct(r),l=l(r),t.flags|=1,Dt(e,t,l,n),t.child;case 14:return Gh(e,t,t.type,t.pendingProps,n);case 15:return qh(e,t,t.type,t.pendingProps,n);case 19:return kh(e,t,n);case 31:return Vg(e,t,n);case 22:return Xh(e,t,n,t.pendingProps);case 24:return il(t),l=Ct(lt),e===null?(r=Va(),r===null&&(r=Ie,u=s(),r.pooledCache=u,u.refCount++,u!==null&&(r.pooledCacheLanes|=n),r=u),t.memoizedState={parent:l,cache:r},Mo(t),al(t,lt,r)):((e.lanes&n)!==0&&(Ro(e,t),lr(t,null,null,n),nr()),r=e.memoizedState,u=t.memoizedState,r.parent!==l?(r={parent:l,cache:l},t.memoizedState=r,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=r),al(t,lt,l)):(l=u.cache,al(t,lt,l),l!==r.cache&&Ya(t,[lt],n,!0))),Dt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function Sl(e){e.flags|=4}function of(e,t,n,l,r){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(r&335544128)===r)if(e.stateNode.complete)e.flags|=8192;else if(Am())e.flags|=8192;else throw Qa=Ou,Eo}else e.flags&=-16777217}function Wh(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!hp(t))if(Am())e.flags|=8192;else throw Qa=Ou,Eo}function Pu(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Vr():536870912,e.lanes|=t,ki|=t)}function cr(e,t){if(!Ee)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Pe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,l=0;if(t)for(var r=e.child;r!==null;)n|=r.lanes|r.childLanes,l|=r.subtreeFlags&65011712,l|=r.flags&65011712,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)n|=r.lanes|r.childLanes,l|=r.subtreeFlags,l|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=l,e.childLanes=n,t}function Qg(e,t,n){var l=t.pendingProps;switch(Fs(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pe(t),null;case 1:return Pe(t),null;case 3:return n=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),cn(lt),Te(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Gn(t)?Sl(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,ks())),Pe(t),null;case 26:var r=t.type,u=t.memoizedState;return e===null?(Sl(t),u!==null?(Pe(t),Wh(t,u)):(Pe(t),of(t,r,null,l,n))):u?u!==e.memoizedState?(Sl(t),Pe(t),Wh(t,u)):(Pe(t),t.flags&=-16777217):(e=e.memoizedProps,e!==l&&Sl(t),Pe(t),of(t,r,e,l,n)),null;case 27:if(Rt(t),n=ce.current,r=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&Sl(t);else{if(!l){if(t.stateNode===null)throw Error(o(166));return Pe(t),null}e=ue.current,Gn(t)?$u(t):(e=ip(r,l,n),t.stateNode=e,Sl(t))}return Pe(t),null;case 5:if(Rt(t),r=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&Sl(t);else{if(!l){if(t.stateNode===null)throw Error(o(166));return Pe(t),null}if(u=ue.current,Gn(t))$u(t);else{var v=mc(ce.current);switch(u){case 1:u=v.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:u=v.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":u=v.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":u=v.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":u=v.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?u.multiple=!0:l.size&&(u.size=l.size);break;default:u=typeof l.is=="string"?v.createElement(r,{is:l.is}):v.createElement(r)}}u[St]=t,u[wt]=l;e:for(v=t.child;v!==null;){if(v.tag===5||v.tag===6)u.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===t)break e;for(;v.sibling===null;){if(v.return===null||v.return===t)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}t.stateNode=u;e:switch($t(u,r,l),r){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Sl(t)}}return Pe(t),of(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&Sl(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(o(166));if(e=ce.current,Gn(t)){if(e=t.stateNode,n=t.memoizedProps,l=null,r=xt,r!==null)switch(r.tag){case 27:case 5:l=r.memoizedProps}e[St]=t,e=!!(e.nodeValue===n||l!==null&&l.suppressHydrationWarning===!0||Fm(e.nodeValue,n)),e||ll(t,!0)}else e=mc(e).createTextNode(l),e[St]=t,t.stateNode=e}return Pe(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(l=Gn(t),n!==null){if(e===null){if(!l)throw Error(o(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(557));e[St]=t}else Nt(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Pe(t),e=!1}else n=ks(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(dn(t),t):(dn(t),null);if((t.flags&128)!==0)throw Error(o(558))}return Pe(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(r=Gn(t),l!==null&&l.dehydrated!==null){if(e===null){if(!r)throw Error(o(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(o(317));r[St]=t}else Nt(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Pe(t),r=!1}else r=ks(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return t.flags&256?(dn(t),t):(dn(t),null)}return dn(t),(t.flags&128)!==0?(t.lanes=n,t):(n=l!==null,e=e!==null&&e.memoizedState!==null,n&&(l=t.child,r=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(r=l.alternate.memoizedState.cachePool.pool),u=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(u=l.memoizedState.cachePool.pool),u!==r&&(l.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Pu(t,t.updateQueue),Pe(t),null);case 4:return Te(),e===null&&$f(t.stateNode.containerInfo),Pe(t),null;case 10:return cn(t.type),Pe(t),null;case 19:if(Je(dt),l=t.memoizedState,l===null)return Pe(t),null;if(r=(t.flags&128)!==0,u=l.rendering,u===null)if(r)cr(l,!1);else{if(st!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(u=Gu(e),u!==null){for(t.flags|=128,cr(l,!1),e=u.updateQueue,t.updateQueue=e,Pu(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Vs(n,e),n=n.sibling;return J(dt,dt.current&1|2),Ee&&Hn(t,l.treeForkCount),t.child}e=e.sibling}l.tail!==null&&Ht()>ac&&(t.flags|=128,r=!0,cr(l,!1),t.lanes=4194304)}else{if(!r)if(e=Gu(u),e!==null){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,Pu(t,e),cr(l,!0),l.tail===null&&l.tailMode==="hidden"&&!u.alternate&&!Ee)return Pe(t),null}else 2*Ht()-l.renderingStartTime>ac&&n!==536870912&&(t.flags|=128,r=!0,cr(l,!1),t.lanes=4194304);l.isBackwards?(u.sibling=t.child,t.child=u):(e=l.last,e!==null?e.sibling=u:t.child=u,l.last=u)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Ht(),e.sibling=null,n=dt.current,J(dt,r?n&1|2:n&1),Ee&&Hn(t,l.treeForkCount),e):(Pe(t),null);case 22:case 23:return dn(t),$o(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(n&536870912)!==0&&(t.flags&128)===0&&(Pe(t),t.subtreeFlags&6&&(t.flags|=8192)):Pe(t),n=t.updateQueue,n!==null&&Pu(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==n&&(t.flags|=2048),e!==null&&Je(Sn),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),cn(lt),Pe(t),null;case 25:return null;case 30:return null}throw Error(o(156,t.tag))}function Kg(e,t){switch(Fs(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return cn(lt),Te(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Rt(t),null;case 31:if(t.memoizedState!==null){if(dn(t),t.alternate===null)throw Error(o(340));Nt()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(dn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(o(340));Nt()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Je(dt),null;case 4:return Te(),null;case 10:return cn(t.type),null;case 22:case 23:return dn(t),$o(),e!==null&&Je(Sn),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return cn(lt),null;case 25:return null;default:return null}}function Ph(e,t){switch(Fs(t),t.tag){case 3:cn(lt),Te();break;case 26:case 27:case 5:Rt(t);break;case 4:Te();break;case 31:t.memoizedState!==null&&dn(t);break;case 13:dn(t);break;case 19:Je(dt);break;case 10:cn(t.type);break;case 22:case 23:dn(t),$o(),e!==null&&Je(Sn);break;case 24:cn(lt)}}function or(e,t){try{var n=t.updateQueue,l=n!==null?n.lastEffect:null;if(l!==null){var r=l.next;n=r;do{if((n.tag&e)===e){l=void 0;var u=n.create,v=n.inst;l=u(),v.destroy=l}n=n.next}while(n!==r)}}catch(z){Xe(t,t.return,z)}}function ia(e,t,n){try{var l=t.updateQueue,r=l!==null?l.lastEffect:null;if(r!==null){var u=r.next;l=u;do{if((l.tag&e)===e){var v=l.inst,z=v.destroy;if(z!==void 0){v.destroy=void 0,r=t;var R=n,O=z;try{O()}catch(q){Xe(r,R,q)}}}l=l.next}while(l!==u)}}catch(q){Xe(t,t.return,q)}}function em(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Vd(t,n)}catch(l){Xe(e,e.return,l)}}}function tm(e,t,n){n.props=Ja(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(l){Xe(e,t,l)}}function fr(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof n=="function"?e.refCleanup=n(l):n.current=l}}catch(r){Xe(e,t,r)}}function sl(e,t){var n=e.ref,l=e.refCleanup;if(n!==null)if(typeof l=="function")try{l()}catch(r){Xe(e,t,r)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(r){Xe(e,t,r)}else n.current=null}function nm(e){var t=e.type,n=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&l.focus();break e;case"img":n.src?l.src=n.src:n.srcSet&&(l.srcset=n.srcSet)}}catch(r){Xe(e,e.return,r)}}function ff(e,t,n){try{var l=e.stateNode;p0(l,e.type,n,t),l[wt]=t}catch(r){Xe(e,e.return,r)}}function lm(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&da(e.type)||e.tag===4}function df(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||lm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&da(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function hf(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=$n));else if(l!==4&&(l===27&&da(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(hf(e,t,n),e=e.sibling;e!==null;)hf(e,t,n),e=e.sibling}function ec(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(l!==4&&(l===27&&da(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(ec(e,t,n),e=e.sibling;e!==null;)ec(e,t,n),e=e.sibling}function am(e){var t=e.stateNode,n=e.memoizedProps;try{for(var l=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);$t(t,l,n),t[St]=e,t[wt]=n}catch(u){Xe(e,e.return,u)}}var xl=!1,yt=!1,mf=!1,im=typeof WeakSet=="function"?WeakSet:Set,Et=null;function Fg(e,t){if(e=e.containerInfo,Lf=xc,e=Ti(e),La(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var l=n.getSelection&&n.getSelection();if(l&&l.rangeCount!==0){n=l.anchorNode;var r=l.anchorOffset,u=l.focusNode;l=l.focusOffset;try{n.nodeType,u.nodeType}catch{n=null;break e}var v=0,z=-1,R=-1,O=0,q=0,Z=e,_=null;t:for(;;){for(var H;Z!==n||r!==0&&Z.nodeType!==3||(z=v+r),Z!==u||l!==0&&Z.nodeType!==3||(R=v+l),Z.nodeType===3&&(v+=Z.nodeValue.length),(H=Z.firstChild)!==null;)_=Z,Z=H;for(;;){if(Z===e)break t;if(_===n&&++O===r&&(z=v),_===u&&++q===l&&(R=v),(H=Z.nextSibling)!==null)break;Z=_,_=Z.parentNode}Z=H}n=z===-1||R===-1?null:{start:z,end:R}}else n=null}n=n||{start:0,end:0}}else n=null;for(Of={focusedElem:e,selectionRange:n},xc=!1,Et=t;Et!==null;)if(t=Et,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Et=e;else for(;Et!==null;){switch(t=Et,u=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)r=e[n],r.ref.impl=r.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&u!==null){e=void 0,n=t,r=u.memoizedProps,u=u.memoizedState,l=n.stateNode;try{var ne=Ja(n.type,r);e=l.getSnapshotBeforeUpdate(ne,u),l.__reactInternalSnapshotBeforeUpdate=e}catch(de){Xe(n,n.return,de)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Hf(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Hf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(o(163))}if(e=t.sibling,e!==null){e.return=t.return,Et=e;break}Et=t.return}}function sm(e,t,n){var l=n.flags;switch(n.tag){case 0:case 11:case 15:zl(e,n),l&4&&or(5,n);break;case 1:if(zl(e,n),l&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(v){Xe(n,n.return,v)}else{var r=Ja(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(v){Xe(n,n.return,v)}}l&64&&em(n),l&512&&fr(n,n.return);break;case 3:if(zl(e,n),l&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Vd(e,t)}catch(v){Xe(n,n.return,v)}}break;case 27:t===null&&l&4&&am(n);case 26:case 5:zl(e,n),t===null&&l&4&&nm(n),l&512&&fr(n,n.return);break;case 12:zl(e,n);break;case 31:zl(e,n),l&4&&cm(e,n);break;case 13:zl(e,n),l&4&&om(e,n),l&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=l0.bind(null,n),z0(e,n))));break;case 22:if(l=n.memoizedState!==null||xl,!l){t=t!==null&&t.memoizedState!==null||yt,r=xl;var u=yt;xl=l,(yt=t)&&!u?Al(e,n,(n.subtreeFlags&8772)!==0):zl(e,n),xl=r,yt=u}break;case 30:break;default:zl(e,n)}}function rm(e){var t=e.alternate;t!==null&&(e.alternate=null,rm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&As(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var tt=null,Pt=!1;function Cl(e,t,n){for(n=n.child;n!==null;)um(e,t,n),n=n.sibling}function um(e,t,n){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(Ll,n)}catch{}switch(n.tag){case 26:yt||sl(n,t),Cl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:yt||sl(n,t);var l=tt,r=Pt;da(n.type)&&(tt=n.stateNode,Pt=!1),Cl(e,t,n),Sr(n.stateNode),tt=l,Pt=r;break;case 5:yt||sl(n,t);case 6:if(l=tt,r=Pt,tt=null,Cl(e,t,n),tt=l,Pt=r,tt!==null)if(Pt)try{(tt.nodeType===9?tt.body:tt.nodeName==="HTML"?tt.ownerDocument.body:tt).removeChild(n.stateNode)}catch(u){Xe(n,t,u)}else try{tt.removeChild(n.stateNode)}catch(u){Xe(n,t,u)}break;case 18:tt!==null&&(Pt?(e=tt,ep(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),as(e)):ep(tt,n.stateNode));break;case 4:l=tt,r=Pt,tt=n.stateNode.containerInfo,Pt=!0,Cl(e,t,n),tt=l,Pt=r;break;case 0:case 11:case 14:case 15:ia(2,n,t),yt||ia(4,n,t),Cl(e,t,n);break;case 1:yt||(sl(n,t),l=n.stateNode,typeof l.componentWillUnmount=="function"&&tm(n,t,l)),Cl(e,t,n);break;case 21:Cl(e,t,n);break;case 22:yt=(l=yt)||n.memoizedState!==null,Cl(e,t,n),yt=l;break;default:Cl(e,t,n)}}function cm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{as(e)}catch(n){Xe(t,t.return,n)}}}function om(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{as(e)}catch(n){Xe(t,t.return,n)}}function Jg(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new im),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new im),t;default:throw Error(o(435,e.tag))}}function tc(e,t){var n=Jg(e);t.forEach(function(l){if(!n.has(l)){n.add(l);var r=a0.bind(null,e,l);l.then(r,r)}})}function en(e,t){var n=t.deletions;if(n!==null)for(var l=0;l<n.length;l++){var r=n[l],u=e,v=t,z=v;e:for(;z!==null;){switch(z.tag){case 27:if(da(z.type)){tt=z.stateNode,Pt=!1;break e}break;case 5:tt=z.stateNode,Pt=!1;break e;case 3:case 4:tt=z.stateNode.containerInfo,Pt=!0;break e}z=z.return}if(tt===null)throw Error(o(160));um(u,v,r),tt=null,Pt=!1,u=r.alternate,u!==null&&(u.return=null),r.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)fm(t,e),t=t.sibling}var qn=null;function fm(e,t){var n=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:en(t,e),tn(e),l&4&&(ia(3,e,e.return),or(3,e),ia(5,e,e.return));break;case 1:en(t,e),tn(e),l&512&&(yt||n===null||sl(n,n.return)),l&64&&xl&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?l:n.concat(l))));break;case 26:var r=qn;if(en(t,e),tn(e),l&512&&(yt||n===null||sl(n,n.return)),l&4){var u=n!==null?n.memoizedState:null;if(l=e.memoizedState,n===null)if(l===null)if(e.stateNode===null){e:{l=e.type,n=e.memoizedProps,r=r.ownerDocument||r;t:switch(l){case"title":u=r.getElementsByTagName("title")[0],(!u||u[Ra]||u[St]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=r.createElement(l),r.head.insertBefore(u,r.querySelector("head > title"))),$t(u,l,n),u[St]=e,mt(u),l=u;break e;case"link":var v=fp("link","href",r).get(l+(n.href||""));if(v){for(var z=0;z<v.length;z++)if(u=v[z],u.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&u.getAttribute("rel")===(n.rel==null?null:n.rel)&&u.getAttribute("title")===(n.title==null?null:n.title)&&u.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){v.splice(z,1);break t}}u=r.createElement(l),$t(u,l,n),r.head.appendChild(u);break;case"meta":if(v=fp("meta","content",r).get(l+(n.content||""))){for(z=0;z<v.length;z++)if(u=v[z],u.getAttribute("content")===(n.content==null?null:""+n.content)&&u.getAttribute("name")===(n.name==null?null:n.name)&&u.getAttribute("property")===(n.property==null?null:n.property)&&u.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&u.getAttribute("charset")===(n.charSet==null?null:n.charSet)){v.splice(z,1);break t}}u=r.createElement(l),$t(u,l,n),r.head.appendChild(u);break;default:throw Error(o(468,l))}u[St]=e,mt(u),l=u}e.stateNode=l}else dp(r,e.type,e.stateNode);else e.stateNode=op(r,l,e.memoizedProps);else u!==l?(u===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):u.count--,l===null?dp(r,e.type,e.stateNode):op(r,l,e.memoizedProps)):l===null&&e.stateNode!==null&&ff(e,e.memoizedProps,n.memoizedProps)}break;case 27:en(t,e),tn(e),l&512&&(yt||n===null||sl(n,n.return)),n!==null&&l&4&&ff(e,e.memoizedProps,n.memoizedProps);break;case 5:if(en(t,e),tn(e),l&512&&(yt||n===null||sl(n,n.return)),e.flags&32){r=e.stateNode;try{Vl(r,"")}catch(ne){Xe(e,e.return,ne)}}l&4&&e.stateNode!=null&&(r=e.memoizedProps,ff(e,r,n!==null?n.memoizedProps:r)),l&1024&&(mf=!0);break;case 6:if(en(t,e),tn(e),l&4){if(e.stateNode===null)throw Error(o(162));l=e.memoizedProps,n=e.stateNode;try{n.nodeValue=l}catch(ne){Xe(e,e.return,ne)}}break;case 3:if(yc=null,r=qn,qn=pc(t.containerInfo),en(t,e),qn=r,tn(e),l&4&&n!==null&&n.memoizedState.isDehydrated)try{as(t.containerInfo)}catch(ne){Xe(e,e.return,ne)}mf&&(mf=!1,dm(e));break;case 4:l=qn,qn=pc(e.stateNode.containerInfo),en(t,e),tn(e),qn=l;break;case 12:en(t,e),tn(e);break;case 31:en(t,e),tn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,tc(e,l)));break;case 13:en(t,e),tn(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(lc=Ht()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,tc(e,l)));break;case 22:r=e.memoizedState!==null;var R=n!==null&&n.memoizedState!==null,O=xl,q=yt;if(xl=O||r,yt=q||R,en(t,e),yt=q,xl=O,tn(e),l&8192)e:for(t=e.stateNode,t._visibility=r?t._visibility&-2:t._visibility|1,r&&(n===null||R||xl||yt||ka(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){R=n=t;try{if(u=R.stateNode,r)v=u.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{z=R.stateNode;var Z=R.memoizedProps.style,_=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;z.style.display=_==null||typeof _=="boolean"?"":(""+_).trim()}}catch(ne){Xe(R,R.return,ne)}}}else if(t.tag===6){if(n===null){R=t;try{R.stateNode.nodeValue=r?"":R.memoizedProps}catch(ne){Xe(R,R.return,ne)}}}else if(t.tag===18){if(n===null){R=t;try{var H=R.stateNode;r?tp(H,!0):tp(R.stateNode,!1)}catch(ne){Xe(R,R.return,ne)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(n=l.retryQueue,n!==null&&(l.retryQueue=null,tc(e,n))));break;case 19:en(t,e),tn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,tc(e,l)));break;case 30:break;case 21:break;default:en(t,e),tn(e)}}function tn(e){var t=e.flags;if(t&2){try{for(var n,l=e.return;l!==null;){if(lm(l)){n=l;break}l=l.return}if(n==null)throw Error(o(160));switch(n.tag){case 27:var r=n.stateNode,u=df(e);ec(e,u,r);break;case 5:var v=n.stateNode;n.flags&32&&(Vl(v,""),n.flags&=-33);var z=df(e);ec(e,z,v);break;case 3:case 4:var R=n.stateNode.containerInfo,O=df(e);hf(e,O,R);break;default:throw Error(o(161))}}catch(q){Xe(e,e.return,q)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function dm(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;dm(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function zl(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)sm(e,t.alternate,t),t=t.sibling}function ka(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ia(4,t,t.return),ka(t);break;case 1:sl(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&tm(t,t.return,n),ka(t);break;case 27:Sr(t.stateNode);case 26:case 5:sl(t,t.return),ka(t);break;case 22:t.memoizedState===null&&ka(t);break;case 30:ka(t);break;default:ka(t)}e=e.sibling}}function Al(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,r=e,u=t,v=u.flags;switch(u.tag){case 0:case 11:case 15:Al(r,u,n),or(4,u);break;case 1:if(Al(r,u,n),l=u,r=l.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(O){Xe(l,l.return,O)}if(l=u,r=l.updateQueue,r!==null){var z=l.stateNode;try{var R=r.shared.hiddenCallbacks;if(R!==null)for(r.shared.hiddenCallbacks=null,r=0;r<R.length;r++)Yd(R[r],z)}catch(O){Xe(l,l.return,O)}}n&&v&64&&em(u),fr(u,u.return);break;case 27:am(u);case 26:case 5:Al(r,u,n),n&&l===null&&v&4&&nm(u),fr(u,u.return);break;case 12:Al(r,u,n);break;case 31:Al(r,u,n),n&&v&4&&cm(r,u);break;case 13:Al(r,u,n),n&&v&4&&om(r,u);break;case 22:u.memoizedState===null&&Al(r,u,n),fr(u,u.return);break;case 30:break;default:Al(r,u,n)}t=t.sibling}}function pf(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&y(n))}function gf(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&y(e))}function Xn(e,t,n,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)hm(e,t,n,l),t=t.sibling}function hm(e,t,n,l){var r=t.flags;switch(t.tag){case 0:case 11:case 15:Xn(e,t,n,l),r&2048&&or(9,t);break;case 1:Xn(e,t,n,l);break;case 3:Xn(e,t,n,l),r&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&y(e)));break;case 12:if(r&2048){Xn(e,t,n,l),e=t.stateNode;try{var u=t.memoizedProps,v=u.id,z=u.onPostCommit;typeof z=="function"&&z(v,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){Xe(t,t.return,R)}}else Xn(e,t,n,l);break;case 31:Xn(e,t,n,l);break;case 13:Xn(e,t,n,l);break;case 23:break;case 22:u=t.stateNode,v=t.alternate,t.memoizedState!==null?u._visibility&2?Xn(e,t,n,l):dr(e,t):u._visibility&2?Xn(e,t,n,l):(u._visibility|=2,Ki(e,t,n,l,(t.subtreeFlags&10256)!==0||!1)),r&2048&&pf(v,t);break;case 24:Xn(e,t,n,l),r&2048&&gf(t.alternate,t);break;default:Xn(e,t,n,l)}}function Ki(e,t,n,l,r){for(r=r&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var u=e,v=t,z=n,R=l,O=v.flags;switch(v.tag){case 0:case 11:case 15:Ki(u,v,z,R,r),or(8,v);break;case 23:break;case 22:var q=v.stateNode;v.memoizedState!==null?q._visibility&2?Ki(u,v,z,R,r):dr(u,v):(q._visibility|=2,Ki(u,v,z,R,r)),r&&O&2048&&pf(v.alternate,v);break;case 24:Ki(u,v,z,R,r),r&&O&2048&&gf(v.alternate,v);break;default:Ki(u,v,z,R,r)}t=t.sibling}}function dr(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,l=t,r=l.flags;switch(l.tag){case 22:dr(n,l),r&2048&&pf(l.alternate,l);break;case 24:dr(n,l),r&2048&&gf(l.alternate,l);break;default:dr(n,l)}t=t.sibling}}var hr=8192;function Fi(e,t,n){if(e.subtreeFlags&hr)for(e=e.child;e!==null;)mm(e,t,n),e=e.sibling}function mm(e,t,n){switch(e.tag){case 26:Fi(e,t,n),e.flags&hr&&e.memoizedState!==null&&L0(n,qn,e.memoizedState,e.memoizedProps);break;case 5:Fi(e,t,n);break;case 3:case 4:var l=qn;qn=pc(e.stateNode.containerInfo),Fi(e,t,n),qn=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=hr,hr=16777216,Fi(e,t,n),hr=l):Fi(e,t,n));break;default:Fi(e,t,n)}}function pm(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function mr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];Et=l,ym(l,e)}pm(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)gm(e),e=e.sibling}function gm(e){switch(e.tag){case 0:case 11:case 15:mr(e),e.flags&2048&&ia(9,e,e.return);break;case 3:mr(e);break;case 12:mr(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,nc(e)):mr(e);break;default:mr(e)}}function nc(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];Et=l,ym(l,e)}pm(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:ia(8,t,t.return),nc(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,nc(t));break;default:nc(t)}e=e.sibling}}function ym(e,t){for(;Et!==null;){var n=Et;switch(n.tag){case 0:case 11:case 15:ia(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var l=n.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:y(n.memoizedState.cache)}if(l=n.child,l!==null)l.return=n,Et=l;else e:for(n=e;Et!==null;){l=Et;var r=l.sibling,u=l.return;if(rm(l),l===n){Et=null;break e}if(r!==null){r.return=u,Et=r;break e}Et=u}}}var kg={getCacheForType:function(e){var t=Ct(lt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Ct(lt).controller.signal}},Ig=typeof WeakMap=="function"?WeakMap:Map,Ge=0,Ie=null,Me=null,De=0,qe=0,hn=null,sa=!1,Ji=!1,yf=!1,jl=0,st=0,ra=0,Ia=0,vf=0,mn=0,ki=0,pr=null,nn=null,bf=!1,lc=0,vm=0,ac=1/0,ic=null,ua=null,zt=0,ca=null,Ii=null,El=0,Sf=0,xf=null,bm=null,gr=0,Cf=null;function pn(){return(Ge&2)!==0&&De!==0?De&-De:ee.T!==null?Rf():Fr()}function Sm(){if(mn===0)if((De&536870912)===0||Ee){var e=hi;hi<<=1,(hi&3932160)===0&&(hi=262144),mn=e}else mn=536870912;return e=fn.current,e!==null&&(e.flags|=32),mn}function ln(e,t,n){(e===Ie&&(qe===2||qe===9)||e.cancelPendingCommit!==null)&&(Wi(e,0),oa(e,De,mn,!1)),Ma(e,n),((Ge&2)===0||e!==Ie)&&(e===Ie&&((Ge&2)===0&&(Ia|=n),st===4&&oa(e,De,mn,!1)),rl(e))}function xm(e,t,n){if((Ge&6)!==0)throw Error(o(327));var l=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Ea(e,t),r=l?e0(e,t):Af(e,t,!0),u=l;do{if(r===0){Ji&&!l&&oa(e,t,0,!1);break}else{if(n=e.current.alternate,u&&!Wg(n)){r=Af(e,t,!1),u=!1;continue}if(r===2){if(u=t,e.errorRecoveryDisabledLanes&u)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){t=v;e:{var z=e;r=pr;var R=z.current.memoizedState.isDehydrated;if(R&&(Wi(z,v).flags|=256),v=Af(z,v,!1),v!==2){if(yf&&!R){z.errorRecoveryDisabledLanes|=u,Ia|=u,r=4;break e}u=nn,nn=r,u!==null&&(nn===null?nn=u:nn.push.apply(nn,u))}r=v}if(u=!1,r!==2)continue}}if(r===1){Wi(e,0),oa(e,t,0,!0);break}e:{switch(l=e,u=r,u){case 0:case 1:throw Error(o(345));case 4:if((t&4194048)!==t)break;case 6:oa(l,t,mn,!sa);break e;case 2:nn=null;break;case 3:case 5:break;default:throw Error(o(329))}if((t&62914560)===t&&(r=lc+300-Ht(),10<r)){if(oa(l,t,mn,!sa),pi(l,0,!0)!==0)break e;El=t,l.timeoutHandle=Wm(Cm.bind(null,l,n,nn,ic,bf,t,mn,Ia,ki,sa,u,"Throttled",-0,0),r);break e}Cm(l,n,nn,ic,bf,t,mn,Ia,ki,sa,u,null,-0,0)}}break}while(!0);rl(e)}function Cm(e,t,n,l,r,u,v,z,R,O,q,Z,_,H){if(e.timeoutHandle=-1,Z=t.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:$n},mm(t,u,Z);var ne=(u&62914560)===u?lc-Ht():(u&4194048)===u?vm-Ht():0;if(ne=O0(Z,ne),ne!==null){El=u,e.cancelPendingCommit=ne(Nm.bind(null,e,t,u,n,l,r,v,z,R,q,Z,null,_,H)),oa(e,u,v,!O);return}}Nm(e,t,u,n,l,r,v,z,R)}function Wg(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var l=0;l<n.length;l++){var r=n[l],u=r.getSnapshot;r=r.value;try{if(!Yt(u(),r))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function oa(e,t,n,l){t&=~vf,t&=~Ia,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var r=t;0<r;){var u=31-qt(r),v=1<<u;l[u]=-1,r&=~v}n!==0&&Zr(e,n,t)}function sc(){return(Ge&6)===0?(yr(0),!1):!0}function zf(){if(Me!==null){if(qe===0)var e=Me.return;else e=Me,Wt=bn=null,_o(e),Xi=null,Ps=0,e=Me;for(;e!==null;)Ph(e.alternate,e),e=e.return;Me=null}}function Wi(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,v0(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),El=0,zf(),Ie=e,Me=n=wn(e.current,null),De=t,qe=0,hn=null,sa=!1,Ji=Ea(e,t),yf=!1,ki=mn=vf=Ia=ra=st=0,nn=pr=null,bf=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var r=31-qt(l),u=1<<r;t|=e[r],l&=~u}return jl=t,Ga(),n}function zm(e,t){xe=null,ee.H=rr,t===qi||t===Lu?(t=Hd(),qe=3):t===Eo?(t=Hd(),qe=4):qe=t===ef?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,hn=t,Me===null&&(st=1,Ju(e,ft(t,e.current)))}function Am(){var e=fn.current;return e===null?!0:(De&4194048)===De?xn===null:(De&62914560)===De||(De&536870912)!==0?e===xn:!1}function jm(){var e=ee.H;return ee.H=rr,e===null?rr:e}function Em(){var e=ee.A;return ee.A=kg,e}function rc(){st=4,sa||(De&4194048)!==De&&fn.current!==null||(Ji=!0),(ra&134217727)===0&&(Ia&134217727)===0||Ie===null||oa(Ie,De,mn,!1)}function Af(e,t,n){var l=Ge;Ge|=2;var r=jm(),u=Em();(Ie!==e||De!==t)&&(ic=null,Wi(e,t)),t=!1;var v=st;e:do try{if(qe!==0&&Me!==null){var z=Me,R=hn;switch(qe){case 8:zf(),v=6;break e;case 3:case 2:case 9:case 6:fn.current===null&&(t=!0);var O=qe;if(qe=0,hn=null,Pi(e,z,R,O),n&&Ji){v=0;break e}break;default:O=qe,qe=0,hn=null,Pi(e,z,R,O)}}Pg(),v=st;break}catch(q){zm(e,q)}while(!0);return t&&e.shellSuspendCounter++,Wt=bn=null,Ge=l,ee.H=r,ee.A=u,Me===null&&(Ie=null,De=0,Ga()),v}function Pg(){for(;Me!==null;)Mm(Me)}function e0(e,t){var n=Ge;Ge|=2;var l=jm(),r=Em();Ie!==e||De!==t?(ic=null,ac=Ht()+500,Wi(e,t)):Ji=Ea(e,t);e:do try{if(qe!==0&&Me!==null){t=Me;var u=hn;t:switch(qe){case 1:qe=0,hn=null,Pi(e,t,u,1);break;case 2:case 9:if(Ud(u)){qe=0,hn=null,Rm(t);break}t=function(){qe!==2&&qe!==9||Ie!==e||(qe=7),rl(e)},u.then(t,t);break e;case 3:qe=7;break e;case 4:qe=5;break e;case 7:Ud(u)?(qe=0,hn=null,Rm(t)):(qe=0,hn=null,Pi(e,t,u,7));break;case 5:var v=null;switch(Me.tag){case 26:v=Me.memoizedState;case 5:case 27:var z=Me;if(v?hp(v):z.stateNode.complete){qe=0,hn=null;var R=z.sibling;if(R!==null)Me=R;else{var O=z.return;O!==null?(Me=O,uc(O)):Me=null}break t}}qe=0,hn=null,Pi(e,t,u,5);break;case 6:qe=0,hn=null,Pi(e,t,u,6);break;case 8:zf(),st=6;break e;default:throw Error(o(462))}}t0();break}catch(q){zm(e,q)}while(!0);return Wt=bn=null,ee.H=l,ee.A=r,Ge=n,Me!==null?0:(Ie=null,De=0,Ga(),st)}function t0(){for(;Me!==null&&!Aa();)Mm(Me)}function Mm(e){var t=Ih(e.alternate,e,jl);e.memoizedProps=e.pendingProps,t===null?uc(e):Me=t}function Rm(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Zh(n,t,t.pendingProps,t.type,void 0,De);break;case 11:t=Zh(n,t,t.pendingProps,t.type.render,t.ref,De);break;case 5:_o(t);default:Ph(n,t),t=Me=Vs(t,jl),t=Ih(n,t,jl)}e.memoizedProps=e.pendingProps,t===null?uc(e):Me=t}function Pi(e,t,n,l){Wt=bn=null,_o(t),Xi=null,Ps=0;var r=t.return;try{if(Yg(e,r,t,n,De)){st=1,Ju(e,ft(n,e.current)),Me=null;return}}catch(u){if(r!==null)throw Me=r,u;st=1,Ju(e,ft(n,e.current)),Me=null;return}t.flags&32768?(Ee||l===1?e=!0:Ji||(De&536870912)!==0?e=!1:(sa=e=!0,(l===2||l===9||l===3||l===6)&&(l=fn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Tm(t,e)):uc(t)}function uc(e){var t=e;do{if((t.flags&32768)!==0){Tm(t,sa);return}e=t.return;var n=Qg(t.alternate,t,jl);if(n!==null){Me=n;return}if(t=t.sibling,t!==null){Me=t;return}Me=t=e}while(t!==null);st===0&&(st=5)}function Tm(e,t){do{var n=Kg(e.alternate,e);if(n!==null){n.flags&=32767,Me=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Me=e;return}Me=e=n}while(e!==null);st=6,Me=null}function Nm(e,t,n,l,r,u,v,z,R){e.cancelPendingCommit=null;do cc();while(zt!==0);if((Ge&6)!==0)throw Error(o(327));if(t!==null){if(t===e.current)throw Error(o(177));if(u=t.lanes|t.childLanes,u|=Wn,to(e,n,u,v,z,R),e===Ie&&(Me=Ie=null,De=0),Ii=t,ca=e,El=n,Sf=u,xf=r,bm=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,i0(fi,function(){return Lm(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=ee.T,ee.T=null,r=I.p,I.p=2,v=Ge,Ge|=4;try{Fg(e,t,n)}finally{Ge=v,I.p=r,ee.T=l}}zt=1,Dm(),$m(),Bm()}}function Dm(){if(zt===1){zt=0;var e=ca,t=Ii,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=ee.T,ee.T=null;var l=I.p;I.p=2;var r=Ge;Ge|=4;try{fm(t,e);var u=Of,v=Ti(e.containerInfo),z=u.focusedElem,R=u.selectionRange;if(v!==z&&z&&z.ownerDocument&&ju(z.ownerDocument.documentElement,z)){if(R!==null&&La(z)){var O=R.start,q=R.end;if(q===void 0&&(q=O),"selectionStart"in z)z.selectionStart=O,z.selectionEnd=Math.min(q,z.value.length);else{var Z=z.ownerDocument||document,_=Z&&Z.defaultView||window;if(_.getSelection){var H=_.getSelection(),ne=z.textContent.length,de=Math.min(R.start,ne),Ze=R.end===void 0?de:Math.min(R.end,ne);!H.extend&&de>Ze&&(v=Ze,Ze=de,de=v);var B=Us(z,de),T=Us(z,Ze);if(B&&T&&(H.rangeCount!==1||H.anchorNode!==B.node||H.anchorOffset!==B.offset||H.focusNode!==T.node||H.focusOffset!==T.offset)){var L=Z.createRange();L.setStart(B.node,B.offset),H.removeAllRanges(),de>Ze?(H.addRange(L),H.extend(T.node,T.offset)):(L.setEnd(T.node,T.offset),H.addRange(L))}}}}for(Z=[],H=z;H=H.parentNode;)H.nodeType===1&&Z.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof z.focus=="function"&&z.focus(),z=0;z<Z.length;z++){var Y=Z[z];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}xc=!!Lf,Of=Lf=null}finally{Ge=r,I.p=l,ee.T=n}}e.current=t,zt=2}}function $m(){if(zt===2){zt=0;var e=ca,t=Ii,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=ee.T,ee.T=null;var l=I.p;I.p=2;var r=Ge;Ge|=4;try{sm(e,t.alternate,t)}finally{Ge=r,I.p=l,ee.T=n}}zt=3}}function Bm(){if(zt===4||zt===3){zt=0,ja();var e=ca,t=Ii,n=El,l=bm;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?zt=5:(zt=0,Ii=ca=null,wm(e,e.pendingLanes));var r=e.pendingLanes;if(r===0&&(ua=null),xs(n),t=t.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(Ll,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=ee.T,r=I.p,I.p=2,ee.T=null;try{for(var u=e.onRecoverableError,v=0;v<l.length;v++){var z=l[v];u(z.value,{componentStack:z.stack})}}finally{ee.T=t,I.p=r}}(El&3)!==0&&cc(),rl(e),r=e.pendingLanes,(n&261930)!==0&&(r&42)!==0?e===Cf?gr++:(gr=0,Cf=e):gr=0,yr(0)}}function wm(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,y(t)))}function cc(){return Dm(),$m(),Bm(),Lm()}function Lm(){if(zt!==5)return!1;var e=ca,t=Sf;Sf=0;var n=xs(El),l=ee.T,r=I.p;try{I.p=32>n?32:n,ee.T=null,n=xf,xf=null;var u=ca,v=El;if(zt=0,Ii=ca=null,El=0,(Ge&6)!==0)throw Error(o(331));var z=Ge;if(Ge|=4,gm(u.current),hm(u,u.current,v,n),Ge=z,yr(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(Ll,u)}catch{}return!0}finally{I.p=r,ee.T=l,wm(e,t)}}function Om(e,t,n){t=ft(n,t),t=Po(e.stateNode,t,2),e=na(e,t,2),e!==null&&(Ma(e,2),rl(e))}function Xe(e,t,n){if(e.tag===3)Om(e,e,n);else for(;t!==null;){if(t.tag===3){Om(t,e,n);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ua===null||!ua.has(l))){e=ft(n,e),n=Uh(2),l=na(t,n,2),l!==null&&(_h(n,l,t,e),Ma(l,2),rl(l));break}}t=t.return}}function jf(e,t,n){var l=e.pingCache;if(l===null){l=e.pingCache=new Ig;var r=new Set;l.set(t,r)}else r=l.get(t),r===void 0&&(r=new Set,l.set(t,r));r.has(n)||(yf=!0,r.add(n),e=n0.bind(null,e,t,n),t.then(e,e))}function n0(e,t,n){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Ie===e&&(De&n)===n&&(st===4||st===3&&(De&62914560)===De&&300>Ht()-lc?(Ge&2)===0&&Wi(e,0):vf|=n,ki===De&&(ki=0)),rl(e)}function Um(e,t){t===0&&(t=Vr()),e=Pn(e,t),e!==null&&(Ma(e,t),rl(e))}function l0(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Um(e,n)}function a0(e,t){var n=0;switch(e.tag){case 31:case 13:var l=e.stateNode,r=e.memoizedState;r!==null&&(n=r.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(o(314))}l!==null&&l.delete(t),Um(e,n)}function i0(e,t){return wl(e,t)}var oc=null,es=null,Ef=!1,fc=!1,Mf=!1,fa=0;function rl(e){e!==es&&e.next===null&&(es===null?oc=es=e:es=es.next=e),fc=!0,Ef||(Ef=!0,r0())}function yr(e,t){if(!Mf&&fc){Mf=!0;do for(var n=!1,l=oc;l!==null;){if(e!==0){var r=l.pendingLanes;if(r===0)var u=0;else{var v=l.suspendedLanes,z=l.pingedLanes;u=(1<<31-qt(42|e)+1)-1,u&=r&~(v&~z),u=u&201326741?u&201326741|1:u?u|2:0}u!==0&&(n=!0,qm(l,u))}else u=De,u=pi(l,l===Ie?u:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(u&3)===0||Ea(l,u)||(n=!0,qm(l,u));l=l.next}while(n);Mf=!1}}function s0(){_m()}function _m(){fc=Ef=!1;var e=0;fa!==0&&y0()&&(e=fa);for(var t=Ht(),n=null,l=oc;l!==null;){var r=l.next,u=Hm(l,t);u===0?(l.next=null,n===null?oc=r:n.next=r,r===null&&(es=n)):(n=l,(e!==0||(u&3)!==0)&&(fc=!0)),l=r}zt!==0&&zt!==5||yr(e),fa!==0&&(fa=0)}function Hm(e,t){for(var n=e.suspendedLanes,l=e.pingedLanes,r=e.expirationTimes,u=e.pendingLanes&-62914561;0<u;){var v=31-qt(u),z=1<<v,R=r[v];R===-1?((z&n)===0||(z&l)!==0)&&(r[v]=eo(z,t)):R<=t&&(e.expiredLanes|=z),u&=~z}if(t=Ie,n=De,n=pi(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,n===0||e===t&&(qe===2||qe===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Tn(l),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||Ea(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(l!==null&&Tn(l),xs(n)){case 2:case 8:n=qr;break;case 32:n=fi;break;case 268435456:n=Xr;break;default:n=fi}return l=Gm.bind(null,e),n=wl(n,l),e.callbackPriority=t,e.callbackNode=n,t}return l!==null&&l!==null&&Tn(l),e.callbackPriority=2,e.callbackNode=null,2}function Gm(e,t){if(zt!==0&&zt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(cc()&&e.callbackNode!==n)return null;var l=De;return l=pi(e,e===Ie?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(xm(e,l,t),Hm(e,Ht()),e.callbackNode!=null&&e.callbackNode===n?Gm.bind(null,e):null)}function qm(e,t){if(cc())return null;xm(e,t,!0)}function r0(){b0(function(){(Ge&6)!==0?wl(Gr,s0):_m()})}function Rf(){if(fa===0){var e=N;e===0&&(e=di,di<<=1,(di&261888)===0&&(di=256)),fa=e}return fa}function Xm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:bi(""+e)}function Ym(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function u0(e,t,n,l,r){if(t==="submit"&&n&&n.stateNode===r){var u=Xm((r[wt]||null).action),v=l.submitter;v&&(t=(t=v[wt]||null)?Xm(t.formAction):v.getAttribute("formAction"),t!==null&&(u=t,v=null));var z=new $s("action","action",null,l,r);e.push({event:z,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(fa!==0){var R=v?Ym(r,v):new FormData(r);Ko(n,{pending:!0,data:R,method:r.method,action:u},null,R)}}else typeof u=="function"&&(z.preventDefault(),R=v?Ym(r,v):new FormData(r),Ko(n,{pending:!0,data:R,method:r.method,action:u},u,R))},currentTarget:r}]})}}for(var Tf=0;Tf<In.length;Tf++){var Nf=In[Tf],c0=Nf.toLowerCase(),o0=Nf[0].toUpperCase()+Nf.slice(1);Vt(c0,"on"+o0)}Vt(Gs,"onAnimationEnd"),Vt(Mu,"onAnimationIteration"),Vt(qs,"onAnimationStart"),Vt("dblclick","onDoubleClick"),Vt("focusin","onFocus"),Vt("focusout","onBlur"),Vt(Il,"onTransitionRun"),Vt(Di,"onTransitionStart"),Vt(Ru,"onTransitionCancel"),Vt(Ha,"onTransitionEnd"),Gl("onMouseEnter",["mouseout","mouseover"]),Gl("onMouseLeave",["mouseout","mouseover"]),Gl("onPointerEnter",["pointerout","pointerover"]),Gl("onPointerLeave",["pointerout","pointerover"]),dl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),dl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),dl("onBeforeInput",["compositionend","keypress","textInput","paste"]),dl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),dl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),dl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),f0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vr));function Vm(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var l=e[n],r=l.event;l=l.listeners;e:{var u=void 0;if(t)for(var v=l.length-1;0<=v;v--){var z=l[v],R=z.instance,O=z.currentTarget;if(z=z.listener,R!==u&&r.isPropagationStopped())break e;u=z,r.currentTarget=O;try{u(r)}catch(q){Bi(q)}r.currentTarget=null,u=R}else for(v=0;v<l.length;v++){if(z=l[v],R=z.instance,O=z.currentTarget,z=z.listener,R!==u&&r.isPropagationStopped())break e;u=z,r.currentTarget=O;try{u(r)}catch(q){Bi(q)}r.currentTarget=null,u=R}}}}function Re(e,t){var n=t[Cs];n===void 0&&(n=t[Cs]=new Set);var l=e+"__bubble";n.has(l)||(Zm(t,e,2,!1),n.add(l))}function Df(e,t,n){var l=0;t&&(l|=4),Zm(n,e,l,t)}var dc="_reactListening"+Math.random().toString(36).slice(2);function $f(e){if(!e[dc]){e[dc]=!0,Ir.forEach(function(n){n!=="selectionchange"&&(f0.has(n)||Df(n,!1,e),Df(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[dc]||(t[dc]=!0,Df("selectionchange",!1,t))}}function Zm(e,t,n,l){switch(Sp(t)){case 2:var r=H0;break;case 8:r=G0;break;default:r=Kf}n=r.bind(null,t,n,e),r=void 0,!Ns||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),l?r!==void 0?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):r!==void 0?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Bf(e,t,n,l,r){var u=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var z=l.stateNode.containerInfo;if(z===r)break;if(v===4)for(v=l.return;v!==null;){var R=v.tag;if((R===3||R===4)&&v.stateNode.containerInfo===r)return;v=v.return}for(;z!==null;){if(v=Ul(z),v===null)return;if(R=v.tag,R===5||R===6||R===26||R===27){l=u=v;continue e}z=z.parentNode}}l=l.return}uu(function(){var O=u,q=su(n),Z=[];e:{var _=$i.get(e);if(_!==void 0){var H=$s,ne=e;switch(e){case"keypress":if(Ci(n)===0)break e;case"keydown":case"keyup":H=go;break;case"focusin":ne="focus",H=hu;break;case"focusout":ne="blur",H=hu;break;case"beforeblur":case"afterblur":H=hu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=oo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Ad;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=vo;break;case Gs:case Mu:case qs:H=Md;break;case Ha:H=bo;break;case"scroll":case"scrollend":H=Cd;break;case"wheel":H=Ld;break;case"copy":case"cut":case"paste":H=Td;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=mu;break;case"toggle":case"beforetoggle":H=Co}var de=(t&4)!==0,Ze=!de&&(e==="scroll"||e==="scrollend"),B=de?_!==null?_+"Capture":null:_;de=[];for(var T=O,L;T!==null;){var Y=T;if(L=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||L===null||B===null||(Y=Da(T,B),Y!=null&&de.push(br(T,Y,L))),Ze)break;T=T.return}0<de.length&&(_=new H(_,ne,null,n,q),Z.push({event:_,listeners:de}))}}if((t&7)===0){e:{if(_=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",_&&n!==iu&&(ne=n.relatedTarget||n.fromElement)&&(Ul(ne)||ne[Ol]))break e;if((H||_)&&(_=q.window===q?q:(_=q.ownerDocument)?_.defaultView||_.parentWindow:window,H?(ne=n.relatedTarget||n.toElement,H=O,ne=ne?Ul(ne):null,ne!==null&&(Ze=f(ne),de=ne.tag,ne!==Ze||de!==5&&de!==27&&de!==6)&&(ne=null)):(H=null,ne=O),H!==ne)){if(de=oo,Y="onMouseLeave",B="onMouseEnter",T="mouse",(e==="pointerout"||e==="pointerover")&&(de=mu,Y="onPointerLeave",B="onPointerEnter",T="pointer"),Ze=H==null?_:Ta(H),L=ne==null?_:Ta(ne),_=new de(Y,T+"leave",H,n,q),_.target=Ze,_.relatedTarget=L,Y=null,Ul(q)===O&&(de=new de(B,T+"enter",ne,n,q),de.target=L,de.relatedTarget=Ze,Y=de),Ze=Y,H&&ne)t:{for(de=d0,B=H,T=ne,L=0,Y=B;Y;Y=de(Y))L++;Y=0;for(var oe=T;oe;oe=de(oe))Y++;for(;0<L-Y;)B=de(B),L--;for(;0<Y-L;)T=de(T),Y--;for(;L--;){if(B===T||T!==null&&B===T.alternate){de=B;break t}B=de(B),T=de(T)}de=null}else de=null;H!==null&&Qm(Z,_,H,de,!1),ne!==null&&Ze!==null&&Qm(Z,Ze,ne,de,!0)}}e:{if(_=O?Ta(O):window,H=_.nodeName&&_.nodeName.toLowerCase(),H==="select"||H==="input"&&_.type==="file")var Le=bu;else if(Kl(_))if(Su)Le=jo;else{Le=Fl;var ie=Cu}else H=_.nodeName,!H||H.toLowerCase()!=="input"||_.type!=="checkbox"&&_.type!=="radio"?O&&Rs(O.elementType)&&(Le=bu):Le=Os;if(Le&&(Le=Le(e,O))){vu(Z,Le,n,q);break e}ie&&ie(e,_,O),e==="focusout"&&O&&_.type==="number"&&O.memoizedProps.value!=null&&Ms(_,"number",_.value)}switch(ie=O?Ta(O):window,e){case"focusin":(Kl(ie)||ie.contentEditable==="true")&&(ot=ie,Oa=O,Ua=null);break;case"focusout":Ua=Oa=ot=null;break;case"mousedown":_a=!0;break;case"contextmenu":case"mouseup":case"dragend":_a=!1,Ni(Z,n,q);break;case"selectionchange":if(_s)break;case"keydown":case"keyup":Ni(Z,n,q)}var Ce;if(Ls)e:{switch(e){case"compositionstart":var $e="onCompositionStart";break e;case"compositionend":$e="onCompositionEnd";break e;case"compositionupdate":$e="onCompositionUpdate";break e}$e=void 0}else rn?S(e,n)&&($e="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&($e="onCompositionStart");$e&&(pu&&n.locale!=="ko"&&(rn||$e!=="onCompositionStart"?$e==="onCompositionEnd"&&rn&&(Ce=cu()):(Fn=q,Ds="value"in Fn?Fn.value:Fn.textContent,rn=!0)),ie=hc(O,$e),0<ie.length&&($e=new fo($e,e,null,n,q),Z.push({event:$e,listeners:ie}),Ce?$e.data=Ce:(Ce=W(n),Ce!==null&&($e.data=Ce)))),(Ce=Ao?un(e,n):Ei(e,n))&&($e=hc(O,"onBeforeInput"),0<$e.length&&(ie=new fo("onBeforeInput","beforeinput",null,n,q),Z.push({event:ie,listeners:$e}),ie.data=Ce)),u0(Z,e,O,n,q)}Vm(Z,t)})}function br(e,t,n){return{instance:e,listener:t,currentTarget:n}}function hc(e,t){for(var n=t+"Capture",l=[];e!==null;){var r=e,u=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||u===null||(r=Da(e,n),r!=null&&l.unshift(br(e,r,u)),r=Da(e,t),r!=null&&l.push(br(e,r,u))),e.tag===3)return l;e=e.return}return[]}function d0(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Qm(e,t,n,l,r){for(var u=t._reactName,v=[];n!==null&&n!==l;){var z=n,R=z.alternate,O=z.stateNode;if(z=z.tag,R!==null&&R===l)break;z!==5&&z!==26&&z!==27||O===null||(R=O,r?(O=Da(n,u),O!=null&&v.unshift(br(n,O,R))):r||(O=Da(n,u),O!=null&&v.push(br(n,O,R)))),n=n.return}v.length!==0&&e.push({event:t,listeners:v})}var h0=/\r\n?/g,m0=/\u0000|\uFFFD/g;function Km(e){return(typeof e=="string"?e:""+e).replace(h0,`
`).replace(m0,"")}function Fm(e,t){return t=Km(t),Km(e)===t}function Ve(e,t,n,l,r,u){switch(n){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||Vl(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&Vl(e,""+l);break;case"className":gi(e,"class",l);break;case"tabIndex":gi(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":gi(e,n,l);break;case"style":au(e,l,u);break;case"data":if(t!=="object"){gi(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=bi(""+l),e.setAttribute(n,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(n==="formAction"?(t!=="input"&&Ve(e,t,"name",r.name,r,null),Ve(e,t,"formEncType",r.formEncType,r,null),Ve(e,t,"formMethod",r.formMethod,r,null),Ve(e,t,"formTarget",r.formTarget,r,null)):(Ve(e,t,"encType",r.encType,r,null),Ve(e,t,"method",r.method,r,null),Ve(e,t,"target",r.target,r,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=bi(""+l),e.setAttribute(n,l);break;case"onClick":l!=null&&(e.onclick=$n);break;case"onScroll":l!=null&&Re("scroll",e);break;case"onScrollEnd":l!=null&&Re("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(o(61));if(n=l.__html,n!=null){if(r.children!=null)throw Error(o(60));e.innerHTML=n}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}n=bi(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""+l):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":l===!0?e.setAttribute(n,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,l):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(n,l):e.removeAttribute(n);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(n):e.setAttribute(n,l);break;case"popover":Re("beforetoggle",e),Re("toggle",e),Na(e,"popover",l);break;case"xlinkActuate":Dn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Dn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Dn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Dn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Dn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Dn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Dn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Dn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Dn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Na(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=uo.get(n)||n,Na(e,n,l))}}function wf(e,t,n,l,r,u){switch(n){case"style":au(e,l,u);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(o(61));if(n=l.__html,n!=null){if(r.children!=null)throw Error(o(60));e.innerHTML=n}}break;case"children":typeof l=="string"?Vl(e,l):(typeof l=="number"||typeof l=="bigint")&&Vl(e,""+l);break;case"onScroll":l!=null&&Re("scroll",e);break;case"onScrollEnd":l!=null&&Re("scrollend",e);break;case"onClick":l!=null&&(e.onclick=$n);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Wr.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(r=n.endsWith("Capture"),t=n.slice(2,r?n.length-7:void 0),u=e[wt]||null,u=u!=null?u[n]:null,typeof u=="function"&&e.removeEventListener(t,u,r),typeof l=="function")){typeof u!="function"&&u!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,l,r);break e}n in e?e[n]=l:l===!0?e.setAttribute(n,""):Na(e,n,l)}}}function $t(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Re("error",e),Re("load",e);var l=!1,r=!1,u;for(u in n)if(n.hasOwnProperty(u)){var v=n[u];if(v!=null)switch(u){case"src":l=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Ve(e,t,u,v,n,null)}}r&&Ve(e,t,"srcSet",n.srcSet,n,null),l&&Ve(e,t,"src",n.src,n,null);return;case"input":Re("invalid",e);var z=u=v=r=null,R=null,O=null;for(l in n)if(n.hasOwnProperty(l)){var q=n[l];if(q!=null)switch(l){case"name":r=q;break;case"type":v=q;break;case"checked":R=q;break;case"defaultChecked":O=q;break;case"value":u=q;break;case"defaultValue":z=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(o(137,t));break;default:Ve(e,t,l,q,n,null)}}Xl(e,u,z,R,O,v,r,!1);return;case"select":Re("invalid",e),l=v=u=null;for(r in n)if(n.hasOwnProperty(r)&&(z=n[r],z!=null))switch(r){case"value":u=z;break;case"defaultValue":v=z;break;case"multiple":l=z;default:Ve(e,t,r,z,n,null)}t=u,n=v,e.multiple=!!l,t!=null?Yl(e,!!l,t,!1):n!=null&&Yl(e,!!l,n,!0);return;case"textarea":Re("invalid",e),u=r=l=null;for(v in n)if(n.hasOwnProperty(v)&&(z=n[v],z!=null))switch(v){case"value":l=z;break;case"defaultValue":r=z;break;case"children":u=z;break;case"dangerouslySetInnerHTML":if(z!=null)throw Error(o(91));break;default:Ve(e,t,v,z,n,null)}lu(e,l,r,u);return;case"option":for(R in n)if(n.hasOwnProperty(R)&&(l=n[R],l!=null))switch(R){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ve(e,t,R,l,n,null)}return;case"dialog":Re("beforetoggle",e),Re("toggle",e),Re("cancel",e),Re("close",e);break;case"iframe":case"object":Re("load",e);break;case"video":case"audio":for(l=0;l<vr.length;l++)Re(vr[l],e);break;case"image":Re("error",e),Re("load",e);break;case"details":Re("toggle",e);break;case"embed":case"source":case"link":Re("error",e),Re("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(O in n)if(n.hasOwnProperty(O)&&(l=n[O],l!=null))switch(O){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Ve(e,t,O,l,n,null)}return;default:if(Rs(t)){for(q in n)n.hasOwnProperty(q)&&(l=n[q],l!==void 0&&wf(e,t,q,l,n,void 0));return}}for(z in n)n.hasOwnProperty(z)&&(l=n[z],l!=null&&Ve(e,t,z,l,n,null))}function p0(e,t,n,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,u=null,v=null,z=null,R=null,O=null,q=null;for(H in n){var Z=n[H];if(n.hasOwnProperty(H)&&Z!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":R=Z;default:l.hasOwnProperty(H)||Ve(e,t,H,null,l,Z)}}for(var _ in l){var H=l[_];if(Z=n[_],l.hasOwnProperty(_)&&(H!=null||Z!=null))switch(_){case"type":u=H;break;case"name":r=H;break;case"checked":O=H;break;case"defaultChecked":q=H;break;case"value":v=H;break;case"defaultValue":z=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(o(137,t));break;default:H!==Z&&Ve(e,t,_,H,l,Z)}}vi(e,v,z,R,O,q,u,r);return;case"select":H=v=z=_=null;for(u in n)if(R=n[u],n.hasOwnProperty(u)&&R!=null)switch(u){case"value":break;case"multiple":H=R;default:l.hasOwnProperty(u)||Ve(e,t,u,null,l,R)}for(r in l)if(u=l[r],R=n[r],l.hasOwnProperty(r)&&(u!=null||R!=null))switch(r){case"value":_=u;break;case"defaultValue":z=u;break;case"multiple":v=u;default:u!==R&&Ve(e,t,r,u,l,R)}t=z,n=v,l=H,_!=null?Yl(e,!!n,_,!1):!!l!=!!n&&(t!=null?Yl(e,!!n,t,!0):Yl(e,!!n,n?[]:"",!1));return;case"textarea":H=_=null;for(z in n)if(r=n[z],n.hasOwnProperty(z)&&r!=null&&!l.hasOwnProperty(z))switch(z){case"value":break;case"children":break;default:Ve(e,t,z,null,l,r)}for(v in l)if(r=l[v],u=n[v],l.hasOwnProperty(v)&&(r!=null||u!=null))switch(v){case"value":_=r;break;case"defaultValue":H=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(o(91));break;default:r!==u&&Ve(e,t,v,r,l,u)}nu(e,_,H);return;case"option":for(var ne in n)if(_=n[ne],n.hasOwnProperty(ne)&&_!=null&&!l.hasOwnProperty(ne))switch(ne){case"selected":e.selected=!1;break;default:Ve(e,t,ne,null,l,_)}for(R in l)if(_=l[R],H=n[R],l.hasOwnProperty(R)&&_!==H&&(_!=null||H!=null))switch(R){case"selected":e.selected=_&&typeof _!="function"&&typeof _!="symbol";break;default:Ve(e,t,R,_,l,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var de in n)_=n[de],n.hasOwnProperty(de)&&_!=null&&!l.hasOwnProperty(de)&&Ve(e,t,de,null,l,_);for(O in l)if(_=l[O],H=n[O],l.hasOwnProperty(O)&&_!==H&&(_!=null||H!=null))switch(O){case"children":case"dangerouslySetInnerHTML":if(_!=null)throw Error(o(137,t));break;default:Ve(e,t,O,_,l,H)}return;default:if(Rs(t)){for(var Ze in n)_=n[Ze],n.hasOwnProperty(Ze)&&_!==void 0&&!l.hasOwnProperty(Ze)&&wf(e,t,Ze,void 0,l,_);for(q in l)_=l[q],H=n[q],!l.hasOwnProperty(q)||_===H||_===void 0&&H===void 0||wf(e,t,q,_,l,H);return}}for(var B in n)_=n[B],n.hasOwnProperty(B)&&_!=null&&!l.hasOwnProperty(B)&&Ve(e,t,B,null,l,_);for(Z in l)_=l[Z],H=n[Z],!l.hasOwnProperty(Z)||_===H||_==null&&H==null||Ve(e,t,Z,_,l,H)}function Jm(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function g0(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),l=0;l<n.length;l++){var r=n[l],u=r.transferSize,v=r.initiatorType,z=r.duration;if(u&&z&&Jm(v)){for(v=0,z=r.responseEnd,l+=1;l<n.length;l++){var R=n[l],O=R.startTime;if(O>z)break;var q=R.transferSize,Z=R.initiatorType;q&&Jm(Z)&&(R=R.responseEnd,v+=q*(R<z?1:(z-O)/(R-O)))}if(--l,t+=8*(u+v)/(r.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Lf=null,Of=null;function mc(e){return e.nodeType===9?e:e.ownerDocument}function km(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Im(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Uf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var _f=null;function y0(){var e=window.event;return e&&e.type==="popstate"?e===_f?!1:(_f=e,!0):(_f=null,!1)}var Wm=typeof setTimeout=="function"?setTimeout:void 0,v0=typeof clearTimeout=="function"?clearTimeout:void 0,Pm=typeof Promise=="function"?Promise:void 0,b0=typeof queueMicrotask=="function"?queueMicrotask:typeof Pm<"u"?function(e){return Pm.resolve(null).then(e).catch(S0)}:Wm;function S0(e){setTimeout(function(){throw e})}function da(e){return e==="head"}function ep(e,t){var n=t,l=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"||n==="/&"){if(l===0){e.removeChild(r),as(t);return}l--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")l++;else if(n==="html")Sr(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Sr(n);for(var u=n.firstChild;u;){var v=u.nextSibling,z=u.nodeName;u[Ra]||z==="SCRIPT"||z==="STYLE"||z==="LINK"&&u.rel.toLowerCase()==="stylesheet"||n.removeChild(u),u=v}}else n==="body"&&Sr(e.ownerDocument.body);n=r}while(n);as(t)}function tp(e,t){var n=e;e=0;do{var l=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=l}while(n)}function Hf(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Hf(n),As(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function x0(e,t,n,l){for(;e.nodeType===1;){var r=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Ra])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(u=e.getAttribute("rel"),u==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(u!==r.rel||e.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||e.getAttribute("title")!==(r.title==null?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(u=e.getAttribute("src"),(u!==(r.src==null?null:r.src)||e.getAttribute("type")!==(r.type==null?null:r.type)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&u&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var u=r.name==null?null:""+r.name;if(r.type==="hidden"&&e.getAttribute("name")===u)return e}else return e;if(e=Cn(e.nextSibling),e===null)break}return null}function C0(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Cn(e.nextSibling),e===null))return null;return e}function np(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Cn(e.nextSibling),e===null))return null;return e}function Gf(e){return e.data==="$?"||e.data==="$~"}function qf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function z0(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var l=function(){t(),n.removeEventListener("DOMContentLoaded",l)};n.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Cn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Xf=null;function lp(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Cn(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function ap(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function ip(e,t,n){switch(t=mc(n),e){case"html":if(e=t.documentElement,!e)throw Error(o(452));return e;case"head":if(e=t.head,!e)throw Error(o(453));return e;case"body":if(e=t.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}function Sr(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);As(e)}var zn=new Map,sp=new Set;function pc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ml=I.d;I.d={f:A0,r:j0,D:E0,C:M0,L:R0,m:T0,X:D0,S:N0,M:$0};function A0(){var e=Ml.f(),t=sc();return e||t}function j0(e){var t=_l(e);t!==null&&t.tag===5&&t.type==="form"?zh(t):Ml.r(e)}var ts=typeof document>"u"?null:document;function rp(e,t,n){var l=ts;if(l&&typeof t=="string"&&t){var r=Jt(t);r='link[rel="'+e+'"][href="'+r+'"]',typeof n=="string"&&(r+='[crossorigin="'+n+'"]'),sp.has(r)||(sp.add(r),e={rel:e,crossOrigin:n,href:t},l.querySelector(r)===null&&(t=l.createElement("link"),$t(t,"link",e),mt(t),l.head.appendChild(t)))}}function E0(e){Ml.D(e),rp("dns-prefetch",e,null)}function M0(e,t){Ml.C(e,t),rp("preconnect",e,t)}function R0(e,t,n){Ml.L(e,t,n);var l=ts;if(l&&e&&t){var r='link[rel="preload"][as="'+Jt(t)+'"]';t==="image"&&n&&n.imageSrcSet?(r+='[imagesrcset="'+Jt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(r+='[imagesizes="'+Jt(n.imageSizes)+'"]')):r+='[href="'+Jt(e)+'"]';var u=r;switch(t){case"style":u=ns(e);break;case"script":u=ls(e)}zn.has(u)||(e=C({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),zn.set(u,e),l.querySelector(r)!==null||t==="style"&&l.querySelector(xr(u))||t==="script"&&l.querySelector(Cr(u))||(t=l.createElement("link"),$t(t,"link",e),mt(t),l.head.appendChild(t)))}}function T0(e,t){Ml.m(e,t);var n=ts;if(n&&e){var l=t&&typeof t.as=="string"?t.as:"script",r='link[rel="modulepreload"][as="'+Jt(l)+'"][href="'+Jt(e)+'"]',u=r;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=ls(e)}if(!zn.has(u)&&(e=C({rel:"modulepreload",href:e},t),zn.set(u,e),n.querySelector(r)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Cr(u)))return}l=n.createElement("link"),$t(l,"link",e),mt(l),n.head.appendChild(l)}}}function N0(e,t,n){Ml.S(e,t,n);var l=ts;if(l&&e){var r=Hl(l).hoistableStyles,u=ns(e);t=t||"default";var v=r.get(u);if(!v){var z={loading:0,preload:null};if(v=l.querySelector(xr(u)))z.loading=5;else{e=C({rel:"stylesheet",href:e,"data-precedence":t},n),(n=zn.get(u))&&Yf(e,n);var R=v=l.createElement("link");mt(R),$t(R,"link",e),R._p=new Promise(function(O,q){R.onload=O,R.onerror=q}),R.addEventListener("load",function(){z.loading|=1}),R.addEventListener("error",function(){z.loading|=2}),z.loading|=4,gc(v,t,l)}v={type:"stylesheet",instance:v,count:1,state:z},r.set(u,v)}}}function D0(e,t){Ml.X(e,t);var n=ts;if(n&&e){var l=Hl(n).hoistableScripts,r=ls(e),u=l.get(r);u||(u=n.querySelector(Cr(r)),u||(e=C({src:e,async:!0},t),(t=zn.get(r))&&Vf(e,t),u=n.createElement("script"),mt(u),$t(u,"link",e),n.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},l.set(r,u))}}function $0(e,t){Ml.M(e,t);var n=ts;if(n&&e){var l=Hl(n).hoistableScripts,r=ls(e),u=l.get(r);u||(u=n.querySelector(Cr(r)),u||(e=C({src:e,async:!0,type:"module"},t),(t=zn.get(r))&&Vf(e,t),u=n.createElement("script"),mt(u),$t(u,"link",e),n.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},l.set(r,u))}}function up(e,t,n,l){var r=(r=ce.current)?pc(r):null;if(!r)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=ns(n.href),n=Hl(r).hoistableStyles,l=n.get(t),l||(l={type:"style",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=ns(n.href);var u=Hl(r).hoistableStyles,v=u.get(e);if(v||(r=r.ownerDocument||r,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,v),(u=r.querySelector(xr(e)))&&!u._p&&(v.instance=u,v.state.loading=5),zn.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},zn.set(e,n),u||B0(r,e,n,v.state))),t&&l===null)throw Error(o(528,""));return v}if(t&&l!==null)throw Error(o(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ls(n),n=Hl(r).hoistableScripts,l=n.get(t),l||(l={type:"script",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function ns(e){return'href="'+Jt(e)+'"'}function xr(e){return'link[rel="stylesheet"]['+e+"]"}function cp(e){return C({},e,{"data-precedence":e.precedence,precedence:null})}function B0(e,t,n,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),$t(t,"link",n),mt(t),e.head.appendChild(t))}function ls(e){return'[src="'+Jt(e)+'"]'}function Cr(e){return"script[async]"+e}function op(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+Jt(n.href)+'"]');if(l)return t.instance=l,mt(l),l;var r=C({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),mt(l),$t(l,"style",r),gc(l,n.precedence,e),t.instance=l;case"stylesheet":r=ns(n.href);var u=e.querySelector(xr(r));if(u)return t.state.loading|=4,t.instance=u,mt(u),u;l=cp(n),(r=zn.get(r))&&Yf(l,r),u=(e.ownerDocument||e).createElement("link"),mt(u);var v=u;return v._p=new Promise(function(z,R){v.onload=z,v.onerror=R}),$t(u,"link",l),t.state.loading|=4,gc(u,n.precedence,e),t.instance=u;case"script":return u=ls(n.src),(r=e.querySelector(Cr(u)))?(t.instance=r,mt(r),r):(l=n,(r=zn.get(u))&&(l=C({},n),Vf(l,r)),e=e.ownerDocument||e,r=e.createElement("script"),mt(r),$t(r,"link",l),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(o(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,gc(l,n.precedence,e));return t.instance}function gc(e,t,n){for(var l=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=l.length?l[l.length-1]:null,u=r,v=0;v<l.length;v++){var z=l[v];if(z.dataset.precedence===t)u=z;else if(u!==r)break}u?u.parentNode.insertBefore(e,u.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Yf(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Vf(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var yc=null;function fp(e,t,n){if(yc===null){var l=new Map,r=yc=new Map;r.set(n,l)}else r=yc,l=r.get(n),l||(l=new Map,r.set(n,l));if(l.has(e))return l;for(l.set(e,null),n=n.getElementsByTagName(e),r=0;r<n.length;r++){var u=n[r];if(!(u[Ra]||u[St]||e==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var v=u.getAttribute(t)||"";v=e+v;var z=l.get(v);z?z.push(u):l.set(v,[u])}}return l}function dp(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function w0(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function hp(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function L0(e,t,n,l){if(n.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var r=ns(l.href),u=t.querySelector(xr(r));if(u){t=u._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=vc.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=u,mt(u);return}u=t.ownerDocument||t,l=cp(l),(r=zn.get(r))&&Yf(l,r),u=u.createElement("link"),mt(u);var v=u;v._p=new Promise(function(z,R){v.onload=z,v.onerror=R}),$t(u,"link",l),n.instance=u}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=vc.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var Zf=0;function O0(e,t){return e.stylesheets&&e.count===0&&Sc(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var l=setTimeout(function(){if(e.stylesheets&&Sc(e,e.stylesheets),e.unsuspend){var u=e.unsuspend;e.unsuspend=null,u()}},6e4+t);0<e.imgBytes&&Zf===0&&(Zf=62500*g0());var r=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Sc(e,e.stylesheets),e.unsuspend)){var u=e.unsuspend;e.unsuspend=null,u()}},(e.imgBytes>Zf?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(r)}}:null}function vc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Sc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var bc=null;function Sc(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,bc=new Map,t.forEach(U0,e),bc=null,vc.call(e))}function U0(e,t){if(!(t.state.loading&4)){var n=bc.get(e);if(n)var l=n.get(null);else{n=new Map,bc.set(e,n);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<r.length;u++){var v=r[u];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(n.set(v.dataset.precedence,v),l=v)}l&&n.set(null,l)}r=t.instance,v=r.getAttribute("data-precedence"),u=n.get(v)||l,u===l&&n.set(null,r),n.set(v,r),this.count++,l=vc.bind(this),r.addEventListener("load",l),r.addEventListener("error",l),u?u.parentNode.insertBefore(r,u.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(r,e.firstChild)),t.state.loading|=4}}var zr={$$typeof:te,Provider:null,Consumer:null,_currentValue:we,_currentValue2:we,_threadCount:0};function _0(e,t,n,l,r,u,v,z,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=bs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bs(0),this.hiddenUpdates=bs(null),this.identifierPrefix=l,this.onUncaughtError=r,this.onCaughtError=u,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function mp(e,t,n,l,r,u,v,z,R,O,q,Z){return e=new _0(e,t,n,v,R,O,q,Z,z),t=1,u===!0&&(t|=24),u=At(3,null,null,t),e.current=u,u.stateNode=e,t=s(),t.refCount++,e.pooledCache=t,t.refCount++,u.memoizedState={element:l,isDehydrated:n,cache:t},Mo(u),e}function pp(e){return e?(e=ml,e):ml}function gp(e,t,n,l,r,u){r=pp(r),l.context===null?l.context=r:l.pendingContext=r,l=ta(t),l.payload={element:n},u=u===void 0?null:u,u!==null&&(l.callback=u),n=na(e,l,t),n!==null&&(ln(n,e,t),tr(n,e,t))}function yp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Qf(e,t){yp(e,t),(e=e.alternate)&&yp(e,t)}function vp(e){if(e.tag===13||e.tag===31){var t=Pn(e,67108864);t!==null&&ln(t,e,67108864),Qf(e,67108864)}}function bp(e){if(e.tag===13||e.tag===31){var t=pn();t=Ss(t);var n=Pn(e,t);n!==null&&ln(n,e,t),Qf(e,t)}}var xc=!0;function H0(e,t,n,l){var r=ee.T;ee.T=null;var u=I.p;try{I.p=2,Kf(e,t,n,l)}finally{I.p=u,ee.T=r}}function G0(e,t,n,l){var r=ee.T;ee.T=null;var u=I.p;try{I.p=8,Kf(e,t,n,l)}finally{I.p=u,ee.T=r}}function Kf(e,t,n,l){if(xc){var r=Ff(l);if(r===null)Bf(e,t,l,Cc,n),xp(e,l);else if(X0(r,e,t,n,l))l.stopPropagation();else if(xp(e,l),t&4&&-1<q0.indexOf(e)){for(;r!==null;){var u=_l(r);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var v=fl(u.pendingLanes);if(v!==0){var z=u;for(z.pendingLanes|=2,z.entangledLanes|=2;v;){var R=1<<31-qt(v);z.entanglements[1]|=R,v&=~R}rl(u),(Ge&6)===0&&(ac=Ht()+500,yr(0))}}break;case 31:case 13:z=Pn(u,2),z!==null&&ln(z,u,2),sc(),Qf(u,2)}if(u=Ff(l),u===null&&Bf(e,t,l,Cc,n),u===r)break;r=u}r!==null&&l.stopPropagation()}else Bf(e,t,l,null,n)}}function Ff(e){return e=su(e),Jf(e)}var Cc=null;function Jf(e){if(Cc=null,e=Ul(e),e!==null){var t=f(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=d(t),e!==null)return e;e=null}else if(n===31){if(e=m(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Cc=e,null}function Sp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Fc()){case Gr:return 2;case qr:return 8;case fi:case Jc:return 32;case Xr:return 268435456;default:return 32}default:return 32}}var kf=!1,ha=null,ma=null,pa=null,Ar=new Map,jr=new Map,ga=[],q0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function xp(e,t){switch(e){case"focusin":case"focusout":ha=null;break;case"dragenter":case"dragleave":ma=null;break;case"mouseover":case"mouseout":pa=null;break;case"pointerover":case"pointerout":Ar.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":jr.delete(t.pointerId)}}function Er(e,t,n,l,r,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:n,eventSystemFlags:l,nativeEvent:u,targetContainers:[r]},t!==null&&(t=_l(t),t!==null&&vp(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function X0(e,t,n,l,r){switch(t){case"focusin":return ha=Er(ha,e,t,n,l,r),!0;case"dragenter":return ma=Er(ma,e,t,n,l,r),!0;case"mouseover":return pa=Er(pa,e,t,n,l,r),!0;case"pointerover":var u=r.pointerId;return Ar.set(u,Er(Ar.get(u)||null,e,t,n,l,r)),!0;case"gotpointercapture":return u=r.pointerId,jr.set(u,Er(jr.get(u)||null,e,t,n,l,r)),!0}return!1}function Cp(e){var t=Ul(e.target);if(t!==null){var n=f(t);if(n!==null){if(t=n.tag,t===13){if(t=d(n),t!==null){e.blockedOn=t,Jr(e.priority,function(){bp(n)});return}}else if(t===31){if(t=m(n),t!==null){e.blockedOn=t,Jr(e.priority,function(){bp(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function zc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ff(e.nativeEvent);if(n===null){n=e.nativeEvent;var l=new n.constructor(n.type,n);iu=l,n.target.dispatchEvent(l),iu=null}else return t=_l(n),t!==null&&vp(t),e.blockedOn=n,!1;t.shift()}return!0}function zp(e,t,n){zc(e)&&n.delete(t)}function Y0(){kf=!1,ha!==null&&zc(ha)&&(ha=null),ma!==null&&zc(ma)&&(ma=null),pa!==null&&zc(pa)&&(pa=null),Ar.forEach(zp),jr.forEach(zp)}function Ac(e,t){e.blockedOn===t&&(e.blockedOn=null,kf||(kf=!0,c.unstable_scheduleCallback(c.unstable_NormalPriority,Y0)))}var jc=null;function Ap(e){jc!==e&&(jc=e,c.unstable_scheduleCallback(c.unstable_NormalPriority,function(){jc===e&&(jc=null);for(var t=0;t<e.length;t+=3){var n=e[t],l=e[t+1],r=e[t+2];if(typeof l!="function"){if(Jf(l||n)===null)continue;break}var u=_l(n);u!==null&&(e.splice(t,3),t-=3,Ko(u,{pending:!0,data:r,method:n.method,action:l},l,r))}}))}function as(e){function t(R){return Ac(R,e)}ha!==null&&Ac(ha,e),ma!==null&&Ac(ma,e),pa!==null&&Ac(pa,e),Ar.forEach(t),jr.forEach(t);for(var n=0;n<ga.length;n++){var l=ga[n];l.blockedOn===e&&(l.blockedOn=null)}for(;0<ga.length&&(n=ga[0],n.blockedOn===null);)Cp(n),n.blockedOn===null&&ga.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(l=0;l<n.length;l+=3){var r=n[l],u=n[l+1],v=r[wt]||null;if(typeof u=="function")v||Ap(n);else if(v){var z=null;if(u&&u.hasAttribute("formAction")){if(r=u,v=u[wt]||null)z=v.formAction;else if(Jf(r)!==null)continue}else z=v.action;typeof z=="function"?n[l+1]=z:(n.splice(l,3),l-=3),Ap(n)}}}function jp(){function e(u){u.canIntercept&&u.info==="react-transition"&&u.intercept({handler:function(){return new Promise(function(v){return r=v})},focusReset:"manual",scroll:"manual"})}function t(){r!==null&&(r(),r=null),l||setTimeout(n,20)}function n(){if(!l&&!navigation.transition){var u=navigation.currentEntry;u&&u.url!=null&&navigation.navigate(u.url,{state:u.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,r=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),r!==null&&(r(),r=null)}}}function If(e){this._internalRoot=e}Ec.prototype.render=If.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(o(409));var n=t.current,l=pn();gp(n,l,e,t,null,null)},Ec.prototype.unmount=If.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;gp(e.current,2,null,e,null,null),sc(),t[Ol]=null}};function Ec(e){this._internalRoot=e}Ec.prototype.unstable_scheduleHydration=function(e){if(e){var t=Fr();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ga.length&&t!==0&&t<ga[n].priority;n++);ga.splice(n,0,e),n===0&&Cp(e)}};var Ep=i.version;if(Ep!=="19.2.0")throw Error(o(527,Ep,"19.2.0"));I.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=g(t),e=e!==null?x(e):null,e=e===null?null:e.stateNode,e};var V0={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:ee,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mc.isDisabled&&Mc.supportsFiber)try{Ll=Mc.inject(V0),Gt=Mc}catch{}}return Rr.createRoot=function(e,t){if(!p(e))throw Error(o(299));var n=!1,l="",r=Bh,u=wh,v=Lh;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(r=t.onUncaughtError),t.onCaughtError!==void 0&&(u=t.onCaughtError),t.onRecoverableError!==void 0&&(v=t.onRecoverableError)),t=mp(e,1,!1,null,null,n,l,null,r,u,v,jp),e[Ol]=t.current,$f(e),new If(t)},Rr.hydrateRoot=function(e,t,n){if(!p(e))throw Error(o(299));var l=!1,r="",u=Bh,v=wh,z=Lh,R=null;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(u=n.onUncaughtError),n.onCaughtError!==void 0&&(v=n.onCaughtError),n.onRecoverableError!==void 0&&(z=n.onRecoverableError),n.formState!==void 0&&(R=n.formState)),t=mp(e,1,!0,t,n??null,l,r,R,u,v,z,jp),t.context=pp(null),n=t.current,l=pn(),l=Ss(l),r=ta(l),r.callback=null,na(n,r,l),n=l,t.current.lanes=n,Ma(t,n),rl(t),e[Ol]=t.current,$f(e),new Ec(t)},Rr.version="19.2.0",Rr}var Dp;function $y(){if(Dp)return ed.exports;Dp=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(i){console.error(i)}}return c(),ed.exports=Dy(),ed.exports}var By=$y();const rt={Panels:{PRI_SIDEBAR:"sidebar-p",SEC_SIDEBAR:"sidebar-s",PANEL:"panel"},Sections:{DOCUMENTATION:"documentation",EXAMPLES:"examples",EXPORT:"export",EMULATOR:"emulator",WELCOME:"welcome"}};function wy(){const c=()=>{const o=localStorage.getItem("prefs");if(o)try{const p=JSON.parse(o);return{panels:{primary:p.panels?.primary??!1,secondary:p.panels?.secondary??!0,bottom:p.panels?.bottom??!1},section:p.section,autoSave:p.autoSave??!0}}catch{}return{panels:{primary:!1,secondary:!0,bottom:!1},autoSave:!0}},[i,a]=w.useState(c);return w.useEffect(()=>{localStorage.setItem("prefs",JSON.stringify(i))},[i]),[i,a]}function lg(c,i){return{panels:[c.panels.primary?i.PRI_SIDEBAR:null,c.panels.secondary?i.SEC_SIDEBAR:null,c.panels.bottom?i.PANEL:null].filter(Boolean),section:c.section?[c.section]:[]}}function ag(c,i,a,o){const p={...c};if(i==="panels"){const f=a.includes(o.PRI_SIDEBAR),d=a.includes(o.SEC_SIDEBAR),m=a.includes(o.PANEL),b=f?p.section??"emulator":void 0;return{...p,panels:{primary:f,secondary:d,bottom:m},section:b}}if(i==="section"){const[f]=a,d=p.section;return d&&f===d?{...p,section:void 0,panels:{...p.panels,primary:!1}}:f?{...p,section:f,panels:{...p.panels,primary:!0}}:p}return p}function ig(c,i,a){return a?{target:c,type:i,...a}:{target:c,type:i}}const Zn={new:()=>({target:"app",type:"app.new"}),save:()=>({target:"app",type:"app.save"}),saveAs:()=>({target:"app",type:"app.saveAs"}),open:()=>({target:"app",type:"app.open"}),loadExample:c=>({target:"app",type:"app.loadExample",example:c}),jumpToAssembled:c=>({target:"app",type:"app.jumpToAssembled",fromSourceLineNumber:c}),jumpToSource:c=>({target:"app",type:"app.jumpToSource",fromAddress:c})},gs={doMonacoKeyboardAction:c=>({target:"editor",type:"editor.doMonacoKeyboardAction",id:c}),doMonacoAction:c=>({target:"editor",type:"editor.doMonacoAction",actionId:c}),gotoLine:(c,i=void 0)=>({target:"editor",type:"editor.gotoLine",lineNumber:c,column:i})},Ly={gotoAddress:c=>ig("output","output.gotoAddress",{address:c})},_c={togglePanel:c=>ig("panel","panel.toggle",{panel:c}),showSection:c=>({target:"panel",type:"panel.showSection",section:c})},sg=w.createContext(void 0);function Ur(){const c=w.useContext(sg);if(!c)throw new Error("useCommandBus must be used within a CommandBusProvider");return c}function Oy(){const c=w.useRef(new Map);return w.useMemo(()=>({execute(a){const o=c.current.get(a.target);if(o)for(const p of Array.from(o))try{p(a)}catch(f){console.error(f)}},async executeAsync(a){const o=c.current.get(a.target);if(!o)return;const p=[];for(const f of Array.from(o))try{const d=f(a);d&&typeof d.then=="function"&&p.push(d)}catch(d){console.error(d)}p.length&&await Promise.allSettled(p)},subscribe(a,o){let p=c.current.get(a);return p||(p=new Set,c.current.set(a,p)),p.add(o),()=>{p.delete(o),p.size===0&&c.current.delete(a)}}}),[])}const Uy=sg.Provider,Dl={Blog:"https://www.relaycomputer.co.uk",Simulator:"https://simulator.relaycomputer.co.uk",GitHubSource:"https://github.com/paul80nd/relay-computer-ide"},_y=Ut({menuTrigger:{padding:"0 .5rem",minWidth:0,fontWeight:D.fontWeightRegular}});function Hy(c){const i=_y(),{execute:a,executeAsync:o}=Ur(),p=w.useMemo(()=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes("mac"),[]),f=c.prefs.autoSave??!0,[d,m]=w.useState({save:f?["auto"]:[]});w.useEffect(()=>{m(M=>({...M,save:f?["auto"]:[]}))},[f]);const b=(M,{name:$,checkedItems:V})=>{if(m(Q=>({...Q,[$]:V})),$==="save"){const Q=V.includes("auto");c.onPrefsChange(K=>({...K,autoSave:Q}))}},g=(M,$)=>{c.onCheckedValueChange?.(M,$)},x=M=>a(_c.showSection(M)),C=M=>a(gs.doMonacoAction(M)),j=M=>a(gs.doMonacoKeyboardAction(M));return h.jsxs(h.Fragment,{children:[h.jsxs(Wa,{hasCheckmarks:!0,checkedValues:d,onCheckedValueChange:b,children:[h.jsx(Pa,{children:h.jsx(Vn,{className:i.menuTrigger,appearance:"transparent",children:"File"})}),h.jsx(ei,{children:h.jsxs(ti,{children:[h.jsx(Qe,{onClick:()=>a(Zn.new()),children:"New"}),h.jsx(An,{}),h.jsx(Qe,{onClick:async()=>await o(Zn.open()),secondaryContent:p?"  O":"Ctrl+Shift+O",children:"Open"}),h.jsx(Qe,{onClick:()=>x("examples"),children:"Open from Examples"}),h.jsx(An,{}),h.jsx(Qe,{secondaryContent:p?" S":"Ctrl+S",disabled:f||!c.dirty,onClick:()=>a(Zn.save()),children:"Save"}),h.jsx(Qe,{secondaryContent:p?"  S":"Ctrl+Shift+S",onClick:async()=>await o(Zn.saveAs()),children:"Save As"}),h.jsx(Qe,{onClick:()=>x("export"),secondaryContent:p?"  X":"Ctrl+Shift+X",children:"Export"}),h.jsx(An,{}),h.jsx(is,{name:"save",value:"auto",children:"Auto Save"})]})})]}),h.jsxs(Wa,{hasIcons:!0,children:[h.jsx(Pa,{children:h.jsx(Vn,{className:i.menuTrigger,appearance:"transparent",children:"Edit"})}),h.jsx(ei,{children:h.jsxs(ti,{children:[h.jsx(Qe,{onClick:()=>j("undo"),secondaryContent:p?" Z":"Ctrl+Z",children:"Undo"}),h.jsx(Qe,{onClick:()=>j("redo"),secondaryContent:p?"  Z":"Ctrl+Y",children:"Redo"}),h.jsx(An,{}),h.jsx(Qe,{onClick:()=>C("actions.find"),secondaryContent:p?" F":"Ctrl+F",children:"Find"}),h.jsx(Qe,{onClick:()=>C("editor.action.startFindReplaceAction"),secondaryContent:p?"  F":"Ctrl+H",children:"Replace"}),h.jsx(An,{}),h.jsx(Qe,{secondaryContent:p?" /":"Ctrl+/",onClick:()=>C("editor.action.commentLine"),children:"Toggle Line Comment"})]})})]}),h.jsxs(Wa,{hasIcons:!0,children:[h.jsx(Pa,{children:h.jsx(Vn,{className:i.menuTrigger,appearance:"transparent",children:"Selection"})}),h.jsx(ei,{children:h.jsxs(ti,{children:[h.jsx(Qe,{secondaryContent:p?"   ":"Shift+Alt+RightArrow",onClick:()=>C("editor.action.smartSelect.expand"),children:"Expand Selection"}),h.jsx(Qe,{secondaryContent:p?"   ":"Shift+Alt+LeftArrow",onClick:()=>C("editor.action.smartSelect.shrink"),children:"Shrink Selection"}),h.jsx(An,{}),h.jsx(Qe,{onClick:()=>C("editor.action.duplicateSelection"),children:"Duplicate Selection"})]})})]}),h.jsxs(Wa,{hasCheckmarks:!0,checkedValues:c.checkedValues,onCheckedValueChange:g,children:[h.jsx(Pa,{children:h.jsx(Vn,{className:i.menuTrigger,appearance:"transparent",children:"View"})}),h.jsx(ei,{children:h.jsxs(ti,{children:[h.jsx(Qe,{secondaryContent:"F1",onClick:()=>C("editor.action.quickCommand"),children:"Command Palette"}),h.jsx(An,{}),h.jsxs(Wa,{hasCheckmarks:!0,checkedValues:c.checkedValues,onCheckedValueChange:g,children:[h.jsx(Pa,{disableButtonEnhancement:!0,children:h.jsx(Qe,{children:"Appearance"})}),h.jsx(ei,{children:h.jsxs(ti,{children:[h.jsx(is,{name:"panels",value:rt.Panels.PRI_SIDEBAR,children:"Primary Side Bar"}),h.jsx(is,{name:"panels",value:rt.Panels.SEC_SIDEBAR,children:"Secondary Side Bar"}),h.jsx(is,{name:"panels",value:rt.Panels.PANEL,children:"Panel"})]})})]}),h.jsx(An,{}),h.jsx(Mr,{name:"section",value:"examples",secondaryContent:p?"  E":"Ctrl+Shift+E",children:"Examples"}),h.jsx(Mr,{name:"section",value:"export",secondaryContent:p?"  X":"Ctrl+Shift+X",children:"Export"}),h.jsx(Mr,{name:"section",value:"emulator",secondaryContent:p?"  Y":"Ctrl+Shift+Y",children:"Emulator"}),h.jsx(Mr,{name:"section",value:"documentation",secondaryContent:p?"  D":"Ctrl+Shift+D",children:"Documentation"}),h.jsx(Mr,{name:"section",value:"welcome",secondaryContent:p?"  W":"Ctrl+Shift+W",children:"Welcome"}),h.jsx(An,{}),h.jsx(is,{name:"panels",value:rt.Panels.PANEL,secondaryContent:p?"  M":"Ctrl+Shift+M",children:"Problems"}),h.jsx(is,{name:"panels",value:rt.Panels.SEC_SIDEBAR,secondaryContent:p?"  U":"Ctrl+Shift+U",children:"Output"})]})})]}),h.jsxs(Wa,{hasCheckmarks:!0,children:[h.jsx(Pa,{children:h.jsx(Vn,{className:i.menuTrigger,appearance:"transparent",children:"Go"})}),h.jsx(ei,{children:h.jsxs(ti,{children:[h.jsx(Qe,{disabled:!0,secondaryContent:"F12",children:"Go to Definition"}),h.jsx(Qe,{disabled:!0,children:"Go to Declaration"}),h.jsx(Qe,{disabled:!0,children:"Go to Type Definition"}),h.jsx(Qe,{disabled:!0,secondaryContent:"Ctrl+F12",children:"Go to Implementations"}),h.jsx(Qe,{disabled:!0,secondaryContent:"Shift+F12",children:"Go to References"}),h.jsx(An,{}),h.jsx(Qe,{secondaryContent:p?" G":"Ctrl+G",onClick:()=>a(gs.gotoLine()),children:"Go to Line/Column"}),h.jsx(Qe,{secondaryContent:p?"  O":"Shift+Ctrl+O",onClick:()=>C("editor.action.quickOutline"),children:"Go to Symbol"}),h.jsx(An,{}),h.jsx(Qe,{secondaryContent:"F8",onClick:()=>C("editor.action.marker.next"),children:"Next Problem"}),h.jsx(Qe,{secondaryContent:p?" F8":"Shift+F8",onClick:()=>C("editor.action.marker.prev"),children:"Previous Problem"})]})})]}),h.jsxs(Wa,{hasCheckmarks:!0,children:[h.jsx(Pa,{children:h.jsx(Vn,{className:i.menuTrigger,appearance:"transparent",children:"Help"})}),h.jsx(ei,{children:h.jsxs(ti,{children:[h.jsxs(Mp,{children:[h.jsx(Rp,{children:"Getting Started"}),h.jsx(Qe,{onClick:()=>x("welcome"),children:"Welcome"}),h.jsx(Qe,{secondaryContent:"F1",onClick:()=>C("editor.action.quickCommand"),children:"Show All Commands"}),h.jsx(Qe,{onClick:()=>x("documentation"),children:"Documentation"})]}),h.jsx(An,{}),h.jsxs(Mp,{children:[h.jsx(Rp,{children:"Related Sites"}),h.jsx(Wf,{href:Dl.Blog,target:"_blank",children:"Blog"}),h.jsx(Wf,{href:Dl.Simulator,target:"_blank",children:"Simulator"}),h.jsx(Wf,{href:Dl.GitHubSource,target:"_blank",children:"GitHub Source"})]})]})})]})]})}const Gy=Ca(J0,F0),qy=Ca(I0,k0),Xy=Ca(P0,W0),Yy=Ut({toolbar:{justifyContent:"space-between",color:D.colorNeutralForeground2,backgroundColor:D.colorNeutralBackground1,padding:"0 .5rem 0 1.2rem"},toggle:{backgroundColor:D.colorNeutralBackground1,color:D.colorNeutralForeground4},dirtyIndicator:{color:D.colorStatusWarningForeground1}});function Vy(c){const i=Yy(),{prefs:a,onPrefsChange:o}=c,p=lg(a,rt.Panels),f=a.autoSave??!0,d=(m,{name:b,checkedItems:g})=>{o(x=>ag(x,b,g,rt.Panels))};return h.jsxs(qc,{checkedValues:p,onCheckedValueChange:d,"aria-label":"Default",className:i.toolbar,size:"small",children:[h.jsxs(cl,{role:"presentation",children:[h.jsx(K0,{style:{marginRight:".5rem"}}),h.jsx(Hy,{prefs:a,onPrefsChange:o,checkedValues:p,onCheckedValueChange:d,dirty:c.dirty})]}),h.jsx(cl,{role:"presentation",children:!f&&c.dirty&&h.jsx(Ke,{size:200,className:i.dirtyIndicator,children:" Unsaved changes "})}),h.jsxs(cl,{role:"presentation",children:[h.jsx(Ke,{weight:"semibold",size:200,style:{marginRight:"1rem",color:D.colorBrandForeground2},children:"Relay Computer IDE"}),h.jsx(Fe,{content:"Toggle Primary Side Bar",relationship:"description",positioning:"below-end",withArrow:!0,children:h.jsx(Bc,{className:i.toggle,icon:h.jsx(Gy,{}),name:"panels",appearance:"transparent",value:rt.Panels.PRI_SIDEBAR})}),h.jsx(Fe,{content:"Toggle Bottom Panel",relationship:"description",positioning:"below-start",withArrow:!0,children:h.jsx(Bc,{className:i.toggle,icon:h.jsx(Xy,{}),name:"panels",appearance:"transparent",value:rt.Panels.PANEL})}),h.jsx(Fe,{content:"Toggle Secondary Side Bar",relationship:"description",positioning:"below-start",withArrow:!0,children:h.jsx(Bc,{className:i.toggle,icon:h.jsx(qy,{}),name:"panels",appearance:"transparent",value:rt.Panels.SEC_SIDEBAR})})]})]})}const Zy=w.memo(Vy),Qy=Ca(ty,ey),Ky=Ca(ly,ny),Fy=Ca(iy,ay),Jy=Ca(ry,sy),ky=Ca(cy,uy),Iy=Ut({toolbar:{justifyContent:"space-between",backgroundColor:D.colorNeutralBackground2,padding:"0.3rem .7rem"},toggle:{backgroundColor:D.colorNeutralBackground2,color:D.colorNeutralForeground4,padding:".7rem .8rem"},icon:{minWidth:"1.9rem",minHeight:"1.9rem"}});function Wy(c){const{prefs:i,onPrefsChange:a}=c,o=lg(i,rt.Panels),p=(d,{name:m,checkedItems:b})=>{a(g=>ag(g,m,b,rt.Panels))},f=Iy();return h.jsxs(qc,{"aria-label":"Default",className:f.toolbar,vertical:!0,onCheckedValueChange:p,checkedValues:o,children:[h.jsxs(cl,{children:[h.jsx(Fe,{content:"Code Examples",relationship:"description",positioning:"after",withArrow:!0,children:h.jsx(ba,{className:f.toggle,icon:h.jsx(Jy,{className:f.icon}),name:"section",appearance:"transparent",value:"examples"})}),h.jsx(Fe,{content:"Export Code",relationship:"description",positioning:"after",withArrow:!0,children:h.jsx(ba,{className:f.toggle,icon:h.jsx(ky,{className:f.icon}),name:"section",appearance:"transparent",value:"export"})}),h.jsx(Fe,{content:"Emulator",relationship:"description",positioning:"after",withArrow:!0,children:h.jsx(ba,{className:f.toggle,"aria-label":"Underline",icon:h.jsx(Fy,{className:f.icon}),name:"section",appearance:"transparent",value:"emulator"})}),h.jsx(Fe,{content:"Documentation",relationship:"description",positioning:"after",withArrow:!0,children:h.jsx(ba,{className:f.toggle,"aria-label":"Italic",icon:h.jsx(Ky,{className:f.icon}),name:"section",appearance:"transparent",value:"documentation"})}),h.jsx(Fe,{content:"Welcome",relationship:"description",positioning:"after",withArrow:!0,children:h.jsx(ba,{className:f.toggle,"aria-label":"Italic",icon:h.jsx(Qy,{className:f.icon}),name:"section",appearance:"transparent",value:"welcome"})})]}),h.jsx(cl,{role:"presentation",children:h.jsx(Fe,{content:"Toggle Assembler Output",relationship:"description",positioning:"after",withArrow:!0,children:h.jsx(Bc,{className:f.toggle,icon:h.jsx(oy,{className:f.icon}),name:"panels",appearance:"transparent",value:rt.Panels.SEC_SIDEBAR})})})]})}const Py=w.memo(Wy);class ev{editor;constructor(i){this.editor=i}focus(){this.editor.focus()}loadCode(i){this.editor.setValue(i),this.editor.focus(),this.editor.revealLineInCenter(1)}gotoLine(i,a){this.editor.revealLineInCenterIfOutsideViewport(i,ps.ScrollType.Smooth),this.editor.setPosition({lineNumber:i,column:a??1}),this.editor.focus()}runAction(i){this.editor.focus(),this.editor.getAction(i)?.run()}runKeyboardAction(i){this.editor.trigger("keyboard",i,{})}get onDidChangeCursorPosition(){return this.editor.onDidChangeCursorPosition}get onDidChangeModelContent(){return this.editor.onDidChangeModelContent}getValue(){return this.editor.getValue()}getModel(){return this.editor.getModel()}dispose(){this.editor.dispose()}}const tv=Ut({root:{position:"relative",width:"100%",height:"100%",minHeight:0},overlay:{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"transparent",pointerEvents:"none"},dropZone:{border:`2px dashed ${D.colorPaletteBlueBorderActive}`,backgroundColor:D.colorNeutralBackground1Hover,color:D.colorNeutralForeground1,padding:"24px 32px",borderRadius:D.borderRadiusMedium,boxShadow:D.shadow4,fontSize:"14px",pointerEvents:"auto",minWidth:"320px",textAlign:"center"},hint:{marginTop:"6px",color:D.colorNeutralForeground3,fontSize:"12px"}});function nv({initialCode:c,onCodeChange:i,onMount:a,onPositionChange:o,onValidate:p}){const f=w.useRef(null),d=w.useRef(null),m=tv(),b=w.useRef(a),g=w.useRef(void 0),x=w.useRef(void 0),C=Ur(),[j,M]=w.useState(!1),[$,V]=w.useState(!1),Q=w.useRef(0);w.useEffect(()=>{if(f.current){if(!d.current){const re=ps.create(f.current,{theme:window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"vs-dark":"vs-light",value:c,language:"rcasm",lineNumbers:"on",renderLineHighlight:"none",padding:{top:15},automaticLayout:!0,scrollBeyondLastLine:!0,tabFocusMode:!1});re.addAction({id:"rcasm-jump-to-assembled",label:"Go to Assembled",contextMenuGroupId:"navigation",contextMenuOrder:1.5,run:k=>{const X=k.getPosition();X&&C.execute(Zn.jumpToAssembled(X.lineNumber))}}),d.current=new ev(re)}return M(!0),()=>{g?.current?.dispose(),x?.current?.dispose(),d.current?.dispose(),d.current=null}}},[]),w.useEffect(()=>{j&&b&&b.current&&b.current(d.current)},[j]),w.useEffect(()=>{if(!(!j||!d.current))return C.subscribe("editor",re=>{const k=d.current;if(k)switch(re.type){case"editor.gotoLine":re.lineNumber?k.gotoLine(re.lineNumber,re.column):k.runAction("editor.action.gotoLine");break;case"editor.doMonacoKeyboardAction":k.runKeyboardAction(re.id);break;case"editor.doMonacoAction":k.runAction(re.actionId)}})},[j,C]),w.useEffect(()=>{j&&o&&(x.current?.dispose(),x.current=d.current?.onDidChangeCursorPosition(re=>{o(re)}))},[j,o]),w.useEffect(()=>{j&&i&&(g.current?.dispose(),g.current=d.current?.onDidChangeModelContent(()=>i(d.current.getValue())))},[j,i]),w.useEffect(()=>{if(j){const re=ps.onDidChangeMarkers(k=>{const X=d.current.getModel()?.uri;if(X&&k.find(me=>me.path===X.path)){const me=ps.getModelMarkers({resource:X});p?.(me)}});return()=>re?.dispose()}return()=>{}},[j,p]);const K=w.useCallback(re=>{Array.from(re.dataTransfer.types).includes("Files")&&(re.preventDefault(),re.dataTransfer.dropEffect="copy")},[]),P=w.useCallback(re=>{Array.from(re.dataTransfer.types).includes("Files")&&(Q.current+=1,V(!0))},[]),te=w.useCallback(re=>{Array.from(re.dataTransfer.types).includes("Files")&&(Q.current-=1,Q.current<=0&&(V(!1),Q.current=0))},[]),Ae=w.useCallback(async re=>{const k=re.dataTransfer;if(!k)return;re.preventDefault(),V(!1),Q.current=0;const X=k.files?.[0];if(!X||!X.name.toLowerCase().endsWith(".rcasm")&&X.type&&X.type!=="text/plain")return;const me=await X.text();d.current?.loadCode(me)},[d]);return h.jsx("div",{className:m.root,style:{height:"100%"},onDragOver:K,onDragEnter:P,onDragLeave:te,onDrop:Ae,ref:f,children:$&&h.jsx("div",{className:m.overlay,"aria-hidden":"true",children:h.jsxs("div",{className:m.dropZone,children:["Drop your .rcasm file to open",h.jsx("div",{className:m.hint,children:"Only .rcasm or text files are accepted"})]})})})}const lv=w.memo(nv);function av(c,i,a=!0){const o=w.useRef(!0);w.useEffect(o.current||!a?()=>{o.current=!1}:c,i)}function iv(c){return new Worker("/assets/editor.worker-CdQrwHl8.js",{name:c?.name})}const sv={comments:{lineComment:";"},brackets:[["{","}"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"(",close:")"},{open:"'",close:"'",notIn:["string","comment"]},{open:'"',close:'"',notIn:["string"]}],surroundingPairs:[{open:"{",close:"}"},{open:"(",close:")"}],wordPattern:/(-?\d*\.\d\w*)|([a-zA-Z_][\w]*)/},rv={defaultToken:"",ignoreCase:!0,tokenPostfix:".rcasm",keywords:["add","and","bcs","beq","ble","blt","bmi","bne","clr","cmp","eor","hlr","hlt","inc","ixy","jmp","jsr","rts","ldi","ldr","lds","mov","not","opc","org","orr","rol","str"],registers:["a","b","c","d","j","j1","j2","m","m1","m2","x","y","xy"],operators:["=","+","-","*","/","%"],symbols:/[=><!~?:&|+\-*/^%]+/,tokenizer:{root:[[/[a-z_]*:/,"type.identifier"],[/![a-z]+/,"keyword.directive"],[/[a-z]\w*/,{cases:{"@keywords":"keyword","@registers":"type.register","@default":"identifier"}}],[/[ \t\r\n]+/,""],[/;.*$/,"comment"],[/[{}()]/,"@brackets"],[/[,]/,"delimiter"],[/@symbols/,{cases:{"@operators":"operator","@default":""}}],[/0[xX][0-9a-fA-F]+/,"number.hex"],[/[0-1]+b/,"number.binary"],[/[0-9]+d?/,"number"],[/"([^"\\]|\\.)*$/,"string.invalid"],[/"/,{token:"string.quote",bracket:"@open",next:"@string"}]],string:[[/[^\\"]+/,"string"],[/"/,{token:"string.quote",bracket:"@close",next:"@pop"}]]}},uv={},cv={defaultToken:"",ignoreCase:!1,tokenPostfix:".rcdsm",tokenizer:{root:[[/.*/,"invalid"],[/[ \t\r\n]+/,""],[/[0-9A-F]{4}:/,"number.hex"],[/[0-9A-F]{2}/,"keyword"],[/.*/,"comment"]]}};self.MonacoEnvironment={getWorker(c,i){return console.log(`Requesting worker for: ${i}`),new iv}};oi.register({id:"rcasm"});oi.register({id:"rcdsm"});oi.setLanguageConfiguration("rcasm",sv);oi.setMonarchTokensProvider("rcasm",rv);oi.setLanguageConfiguration("rcdsm",uv);oi.setMonarchTokensProvider("rcdsm",cv);const rg=new Worker("/lsp/rcasm/server.js",{type:"module"});rg.postMessage({type:"browser/boot",mode:"foreground"});const ov=Ry(rg);new Ty(ov);let ug;function fv(c){ug=c}let cg;function dv(c){cg=c}oi.registerCodeLensProvider("rcdsm",{provideCodeLenses:(c,i)=>{const a=ug?.labels;if(!a)return{lenses:[],dispose:()=>{}};const o=[];return c.getLinesContent().forEach((p,f)=>{if(i.isCancellationRequested)return{lenses:[],dispose:()=>{}};const d=p.substring(0,4),m=a?.[d];m&&o.push({range:new Ny(f+1,1,f+1,1),id:`${d}:${m.name}`,command:{id:cg??"",title:m.name,arguments:[d]}})}),{lenses:o,dispose:()=>{}}},resolveCodeLens:function(c,i){return i}});class hv{editor;constructor(i){this.editor=i}setAssembly(i){this.editor.setValue(i.dasm),fv(i)}gotoAddress(i){const a=i.toString(16).toUpperCase().padStart(4,"0"),o=this.getLineNumberFromHexAddress(a);o&&(this.editor.revealLineInCenterIfOutsideViewport(o,ps.ScrollType.Smooth),this.editor.setPosition({lineNumber:o,column:1}),this.editor.focus())}dispose(){this.editor.dispose()}getLineNumberFromHexAddress(i){const a=this.editor.getModel();if(!a)return;const o=a.findMatches(i+":",!1,!1,!1,null,!1);if(o.length>0)return o[0].range.startLineNumber}}function mv({assembly:c}){const i=w.useRef(null),a=w.useRef(null),[o,p]=w.useState(!1),f=Ur();return w.useEffect(()=>{if(i.current){if(!a.current){const d=ps.create(i.current,{value:c?.dasm??"",theme:window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"vs-dark":"vs-light",language:"rcdsm",lineNumbers:"off",renderLineHighlight:"none",readOnly:!0,domReadOnly:!0,padding:{top:15},minimap:{enabled:!1},glyphMargin:!1,automaticLayout:!0,scrollBeyondLastLine:!1});d.addAction({id:"rcdsm-jump-to-source",label:"Go to Source",contextMenuGroupId:"navigation",contextMenuOrder:1.5,run:b=>{const g=b.getPosition(),x=g?b.getModel()?.getLineContent(g.lineNumber).substring(0,4):"";if(!x)return;const C=parseInt(x,16);f.execute(Zn.jumpToSource(C))}});const m=d.addCommand(0,(b,g)=>{if(g){const x=parseInt(g,16);f.execute(Zn.jumpToSource(x))}});dv(m),a.current=new hv(d)}return p(!0),()=>{a.current?.dispose(),a.current=null,p(!1)}}},[]),av(()=>{!a.current||c===void 0||a.current.setAssembly(c)},[c],o),w.useEffect(()=>{if(!(!o||!a.current))return f.subscribe("output",d=>{const m=a.current;if(m)switch(d.type){case"output.gotoAddress":m.gotoAddress(d.address)}})},[o,f]),h.jsx("div",{style:{height:"100%"},ref:i})}const pv=w.memo(mv),Xc=w.createContext(null);Xc.displayName="PanelGroupContext";const ut={group:"data-panel-group",groupDirection:"data-panel-group-direction",groupId:"data-panel-group-id",panel:"data-panel",panelCollapsible:"data-panel-collapsible",panelId:"data-panel-id",panelSize:"data-panel-size",resizeHandle:"data-resize-handle",resizeHandleActive:"data-resize-handle-active",resizeHandleEnabled:"data-panel-resize-handle-enabled",resizeHandleId:"data-panel-resize-handle-id",resizeHandleState:"data-resize-handle-state"},yd=10,ui=w.useLayoutEffect,$p=fy.useId,gv=typeof $p=="function"?$p:()=>null;let yv=0;function vd(c=null){const i=gv(),a=w.useRef(c||i||null);return a.current===null&&(a.current=""+yv++),c??a.current}function og({children:c,className:i="",collapsedSize:a,collapsible:o,defaultSize:p,forwardedRef:f,id:d,maxSize:m,minSize:b,onCollapse:g,onExpand:x,onResize:C,order:j,style:M,tagName:$="div",...V}){const Q=w.useContext(Xc);if(Q===null)throw Error("Panel components must be rendered within a PanelGroup container");const{collapsePanel:K,expandPanel:P,getPanelSize:te,getPanelStyle:Ae,groupId:re,isPanelCollapsed:k,reevaluatePanelConstraints:X,registerPanel:pe,resizePanel:me,unregisterPanel:et}=Q,je=vd(d),ve=w.useRef({callbacks:{onCollapse:g,onExpand:x,onResize:C},constraints:{collapsedSize:a,collapsible:o,defaultSize:p,maxSize:m,minSize:b},id:je,idIsFromProps:d!==void 0,order:j});w.useRef({didLogMissingDefaultSizeWarning:!1}),ui(()=>{const{callbacks:Be,constraints:_e}=ve.current,ee={..._e};ve.current.id=je,ve.current.idIsFromProps=d!==void 0,ve.current.order=j,Be.onCollapse=g,Be.onExpand=x,Be.onResize=C,_e.collapsedSize=a,_e.collapsible=o,_e.defaultSize=p,_e.maxSize=m,_e.minSize=b,(ee.collapsedSize!==_e.collapsedSize||ee.collapsible!==_e.collapsible||ee.maxSize!==_e.maxSize||ee.minSize!==_e.minSize)&&X(ve.current,ee)}),ui(()=>{const Be=ve.current;return pe(Be),()=>{et(Be)}},[j,je,pe,et]),w.useImperativeHandle(f,()=>({collapse:()=>{K(ve.current)},expand:Be=>{P(ve.current,Be)},getId(){return je},getSize(){return te(ve.current)},isCollapsed(){return k(ve.current)},isExpanded(){return!k(ve.current)},resize:Be=>{me(ve.current,Be)}}),[K,P,te,k,je,me]);const nt=Ae(ve.current,p);return w.createElement($,{...V,children:c,className:i,id:je,style:{...nt,...M},[ut.groupId]:re,[ut.panel]:"",[ut.panelCollapsible]:o||void 0,[ut.panelId]:je,[ut.panelSize]:parseFloat(""+nt.flexGrow).toFixed(1)})}const cs=w.forwardRef((c,i)=>w.createElement(og,{...c,forwardedRef:i}));og.displayName="Panel";cs.displayName="forwardRef(Panel)";let dd=null,wc=-1,Sa=null;function vv(c,i,a){const o=(i&pg)!==0,p=(i&gg)!==0,f=(i&yg)!==0,d=(i&vg)!==0;if(i){if(o)return f?"se-resize":d?"ne-resize":"e-resize";if(p)return f?"sw-resize":d?"nw-resize":"w-resize";if(f)return"s-resize";if(d)return"n-resize"}switch(c){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}function bv(){Sa!==null&&(document.head.removeChild(Sa),dd=null,Sa=null,wc=-1)}function td(c,i,a){var o,p;const f=vv(c,i);if(dd!==f){if(dd=f,Sa===null&&(Sa=document.createElement("style"),document.head.appendChild(Sa)),wc>=0){var d;(d=Sa.sheet)===null||d===void 0||d.removeRule(wc)}wc=(o=(p=Sa.sheet)===null||p===void 0?void 0:p.insertRule(`*{cursor: ${f} !important;}`))!==null&&o!==void 0?o:-1}}function fg(c){return c.type==="keydown"}function dg(c){return c.type.startsWith("pointer")}function hg(c){return c.type.startsWith("mouse")}function Yc(c){if(dg(c)){if(c.isPrimary)return{x:c.clientX,y:c.clientY}}else if(hg(c))return{x:c.clientX,y:c.clientY};return{x:1/0,y:1/0}}function Sv(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}function xv(c,i,a){return c.x<i.x+i.width&&c.x+c.width>i.x&&c.y<i.y+i.height&&c.y+c.height>i.y}function Cv(c,i){if(c===i)throw new Error("Cannot compare node with itself");const a={a:Lp(c),b:Lp(i)};let o;for(;a.a.at(-1)===a.b.at(-1);)c=a.a.pop(),i=a.b.pop(),o=c;ze(o,"Stacking order can only be calculated for elements with a common ancestor");const p={a:wp(Bp(a.a)),b:wp(Bp(a.b))};if(p.a===p.b){const f=o.childNodes,d={a:a.a.at(-1),b:a.b.at(-1)};let m=f.length;for(;m--;){const b=f[m];if(b===d.a)return 1;if(b===d.b)return-1}}return Math.sign(p.a-p.b)}const zv=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function Av(c){var i;const a=getComputedStyle((i=mg(c))!==null&&i!==void 0?i:c).display;return a==="flex"||a==="inline-flex"}function jv(c){const i=getComputedStyle(c);return!!(i.position==="fixed"||i.zIndex!=="auto"&&(i.position!=="static"||Av(c))||+i.opacity<1||"transform"in i&&i.transform!=="none"||"webkitTransform"in i&&i.webkitTransform!=="none"||"mixBlendMode"in i&&i.mixBlendMode!=="normal"||"filter"in i&&i.filter!=="none"||"webkitFilter"in i&&i.webkitFilter!=="none"||"isolation"in i&&i.isolation==="isolate"||zv.test(i.willChange)||i.webkitOverflowScrolling==="touch")}function Bp(c){let i=c.length;for(;i--;){const a=c[i];if(ze(a,"Missing node"),jv(a))return a}return null}function wp(c){return c&&Number(getComputedStyle(c).zIndex)||0}function Lp(c){const i=[];for(;c;)i.push(c),c=mg(c);return i}function mg(c){const{parentNode:i}=c;return i&&i instanceof ShadowRoot?i.host:i}const pg=1,gg=2,yg=4,vg=8,Ev=Sv()==="coarse";let Qn=[],ys=!1,xa=new Map,Vc=new Map;const wr=new Set;function Mv(c,i,a,o,p){var f;const{ownerDocument:d}=i,m={direction:a,element:i,hitAreaMargins:o,setResizeHandlerState:p},b=(f=xa.get(d))!==null&&f!==void 0?f:0;return xa.set(d,b+1),wr.add(m),Hc(),function(){var x;Vc.delete(c),wr.delete(m);const C=(x=xa.get(d))!==null&&x!==void 0?x:1;if(xa.set(d,C-1),Hc(),C===1&&xa.delete(d),Qn.includes(m)){const j=Qn.indexOf(m);j>=0&&Qn.splice(j,1),Zc(),p("up",!0,null)}}}function Rv(c){const{target:i}=c,{x:a,y:o}=Yc(c);ys=!0,bd({target:i,x:a,y:o}),Hc(),Qn.length>0&&(Gc("down",c),Zc(),c.preventDefault(),bg(i)||c.stopImmediatePropagation())}function nd(c){const{x:i,y:a}=Yc(c);if(ys&&c.type!=="pointerleave"&&c.buttons===0&&(ys=!1,Gc("up",c)),!ys){const{target:o}=c;bd({target:o,x:i,y:a})}Gc("move",c),Zc(),Qn.length>0&&c.preventDefault()}function ld(c){const{target:i}=c,{x:a,y:o}=Yc(c);Vc.clear(),ys=!1,Qn.length>0&&(c.preventDefault(),bg(i)||c.stopImmediatePropagation()),Gc("up",c),bd({target:i,x:a,y:o}),Zc(),Hc()}function bg(c){let i=c;for(;i;){if(i.hasAttribute(ut.resizeHandle))return!0;i=i.parentElement}return!1}function bd({target:c,x:i,y:a}){Qn.splice(0);let o=null;(c instanceof HTMLElement||c instanceof SVGElement)&&(o=c),wr.forEach(p=>{const{element:f,hitAreaMargins:d}=p,m=f.getBoundingClientRect(),{bottom:b,left:g,right:x,top:C}=m,j=Ev?d.coarse:d.fine;if(i>=g-j&&i<=x+j&&a>=C-j&&a<=b+j){if(o!==null&&document.contains(o)&&f!==o&&!f.contains(o)&&!o.contains(f)&&Cv(o,f)>0){let $=o,V=!1;for(;$&&!$.contains(f);){if(xv($.getBoundingClientRect(),m)){V=!0;break}$=$.parentElement}if(V)return}Qn.push(p)}})}function ad(c,i){Vc.set(c,i)}function Zc(){let c=!1,i=!1;Qn.forEach(o=>{const{direction:p}=o;p==="horizontal"?c=!0:i=!0});let a=0;Vc.forEach(o=>{a|=o}),c&&i?td("intersection",a):c?td("horizontal",a):i?td("vertical",a):bv()}let id;function Hc(){var c;(c=id)===null||c===void 0||c.abort(),id=new AbortController;const i={capture:!0,signal:id.signal};wr.size&&(ys?(Qn.length>0&&xa.forEach((a,o)=>{const{body:p}=o;a>0&&(p.addEventListener("contextmenu",ld,i),p.addEventListener("pointerleave",nd,i),p.addEventListener("pointermove",nd,i))}),xa.forEach((a,o)=>{const{body:p}=o;p.addEventListener("pointerup",ld,i),p.addEventListener("pointercancel",ld,i)})):xa.forEach((a,o)=>{const{body:p}=o;a>0&&(p.addEventListener("pointerdown",Rv,i),p.addEventListener("pointermove",nd,i))}))}function Gc(c,i){wr.forEach(a=>{const{setResizeHandlerState:o}=a,p=Qn.includes(a);o(c,p,i)})}function Tv(){const[c,i]=w.useState(0);return w.useCallback(()=>i(a=>a+1),[])}function ze(c,i){if(!c)throw console.error(i),Error(i)}function ci(c,i,a=yd){return c.toFixed(a)===i.toFixed(a)?0:c>i?1:-1}function Nl(c,i,a=yd){return ci(c,i,a)===0}function gn(c,i,a){return ci(c,i,a)===0}function Nv(c,i,a){if(c.length!==i.length)return!1;for(let o=0;o<c.length;o++){const p=c[o],f=i[o];if(!gn(p,f,a))return!1}return!0}function ms({panelConstraints:c,panelIndex:i,size:a}){const o=c[i];ze(o!=null,`Panel constraints not found for index ${i}`);let{collapsedSize:p=0,collapsible:f,maxSize:d=100,minSize:m=0}=o;if(ci(a,m)<0)if(f){const b=(p+m)/2;ci(a,b)<0?a=p:a=m}else a=m;return a=Math.min(d,a),a=parseFloat(a.toFixed(yd)),a}function $r({delta:c,initialLayout:i,panelConstraints:a,pivotIndices:o,prevLayout:p,trigger:f}){if(gn(c,0))return i;const d=[...i],[m,b]=o;ze(m!=null,"Invalid first pivot index"),ze(b!=null,"Invalid second pivot index");let g=0;if(f==="keyboard"){{const C=c<0?b:m,j=a[C];ze(j,`Panel constraints not found for index ${C}`);const{collapsedSize:M=0,collapsible:$,minSize:V=0}=j;if($){const Q=i[C];if(ze(Q!=null,`Previous layout not found for panel index ${C}`),gn(Q,M)){const K=V-Q;ci(K,Math.abs(c))>0&&(c=c<0?0-K:K)}}}{const C=c<0?m:b,j=a[C];ze(j,`No panel constraints found for index ${C}`);const{collapsedSize:M=0,collapsible:$,minSize:V=0}=j;if($){const Q=i[C];if(ze(Q!=null,`Previous layout not found for panel index ${C}`),gn(Q,V)){const K=Q-M;ci(K,Math.abs(c))>0&&(c=c<0?0-K:K)}}}}{const C=c<0?1:-1;let j=c<0?b:m,M=0;for(;;){const V=i[j];ze(V!=null,`Previous layout not found for panel index ${j}`);const K=ms({panelConstraints:a,panelIndex:j,size:100})-V;if(M+=K,j+=C,j<0||j>=a.length)break}const $=Math.min(Math.abs(c),Math.abs(M));c=c<0?0-$:$}{let j=c<0?m:b;for(;j>=0&&j<a.length;){const M=Math.abs(c)-Math.abs(g),$=i[j];ze($!=null,`Previous layout not found for panel index ${j}`);const V=$-M,Q=ms({panelConstraints:a,panelIndex:j,size:V});if(!gn($,Q)&&(g+=$-Q,d[j]=Q,g.toFixed(3).localeCompare(Math.abs(c).toFixed(3),void 0,{numeric:!0})>=0))break;c<0?j--:j++}}if(Nv(p,d))return p;{const C=c<0?b:m,j=i[C];ze(j!=null,`Previous layout not found for panel index ${C}`);const M=j+g,$=ms({panelConstraints:a,panelIndex:C,size:M});if(d[C]=$,!gn($,M)){let V=M-$,K=c<0?b:m;for(;K>=0&&K<a.length;){const P=d[K];ze(P!=null,`Previous layout not found for panel index ${K}`);const te=P+V,Ae=ms({panelConstraints:a,panelIndex:K,size:te});if(gn(P,Ae)||(V-=Ae-P,d[K]=Ae),gn(V,0))break;c>0?K--:K++}}}const x=d.reduce((C,j)=>j+C,0);return gn(x,100)?d:p}function Dv({layout:c,panelsArray:i,pivotIndices:a}){let o=0,p=100,f=0,d=0;const m=a[0];ze(m!=null,"No pivot index found"),i.forEach((C,j)=>{const{constraints:M}=C,{maxSize:$=100,minSize:V=0}=M;j===m?(o=V,p=$):(f+=V,d+=$)});const b=Math.min(p,100-f),g=Math.max(o,100-d),x=c[m];return{valueMax:b,valueMin:g,valueNow:x}}function Lr(c,i=document){return Array.from(i.querySelectorAll(`[${ut.resizeHandleId}][data-panel-group-id="${c}"]`))}function Sg(c,i,a=document){const p=Lr(c,a).findIndex(f=>f.getAttribute(ut.resizeHandleId)===i);return p??null}function xg(c,i,a){const o=Sg(c,i,a);return o!=null?[o,o+1]:[-1,-1]}function $v(c){return c instanceof HTMLElement?!0:typeof c=="object"&&c!==null&&"tagName"in c&&"getAttribute"in c}function Cg(c,i=document){if($v(i)&&i.dataset.panelGroupId==c)return i;const a=i.querySelector(`[data-panel-group][data-panel-group-id="${c}"]`);return a||null}function Qc(c,i=document){const a=i.querySelector(`[${ut.resizeHandleId}="${c}"]`);return a||null}function Bv(c,i,a,o=document){var p,f,d,m;const b=Qc(i,o),g=Lr(c,o),x=b?g.indexOf(b):-1,C=(p=(f=a[x])===null||f===void 0?void 0:f.id)!==null&&p!==void 0?p:null,j=(d=(m=a[x+1])===null||m===void 0?void 0:m.id)!==null&&d!==void 0?d:null;return[C,j]}function wv({committedValuesRef:c,eagerValuesRef:i,groupId:a,layout:o,panelDataArray:p,panelGroupElement:f,setLayout:d}){w.useRef({didWarnAboutMissingResizeHandle:!1}),ui(()=>{if(!f)return;const m=Lr(a,f);for(let b=0;b<p.length-1;b++){const{valueMax:g,valueMin:x,valueNow:C}=Dv({layout:o,panelsArray:p,pivotIndices:[b,b+1]}),j=m[b];if(j!=null){const M=p[b];ze(M,`No panel data found for index "${b}"`),j.setAttribute("aria-controls",M.id),j.setAttribute("aria-valuemax",""+Math.round(g)),j.setAttribute("aria-valuemin",""+Math.round(x)),j.setAttribute("aria-valuenow",C!=null?""+Math.round(C):"")}}return()=>{m.forEach((b,g)=>{b.removeAttribute("aria-controls"),b.removeAttribute("aria-valuemax"),b.removeAttribute("aria-valuemin"),b.removeAttribute("aria-valuenow")})}},[a,o,p,f]),w.useEffect(()=>{if(!f)return;const m=i.current;ze(m,"Eager values not found");const{panelDataArray:b}=m,g=Cg(a,f);ze(g!=null,`No group found for id "${a}"`);const x=Lr(a,f);ze(x,`No resize handles found for group id "${a}"`);const C=x.map(j=>{const M=j.getAttribute(ut.resizeHandleId);ze(M,"Resize handle element has no handle id attribute");const[$,V]=Bv(a,M,b,f);if($==null||V==null)return()=>{};const Q=K=>{if(!K.defaultPrevented)switch(K.key){case"Enter":{K.preventDefault();const P=b.findIndex(te=>te.id===$);if(P>=0){const te=b[P];ze(te,`No panel data found for index ${P}`);const Ae=o[P],{collapsedSize:re=0,collapsible:k,minSize:X=0}=te.constraints;if(Ae!=null&&k){const pe=$r({delta:gn(Ae,re)?X-re:re-Ae,initialLayout:o,panelConstraints:b.map(me=>me.constraints),pivotIndices:xg(a,M,f),prevLayout:o,trigger:"keyboard"});o!==pe&&d(pe)}}break}}};return j.addEventListener("keydown",Q),()=>{j.removeEventListener("keydown",Q)}});return()=>{C.forEach(j=>j())}},[f,c,i,a,o,p,d])}function Op(c,i){if(c.length!==i.length)return!1;for(let a=0;a<c.length;a++)if(c[a]!==i[a])return!1;return!0}function zg(c,i){const a=c==="horizontal",{x:o,y:p}=Yc(i);return a?o:p}function Lv(c,i,a,o,p){const f=a==="horizontal",d=Qc(i,p);ze(d,`No resize handle element found for id "${i}"`);const m=d.getAttribute(ut.groupId);ze(m,"Resize handle element has no group id attribute");let{initialCursorPosition:b}=o;const g=zg(a,c),x=Cg(m,p);ze(x,`No group element found for id "${m}"`);const C=x.getBoundingClientRect(),j=f?C.width:C.height;return(g-b)/j*100}function Ov(c,i,a,o,p,f){if(fg(c)){const d=a==="horizontal";let m=0;c.shiftKey?m=100:p!=null?m=p:m=10;let b=0;switch(c.key){case"ArrowDown":b=d?0:m;break;case"ArrowLeft":b=d?-m:0;break;case"ArrowRight":b=d?m:0;break;case"ArrowUp":b=d?0:-m;break;case"End":b=100;break;case"Home":b=-100;break}return b}else return o==null?0:Lv(c,i,a,o,f)}function Uv({panelDataArray:c}){const i=Array(c.length),a=c.map(f=>f.constraints);let o=0,p=100;for(let f=0;f<c.length;f++){const d=a[f];ze(d,`Panel constraints not found for index ${f}`);const{defaultSize:m}=d;m!=null&&(o++,i[f]=m,p-=m)}for(let f=0;f<c.length;f++){const d=a[f];ze(d,`Panel constraints not found for index ${f}`);const{defaultSize:m}=d;if(m!=null)continue;const b=c.length-o,g=p/b;o++,i[f]=g,p-=g}return i}function ss(c,i,a){i.forEach((o,p)=>{const f=c[p];ze(f,`Panel data not found for index ${p}`);const{callbacks:d,constraints:m,id:b}=f,{collapsedSize:g=0,collapsible:x}=m,C=a[b];if(C==null||o!==C){a[b]=o;const{onCollapse:j,onExpand:M,onResize:$}=d;$&&$(o,C),x&&(j||M)&&(M&&(C==null||Nl(C,g))&&!Nl(o,g)&&M(),j&&(C==null||!Nl(C,g))&&Nl(o,g)&&j())}})}function Rc(c,i){if(c.length!==i.length)return!1;for(let a=0;a<c.length;a++)if(c[a]!=i[a])return!1;return!0}function _v({defaultSize:c,dragState:i,layout:a,panelData:o,panelIndex:p,precision:f=3}){const d=a[p];let m;return d==null?m=c!=null?c.toFixed(f):"1":o.length===1?m="1":m=d.toFixed(f),{flexBasis:0,flexGrow:m,flexShrink:1,overflow:"hidden",pointerEvents:i!==null?"none":void 0}}function Hv(c,i=10){let a=null;return(...p)=>{a!==null&&clearTimeout(a),a=setTimeout(()=>{c(...p)},i)}}function Up(c){try{if(typeof localStorage<"u")c.getItem=i=>localStorage.getItem(i),c.setItem=(i,a)=>{localStorage.setItem(i,a)};else throw new Error("localStorage not supported in this environment")}catch(i){console.error(i),c.getItem=()=>null,c.setItem=()=>{}}}function Ag(c){return`react-resizable-panels:${c}`}function jg(c){return c.map(i=>{const{constraints:a,id:o,idIsFromProps:p,order:f}=i;return p?o:f?`${f}:${JSON.stringify(a)}`:JSON.stringify(a)}).sort((i,a)=>i.localeCompare(a)).join(",")}function Eg(c,i){try{const a=Ag(c),o=i.getItem(a);if(o){const p=JSON.parse(o);if(typeof p=="object"&&p!=null)return p}}catch{}return null}function Gv(c,i,a){var o,p;const f=(o=Eg(c,a))!==null&&o!==void 0?o:{},d=jg(i);return(p=f[d])!==null&&p!==void 0?p:null}function qv(c,i,a,o,p){var f;const d=Ag(c),m=jg(i),b=(f=Eg(c,p))!==null&&f!==void 0?f:{};b[m]={expandToSizes:Object.fromEntries(a.entries()),layout:o};try{p.setItem(d,JSON.stringify(b))}catch(g){console.error(g)}}function _p({layout:c,panelConstraints:i}){const a=[...c],o=a.reduce((f,d)=>f+d,0);if(a.length!==i.length)throw Error(`Invalid ${i.length} panel layout: ${a.map(f=>`${f}%`).join(", ")}`);if(!gn(o,100)&&a.length>0)for(let f=0;f<i.length;f++){const d=a[f];ze(d!=null,`No layout data found for index ${f}`);const m=100/o*d;a[f]=m}let p=0;for(let f=0;f<i.length;f++){const d=a[f];ze(d!=null,`No layout data found for index ${f}`);const m=ms({panelConstraints:i,panelIndex:f,size:d});d!=m&&(p+=d-m,a[f]=m)}if(!gn(p,0))for(let f=0;f<i.length;f++){const d=a[f];ze(d!=null,`No layout data found for index ${f}`);const m=d+p,b=ms({panelConstraints:i,panelIndex:f,size:m});if(d!==b&&(p-=b-d,a[f]=b,gn(p,0)))break}return a}const Xv=100,Br={getItem:c=>(Up(Br),Br.getItem(c)),setItem:(c,i)=>{Up(Br),Br.setItem(c,i)}},Hp={};function Mg({autoSaveId:c=null,children:i,className:a="",direction:o,forwardedRef:p,id:f=null,onLayout:d=null,keyboardResizeBy:m=null,storage:b=Br,style:g,tagName:x="div",...C}){const j=vd(f),M=w.useRef(null),[$,V]=w.useState(null),[Q,K]=w.useState([]),P=Tv(),te=w.useRef({}),Ae=w.useRef(new Map),re=w.useRef(0),k=w.useRef({autoSaveId:c,direction:o,dragState:$,id:j,keyboardResizeBy:m,onLayout:d,storage:b}),X=w.useRef({layout:Q,panelDataArray:[],panelDataArrayChanged:!1});w.useRef({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),w.useImperativeHandle(p,()=>({getId:()=>k.current.id,getLayout:()=>{const{layout:J}=X.current;return J},setLayout:J=>{const{onLayout:ue}=k.current,{layout:ge,panelDataArray:ce}=X.current,le=_p({layout:J,panelConstraints:ce.map(ye=>ye.constraints)});Op(ge,le)||(K(le),X.current.layout=le,ue&&ue(le),ss(ce,le,te.current))}}),[]),ui(()=>{k.current.autoSaveId=c,k.current.direction=o,k.current.dragState=$,k.current.id=j,k.current.onLayout=d,k.current.storage=b}),wv({committedValuesRef:k,eagerValuesRef:X,groupId:j,layout:Q,panelDataArray:X.current.panelDataArray,setLayout:K,panelGroupElement:M.current}),w.useEffect(()=>{const{panelDataArray:J}=X.current;if(c){if(Q.length===0||Q.length!==J.length)return;let ue=Hp[c];ue==null&&(ue=Hv(qv,Xv),Hp[c]=ue);const ge=[...J],ce=new Map(Ae.current);ue(c,ge,ce,Q,b)}},[c,Q,b]),w.useEffect(()=>{});const pe=w.useCallback(J=>{const{onLayout:ue}=k.current,{layout:ge,panelDataArray:ce}=X.current;if(J.constraints.collapsible){const le=ce.map(Rt=>Rt.constraints),{collapsedSize:ye=0,panelSize:Te,pivotIndices:We}=ni(ce,J,ge);if(ze(Te!=null,`Panel size not found for panel "${J.id}"`),!Nl(Te,ye)){Ae.current.set(J.id,Te);const Bt=os(ce,J)===ce.length-1?Te-ye:ye-Te,He=$r({delta:Bt,initialLayout:ge,panelConstraints:le,pivotIndices:We,prevLayout:ge,trigger:"imperative-api"});Rc(ge,He)||(K(He),X.current.layout=He,ue&&ue(He),ss(ce,He,te.current))}}},[]),me=w.useCallback((J,ue)=>{const{onLayout:ge}=k.current,{layout:ce,panelDataArray:le}=X.current;if(J.constraints.collapsible){const ye=le.map(ct=>ct.constraints),{collapsedSize:Te=0,panelSize:We=0,minSize:Rt=0,pivotIndices:Bt}=ni(le,J,ce),He=ue??Rt;if(Nl(We,Te)){const ct=Ae.current.get(J.id),Rn=ct!=null&&ct>=He?ct:He,za=os(le,J)===le.length-1?We-Rn:Rn-We,bt=$r({delta:za,initialLayout:ce,panelConstraints:ye,pivotIndices:Bt,prevLayout:ce,trigger:"imperative-api"});Rc(ce,bt)||(K(bt),X.current.layout=bt,ge&&ge(bt),ss(le,bt,te.current))}}},[]),et=w.useCallback(J=>{const{layout:ue,panelDataArray:ge}=X.current,{panelSize:ce}=ni(ge,J,ue);return ze(ce!=null,`Panel size not found for panel "${J.id}"`),ce},[]),je=w.useCallback((J,ue)=>{const{panelDataArray:ge}=X.current,ce=os(ge,J);return _v({defaultSize:ue,dragState:$,layout:Q,panelData:ge,panelIndex:ce})},[$,Q]),ve=w.useCallback(J=>{const{layout:ue,panelDataArray:ge}=X.current,{collapsedSize:ce=0,collapsible:le,panelSize:ye}=ni(ge,J,ue);return ze(ye!=null,`Panel size not found for panel "${J.id}"`),le===!0&&Nl(ye,ce)},[]),nt=w.useCallback(J=>{const{layout:ue,panelDataArray:ge}=X.current,{collapsedSize:ce=0,collapsible:le,panelSize:ye}=ni(ge,J,ue);return ze(ye!=null,`Panel size not found for panel "${J.id}"`),!le||ci(ye,ce)>0},[]),Be=w.useCallback(J=>{const{panelDataArray:ue}=X.current;ue.push(J),ue.sort((ge,ce)=>{const le=ge.order,ye=ce.order;return le==null&&ye==null?0:le==null?-1:ye==null?1:le-ye}),X.current.panelDataArrayChanged=!0,P()},[P]);ui(()=>{if(X.current.panelDataArrayChanged){X.current.panelDataArrayChanged=!1;const{autoSaveId:J,onLayout:ue,storage:ge}=k.current,{layout:ce,panelDataArray:le}=X.current;let ye=null;if(J){const We=Gv(J,le,ge);We&&(Ae.current=new Map(Object.entries(We.expandToSizes)),ye=We.layout)}ye==null&&(ye=Uv({panelDataArray:le}));const Te=_p({layout:ye,panelConstraints:le.map(We=>We.constraints)});Op(ce,Te)||(K(Te),X.current.layout=Te,ue&&ue(Te),ss(le,Te,te.current))}}),ui(()=>{const J=X.current;return()=>{J.layout=[]}},[]);const _e=w.useCallback(J=>{let ue=!1;const ge=M.current;return ge&&window.getComputedStyle(ge,null).getPropertyValue("direction")==="rtl"&&(ue=!0),function(le){le.preventDefault();const ye=M.current;if(!ye)return()=>null;const{direction:Te,dragState:We,id:Rt,keyboardResizeBy:Bt,onLayout:He}=k.current,{layout:ct,panelDataArray:Rn}=X.current,{initialLayout:vt}=We??{},za=xg(Rt,J,ye);let bt=Ov(le,J,Te,We,Bt,ye);const ol=Te==="horizontal";ol&&ue&&(bt=-bt);const wl=Rn.map(ja=>ja.constraints),Tn=$r({delta:bt,initialLayout:vt??ct,panelConstraints:wl,pivotIndices:za,prevLayout:ct,trigger:fg(le)?"keyboard":"mouse-or-touch"}),Aa=!Rc(ct,Tn);(dg(le)||hg(le))&&re.current!=bt&&(re.current=bt,!Aa&&bt!==0?ol?ad(J,bt<0?pg:gg):ad(J,bt<0?yg:vg):ad(J,0)),Aa&&(K(Tn),X.current.layout=Tn,He&&He(Tn),ss(Rn,Tn,te.current))}},[]),ee=w.useCallback((J,ue)=>{const{onLayout:ge}=k.current,{layout:ce,panelDataArray:le}=X.current,ye=le.map(ct=>ct.constraints),{panelSize:Te,pivotIndices:We}=ni(le,J,ce);ze(Te!=null,`Panel size not found for panel "${J.id}"`);const Bt=os(le,J)===le.length-1?Te-ue:ue-Te,He=$r({delta:Bt,initialLayout:ce,panelConstraints:ye,pivotIndices:We,prevLayout:ce,trigger:"imperative-api"});Rc(ce,He)||(K(He),X.current.layout=He,ge&&ge(He),ss(le,He,te.current))},[]),I=w.useCallback((J,ue)=>{const{layout:ge,panelDataArray:ce}=X.current,{collapsedSize:le=0,collapsible:ye}=ue,{collapsedSize:Te=0,collapsible:We,maxSize:Rt=100,minSize:Bt=0}=J.constraints,{panelSize:He}=ni(ce,J,ge);He!=null&&(ye&&We&&Nl(He,le)?Nl(le,Te)||ee(J,Te):He<Bt?ee(J,Bt):He>Rt&&ee(J,Rt))},[ee]),we=w.useCallback((J,ue)=>{const{direction:ge}=k.current,{layout:ce}=X.current;if(!M.current)return;const le=Qc(J,M.current);ze(le,`Drag handle element not found for id "${J}"`);const ye=zg(ge,ue);V({dragHandleId:J,dragHandleRect:le.getBoundingClientRect(),initialCursorPosition:ye,initialLayout:ce})},[]),_t=w.useCallback(()=>{V(null)},[]),Mt=w.useCallback(J=>{const{panelDataArray:ue}=X.current,ge=os(ue,J);ge>=0&&(ue.splice(ge,1),delete te.current[J.id],X.current.panelDataArrayChanged=!0,P())},[P]),at=w.useMemo(()=>({collapsePanel:pe,direction:o,dragState:$,expandPanel:me,getPanelSize:et,getPanelStyle:je,groupId:j,isPanelCollapsed:ve,isPanelExpanded:nt,reevaluatePanelConstraints:I,registerPanel:Be,registerResizeHandle:_e,resizePanel:ee,startDragging:we,stopDragging:_t,unregisterPanel:Mt,panelGroupElement:M.current}),[pe,$,o,me,et,je,j,ve,nt,I,Be,_e,ee,we,_t,Mt]),Je={display:"flex",flexDirection:o==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return w.createElement(Xc.Provider,{value:at},w.createElement(x,{...C,children:i,className:a,id:f,ref:M,style:{...Je,...g},[ut.group]:"",[ut.groupDirection]:o,[ut.groupId]:j}))}const hd=w.forwardRef((c,i)=>w.createElement(Mg,{...c,forwardedRef:i}));Mg.displayName="PanelGroup";hd.displayName="forwardRef(PanelGroup)";function os(c,i){return c.findIndex(a=>a===i||a.id===i.id)}function ni(c,i,a){const o=os(c,i),f=o===c.length-1?[o-1,o]:[o,o+1],d=a[o];return{...i.constraints,panelSize:d,pivotIndices:f}}function Yv({disabled:c,handleId:i,resizeHandler:a,panelGroupElement:o}){w.useEffect(()=>{if(c||a==null||o==null)return;const p=Qc(i,o);if(p==null)return;const f=d=>{if(!d.defaultPrevented)switch(d.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":{d.preventDefault(),a(d);break}case"F6":{d.preventDefault();const m=p.getAttribute(ut.groupId);ze(m,`No group element found for id "${m}"`);const b=Lr(m,o),g=Sg(m,i,o);ze(g!==null,`No resize element found for id "${i}"`);const x=d.shiftKey?g>0?g-1:b.length-1:g+1<b.length?g+1:0;b[x].focus();break}}};return p.addEventListener("keydown",f),()=>{p.removeEventListener("keydown",f)}},[o,c,i,a])}function Lc({children:c=null,className:i="",disabled:a=!1,hitAreaMargins:o,id:p,onBlur:f,onClick:d,onDragging:m,onFocus:b,onPointerDown:g,onPointerUp:x,style:C={},tabIndex:j=0,tagName:M="div",...$}){var V,Q;const K=w.useRef(null),P=w.useRef({onClick:d,onDragging:m,onPointerDown:g,onPointerUp:x});w.useEffect(()=>{P.current.onClick=d,P.current.onDragging=m,P.current.onPointerDown=g,P.current.onPointerUp=x});const te=w.useContext(Xc);if(te===null)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:Ae,groupId:re,registerResizeHandle:k,startDragging:X,stopDragging:pe,panelGroupElement:me}=te,et=vd(p),[je,ve]=w.useState("inactive"),[nt,Be]=w.useState(!1),[_e,ee]=w.useState(null),I=w.useRef({state:je});ui(()=>{I.current.state=je}),w.useEffect(()=>{if(a)ee(null);else{const at=k(et);ee(()=>at)}},[a,et,k]);const we=(V=o?.coarse)!==null&&V!==void 0?V:15,_t=(Q=o?.fine)!==null&&Q!==void 0?Q:5;w.useEffect(()=>{if(a||_e==null)return;const at=K.current;ze(at,"Element ref not attached");let Je=!1;return Mv(et,at,Ae,{coarse:we,fine:_t},(ue,ge,ce)=>{if(!ge){ve("inactive");return}switch(ue){case"down":{ve("drag"),Je=!1,ze(ce,'Expected event to be defined for "down" action'),X(et,ce);const{onDragging:le,onPointerDown:ye}=P.current;le?.(!0),ye?.();break}case"move":{const{state:le}=I.current;Je=!0,le!=="drag"&&ve("hover"),ze(ce,'Expected event to be defined for "move" action'),_e(ce);break}case"up":{ve("hover"),pe();const{onClick:le,onDragging:ye,onPointerUp:Te}=P.current;ye?.(!1),Te?.(),Je||le?.();break}}})},[we,Ae,a,_t,k,et,_e,X,pe]),Yv({disabled:a,handleId:et,resizeHandler:_e,panelGroupElement:me});const Mt={touchAction:"none",userSelect:"none"};return w.createElement(M,{...$,children:c,className:i,id:p,onBlur:()=>{Be(!1),f?.()},onFocus:()=>{Be(!0),b?.()},ref:K,role:"separator",style:{...Mt,...C},tabIndex:j,[ut.groupDirection]:Ae,[ut.groupId]:re,[ut.resizeHandle]:"",[ut.resizeHandleActive]:je==="drag"?"pointer":nt?"keyboard":void 0,[ut.resizeHandleEnabled]:!a,[ut.resizeHandleId]:et,[ut.resizeHandleState]:je})}Lc.displayName="PanelResizeHandle";const Sd=Ut({root:{height:"100%",minHeight:0,display:"flex",flexDirection:"column"},header:{textTransform:"uppercase",color:D.colorNeutralForeground3,padding:`${D.spacingVerticalM} ${D.spacingHorizontalL} ${D.spacingVerticalNone}`},content:{minHeight:0,flexGrow:1,overflowY:"auto"},footer:{color:D.colorStatusWarningForeground1,padding:`${D.spacingVerticalSNudge} ${D.spacingHorizontalL} ${D.spacingVerticalMNudge}`,lineHeight:D.lineHeightBase100}});function Rg({children:c}){const i=Sd();return h.jsx("div",{className:i.footer,children:c})}function _r({children:c}){const i=Sd();return h.jsx("div",{className:i.content,children:c})}function Hr({title:c,children:i}){const a=Sd();return h.jsxs("div",{className:a.root,children:[h.jsx("header",{className:a.header,children:h.jsx(Ke,{as:"h2",size:200,children:c})}),i]})}const Vv=Ut({contentHeader:{padding:`${D.spacingVerticalS} ${D.spacingHorizontalL} 0`,color:D.colorNeutralForeground2},para:{marginTop:0,marginBottom:D.spacingVerticalS}});function Zv(){const c=Vv();return h.jsx(Hr,{title:"Welcome",children:h.jsx(_r,{children:h.jsxs("div",{className:c.contentHeader,children:[h.jsx("p",{className:c.para,children:"This is an 'Integrated Development Environment' (IDE) for writing programs in an assembly language specific to my relay computer."}),h.jsxs("p",{className:c.para,children:["More details on my relay computer can be found at",h.jsx(Uc,{href:Dl.Blog,target:"_blank",rel:"noreferrer noopener",children:Dl.Blog}),"and a full simulation is available at",h.jsx(Uc,{href:Dl.Simulator,target:"_blank",rel:"noreferrer noopener",children:Dl.Simulator})]})]})})})}const Qv=w.memo(Zv);function yn(c,i){const a=i<=2?255:65535;return((c??0)&a).toString(16).toUpperCase().padStart(i,"0")}function Tg(c,i){const a=i<=2?255:65535;return((c??0)&a).toString(2).padStart(i*4,"0")}function Ng(c){return String(c??0)}const Kv=Ut({root:{flexGrow:1,display:"grid",gridTemplateColumns:"3px 12px auto 1fr 1fr auto 12px 3px 12px 1fr 1fr 1fr",gridTemplateRows:"repeat(20, 1fr)",textAlign:"center"},code:{fontFamily:'Menlo, Monaco, "Courier New", monospace',fontWeight:D.fontWeightRegular,fontSize:D.fontSizeBase200,color:D.colorNeutralForeground2,lineHeight:D.lineHeightBase200},dgBus:{borderRight:`3px solid ${D.colorBrandStroke2}`},dgLink:{borderTop:`2px solid ${D.colorBrandStroke2}`},dgLinkU:{borderBottom:`2px solid ${D.colorBrandStroke2}`},dgR8V:{margin:"1px 0",borderLeft:`1px solid ${D.colorNeutralStroke1}`,borderTop:`1px solid ${D.colorNeutralStroke1}`,borderBottom:`1px solid ${D.colorNeutralStroke1}`,padding:`${D.spacingHorizontalXXS} ${D.spacingHorizontalM}`,borderTopLeftRadius:D.borderRadiusMedium,borderBottomLeftRadius:D.borderRadiusMedium,backgroundColor:D.colorNeutralBackground1,cursor:"default"},dgR16V:{margin:"1px 0",borderRight:`1px solid ${D.colorNeutralStroke1}`,borderTop:`1px solid ${D.colorNeutralStroke1}`,borderBottom:`1px solid ${D.colorNeutralStroke1}`,padding:`${D.spacingVerticalXXS} ${D.spacingHorizontalM}`,borderTopRightRadius:D.borderRadiusMedium,borderBottomRightRadius:D.borderRadiusMedium,alignContent:"center",backgroundColor:D.colorNeutralBackground1,cursor:"default"},dgRLab:{margin:"1px 0",borderTop:`1px solid ${D.colorNeutralStroke1}`,borderBottom:`1px solid ${D.colorNeutralStroke1}`,alignContent:"center",fontSize:D.fontSizeBase200,fontWeight:D.fontWeightMedium,color:D.colorNeutralForeground2},dgR8E:{margin:"1px 0",borderRight:`1px solid ${D.colorNeutralStroke1}`,borderTop:`1px solid ${D.colorNeutralStroke1}`,borderBottom:`1px solid ${D.colorNeutralStroke1}`,borderTopRightRadius:D.borderRadiusMedium,borderBottomRightRadius:D.borderRadiusMedium},dgPCV:{borderLeft:`1px solid ${D.colorNeutralStroke1}`,borderTop:`1px solid ${D.colorNeutralStroke1}`,borderBottom:`1px solid ${D.colorNeutralStroke1}`,padding:`${D.spacingVerticalXXS} ${D.spacingHorizontalM}`,borderTopLeftRadius:D.borderRadiusMedium,borderBottomLeftRadius:D.borderRadiusMedium,alignContent:"center",backgroundColor:D.colorNeutralBackground1,cursor:"default"},dgPCLab:{borderRight:`1px solid ${D.colorNeutralStroke1}`,borderTop:`1px solid ${D.colorNeutralStroke1}`,borderBottom:`1px solid ${D.colorNeutralStroke1}`,borderTopRightRadius:D.borderRadiusMedium,borderBottomRightRadius:D.borderRadiusMedium,alignContent:"center",fontSize:D.fontSizeBase200,fontWeight:D.fontWeightMedium,color:D.colorNeutralForeground2},dgAILab:{fontSize:D.fontSizeBase200,fontWeight:D.fontWeightMedium,borderRight:`1px solid ${D.colorNeutralStroke1}`,borderTop:`1px solid ${D.colorNeutralStroke1}`,borderLeft:`1px solid ${D.colorNeutralStroke1}`,borderTopRightRadius:D.borderRadiusMedium,borderTopLeftRadius:D.borderRadiusMedium,alignContent:"center",color:D.colorNeutralForeground2},dgAIBL:{borderBottom:`1px solid ${D.colorNeutralStroke1}`,borderLeft:`1px solid ${D.colorNeutralStroke1}`,borderBottomLeftRadius:D.borderRadiusMedium,alignContent:"center",backgroundColor:D.colorNeutralBackground1,cursor:"default"},dgAIBM:{borderBottom:`1px solid ${D.colorNeutralStroke1}`,alignContent:"center",backgroundColor:D.colorNeutralBackground1,cursor:"default"},dgAIBR:{borderBottom:`1px solid ${D.colorNeutralStroke1}`,borderRight:`1px solid ${D.colorNeutralStroke1}`,borderBottomRightRadius:D.borderRadiusMedium,alignContent:"center",backgroundColor:D.colorNeutralBackground1,cursor:"default"},posC3:{gridColumn:"3 / 3"},posC4_5:{gridColumn:"4 / 5"},posC5_6:{gridColumn:"5 / 6"},posC6_7:{gridColumn:"6 / 7"},posR1_3:{gridRow:"1 / 3"},posR3_5:{gridRow:"3 / 5"},posR5_7:{gridRow:"5 / 7"},posR7_9:{gridRow:"7 / 9"},posR9_11:{gridRow:"9 / 11"},posR9_13:{gridRow:"9 / 13"},posR11_13:{gridRow:"11 / 13"},posR13_15:{gridRow:"13 / 15"},posR13_17:{gridRow:"13 / 17"},posR15_17:{gridRow:"15 / 17"},posR17_19:{gridRow:"17 / 19"},posR17_21:{gridRow:"17 / 21"},posR19_21:{gridRow:"19 / 21"},posC1R2_20:{gridColumn:"1 / 1",gridRow:"2 / 20"},posC2R2:{gridColumn:"2 / 2",gridRow:"2 / 2"},posC2R4:{gridColumn:"2 / 2",gridRow:"4 / 4"},posC2R6:{gridColumn:"2 / 2",gridRow:"6 / 6"},posC2R8:{gridColumn:"2 / 2",gridRow:"8 / 8"},posC2R10:{gridColumn:"2 / 2",gridRow:"10 / 10"},posC2R12:{gridColumn:"2 / 2",gridRow:"12 / 12"},posC2R14:{gridColumn:"2 / 2",gridRow:"14 / 14"},posC2R16:{gridColumn:"2 / 2",gridRow:"16 / 16"},posC2R18:{gridColumn:"2 / 2",gridRow:"18 / 18"},posC2R19:{gridColumn:"2 / 2",gridRow:"19 / 19"},posC7_8R4:{gridColumn:"7 / 8",gridRow:"4 / 4"},posC7_8R5:{gridColumn:"7 / 8",gridRow:"5 / 5"},posC8_9R4_6:{gridColumn:"8 / 9",gridRow:"4 / 6"},posC9_10R5:{gridColumn:"9 / 10",gridRow:"5 / 5"},posC7_8R11_12:{gridColumn:"7 / 8",gridRow:"11 / 12"},posC7_8R15_16:{gridColumn:"7 / 8",gridRow:"15 / 16"},posC7_8R18_19:{gridColumn:"7 / 8",gridRow:"18 / 19"},posC8_9R11_19:{gridColumn:"8 / 9",gridRow:"11 / 19"},posC9_10R18_19:{gridColumn:"9 / 10",gridRow:"18 / 19"},psL:{gridColumn:"12 / 13",gridRow:"15 / 17"},psV:{gridColumn:"10 / 12",gridRow:"15 / 17"},pcL:{gridColumn:"12 / 13",gridRow:"18 / 20"},pcV:{gridColumn:"10 / 12",gridRow:"18 / 20"},aluL:{gridColumn:"10 / 13",gridRow:"2 / 4"},aluS:{textAlign:"right",gridColumn:"10 / 11",gridRow:"4 / 7"},aluC:{gridColumn:"11 / 12",gridRow:"4 / 7"},aluZ:{textAlign:"left",gridColumn:"12 / 13",gridRow:"4 / 7"},instrL:{gridColumn:"10 / 13",gridRow:"9 / 11"},instrV:{textAlign:"right",gridColumn:"10 / 11",gridRow:"11 / 13"},instrCls:{paddingLeft:"3px",gridColumn:"11 / 13",gridRow:"11 / 13"}}),sd=w.memo(function({name:i,set:a}){return h.jsxs("div",{children:[h.jsxs("small",{children:[i," Flag"]}),h.jsx("br",{}),h.jsx("code",{children:a?"SET":"CLEAR"})]})});function vs({title:c,value:i,width:a,showDec:o=!1}){return h.jsxs("div",{children:[h.jsx("small",{children:c}),h.jsx("br",{}),h.jsxs("code",{children:["Hex: ",yn(i,a),h.jsx("br",{}),"Bin: ",Tg(i,a),o&&h.jsxs(h.Fragment,{children:[h.jsx("br",{}),"Dec: ",Ng(i)]})]})]})}const Tc=w.memo(function({label:i,value:a,rowCls:o,styles:p}){return h.jsxs(h.Fragment,{children:[h.jsx(Fe,{withArrow:!0,appearance:"inverted",relationship:"label",positioning:"after",content:h.jsx(vs,{title:`Register ${i}`,value:a,width:2,showDec:!0}),children:h.jsx("div",{className:`${p.dgR8V} ${p.posC3} ${o}`,children:h.jsx("code",{className:p.code,children:yn(a,2)})})}),h.jsx("div",{className:`${p.dgRLab} ${p.posC4_5} ${o}`}),h.jsx("div",{className:`${p.dgRLab} ${p.posC5_6} ${o}`,children:i}),h.jsx("div",{className:`${p.dgR8E} ${p.posC6_7} ${o}`})]})}),rs=w.memo(function({label:i,value:a,rowCls:o,styles:p}){return h.jsxs(h.Fragment,{children:[h.jsx(Fe,{withArrow:!0,appearance:"inverted",relationship:"label",positioning:"after",content:h.jsx(vs,{title:`Register ${i}`,value:a,width:2,showDec:!0}),children:h.jsx("div",{className:`${p.dgR8V} ${p.posC3} ${o}`,children:h.jsx("code",{className:p.code,children:yn(a,2)})})}),h.jsx("div",{className:`${p.dgRLab} ${p.posC4_5} ${o}`,children:i})]})}),rd=w.memo(function({label:i,value:a,rowCls:o,styles:p}){return h.jsxs(h.Fragment,{children:[h.jsx("div",{className:`${p.dgRLab} ${p.posC5_6} ${o}`,children:i}),h.jsx(Fe,{withArrow:!0,appearance:"inverted",relationship:"label",positioning:"after",content:h.jsx(vs,{title:`Register ${i}`,value:a,width:4,showDec:!0}),children:h.jsx("div",{className:`${p.dgR16V} ${p.posC6_7} ${o}`,children:h.jsx("code",{className:p.code,children:yn(a,4)})})})]})}),Fv=w.memo(function({styles:i}){return h.jsxs(h.Fragment,{children:[h.jsx("div",{className:`${i.dgBus} ${i.posC1R2_20}`}),h.jsx("div",{className:`${i.dgLink} ${i.posC2R2}`}),h.jsx("div",{className:`${i.dgLink} ${i.posC2R4}`}),h.jsx("div",{className:`${i.dgLink} ${i.posC2R6}`}),h.jsx("div",{className:`${i.dgLink} ${i.posC2R8}`}),h.jsx("div",{className:`${i.dgLink} ${i.posC2R10}`}),h.jsx("div",{className:`${i.dgLink} ${i.posC2R12}`}),h.jsx("div",{className:`${i.dgLink} ${i.posC2R14}`}),h.jsx("div",{className:`${i.dgLink} ${i.posC2R16}`}),h.jsx("div",{className:`${i.dgLink} ${i.posC2R18}`}),h.jsx("div",{className:`${i.dgLinkU} ${i.posC2R19}`}),h.jsx("div",{className:`${i.dgLink} ${i.posC7_8R4}`}),h.jsx("div",{className:`${i.dgLinkU} ${i.posC7_8R5}`}),h.jsx("div",{className:`${i.dgBus} ${i.posC8_9R4_6}`}),h.jsx("div",{className:`${i.dgLink} ${i.posC9_10R5}`}),h.jsx("div",{className:`${i.dgLink} ${i.posC7_8R11_12}`}),h.jsx("div",{className:`${i.dgLink} ${i.posC7_8R15_16}`}),h.jsx("div",{className:`${i.dgLinkU} ${i.posC7_8R18_19}`}),h.jsx("div",{className:`${i.dgBus} ${i.posC8_9R11_19}`}),h.jsx("div",{className:`${i.dgLinkU} ${i.posC9_10R18_19}`}),h.jsx("div",{className:`${i.dgPCLab} ${i.psL}`,children:"PS"}),h.jsx("div",{className:`${i.dgPCLab} ${i.pcL}`,children:"PC"}),h.jsx("div",{className:`${i.dgAILab} ${i.instrL}`,children:"Instruction"}),h.jsx("div",{className:`${i.dgAILab} ${i.aluL}`,children:"ALU"})]})});function Jv({snapshot:c}){const i=Kv(),a=c.M>>>8&255,o=c.M&255,p=c.XY>>>8&255,f=c.XY&255,d=c.J>>>8&255,m=c.J&255;return h.jsxs("div",{className:i.root,children:[h.jsx(Fv,{styles:i}),h.jsx(Tc,{label:"A",value:c.A,styles:i,rowCls:i.posR1_3}),h.jsx(Tc,{label:"B",value:c.B,styles:i,rowCls:i.posR3_5}),h.jsx(Tc,{label:"C",value:c.C,styles:i,rowCls:i.posR5_7}),h.jsx(Tc,{label:"C",value:c.D,styles:i,rowCls:i.posR7_9}),h.jsx(rs,{label:"M1",value:a,styles:i,rowCls:i.posR9_11}),h.jsx(rs,{label:"M2",value:o,styles:i,rowCls:i.posR11_13}),h.jsx(rd,{label:"M",value:c.M,styles:i,rowCls:i.posR9_13}),h.jsx(rs,{label:"X",value:p,styles:i,rowCls:i.posR13_15}),h.jsx(rs,{label:"Y",value:f,styles:i,rowCls:i.posR15_17}),h.jsx(rd,{label:"XY",value:c.XY,styles:i,rowCls:i.posR13_17}),h.jsx(rs,{label:"J1",value:d,styles:i,rowCls:i.posR17_19}),h.jsx(rs,{label:"J2",value:m,styles:i,rowCls:i.posR19_21}),h.jsx(rd,{label:"J",value:c.J,styles:i,rowCls:i.posR17_21}),h.jsx(Fe,{withArrow:!0,appearance:"inverted",relationship:"label",content:h.jsx(vs,{title:"Primary Switches",value:c.PS,width:2,showDec:!0}),children:h.jsx("div",{className:`${i.dgPCV} ${i.psV}`,children:h.jsx("code",{className:i.code,children:yn(c.PS,2)})})}),h.jsx(Fe,{withArrow:!0,appearance:"inverted",relationship:"label",content:h.jsx(vs,{title:"Program Counter",value:c.PC,width:4,showDec:!0}),children:h.jsx("div",{className:`${i.dgPCV} ${i.pcV}`,children:h.jsx("code",{className:i.code,children:yn(c.PC,4)})})}),h.jsx(Fe,{withArrow:!0,appearance:"inverted",relationship:"label",content:h.jsx(sd,{name:"Sign",set:c.FS}),children:h.jsx("div",{className:`${i.dgAIBL} ${i.aluS}`,children:h.jsx(ri,{shape:"circular",color:"brand",appearance:c.FS?"filled":"outline",children:"S"})})}),h.jsx(Fe,{withArrow:!0,appearance:"inverted",relationship:"label",content:h.jsx(sd,{name:"Carry",set:c.FC}),children:h.jsx("div",{className:`${i.dgAIBM} ${i.aluC}`,children:h.jsx(ri,{shape:"circular",color:"brand",appearance:c.FC?"filled":"outline",children:"C"})})}),h.jsx(Fe,{withArrow:!0,appearance:"inverted",relationship:"label",content:h.jsx(sd,{name:"Zero",set:c.FZ}),children:h.jsx("div",{className:`${i.dgAIBR} ${i.aluZ}`,children:h.jsx(ri,{shape:"circular",color:"brand",appearance:c.FZ?"filled":"outline",children:"Z"})})}),h.jsx(Fe,{withArrow:!0,appearance:"inverted",relationship:"label",content:h.jsx(vs,{title:"Instruction",value:c.I,width:2}),children:h.jsx("div",{className:`${i.dgAIBL} ${i.instrV}`,children:h.jsx("code",{className:i.code,children:yn(c.I,2)})})}),h.jsx("div",{className:`${i.dgAIBR} ${i.instrCls}`,children:h.jsx(ri,{size:"small",shape:"rounded",color:"brand",appearance:"outline",children:c.CLS})})]})}const kv=Ut({code:{fontFamily:'Menlo, Monaco, "Courier New", monospace',fontWeight:D.fontWeightRegular,fontSize:D.fontSizeBase200,color:D.colorNeutralForeground2,lineHeight:D.lineHeightBase200},memoryTable:{flexGrow:1,border:`1px solid ${D.colorNeutralStroke1}`,borderSpacing:0,borderCollapse:"collapse"},memTh:{textAlign:"center",fontSize:D.fontSizeBase200,fontWeight:D.fontWeightMedium,borderBottom:`1px solid ${D.colorNeutralStroke1}`,backgroundColor:D.colorNeutralBackground2,color:D.colorNeutralForeground2},memTd:{textAlign:"center",backgroundColor:D.colorNeutralBackground1,borderBottom:`1px solid ${D.colorNeutralStroke2}`,cursor:"default"},pcMarker:{backgroundColor:D.colorBrandBackground,outline:`1px solid ${D.colorBrandStroke1}`},mMarker:{backgroundColor:D.colorStatusSuccessBackground3,outline:`1px solid ${D.colorStatusSuccessBorderActive}`},pcAndMMarker:{backgroundImage:`linear-gradient(135deg,
      ${D.colorBrandBackground} 0%,
      ${D.colorBrandBackground} 50%,
      ${D.colorStatusSuccessBackground3} 50%,
      ${D.colorStatusSuccessBackground3} 100%)`,outline:"1px solid lightGray"},toolbarItem:{color:D.colorNeutralForeground3,padding:"0 .4rem",minWidth:"2rem",marginRight:".2rem"}}),md=32768,Kc=128,Iv=md-Kc;function Dg(c){return Math.max(0,Math.min(Iv,c-c%Kc))}function Tr(c){const i=Math.max(0,c-Kc/2);return Dg(i)}function Gp(c,i){return c>=i&&c<i+Kc}function Wv({memory:c,pc:i,m:a,offset:o,onPrevPage:p,onNextPage:f,onSetOffset:d}){const m=kv(),b=w.useMemo(()=>[...Array(8).keys()],[]),g=w.useMemo(()=>[...Array(16).keys()],[]),[x,C]=w.useState(void 0),j=x?c[x]??0:void 0,[M,$]=w.useState(""),[V,Q]=w.useState(!1),K=je=>{const ve=je.trim();if(!ve)return null;const nt=/^0x([0-9a-fA-F]+)$/.exec(ve)||/^([0-9a-fA-F]+)h$/i.exec(ve);if(nt){const Be=parseInt(nt[1],16);return Number.isFinite(Be)?Math.max(0,Math.min(md-1,Be)):null}if(/^[0-9]+$/.test(ve)){const Be=parseInt(ve,10);return Number.isFinite(Be)?Math.max(0,Math.min(md-1,Be)):null}return null},P=w.useCallback(je=>d?.(Dg(je)),[d]),te=w.useCallback(()=>{const je=K(M);je!=null&&(Q(!1),P(Tr(je)))},[M,P]),Ae=w.useCallback(je=>{je.key==="Enter"&&te()},[te]),[re,k]=w.useState({follow:["none"]}),X=re.follow?.[0]??"none",pe=(je,{name:ve,checkedItems:nt})=>{k(Be=>({...Be,[ve]:nt}))},me=w.useRef(i),et=w.useRef(a);return w.useEffect(()=>{d&&(X==="pc"&&i!==me.current&&!Gp(i&65535,o)&&P(Tr(i&65535)),me.current=i)},[i,X,o,d]),w.useEffect(()=>{d&&(X==="m"&&a!==et.current&&!Gp(a&65535,o)&&P(Tr(a&65535)),et.current=a)},[a,X,o,d]),w.useEffect(()=>{d&&(X==="pc"?P(Tr(i&65535)):X==="m"&&P(Tr(a&65535)))},[X,i,a,d,P]),h.jsx(h.Fragment,{children:h.jsxs("table",{className:m.memoryTable,children:[h.jsx("thead",{children:h.jsxs("tr",{children:[h.jsx("th",{className:m.memTh,style:{width:24},colSpan:2,children:h.jsx(an,{onClick:p,disabled:o===0,icon:h.jsx(dy,{}),size:"small",appearance:"transparent",style:{minWidth:0,flexGrow:1},"aria-label":"Previous page"})}),h.jsxs("th",{className:m.memTh,colSpan:12,children:["Memory (offset ",h.jsx("code",{className:m.code,children:yn(o,4)}),")"]}),h.jsx("th",{className:m.memTh,style:{width:24,textAlign:"right"},colSpan:2,children:h.jsx(an,{disabled:o>=32640,onClick:f,icon:h.jsx(hy,{}),size:"small",appearance:"transparent","aria-label":"Next page",style:{minWidth:0,flexGrow:1}})})]})}),h.jsx("tbody",{children:b.map(je=>h.jsx("tr",{children:g.map(ve=>{const nt=o+je*16+ve,Be=c[nt]??0,_e=(i&65535)===nt,ee=(a&65535)===nt;return h.jsx("td",{className:`${m.memTd} ${ee&&_e?m.pcAndMMarker:ee?m.mMarker:_e?m.pcMarker:""}`,onClick:()=>C(nt),role:"gridcell",children:h.jsx("code",{className:m.code,children:yn(Be,2)})},ve)})},je))}),h.jsx("tfoot",{children:h.jsx("tr",{children:h.jsx("td",{className:m.memTh,colSpan:16,style:{padding:"4px 2px"},children:h.jsxs(qc,{size:"small","aria-label":"Follow options",checkedValues:re,onCheckedValueChange:pe,style:{justifyContent:"space-between",padding:0},children:[h.jsx(cl,{role:"presentation",children:h.jsxs(Wp,{withArrow:!0,trapFocus:!0,open:V,onOpenChange:(je,ve)=>Q(ve.open),children:[h.jsx(Pp,{disableButtonEnhancement:!0,children:h.jsx(Vn,{className:m.toolbarItem,appearance:"subtle",children:h.jsx(Mn,{children:" Goto..."})})}),h.jsxs(eg,{children:[h.jsx(my,{appearance:"filled-darker",size:"small",placeholder:"Go to (e.g. 0x0200, 200h, 512)",value:M,onChange:(je,ve)=>$(ve.value),onKeyDown:Ae,style:{width:220}}),h.jsx(an,{size:"small",onClick:te,children:"Go"})]})]})}),h.jsx(cl,{role:"presentation",children:h.jsx(Fe,{withArrow:!0,relationship:"description",positioning:"above",content:x?h.jsxs("div",{children:[h.jsx("small",{children:"Tracked Memory"}),h.jsx("br",{}),h.jsxs("code",{children:["Address: ",yn(x,4),h.jsx("br",{}),"Hex: ",yn(j??0,2),h.jsx("br",{}),"Bin: ",Tg(j??0,2),h.jsx("br",{}),"Dec: ",Ng(j??0)]})]}):h.jsx("div",{children:"Select a memory location in the table to track that value."}),children:h.jsx(Vn,{className:m.toolbarItem,appearance:"transparent",children:h.jsx(Mn,{children:x==null?"---- : --":h.jsxs(h.Fragment,{children:[h.jsx("code",{className:m.code,children:yn(x,4)})," : ",h.jsx("code",{className:m.code,children:yn(j??0,2)})]})})})})}),h.jsxs(cl,{children:["Follow:",h.jsxs(py,{"aria-label":"Follow mode",children:[h.jsx(ba,{name:"follow",value:"none",appearance:"subtle",size:"small",className:m.toolbarItem,children:"Off"}),h.jsx(Fe,{content:"Follow position of Program Counter",relationship:"description",positioning:"above-end",withArrow:!0,children:h.jsx(ba,{name:"follow",value:"pc",appearance:"subtle",size:"small",className:m.toolbarItem,children:"PC"})}),h.jsx(Fe,{content:"Follow M register target",relationship:"description",positioning:"above-end",withArrow:!0,children:h.jsx(ba,{name:"follow",value:"m",appearance:"subtle",size:"small",className:m.toolbarItem,children:"M"})})]})]})]})})})})]})})}const Pv=w.memo(Wv,(c,i)=>c.offset===i.offset&&c.pc===i.pc&&c.m===i.m&&c.memory===i.memory&&c.version===i.version),Ue={SETAB:0,MOV8:1,ALU:2,LOAD:3,STORE:4,MOV16:5,LDSW:6,HALT:7,INCXY:8,GOTO:9,UNKNOWN:10},e1={[Ue.SETAB]:"SETAB",[Ue.MOV8]:"MOV8",[Ue.ALU]:"ALU",[Ue.LOAD]:"LOAD",[Ue.STORE]:"STORE",[Ue.MOV16]:"MOV16",[Ue.LDSW]:"MISC",[Ue.HALT]:"MISC",[Ue.INCXY]:"INCXY",[Ue.GOTO]:"GOTO",[Ue.UNKNOWN]:"???"};class t1{memory;memVersion=0;regs;trace;getMov8=[];setMov8=[];getMov16=[];setMov16=[];aluFunc=[];loadReg=[];saveReg=[];constructor(i=32768,a){this.memory=new Uint8Array(i),this.trace=a,this.regs={A:0,B:0,C:0,D:0,I:0,PC:0,M:0,XY:0,J:0,FZ:!1,FS:!1,FC:!1,PS:0,CLS:"MOV8",cycles:0},this.initDecodeTables()}initDecodeTables(){const i=this.regs;this.getMov8=[()=>i.A,()=>i.B,()=>i.C,()=>i.D,()=>(i.M&65280)>>8,()=>i.M&255,()=>(i.XY&65280)>>8,()=>i.XY&255],this.setMov8=[a=>i.A=a&255,a=>i.B=a&255,a=>i.C=a&255,a=>i.D=a&255,a=>i.M=i.M&255|(a&255)<<8,a=>i.M=i.M&65280|a&255,a=>i.XY=i.XY&255|(a&255)<<8,a=>i.XY=i.XY&65280|a&255],this.getMov16=[()=>i.M&65535,()=>i.XY&65535,()=>i.J&65535,()=>0],this.setMov16=[a=>i.XY=a&65535,a=>i.PC=a&65535],this.loadReg=[a=>i.A=a&255,a=>i.B=a&255,a=>i.C=a&255,a=>i.D=a&255],this.saveReg=[()=>i.A&255,()=>i.B&255,()=>i.C&255,()=>i.D&255,()=>0],this.aluFunc=[()=>0,()=>i.B+i.C,()=>i.B+1,()=>i.B&i.C,()=>i.B|i.C,()=>i.B^i.C,()=>~i.B&255,()=>(i.B&128)===128?(i.B<<1)+1:i.B<<1]}getMemory(){return this.memory}getMemoryVersion(){return this.memVersion}getSnapshot(){const i=this.regs;return Object.freeze({A:i.A,B:i.B,C:i.C,D:i.D,I:i.I,PC:i.PC,M:i.M,XY:i.XY,J:i.J,FZ:i.FZ,FS:i.FS,FC:i.FC,PS:i.PS,CLS:i.CLS,cycles:i.cycles})}reset(){this.memory.fill(0),this.memVersion++;const i=this.regs;i.A=i.B=i.C=i.D=0,i.I=i.PC=0,i.M=i.XY=i.J=0,i.FC=i.FS=i.FZ=!1,i.PS=0,i.cycles=0}load(i){if(i.length<=2)return;this.reset();const a=i[0]+(i[1]<<8)&65535,o=i.length-2,p=this.memory.length,f=a&32767;if(f+o<=p)this.memory.set(i.subarray(2),f);else{const d=p-f;this.memory.set(i.subarray(2,2+d),f),this.memory.set(i.subarray(2+d),0)}this.memVersion++,this.regs.PC=a&65535}advPC(i){this.regs.PC=this.regs.PC+i&65535}tick(i){this.regs.cycles+=i}decode(i){return(i&192)===64?Ue.SETAB:(i&192)===0?Ue.MOV8:(i&240)===128?Ue.ALU:(i&252)===144?Ue.LOAD:(i&252)===152?Ue.STORE:(i&248)===160?Ue.MOV16:(i&254)===172?Ue.LDSW:(i&254)===174?Ue.HALT:(i&255)===176?Ue.INCXY:(i&192)===192?Ue.GOTO:Ue.UNKNOWN}execSETAB(i){const a=this.regs,o=(i&32)===32,p=(i&16)===16?(i&15)+240:i&15;return o?a.B=p&255:a.A=p&255,this.advPC(1),this.tick(8),!0}execMOV8(i){const a=(i&56)>>3,o=i&7,p=a===o?0:this.getMov8[o]();return this.setMov8[a](p),this.advPC(1),this.tick(8),!0}execALU(i){const a=this.regs,o=(i&8)===8,p=i&7,f=this.aluFunc[p]();a.FZ=(f&255)===0,a.FC=(f&256)===256,a.FS=(f&128)===128;const d=f&255;return o?a.D=d:a.A=d,this.advPC(1),this.tick(8),!0}execLOAD(i){const a=this.regs,o=this.memory,p=i&3,f=o[a.M&32767];return this.advPC(1),this.loadReg[p](f),this.tick(12),!0}execSTORE(i){const a=this.regs,o=this.memory,p=i&3,f=this.saveReg[p]();return this.advPC(1),o[a.M&32767]=f&255,this.memVersion++,this.tick(12),!0}execMOV16(i){const a=(i&4)>>2,o=i&3,p=a===0&&o===1?0:this.getMov16[o]();return this.advPC(1),this.tick(10),this.setMov16[a](p),!0}execLDSW(i){const a=this.regs;return(i&1)===1?a.D=a.PS&255:a.A=a.PS&255,this.advPC(1),this.tick(10),!0}execHALT(i){const a=this.regs,o=(i&1)===1;return this.advPC(1),this.tick(10),o&&(a.PC=a.PS&65535),!1}execINCXY(i){const a=this.regs;return a.XY=a.XY+1&65535,this.advPC(1),this.tick(14),!0}execGOTO(i){const a=this.regs,o=this.memory,p=(i&32)===32,f=(i&16)===16,d=(i&8)===8,m=(i&4)===4,b=(i&2)===2,g=(i&1)===1;this.advPC(1);let x=o[a.PC&32767]<<8&65280;return this.advPC(1),x|=o[a.PC&32767],p?a.J=x&65535:a.M=x&65535,this.advPC(1),g&&(a.XY=a.PC&65535),(f&&a.FS||d&&a.FC||m&&a.FZ||b&&!a.FZ)&&(a.PC=x&65535),this.tick(24),!0}step(){const i=this.regs,a=i.PC,o=i.cycles,p=this.getSnapshot(),f=i.I=this.memory[i.PC&32767]??0,d=this.decode(f);i.CLS=e1[d];let m;switch(d){case Ue.SETAB:m=this.execSETAB(f);break;case Ue.MOV8:m=this.execMOV8(f);break;case Ue.ALU:m=this.execALU(f);break;case Ue.LOAD:m=this.execLOAD(f);break;case Ue.STORE:m=this.execSTORE(f);break;case Ue.MOV16:m=this.execMOV16(f);break;case Ue.LDSW:m=this.execLDSW(f);break;case Ue.HALT:m=this.execHALT(f);break;case Ue.INCXY:m=this.execINCXY(f);break;case Ue.GOTO:m=this.execGOTO(f);break;default:m=!1}if(this.trace){const b=this.getSnapshot();this.trace({pc:a,op:f,kind:d,cls:i.CLS,cyclesDelta:b.cycles-o,before:p,after:b})}return m}flipPrimarySwitchBit(i){const a=Math.max(0,Math.min(7,i|0));this.regs.PS=this.regs.PS^1<<a}}const n1=Ut({content:{padding:`${D.spacingVerticalS} ${D.spacingHorizontalL} 0`,overflow:"auto",flex:1,display:"flex",flexDirection:"column",gap:D.spacingVerticalL},tablesRow:{display:"flex",gap:D.spacingHorizontalSNudge},controlsRow:{display:"flex",flexGrow:1,gap:D.spacingHorizontalXS},switchesRow:{display:"flex",flexGrow:1,gap:D.spacingHorizontalXS},switchBtn:{flexGrow:1,border:`1px solid ${D.colorNeutralStroke2}`,borderRadius:D.borderRadiusSmall,background:D.colorNeutralBackground1,color:D.colorNeutralForeground2,cursor:"pointer",userSelect:"none"},switchActive:{background:D.colorNeutralBackground1Hover,border:`1px solid ${D.colorBrandForeground2}`},status:{fontSize:D.fontSizeBase200,color:D.colorNeutralForeground3}});function l1({assembly:c}){const i=n1(),a=w.useRef(new t1),o=w.useRef(!1),p=w.useRef(parseInt(localStorage.getItem("emu_ipr")||"1")||1),[f,d]=w.useState(!1),[m,b]=w.useState(0),[g,x]=w.useState(()=>a.current.getSnapshot()),[C,j]=w.useState(p.current),[M,$]=w.useState("Ready"),[V,Q]=w.useState(0),K=w.useRef(null),P=w.useCallback(()=>{K.current===null&&(K.current=requestAnimationFrame(()=>{K.current=null;const I=a.current.getSnapshot();x(I),Q(a.current.getMemoryVersion()),o.current&&Ae(I.cycles)}))},[]);w.useEffect(()=>()=>{K.current!==null&&cancelAnimationFrame(K.current),X.current!==null&&(clearTimeout(X.current),X.current=null),o.current=!1},[]);const te=w.useCallback(I=>{const we=Math.max(1,Math.min(32,Math.floor(I)));p.current=we,j(we),localStorage.setItem("emu_ipr",String(we))},[]),Ae=I=>{const we=Math.floor(I/12),_t=Math.floor(we/3600),Mt=Math.floor((we-_t*3600)/60),at=we-_t*3600-Mt*60;$(`${I} cycles, ${_t}h ${String(Mt).padStart(2,"0")}m ${String(at).padStart(2,"0")}s runtime`)},re=w.useCallback(()=>{o.current=!1,d(!1),a.current.reset();const I=c?.bytes;c?.didAssemble&&I&&I.length>2?(a.current.load(I),$(`Reset & Program reloaded (${I.length-2} bytes)`)):$("Reset"),P()},[c,P]),k=w.useCallback(()=>a.current.step(),[]),X=w.useRef(null),pe=w.useCallback(()=>{if(!o.current)return;let I=!0;for(let we=0;we<p.current&&(I=a.current.step(),!(!I||!o.current));we++);I&&o.current?X.current=setTimeout(pe,1):(o.current=!1,d(!1),X.current=null),P()},[P]),me=w.useCallback(()=>{const I=a.current.getSnapshot();return a.current.getMemory()[I.PC]!==void 0},[]),et=w.useCallback(()=>{if(!o.current){if(!me()){c?.didAssemble&&c.bytes&&c.bytes.length>2&&re();return}o.current=!0,d(!0),pe()}},[c,me,re,pe]),je=w.useCallback(()=>{o.current=!1,d(!1)},[]),ve=w.useCallback(I=>{a.current.flipPrimarySwitchBit(I),P()},[P]),nt=w.useCallback(()=>b(I=>Math.max(0,I-128)),[]),Be=w.useCallback(()=>b(I=>Math.min(32640,I+128)),[]);w.useEffect(()=>{o.current=!1,c?.didAssemble&&c.bytes&&c.bytes.length>2?re():c&&!c.didAssemble?$("Assembly failed"):$("Ready")},[c,re]);const _e=w.useCallback(I=>{const we=Math.max(0,Math.min(32640,Math.floor(I/16)*16));b(we)},[]),ee=!!(c?.didAssemble&&c.bytes&&c.bytes.length>2);return h.jsxs(Hr,{title:"Emulator",children:[h.jsx(_r,{children:h.jsxs("div",{className:i.content,children:[h.jsx(Jv,{snapshot:g}),h.jsxs("div",{style:{flexGrow:1,display:"flex",flexDirection:"column",gap:D.spacingVerticalXS},children:[h.jsxs("div",{className:i.controlsRow,children:[f?h.jsx(an,{size:"small",appearance:"primary",onClick:je,style:{minWidth:0,flexGrow:1},children:"Stop"}):h.jsx(an,{size:"small",onClick:et,disabled:!ee,style:{minWidth:0,flexGrow:1},children:"Run"}),h.jsx(an,{size:"small",style:{minWidth:0,flexGrow:1},onClick:()=>{const I=k();P(),I||(o.current=!1)},disabled:f||!ee,children:"Step"}),h.jsx(an,{size:"small",onClick:re,disabled:f||!ee,style:{minWidth:0,flexGrow:1},children:"Reset"}),h.jsxs(Wp,{trapFocus:!0,children:[h.jsx(Pp,{disableButtonEnhancement:!0,children:h.jsx(an,{size:"small",style:{minWidth:0,flexGrow:1},icon:h.jsx(gy,{})})}),h.jsx(eg,{children:h.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[h.jsx(Mn,{children:"IPR"}),h.jsx(an,{size:"small",appearance:"subtle",disabled:C===1,onClick:()=>te(C/2),children:"-"}),h.jsx("span",{children:C}),h.jsx(an,{size:"small",appearance:"subtle",disabled:C===32,onClick:()=>te(C*2),children:"+"})]})})]})]}),h.jsx("div",{className:i.switchesRow,children:[7,6,5,4,3,2,1,0].map(I=>{const we=!!(g.PS&1<<I);return h.jsx(Fe,{relationship:"label",content:`Primary switch ${I}`,withArrow:!0,appearance:"inverted",children:h.jsx("button",{className:`${i.switchBtn} ${we?i.switchActive:""}`,onClick:()=>ve(I),"aria-pressed":we,children:I},I)},I)})})]}),h.jsx("div",{className:i.tablesRow,children:h.jsx(Pv,{version:V,memory:a.current.getMemory(),pc:g.PC,m:g.M,offset:m,onPrevPage:nt,onNextPage:Be,onSetOffset:_e})})]})}),h.jsx(Rg,{children:h.jsx("span",{className:i.status,children:M})})]})}const a1=w.memo(l1),i1=Ut({accordionHeader:{color:D.colorNeutralForeground2},card:{height:"fit-content",marginBottom:D.spacingVerticalXS},text:{color:D.colorNeutralForeground3,fontSize:D.fontSizeBase200,lineHeight:D.lineHeightBase200,margin:"0"}});function s1(c,i){if(!c)return;const a=[...c].map(o=>o.toString(16).padStart(2,"0")).join("");navigator.clipboard.writeText(a),i&&i("Exported to Clipboard",`Copied ${a.length>14?a.substring(0,14)+"...":a} to the clipboard`)}function r1(c){if(!c)return;const i=window.open("","tape","");i&&(i.location.href="tape/tape.html",setTimeout(()=>{const a=Math.random().toString(36).slice(2,10),o="",p="";i.document.body.innerText=`${a}@${o}@${p}@${c.replace(/\n/gi,"|")}`;var f=document.createElement("script");f.src="tape.js",i.document.head.appendChild(f)},500))}function u1(c){if(!c)return;const i=window.open("","loadsheet","");i&&(i.location.href="loadsheet/ldsht.html",setTimeout(()=>{const a=Math.random().toString(36).slice(2,10),o="",p="";i.document.body.innerText=`${a}@${o}@${p}@${c.replace(/\n/gi,"|")}`;var f=document.createElement("script");f.src="ldsht.js",i.document.head.appendChild(f)},500))}function c1({assembly:c}){const i=i1(),a=yy("toaster"),{dispatchToast:o}=vy(a),p=(d,m)=>o(h.jsxs(Sy,{children:[h.jsx(xy,{children:d}),h.jsx(Cy,{children:m})]}),{intent:"success"}),f=c?.didAssemble??!1;return h.jsx(Hr,{title:"Export Code",children:h.jsx(_r,{children:h.jsx(gd,{collapsible:!0,multiple:!0,defaultOpenItems:"assembled",children:h.jsxs(fs,{value:"assembled",children:[h.jsx(ds,{className:i.accordionHeader,children:"for Assembled Output"}),h.jsxs(hs,{children:[h.jsxs($l,{className:i.card,size:"small",appearance:"filled",role:"listitem",children:[h.jsx(Bl,{header:h.jsx(Ke,{weight:"semibold",children:"to Clipboard"}),action:h.jsx(an,{size:"small",disabled:!f,appearance:"secondary",style:{minWidth:0},onClick:()=>s1(c?.bytes,p),children:"Export"})}),h.jsxs("p",{className:i.text,children:["Exports the current assembled byte code to your clipboard. This can then be pasted into the"," ",h.jsx(Uc,{href:Dl.Simulator,rel:"noopener nofollow",children:"Relay Simulator"})]})]}),h.jsxs($l,{className:i.card,size:"small",appearance:"filled",role:"listitem",children:[h.jsx(Bl,{header:h.jsx(Ke,{weight:"semibold",children:"to Paper Tape"}),action:h.jsx(an,{size:"small",disabled:!f,appearance:"secondary",style:{minWidth:0},onClick:()=>r1(c?.dasm),children:"Export"})}),h.jsx("p",{className:i.text,children:"Exports the current assembled byte code as a paper tape which could be printed and read into the Relay Computer via an optical reader (none of which exists yet)."})]}),h.jsxs($l,{className:i.card,size:"small",appearance:"filled",role:"listitem",children:[h.jsx(Bl,{header:h.jsx(Ke,{weight:"semibold",children:"to Load Sheet"}),action:h.jsx(an,{size:"small",disabled:!f,appearance:"secondary",style:{minWidth:0},onClick:()=>u1(c?.dasm),children:"Export"})}),h.jsx("p",{className:i.text,children:"Exports the current assembled byte code as a 'load sheet' which can be printed and makes it easier to manual load programs into the Relay Computer."})]}),h.jsx(by,{toasterId:a})]})]})})})})}const o1=w.memo(c1),f1=Ut({contentHeader:{padding:`${D.spacingVerticalS} ${D.spacingHorizontalL} ${D.spacingVerticalXS}`,lineHeight:".8rem",color:D.colorNeutralForeground2},accordionHeader:{minHeight:"1rem",color:D.colorNeutralForeground2},card:{height:"fit-content",marginBottom:D.spacingVerticalXS},caption:{color:D.colorNeutralForeground3}}),Nc=!1;function d1(){const c=f1(),{executeAsync:i}=Ur(),a=f=>i(Zn.loadExample(f)),o=f=>h.jsx($l,{className:c.card,size:"small",appearance:"subtle",role:"listitem",children:h.jsx(Bl,{description:h.jsx(Mn,{className:c.caption,children:f})})}),p=(f,d,m)=>h.jsx($l,{className:c.card,size:"small",appearance:"filled",role:"listitem",children:h.jsx(Bl,{header:h.jsx(Ke,{weight:"semibold",children:d}),description:h.jsx(Mn,{className:c.caption,children:m}),action:h.jsx(an,{size:"small",appearance:"secondary",style:{minWidth:0},onClick:async()=>await a(f),children:"Open"})})});return h.jsxs(Hr,{title:"Code Examples",children:[h.jsxs(_r,{children:[h.jsx("div",{className:c.contentHeader,children:h.jsx(Mn,{children:"This is a curated set of example programs that can be loaded into the IDE."})}),h.jsxs(gd,{collapsible:!0,multiple:!0,children:[h.jsxs(fs,{value:"simple",children:[h.jsx(ds,{className:c.accordionHeader,children:"Simple Examples"}),h.jsxs(hs,{children:[o("These example programs are deliberately simple to demonstrate some common concepts and provide an introduction to the assembly language:"),Nc,p("fibonacci","Fibonacci Series","Calculates the first 13 terms of the Fibonacci series"),Nc,Nc]})]}),h.jsxs(fs,{value:"complex",children:[h.jsx(ds,{className:c.accordionHeader,children:"Complex Examples"}),h.jsxs(hs,{children:[o("These example programs are much fuller (and therefore more complex):"),p("pi-bbp-v1","Pi Calculation (BBP)","Uses the Bailey-Borwein-Plouffe (BBP) formula to compute Pi digit by digit in base 16.")]})]}),h.jsxs(fs,{value:"math",children:[h.jsx(ds,{className:c.accordionHeader,children:"Mathematical Operations"}),h.jsxs(hs,{children:[o("These example programs demonstrate how to perform common mathematical operations that aren't native to the relay computer:"),p("addition-long-se","Long Addition","Byte-by-byte long addition"),p("subtract-8","8-bit Subtract",""),p("subtract-16","16-bit Subtract",""),p("subtraction-long-se","Long Subtraction","Byte-by-byte long subtraction (performed by 2s complement then long addition)"),p("multiply-8","8-bit Multiply","Multiplies two unsigned 8-bit numbers to produce an 8-bit result"),Nc,p("reciprocal-long-se","Long Reciprocal","Byte-by-byte long reciprocal using the non-restoring unsigned integer division method"),p("reciprocal-long-se-v2","Long Reciprocal v2","Revised example of byte-by-byte long reciprocal now using the restoring unsigned integer division method"),o('Many of the examples above are also available in "Handy Routines" as reusable functions.')]})]}),h.jsxs(fs,{value:"handy",children:[h.jsx(ds,{className:c.accordionHeader,children:"Handy Routines"}),h.jsxs(hs,{children:[o("These programs provide (and demonstrate) reusable functions that could be used by other programs:"),h.jsxs("div",{children:[p("convert-endian","Convert Endianness","Endian conversion (reverse bytes)"),p("addition-long","Long Addition","Byte-by-byte long addition"),p("subtraction-long","Long Subtraction","Byte-by-byte long subtraction (performed by 2s complement then long addition)"),p("reciprocal-long","Long Reciprocal","Byte-by-byte long reciprocal using the restoring unsigned integer division method")]})]})]})]})]}),h.jsx(Rg,{children:h.jsx(Mn,{children:"Loading an example will replace any existing program active in the IDE."})})]})}const h1=w.memo(d1),Oc=(c,i,a)=>c===1?`${c} ${i}`:`${c} ${a}`;async function m1(c){const i="program.rcasm",a="text/plain",o=["rcasm"],p=window;if(typeof p.showSaveFilePicker=="function")try{const g=await(await p.showSaveFilePicker({suggestedName:i,types:[{description:"RCASM source",accept:{[a]:o.map(x=>`.${x}`)}}],excludeAcceptAllOption:!1})).createWritable();await g.write(new Blob([c],{type:a})),await g.close();return}catch(b){if(b&&(b.name==="AbortError"||b.name==="NotAllowedError"))return;console.warn("showSaveFilePicker failed, falling back to download link:",b)}const d=new Blob([c],{type:a+";charset=utf-8"}),m=URL.createObjectURL(d);try{const b=document.createElement("a");b.href=m,b.download=i,setTimeout(()=>b.click(),0)}finally{setTimeout(()=>URL.revokeObjectURL(m),1e4)}}async function p1(){const c=["rcasm"],i=["text/plain"],a=window;if(typeof a.showOpenFilePicker=="function")try{const[o]=await a.showOpenFilePicker({multiple:!1,types:[{description:"RCASM source",accept:{[i[0]]:c.map(d=>`.${d}`)}}],excludeAcceptAllOption:!1}),p=await o.getFile(),f=await p.text();return{name:p.name,text:f}}catch{return null}return new Promise(o=>{const p=document.createElement("input");p.type="file",p.accept=c.map(f=>`.${f}`).concat(i).join(","),p.onchange=async()=>{const f=p.files?.[0];if(!f)return o(null);const d=await f.text();o({name:f.name,text:d})},p.oncancel=()=>o(null),setTimeout(()=>p.click(),0)})}const g1=Ut({bar:{justifyContent:"space-between",color:D.colorNeutralForeground3,backgroundColor:D.colorNeutralBackground2,padding:"0 .5rem 0 3.75rem",minHeight:"1.5rem"},item:{color:D.colorNeutralForeground3,padding:"0 .4rem",minWidth:"2rem"},error:{color:D.colorStatusDangerForeground1},warning:{color:D.colorStatusWarningForeground1}});function y1({position:c,validation:i,assembly:a,autoSave:o,dirty:p}){const f=g1(),{execute:d}=Ur(),m=Math.max((a?.bytes?.length??0)-2,0),b=()=>o?h.jsx(h.Fragment,{children:"Auto Save: On"}):p?h.jsx("span",{className:f.warning,children:"Unsaved changes"}):h.jsx(h.Fragment,{children:"All changes saved"});return h.jsxs(qc,{className:f.bar,size:"small",children:[h.jsxs(cl,{role:"presentation",children:[h.jsx(Fe,{content:`Problems (${Oc(i.errors,"error","errors")}, ${Oc(i.warnings,"warning","warnings")})`,relationship:"description",positioning:"above-start",withArrow:!0,children:h.jsxs(Vn,{className:f.item,appearance:"transparent",onClick:()=>d(_c.togglePanel("panel")),children:[h.jsx(tg,{className:i.errors===0?void 0:f.error}),h.jsx(Mn,{className:i.errors===0?void 0:f.error,children:i.errors}),"",h.jsx(ng,{className:i.warnings===0?void 0:f.warning}),h.jsx(Mn,{className:i.warnings===0?void 0:f.warning,children:i.warnings})]})}),h.jsx(Mn,{className:f.item,children:b()}),c&&h.jsx(Fe,{content:"Goto Line/Column",relationship:"description",positioning:"above",withArrow:!0,children:h.jsx(Vn,{className:f.item,appearance:"transparent",onClick:()=>d(gs.gotoLine()),children:h.jsxs(Mn,{children:["Ln ",c.lineNumber,", Col ",c.column," "]})})})]}),h.jsx(cl,{role:"presentation",children:a&&a.bytes&&h.jsx(Fe,{content:`Assembler outputted ${Oc(m,"byte","bytes")}`,relationship:"description",positioning:"above-start",withArrow:!0,children:h.jsx(Vn,{className:f.item,appearance:"transparent",onClick:()=>d(_c.togglePanel("sidebar-s")),children:h.jsxs(Mn,{children:["Bytes: ",m]})})})})]})}const v1=w.memo(y1);function b1(c,i){return{lines:c,loc:i}}function us(c,i,a,o){return{label:c,stmt:i,scopedStmts:a,loc:o}}function S1(c,i){return{name:c,loc:i}}function x1(c,i){return{type:"setpc",pc:c,loc:i}}function C1(c){return{type:"getcurpc",loc:c}}function ud(c,i,a,o){return{type:"insn",mnemonic:c,p1:i,p2:a,loc:o}}var Or;(function(c){c[c.Byte=0]="Byte",c[c.Word=1]="Word"})(Or||(Or={}));function z1(c,i,a){return{type:"data",values:i,dataSize:c,loc:a}}function A1(c,i,a){return{type:"fill",numBytes:c,fillValue:i,loc:a}}function j1(c,i){return{type:"align",alignBytes:c,loc:i}}function E1(c,i,a){return{type:"if",cases:c,elseBranch:i!==null?i:[],loc:a}}function M1(c,i){return{type:"error",error:c,loc:i}}function R1(c,i,a,o){return{type:"for",index:c,list:i,body:a,loc:o}}function T1(c,i,a){return{type:"let",name:c,value:i,loc:a}}function N1(c,i,a){return{type:"callfunc",callee:c,args:i??[],loc:a}}function Nr(c,i,a){return{type:"literal",lit:c,ot:i,loc:a}}function D1(c,i){return{type:"register",value:c,loc:i}}function qp(c,i,a){return{type:"qualified-ident",path:c,absolute:i,loc:a}}function $1(c,i){return{type:"ident",name:c,loc:i}}function Dc(c,i,a,o){return{type:"binary",op:c,left:i,right:a,loc:o}}const va={a:0,d:1},$c={a:0,d:1},B1={a:0,d:1},w1={a:0,b:1},L1={m:0,j:1},cd={a:0,b:1,c:2,d:3,m1:4,m2:5,x:6,y:7},O1={xy:0,pc:1},U1={m:0,xy:1,j:2,as:3},_1={xy:1},Xp={a:0,b:1,c:2,d:3};var Se;(function(c){c[c.Direct=0]="Direct",c[c.Alu=1]="Alu",c[c.Clear=2]="Clear",c[c.Goto=3]="Goto",c[c.LodSw=4]="LodSw",c[c.LitOpc=5]="LitOpc",c[c.Move=6]="Move",c[c.Set=7]="Set",c[c.LoadStore=8]="LoadStore",c[c.Divide=9]="Divide"})(Se||(Se={}));const H1={add:{mt:Se.Alu,ops:[{op:129,p1:{cs:va,op:c=>c<<3},p2:null}]},inc:{mt:Se.Alu,ops:[{op:130,p1:{cs:va,op:c=>c<<3},p2:null}]},and:{mt:Se.Alu,ops:[{op:131,p1:{cs:va,op:c=>c<<3},p2:null}]},orr:{mt:Se.Alu,ops:[{op:132,p1:{cs:va,op:c=>c<<3},p2:null}]},eor:{mt:Se.Alu,ops:[{op:133,p1:{cs:va,op:c=>c<<3},p2:null}]},cmp:{mt:Se.Alu,ops:[{op:133,p1:{cs:va,op:c=>c<<3},p2:null}]},not:{mt:Se.Alu,ops:[{op:134,p1:{cs:va,op:c=>c<<3},p2:null}]},rol:{mt:Se.Alu,ops:[{op:135,p1:{cs:va,op:c=>c<<3},p2:null}]},mov:{mt:Se.Move,ops:[{op:0,p1:{cs:cd,op:c=>c<<3},p2:{cs:cd,op:c=>c}},{op:160,p1:{cs:O1,op:c=>c<<2},p2:{cs:U1,op:c=>c}}]},clr:{mt:Se.Clear,ops:[{op:0,p1:{cs:cd,op:c=>c<<3|c},p2:null},{op:160,p1:{cs:_1,op:c=>c},p2:null}]},rts:{mt:Se.Direct,ops:[{op:165,p1:null,p2:null}]},ldr:{mt:Se.LoadStore,ops:[{op:144,p1:{cs:Xp,op:c=>c},p2:null}]},str:{mt:Se.LoadStore,ops:[{op:152,p1:{cs:Xp,op:c=>c},p2:null}]},ldi:{mt:Se.Set,ops:[{op:64,p1:{cs:w1,op:c=>c<<5},p2:{cs:null,op:c=>c&31}},{op:192,p1:{cs:L1,op:c=>c<<5},p2:null}]},hlt:{mt:Se.Direct,ops:[{op:174,p1:null,p2:null}]},hlr:{mt:Se.Direct,ops:[{op:175,p1:null,p2:null}]},lds:{mt:Se.LodSw,ops:[{op:172,p1:{cs:B1,op:c=>c},p2:null}]},ixy:{mt:Se.Direct,ops:[{op:176,p1:null,p2:null}]},div:{mt:Se.Divide,ops:[{op:184,p1:{cs:$c,op:c=>c},p2:null}]},mod:{mt:Se.Divide,ops:[{op:186,p1:{cs:$c,op:c=>c},p2:null}]},dvr:{mt:Se.Divide,ops:[{op:188,p1:{cs:$c,op:c=>c},p2:null}]},mdr:{mt:Se.Divide,ops:[{op:190,p1:{cs:$c,op:c=>c},p2:null}]},jmp:{mt:Se.Goto,ops:[{op:230,p1:null,p2:null}]},jsr:{mt:Se.Goto,ops:[{op:231,p1:null,p2:null}]},bne:{mt:Se.Goto,ops:[{op:226,p1:null,p2:null}]},beq:{mt:Se.Goto,ops:[{op:228,p1:null,p2:null}]},bcs:{mt:Se.Goto,ops:[{op:232,p1:null,p2:null}]},bmi:{mt:Se.Goto,ops:[{op:240,p1:null,p2:null}]},blt:{mt:Se.Goto,ops:[{op:240,p1:null,p2:null}]},ble:{mt:Se.Goto,ops:[{op:244,p1:null,p2:null}]},opc:{mt:Se.LitOpc,ops:[{op:0,p1:{cs:null,op:c=>c},p2:null}]}},G1=[["clr a","mov a,b","mov a,c","mov a,d","mov a,m1","mov a,m2","mov a,x","mov a,y","mov b,a","clr b","mov b,c","mov b,d","mov b,m1","mov b,m2","mov b,x","mov b,y"],["mov c,a","mov c,b","clr c","mov c,d","mov c,m1","mov c,m2","mov c,x","mov c,y","mov d,a","mov d,b","mov d,c","clr d","mov d,m1","mov d,m2","mov d,x","mov d,y"],["mov m1,a","mov m1,b","mov m1,c","mov m1,d","clr m1","mov m1,m2","mov m1,x","mov m1,y","mov m2,a","mov m2,b","mov m2,c","mov m2,d","mov m2,m1","clr m2","mov m2,x","mov m2,y"],["mov x,a","mov x,b","mov x,c","mov x,d","mov x,m1","mov x,m2","clr x","mov x,y","mov y,a","mov y,b","mov y,c","mov y,d","mov y,m1","mov y,m2","mov y,x","clr y"],["ldi a,0","ldi a,1","ldi a,2","ldi a,3","ldi a,4","ldi a,5","ldi a,6","ldi a,7","ldi a,8","ldi a,9","ldi a,10","ldi a,11","ldi a,12","ldi a,13","ldi a,14","ldi a,15"],["ldi a,-16","ldi a,-15","ldi a,-14","ldi a,-13","ldi a,-12","ldi a,-11","ldi a,-10","ldi a,-9","ldi a,-8","ldi a,-7","ldi a,-6","ldi a,-5","ldi a,-4","ldi a,-3","ldi a,-2","ldi a,-1"],["ldi b,0","ldi b,1","ldi b,2","ldi b,3","ldi b,4","ldi b,5","ldi b,6","ldi b,7","ldi b,8","ldi b,9","ldi b,10","ldi b,11","ldi b,12","ldi b,13","ldi b,14","ldi b,15"],["ldi b,-16","ldi b,-15","ldi b,-14","ldi b,-13","ldi b,-12","ldi b,-11","ldi b,-10","ldi b,-9","ldi b,-8","ldi b,-7","ldi b,-6","ldi b,-5","ldi b,-4","ldi b,-3","ldi b,-2","ldi b,-1"],["clr a","add","inc","and","orr","eor","not","rol","clr d","add d","inc d","and d","orr d","eor d","not d","rol d"],["ldr a","ldr b","ldr c","ldr d",null,null,null,null,"str a","str b","str c","str d",null,null,null,null],["mov xy,m","clr xy","mov xy,j","mov xy,as","mov pc,m","rts","mov pc,j","mov pc,as",null,null,null,null,"lds a","lds d","hlt","hlr"],["ixy",null,null,null,null,null,null,null,"div","div d","mod","mod d","dvr","dvr d","mdr","mdr d"],["ldi m",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],["ldi j",null,"bne",null,"beq",null,"jmp","jsr","bcs",null,null,null,null,null,null,null],["blt","jlt",null,null,"ble",null,null,null,null,null,null,null,null,null,null,null]],q1=c=>{switch(!0){case(c&192)===0:return{class:"MOV8",cycles:1};case(c&192)===4:return{class:"SETAB",cycles:1};case(c&240)===128:return{class:"ALU",cycles:1};case(c&252)===144:return{class:"LOAD",cycles:1};case(c&252)===152:return{class:"STORE",cycles:1};case(c&192)===192:return{class:"GOTO",cycles:3};case(c&255)===160:return{class:"INCXY",cycles:1};default:return{class:"MISC",cycles:1}}};function Yn(c){return c.toString(16).padStart(4,"0")}class pd{constructor(i,a,o,p){this.start=i,this.end=a,this.inferStart=o,this.id=p,this.blocks=[{start:i,binary:[]}],this.curBlock=this.blocks[0]}setCurrentPC(i){let a;if(this.inferStart&&this.blocks.length===1&&this.blocks[0].binary.length===0)this.start=i;else{const f=this.end!==void 0?`$${Yn(this.end)}`:"",d=`Segment address range: $${Yn(this.start)}-${f}`;i<this.start?a=`${d}.  Cannot set program counter to a lower address $${Yn(i)}.`:this.end!==void 0&&i>this.end?a=`${d}.  Trying to set program counter to $${Yn(i)} -- it is past segment end ${f}.`:this.blocks.length===1&&this.blocks[0].binary.length===0&&(this.start=i)}const o={start:i,binary:[]},p=this.blocks.push(o);return this.curBlock=this.blocks[p-1],a}empty(){return this.blocks.every(i=>i.binary.length===0)}currentPC(){return this.curBlock.start+this.curBlock.binary.length}emit(i){if(this.currentPC()<this.start||this.end!==void 0&&this.currentPC()>this.end){const a=this.end!==void 0?`$${Yn(this.end)}`:"",o=this.start!==void 0?`$${Yn(this.start)}`:"";return`Segment overflow at $${Yn(this.currentPC())}.  Segment address range: ${o}-${a}`}this.curBlock.binary.push(i)}formatRange(){const i=this.end!==void 0?`$${Yn(this.end)}`:"";return`${this.start!==void 0?`$${Yn(this.start)}`:""}-${i}`}overlaps(i){const a=this.start,o=i.start,p=this.end!==void 0?this.end:this.currentPC(),f=i.end!==void 0?i.end:i.currentPC();return a<o?o<=p:f>=a}}function $g(c){const i=[];for(const[a,o]of c){const p=o.blocks.filter(f=>f.binary.length!==0).sort((f,d)=>f.start-d.start);if(p.length!==0){const f=new pd(o.start,o.end,o.inferStart,i.length-1);f.blocks=p,f.curBlock=p[p.length-1],i.push([a,f])}}return i}function X1(c){const i=$g(c);if(i.length===0)return{startPC:0,binary:Uint8Array.from([])};const[,a]=i[0],o=a.blocks[0],p=a.blocks[a.blocks.length-1];let f=o.start,d=p.start+p.binary.length;for(let b=1;b<i.length;b++){const g=i[b][1],x=g.blocks[0].start,C=g.curBlock.start+g.curBlock.binary.length;f=Math.min(x,f),d=Math.max(C,d)}const m=new Uint8Array(d);for(const[,b]of i)for(const g of b.blocks)for(let x=0;x<g.binary.length;x++)m[g.start+x]=g.binary[x];return{startPC:f,binary:m.slice(f)}}function Y1(c){return $g(c).sort((a,o)=>a[1].start-o[1].start).map(([a,o])=>{const p=o.blocks.map(f=>({start:f.start,end:f.start+f.binary.length-1}));return{name:a,blocks:p}})}var li={},ai={},ii={},Yp;function Bg(){if(Yp)return ii;Yp=1,Object.defineProperty(ii,"__esModule",{value:!0}),ii.hammingWeight4=ii.hammingWeight=void 0;function c(a){return a-=a>>>1&1431655765,a=(a&858993459)+(a>>>2&858993459),(a+(a>>>4)&252645135)*16843009>>>24}ii.hammingWeight=c;function i(a,o,p,f){return a-=a>>>1&1431655765,o-=o>>>1&1431655765,p-=p>>>1&1431655765,f-=f>>>1&1431655765,a=(a&858993459)+(a>>>2&858993459),o=(o&858993459)+(o>>>2&858993459),p=(p&858993459)+(p>>>2&858993459),f=(f&858993459)+(f>>>2&858993459),a=a+(a>>>4)&252645135,o=o+(o>>>4)&252645135,p=p+(p>>>4)&252645135,f=f+(f>>>4)&252645135,(a+o+p+f)*16843009>>>24}return ii.hammingWeight4=i,ii}var Vp;function V1(){if(Vp)return ai;Vp=1;var c=ai&&ai.__values||function(f){var d=typeof Symbol=="function"&&Symbol.iterator,m=d&&f[d],b=0;if(m)return m.call(f);if(f&&typeof f.length=="number")return{next:function(){return f&&b>=f.length&&(f=void 0),{value:f&&f[b++],done:!f}}};throw new TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(ai,"__esModule",{value:!0}),ai.SparseTypedFastBitSet=void 0;var i=Bg(),a;(function(f){f[f.ARRAY=0]="ARRAY",f[f.BITSET=1]="BITSET",f[f.MIXED=2]="MIXED"})(a||(a={}));function o(f){return f?f[Symbol.iterator]!==void 0:!1}var p=(function(){function f(d,m){var b,g;if(m===void 0&&(m=new Uint32Array(8)),this.data=m,this.arraySize=0,o(d))try{for(var x=c(d),C=x.next();!C.done;C=x.next()){var j=C.value;this.add(j)}}catch(M){b={error:M}}finally{try{C&&!C.done&&(g=x.return)&&g.call(x)}finally{if(b)throw b.error}}}return Object.defineProperty(f.prototype,"words",{get:function(){return this.arraySize!==-1&&(this.data=this.toBitset(),this.arraySize=-1),this.data},enumerable:!1,configurable:!0}),f.prototype.toBitset=function(){for(var d=this.data,m=d[0]+32>>>5,b=new Uint32Array(m<<1),g=0;g<this.arraySize;g++){var x=d[g];b[x>>>5]|=1<<x}return b},f.prototype.add=function(d){var m=this.resize(d);if(m===a.ARRAY){var b=this.data;if(this.arraySize===0){b[this.arraySize++]=d;return}var g=b.indexOf(d);if(g===-1||g>=this.arraySize){var x=b[0];d>x?(b[0]=d,b[this.arraySize++]=x):b[this.arraySize++]=d}}else this.data[d>>>5]|=1<<d},f.prototype.flip=function(d){var m=this.resize(d);if(m===a.ARRAY){var b=this.data,g=b.indexOf(d);if(g===-1)this.arraySize>0&&d>b[0]?(b[this.arraySize++]=b[0],b[0]=d):b[this.arraySize++]=d;else if(g===0&&this.arraySize>1){for(var x=b[1],C=1,j=2;j<this.arraySize;j++)b[j]>x&&(x=b[j],C=j);b[0]=b[C],b[C]=b[--this.arraySize]}else b[g]=b[--this.arraySize]}else this.data[d>>>5]^=1<<d},f.prototype.clear=function(){this.arraySize=0,this.data=new Uint32Array(8)},f.prototype.remove=function(d){var m=this.resize(d);if(m===a.ARRAY){var b=this.data,g=b.indexOf(d);if(g!==-1&&g<this.arraySize)if(g==this.arraySize-1)this.arraySize--;else if(g===0&&this.arraySize>1){for(var x=b[1],C=1,j=2;j<this.arraySize;j++)b[j]>x&&(x=b[j],C=j);b[0]=b[C],b[C]=b[--this.arraySize]}else b[g]=b[--this.arraySize]}else this.data[d>>>5]&=~(1<<d)},f.prototype.addRange=function(d,m){if(!(d>=m)){var b=this.resize(m,m-d-1);if(b===a.ARRAY){var g=this.data,x=m---1;if(this.arraySize===0)g[this.arraySize++]=x;else{var C=g.indexOf(x);if(C===-1||C>=this.arraySize){var j=g[0];x>j?(g[0]=x,g[this.arraySize++]=j):g[this.arraySize++]=x}}for(;d<m;d++){var C=g.indexOf(d);(C===-1||C>=this.arraySize)&&(g[this.arraySize++]=d)}}else{var M=this.data,$=d>>5,V=m-1>>5;if($===V){M[$]|=-1<<d&-1>>>-m;return}M[$]|=-1<<d,M.fill(-1,$+1,V),M[V]|=-1>>>-m}}},f.prototype.removeRange=function(d,m){if(!(d>=m))if(this.arraySize!==-1){for(var b=this.data,g=!1,x=0;x<this.arraySize;x++)b[x]>=d&&b[x]<m&&(x===0&&(g=!0),b[x--]=b[--this.arraySize]);if(g&&this.arraySize>1){for(var C=b[0],j=0,x=1;x<this.arraySize;x++)b[x]>C&&(C=b[x],j=x);var M=b[0];b[0]=b[j],b[j]=M}}else{var $=this.data;d=Math.min(d,($.length<<5)-1),m=Math.min(m,($.length<<5)-1);var V=d>>5,Q=m-1>>5;if(V===Q){$[V]&=~(-1<<d&-1>>>-m);return}$[V]&=~(-1<<d),$.fill(0,V+1,Q),$[Q]&=~(-1>>>-m)}},f.prototype.isEmpty=function(){if(this.arraySize===0)return!0;if(this.arraySize>0)return!1;for(var d=this.data,m=d.length,b=0;b<m;b++)if(d[b]!==0)return!1;return!0},f.prototype.has=function(d){if(this.arraySize===-1)return(this.data[d>>>5]&1<<d)!==0;var m=this.data.indexOf(d);return m!==-1&&m<this.arraySize},f.prototype.checkedAdd=function(d){var m=this.resize(d);if(m===a.ARRAY){var b=this.data;if(this.arraySize===0)return b[this.arraySize++]=d,1;var g=b.indexOf(d);if(g===-1||g>=this.arraySize){var x=b[0];return d>x?(b[0]=d,b[this.arraySize++]=x):b[this.arraySize++]=d,1}return 0}else{var C=this.data,j=C[d>>>5],M=j|1<<d;return C[d>>>5]=M,(M^j)>>>d}},f.prototype.trim=function(){var d=this.size();if(this.arraySize===-1){for(var m=this.data,b=m.length;b>0&&m[b-1]===0;)b--;if(d<b){for(var g=new Uint32Array(d),x=0,C=m.length,j=0;j<C;++j)for(var M=m[j];M!=0;){var $=M&-M;g[x++]=(j<<5)+(0,i.hammingWeight)($-1|0),M^=$}var V=g[0];g[0]=g[d-1],g[d-1]=V,this.data=g,this.arraySize=d}else this.data=m.slice(0,b)}else if(this.arraySize>0&&this.data[0]>>>5<d){for(var Q=this.data[0]+32>>>5,K=new Uint32Array(Q),P=0;P<this.arraySize;P++){var te=this.data[P];K[te>>>5]|=1<<te}this.data=K,this.arraySize=-1}else this.data=this.data.slice(0,this.arraySize)},f.prototype.resize=function(d,m){if(m===void 0&&(m=0),this.arraySize===-1){var b=this.data;if(b.length<<5>d)return a.BITSET;var g=d+32>>>5,x=new Uint32Array(g<<1);return x.set(b),this.data=x,a.BITSET}else{var C=this.data;if(this.arraySize+m<C.length)return a.ARRAY;if(C.length+m<256){var j=new Uint32Array(C.length+m<<1);return j.set(C),this.data=j,a.ARRAY}else{var g=Math.max(C[0],d)+32>>>5;if(g>C.length+m&&C.length+m<<1<1024){var j=new Uint32Array(C.length+m<<1);return j.set(C),this.data=j,a.ARRAY}else{for(var x=new Uint32Array(g<<1),M=0;M<this.arraySize;M++){var $=C[M];x[$>>>5]|=1<<$}return this.arraySize=-1,this.data=x,a.BITSET}}}},f.prototype.size=function(){if(this.arraySize===-1){for(var d=this.data,m=0,b=d.length,g=0;g+4<b;g+=4)m+=(0,i.hammingWeight4)(d[g]|0,d[g+1]|0,d[g+2]|0,d[g+3]|0);for(;g<b;++g)m+=(0,i.hammingWeight)(d[g]|0);return m}else return this.arraySize},f.prototype.array=function(){if(this.arraySize===-1){for(var d=this.data,m=new Array(this.size()),b=0,g=d.length,x=0;x<g;++x)for(var C=d[x];C!=0;){var j=C&-C;m[b++]=(x<<5)+(0,i.hammingWeight)(j-1|0),C^=j}return m}else{for(var M=this.data,m=new Array(this.arraySize),$=0;$<this.arraySize;$++)m[$]=M[$];return m}},f.prototype.forEach=function(d){if(this.arraySize===-1)for(var m=this.data,b=m.length,g=0;g<b;++g)for(var x=m[g];x!=0;){var C=x&-x;d((g<<5)+(0,i.hammingWeight)(C-1)|0),x^=C}else for(var j=this.data,M=0;M<this.arraySize;M++){var $=j[M];d($),$!==j[M]&&M--}},f.prototype[Symbol.iterator]=function(){var d,m;if(this.arraySize===-1){var b=this.data,g=b.length,x=0,C=b[x];return d={},d[Symbol.iterator]=function(){return this},d.next=function(){for(;x<g;)if(C!==0){var V=C&-C,Q=(x<<5)+(0,i.hammingWeight)(V-1|0);return C^=V,{done:!1,value:Q}}else x++,x<g&&(C=b[x]);return{done:!0,value:void 0}},d}else{var j=this.data,M=this.arraySize,$=0;return m={},m[Symbol.iterator]=function(){return this},m.next=function(){if($<M){var V=j[$],Q={done:!1,value:V};return V!==j[$]&&$--,$++,Q}else return{done:!0,value:void 0}},m}},f.prototype.clone=function(){var d=new f(void 0,new Uint32Array(this.data));return d.arraySize=this.arraySize,d},f.prototype.intersects=function(d){var m=f.order(this,d);switch(m.type){case a.BITSET:{for(var b=m.first.words,g=m.second.words,x=Math.min(b.length,g.length),C=0;C<x;++C)if((b[C]&g[C])!==0)return!0;return!1}case a.MIXED:case a.ARRAY:{for(var j=0;j<m.first.arraySize;j++)if(m.second.has(m.first.data[j]))return!0;return!1}}},f.prototype.intersection=function(d){if(this.arraySize===-1)if(!(d instanceof f)||d.arraySize===-1){for(var m=this.data,b=d.words,g=Math.min(m.length,b.length),x=0;x+7<g;x+=8)m[x]&=b[x],m[x+1]&=b[x+1],m[x+2]&=b[x+2],m[x+3]&=b[x+3],m[x+4]&=b[x+4],m[x+5]&=b[x+5],m[x+6]&=b[x+6],m[x+7]&=b[x+7];for(;x<g;++x)m[x]&=b[x];var C=m.length;for(x=g;x<C;++x)m[x]=0;return this}else{for(var j=new Uint32Array(d.data.length),M=d.data,$=0,V=0;V<d.arraySize;V++){var Q=M[V];this.has(Q)&&($>0&&Q>j[0]?(j[$++]=j[0],j[0]=Q):j[$++]=Q)}return this.data=j,this.arraySize=$,this}else{for(var K=this.data,V=0;V<this.arraySize;V++){var P=K[V];d.has(P)?V>0&&P>K[0]&&(K[V]=K[0],K[0]=P):K[V--]=K[--this.arraySize]}return this}},f.prototype.intersection_size=function(d){var m=f.order(this,d);switch(m.type){case a.BITSET:{for(var b=m.first.words,g=m.second.words,x=Math.min(b.length,g.length),C=0,j=0;j<x;++j)C+=(0,i.hammingWeight)(b[j]&g[j]);return C}case a.MIXED:case a.ARRAY:{for(var C=0,M=m.first.data,$=0;$<m.first.arraySize;$++)m.second.has(M[$])&&C++;return C}}},f.prototype.new_intersection=function(d){var m=f.order(this,d);switch(m.type){case a.BITSET:{for(var b=m.first.words,g=m.second.words,x=Math.min(b.length,g.length),C=new Uint32Array(x),j=0;j+7<x;j+=8)C[j]=b[j]&g[j],C[j+1]=b[j+1]&g[j+1],C[j+2]=b[j+2]&g[j+2],C[j+3]=b[j+3]&g[j+3],C[j+4]=b[j+4]&g[j+4],C[j+5]=b[j+5]&g[j+5],C[j+6]=b[j+6]&g[j+6],C[j+7]=b[j+7]&g[j+7];for(;j<x;++j)C[j]=b[j]&g[j];var M=new f(void 0,C);return M.arraySize=-1,M}case a.MIXED:case a.ARRAY:{for(var $=new Uint32Array(m.first.data.length),V=0,Q=m.first.data,K=0;K<m.first.arraySize;K++){var P=Q[K];m.second.has(P)&&(V>0&&P>$[0]?($[V++]=$[0],$[0]=P):$[V++]=P)}var M=new f(void 0,$);return M.arraySize=V,M}}},f.prototype.equals=function(d){if(this===d)return!0;var m=f.order(this,d);switch(m.type){case a.BITSET:{for(var b=this.words,g=d.words,x=Math.min(b.length,g.length),C=0;C<x;++C)if(b[C]!=g[C])return!1;if(b.length<g.length){for(var j=g.length,C=b.length;C<j;++C)if(g[C]!=0)return!1}else if(g.length<b.length){for(var j=b.length,C=g.length;C<j;++C)if(b[C]!=0)return!1}return!0}case a.ARRAY:case a.MIXED:{if(m.first.size()!==m.second.size())return!1;for(var M=m.first.data,$=0;$<m.first.arraySize;$++)if(!m.second.has(M[$]))return!1;return!0}}},f.prototype.difference=function(d){if(this.arraySize===-1)if(!(d instanceof f)||d.arraySize===-1){for(var m=this.words,b=d.words,g=Math.min(m.length,b.length),x=0;x+7<g;x+=8)m[x]&=~b[x],m[x+1]&=~b[x+1],m[x+2]&=~b[x+2],m[x+3]&=~b[x+3],m[x+4]&=~b[x+4],m[x+5]&=~b[x+5],m[x+6]&=~b[x+6],m[x+7]&=~b[x+7];for(;x<g;++x)m[x]&=~b[x];return this}else{for(var C=d.data,j=0;j<d.arraySize;j++){var M=C[j];this.has(M)&&this.remove(M)}return this}else{for(var $=this.data,V=!1,j=0;j<this.arraySize;j++)d.has($[j])&&(j===0&&(V=!0),$[j--]=$[--this.arraySize]);if(V&&this.arraySize>1){for(var Q=$[0],K=0,j=1;j<this.arraySize;j++)$[j]>Q&&(Q=$[j],K=j);var P=$[0];$[0]=$[K],$[K]=P}return this}},f.prototype.difference2=function(d){if(this.arraySize===-1||!(d instanceof f)){var m=this.words,b=Math.min(m.length,d.words.length);d.resize((m.length<<5)-1);for(var g=d.words,x=0;x+7<b;x+=8)g[x]=m[x]&~g[x],g[x+1]=m[x+1]&~g[x+1],g[x+2]=m[x+2]&~g[x+2],g[x+3]=m[x+3]&~g[x+3],g[x+4]=m[x+4]&~g[x+4],g[x+5]=m[x+5]&~g[x+5],g[x+6]=m[x+6]&~g[x+6],g[x+7]=m[x+7]&~g[x+7];for(;x<b;++x)g[x]=m[x]&~g[x];for(;x<m.length;++x)g[x]=m[x];return g.fill(0,x),d}else{for(var C=new Uint32Array(this.data),j=this.arraySize,M=!1,$=0;$<j;$++)d.has(C[$])&&($===0&&(M=!0),C[$--]=C[--j]);if(M&&j>1){for(var V=C[0],Q=0,$=1;$<j;$++)C[$]>V&&(V=C[$],Q=$);var K=C[0];C[0]=C[Q],C[Q]=K}return d.data=C,d.arraySize=j,d}},f.prototype.new_difference=function(d){return this.clone().difference(d)},f.prototype.difference_size=function(d){if(this.arraySize===-1)if(!(d instanceof f)||d.arraySize===-1){for(var m=this.words,b=d.words,g=Math.min(m.length,b.length),x=0,C=0;C<g;++C)x+=(0,i.hammingWeight)(m[C]&~b[C]);for(var j=m.length;C<j;++C)x+=(0,i.hammingWeight)(m[C]);return x}else{for(var x=this.size(),M=d.data,$=0;$<d.arraySize;$++){var V=M[$];this.has(V)&&x--}return x}else{for(var x=this.arraySize,Q=this.data,$=0;$<this.arraySize;$++)d.has(Q[$])&&x--;return x}},f.prototype.change=function(d){if(this.arraySize===-1)if(!(d instanceof f)||d.arraySize===-1){var m=d.words,b=Math.min(this.words.length,m.length);this.resize((m.length<<5)-1);for(var g=this.words,x=0;x+7<b;x+=8)g[x]^=m[x],g[x+1]^=m[x+1],g[x+2]^=m[x+2],g[x+3]^=m[x+3],g[x+4]^=m[x+4],g[x+5]^=m[x+5],g[x+6]^=m[x+6],g[x+7]^=m[x+7];for(;x<b;++x)g[x]^=m[x];for(;x<m.length;++x)g[x]=m[x];return this}else if(d.arraySize>0){var C=d.data;this.resize(C[0]);for(var g=this.words,j=0;j<d.arraySize;j++){var M=C[j];(g[M>>>5]&1<<M)!==0?g[M>>>5]&=~(1<<M):g[M>>>5]|=1<<M}return this}else return this;else{if(!(d instanceof f)||d.arraySize===-1){var g=new Uint32Array(Math.max(d.words.length,this.arraySize>0?this.data[0]<<37:0));g.set(d.words);for(var $=this.data,j=0;j<this.arraySize;j++){var M=$[j];(g[M>>>5]&1<<M)!==0?g[M>>>5]&=~(1<<M):g[M>>>5]|=1<<M}this.data=g,this.arraySize=-1}else for(var C=d.data,j=0;j<d.arraySize;j++){var M=C[j];this.has(M)?this.remove(M):this.add(M)}return this}},f.prototype.new_change=function(d){var m=f.order(this,d);switch(m.type){case a.BITSET:{var b=this.words,g=d.words,x=Math.max(b.length,g.length),C=new f(void 0,new Uint32Array(x));C.arraySize=-1;for(var j=Math.min(b.length,g.length),M=0;M+7<j;M+=8)C.words[M]=b[M]^g[M],C.words[M+1]=b[M+1]^g[M+1],C.words[M+2]=b[M+2]^g[M+2],C.words[M+3]=b[M+3]^g[M+3],C.words[M+4]=b[M+4]^g[M+4],C.words[M+5]=b[M+5]^g[M+5],C.words[M+6]=b[M+6]^g[M+6],C.words[M+7]=b[M+7]^g[M+7];for(;M<j;++M)C.words[M]=b[M]^g[M];var $=b.length;for(M=j;M<$;++M)C.words[M]=b[M];var V=g.length;for(M=j;M<V;++M)C.words[M]=g[M];return C}case a.MIXED:{var b=new Uint32Array(Math.max(m.second.words.length,m.first.arraySize>0?m.first.data[0]+32<<5:0));b.set(m.second.words);for(var Q=m.first.data,K=0;K<m.first.arraySize;K++){var P=Q[K];(b[P>>>5]&1<<P)!==0?b[P>>>5]&=~(1<<P):b[P>>>5]|=1<<P}var C=new f(void 0,b);return C.arraySize=-1,C}case a.ARRAY:{var te=new Uint32Array(m.first.data.length+m.second.data.length);te.set(m.second.data);for(var Ae=m.second.arraySize,Q=m.first.data,K=0;K<m.first.arraySize;K++){var P=Q[K],re=te.indexOf(P);re!==-1&&re<Ae?te[re]=te[--Ae]:te[Ae++]=P}if(Ae>1){for(var k=te[0],X=0,K=1;K<Ae;K++)te[K]>k&&(k=te[K],X=K);var pe=te[0];te[0]=te[X],te[X]=pe}var C=new f(void 0,te);return C.arraySize=Ae,C}}},f.prototype.change_size=function(d){var m=f.order(this,d);switch(m.type){case a.BITSET:{for(var b=this.words,g=d.words,x=Math.min(b.length,g.length),C=0,j=0;j<x;++j)C+=(0,i.hammingWeight)(b[j]^g[j]);for(var M=b.length>g.length?this:d,$=M.words.length;j<$;++j)C+=(0,i.hammingWeight)(M.words[j]);return C}case a.MIXED:{for(var V=m.first.data,C=m.second.size(),Q=0;Q<m.first.arraySize;Q++){var K=V[Q];m.second.has(K)?C--:C++}return C}case a.ARRAY:{for(var C=m.second.arraySize,V=m.first.data,Q=0;Q<m.first.arraySize;Q++){var K=V[Q];m.second.has(K)?C--:C++}return C}}},f.prototype.toString=function(){return"{"+this.array().join(",")+"}"},f.prototype.union=function(d){if(!(d instanceof f)||d.arraySize===-1){this.arraySize!==-1&&(this.data=this.toBitset(),this.arraySize=-1);for(var m=this.data,b=d.words,g=Math.min(m.length,b.length),x=0;x+7<g;x+=8)m[x]|=b[x],m[x+1]|=b[x+1],m[x+2]|=b[x+2],m[x+3]|=b[x+3],m[x+4]|=b[x+4],m[x+5]|=b[x+5],m[x+6]|=b[x+6],m[x+7]|=b[x+7];for(;x<g;++x)m[x]|=b[x];if(m.length<b.length){this.resize((b.length<<5)-1),m=this.data;var C=b.length;for(x=g;x<C;++x)m[x]=b[x]}return this}else{for(var j=d.data,M=0;M<d.arraySize;M++){var $=j[M];this.add($)}return this}},f.prototype.new_union=function(d){if(!(d instanceof f)||d.arraySize===-1){var m=this.data;this.arraySize!==-1&&(m=this.toBitset());var b=d.words,g=Math.max(m.length,b.length),x=new f(void 0,new Uint32Array(g));x.arraySize=-1;for(var C=Math.min(m.length,b.length),j=0;j<C;++j)x.words[j]=m[j]|b[j];for(var M=m.length,j=C;j<M;++j)x.words[j]=m[j];for(var $=b.length,j=C;j<$;++j)x.words[j]=b[j];return x}else{for(var x=this.clone(),V=d.data,Q=0;Q<d.arraySize;Q++){var K=V[Q];x.add(K)}return x}},f.prototype.union_size=function(d){var m=f.order(this,d);switch(m.type){case a.BITSET:{for(var b=m.first.words,g=m.second.words,x=Math.min(b.length,g.length),C=0,j=0;j<x;++j)C+=(0,i.hammingWeight)(b[j]|g[j]);if(b.length<g.length)for(var M=g.length,j=b.length;j<M;++j)C+=(0,i.hammingWeight)(g[j]|0);else for(var M=b.length,j=g.length;j<M;++j)C+=(0,i.hammingWeight)(b[j]|0);return C}case a.ARRAY:case a.MIXED:{for(var C=m.second.size(),$=m.first.data,V=0;V<m.first.arraySize;V++)m.second.has($[V])||C++;return C}}},f.order=function(d,m){return!(d instanceof f)||d.arraySize===-1?!(m instanceof f)||m.arraySize===-1?{first:d,second:m,type:a.BITSET}:{first:m,second:d,type:a.MIXED}:!(m instanceof f)||m.arraySize===-1?{first:d,second:m,type:a.MIXED}:m.arraySize>d.arraySize?{first:d,second:m,type:a.ARRAY}:{first:m,second:d,type:a.ARRAY}},f})();return ai.SparseTypedFastBitSet=p,ai}var si={},Zp;function Z1(){if(Zp)return si;Zp=1;var c=si&&si.__values||function(p){var f=typeof Symbol=="function"&&Symbol.iterator,d=f&&p[f],m=0;if(d)return d.call(p);if(p&&typeof p.length=="number")return{next:function(){return p&&m>=p.length&&(p=void 0),{value:p&&p[m++],done:!p}}};throw new TypeError(f?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(si,"__esModule",{value:!0}),si.TypedFastBitSet=void 0;var i=Bg();function a(p){return p?p[Symbol.iterator]!==void 0:!1}var o=(function(){function p(f,d){var m,b;if(d===void 0&&(d=new Uint32Array(8)),this.words=d,a(f))try{for(var g=c(f),x=g.next();!x.done;x=g.next()){var C=x.value;this.add(C)}}catch(j){m={error:j}}finally{try{x&&!x.done&&(b=g.return)&&b.call(g)}finally{if(m)throw m.error}}}return p.fromWords=function(f){return new p(void 0,f)},p.prototype.add=function(f){this.resize(f),this.words[f>>>5]|=1<<f},p.prototype.flip=function(f){this.resize(f),this.words[f>>>5]^=1<<f},p.prototype.clear=function(){this.words=new Uint32Array(8)},p.prototype.remove=function(f){this.resize(f),this.words[f>>>5]&=~(1<<f)},p.prototype.addRange=function(f,d){if(!(f>=d)){this.words.length<<5<=d&&this.resize(d);var m=this.words,b=f>>5,g=d-1>>5;if(b===g){m[b]|=-1<<f&-1>>>-d;return}m[b]|=-1<<f,m.fill(-1,b+1,g),m[g]|=-1>>>-d}},p.prototype.removeRange=function(f,d){var m=this.words;if(f=Math.min(f,(m.length<<5)-1),d=Math.min(d,(m.length<<5)-1),!(f>=d)){var b=f>>5,g=d-1>>5;if(b===g){m[b]&=~(-1<<f&-1>>>-d);return}m[b]&=~(-1<<f),m.fill(0,b+1,g),m[g]&=~(-1>>>-d)}},p.prototype.isEmpty=function(){for(var f=this.words,d=f.length,m=0;m<d;m++)if(f[m]!==0)return!1;return!0},p.prototype.has=function(f){return(this.words[f>>>5]&1<<f)!==0},p.prototype.hasAnyInRange=function(f,d){if(f>=d)return!1;var m=this.words;f=Math.min(f,(m.length<<5)-1),d=Math.min(d,(m.length<<5)-1);var b=f>>>5,g=d-1>>5;if(b===g)return(m[b]&(-1<<f&-1>>>-d))!==0;if((m[b]&-1<<f)!==0)return!0;for(var x=b+1;x<g-1;x++)if(m[x]!==0)return!0;return(m[g]&-1>>>-d)!==0},p.prototype.checkedAdd=function(f){var d=this.words;this.resize(f);var m=d[f>>>5],b=m|1<<f;return d[f>>>5]=b,(b^m)>>>f},p.prototype.trim=function(){for(var f=this.words,d=f.length;d>0&&f[d-1]===0;)d--;this.words=f.slice(0,d)},p.prototype.resize=function(f){var d=this.words;if(!(d.length<<5>f)){var m=f+32>>>5,b=new Uint32Array(m<<1);b.set(d),this.words=b}},p.prototype.size=function(){for(var f=this.words,d=0,m=f.length,b=0;b+4<m;b+=4)d+=(0,i.hammingWeight4)(f[b]|0,f[b+1]|0,f[b+2]|0,f[b+3]|0);for(;b<m;++b)d+=(0,i.hammingWeight)(f[b]|0);return d},p.prototype.array=function(){for(var f=this.words,d=new Array(this.size()),m=0,b=f.length,g=0;g<b;++g)for(var x=f[g];x!=0;){var C=x&-x;d[m++]=(g<<5)+(0,i.hammingWeight)(C-1|0),x^=C}return d},p.prototype.forEach=function(f){for(var d=this.words,m=d.length,b=0;b<m;++b)for(var g=d[b];g!=0;){var x=g&-g;f((b<<5)+(0,i.hammingWeight)(x-1)|0),g^=x}},p.prototype[Symbol.iterator]=function(){var f,d=this.words,m=d.length,b=0,g=d[b];return f={},f[Symbol.iterator]=function(){return this},f.next=function(){for(;b<m;)if(g!==0){var x=g&-g,C=(b<<5)+(0,i.hammingWeight)(x-1|0);return g^=x,{done:!1,value:C}}else b++,b<m&&(g=d[b]);return{done:!0,value:void 0}},f},p.prototype.clone=function(){return p.fromWords(new Uint32Array(this.words))},p.prototype.intersects=function(f){for(var d=this.words,m=f.words,b=Math.min(d.length,m.length),g=0;g<b;++g)if((d[g]&m[g])!==0)return!0;return!1},p.prototype.intersection=function(f){for(var d=this.words,m=f.words,b=Math.min(d.length,m.length),g=0;g+7<b;g+=8)d[g]&=m[g],d[g+1]&=m[g+1],d[g+2]&=m[g+2],d[g+3]&=m[g+3],d[g+4]&=m[g+4],d[g+5]&=m[g+5],d[g+6]&=m[g+6],d[g+7]&=m[g+7];for(;g<b;++g)d[g]&=m[g];var x=d.length;for(g=b;g<x;++g)d[g]=0;return this},p.prototype.intersection_size=function(f){for(var d=this.words,m=f.words,b=Math.min(d.length,m.length),g=0,x=0;x<b;++x)g+=(0,i.hammingWeight)(d[x]&m[x]);return g},p.prototype.new_intersection=function(f){for(var d=this.words,m=f.words,b=Math.min(d.length,m.length),g=new Uint32Array(b),x=0;x+7<b;x+=8)g[x]=d[x]&m[x],g[x+1]=d[x+1]&m[x+1],g[x+2]=d[x+2]&m[x+2],g[x+3]=d[x+3]&m[x+3],g[x+4]=d[x+4]&m[x+4],g[x+5]=d[x+5]&m[x+5],g[x+7]=d[x+7]&m[x+7],g[x+6]=d[x+6]&m[x+6];for(;x<b;++x)g[x]=d[x]&m[x];return new p(void 0,g)},p.prototype.equals=function(f){for(var d=this.words,m=f.words,b=Math.min(d.length,m.length),g=0;g<b;++g)if(d[g]!=m[g])return!1;if(d.length<m.length){for(var x=m.length,g=d.length;g<x;++g)if(m[g]!=0)return!1}else if(m.length<d.length){for(var x=d.length,g=m.length;g<x;++g)if(d[g]!=0)return!1}return!0},p.prototype.difference=function(f){for(var d=this.words,m=f.words,b=Math.min(d.length,m.length),g=0;g+7<b;g+=8)d[g]&=~m[g],d[g+1]&=~m[g+1],d[g+2]&=~m[g+2],d[g+3]&=~m[g+3],d[g+4]&=~m[g+4],d[g+5]&=~m[g+5],d[g+6]&=~m[g+6],d[g+7]&=~m[g+7];for(;g<b;++g)d[g]&=~m[g];return this},p.prototype.difference2=function(f){var d=Math.min(this.words.length,f.words.length);f.resize((this.words.length<<5)-1);for(var m=this.words,b=f.words,g=0;g+7<d;g+=8)b[g]=m[g]&~b[g],b[g+1]=m[g+1]&~b[g+1],b[g+2]=m[g+2]&~b[g+2],b[g+3]=m[g+3]&~b[g+3],b[g+4]=m[g+4]&~b[g+4],b[g+5]=m[g+5]&~b[g+5],b[g+6]=m[g+6]&~b[g+6],b[g+7]=m[g+7]&~b[g+7];for(;g<d;++g)b[g]=this.words[g]&~b[g];for(;g<this.words.length;++g)b[g]=this.words[g];return b.fill(0,g),f},p.prototype.new_difference=function(f){return this.clone().difference(f)},p.prototype.difference_size=function(f){for(var d=this.words,m=f.words,b=Math.min(d.length,m.length),g=0,x=0;x<b;++x)g+=(0,i.hammingWeight)(d[x]&~m[x]);for(var C=d.length;x<C;++x)g+=(0,i.hammingWeight)(d[x]);return g},p.prototype.change=function(f){var d=f.words,m=Math.min(this.words.length,d.length);this.resize((d.length<<5)-1);for(var b=this.words,g=0;g+7<m;g+=8)b[g]^=d[g],b[g+1]^=d[g+1],b[g+2]^=d[g+2],b[g+3]^=d[g+3],b[g+4]^=d[g+4],b[g+5]^=d[g+5],b[g+6]^=d[g+6],b[g+7]^=d[g+7];for(;g<m;++g)b[g]^=d[g];for(;g<d.length;++g)b[g]=d[g];return this},p.prototype.new_change=function(f){for(var d=this.words,m=f.words,b=Math.max(d.length,m.length),g=new Uint32Array(b),x=Math.min(d.length,m.length),C=0;C+7<x;C+=8)g[C]=d[C]^m[C],g[C+1]=d[C+1]^m[C+1],g[C+2]=d[C+2]^m[C+2],g[C+3]=d[C+3]^m[C+3],g[C+4]=d[C+4]^m[C+4],g[C+5]=d[C+5]^m[C+5],g[C+6]=d[C+6]^m[C+6],g[C+7]=d[C+7]^m[C+7];for(;C<x;++C)g[C]=d[C]^m[C];var j=d.length;for(C=x;C<j;++C)g[C]=d[C];var M=m.length;for(C=x;C<M;++C)g[C]=m[C];return new p(void 0,g)},p.prototype.change_size=function(f){for(var d=this.words,m=f.words,b=Math.min(d.length,m.length),g=0,x=0;x<b;++x)g+=(0,i.hammingWeight)(d[x]^m[x]);for(var C=d.length>m.length?this:f,j=C.words.length;x<j;++x)g+=(0,i.hammingWeight)(C.words[x]);return g},p.prototype.toString=function(){return"{"+this.array().join(",")+"}"},p.prototype.union=function(f){for(var d=this.words,m=f.words,b=Math.min(d.length,m.length),g=0;g+7<b;g+=8)d[g]|=m[g],d[g+1]|=m[g+1],d[g+2]|=m[g+2],d[g+3]|=m[g+3],d[g+4]|=m[g+4],d[g+5]|=m[g+5],d[g+6]|=m[g+6],d[g+7]|=m[g+7];for(;g<b;++g)d[g]|=m[g];if(d.length<m.length){this.resize((m.length<<5)-1),d=this.words;var x=m.length;for(g=b;g<x;++g)d[g]=m[g]}return this},p.prototype.new_union=function(f){for(var d=this.words,m=f.words,b=Math.max(d.length,m.length),g=new Uint32Array(b),x=Math.min(d.length,m.length),C=0;C<x;++C)g[C]=d[C]|m[C];for(var j=d.length,C=x;C<j;++C)g[C]=d[C];for(var M=m.length,C=x;C<M;++C)g[C]=m[C];return new p(void 0,g)},p.prototype.union_size=function(f){for(var d=this.words,m=f.words,b=Math.min(d.length,m.length),g=0,x=0;x<b;++x)g+=(0,i.hammingWeight)(d[x]|m[x]);if(d.length<m.length)for(var C=m.length,x=d.length;x<C;++x)g+=(0,i.hammingWeight)(m[x]|0);else for(var C=d.length,x=m.length;x<C;++x)g+=(0,i.hammingWeight)(d[x]|0);return g},p})();return si.TypedFastBitSet=o,si}var Qp;function Q1(){return Qp||(Qp=1,(function(c){var i=li&&li.__createBinding||(Object.create?(function(o,p,f,d){d===void 0&&(d=f);var m=Object.getOwnPropertyDescriptor(p,f);(!m||("get"in m?!p.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return p[f]}}),Object.defineProperty(o,d,m)}):(function(o,p,f,d){d===void 0&&(d=f),o[d]=p[f]})),a=li&&li.__exportStar||function(o,p){for(var f in o)f!=="default"&&!Object.prototype.hasOwnProperty.call(p,f)&&i(p,o,f)};Object.defineProperty(c,"__esModule",{value:!0}),a(V1(),c),a(Z1(),c)})(li)),li}var Kp=Q1();class Fp{constructor(){this.lineStack=[],this.pcToLocs={},this.insnBitset=new Kp.TypedFastBitSet,this.dataBitset=new Kp.TypedFastBitSet,this.dataLengths={}}startLine(i,a,o){const p={lineNo:i.start.line,segmentId:o.id,numBytes:0};this.lineStack.push({loc:p,pc:a,segmentId:o.id})}endLine(i,a){const o=this.lineStack.pop();if(!o)throw new Error("internal compiler error, mismatching start/end lines in debugInfo");const p=i-o.pc;if(p>0&&a.id===o.segmentId){const f={...o.loc,numBytes:p};this.pcToLocs[o.pc]===void 0?this.pcToLocs[o.pc]=[f]:this.pcToLocs[o.pc].push(f)}}markAsInstruction(i,a){for(let o=i;o<a;o++)this.insnBitset.add(o)}markAsData(i,a){for(let o=i;o<a;o++)this.dataBitset.add(o);this.dataLengths[i]={length:a-i}}info(){const i=this.insnBitset.clone(),a=m=>i.has(m),o=this.dataBitset.clone(),p=m=>o.has(m),f=Object.assign({},this.dataLengths),d=m=>f[m]?.length;return{pcToLocs:this.pcToLocs,isInstruction:a,isData:p,dataLength:d}}}class Jp extends SyntaxError{constructor(i,a,o,p){super(i),this.expected=a,this.found=o,this.location=p,this.name="SyntaxError"}format(i){let a="Error: "+this.message;if(this.location){let o=null;const p=i.find(b=>b.source===this.location.source);p&&(o=p.text.split(/\r\n|\n|\r/g));const f=this.location.start,d=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(f):f,m=this.location.source+":"+d.line+":"+d.column;if(o){const b=this.location.end,g="".padEnd(d.line.toString().length," "),x=o[f.line-1],j=(f.line===b.line?b.column:x.length+1)-f.column||1;a+=`
 --> `+m+`
`+g+` |
`+d.line+" | "+x+`
`+g+" | "+"".padEnd(f.column-1," ")+"".padEnd(j,"^")}else a+=`
 at `+m}return a}static buildMessage(i,a){function o(j){return j.codePointAt(0).toString(16).toUpperCase()}const p=Object.prototype.hasOwnProperty.call(RegExp.prototype,"unicode")?new RegExp("[\\p{C}\\p{Mn}\\p{Mc}]","gu"):null;function f(j){return p?j.replace(p,M=>"\\u{"+o(M)+"}"):j}function d(j){return f(j.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,M=>"\\x0"+o(M)).replace(/[\x10-\x1F\x7F-\x9F]/g,M=>"\\x"+o(M)))}function m(j){return f(j.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,M=>"\\x0"+o(M)).replace(/[\x10-\x1F\x7F-\x9F]/g,M=>"\\x"+o(M)))}const b={literal(j){return'"'+d(j.text)+'"'},class(j){const M=j.parts.map($=>Array.isArray($)?m($[0])+"-"+m($[1]):m($));return"["+(j.inverted?"^":"")+M.join("")+"]"+(j.unicode?"u":"")},any(){return"any character"},end(){return"end of input"},other(j){return j.description}};function g(j){return b[j.type](j)}function x(j){const M=j.map(g);if(M.sort(),M.length>0){let $=1;for(let V=1;V<M.length;V++)M[V-1]!==M[V]&&(M[$]=M[V],$++);M.length=$}switch(M.length){case 1:return M[0];case 2:return M[0]+" or "+M[1];default:return M.slice(0,-1).join(", ")+", or "+M[M.length-1]}}function C(j){return j?'"'+d(j)+'"':"end of input"}return"Expected "+x(i)+" but "+C(a)+" found."}}function K1(c,i){i=i!==void 0?i:{};const a={},o=i.grammarSource,p={Program:Cu};let f=Cu;const d="in",m="a",b="b",g="c",x="d",C="e",j="f",M="g",$="i",V="j",Q="l",K="m",P="n",te="o",Ae="p",re="r",k="s",X="t",pe="w",me="x",et="y",je="0",ve="1",nt="2",Be=",",_e="/",ee="=",I="%",we="<",_t=">",Mt="<=",at=">=",Je="==",J="!=",ue="!",ge="(",ce=")",le="{",ye="}",Te="-",We="+",Rt="",Bt="*",He='"',ct=";",Rn=":",vt="::",za=/^[a-zA-Z_]/,bt=/^[a-zA-Z_0-9]/,ol=/^[0-9a-f]/i,wl=/^[0-1]/,Tn=/^[+\-]/,Aa=/^[0-9]/,ja=/^[=]/,Ht=/^[\t\v-\f \xA0\uFEFF]/,Fc=/^[\n\r]/,Gr=/^[a-d]/i,qr=/^[x-y]/i,fi=Xt("directive"),Jc=he("in",!1),Xr=Ot([["a","z"],["A","Z"],"_"],!1,!1,!1),kc=Ot([["a","z"],["A","Z"],"_",["0","9"]],!1,!1,!1),Yr=Ot([["0","9"],["a","f"]],!1,!0,!1),Ll=Ot([["0","1"]],!1,!1,!1),Gt=Ot(["+","-"],!1,!1,!1),Nn=Ot([["0","9"]],!1,!1,!1),qt=he("a",!0),Ic=he("b",!0),Wc=he("c",!0),Pc=he("d",!0),di=he("e",!0),hi=he("f",!0),mi=he("g",!0),fl=he("i",!0),pi=he("j",!0),Ea=he("l",!0),eo=he("m",!0),Vr=he("n",!0),bs=he("o",!0),Ma=he("p",!0),to=he("r",!0),Zr=he("s",!0),Qr=he("t",!0),Kr=he("w",!0),Ss=he("x",!0),xs=he("y",!0),Fr=he("0",!1),Jr=he("1",!1),Kn=he("2",!1),St=he(",",!1),wt=he("/",!1),Ol=he("=",!1),Cs=he("%",!1),no=he("<",!1),zs=Ot(["="],!1,!1,!1),kr=he(">",!1),Ra=he("<=",!1),As=he(">=",!1),Ul=he("==",!1),_l=he("!=",!1),Ta=he("!",!1),Hl=he("(",!1),mt=he(")",!1),Ir=he("{",!1),Wr=he("}",!1),dl=he("-",!1),Gl=he("+",!1),lo=he("",!1),Pr=he("*",!1),ql=he('"',!1),js=bu(),Na=Xt("whitespace"),gi=Ot(["	",["\v","\f"]," ","","\uFEFF"],!1,!1,!1),Dn=Xt("end of line"),Ft=Ot([`
`,"\r"],!1,!1,!1),eu=Xt("comment"),ao=he(";",!1),Es=Xt("label"),tu=he(":",!1),yi=Xt("ORG"),io=Xt("mnemonic"),Jt=Xt("literal"),vi=Xt("identifier"),Xl=he("::",!1),Ms=Xt("register"),Yl=Ot([["a","d"]],!1,!0,!1),nu=Ot([["x","y"]],!1,!0,!1),lu=Xt("current-pc");function Vl(s){return b1(s,Ne())}function so(s,y){return Gi(s,y,1)}function ro(s){return s}function au(s,y){return us(s,null,y,Ne())}function Rs(s,y){return us(s,y,null,Ne())}function uo(s){return us(s,null,null,Ne())}function co(s){return us(null,s,null,Ne())}function bi(s){return us(null,s,null,Ne())}function $n(){return us(null,null,null,Ne())}function iu(s){return s}function su(s){return s}function Zl(s,y){const E=s=="byte"?Or.Byte:Or.Word;return z1(E,y,Ne())}function Ql(s,y){return A1(s,y,Ne())}function ru(s,y,E,A){const N=[s,...E.map(se=>se.condition)],U=[y,...E.map(se=>se.trueBranch)],fe=N.map((se,Pl)=>[se,U[Pl]]);return E1(fe,A,Ne())}function Ts(s,y,E){return R1(s,y,E,Ne())}function uu(s,y){return T1(s,y,Ne())}function Da(s){return M1(s,Ne())}function Bn(s){return j1(s,Ne())}function Ns(s,y){return{condition:s,trueBranch:y}}function Si(s){return s}function Fn(s,y){return Gi(s,y,3)}function Ds(s,y,E){return ud(s,y,E,Ne())}function xi(s,y){return ud(s,y,null,Ne())}function cu(s){return ud(s,null,null,Ne())}function Ci(s,y){return y.reduce(function(E,A){return Dc(A[1],E,A[3],Ne())},s)}function zi(s,y){return y.reduce(function(E,A){return Dc(A[1],E,A[3],Ne())},s)}function ou(s,y){return y.reduce(function(E,A){return Dc(A[1],E,A[3],Ne())},s)}function Lt(s,y){return y.reduce(function(E,A){return Dc(A[1],E,A[3],Ne())},s)}function hl(s,y){return N1(s,y,Ne())}function $s(s){return s}function Ai(s){return s}function Cd(s){return s}function fu(s){return s}function du(s){return s}function ji(s){return s}function Bs(s){return s}function oo(s){return s}function zd(s){return s}function Ad(s){return s}function jd(s){return s}function hu(s){return s}function Ed(s){return s}function Md(s){return s}function Rd(s){return s}function Td(s){return s}function Nd(s){return s}function fo(s){return s}function Dd(s){return s}function $d(s){return s}function ho(){return"byte"}function mo(){return"word"}function ws(s){return parseInt(s,2)}function po(s){return parseInt(s,16)}function go(s){return parseInt(s)}function yo(s){return s.join("")}function mu(s){return Nr(s.join(""),Ne())}function Bd(s){return s}function vo(){return vu()}function wd(s){return s}function bo(s){return S1(s,Ne())}function So(s){return x1(s,Ne())}function Ld(s){return s}function xo(s){return Nr(s,"b",Ne())}function Co(s){return Nr(s,"h",Ne())}function zo(s){return Nr(s,"d",Ne())}function Ls(s){return Nr(s,"s",Ne())}function $a(s,y){return qp(Gi(s,y,1),!1,Ne())}function Ao(s,y){return qp(Gi(s,y,1),!0,Ne())}function pu(s){return $1(s,Ne())}function gu(s){return D1(s.toLowerCase(),Ne())}function yu(){return C1(Ne())}let S=i.peg$currPos|0,W=S;const rn=[{line:1,column:1}];let un=S,Ei=i.peg$maxFailExpected||[],G=i.peg$silentFails|0,Kl;if(i.startRule){if(!(i.startRule in p))throw new Error(`Can't start parsing from rule "`+i.startRule+'".');f=p[i.startRule]}function vu(){return c.substring(W,S)}function Ba(){return Ri(W,S)}function wa(s=S){const y=c.codePointAt(s);return y===void 0?"":String.fromCodePoint(y)}function he(s,y){return{type:"literal",text:s,ignoreCase:y}}function Ot(s,y,E,A){return{type:"class",parts:s,inverted:y,ignoreCase:E,unicode:A}}function bu(){return{type:"any"}}function Su(){return{type:"end"}}function Xt(s){return{type:"other",description:s}}function Mi(s){let y=rn[s],E;if(y)return y;if(s>=rn.length)E=rn.length-1;else for(E=s;!rn[--E];);for(y=rn[E],y={line:y.line,column:y.column};E<s;)c.charCodeAt(E)===10?(y.line++,y.column=1):y.column++,E++;return rn[s]=y,y}function Ri(s,y,E){const A=Mi(s),N=Mi(y);return{source:o,start:{offset:s,line:A.line,column:A.column},end:{offset:y,line:N.line,column:N.column}}}function F(s){S<un||(S>un&&(un=S,Ei=[]),Ei.push(s))}function xu(s,y,E){return new Jp(Jp.buildMessage(s,y),s,y,E)}function Cu(){let s,y;return s=S,y=Fl(),y!==a&&(W=s,y=Vl(y)),s=y,s}function Fl(){let s,y,E,A,N,U;if(s=S,y=Os(),y!==a){for(E=[],A=S,N=Wt(),N!==a?(U=Os(),U!==a?(N=[N,U],A=N):(S=A,A=a)):(S=A,A=a);A!==a;)E.push(A),A=S,N=Wt(),N!==a?(U=Os(),U!==a?(N=[N,U],A=N):(S=A,A=a)):(S=A,A=a);W=s,s=so(y,E)}else S=s,s=a;return s}function Os(){let s,y;return s=S,ae(),y=jo(),y!==a?(ae(),al(),W=s,s=y):(S=s,s=a),s}function jo(){let s,y,E,A,N;return s=S,y=cn(),y!==a?(ae(),E=tl(),E!==a?(ae(),A=Fl(),A!==a?(ae(),N=Un(),N!==a?(W=s,s=au(y,A)):(S=s,s=a)):(S=s,s=a)):(S=s,s=a)):(S=s,s=a),s===a&&(s=S,y=cn(),y!==a?(ae(),E=zu(),E!==a?(W=s,s=Rs(y,E)):(S=s,s=a)):(S=s,s=a),s===a&&(s=S,y=cn(),y!==a&&(W=s,y=uo(y)),s=y,s===a&&(s=S,y=Is(),y!==a&&(W=s,y=co(y)),s=y,s===a&&(s=S,y=zu(),y!==a&&(W=s,y=bi(y)),s=y,s===a&&(s=S,y=ae(),W=s,y=$n(),s=y))))),s}function zu(){let s,y;return s=S,y=Yt(),y!==a&&(W=s,y=y),s=y,s===a&&(s=S,y=ju(),y!==a&&(W=s,y=y),s=y),s}function Yt(){let s,y,E,A,N,U,fe,se,Pl,gl,Sn,Va,on;if(G++,s=S,y=Hn(),y===a&&(y=Nu()),y!==a?(E=jt(),E!==a?(A=Us(),A!==a?(W=s,s=Zl(y,A)):(S=s,s=a)):(S=s,s=a)):(S=s,s=a),s===a&&(s=S,y=nl(),y!==a?(E=jt(),E!==a?(A=ot(),A!==a?(N=ae(),U=At(),U!==a?(fe=ae(),se=ot(),se!==a?(W=s,s=Ql(A,se)):(S=s,s=a)):(S=s,s=a)):(S=s,s=a)):(S=s,s=a)):(S=s,s=a),s===a)){if(s=S,y=Du(),y!==a)if(E=jt(),E!==a)if(A=Ln(),A!==a)if(N=ae(),U=ot(),U!==a)if(fe=ae(),se=On(),se!==a)if(ae(),Pl=tl(),Pl!==a)if(ae(),gl=Fl(),gl!==a)if(ae(),Sn=Un(),Sn!==a){for(Va=[],on=Jl();on!==a;)Va.push(on),on=Jl();on=Au(),on===a&&(on=null),W=s,s=ru(U,gl,Va,on)}else S=s,s=a;else S=s,s=a;else S=s,s=a;else S=s,s=a;else S=s,s=a;else S=s,s=a;else S=s,s=a;else S=s,s=a;s===a&&(s=S,y=Ks(),y!==a?(E=jt(),E!==a?(A=il(),A!==a?(N=jt(),N!==a?(c.substr(S,2)===d?(U=d,S+=2):(U=a,G===0&&F(Jc)),U!==a?(fe=jt(),fe!==a?(se=ot(),se!==a?(ae(),Pl=tl(),Pl!==a?(ae(),gl=Fl(),gl!==a?(ae(),Sn=Un(),Sn!==a?(W=s,s=Ts(A,se,gl)):(S=s,s=a)):(S=s,s=a)):(S=s,s=a)):(S=s,s=a)):(S=s,s=a)):(S=s,s=a)):(S=s,s=a)):(S=s,s=a)):(S=s,s=a)):(S=s,s=a),s===a&&(s=S,y=Fs(),y!==a?(E=jt(),E!==a?(A=il(),A!==a?(N=ae(),U=wn(),U!==a?(fe=ae(),se=ot(),se!==a?(W=s,s=uu(A,se)):(S=s,s=a)):(S=s,s=a)):(S=s,s=a)):(S=s,s=a)):(S=s,s=a),s===a&&(s=S,y=Ee(),y!==a?(E=jt(),E!==a?(A=Bu(),A!==a?(W=s,s=Da(A)):(S=s,s=a)):(S=s,s=a)):(S=s,s=a),s===a&&(s=S,y=vn(),y!==a?(E=jt(),E!==a?(A=ot(),A!==a?(W=s,s=Bn(A)):(S=s,s=a)):(S=s,s=a)):(S=s,s=a)))))}return G--,s===a&&(y=a,G===0&&F(fi)),s}function Jl(){let s,y,E,A,N,U,fe,se;return s=S,ae(),y=ke(),y!==a?(ae(),E=Ln(),E!==a?(ae(),A=ot(),A!==a?(ae(),N=On(),N!==a?(ae(),U=tl(),U!==a?(ae(),fe=Fl(),fe!==a?(ae(),se=Un(),se!==a?(W=s,s=Ns(A,fe)):(S=s,s=a)):(S=s,s=a)):(S=s,s=a)):(S=s,s=a)):(S=s,s=a)):(S=s,s=a)):(S=s,s=a),s}function Au(){let s,y,E,A,N;return s=S,ae(),y=xt(),y!==a?(ae(),E=tl(),E!==a?(ae(),A=Fl(),A!==a?(ae(),N=Un(),N!==a?(W=s,s=A):(S=s,s=a)):(S=s,s=a)):(S=s,s=a)):(S=s,s=a),s}function Us(){let s,y,E,A,N,U,fe,se;if(s=S,y=ot(),y!==a){for(E=[],A=S,N=ae(),U=At(),U!==a?(fe=ae(),se=ot(),se!==a?(N=[N,U,fe,se],A=N):(S=A,A=a)):(S=A,A=a);A!==a;)E.push(A),A=S,N=ae(),U=At(),U!==a?(fe=ae(),se=ot(),se!==a?(N=[N,U,fe,se],A=N):(S=A,A=a)):(S=A,A=a);W=s,s=Fn(y,E)}else S=s,s=a;return s}function ju(){let s,y,E,A,N,U;return s=S,y=Ya(),y!==a?(E=jt(),E!==a?(A=ot(),A!==a?(ae(),N=At(),N!==a?(ae(),U=ot(),U!==a?(W=s,s=Ds(y,A,U)):(S=s,s=a)):(S=s,s=a)):(S=s,s=a)):(S=s,s=a)):(S=s,s=a),s===a&&(s=S,y=Ya(),y!==a?(E=jt(),E!==a?(A=ot(),A!==a?(W=s,s=xi(y,A)):(S=s,s=a)):(S=s,s=a)):(S=s,s=a),s===a&&(s=S,y=Ya(),y!==a&&(W=s,y=cu(y)),s=y)),s}function Ti(){let s,y,E,A,N,U,fe,se;if(s=S,y=Oa(),y!==a){for(E=[],A=S,N=ae(),U=kt(),U===a&&(U=Li(),U===a&&(U=Vs())),U!==a?(fe=ae(),se=Oa(),se!==a?(N=[N,U,fe,se],A=N):(S=A,A=a)):(S=A,A=a);A!==a;)E.push(A),A=S,N=ae(),U=kt(),U===a&&(U=Li(),U===a&&(U=Vs())),U!==a?(fe=ae(),se=Oa(),se!==a?(N=[N,U,fe,se],A=N):(S=A,A=a)):(S=A,A=a);W=s,s=Ci(y,E)}else S=s,s=a;return s===a&&(s=_a()),s}function La(){let s,y,E,A,N,U,fe,se;if(s=S,y=Ti(),y!==a){for(E=[],A=S,N=ae(),U=Qt(),U===a&&(U=Zt(),U===a&&(U=_n())),U!==a?(fe=ae(),se=Ti(),se!==a?(N=[N,U,fe,se],A=N):(S=A,A=a)):(S=A,A=a);A!==a;)E.push(A),A=S,N=ae(),U=Qt(),U===a&&(U=Zt(),U===a&&(U=_n())),U!==a?(fe=ae(),se=Ti(),se!==a?(N=[N,U,fe,se],A=N):(S=A,A=a)):(S=A,A=a);W=s,s=zi(y,E)}else S=s,s=a;return s}function _s(){let s,y,E,A,N,U,fe,se;if(s=S,y=La(),y!==a){for(E=[],A=S,N=ae(),U=Oi(),U===a&&(U=Zs(),U===a&&(U=Xa(),U===a&&(U=el()))),U!==a?(fe=ae(),se=La(),se!==a?(N=[N,U,fe,se],A=N):(S=A,A=a)):(S=A,A=a);A!==a;)E.push(A),A=S,N=ae(),U=Oi(),U===a&&(U=Zs(),U===a&&(U=Xa(),U===a&&(U=el()))),U!==a?(fe=ae(),se=La(),se!==a?(N=[N,U,fe,se],A=N):(S=A,A=a)):(S=A,A=a);W=s,s=ou(y,E)}else S=s,s=a;return s}function ot(){let s,y,E,A,N,U,fe,se;if(s=S,y=_s(),y!==a){for(E=[],A=S,N=ae(),U=Ui(),U===a&&(U=Qs()),U!==a?(fe=ae(),se=_s(),se!==a?(N=[N,U,fe,se],A=N):(S=A,A=a)):(S=A,A=a);A!==a;)E.push(A),A=S,N=ae(),U=Ui(),U===a&&(U=Qs()),U!==a?(fe=ae(),se=_s(),se!==a?(N=[N,U,fe,se],A=N):(S=A,A=a)):(S=A,A=a);W=s,s=Lt(y,E)}else S=s,s=a;return s}function Oa(){let s;return s=Ua(),s===a&&(s=_a()),s}function Ua(){let s,y,E,A,N;return s=S,y=_a(),y!==a?(ae(),E=Ln(),E!==a?(ae(),A=Us(),A===a&&(A=null),ae(),N=On(),N!==a?(W=s,s=hl(y,A)):(S=s,s=a)):(S=s,s=a)):(S=s,s=a),s}function _a(){let s,y,E,A;return s=pl(),s===a&&(s=Ct(),s===a&&(s=_i(),s===a&&(s=Hi(),s===a&&(s=S,y=Ln(),y!==a?(ae(),E=ot(),E!==a?(ae(),A=On(),A!==a?(W=s,s=E):(S=s,s=a)):(S=s,s=a)):(S=s,s=a))))),s}function Ni(){let s;return s=c.charAt(S),za.test(s)?S++:(s=a,G===0&&F(Xr)),s}function Jn(){let s;return s=c.charAt(S),bt.test(s)?S++:(s=a,G===0&&F(kc)),s}function kl(){let s,y;if(s=[],y=c.charAt(S),ol.test(y)?S++:(y=a,G===0&&F(Yr)),y!==a)for(;y!==a;)s.push(y),y=c.charAt(S),ol.test(y)?S++:(y=a,G===0&&F(Yr));else s=a;return s}function Hs(){let s,y;if(s=[],y=c.charAt(S),wl.test(y)?S++:(y=a,G===0&&F(Ll)),y!==a)for(;y!==a;)s.push(y),y=c.charAt(S),wl.test(y)?S++:(y=a,G===0&&F(Ll));else s=a;return s}function Eu(){let s,y,E,A;if(s=S,y=c.charAt(S),Tn.test(y)?S++:(y=a,G===0&&F(Gt)),y===a&&(y=null),E=[],A=c.charAt(S),Aa.test(A)?S++:(A=a,G===0&&F(Nn)),A!==a)for(;A!==a;)E.push(A),A=c.charAt(S),Aa.test(A)?S++:(A=a,G===0&&F(Nn));else E=a;return E!==a?(y=[y,E],s=y):(S=s,s=a),s}function kn(){let s;return s=c.charAt(S),s.toLowerCase()===m?S++:(s=a,G===0&&F(qt)),s}function Gs(){let s;return s=c.charAt(S),s.toLowerCase()===b?S++:(s=a,G===0&&F(Ic)),s}function Mu(){let s;return s=c.charAt(S),s.toLowerCase()===g?S++:(s=a,G===0&&F(Wc)),s}function qs(){let s;return s=c.charAt(S),s.toLowerCase()===x?S++:(s=a,G===0&&F(Pc)),s}function Il(){let s;return s=c.charAt(S),s.toLowerCase()===C?S++:(s=a,G===0&&F(di)),s}function Di(){let s;return s=c.charAt(S),s.toLowerCase()===j?S++:(s=a,G===0&&F(hi)),s}function Ru(){let s;return s=c.charAt(S),s.toLowerCase()===M?S++:(s=a,G===0&&F(mi)),s}function Ha(){let s;return s=c.charAt(S),s.toLowerCase()===$?S++:(s=a,G===0&&F(fl)),s}function $i(){let s;return s=c.charAt(S),s.toLowerCase()===V?S++:(s=a,G===0&&F(pi)),s}function In(){let s;return s=c.charAt(S),s.toLowerCase()===Q?S++:(s=a,G===0&&F(Ea)),s}function Vt(){let s;return s=c.charAt(S),s.toLowerCase()===K?S++:(s=a,G===0&&F(eo)),s}function Bi(){let s;return s=c.charAt(S),s.toLowerCase()===P?S++:(s=a,G===0&&F(Vr)),s}function Tt(){let s;return s=c.charAt(S),s.toLowerCase()===te?S++:(s=a,G===0&&F(bs)),s}function Wl(){let s;return s=c.charAt(S),s.toLowerCase()===Ae?S++:(s=a,G===0&&F(Ma)),s}function Wn(){let s;return s=c.charAt(S),s.toLowerCase()===re?S++:(s=a,G===0&&F(to)),s}function Ga(){let s;return s=c.charAt(S),s.toLowerCase()===k?S++:(s=a,G===0&&F(Zr)),s}function qa(){let s;return s=c.charAt(S),s.toLowerCase()===X?S++:(s=a,G===0&&F(Qr)),s}function Xs(){let s;return s=c.charAt(S),s.toLowerCase()===pe?S++:(s=a,G===0&&F(Kr)),s}function Pn(){let s;return s=c.charAt(S),s.toLowerCase()===me?S++:(s=a,G===0&&F(Ss)),s}function Ys(){let s;return s=c.charAt(S),s.toLowerCase()===et?S++:(s=a,G===0&&F(xs)),s}function wi(){let s;return c.charCodeAt(S)===48?(s=je,S++):(s=a,G===0&&F(Fr)),s}function ml(){let s;return c.charCodeAt(S)===49?(s=ve,S++):(s=a,G===0&&F(Jr)),s}function Tu(){let s;return c.charCodeAt(S)===50?(s=nt,S++):(s=a,G===0&&F(Kn)),s}function At(){let s,y;return s=S,c.charCodeAt(S)===44?(y=Be,S++):(y=a,G===0&&F(St)),y!==a&&(W=s,y=y),s=y,s}function Li(){let s,y;return s=S,c.charCodeAt(S)===47?(y=_e,S++):(y=a,G===0&&F(wt)),y!==a&&(W=s,y=y),s=y,s}function wn(){let s,y;return s=S,c.charCodeAt(S)===61?(y=ee,S++):(y=a,G===0&&F(Ol)),y!==a&&(W=s,y=y),s=y,s}function Vs(){let s,y;return s=S,c.charCodeAt(S)===37?(y=I,S++):(y=a,G===0&&F(Cs)),y!==a&&(W=s,y=y),s=y,s}function Xa(){let s,y,E,A;return s=S,c.charCodeAt(S)===60?(y=we,S++):(y=a,G===0&&F(no)),y!==a?(E=S,G++,A=c.charAt(S),ja.test(A)?S++:(A=a,G===0&&F(zs)),G--,A===a?E=void 0:(S=E,E=a),E!==a?(W=s,s=y):(S=s,s=a)):(S=s,s=a),s}function el(){let s,y,E,A;return s=S,c.charCodeAt(S)===62?(y=_t,S++):(y=a,G===0&&F(kr)),y!==a?(E=S,G++,A=c.charAt(S),ja.test(A)?S++:(A=a,G===0&&F(zs)),G--,A===a?E=void 0:(S=E,E=a),E!==a?(W=s,s=y):(S=s,s=a)):(S=s,s=a),s}function Oi(){let s,y;return s=S,c.substr(S,2)===Mt?(y=Mt,S+=2):(y=a,G===0&&F(Ra)),y!==a&&(W=s,y=y),s=y,s}function Zs(){let s,y;return s=S,c.substr(S,2)===at?(y=at,S+=2):(y=a,G===0&&F(As)),y!==a&&(W=s,y=y),s=y,s}function Ui(){let s,y;return s=S,c.substr(S,2)===Je?(y=Je,S+=2):(y=a,G===0&&F(Ul)),y!==a&&(W=s,y=y),s=y,s}function Qs(){let s,y;return s=S,c.substr(S,2)===J?(y=J,S+=2):(y=a,G===0&&F(_l)),y!==a&&(W=s,y=y),s=y,s}function ft(){let s,y,E,A;return s=S,c.charCodeAt(S)===33?(y=ue,S++):(y=a,G===0&&F(Ta)),y!==a?(E=S,G++,A=c.charAt(S),ja.test(A)?S++:(A=a,G===0&&F(zs)),G--,A===a?E=void 0:(S=E,E=a),E!==a?(W=s,s=y):(S=s,s=a)):(S=s,s=a),s}function Ln(){let s,y;return s=S,c.charCodeAt(S)===40?(y=ge,S++):(y=a,G===0&&F(Hl)),y!==a&&(W=s,y=y),s=y,s}function On(){let s,y;return s=S,c.charCodeAt(S)===41?(y=ce,S++):(y=a,G===0&&F(mt)),y!==a&&(W=s,y=y),s=y,s}function tl(){let s,y;return s=S,c.charCodeAt(S)===123?(y=le,S++):(y=a,G===0&&F(Ir)),y!==a&&(W=s,y=y),s=y,s}function Un(){let s,y;return s=S,c.charCodeAt(S)===125?(y=ye,S++):(y=a,G===0&&F(Wr)),y!==a&&(W=s,y=y),s=y,s}function Zt(){let s,y;return s=S,c.charCodeAt(S)===45?(y=Te,S++):(y=a,G===0&&F(dl)),y!==a&&(W=s,y=y),s=y,s}function Qt(){let s,y;return s=S,c.charCodeAt(S)===43?(y=We,S++):(y=a,G===0&&F(Gl)),y!==a&&(W=s,y=y),s=y,s}function _n(){let s,y;return s=S,c.charCodeAt(S)===167?(y=Rt,S++):(y=a,G===0&&F(lo)),y!==a&&(W=s,y=y),s=y,s}function kt(){let s,y;return s=S,c.charCodeAt(S)===42?(y=Bt,S++):(y=a,G===0&&F(Pr)),y!==a&&(W=s,y=y),s=y,s}function vn(){let s,y,E,A,N,U,fe;return s=S,y=ft(),y!==a?(E=kn(),E!==a?(A=In(),A!==a?(N=Ha(),N!==a?(U=Ru(),U!==a?(fe=Bi(),fe!==a?(y=[y,E,A,N,U,fe],s=y):(S=s,s=a)):(S=s,s=a)):(S=s,s=a)):(S=s,s=a)):(S=s,s=a)):(S=s,s=a),s}function Hn(){let s,y,E,A,N,U;return s=S,y=ft(),y!==a?(E=Gs(),E!==a?(A=Ys(),A!==a?(N=qa(),N!==a?(U=Il(),U!==a?(W=s,s=ho()):(S=s,s=a)):(S=s,s=a)):(S=s,s=a)):(S=s,s=a)):(S=s,s=a),s}function Nu(){let s,y,E,A,N,U;return s=S,y=ft(),y!==a?(E=Xs(),E!==a?(A=Tt(),A!==a?(N=Wn(),N!==a?(U=qs(),U!==a?(W=s,s=mo()):(S=s,s=a)):(S=s,s=a)):(S=s,s=a)):(S=s,s=a)):(S=s,s=a),s}function Ks(){let s,y,E,A,N;return s=S,y=ft(),y!==a?(E=Di(),E!==a?(A=Tt(),A!==a?(N=Wn(),N!==a?(y=[y,E,A,N],s=y):(S=s,s=a)):(S=s,s=a)):(S=s,s=a)):(S=s,s=a),s}function Fs(){let s,y,E,A,N;return s=S,y=ft(),y!==a?(E=In(),E!==a?(A=Il(),A!==a?(N=qa(),N!==a?(y=[y,E,A,N],s=y):(S=s,s=a)):(S=s,s=a)):(S=s,s=a)):(S=s,s=a),s}function Du(){let s,y,E,A;return s=S,y=ft(),y!==a?(E=Ha(),E!==a?(A=Di(),A!==a?(y=[y,E,A],s=y):(S=s,s=a)):(S=s,s=a)):(S=s,s=a),s}function xt(){let s,y,E,A,N;return s=S,y=Il(),y!==a?(E=In(),E!==a?(A=Ga(),A!==a?(N=Il(),N!==a?(y=[y,E,A,N],s=y):(S=s,s=a)):(S=s,s=a)):(S=s,s=a)):(S=s,s=a),s}function ke(){let s,y,E,A,N;return s=S,y=Il(),y!==a?(E=In(),E!==a?(A=Ha(),A!==a?(N=Di(),N!==a?(y=[y,E,A,N],s=y):(S=s,s=a)):(S=s,s=a)):(S=s,s=a)):(S=s,s=a),s}function Ee(){let s,y,E,A,N,U,fe;return s=S,y=ft(),y!==a?(E=Il(),E!==a?(A=Wn(),A!==a?(N=Wn(),N!==a?(U=Tt(),U!==a?(fe=Wn(),fe!==a?(y=[y,E,A,N,U,fe],s=y):(S=s,s=a)):(S=s,s=a)):(S=s,s=a)):(S=s,s=a)):(S=s,s=a)):(S=s,s=a),s}function nl(){let s,y,E,A,N,U;return s=S,y=ft(),y!==a?(E=Di(),E!==a?(A=Ha(),A!==a?(N=In(),N!==a?(U=In(),U!==a?(y=[y,E,A,N,U],s=y):(S=s,s=a)):(S=s,s=a)):(S=s,s=a)):(S=s,s=a)):(S=s,s=a),s}function It(){let s,y,E;return s=S,y=S,E=Hs(),E!==a?y=c.substring(y,S):y=E,y!==a?(E=Gs(),E!==a?(W=s,s=ws(y)):(S=s,s=a)):(S=s,s=a),s}function Js(){let s,y,E,A,N;return s=S,y=wi(),y!==a?(E=Pn(),E!==a?(A=S,N=kl(),N!==a?A=c.substring(A,S):A=N,A!==a?(W=s,s=po(A)):(S=s,s=a)):(S=s,s=a)):(S=s,s=a),s}function ll(){let s,y,E;return s=S,y=S,E=Eu(),E!==a?y=c.substring(y,S):y=E,y!==a?(E=qs(),E===a&&(E=null),W=s,s=go(y)):(S=s,s=a),s}function $u(){let s,y,E,A;if(s=S,c.charCodeAt(S)===34?(y=He,S++):(y=a,G===0&&F(ql)),y!==a){for(E=[],A=Gn();A!==a;)E.push(A),A=Gn();c.charCodeAt(S)===34?(A=He,S++):(A=a,G===0&&F(ql)),A!==a?(W=s,s=yo(E)):(S=s,s=a)}else S=s,s=a;return s}function Bu(){let s,y,E,A;if(s=S,c.charCodeAt(S)===34?(y=He,S++):(y=a,G===0&&F(ql)),y!==a){for(E=[],A=Gn();A!==a;)E.push(A),A=Gn();c.charCodeAt(S)===34?(A=He,S++):(A=a,G===0&&F(ql)),A!==a?(W=s,s=mu(E)):(S=s,s=a)}else S=s,s=a;return s}function Gn(){let s,y,E;return s=S,y=S,G++,c.charCodeAt(S)===34?(E=He,S++):(E=a,G===0&&F(ql)),G--,E===a?y=void 0:(S=y,y=a),y!==a?(c.length>S?(E=c.charAt(S),S++):(E=a,G===0&&F(js)),E!==a?(W=s,s=E):(S=s,s=a)):(S=s,s=a),s}function Nt(){let s,y,E,A,N;if(s=S,y=S,E=[],A=Ni(),A!==a)for(;A!==a;)E.push(A),A=Ni();else E=a;if(E!==a){for(A=[],N=Jn();N!==a;)A.push(N),N=Jn();E=[E,A],y=E}else S=y,y=a;return y!==a&&(W=s,y=vo()),s=y,s}function ks(){let s,y;return s=S,y=Nt(),y!==a&&(W=s,y=y),s=y,s}function jt(){let s,y;if(G++,s=[],y=bn(),y!==a)for(;y!==a;)s.push(y),y=bn();else s=a;return G--,s===a&&(y=a,G===0&&F(Na)),s}function ae(){let s,y;for(G++,s=[],y=bn();y!==a;)s.push(y),y=bn();return G--,s}function bn(){let s;return G++,s=c.charAt(S),Ht.test(s)?S++:(s=a,G===0&&F(gi)),G--,s===a&&G===0&&F(Na),s}function Wt(){let s;return G++,s=c.charAt(S),Fc.test(s)?S++:(s=a,G===0&&F(Ft)),G--,s===a&&G===0&&F(Dn),s}function al(){let s,y,E,A,N,U;if(G++,s=S,c.charCodeAt(S)===59?(y=ct,S++):(y=a,G===0&&F(ao)),y!==a){for(E=[],A=S,N=S,G++,U=Wt(),G--,U===a?N=void 0:(S=N,N=a),N!==a?(c.length>S?(U=c.charAt(S),S++):(U=a,G===0&&F(js)),U!==a?(N=[N,U],A=N):(S=A,A=a)):(S=A,A=a);A!==a;)E.push(A),A=S,N=S,G++,U=Wt(),G--,U===a?N=void 0:(S=N,N=a),N!==a?(c.length>S?(U=c.charAt(S),S++):(U=a,G===0&&F(js)),U!==a?(N=[N,U],A=N):(S=A,A=a)):(S=A,A=a);y=[y,E],s=y}else S=s,s=a;return G--,s===a&&(y=a,G===0&&F(eu)),s}function cn(){let s,y,E;return G++,s=S,y=Nt(),y!==a?(c.charCodeAt(S)===58?(E=Rn,S++):(E=a,G===0&&F(tu)),E!==a?(W=s,s=bo(y)):(S=s,s=a)):(S=s,s=a),G--,s===a&&(y=a,G===0&&F(Es)),s}function Is(){let s,y,E,A,N,U;return G++,s=S,y=Tt(),y!==a?(E=Wn(),E!==a?(A=Ru(),A!==a?(N=jt(),N!==a?(U=pl(),U!==a?(W=s,s=So(U)):(S=s,s=a)):(S=s,s=a)):(S=s,s=a)):(S=s,s=a)):(S=s,s=a),G--,s===a&&(y=a,G===0&&F(yi)),s}function Ya(){let s,y;return G++,s=S,y=Nt(),y!==a&&(W=s,y=y),s=y,G--,s===a&&(y=a,G===0&&F(io)),s}function pl(){let s,y;return G++,s=S,y=It(),y!==a&&(W=s,y=xo(y)),s=y,s===a&&(s=S,y=Js(),y!==a&&(W=s,y=Co(y)),s=y,s===a&&(s=S,y=ll(),y!==a&&(W=s,y=zo(y)),s=y,s===a&&(s=S,y=$u(),y!==a&&(W=s,y=Ls(y)),s=y))),G--,s===a&&(y=a,G===0&&F(Jt)),s}function _i(){let s,y,E,A,N,U,fe;if(G++,s=S,y=Nt(),y!==a){for(E=[],A=S,c.substr(S,2)===vt?(N=vt,S+=2):(N=a,G===0&&F(Xl)),N!==a?(U=Nt(),U!==a?(N=[N,U],A=N):(S=A,A=a)):(S=A,A=a);A!==a;)E.push(A),A=S,c.substr(S,2)===vt?(N=vt,S+=2):(N=a,G===0&&F(Xl)),N!==a?(U=Nt(),U!==a?(N=[N,U],A=N):(S=A,A=a)):(S=A,A=a);W=s,s=$a(y,E)}else S=s,s=a;if(s===a)if(s=S,c.substr(S,2)===vt?(y=vt,S+=2):(y=a,G===0&&F(Xl)),y!==a)if(E=Nt(),E!==a){for(A=[],N=S,c.substr(S,2)===vt?(U=vt,S+=2):(U=a,G===0&&F(Xl)),U!==a?(fe=Nt(),fe!==a?(U=[U,fe],N=U):(S=N,N=a)):(S=N,N=a);N!==a;)A.push(N),N=S,c.substr(S,2)===vt?(U=vt,S+=2):(U=a,G===0&&F(Xl)),U!==a?(fe=Nt(),fe!==a?(U=[U,fe],N=U):(S=N,N=a)):(S=N,N=a);W=s,s=Ao(E,A)}else S=s,s=a;else S=s,s=a;return G--,s===a&&(y=a,G===0&&F(vi)),s}function il(){let s,y;return G++,s=S,y=ks(),y!==a&&(W=s,y=pu(y)),s=y,G--,s===a&&(y=a,G===0&&F(vi)),s}function Ct(){let s,y,E,A,N;return G++,s=S,y=S,E=S,A=kn(),A!==a?(N=Ga(),N!==a?(A=[A,N],E=A):(S=E,E=a)):(S=E,E=a),E===a&&(E=c.charAt(S),Gr.test(E)?S++:(E=a,G===0&&F(Yl)),E===a&&(E=S,A=Vt(),A!==a?(N=Tu(),N!==a?(A=[A,N],E=A):(S=E,E=a)):(S=E,E=a),E===a&&(E=S,A=Vt(),A!==a?(N=ml(),N!==a?(A=[A,N],E=A):(S=E,E=a)):(S=E,E=a),E===a&&(E=Vt(),E===a&&(E=S,A=Wl(),A!==a?(N=Mu(),N!==a?(A=[A,N],E=A):(S=E,E=a)):(S=E,E=a),E===a&&(E=S,A=Pn(),A!==a?(N=Ys(),N!==a?(A=[A,N],E=A):(S=E,E=a)):(S=E,E=a),E===a&&(E=c.charAt(S),qr.test(E)?S++:(E=a,G===0&&F(nu)),E===a&&(E=S,A=$i(),A!==a?(N=ml(),N!==a?(A=[A,N],E=A):(S=E,E=a)):(S=E,E=a),E===a&&(E=S,A=$i(),A!==a?(N=Tu(),N!==a?(A=[A,N],E=A):(S=E,E=a)):(S=E,E=a),E===a&&(E=$i())))))))))),E!==a?y=c.substring(y,S):y=E,y!==a?(E=S,G++,A=Ni(),G--,A===a?E=void 0:(S=E,E=a),E!==a?(W=s,s=gu(y)):(S=s,s=a)):(S=s,s=a),G--,s===a&&(y=a,G===0&&F(Ms)),s}function Hi(){let s,y;return G++,s=S,y=kt(),y!==a&&(W=s,y=yu()),s=y,G--,s===a&&(y=a,G===0&&F(lu)),s}function wu(s,y){return s.map(function(E){return E[y]})}function Gi(s,y,E){return[s].concat(wu(y,E))}function Ne(){return{...Ba()}}Kl=f();const Ws=Kl!==a&&S===c.length;function lt(){throw Kl!==a&&S<c.length&&F(Su()),xu(Ei,un<c.length?wa(un):null,un<c.length?Ri(un,un+1):Ri(un,un))}if(i.peg$library)return{peg$result:Kl,peg$currPos:S,peg$FAILED:a,peg$maxFailExpected:Ei,peg$maxFailPos:un,peg$success:Ws,peg$throw:Ws?void 0:lt};if(Ws)return Kl;lt()}function ul(c){return{value:c,errors:!0,completeFirstPass:!1}}function Tl(c,i){return{value:c,errors:!1,completeFirstPass:i}}function jn(...c){return c.some(i=>i!==void 0&&i.errors)}function wg(...c){return c.every(i=>i!==void 0&&i.completeFirstPass)}class xd{constructor(i,a){this.syms=new Map,this.parent=null,this.children=new Map,this.parent=i,this.name=a}newScope(i,a){const o=this.children.get(i);if(o!==void 0)return o;const p=new xd(a,i);return this.children.set(i,p),p}findSymbol(i){for(let a=this;a!==null;a=a.parent){const o=a.syms.get(i);if(o!==void 0)return o}}findSymbolPath(i){if(i.length===1)return this.findSymbol(i[0]);let a=this;for(;a.children.get(i[0])===void 0;)if(a=a.parent,a===null)return;for(let o=0;o<i.length-1;o++)if(a=a.children.get(i[o]),a===void 0)return;return a.syms.get(i[i.length-1])}addSymbol(i,a,o){this.syms.set(i,{...a,seen:o})}updateSymbol(i,a,o){for(let p=this;p!==null;p=p.parent)if(p.syms.get(i)!==void 0){p.syms.set(i,{...a,seen:o});return}}}class F1{constructor(){this.passCount=0,this.root=new xd(null,""),this.curSymtab=this.root,this.anonScopeCount=0}startPass(i){this.curSymtab=this.root,this.anonScopeCount=0,this.passCount=i}withAnonScope(i,a){const o=`__anon_scope_${this.anonScopeCount}`;this.anonScopeCount++,this.withLabelScope(o,i,a)}withLabelScope(i,a,o){const p=this.curSymtab;this.curSymtab=this.curSymtab.newScope(i,o||p),a(),this.curSymtab=p}findPath(i,a){return a?this.root.findSymbolPath(i):this.curSymtab.findSymbolPath(i)}findQualifiedSym(i,a){return this.findPath(i,a)}symbolSeen(i){const a=this.curSymtab.syms.get(i);return a!==void 0?a.seen===this.passCount:!1}declareLabelSymbol(i,a,o){const{name:p,loc:f}=i,d=this.curSymtab.syms.get(p);if(d===void 0){const b={type:"label",segment:o,data:Tl({addr:a,loc:f},!1)};return this.curSymtab.addSymbol(p,b,this.passCount),!1}if(d.type!=="label")throw new Error("ICE: declareLabelSymbol should be called only on labels");if(d.data.value.addr!==a){const b={type:"label",segment:o,data:{...d.data,value:{...d.data.value,addr:a}}};return this.curSymtab.updateSymbol(p,b,this.passCount),!0}return this.curSymtab.updateSymbol(p,d,this.passCount),!1}declareVar(i,a){this.curSymtab.addSymbol(i,{type:"var",data:a},this.passCount)}dumpLabels(i,a){const o={};for(const[g,x]of a)o[x.id]=g;const p=[],f=(g,x)=>{if(g!==void 0){const C=[...g,x.name];p.push({path:C,sym:x})}else p.push({path:[],sym:x})};f(void 0,this.root);const d=[];for(;p.length>0;){const g=p.pop();if(g){for(const[x,C]of g.sym.syms)C.type==="label"&&d.push({path:[...g.path,x],addr:C.data.value.addr,size:0,segmentName:o[C.segment.id]});for(const[,x]of g.sym.children)f(g.path,x)}}const m=d.sort((g,x)=>g.addr-x.addr),b=m.length;if(b>0){for(let x=1;x<b;x++)m[x-1].size=m[x].addr-m[x-1].addr;const g=m[b-1];g.size=i-g.addr}return m.map(({path:g,addr:x,size:C,segmentName:j})=>({name:g.join("::"),addr:x,size:C,segmentName:j}))}}function J1(c){return c===!0||c!=0}function Rl(c){const i=typeof c;return i==="object"&&c instanceof Array?"array":i}function od(c){return`${c.absolute?"::":""}${c.path.join("::")}`}const En=(c,i,a)=>{const o=a(c.value,i.value),p=wg(c,i);return Tl(typeof o=="boolean"?o?1:0:o,p)};class k1{constructor(){this.curSegmentName="",this.curSegment=new pd(0,0,!1,0),this.pass=0,this.needPass=!1,this.scopes=new F1,this.segments=[],this.errorList=[],this.warningList=[],this.debugInfo=new Fp,this.errors=()=>this.formatErrors(this.errorList,"error"),this.warnings=()=>this.formatErrors(this.warningList,"warning")}prg(){const{startPC:i,binary:a}=X1(this.segments),o=i&255,p=i>>8&255;return Uint8Array.from([o,p,...a])}anyErrors(){return this.errorList.length!==0}formatErrors(i,a){return[...new Set(i.map(p=>JSON.stringify(p)))].map(p=>{const{loc:f,msg:d}=JSON.parse(p);let m=`<unknown>:1:1: ${a}: ${d}`;return f&&(m=`${f.start.line}:${f.start.column}: ${a}: ${d}`),{loc:f,msg:d,formatted:m}})}addError(i,a){this.errorList.push({msg:i,loc:a})}addWarning(i,a){this.warningList.push({msg:i,loc:a})}startPass(i){this.pass=i,this.needPass=!1,this.errorList=[],this.scopes.startPass(i),this.debugInfo=new Fp,this.segments=[];const a=this.newSegment("default",0,void 0,!0);this.setCurrentSegment({type:"segment",data:a},"default")}setCurrentSegment(i,a){this.curSegmentName=a,this.curSegment=i.data}newSegment(i,a,o,p){const f=new pd(a,o,p,this.segments.length-1);return this.segments.push([i,f]),f}getPC(){return this.curSegment.currentPC()}evalExprType(i,a,o){const p=this.evalExpr(i),{errors:f,value:d,completeFirstPass:m}=p;return!f&&typeof d!==a?(this.addError(`Expecting ${o} to be '${a}' type, got '${Rl(d)}'`,i.loc),{errors:!0,completeFirstPass:m,value:d}):p}evalExprToInt(i,a){return this.evalExprType(i,"number",a)}evalExprToString(i,a){return this.evalExprType(i,"string",a)}evalExpr(i){switch(i.type){case"binary":{const a=this.evalExpr(i.left),o=this.evalExpr(i.right);if(jn(a,o))return ul(0);if(typeof a.value!=typeof o.value)return this.addError(`Binary expression operands are expected to be of the same type.  Got: '${Rl(a.value)}' (left), '${Rl(o.value)}' (right)`,i.loc),ul(0);if(typeof a.value!="string"&&typeof a.value!="number")return this.addError(`Binary expression operands can only operator on numbers or strings.  Got: '${Rl(a.value)}'`,i.loc),ul(0);if(typeof a.value=="string"){const p=["+","==","<","<=",">",">="];if(p.indexOf(i.op)<0)return this.addError(`'${i.op}' operator is not supported for strings.  Valid operators for strings are: ${p.join(", ")}`,i.loc),ul(0)}switch(i.op){case"+":return En(a,o,(p,f)=>p+f);case"-":return En(a,o,(p,f)=>p-f);case"*":return En(a,o,(p,f)=>p*f);case"/":return En(a,o,(p,f)=>p/f);case"%":return En(a,o,(p,f)=>p%f);case"":return En(a,o,(p,f)=>(p&255)<<8|f&255);case"==":return En(a,o,(p,f)=>p==f);case"!=":return En(a,o,(p,f)=>p!=f);case"<":return En(a,o,(p,f)=>p<f);case"<=":return En(a,o,(p,f)=>p<=f);case">":return En(a,o,(p,f)=>p>f);case">=":return En(a,o,(p,f)=>p>=f);default:throw new Error(`Unhandled binary operator ${i.op}`)}}case"literal":return Tl(i.lit,!0);case"register":return this.addError("Unexpected register",i.loc),ul(0);case"ident":throw new Error("should not see an ident here -- if you do, it is probably a wrong type node in parser");case"qualified-ident":{const a=this.scopes.findQualifiedSym(i.path,i.absolute);if(a===void 0)return this.pass>=1?(this.addError(`Undefined symbol '${od(i)}'`,i.loc),ul(0)):(this.needPass=!0,Tl(0,!1));switch(a.type){case"label":return{errors:a.data.errors,value:a.data.value.addr,completeFirstPass:a.seen===this.pass};case"var":return a.seen<this.pass&&this.addError(`Undeclared variable '${od(i)}'`,i.loc),a.data}break}case"callfunc":{const a=this.evalExpr(i.callee),o=i.args.map(p=>this.evalExpr(p));if(a.errors)return ul(0);if(typeof a.value!="function")return this.addError(`Callee must be a function type.  Got '${Rl(a)}'`,i.loc),ul(0);if(jn(...o))return ul(0);try{const p=a.completeFirstPass&&wg(...o);return Tl(a.value(...o.map(f=>f.value)),p)}catch(p){return i.callee.type=="qualified-ident"?this.addError(`Call to '${od(i.callee)}' failed with an error: ${p.message}`,i.loc):(this.addError("Unexpected error calling function",i.loc),this.addError(`Plugin call failed with an error: ${p.message}`,i.loc)),ul(0)}break}case"getcurpc":return Tl(this.getPC(),!0)}throw new Error(`should be unreachable on ${i.type}`)}emit(i){const a=this.curSegment.emit(i);a!==void 0&&this.addError(a,this.lineLoc)}emit16(i){this.emit(i>>8&255),this.emit(i&255)}assembleNonInstr(i,a){const o=i.ops[0];a.p1&&this.addWarning("Parameter not required",a.p1.loc),a.p2&&this.addWarning("Parameter not required",a.p2.loc),this.emit(o.op)}assembleAluInstr(i,a){const o=i.ops[0];a.p2&&this.addWarning("Parameter not required",a.p2.loc);let p=o.op;if(a.p1&&o.p1){const f=this.checkRegister(a.p1,o.p1);if(f===void 0)return;p|=o.p1.op(f)}this.emit(p)}assembleDivideInstr(i,a){const o=i.ops[0];a.p2&&this.addWarning("Parameter not required",a.p2.loc);let p=o.op;if(a.p1&&o.p1){const f=this.checkRegister(a.p1,o.p1);if(f===void 0)return;p|=o.p1.op(f)}this.emit(p)}assembleClrInstr(i,a){if(!a.p1){this.addError("Parameter required",a.loc);return}if(a.p2&&this.addWarning("Parameter not required",a.p2.loc),!i.ops[0]||!i.ops[0].p1||!i.ops[1]||!i.ops[1].p1){this.addError("Internal opcode definition error",a.loc);return}const o=this.checkRegister(a.p1,i.ops[0].p1,i.ops[1].p1);if(o===void 0)return;const p=this.hasRegister(a.p1,i.ops[1].p1)?i.ops[1]:i.ops[0];if(!p.p1){this.addError("Internal opcode definition error",a.loc);return}let f=p.op;f|=p.p1.op(o),this.emit(f)}assembleMovInstr(i,a){if(!a.p1||!a.p2){this.addError("Two parameters required",a.loc);return}if(!i.ops[0]||!i.ops[0].p1||!i.ops[1]||!i.ops[1].p1){this.addError("Internal opcode definition error",a.loc);return}const o=this.checkRegister(a.p1,i.ops[0].p1,i.ops[1].p1);if(o===void 0)return;const p=this.hasRegister(a.p1,i.ops[1].p1)?i.ops[1]:i.ops[0];if(!a.p1||!p.p1||!a.p2||!p.p2){this.addError("Two parameters required",a.loc);return}let f=p.op;f|=p.p1.op(o);const d=this.checkRegister(a.p2,p.p2);d!==void 0&&(f|=p.p2.op(d),this.emit(f))}assembleLitOpc(i,a){const o=i.ops[0];a.p2&&this.addWarning("Parameter not required",a.p2.loc);let p=o.op;if(!a.p1||!o.p1){this.addError("Parameter required",a.loc);return}const f=this.checkLiteral(a.p1,0,255,"h");f!==void 0&&(p|=o.p1.op(f),this.emit(p))}assembleLodSwInstr(i,a){const o=i.ops[0];a.p2&&this.addWarning("Parameter not required",a.p2.loc);let p=o.op;if(!a.p1||!o.p1){this.addError("Parameter required",a.loc);return}const f=this.checkRegister(a.p1,o.p1);f!==void 0&&(p|=o.p1.op(f),this.emit(p))}assembleSetInstr(i,a){if(!a.p1||!a.p2){this.addError("Two parameters required",a.loc);return}if(!i.ops[0]||!i.ops[0].p1||!i.ops[1]||!i.ops[1].p1){this.addError("Internal opcode definition error",a.loc);return}const o=this.checkRegister(a.p1,i.ops[0].p1,i.ops[1].p1);if(o===void 0)return;const p=this.hasRegister(a.p1,i.ops[1].p1),f=p?i.ops[1]:i.ops[0];if(!f.p1){this.addError("Internal opcode definition error",a.loc);return}let d=f.op;if(d|=f.p1.op(o),p){const m=this.evalExpr(a.p2);if(jn(m))return;if(typeof m.value!="number"){this.addError(`Expecting branch label to evaluate to integer, got ${Rl(m.value)}`,a.p2.loc);return}const{value:b}=m;if(b>65535){this.addError("Value out of range (must be between 0x0000 and 0xFFFF)",a.p2.loc);return}this.emit(d),this.emit((b&65280)>>8),this.emit(b&255)}else{if(!f.p2){this.addError("Internal opcode definition error",a.loc);return}const m=this.checkLiteral(a.p2,-16,15);if(m===void 0)return;d|=f.p2.op(m),this.emit(d)}}assembleLoadStoreInstr(i,a){const o=i.ops[0];a.p2&&this.addWarning("Parameter not required",a.p2.loc);let p=o.op;if(!a.p1||!o.p1){this.addError("Parameter required",a.loc);return}const f=this.checkRegister(a.p1,o.p1);f!==void 0&&(p|=o.p1.op(f),this.emit(p))}checkRegister(i,a,o=void 0){if(i.type!=="register")this.addError("Register required",i.loc);else{const p=a.cs?.[i.value]??o?.cs?.[i.value];return p===void 0&&(a.cs?o&&o.cs?this.addError(`Invalid register - choose one of [${Object.keys(a.cs).join("|")}] or [${Object.keys(o.cs).join("|")}]`,i.loc):this.addError(`Invalid register - choose one of [${Object.keys(a.cs).join("|")}]`,i.loc):this.addError("Invalid register",i.loc)),p}}hasRegister(i,a){return i.type!=="register"?!1:a.cs?.[i.value]!==void 0}checkLiteral(i,a,o,p="d"){const f=this.evalExprToInt(i,"value");if(!jn(f)){const d=f.value;if(d<a||d>o){let m="";switch(p){case"b":{const b=o.toString(2);m=`${("0".repeat(b.length)+a.toString(2)).slice(-b.length)}b and ${b}b`;break}case"h":{const b=o.toString(16).toUpperCase();m=`0x${("0".repeat(b.length)+a.toString(16).toUpperCase()).slice(-b.length)} and 0x${b}`;break}default:m=`${a} and ${o}`}this.addError(`Literal out of range (must be between ${m})`,i.loc)}else return d}}assembleBranch(i,a){const o=i.ops[0];if(a.p2&&this.addWarning("Parameter not required",a.p2.loc),!a.p1){this.addError("Parameter required",a.loc);return}const p=this.evalExpr(a.p1);if(jn(p))return;if(typeof p.value!="number"){this.addError(`Expecting branch label to evaluate to integer, got ${Rl(p.value)}`,a.p1.loc);return}const{value:f}=p;this.emit(o.op),this.emit((f&65280)>>8),this.emit(f&255)}handleSetPC(i){const a=this.evalExprToInt(i,"pc");if(!jn(a)){const{value:o,completeFirstPass:p}=a;if(!p){this.addError("Value for new program counter must evaluate to a value in the first pass",i.loc);return}!this.curSegment.empty()&&this.curSegment.currentPC()>o&&this.addError(`Cannot set program counter to a smaller value than current (current: $${Yn(this.curSegment.currentPC())}, trying to set $${Yn(o)})`,i.loc);const f=this.curSegment.setCurrentPC(o);f!==void 0&&this.addError(f,i.loc)}}emit8or16(i,a){if(a===8){this.emit(i);return}this.emit16(i)}emitData(i,a){const o=Math.pow(2,a);for(let p=0;p<i.length;p++){const f=this.evalExpr(i[p]);if(jn(f))continue;const{value:d}=f;if(typeof d=="number")d>=o?this.addError(`Data out of range for ${a} bits`,i[p].loc):this.emit8or16(d,a);else if(typeof d=="string"){const m=d.split("").map(b=>b.charCodeAt(0));m.find(b=>b>=o)?this.addError(`Data contains character out of range for ${a} bits`,i[p].loc):m.forEach(b=>this.emit8or16(b,a))}else this.addError(`Only literal types can be emitted. Got ${Rl(d)}`,i[p].loc)}}fillBytes(i){const a=this.evalExprToInt(i.numBytes,"!fill num_bytes"),o=this.evalExprToInt(i.fillValue,"!fill value");if(jn(a,o))return;const{value:p}=o;if(p<0||p>=256){this.addError(`!fill value to repeat must be in 8-bit range, '${p}' given`,i.fillValue.loc);return}const f=a.value;if(f<0){this.addError(`!fill repeat count must be >= 0, got ${f}`,i.numBytes.loc);return}for(let d=0;d<f;d++)this.emit(p)}alignBytes(i){const a=this.evalExprToInt(i.alignBytes,"alignment");if(jn(a))return;const{value:o}=a;if(o<1){this.addError(`Alignment must be a positive integer, ${o} given`,i.alignBytes.loc);return}if((o&o-1)!=0){this.addError(`Alignment must be a power of two, ${o} given`,i.loc);return}for(;(this.getPC()&o-1)!=0;)this.emit(0)}withAnonScope(i,a,o){if(i!==null)return this.withLabelScope(i,a,o);this.scopes.withAnonScope(a,o)}withLabelScope(i,a,o){this.scopes.withLabelScope(i,a)}checkDirectives(i,a){const o=p=>{const f=this.getPC();p();const d=this.getPC();this.debugInfo.markAsData(f,d)};switch(i.type){case"data":{o(()=>{this.emitData(i.values,i.dataSize===Or.Byte?8:16)});break}case"fill":{o(()=>{this.fillBytes(i)});break}case"align":{this.alignBytes(i);break}case"setpc":{this.handleSetPC(i.pc);break}case"error":{const p=this.evalExprToString(i.error,"error message");if(!jn(p)){this.addError(p.value,i.loc);return}break}case"if":{const{cases:p,elseBranch:f}=i;for(const d in p){const[m,b]=p[d],g=this.evalExpr(m);if(!jn(g)&&J1(g.value))return this.withAnonScope(a,()=>{this.assembleLines(b)})}return this.withAnonScope(a,()=>{this.assembleLines(f)})}case"for":{const{index:p,list:f,body:d}=i,m=this.evalExpr(f);if(jn(m))return;const{value:b}=m;if(!(b instanceof Array)){this.addError("for-loop range must be an array expression (e.g., a range() or an array)",f.loc);return}for(let g=0;g<b.length;g++){let x=null;a!==null&&(x=`${a}__${g}`),this.withAnonScope(x,()=>(this.scopes.declareVar(p.name,Tl(b[g],m.completeFirstPass)),this.assembleLines(d)))}break}case"let":{const p=i.name,f=this.scopes.findQualifiedSym([p.name],!1),d=this.evalExpr(i.value);if(f!==void 0&&this.scopes.symbolSeen(p.name)){this.addError(`Variable '${p.name}' already defined`,i.loc);return}this.scopes.declareVar(p.name,d);break}default:this.addError(`unknown directive ${i.type}`,i.loc);return}}assembleLines(i){if(i===null||i.length===0||i.length===0)return;const a=p=>{for(let f=0;f<p.length;f++)this.debugInfo.startLine(p[f].loc,this.getPC(),this.curSegment),this.assembleLine(p[f]),this.debugInfo.endLine(this.getPC(),this.curSegment)};let o=0;for(;o<i.length;){const{label:p,stmt:f}=i[o];if(p===null&&f===null)o++;else break}if(!(o>=i.length))return a(i)}checkAndDeclareLabel(i){this.scopes.symbolSeen(i.name)?this.addError(`Symbol '${i.name}' already defined`,i.loc):this.scopes.declareLabelSymbol(i,this.getPC(),this.curSegment)&&(this.needPass=!0)}assembleLine(i){if(this.lineLoc=i.loc,i.label===null&&i.stmt===null&&i.scopedStmts===null)return;i.label!==null&&this.checkAndDeclareLabel(i.label);const a=i.scopedStmts;if(a!=null){if(!i.label)throw new Error("ICE: line.label cannot be undefined");this.withLabelScope(i.label.name,()=>{this.assembleLines(a)});return}if(i.stmt===null)return;if(i.stmt.type!=="insn"){this.checkDirectives(i.stmt,i.label===null?null:i.label.name);return}const o=i.stmt,p=H1[o.mnemonic.toLocaleLowerCase()];p!==void 0?(d=>{const m=this.getPC();d();const b=this.getPC();this.debugInfo.markAsInstruction(m,b)})(()=>{switch(p.mt){case Se.Direct:this.assembleNonInstr(p,o);break;case Se.Alu:this.assembleAluInstr(p,o);break;case Se.Clear:this.assembleClrInstr(p,o);break;case Se.Move:this.assembleMovInstr(p,o);break;case Se.LitOpc:this.assembleLitOpc(p,o);break;case Se.LodSw:this.assembleLodSwInstr(p,o);break;case Se.Set:this.assembleSetInstr(p,o);break;case Se.LoadStore:this.assembleLoadStoreInstr(p,o);break;case Se.Goto:this.assembleBranch(p,o);break;case Se.Divide:this.assembleDivideInstr(p,o);break;default:this.addError(`Couldn't encode instruction '${o.mnemonic} '`,i.loc)}}):this.addError(`Unknown mnemonic '${o.mnemonic}'`,o.loc)}assemble(i){try{const a=K1(i.toString());a!==void 0&&a.lines&&this.assembleLines(a.lines)}catch(a){if("name"in a&&a.name==="SyntaxError")this.addError(`Syntax error: ${a.message}`,{...a.location});else{if("name"in a&&a.name==="semantic")return;throw a}}}_requireType(i,a){if(typeof i==a)return i;this.addError(`Expecting a ${a} value, got ${Rl(i)}`,i.loc)}requireNumber(i){return this._requireType(i,"number")}registerPlugins(){((o,p)=>{this.scopes.declareVar(o,Tl(p,!1))})("range",(...o)=>{let p=0,f;if(o.length==1)f=this.requireNumber(o[0]);else if(o.length==2)p=this.requireNumber(o[0]),f=this.requireNumber(o[1]);else throw new Error("Invalid number of args to 'range'.  Expecting 1 or 2 arguments.");if(f==p)return[];if(f<p)throw new Error("range 'end' must be larger or equal to 'start'");return Array(f-p).fill(null).map((d,m)=>m+p)})}dumpLabels(){return this.scopes.dumpLabels(this.getPC(),this.segments)}collectSegmentInfo(){return Y1(this.segments)}}function I1(c){const i=new k1;let a=0;do{if(i.startPass(a),i.registerPlugins(),i.assemble(c),a>0&&i.anyErrors())return{prg:Uint8Array.from([]),labels:[],segments:[],debugInfo:void 0,errors:i.errors(),warnings:i.warnings()};a+=1}while(i.needPass);return{prg:i.prg(),errors:i.errors(),warnings:i.warnings(),labels:i.dumpLabels(),segments:i.collectSegmentInfo(),debugInfo:i.debugInfo}}function Dr(c){return`${c.toString(16).toUpperCase().padStart(2,"0")}`}function fd(c){return`${c.toString(16).toUpperCase().padStart(4,"0")}`}function kp(c,i){let a=0;const o=c.length,p=[];for(a=0;a<o;a+=i){const f=c.slice(a,a+i);p.push(f)}return p}class W1{constructor(i,a){this.buf=i,this.outputPadChars="     ",this.outputBytesPerLine=1,this.bytes={startPC:0,bytes:[]},this.byte=()=>{const o=this.buf[this.curOffs];return this.curOffs++,o},this.print=(o,p,f)=>{this.flushBytes();const d=Dr(p[0]),m=p.length>=2?Dr(p[1]):"  ",b=p.length>=3?Dr(p[2]):"  ",g=`${fd(o)}: ${d} ${m} ${b}${this.outputPadChars}${f}`;this.output.push(g)},this.output=[],this.curAddr=i[0]+(i[1]<<8),this.curOffs=2,this.disasmOptions=a,this.disasmOptions?.isInstruction&&(this.outputBytesPerLine=4)}flushBytes(){const i=kp(this.bytes.bytes,this.outputBytesPerLine);let a=this.bytes.startPC;for(let o=0;o<i.length;o++,a+=this.outputBytesPerLine){const f=i[o].map(d=>Dr(d)).join(" ");this.output.push(`${fd(a)}: ${f}`)}this.bytes.bytes=[]}disSingle(i,a){const o=this.curAddr;this.print(o,[a],i)}disTriple(i,a){const o=this.curAddr,p=this.byte(),f=this.byte();this.print(o,[a,p,f],i)}disData(i,a){this.flushBytes();let o=this.curAddr;const p=[];if(p.push(i),a>1)for(let d=2;d<=a;d++)p.push(this.byte());const f=kp(p,this.outputBytesPerLine);for(let d=0;d<f.length;d++,o+=this.outputBytesPerLine){const b=f[d].map(g=>Dr(g)).join(" ");this.output.push(`${fd(o)}: ${b}`)}}disUnknown(i){this.bytes.bytes.length!==0?this.bytes.bytes.push(i):(this.bytes.bytes=[i],this.bytes.startPC=this.curAddr)}disassemble(){const i=this.buf.byteLength;let a=d=>!0,o=d=>!1;const p=this.disasmOptions?.dataLength;this.disasmOptions&&this.disasmOptions.isInstruction&&(a=this.disasmOptions.isInstruction),this.disasmOptions&&this.disasmOptions.isData&&(o=this.disasmOptions.isData);let f=this.curOffs;for(;this.curOffs<i;){this.curAddr+=this.curOffs-f,f=this.curOffs;const d=this.byte(),m=G1[(d&240)>>4][d&15];if(a(this.curAddr)&&m!==null)if(q1(d).cycles===3){this.disTriple(m,d);continue}else{this.disSingle(m,d);continue}else if(o(this.curAddr)&&p){const b=p(this.curAddr);b>0?this.disData(d,b):this.disUnknown(d)}else this.disUnknown(d)}return this.flushBytes(),this.output}}function P1(c,i){return new W1(c,i).disassemble()}function eb(c){const{prg:i,errors:a,labels:o,debugInfo:p}=I1(c),f=a.length===0;let d="",m;return f?(d=P1(i,{isInstruction:p?.info().isInstruction,isData:p?.info().isData,dataLength:p?.info().dataLength}).join(`
`),m=Object.fromEntries(o.map(b=>[b.addr.toString(16).padStart(4,"0").toUpperCase(),{name:b.name}]))):d=` Assembly failed (${Oc(a.length,"error","errors")})`,{didAssemble:f,bytes:i,dasm:d,pcToLocs:p?.pcToLocs,labels:m}}function tb(c,i){const a=c.pcToLocs;if(!a)return;let o=a[i];if(!o){const p=Object.keys(a).map(Number).reduce((f,d)=>Math.abs(d-i)<Math.abs(f-i)?d:f);o=a[p]}if(o)return o[0].lineNo}function nb(c,i){const a=c.pcToLocs;if(!a)return;const o=Object.keys(a).map(Number).find(p=>a[p].some(f=>f.lineNo===i));if(o!==void 0)return o}function lb(c,i){const[a,o]=w.useState(c);return w.useEffect(()=>{const p=setTimeout(()=>{o(c)},i);return()=>{clearTimeout(p)}},[c,i]),a}function ab(c){const{code:i,debounceMs:a=300}=c,[o,p]=w.useState(void 0),f=lb(i,a);return w.useEffect(()=>{if(f!==void 0){if(f.trim().length===0){p(void 0);return}try{const d=eb(f);p(d)}catch(d){console.error("Error assembling code",d),p(void 0)}}},[f]),{assembly:o}}function ib(c={}){const{storageKey:i="code",autoSave:a=!0,defaultCode:o=""}=c,[p,f]=w.useState(()=>localStorage.getItem(i)??o),[d,m]=w.useState(!1),b=x=>{f(x),m(!0)};w.useEffect(()=>{a&&(localStorage.setItem(i,p),m(!1))},[a,p,i]);const g=w.useCallback(()=>{localStorage.setItem(i,p),m(!1)},[p,i]);return{code:p,onCodeChange:b,save:g,dirty:d}}const sb=c=>c.operation!==void 0,rb={add:{title:"add",summary:"Arithmetic Add",class:"ALU",cycles:8,operation:"[dst]  [B] + [C]",syntax:["add [<dst:a|d>]"],description:["Adds the contents of register `b` and `c` placing the result in `dst` (a or d).","If dst is not specified then register a is assumed."],dest:{dr:!0,ar:!1,mIndirect:!1,imm:!1},flags:{z:"*",c:"*",s:"*"},procs:{rcasm:!0,"rcasm+div":!0}},and:{title:"and",class:"ALU",cycles:8,summary:"Logical And",operation:"[dst]  [B] . [C]",syntax:["and [<dst:a|d>]"],description:["Performs a bitwise AND on register `b` and `c` placing the result in `dst` (a or d).","If dst is not specified then register a is assumed."],dest:{dr:!0,ar:!1,mIndirect:!1,imm:!1},flags:{z:"*",c:"0",s:"*"},procs:{rcasm:!0,"rcasm+div":!0}},bcs:{title:"bcs",class:"GOTO",cycles:24,summary:"Branch Conditionally: Carry Set",operation:"If C THEN [PC]  (label)",syntax:["bcs <label>"],snippet:"bcs ${1:label}",description:["Jumps to label if C is set (last ALU operation resulted in a carry)."],flags:{z:"-",c:"-",s:"-"},procs:{rcasm:!0,"rcasm+div":!0}},beq:{title:"beq",class:"GOTO",cycles:24,summary:"Branch Conditionally: Equal",operation:"If Z THEN [PC]  (label)",syntax:["beq <label>"],snippet:"beq ${1:label}",description:["Jumps to label if Z flag is set (last ALU operation result was 0)."],flags:{z:"-",c:"-",s:"-"},procs:{rcasm:!0,"rcasm+div":!0}},ble:{title:"ble",class:"GOTO",cycles:24,summary:"Branch Conditionally: Less or Equal",operation:"If Z + S THEN [PC]  (label)",syntax:["ble <label>"],snippet:"ble ${1:label}",description:["Jumps to label if S or Z is set (last ALU operation resulted in a zero or negative value)."],flags:{z:"-",c:"-",s:"-"},procs:{rcasm:!0,"rcasm+div":!0}},blt:{title:"blt",class:"GOTO",cycles:24,summary:"Branch Conditionally: Less Than",operation:"If S THEN [PC]  (label)",syntax:["blt <label>"],snippet:"blt ${1:label}",description:["Jumps to label if S is set (last ALU operation has most significant bit set / is negative).","Synonym of `bmi`."],flags:{z:"-",c:"-",s:"-"},procs:{rcasm:!0,"rcasm+div":!0}},bmi:{title:"bmi",class:"GOTO",cycles:24,summary:"Branch Conditionally: Minus",operation:"If S THEN [PC]  (label))",syntax:["bmi <label>"],snippet:"bmi ${1:label}",description:["Jumps to label if S is set (last ALU operation has most significant bit set / is negative).","Synonym of `blt`."],flags:{z:"-",c:"-",s:"-"},procs:{rcasm:!0,"rcasm+div":!0}},bne:{title:"bne",class:"GOTO",cycles:24,summary:"Branch Conditionally: Not Equal",operation:"If Z THEN [PC]  (label)",syntax:["bne <label>"],snippet:"bne ${1:label}",description:["Jumps to label if Z is not set (last ALU operation result was not 0)."],flags:{z:"-",c:"-",s:"-"},procs:{rcasm:!0,"rcasm+div":!0}},clr:{title:"clr",class:"MOV8",cycles:8,summary:"Register Clear",variant:"8-bit Register Clear",operation:"[dst]  0",syntax:["clr <dst:Dr>"],description:["Clears (sets to 0) general purpose 8-bit register dst.","This is the equivalent of `mov dst,dst`."],dest:{dr:!0,ar:!1,mIndirect:!1,imm:!1},flags:{z:"-",c:"-",s:"-"},procs:{rcasm:!0,"rcasm+div":!0},variants:[{class:"MOV16",cycles:10,variant:"16-bit Register Clear",description:["Clears (sets to 0) 16-bit register xy.","This is the equivalent of `mov xy,xy`."],syntax:["clr xy"],dest:{dr:!1,ar:!0,mIndirect:!1,imm:!1},whenFirstParamIs:["xy"]}]},cmp:{title:"cmp",class:"ALU",cycles:8,summary:"Compare (Logic Xor)",operation:"[dst]  [B] - [C]",syntax:["cmp [<dst:a|d>]"],description:["Compares the values in register `b` and `c` setting condition flag Z (zero) if the values are the same.","Overwrites `dst` (a or d).","If dst is not specified then register a is assumed. Affects Z (zero) and S (sign) flags.","Synonym of `eor`."],dest:{dr:!0,ar:!1,mIndirect:!1,imm:!1},flags:{z:"*",c:"0",s:"*"},procs:{rcasm:!0,"rcasm+div":!0}},div:{title:"div",class:"INCXY",cycles:24,summary:"Unsigned Integer Division EXPERIMENTAL",operation:"[dst]  [B]/[C]",syntax:["div [<dst:a|d>]"],description:["Performs an integer division of register `b` by register `c` placing the quotient result in `dst` (a or d).","If dst is not specified then register a is assumed."],dest:{dr:!0,ar:!1,mIndirect:!1,imm:!1},flags:{z:"-",c:"-",s:"-"},procs:{rcasm:!1,"rcasm+div":!0}},dvr:{title:"dvr",class:"INCXY",cycles:24,summary:"Remainder Division EXPERIMENTAL",operation:"[dst]  R / [C]",syntax:["dvr [<dst:a|d>]"],description:["Performs a further division of the last `div` or `mod` remainder by register `c` placing the quotient result in `dst` (a or d).","Register B should be set to 0. If dst is not specified then register a is assumed."],dest:{dr:!0,ar:!1,mIndirect:!1,imm:!1},flags:{z:"-",c:"-",s:"-"},procs:{rcasm:!1,"rcasm+div":!0}},eor:{title:"eor",class:"ALU",cycles:8,summary:"Logical Exclusive-OR",operation:"[dst]  [B]  [C]",syntax:["eor [<dst:a|d>]"],description:["Performs a bitwise XOR (exlusive OR) on register `b` and `c` placing the result in `dst` (a or d).","If dst is not specified then register a is assumed.","Synonym of `cmp`."],dest:{dr:!0,ar:!1,mIndirect:!1,imm:!1},flags:{z:"*",c:"0",s:"*"},procs:{rcasm:!0,"rcasm+div":!0}},inc:{title:"inc",summary:"Arithmetic Increment",class:"ALU",cycles:8,operation:"[dst]  [B] + 1",syntax:["inc [<dst:a|d>]"],description:["Adds one to the contents of register `b` (register `c` is ignored) placing the result in `dst` (a or d).","If dst is not specified then register a is assumed."],dest:{dr:!0,ar:!1,mIndirect:!1,imm:!1},flags:{z:"*",c:"*",s:"*"},procs:{rcasm:!0,"rcasm+div":!0}},hlt:{title:"hlt",class:"MISC",cycles:10,summary:"Halt",operation:"HALT and [PC]  [PC] + 1",syntax:["hlt"],description:["Halts execution of the program."],flags:{z:"-",c:"-",s:"-"},procs:{rcasm:!0,"rcasm+div":!0}},hlr:{title:"hlr",class:"MISC",cycles:10,summary:"Halt and Reload",operation:"HALT and [PC]  [AS]",syntax:["hlr"],description:["Halts execution of the program and sets the program counter to the value on the primary switches."],flags:{z:"-",c:"-",s:"-"},procs:{rcasm:!0,"rcasm+div":!0}},ixy:{title:"ixy",summary:"XY Increment",class:"INCXY",cycles:14,operation:"[XY]  [XY] + 1",syntax:["ixy"],description:["Increments the 16-bit value in the `xy` register by 1."],flags:{z:"-",c:"-",s:"-"},procs:{rcasm:!0,"rcasm+div":!0}},jmp:{title:"jmp",class:"GOTO",cycles:24,summary:"Unconditional Jump",operation:"[PC]  (label))",syntax:["jmp <label>"],snippet:"jmp ${1:label}",description:["Unconditionally jumps to `label` (via register j)."],flags:{z:"-",c:"-",s:"-"},procs:{rcasm:!0,"rcasm+div":!0}},jsr:{title:"jsr",class:"GOTO",cycles:24,summary:"Jump to Subroutine",operation:"[XY]  [PC]; [PC]  (label)",syntax:["jsr <label>"],snippet:"jsr ${1:label}",description:["Saves the address of the next instruction into register `xy` and then unconditionally jumps to `label` (via register j).","Notionally behaves as a 'call subroutine' operation."],flags:{z:"-",c:"-",s:"-"},procs:{rcasm:!0,"rcasm+div":!0}},ldi:{title:"ldi",class:"SETAB",cycles:8,summary:"Load Immediate",operation:"[dst]  value",syntax:["ldi <dst:a|b>,<value:-16..15>"],snippet:"ldi ${1:a},${2:0}",description:["Loads an 8-bit constant value into `dst` (register a or b).","The `value` must be between -16 and 15."],variant:"8-bit Load Immediate",variants:[{class:"GOTO",cycles:24,variant:"16-bit Load Immediate",description:["Loads a 16-bit constant value into `dst` (register m or j).","The `value` can be between 0x0000 and 0xFFFF."],syntax:["ldi <dst:m|j>,<value:0x0000..0xFFFF>","ldi <dst:m|j>,<label>"],whenFirstParamIs:["m","j"],src:{dr:!1,ar:!1,mIndirect:!1,imm:!0},dest:{dr:!1,ar:!0,mIndirect:!1,imm:!1}}],src:{dr:!1,ar:!1,mIndirect:!1,imm:!0},dest:{dr:!0,ar:!1,mIndirect:!1,imm:!1},flags:{z:"-",c:"-",s:"-"},procs:{rcasm:!0,"rcasm+div":!0}},lds:{title:"lds",class:"MISC",cycles:10,summary:"Load Register from Switches",operation:"[dst]  [DS]",syntax:["lds <dst:a|d>"],snippet:"lds ${1:a}",description:["Loads register `dst` (a or d) from the front panel switches."],dest:{dr:!0,ar:!1,mIndirect:!1,imm:!1},flags:{z:"-",c:"-",s:"-"},procs:{rcasm:!0,"rcasm+div":!0}},ldr:{title:"ldr",class:"LOAD",cycles:12,summary:"Load Register from Memory",operation:"[dst]  (M)",syntax:["ldr <dst:a-d>"],snippet:"ldr ${1:b}",description:["Loads register `dst` (a, b, c or d) with the byte in memory currently referenced by register `m`."],src:{dr:!1,ar:!1,mIndirect:!0,imm:!1},dest:{dr:!0,ar:!1,mIndirect:!1,imm:!1},flags:{z:"-",c:"-",s:"-"},procs:{rcasm:!0,"rcasm+div":!0}},mod:{title:"mod",class:"INCXY",cycles:24,summary:"Unsigned Modulo Operation EXPERIMENTAL",operation:"[dst]  [B]%[C]",syntax:["mod <dst:a|d>"],description:["Performs an integer division of register `b` by register `c` placing the remainder result in `dst` (a or d).","If dst is not specified then register a is assumed."],dest:{dr:!0,ar:!1,mIndirect:!1,imm:!1},flags:{z:"-",c:"-",s:"-"},procs:{rcasm:!1,"rcasm+div":!0}},mdr:{title:"mdr",class:"INCXY",cycles:24,summary:"Remainder Modulo EXPERIMENTAL",operation:"[dst]  R % [C]",syntax:["mdr <dst:a|d>"],description:["Performs a further modulo of the last `div` or `mod` remainder by register `c` placing the remainder result in `dst` (a or d).","Register B should be set to 0. If dst is not specified then register a is assumed."],dest:{dr:!0,ar:!1,mIndirect:!1,imm:!1},flags:{z:"-",c:"-",s:"-"},procs:{rcasm:!1,"rcasm+div":!0}},mov:{title:"mov",class:"MOV8",cycles:8,summary:"Register to Register Copy",operation:"[dst]  [src]",syntax:["mov <dst:Dr>,<src:Dr>"],snippet:"mov ${1:b},${2:a}",description:["Copies a value from `src` to `dst` between any of the eight general purpose 8-bit registers.","If dst and src are the same then dst will be set to 0."],variant:"8-bit Register to Register Copy",variants:[{class:"MOV16",cycles:10,variant:"16-bit Register to Register Copy",description:["Copies a value between the 16-bit `src` registers (m, xy or j) and `dst` (xy or the program counter pc).","If dst and src are the same then dst will be set to 0."],syntax:["mov <dst:xy|pc>,<src:m|xy|j|as>"],whenFirstParamIs:["xy","pc"],src:{dr:!1,ar:!0,mIndirect:!1,imm:!1},dest:{dr:!1,ar:!0,mIndirect:!1,imm:!1}}],src:{dr:!0,ar:!1,mIndirect:!1,imm:!1},dest:{dr:!0,ar:!1,mIndirect:!1,imm:!1},flags:{z:"-",c:"-",s:"-"},procs:{rcasm:!0,"rcasm+div":!0}},not:{title:"not",class:"ALU",cycles:8,summary:"Logical Complement",operation:"[dst]  ~[B]",syntax:["not [<dst:a|d>]"],description:["Performs a bitwise NOT on register `b` (register `c` is ignored) placing the result in `dst` (a or d).","If dst is not specified then register a is assumed."],dest:{dr:!0,ar:!1,mIndirect:!1,imm:!1},flags:{z:"*",c:"0",s:"*"},procs:{rcasm:!0,"rcasm+div":!0}},orr:{title:"orr",class:"ALU",cycles:8,summary:"Logical Inclusive-OR",operation:"[dst]  [B] + [C]",syntax:["orr <dst:a|d>"],description:["Performs a bitwise OR on register `b` and `c` placing the result in `dst` (a or d).","If dst is not specified then register a is assumed."],dest:{dr:!0,ar:!1,mIndirect:!1,imm:!1},flags:{z:"*",c:"0",s:"*"},procs:{rcasm:!0,"rcasm+div":!0}},rol:{title:"rol",class:"ALU",cycles:8,summary:"Rotate Left",operation:"[dst]  [B] rotated by 1",syntax:["rol <dst:a|d>"],description:["Performs a bitwise left-rotation on register `b` (register `c` is ignored) placing the result in `dst` (a or d).","If dst is not specified then register a is assumed.","Every bit shifts one place to the left with the left most bit rotated around to right."],dest:{dr:!0,ar:!1,mIndirect:!1,imm:!1},flags:{z:"*",c:"0",s:"*"},procs:{rcasm:!0,"rcasm+div":!0}},rts:{title:"rts",class:"MOV16",cycles:10,summary:"Return from Subroutine",operation:"[PC]  [XY]",syntax:["rts"],description:["Copies the value in register `xy` to the program counter `pc`.","Notionally behaves as a 'return' operation to a previous jsr call."],flags:{z:"-",c:"-",s:"-"},src:{dr:!1,ar:!0,mIndirect:!1,imm:!1},dest:{dr:!1,ar:!0,mIndirect:!1,imm:!1},procs:{rcasm:!0,"rcasm+div":!0}},str:{title:"str",class:"STORE",cycles:12,summary:"Store Register into Memory",operation:"(M)  [src]",syntax:["str <src:a-d>"],snippet:"str ${1:a}",description:["Stores register `src` (a, b, c or d) into the byte of memory currently referenced by register `m`."],src:{dr:!0,ar:!1,mIndirect:!1,imm:!1},dest:{dr:!1,ar:!1,mIndirect:!0,imm:!1},flags:{z:"-",c:"-",s:"-"},procs:{rcasm:!0,"rcasm+div":!0}}},ub={org:{title:"org",summary:"Define Output Location",syntax:["org <address>"],snippet:"org ${1:0x0000}",description:["Sets the current location of the assembler so that the next instruction will be placed at the given address.","An 8-bit constant may be used and will be assumed to be in the zero page (`0x00--`)."]},opc:{title:"opc",summary:"Define Opcode",syntax:["opc <opcode>"],snippet:"opc ${1:0x00}",description:["Writes the given 8-bit value directly into the assembled output.","Values may be any valid 8-bit constant.","Typically this directive is used to issue a direct opcode that has no current assembler equivalent.","Directly equivalent to `!byte <opcode>`."]},"!align":{title:"!align",summary:"Define Align",syntax:["!align <value:2|4|8|16|...>"],snippet:"!align ${1:8}",description:["Writes 8-bit zeros into the output until the current location is a multiple of the given value."]},"!byte":{title:"!byte",summary:"Define Byte Data",syntax:["!byte <value:0x00..0xFF>[,...]"],snippet:"!byte ${1:0x00}",description:["Writes the given 8-bit comma seperated values directly into the assembled output.","Values may be any valid 8-bit constant.","Where a label is provided the least significant byte of that address will be used.","Alternatively a string may be provided within double quotes which will be output as an UTF-8 byte per character."]},"!word":{title:"!word",summary:"Define Word Data",syntax:["!word <value:0x0000..0xFFFF>[,...]"],snippet:"!word ${1:0x0000}",description:["Writes the given 16-bit comma seperated values directly into the assembled output.","Values may be any valid 16-bit constant.","Where a label is provided the addess it references will be used.","Alternatively a string may be provided within double quotes which will be output as an UTF-16BE word per character."]},"!fill":{title:"!fill",summary:"Define Fill Space",syntax:["!fill <count:0..255>,<value:0x00..0xFF>"],snippet:"!fill ${1:8},${2:0x00}",description:["Writes the given 8-bit value <em>v</em> directly into the assembled output `n` times.","Values may be any valid 8-bit constant."]},"!for":{title:"!for",summary:"Define For Loop",syntax:["!for <variable> in <range>"],snippet:"!for ${1:i} in range(${2:5}) {\n        ${3:add}\n}",description:["Repeats the given code block, according to the given range, in the assembled output.","The variable `i` can be referenced from within the code block and increases per iteration of the `for` loop.","If a label preceeds the directive then any label within the code block can be referenced, by iteration number `i`, with a fully scoped label in the form `outer_label__i::inner_label`"]},range:{title:"range",summary:"Range Macro",syntax:["range ([<start>,]<end>)"],snippet:"range(${1:5})",description:["Defines a range for use with a `!for` directive.","The range can either be a single numeric value `n` giving a range of `0..n-1` or two values `s`,`e` giving a range on `s..e-1`."]},"!if":{title:"!if",summary:"Define Conditional Block",syntax:["!if (<condition>)"],snippet:"!if (${1:i == 0}) {\n        ${2:add}\n}",description:["Conditionally assembles the next code block.","The condition can be any expression that results in a 'truthy' or 'falsy' value.","Following the code block multiple optional `elif` (else if) directives may be added followed by one final optional `else` directive."]},elif:{title:"elif",summary:"Define Conditional Else-If Block",syntax:["elif (<condition>)"],snippet:"elif (${1:i == 0}) {\n        ${2:add}\n}",description:["Conditionally assembles the next code block.","The condition can be any expression that results in a 'truthy' or 'falsy' value.","Must follow an `if` or `elif` block and can be followed by multiple optional `elif` directives or by one final optional `else` directive."]},else:{title:"else",summary:"Define Conditional Else Block",syntax:["else"],snippet:`else {
        \${2:add}
}`,description:["Conditionally assembles the next code block if no preceeding `if` or `elif` block evaluated to true.","Must follow an `if` or `elif` block."]},"!let":{title:"!let",summary:"Define Variable",syntax:["!let <variable> = <value>"],snippet:"!let ${1:i} = ${2:0}",description:["Defines a variable that can be later referenced.","Values may be any valid 8-bit constant (either directly or resulting from an expression).","Where a label is provided the least significant byte of that address will be used.","Alternatively a string may be provided within double quotes which will be output as an UTF-8 byte per character."]},"!error":{title:"!error",summary:"Throw Assembly Error",syntax:["!error <message>"],snippet:'!if (${1:i == 0}) { !error "${2:Error message}" }',description:["Intentionally raises an error at assembly time.","Typically used within an `!if` directive to assert that a condition is met."]}},cb={...rb,...ub},ob=Ut({card:{height:"fit-content",marginBottom:D.spacingVerticalXS},badges:{display:"flex",gap:D.spacingHorizontalXS},syntax:{fontSize:D.fontSizeBase400,marginRight:".3rem",display:"inline",whiteSpace:"pre-wrap"},instrSummaries:{display:"flex",flexDirection:"column",gap:D.spacingHorizontalXS},instrSummary:{fontSize:D.fontSizeBase300,fontWeight:D.fontWeightMedium,margin:0},instDesc:{margin:0,fontSize:D.fontSizeBase200,lineHeight:D.lineHeightBase200},code:{fontFamily:'Menlo, Monaco, "Courier New", monospace',fontWeight:D.fontWeightRegular,fontSize:D.fontSizeBase200,lineHeight:D.lineHeightBase200,color:D.colorPaletteGreenForeground2}});function be(c){const i=ob();function a({children:p}){return h.jsx("code",{className:i.code,children:p})}const o=p=>{if(!p)return null;const f=p.split(/`/g);if(f.length===1)return p;const d=[];for(let m=0;m<f.length;m++){const b=f[m];if(b==="")continue;const g=m%2===1;d.push(g?h.jsx(a,{children:b},m):h.jsx(w.Fragment,{children:b},m))}return d};if(sb(c)){const p=c.variants??[],f=(C,j,M)=>h.jsx(Fe,{content:C==="*"?`${M} flag is set or cleared according to the outcome of the instruction`:C==="0"?`${M} flag is cleared`:`Impacts ${M} flag`,withArrow:!0,relationship:"description",children:h.jsx(ri,{size:"small",shape:"circular",appearance:"outline",color:C==="*"?"brand":C==="0"?"danger":"success",children:j})}),d=C=>h.jsxs(h.Fragment,{children:[C.s!=="-"?f(C.s,"S","Sign"):null,C.c!=="-"?f(C.c,"C","Carry"):null,C.z!=="-"?f(C.z,"Z","Zero"):null]}),m=C=>h.jsx(Fe,{content:"Instruction Class: "+C,withArrow:!0,relationship:"description",children:h.jsx(ri,{size:"small",shape:"rounded",color:"important",appearance:"outline",children:C})}),b=C=>h.jsx(Fe,{content:"Instruction Duration: "+C+" Cycles",withArrow:!0,relationship:"description",children:h.jsx(ri,{size:"small",appearance:"outline",color:"important",shape:"rounded",children:C})}),g=h.jsxs($l,{className:i.card,children:[h.jsx(Bl,{header:c.syntax.map((C,j)=>C.split(" ").map((M,$)=>h.jsx(Ke,{className:i.syntax,weight:$==0?"semibold":"regular",children:M},`${j}_${$}`))),action:h.jsxs("div",{className:i.badges,children:[c.flags?d(c.flags):null,m(c.class),b(c.cycles)]})}),h.jsxs("div",{className:i.instrSummaries,children:[h.jsx(Ke,{as:"p",className:i.instrSummary,children:p.length>0?c.variant??c.summary:c.summary}),c.description?.map((C,j)=>h.jsx(Ke,{as:"p",className:i.instDesc,children:o(C)},j))]})]}),x=p.map((C,j)=>h.jsxs($l,{className:i.card,children:[h.jsx(Bl,{header:h.jsx("div",{children:C.syntax.map((M,$)=>h.jsx("div",{children:M.split(" ").map((V,Q)=>h.jsx(Ke,{className:i.syntax,weight:Q==0?"semibold":"regular",children:V},`${Q}`))},`${$}`))}),action:h.jsxs("div",{className:i.badges,children:[c.flags?d(c.flags):null,m(C.class),b(C.cycles)]})}),h.jsxs("div",{className:i.instrSummaries,children:[h.jsx(Ke,{as:"p",className:i.instrSummary,children:C.variant}),C.description?.map((M,$)=>h.jsx(Ke,{as:"p",className:i.instDesc,children:o(M)},$))]})]},`${j}`));return[g,...x]}else return h.jsxs($l,{className:i.card,children:[h.jsx(Bl,{header:c.syntax.map(p=>p.split(" ").map((f,d)=>h.jsx(Ke,{className:i.syntax,weight:d==0?"semibold":"regular",children:f},d)))}),h.jsxs("div",{className:i.instrSummaries,children:[h.jsx(Ke,{as:"p",className:i.instrSummary,children:c.summary}),c.description?.map((p,f)=>h.jsx(Ke,{as:"p",className:i.instDesc,children:o(p)},f))]})]})}const fb=Ut({accordionHeader:{color:D.colorNeutralForeground2},accordionHeaderBlock:{display:"flex",flexDirection:"column"},accordionHeaderBlockSummary:{fontSize:D.fontSizeBase300},accordionHeaderBlockSection:{fontSize:D.fontSizeBase100,lineHeight:D.lineHeightBase100,marginBottom:"-.1rem"},accordionContent:{color:D.colorNeutralForeground2},para:{marginTop:0,paddingLeft:".7rem",marginBottom:D.spacingVerticalS},card:{height:"fit-content",marginBottom:D.spacingVerticalXS},caption:{color:D.colorNeutralForeground3},code:{fontFamily:'Menlo, Monaco, "Courier New", monospace',fontWeight:D.fontWeightRegular,color:D.colorPaletteGreenForeground2,fontSize:D.fontSizeBase200,lineHeight:D.lineHeightBase200}});function db(){const c=fb(),i=cb,a=({children:f})=>h.jsx($l,{className:c.card,appearance:"subtle",role:"listitem",children:h.jsx(Bl,{description:h.jsx(Ke,{size:200,className:c.caption,children:f})})});function o({children:f}){return h.jsx("code",{className:c.code,children:f})}const p=w.useMemo(()=>[{title:"Getting Started",content:h.jsxs(h.Fragment,{children:[h.jsx("p",{className:c.para,children:"Type your assembly program into the editor window to the right. Your program is automatically assembled (as you type) with the results placed in the output window at the far right. Any syntax errors or warnings will be displayed and highlighted in the code editor."}),h.jsx("p",{className:c.para,children:"Your program is automatically saved in your browser's local storage meaning your last program will be available at your next visit to this IDE."}),h.jsxs("p",{className:c.para,children:["You can load an example program into the editor from the examples folder icon at the top left. You can also export the current program via the export icon below the examples icon. This includes the ability to export the assembled program to your clipboard which can then be imported/pasted into the"," ",h.jsx(Uc,{href:Dl.Simulator,target:"_blank",rel:"noreferrer noopener",children:"Relay Computer Simulator"}),"."]}),h.jsx("p",{className:c.para,children:"Providing your program assembles without error it will be automatically loaded into the emulator ('chip' icon on the left) within this IDE. The emulator is a simplified version of the full simulator above and allows you to quickly confirm your program before trying the full simulator."})]})},{title:"Assembly Syntax",content:h.jsxs(h.Fragment,{children:[h.jsx("p",{className:c.para,children:"My assembly language (RCASM) draws inspiration from 6502 and Z80 assemblers so has many similarities (although is relatively cut-down and simplified)."}),h.jsxs("p",{className:c.para,children:["Every instruction must be on its own line with everything after a semi-colon ignored. Labels are optional and must start with a letter or underscore and end with a colon e.g. ",h.jsx(o,{children:"label:"}),"."]}),h.jsx("p",{className:c.para,children:"Valid number formats for constants are:"}),h.jsxs("ul",{children:[h.jsxs("li",{children:["decimal: ",h.jsx(o,{children:"200"})," or ",h.jsx(o,{children:"200d"})]}),h.jsxs("li",{children:["hex: ",h.jsx(o,{children:"0xA4"})]}),h.jsxs("li",{children:["binary: ",h.jsx(o,{children:"0101b"})]})]}),h.jsx("p",{className:c.para,children:"Operands can be:"}),h.jsxs("ul",{children:[h.jsxs("li",{children:["a general purpose register: ",h.jsx(o,{children:"a, b, c, d, m1, m2, x, y"})]}),h.jsxs("li",{children:["a 16-bit register: ",h.jsx(o,{children:"m, j, xy"})]}),h.jsx("li",{children:"a constant"}),h.jsx("li",{children:"a label (treated as a 16-bit value or the lower byte for 8-bit operands)"}),h.jsxs("li",{children:["the current address: ",h.jsx(o,{children:"*"})]})]}),h.jsx("p",{className:c.para,children:"Operators can be used with all operands where they make sense:"}),h.jsxs("ul",{children:[h.jsxs("li",{children:["Additive ",h.jsx(o,{children:"+"})," and ",h.jsx(o,{children:"-"})]}),h.jsxs("li",{children:["Multiplicative ",h.jsx(o,{children:"*"}),", ",h.jsx(o,{children:"/"})," and ",h.jsx(o,{children:"%"})]}),h.jsxs("li",{children:["Expression Order ",h.jsx(o,{children:"("})," and ",h.jsx(o,{children:")"})]}),h.jsxs("li",{children:["Comparative ",h.jsx(o,{children:"=="}),", ",h.jsx(o,{children:"!="}),", ",h.jsx(o,{children:"<"}),", ",h.jsx(o,{children:"<="}),", ",h.jsx(o,{children:">"}),","," ",h.jsx(o,{children:">="})]})]}),h.jsxs("p",{className:c.para,children:["A special ",h.jsx(o,{children:""})," operator also exists that will take the lower byte of the left and right operand and combine into a 16-bit value of left:right. This can be useful for 'quick loading' the"," ",h.jsx(o,{children:"m"})," register. For example: ",h.jsx(o,{children:"ldi m,label23"}),"."]})]})},{title:"Flow Control",section:"Assembly Instructions",content:h.jsxs(h.Fragment,{children:[h.jsx(be,{...i.hlt}),h.jsx(be,{...i.hlr})]})},{title:"Arithmetic & Logic (ALU)",section:"Assembly Instructions",content:h.jsxs(h.Fragment,{children:[h.jsxs(a,{children:[h.jsx(Ke,{children:"8-bit ALU Operations"}),h.jsx("br",{}),h.jsx("br",{}),"For ALU instructions the result is placed in ",h.jsx("em",{children:"dst"})," (register ",h.jsx(o,{children:"a"})," or ",h.jsx(o,{children:"d"}),"). If"," ",h.jsx("em",{children:"dst"})," is not specified then register ",h.jsx(o,{children:"a"})," is assumed.",h.jsx("br",{}),h.jsx("br",{}),"Each instruction affects the condition flags ",h.jsx(o,{children:"Z"})," (zero) and ",h.jsx(o,{children:"S"})," (sign - if most significant bit set) based on the result of the instruction."]}),h.jsx(be,{...i.add}),h.jsx(be,{...i.inc}),h.jsx(be,{...i.and}),h.jsx(be,{...i.orr}),h.jsx(be,{...i.eor}),h.jsx(be,{...i.cmp}),h.jsx(be,{...i.not}),h.jsx(be,{...i.rol}),h.jsx(a,{children:h.jsx(Ke,{children:"16-bit Incrementer Operations"})}),h.jsx(be,{...i.ixy})]})},{title:"Branching",section:"Assembly Instructions",content:h.jsxs(h.Fragment,{children:[h.jsxs(a,{children:[h.jsx(Ke,{children:"Conditional Branching"}),h.jsx("br",{})," ",h.jsx("br",{}),"For the following instructions the ",h.jsx(o,{children:"j"})," register is loaded with the address referenced by"," ",h.jsx("em",{children:"label"})," and then based on the condition flags ",h.jsx(o,{children:"Z"}),", ",h.jsx(o,{children:"C"})," and ",h.jsx(o,{children:"S"})," the program counter will be loaded from the ",h.jsx(o,{children:"j"})," register if the jump is required."]}),h.jsx(be,{...i.beq}),h.jsx(be,{...i.bne}),h.jsx(be,{...i.bcs}),h.jsx(be,{...i.blt}),h.jsx(be,{...i.bmi}),h.jsx(be,{...i.ble}),h.jsx(a,{children:h.jsx(Ke,{children:"Unconditional Branching"})}),h.jsx(be,{...i.jmp}),h.jsx(be,{...i.jsr}),h.jsx(be,{...i.rts})]})},{title:"Experimental",section:"Assembly Instructions",content:h.jsxs(h.Fragment,{children:[h.jsx(a,{children:"The following instructions are experimental and not yet fully implemented in the relay computer simulator."}),h.jsx(be,{...i.div}),h.jsx(be,{...i.dvr}),h.jsx(be,{...i.mod}),h.jsx(be,{...i.mdr})]})},{title:"Register Manipulation",section:"Assembly Instructions",content:h.jsxs(h.Fragment,{children:[h.jsx(a,{children:h.jsx(Ke,{children:"Register to Register Copy"})}),h.jsx(be,{...i.mov}),h.jsx(a,{children:h.jsx(Ke,{children:"Set Immediate Value"})}),h.jsx(be,{...i.clr}),h.jsx(be,{...i.ldi}),h.jsx(a,{children:h.jsx(Ke,{children:"Store & Load"})}),h.jsx(be,{...i.ldr}),h.jsx(be,{...i.str}),h.jsx(be,{...i.lds})]})},{title:"Organisation",section:"Assembly Directives",content:h.jsxs(h.Fragment,{children:[h.jsx(be,{...i.org}),h.jsx(be,{...i["!align"]})]})},{title:"Control Flow",section:"Assembly Directives",content:h.jsxs(h.Fragment,{children:[h.jsx(be,{...i["!if"]}),h.jsx(be,{...i.elif}),h.jsx(be,{...i.else}),h.jsx(be,{...i["!for"]}),h.jsx(be,{...i.range}),h.jsx(be,{...i["!error"]})]})},{title:"Data / Literals",section:"Assembly Directives",content:h.jsxs(h.Fragment,{children:[h.jsx(be,{...i["!let"]}),h.jsx(be,{...i["!byte"]}),h.jsx(be,{...i["!word"]}),h.jsx(be,{...i["!fill"]}),h.jsx(be,{...i.opc})]})}],[]);return h.jsx(Hr,{title:"Documentation",children:h.jsx(_r,{children:h.jsx(gd,{collapsible:!0,multiple:!0,"aria-label":"IDE documentation",children:p.map((f,d)=>h.jsxs(fs,{value:d,children:[h.jsx(ds,{className:c.accordionHeader,children:h.jsxs("div",{className:c.accordionHeaderBlock,children:[f.section?h.jsx(Ke,{className:c.accordionHeaderBlockSection,children:f.section}):null,h.jsx(Ke,{className:c.accordionHeaderBlockSummary,children:f.title})]})}),h.jsx(hs,{className:c.accordionContent,children:f.content})]},String(d)))})})})}const hb=Ut({root:{display:"flex",flexDirection:"column",height:"100%",overflow:"hidden"},header:{display:"flex",alignItems:"center",gap:"12px",padding:"6px 10px",borderBottom:`1px solid ${D.colorNeutralStroke2}`,color:D.colorNeutralForeground2,fontSize:D.fontSizeBase200,fontWeight:D.fontWeightMedium,flexShrink:0},counts:{display:"flex",gap:"12px"},list:{overflow:"auto",flex:1},row:{display:"grid",gridTemplateColumns:"20px 1fr auto auto auto",gap:"8px",alignItems:"start",padding:"4px 10px 1px",cursor:"pointer",borderBottom:`1px solid ${D.colorNeutralStroke3}`,color:D.colorNeutralForeground1,":hover":{backgroundColor:D.colorNeutralBackground3Hover}},empty:{padding:"8px",color:D.colorNeutralForeground3},iconError:{color:D.colorStatusDangerForeground1,paddingTop:"2px"},iconWarning:{color:D.colorStatusWarningForeground1,paddingTop:"2px"},iconInfo:{color:D.colorPaletteBlueForeground2,paddingTop:"2px"}});function mb(c,i){return c===sn.Error?h.jsx(tg,{className:i.iconError}):c===sn.Warning?h.jsx(ng,{className:i.iconWarning}):c===sn.Info?h.jsx(zy,{className:i.iconInfo}):h.jsx(Ay,{className:i.iconInfo})}function pb(c){return c===sn.Error?"Error":c===sn.Warning?"Warning":c===sn.Info?"Info":"Hint"}function gb({markers:c,onSelect:i}){const a=hb(),{sorted:o,counts:p}=w.useMemo(()=>{const f={errors:0,warnings:0,infos:0,hints:0};for(const m of c)m.severity===sn.Error?f.errors++:m.severity===sn.Warning?f.warnings++:m.severity===sn.Info?f.infos++:f.hints++;return{sorted:[...c].sort((m,b)=>{const g=j=>j===sn.Error?0:j===sn.Warning?1:j===sn.Info?2:3,x=g(m.severity)-g(b.severity);if(x!==0)return x;const C=(m.startLineNumber??0)-(b.startLineNumber??0);return C!==0?C:(m.startColumn??0)-(b.startColumn??0)}),counts:f}},[c]);return h.jsxs("div",{className:a.root,children:[h.jsx("div",{className:a.header,children:h.jsxs("div",{className:a.counts,children:[h.jsxs("span",{children:[p.errors," Errors"]}),h.jsxs("span",{children:[p.warnings," Warnings"]}),p.infos>0&&h.jsxs("span",{children:[p.infos," Infos"]}),p.hints>0&&h.jsxs("span",{children:[p.hints," Hints"]})]})}),o.length===0?h.jsx("div",{className:a.empty,children:"No problems have been detected in the assembly code."}):h.jsx("div",{className:a.list,children:o.map((f,d)=>h.jsxs("div",{className:a.row,onClick:()=>i(f),role:"button",children:[h.jsx("div",{children:mb(f.severity,a)}),h.jsx("div",{children:h.jsx(Ke,{size:300,weight:"regular",children:f.message})}),h.jsxs("div",{style:{fontSize:"12px",color:D.colorNeutralForeground3},children:[pb(f.severity),f.code?`  ${typeof f.code=="object"?f.code.value:f.code}`:"",f.source?`  ${f.source}`:""]}),h.jsx("div",{style:{color:D.colorNeutralForeground3},children:h.jsxs(Ke,{size:200,children:[f.startLineNumber,":",f.startColumn]})}),h.jsx("div",{style:{color:D.colorNeutralForeground3}})]},d))})]})}const yb=w.memo(gb),vb=Ut({container:{display:"flex",flexDirection:"column",height:"100vh",width:"100vw",overflow:"hidden",gap:"2px",backgroundColor:D.colorNeutralBackground3},main:{display:"flex",flexDirection:"row",flexGrow:"1",minHeight:0,gap:"2px"},editor:{flexGrow:1,minWidth:0},panel:{backgroundColor:D.colorNeutralBackground2,display:"flex",flexDirection:"column",minHeight:0,overflow:"hidden"},resizeHandle:{flexBasis:"2px"}}),Ip=["; *****************************************************",";  Welcome to Relay Computer Assembly (RCASM)",";",";  Start typing your program below or open an example",";  from the examples folder top left","; *****************************************************","",""].join(`
`),bb=()=>{const[c,i]=w.useState(void 0),[a,o]=w.useState({warnings:0,errors:0}),[p,f]=w.useState([]),[d,m]=wy(),b=d.autoSave??!0,g=Oy(),{code:x,onCodeChange:C,save:j,dirty:M}=ib({storageKey:"code",autoSave:b,defaultCode:Ip}),{assembly:$}=ab({code:x,debounceMs:300});w.useEffect(()=>{if(b||!M)return;const k=X=>{X.preventDefault(),X.returnValue=""};return window.addEventListener("beforeunload",k),()=>window.removeEventListener("beforeunload",k)},[b,M]);const V=w.useRef(void 0),Q=k=>V.current=k;w.useEffect(()=>g.subscribe("panel",k=>{k.type==="panel.toggle"&&k.panel==="sidebar-s"&&m(X=>({...X,panels:{...X.panels,secondary:!X.panels.secondary}})),k.type==="panel.toggle"&&k.panel==="panel"&&m(X=>({...X,panels:{...X.panels,bottom:!X.panels.bottom}})),k.type==="panel.showSection"&&m(X=>{const pe=X.section===k.section?X:{...X,section:k.section};return pe.panels.primary?pe:{...pe,panels:{...pe.panels,primary:!0}}})}),[g,m]),w.useEffect(()=>g.subscribe("app",async k=>{switch(k.type){case"app.new":{if(!window.confirm("This will clear the editor (and clear the code saved in your browser storage). Continue?"))return;V.current?.loadCode(Ip);return}case"app.open":{const X=await p1();if(!X)return;V.current?.loadCode(X.text);return}case"app.save":{j();return}case"app.saveAs":{await m1(x);return}case"app.loadExample":{await Ae(k.example);return}case"app.jumpToSource":{if($){const X=tb($,k.fromAddress);X&&g.execute(gs.gotoLine(X))}return}case"app.jumpToAssembled":if($){const X=nb($,k.fromSourceLineNumber);X&&g.execute(Ly.gotoAddress(X))}}}),[g,$,j]);const K=k=>{const X={errors:0,warnings:0};k.forEach(pe=>{switch(pe.severity){case sn.Error:X.errors++;break;case sn.Warning:X.warnings++;break}}),o(X),f(k)};w.useEffect(()=>{const k=async X=>{const pe=X.key.toLowerCase();if((X.metaKey||X.ctrlKey)&&X.shiftKey&&pe==="o"){X.preventDefault(),await g.executeAsync(Zn.open());return}if((X.metaKey||X.ctrlKey)&&pe==="s"){X.preventDefault(),X.shiftKey?await g.executeAsync(Zn.saveAs()):g.execute(Zn.save());return}if(X.shiftKey&&(X.metaKey||X.ctrlKey)){if(["d","e","x","y","w"].includes(pe)){let me;switch(X.key.toLowerCase()){case"d":me=rt.Sections.DOCUMENTATION;break;case"e":me=rt.Sections.EXAMPLES;break;case"x":me=rt.Sections.EXPORT;break;case"y":me=rt.Sections.EMULATOR;break;case"w":me=rt.Sections.WELCOME;break}if(me){X.preventDefault(),g.execute(_c.showSection(me));return}}if(pe==="m"){X.preventDefault(),m(me=>({...me,panels:{...me.panels,bottom:!me.panels.bottom}}));return}if(pe==="u"){X.preventDefault(),m(me=>({...me,panels:{...me.panels,secondary:!me.panels.secondary}}));return}}};return window.addEventListener("keydown",k),()=>window.removeEventListener("keydown",k)},[g]);const P=k=>i(k.position),te=vb();async function Ae(k){const X=k.endsWith(".rcasm")?k:`${k}.rcasm`,pe=`/examples/${X}`;try{const me=await fetch(pe);if(!me.ok)throw new Error(`Failed to load example: ${X}`);const et=await me.text();V.current?.loadCode(et)}catch(me){console.error(me)}}function re(){switch(d.section){case rt.Sections.DOCUMENTATION:return h.jsx(db,{});case rt.Sections.EXAMPLES:return h.jsx(h1,{});case rt.Sections.EXPORT:return h.jsx(o1,{assembly:$});case rt.Sections.EMULATOR:return h.jsx(a1,{assembly:$})}return h.jsx(Qv,{})}return h.jsx(Uy,{value:g,children:h.jsxs("div",{className:te.container,children:[h.jsx(Zy,{prefs:d,onPrefsChange:m,dirty:M}),h.jsxs("div",{className:te.main,children:[h.jsx(Py,{prefs:d,onPrefsChange:m}),h.jsxs(hd,{direction:"horizontal",autoSaveId:"layout-horizontal",children:[d.panels.primary&&h.jsxs(h.Fragment,{children:[h.jsx(cs,{id:"left",defaultSize:25,minSize:25,className:te.panel,order:1,children:re()}),h.jsx(Lc,{className:te.resizeHandle})]}),h.jsx(cs,{order:2,id:"middle",children:h.jsxs(hd,{direction:"vertical",autoSaveId:"layout-vertical",children:[h.jsx(cs,{id:"editor",minSize:33,order:1,"data-tabster":'{"uncontrolled": {}}',children:h.jsx(lv,{initialCode:x,onCodeChange:C,onMount:Q,onValidate:K,onPositionChange:P})}),d.panels.bottom&&h.jsxs(h.Fragment,{children:[h.jsx(Lc,{className:te.resizeHandle}),h.jsx(cs,{id:"bottom",order:2,defaultSize:20,minSize:20,className:te.panel,children:h.jsx(yb,{markers:p,onSelect:k=>{g.execute(gs.gotoLine(k.startLineNumber??1,k.startColumn??1))}})})]})]})}),d.panels.secondary&&h.jsxs(h.Fragment,{children:[h.jsx(Lc,{className:te.resizeHandle}),h.jsx(cs,{id:"right",defaultSize:20,minSize:20,className:te.panel,order:3,children:h.jsx(pv,{assembly:$})})]})]})]}),h.jsx(v1,{position:c,validation:a,assembly:$,autoSave:b,dirty:M})]})})},Sb=()=>{const[c,i]=w.useState(Pf);return w.useEffect(()=>{const a=window.matchMedia("(prefers-color-scheme: dark)"),o=p=>{i(p.matches?Pf:Tp)};return i(a.matches?Pf:Tp),a.addEventListener("change",o),()=>{a.removeEventListener("change",o)}},[]),h.jsx(jy,{theme:c,children:h.jsx(bb,{})})};By.createRoot(document.getElementById("root")).render(h.jsx(w.StrictMode,{children:h.jsx(Sb,{})}));
