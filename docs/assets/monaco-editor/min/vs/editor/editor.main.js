/*!-----------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.35.0-dev.20221018.2(2914954a0fea80841ff93dd4e9b639415fafd8e3)
 * Released under the MIT license
 * https://github.com/microsoft/vscode/blob/main/LICENSE.txt
 *-----------------------------------------------------------*/(function(){var se=["exports","require","vs/base/common/lifecycle","vs/editor/common/core/range","vs/nls","vs/nls!vs/editor/editor.main","vs/base/common/event","vs/base/browser/dom","vs/base/common/strings","vs/platform/instantiation/common/instantiation","vs/base/common/async","vs/editor/common/core/position","vs/css!vs/editor/editor.main","vs/editor/browser/editorExtensions","vs/base/common/errors","vs/platform/contextkey/common/contextkey","vs/platform/theme/common/themeService","vs/base/common/platform","vs/base/common/arrays","vs/base/common/types","vs/editor/common/services/languageFeatures","vs/base/common/cancellation","vs/base/common/uri","vs/platform/theme/common/colorRegistry","vs/editor/common/core/selection","vs/editor/common/editorContextKeys","vs/platform/commands/common/commands","vs/base/common/codicons","vs/editor/common/languages","vs/editor/browser/services/codeEditorService","vs/platform/configuration/common/configuration","vs/base/common/color","vs/platform/actions/common/actions","vs/platform/registry/common/platform","vs/editor/common/languages/languageConfigurationRegistry","vs/base/browser/fastDomNode","vs/base/common/objects","vs/editor/common/model/textModel","vs/editor/common/config/editorOptions","vs/editor/common/languages/language","vs/platform/notification/common/notification","vs/platform/keybinding/common/keybinding","vs/base/browser/browser","vs/base/common/actions","vs/base/common/resources","vs/base/browser/keyboardEvent","vs/platform/opener/common/opener","vs/editor/common/model","vs/editor/browser/view/viewPart","vs/base/common/network","vs/base/browser/ui/aria/aria","vs/editor/common/services/model","vs/platform/instantiation/common/extensions","vs/platform/theme/common/theme","vs/editor/common/core/editorColorRegistry","vs/base/common/iterator","vs/base/common/stopwatch","vs/base/common/keyCodes","vs/base/common/linkedList","vs/base/common/map","vs/base/browser/touch","vs/editor/common/services/resolverService","vs/base/common/filters","vs/editor/common/core/editOperation","vs/editor/common/cursorCommon","vs/base/browser/mouseEvent","vs/base/browser/ui/widget","vs/platform/progress/common/progress","vs/base/common/htmlContent","vs/editor/browser/config/domFontInfo","vs/editor/common/core/cursorColumns","vs/platform/contextview/browser/contextView","vs/platform/log/common/log","vs/editor/common/services/languageFeatureDebounce","vs/editor/common/languages/modesRegistry","vs/editor/common/viewModel","vs/base/browser/ui/scrollbar/scrollableElement","vs/base/browser/ui/actionbar/actionbar","vs/editor/common/standaloneStrings","vs/platform/accessibility/common/accessibility","vs/platform/storage/common/storage","vs/platform/telemetry/common/telemetry","vs/platform/theme/common/iconRegistry","vs/base/common/assert","vs/editor/common/tokens/lineTokens","vs/base/common/path","vs/base/browser/event","vs/platform/markers/common/markers","vs/platform/quickinput/common/quickInput","vs/platform/configuration/common/configurationRegistry","vs/base/common/severity","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/length","vs/editor/contrib/hover/browser/hoverTypes","vs/editor/contrib/snippet/browser/snippetParser","vs/editor/common/core/stringBuilder","vs/platform/clipboard/common/clipboardService","vs/platform/keybinding/common/keybindingsRegistry","vs/editor/contrib/editorState/browser/editorState","vs/base/common/functional","vs/base/common/mime","vs/editor/common/languages/languageConfiguration","vs/editor/common/textModelEvents","vs/base/browser/ui/list/listWidget","vs/editor/common/services/editorWorker","vs/editor/contrib/suggest/browser/suggest","vs/base/common/decorators","vs/base/common/keybindings","vs/base/common/hash","vs/base/common/iconLabels","vs/editor/common/core/characterClassifier","vs/editor/common/commands/replaceCommand","vs/editor/common/encodedTokenAttributes","vs/editor/common/languages/supports","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/smallImmutableSet","vs/editor/browser/view/dynamicViewOverlay","vs/editor/contrib/codeAction/common/types","vs/editor/common/viewLayout/viewLineRenderer","vs/editor/standalone/common/standaloneTheme","vs/platform/layout/browser/layoutService","vs/editor/contrib/markdownRenderer/browser/markdownRenderer","vs/platform/quickinput/common/quickAccess","vs/platform/theme/common/styler","vs/editor/contrib/peekView/browser/peekView","vs/base/browser/ui/tree/tree","vs/base/common/buffer","vs/base/common/lazy","vs/base/browser/dnd","vs/base/common/numbers","vs/base/browser/ui/codicons/codiconStyles","vs/editor/browser/view/renderingContext","vs/editor/common/core/eolCounter","vs/editor/common/core/wordCharacterClassifier","vs/editor/common/core/wordHelper","vs/editor/common/viewEventHandler","vs/editor/common/viewLayout/lineDecorations","vs/base/browser/globalPointerMoveMonitor","vs/base/browser/ui/iconLabel/iconLabels","vs/base/browser/ui/sash/sash","vs/base/browser/ui/actionbar/actionViewItems","vs/editor/common/languages/nullTokenize","vs/editor/contrib/gotoSymbol/browser/referencesModel","vs/editor/browser/services/bulkEditService","vs/platform/dialogs/common/dialogs","vs/platform/label/common/label","vs/editor/browser/editorDom","vs/editor/contrib/codeAction/browser/codeAction","vs/editor/contrib/message/browser/messageController","vs/base/common/idGenerator","vs/base/common/range","vs/base/common/diff/diff","vs/base/common/uint","vs/base/browser/ui/mouseCursor/mouseCursor","vs/css!vs/base/parts/quickinput/browser/media/quickInput","vs/editor/browser/stableEditorScroll","vs/editor/common/core/textModelDefaults","vs/editor/common/editorCommon","vs/editor/browser/editorBrowser","vs/editor/common/cursor/cursorWordOperations","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/ast","vs/editor/common/model/textModelSearch","vs/editor/common/standalone/standaloneEnums","vs/editor/contrib/folding/browser/foldingRanges","vs/base/common/scrollable","vs/base/browser/ui/toggle/toggle","vs/base/browser/ui/tree/abstractTree","vs/editor/common/config/editorZoom","vs/editor/contrib/gotoSymbol/browser/link/clickLinkGesture","vs/editor/contrib/inlineCompletions/browser/ghostText","vs/editor/common/services/textResourceConfiguration","vs/platform/instantiation/common/serviceCollection","vs/editor/contrib/documentSymbols/browser/outlineModel","vs/editor/browser/coreCommands","vs/platform/actions/browser/menuEntryActionViewItem","vs/platform/list/browser/listService","vs/platform/undoRedo/common/undoRedo","vs/editor/browser/widget/codeEditorWidget","vs/editor/browser/widget/embeddedCodeEditorWidget","vs/editor/contrib/find/browser/findModel","vs/platform/workspace/common/workspace","vs/editor/contrib/snippet/browser/snippetController2","vs/base/common/ternarySearchTree","vs/base/common/uuid","vs/base/common/dataTransfer","vs/editor/common/core/indentation","vs/editor/common/diff/algorithms/diffAlgorithm","vs/editor/common/diff/linesDiffComputer","vs/editor/common/cursor/cursorMoveOperations","vs/editor/common/cursor/cursorDeleteOperations","vs/editor/common/cursor/cursorMoveCommands","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/tokenizer","vs/editor/common/model/utils","vs/editor/common/textModelGuides","vs/editor/browser/viewParts/glyphMargin/glyphMargin","vs/editor/common/viewEvents","vs/editor/contrib/inlineCompletions/browser/consts","vs/editor/contrib/inlineCompletions/browser/utils","vs/base/common/keybindingLabels","vs/base/common/extpath","vs/base/browser/canIUse","vs/base/browser/ui/tree/indexTreeModel","vs/base/browser/ui/tree/objectTreeModel","vs/base/common/marshalling","vs/base/browser/formattedTextRenderer","vs/base/browser/ui/iconLabel/iconLabel","vs/base/browser/ui/scrollbar/scrollbarArrow","vs/base/browser/ui/list/listView","vs/base/browser/ui/findinput/findInput","vs/editor/browser/controller/textAreaInput","vs/editor/browser/view/viewLayer","vs/editor/common/languages/supports/richEditBrackets","vs/editor/common/viewModelEventDispatcher","vs/editor/contrib/inlineCompletions/browser/inlineCompletionToGhostText","vs/editor/common/config/fontInfo","vs/platform/instantiation/common/descriptors","vs/editor/common/services/markerDecorations","vs/editor/contrib/parameterHints/browser/provideSignatureHelp","vs/platform/jsonschemas/common/jsonContributionRegistry","vs/editor/common/config/editorConfigurationSchema","vs/editor/common/languages/autoIndent","vs/editor/common/languages/enterAction","vs/editor/common/commands/shiftCommand","vs/editor/common/cursor/cursorTypeOperations","vs/editor/contrib/symbolIcons/browser/symbolIcons","vs/editor/contrib/gotoSymbol/browser/goToSymbol","vs/editor/contrib/hover/browser/markdownHoverParticipant","vs/editor/contrib/gotoSymbol/browser/goToCommands","vs/editor/standalone/browser/standaloneServices","vs/base/browser/ui/scrollbar/scrollbarState","vs/base/common/cache","vs/base/parts/quickinput/common/quickInput","vs/css!vs/base/browser/ui/actionbar/actionbar","vs/css!vs/base/browser/ui/dropdown/dropdown","vs/css!vs/base/browser/ui/findinput/findInput","vs/css!vs/base/browser/ui/list/list","vs/editor/browser/view/viewUserInputEvents","vs/editor/browser/viewParts/minimap/minimapCharSheet","vs/editor/browser/controller/textAreaState","vs/editor/common/core/rgba","vs/editor/common/cursor/cursorAtomicMoveOperations","vs/editor/common/editorAction","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/beforeEditPositionMapper","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/parser","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/brackets","vs/editor/common/model/prefixSumComputer","vs/editor/common/model/textModelPart","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeBase","vs/editor/common/modelLineProjectionData","vs/editor/common/services/unicodeTextModelHighlighter","vs/editor/common/model/guidesTextModelPart","vs/editor/browser/viewParts/margin/margin","vs/editor/common/viewModel/overviewZoneManager","vs/editor/contrib/comment/browser/blockCommentCommand","vs/editor/contrib/format/browser/formattingEdit","vs/editor/contrib/indentation/browser/indentUtils","vs/editor/contrib/smartSelect/browser/bracketSelections","vs/editor/contrib/suggest/browser/completionModel","vs/editor/contrib/suggest/browser/wordDistance","vs/editor/standalone/common/monarch/monarchCommon","vs/base/common/glob","vs/base/browser/ui/contextview/contextview","vs/base/browser/ui/countBadge/countBadge","vs/base/browser/ui/iconLabel/iconLabelHover","vs/base/browser/ui/highlightedlabel/highlightedLabel","vs/base/browser/ui/keybindingLabel/keybindingLabel","vs/base/browser/ui/resizable/resizable","vs/base/browser/ui/scrollbar/abstractScrollbar","vs/base/browser/ui/hover/hoverWidget","vs/base/browser/ui/splitview/splitview","vs/base/browser/ui/findinput/findInputToggles","vs/base/browser/markdownRenderer","vs/base/browser/ui/inputbox/inputBox","vs/base/browser/ui/tree/objectTree","vs/base/common/worker/simpleWorker","vs/base/parts/quickinput/browser/quickInputUtils","vs/editor/browser/config/elementSizeObserver","vs/editor/browser/config/tabFocus","vs/editor/browser/widget/diffNavigator","vs/editor/common/core/textChange","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeTextBuffer","vs/editor/common/languages/textToHtmlTokenizer","vs/editor/common/services/editorBaseApi","vs/editor/common/viewModel/minimapTokensColorTracker","vs/editor/contrib/hover/browser/hoverOperation","vs/editor/contrib/inlayHints/browser/inlayHints","vs/editor/browser/config/fontMeasurements","vs/editor/common/viewModel/viewModelDecorations","vs/editor/common/model/editStack","vs/platform/files/common/files","vs/editor/common/services/getSemanticTokens","vs/editor/contrib/codelens/browser/codelens","vs/editor/contrib/colorPicker/browser/color","vs/editor/standalone/common/monarch/monarchLexer","vs/platform/contextkey/common/contextkeys","vs/platform/keybinding/common/resolvedKeybindingItem","vs/editor/standalone/browser/standaloneLayoutService","vs/editor/browser/dnd","vs/editor/browser/services/editorWorkerService","vs/editor/common/cursor/cursor","vs/editor/contrib/suggest/browser/suggestWidgetDetails","vs/platform/configuration/common/configurationModels","vs/platform/history/browser/contextScopedHistoryWidget","vs/editor/contrib/suggest/browser/suggestMemory","vs/editor/browser/viewParts/lines/viewLine","vs/editor/browser/controller/mouseTarget","vs/editor/browser/viewParts/lineNumbers/lineNumbers","vs/editor/common/services/semanticTokensProviderStyling","vs/editor/contrib/quickAccess/browser/editorNavigationQuickAccess","vs/editor/standalone/browser/standaloneCodeEditorService","vs/editor/contrib/codeAction/browser/codeActionWidget","vs/editor/contrib/format/browser/format","vs/editor/contrib/hover/browser/getHover","vs/editor/contrib/codeAction/browser/codeActionCommands","vs/editor/contrib/toggleTabFocusMode/browser/toggleTabFocusMode","vs/editor/contrib/wordOperations/browser/wordOperations","vs/editor/standalone/browser/standaloneThemeService","vs/editor/common/services/modelService","vs/editor/browser/widget/diffEditorWidget","vs/editor/contrib/colorPicker/browser/colorDetector","vs/editor/contrib/find/browser/findController","vs/editor/contrib/folding/browser/folding","vs/editor/contrib/gotoError/browser/gotoError","vs/editor/contrib/gotoSymbol/browser/peek/referencesController","vs/editor/contrib/gotoSymbol/browser/link/goToDefinitionAtPosition","vs/editor/contrib/hover/browser/hover","vs/editor/contrib/inlayHints/browser/inlayHintsLocations","vs/editor/contrib/inlayHints/browser/inlayHintsController","vs/editor/contrib/snippet/browser/snippetSession","vs/editor/contrib/inlineCompletions/browser/inlineCompletionsModel","vs/editor/contrib/suggest/browser/suggestController","vs/editor/contrib/inlineCompletions/browser/ghostTextController","vs/platform/workspace/common/workspaceTrust","vs/base/browser/iframe","vs/base/browser/ui/list/list","vs/base/browser/ui/list/splice","vs/base/common/collections","vs/base/common/diff/diffChange","vs/base/common/marked/marked","vs/base/common/navigator","vs/base/common/history","vs/base/browser/ui/list/rangeMap","vs/base/common/search","vs/css!vs/base/browser/ui/aria/aria","vs/css!vs/base/browser/ui/button/button","vs/css!vs/base/browser/ui/codicons/codicon/codicon","vs/css!vs/base/browser/ui/codicons/codicon/codicon-modifiers","vs/css!vs/base/browser/ui/contextview/contextview","vs/css!vs/base/browser/ui/countBadge/countBadge","vs/css!vs/base/browser/ui/hover/hover","vs/css!vs/base/browser/ui/iconLabel/iconlabel","vs/css!vs/base/browser/ui/inputbox/inputBox","vs/css!vs/base/browser/ui/keybindingLabel/keybindingLabel","vs/css!vs/base/browser/ui/mouseCursor/mouseCursor","vs/css!vs/base/browser/ui/progressbar/progressbar","vs/css!vs/base/browser/ui/sash/sash","vs/css!vs/base/browser/ui/scrollbar/media/scrollbars","vs/css!vs/base/browser/ui/selectBox/selectBox","vs/css!vs/base/browser/ui/selectBox/selectBoxCustom","vs/css!vs/base/browser/ui/splitview/splitview","vs/css!vs/base/browser/ui/table/table","vs/css!vs/base/browser/ui/toggle/toggle","vs/css!vs/base/browser/ui/tree/media/tree","vs/css!vs/editor/browser/controller/textAreaHandler","vs/css!vs/editor/browser/viewParts/blockDecorations/blockDecorations","vs/css!vs/editor/browser/viewParts/currentLineHighlight/currentLineHighlight","vs/css!vs/editor/browser/viewParts/decorations/decorations","vs/css!vs/editor/browser/viewParts/glyphMargin/glyphMargin","vs/css!vs/editor/browser/viewParts/indentGuides/indentGuides","vs/css!vs/editor/browser/viewParts/lineNumbers/lineNumbers","vs/css!vs/editor/browser/viewParts/lines/viewLines","vs/css!vs/editor/browser/viewParts/linesDecorations/linesDecorations","vs/css!vs/editor/browser/viewParts/marginDecorations/marginDecorations","vs/css!vs/editor/browser/viewParts/minimap/minimap","vs/css!vs/editor/browser/viewParts/overlayWidgets/overlayWidgets","vs/css!vs/editor/browser/viewParts/rulers/rulers","vs/css!vs/editor/browser/viewParts/scrollDecoration/scrollDecoration","vs/css!vs/editor/browser/viewParts/selections/selections","vs/css!vs/editor/browser/viewParts/viewCursors/viewCursors","vs/css!vs/editor/browser/widget/media/diffEditor","vs/css!vs/editor/browser/widget/media/diffReview","vs/css!vs/editor/browser/widget/media/editor","vs/css!vs/editor/contrib/anchorSelect/browser/anchorSelect","vs/css!vs/editor/contrib/bracketMatching/browser/bracketMatching","vs/css!vs/editor/contrib/codeAction/browser/codeActionWidget","vs/css!vs/editor/contrib/codeAction/browser/lightBulbWidget","vs/css!vs/editor/contrib/codelens/browser/codelensWidget","vs/css!vs/editor/contrib/colorPicker/browser/colorPicker","vs/css!vs/editor/contrib/dnd/browser/dnd","vs/css!vs/editor/contrib/find/browser/findWidget","vs/css!vs/editor/contrib/folding/browser/folding","vs/css!vs/editor/contrib/gotoError/browser/media/gotoErrorWidget","vs/css!vs/editor/contrib/gotoSymbol/browser/link/goToDefinitionAtPosition","vs/css!vs/editor/contrib/gotoSymbol/browser/peek/referencesWidget","vs/css!vs/editor/contrib/inlineCompletions/browser/ghostText","vs/css!vs/editor/contrib/links/browser/links","vs/css!vs/editor/contrib/message/browser/messageController","vs/css!vs/editor/contrib/parameterHints/browser/parameterHints","vs/css!vs/editor/contrib/peekView/browser/media/peekViewWidget","vs/css!vs/editor/contrib/rename/browser/renameInputField","vs/css!vs/editor/contrib/snippet/browser/snippetSession","vs/css!vs/editor/contrib/stickyScroll/browser/stickyScroll","vs/css!vs/editor/contrib/suggest/browser/media/suggest","vs/css!vs/editor/contrib/unicodeHighlighter/browser/bannerController","vs/css!vs/editor/contrib/unicodeHighlighter/browser/unicodeHighlighter","vs/css!vs/editor/contrib/zoneWidget/browser/zoneWidget","vs/css!vs/editor/standalone/browser/accessibilityHelp/accessibilityHelp","vs/css!vs/editor/standalone/browser/iPadShowKeyboard/iPadShowKeyboard","vs/css!vs/editor/standalone/browser/inspectTokens/inspectTokens","vs/css!vs/editor/standalone/browser/quickInput/standaloneQuickInput","vs/css!vs/editor/standalone/browser/standalone-tokens","vs/css!vs/platform/actions/browser/menuEntryActionViewItem","vs/editor/browser/config/charWidthReader","vs/editor/browser/config/migrateOptions","vs/editor/browser/viewParts/lines/rangeUtil","vs/editor/browser/viewParts/minimap/minimapCharRenderer","vs/editor/browser/viewParts/minimap/minimapPreBaked","vs/editor/browser/viewParts/minimap/minimapCharRendererFactory","vs/editor/common/commands/trimTrailingWhitespaceCommand","vs/editor/common/commands/surroundSelectionCommand","vs/editor/common/cursor/cursorContext","vs/editor/common/diff/algorithms/myersDiffAlgorithm","vs/editor/common/diff/algorithms/utils","vs/editor/common/diff/algorithms/dynamicProgrammingDiffing","vs/editor/common/diff/smartLinesDiffComputer","vs/editor/common/diff/standardLinesDiffComputer","vs/editor/common/diff/linesDiffComputers","vs/editor/common/editorTheme","vs/editor/common/languages/linkComputer","vs/editor/common/cursor/cursorColumnSelection","vs/editor/common/cursor/oneCursor","vs/editor/common/cursor/cursorCollection","vs/editor/common/languages/supports/characterPair","vs/editor/common/languages/supports/indentRules","vs/editor/common/languages/supports/inplaceReplaceSupport","vs/editor/common/languages/supports/languageBracketsConfiguration","vs/editor/common/languages/supports/onEnter","vs/editor/common/languages/supports/tokenization","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/nodeReader","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/concat23Trees","vs/editor/common/model/bracketPairsTextModelPart/fixBrackets","vs/editor/common/model/indentationGuesser","vs/editor/common/model/intervalTree","vs/editor/common/model/pieceTreeTextBuffer/rbTreeBase","vs/editor/common/model/mirrorTextModel","vs/editor/common/textModelBracketPairs","vs/editor/common/tokens/contiguousMultilineTokens","vs/editor/common/tokens/contiguousMultilineTokensBuilder","vs/editor/common/tokens/contiguousTokensEditing","vs/editor/common/tokens/contiguousTokensStore","vs/editor/common/tokens/sparseMultilineTokens","vs/editor/common/tokens/sparseTokensStore","vs/editor/browser/viewParts/blockDecorations/blockDecorations","vs/editor/browser/viewParts/decorations/decorations","vs/editor/browser/viewParts/linesDecorations/linesDecorations","vs/editor/browser/viewParts/marginDecorations/marginDecorations","vs/editor/browser/viewParts/overlayWidgets/overlayWidgets","vs/editor/browser/viewParts/viewZones/viewZones","vs/editor/common/viewLayout/linePart","vs/editor/common/viewLayout/linesLayout","vs/editor/common/viewLayout/viewLinesViewportData","vs/editor/common/viewModel/modelLineProjection","vs/editor/common/viewModel/monospaceLineBreaksComputer","vs/editor/browser/viewParts/overviewRuler/overviewRuler","vs/editor/common/viewModel/viewContext","vs/editor/contrib/caretOperations/browser/moveCaretCommand","vs/editor/contrib/comment/browser/lineCommentCommand","vs/editor/contrib/dnd/browser/dragAndDropCommand","vs/editor/contrib/find/browser/replaceAllCommand","vs/editor/contrib/find/browser/replacePattern","vs/editor/contrib/folding/browser/indentRangeProvider","vs/editor/contrib/folding/browser/syntaxRangeProvider","vs/editor/contrib/inPlaceReplace/browser/inPlaceReplaceCommand","vs/editor/contrib/linesOperations/browser/copyLinesCommand","vs/editor/contrib/linesOperations/browser/sortLinesCommand","vs/editor/contrib/smartSelect/browser/wordSelections","vs/editor/contrib/suggest/browser/suggestCommitCharacters","vs/editor/contrib/suggest/browser/suggestOvertypingCapturer","vs/editor/standalone/common/monarch/monarchCompile","vs/nls!vs/base/browser/ui/actionbar/actionViewItems","vs/nls!vs/base/browser/ui/findinput/findInput","vs/nls!vs/base/browser/ui/findinput/findInputToggles","vs/nls!vs/base/browser/ui/findinput/replaceInput","vs/nls!vs/base/browser/ui/iconLabel/iconLabelHover","vs/nls!vs/base/browser/ui/inputbox/inputBox","vs/nls!vs/base/browser/ui/keybindingLabel/keybindingLabel","vs/nls!vs/base/browser/ui/selectBox/selectBoxCustom","vs/nls!vs/base/browser/ui/tree/abstractTree","vs/nls!vs/base/common/actions","vs/nls!vs/base/common/errorMessage","vs/base/common/errorMessage","vs/nls!vs/base/common/keybindingLabels","vs/nls!vs/base/common/platform","vs/base/common/process","vs/base/common/fuzzyScorer","vs/base/common/labels","vs/base/browser/ui/scrollbar/scrollbarVisibilityController","vs/base/browser/ui/tree/compressedObjectTreeModel","vs/base/common/comparers","vs/base/browser/dompurify/dompurify","vs/base/browser/ui/dropdown/dropdown","vs/base/browser/ui/button/button","vs/base/browser/ui/list/rowCache","vs/base/browser/ui/progressbar/progressbar","vs/base/browser/ui/selectBox/selectBoxNative","vs/base/browser/ui/scrollbar/horizontalScrollbar","vs/base/browser/ui/scrollbar/verticalScrollbar","vs/base/browser/ui/list/listPaging","vs/base/browser/ui/table/tableWidget","vs/base/browser/ui/selectBox/selectBoxCustom","vs/base/browser/ui/selectBox/selectBox","vs/base/browser/ui/dropdown/dropdownActionViewItem","vs/base/browser/ui/findinput/replaceInput","vs/base/browser/ui/menu/menu","vs/base/browser/ui/tree/dataTree","vs/base/browser/ui/tree/asyncDataTree","vs/base/browser/defaultWorkerFactory","vs/base/parts/quickinput/browser/quickInputBox","vs/base/parts/storage/common/storage","vs/editor/browser/viewParts/contentWidgets/contentWidgets","vs/editor/browser/view/domLineBreaksComputer","vs/editor/browser/view/viewOverlays","vs/editor/common/languageSelector","vs/editor/common/languageFeatureRegistry","vs/editor/common/languages/supports/electricCharacter","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/bracketPairsTree","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsImpl","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeTextBufferBuilder","vs/editor/common/services/semanticTokensDto","vs/editor/common/tokenizationRegistry","vs/editor/common/model/textModelTokens","vs/editor/common/model/tokenizationTextModelPart","vs/editor/common/services/editorSimpleWorker","vs/editor/common/viewLayout/viewLayout","vs/editor/contrib/colorPicker/browser/colorPickerModel","vs/editor/contrib/folding/browser/foldingModel","vs/editor/contrib/folding/browser/hiddenRangeModel","vs/nls!vs/base/parts/quickinput/browser/quickInput","vs/nls!vs/base/parts/quickinput/browser/quickInputList","vs/base/parts/quickinput/browser/quickInputList","vs/base/parts/quickinput/browser/quickInput","vs/nls!vs/editor/browser/controller/textAreaHandler","vs/nls!vs/editor/browser/coreCommands","vs/nls!vs/editor/browser/editorExtensions","vs/nls!vs/editor/browser/widget/codeEditorWidget","vs/nls!vs/editor/browser/widget/diffEditorWidget","vs/nls!vs/editor/browser/widget/diffReview","vs/nls!vs/editor/browser/widget/inlineDiffMargin","vs/editor/browser/widget/inlineDiffMargin","vs/nls!vs/editor/common/config/editorConfigurationSchema","vs/nls!vs/editor/common/config/editorOptions","vs/editor/browser/viewParts/viewCursors/viewCursor","vs/nls!vs/editor/common/core/editorColorRegistry","vs/nls!vs/editor/common/editorContextKeys","vs/nls!vs/editor/common/languages/modesRegistry","vs/nls!vs/editor/common/model/editStack","vs/nls!vs/editor/common/standaloneStrings","vs/nls!vs/editor/contrib/anchorSelect/browser/anchorSelect","vs/nls!vs/editor/contrib/bracketMatching/browser/bracketMatching","vs/nls!vs/editor/contrib/caretOperations/browser/caretOperations","vs/nls!vs/editor/contrib/caretOperations/browser/transpose","vs/nls!vs/editor/contrib/clipboard/browser/clipboard","vs/nls!vs/editor/contrib/codeAction/browser/codeAction","vs/nls!vs/editor/contrib/codeAction/browser/codeActionCommands","vs/nls!vs/editor/contrib/codeAction/browser/codeActionContributions","vs/nls!vs/editor/contrib/codeAction/browser/codeActionWidget","vs/nls!vs/editor/contrib/codeAction/browser/lightBulbWidget","vs/nls!vs/editor/contrib/codelens/browser/codelensController","vs/nls!vs/editor/contrib/colorPicker/browser/colorPickerWidget","vs/nls!vs/editor/contrib/comment/browser/comment","vs/nls!vs/editor/contrib/contextmenu/browser/contextmenu","vs/nls!vs/editor/contrib/copyPaste/browser/copyPasteContribution","vs/nls!vs/editor/contrib/copyPaste/browser/copyPasteController","vs/nls!vs/editor/contrib/cursorUndo/browser/cursorUndo","vs/nls!vs/editor/contrib/dropIntoEditor/browser/dropIntoEditorContribution","vs/nls!vs/editor/contrib/editorState/browser/keybindingCancellation","vs/nls!vs/editor/contrib/find/browser/findController","vs/nls!vs/editor/contrib/find/browser/findWidget","vs/nls!vs/editor/contrib/folding/browser/folding","vs/nls!vs/editor/contrib/folding/browser/foldingDecorations","vs/nls!vs/editor/contrib/fontZoom/browser/fontZoom","vs/nls!vs/editor/contrib/format/browser/format","vs/nls!vs/editor/contrib/format/browser/formatActions","vs/nls!vs/editor/contrib/gotoError/browser/gotoError","vs/nls!vs/editor/contrib/gotoError/browser/gotoErrorWidget","vs/nls!vs/editor/contrib/gotoSymbol/browser/goToCommands","vs/nls!vs/editor/contrib/gotoSymbol/browser/link/goToDefinitionAtPosition","vs/nls!vs/editor/contrib/gotoSymbol/browser/peek/referencesController","vs/nls!vs/editor/contrib/gotoSymbol/browser/peek/referencesTree","vs/nls!vs/editor/contrib/gotoSymbol/browser/peek/referencesWidget","vs/nls!vs/editor/contrib/gotoSymbol/browser/referencesModel","vs/nls!vs/editor/contrib/gotoSymbol/browser/symbolNavigation","vs/nls!vs/editor/contrib/hover/browser/hover","vs/nls!vs/editor/contrib/hover/browser/markdownHoverParticipant","vs/nls!vs/editor/contrib/hover/browser/markerHoverParticipant","vs/nls!vs/editor/contrib/inPlaceReplace/browser/inPlaceReplace","vs/nls!vs/editor/contrib/indentation/browser/indentation","vs/nls!vs/editor/contrib/inlayHints/browser/inlayHintsHover","vs/nls!vs/editor/contrib/inlineCompletions/browser/ghostTextController","vs/nls!vs/editor/contrib/inlineCompletions/browser/ghostTextHoverParticipant","vs/nls!vs/editor/contrib/lineSelection/browser/lineSelection","vs/nls!vs/editor/contrib/linesOperations/browser/linesOperations","vs/nls!vs/editor/contrib/linkedEditing/browser/linkedEditing","vs/nls!vs/editor/contrib/links/browser/links","vs/nls!vs/editor/contrib/message/browser/messageController","vs/nls!vs/editor/contrib/multicursor/browser/multicursor","vs/nls!vs/editor/contrib/parameterHints/browser/parameterHints","vs/nls!vs/editor/contrib/parameterHints/browser/parameterHintsWidget","vs/nls!vs/editor/contrib/peekView/browser/peekView","vs/nls!vs/editor/contrib/quickAccess/browser/gotoLineQuickAccess","vs/nls!vs/editor/contrib/quickAccess/browser/gotoSymbolQuickAccess","vs/nls!vs/editor/contrib/readOnlyMessage/browser/contribution","vs/nls!vs/editor/contrib/rename/browser/rename","vs/nls!vs/editor/contrib/rename/browser/renameInputField","vs/nls!vs/editor/contrib/smartSelect/browser/smartSelect","vs/nls!vs/editor/contrib/snippet/browser/snippetController2","vs/nls!vs/editor/contrib/snippet/browser/snippetVariables","vs/nls!vs/editor/contrib/stickyScroll/browser/stickyScrollActions","vs/nls!vs/editor/contrib/suggest/browser/suggest","vs/nls!vs/editor/contrib/suggest/browser/suggestController","vs/nls!vs/editor/contrib/suggest/browser/suggestWidget","vs/nls!vs/editor/contrib/suggest/browser/suggestWidgetDetails","vs/nls!vs/editor/contrib/suggest/browser/suggestWidgetRenderer","vs/nls!vs/editor/contrib/suggest/browser/suggestWidgetStatus","vs/nls!vs/editor/contrib/symbolIcons/browser/symbolIcons","vs/nls!vs/editor/contrib/toggleTabFocusMode/browser/toggleTabFocusMode","vs/nls!vs/editor/contrib/tokenization/browser/tokenization","vs/nls!vs/editor/contrib/unicodeHighlighter/browser/unicodeHighlighter","vs/nls!vs/editor/contrib/unusualLineTerminators/browser/unusualLineTerminators","vs/nls!vs/editor/contrib/wordHighlighter/browser/wordHighlighter","vs/nls!vs/editor/contrib/wordOperations/browser/wordOperations","vs/nls!vs/platform/action/common/actionCommonCategories","vs/nls!vs/platform/actions/browser/menuEntryActionViewItem","vs/nls!vs/platform/actions/common/menuService","vs/nls!vs/platform/configuration/common/configurationRegistry","vs/nls!vs/platform/contextkey/browser/contextKeyService","vs/nls!vs/platform/contextkey/common/contextkeys","vs/nls!vs/platform/history/browser/contextScopedHistoryWidget","vs/nls!vs/platform/keybinding/common/abstractKeybindingService","vs/nls!vs/platform/list/browser/listService","vs/nls!vs/platform/markers/common/markers","vs/nls!vs/platform/quickinput/browser/commandsQuickAccess","vs/nls!vs/platform/quickinput/browser/helpQuickAccess","vs/nls!vs/platform/theme/common/colorRegistry","vs/nls!vs/platform/theme/common/iconRegistry","vs/nls!vs/platform/undoRedo/common/undoRedoService","vs/nls!vs/platform/workspace/common/workspace","vs/platform/action/common/action","vs/platform/action/common/actionCommonCategories","vs/platform/editor/common/editor","vs/platform/extensions/common/extensions","vs/platform/history/browser/historyWidgetKeybindingHint","vs/platform/instantiation/common/graph","vs/editor/browser/widget/workerBasedDocumentDiffProvider","vs/editor/common/services/languageFeaturesService","vs/editor/contrib/links/browser/getLinks","vs/editor/standalone/browser/colorizer","vs/editor/contrib/parameterHints/browser/parameterHintsModel","vs/editor/contrib/suggest/browser/suggestAlternatives","vs/editor/contrib/suggest/browser/wordContextKey","vs/editor/browser/config/editorConfiguration","vs/platform/instantiation/common/instantiationService","vs/platform/keybinding/common/abstractKeybindingService","vs/platform/keybinding/common/baseResolvedKeybinding","vs/platform/keybinding/common/keybindingResolver","vs/platform/keybinding/common/usLayoutResolvedKeybinding","vs/platform/accessibility/browser/accessibilityService","vs/platform/contextview/browser/contextViewService","vs/platform/clipboard/browser/clipboardService","vs/editor/contrib/gotoError/browser/markerNavigationService","vs/platform/markers/common/markerService","vs/editor/browser/services/openerService","vs/editor/contrib/documentSymbols/browser/documentSymbols","vs/platform/quickinput/browser/pickerQuickAccess","vs/platform/dnd/browser/dnd","vs/editor/browser/services/webWorker","vs/editor/common/services/getIconClasses","vs/editor/common/services/languagesAssociations","vs/editor/common/services/languagesRegistry","vs/editor/common/services/languageService","vs/editor/contrib/linesOperations/browser/moveLinesCommand","vs/editor/contrib/hover/browser/marginHover","vs/platform/configuration/common/configurations","vs/platform/quickinput/browser/helpQuickAccess","vs/editor/standalone/browser/quickAccess/standaloneHelpQuickAccess","vs/platform/quickinput/browser/quickAccess","vs/editor/contrib/codelens/browser/codeLensCache","vs/platform/contextkey/browser/contextKeyService","vs/platform/quickinput/browser/commandsQuickAccess","vs/editor/contrib/quickAccess/browser/commandsQuickAccess","vs/editor/browser/controller/mouseHandler","vs/editor/browser/controller/pointerHandler","vs/editor/browser/viewParts/lines/viewLines","vs/platform/contextview/browser/contextMenuHandler","vs/editor/browser/services/abstractCodeEditorService","vs/editor/browser/viewParts/editorScrollbar/editorScrollbar","vs/editor/browser/viewParts/minimap/minimap","vs/editor/browser/viewParts/scrollDecoration/scrollDecoration","vs/editor/browser/viewParts/selections/selections","vs/editor/browser/viewParts/currentLineHighlight/currentLineHighlight","vs/editor/browser/viewParts/indentGuides/indentGuides","vs/editor/browser/controller/textAreaHandler","vs/editor/browser/viewParts/overviewRuler/decorationsOverviewRuler","vs/editor/browser/viewParts/rulers/rulers","vs/editor/browser/viewParts/viewCursors/viewCursors","vs/editor/common/model/bracketPairsTextModelPart/colorizedBracketPairsDecorationProvider","vs/editor/common/services/markerDecorationsService","vs/editor/contrib/codeAction/browser/lightBulbWidget","vs/editor/contrib/colorPicker/browser/colorPickerWidget","vs/editor/contrib/gotoSymbol/browser/peek/referencesTree","vs/editor/contrib/inlineCompletions/browser/ghostTextWidget","vs/editor/contrib/quickAccess/browser/gotoLineQuickAccess","vs/editor/contrib/quickAccess/browser/gotoSymbolQuickAccess","vs/editor/contrib/rename/browser/renameInputField","vs/editor/standalone/common/themes","vs/editor/browser/services/markerDecorations","vs/editor/browser/view/viewController","vs/editor/browser/view","vs/editor/contrib/anchorSelect/browser/anchorSelect","vs/editor/contrib/caretOperations/browser/caretOperations","vs/editor/contrib/caretOperations/browser/transpose","vs/editor/contrib/clipboard/browser/clipboard","vs/editor/contrib/comment/browser/comment","vs/editor/contrib/contextmenu/browser/contextmenu","vs/editor/contrib/cursorUndo/browser/cursorUndo","vs/editor/contrib/editorState/browser/keybindingCancellation","vs/editor/contrib/codeAction/browser/codeActionKeybindingResolver","vs/editor/contrib/codeAction/browser/codeActionModel","vs/editor/contrib/copyPaste/browser/copyPasteController","vs/editor/contrib/copyPaste/browser/copyPasteContribution","vs/editor/contrib/fontZoom/browser/fontZoom","vs/editor/contrib/format/browser/formatActions","vs/editor/contrib/gotoSymbol/browser/symbolNavigation","vs/editor/contrib/indentation/browser/indentation","vs/editor/contrib/lineSelection/browser/lineSelection","vs/editor/contrib/linesOperations/browser/linesOperations","vs/editor/contrib/codeAction/browser/codeActionUi","vs/editor/contrib/codeAction/browser/codeActionContributions","vs/editor/contrib/readOnlyMessage/browser/contribution","vs/editor/contrib/rename/browser/rename","vs/editor/contrib/smartSelect/browser/smartSelect","vs/editor/contrib/stickyScroll/browser/stickyScrollActions","vs/editor/contrib/suggest/browser/suggestInlineCompletions","vs/editor/contrib/tokenization/browser/tokenization","vs/editor/contrib/unusualLineTerminators/browser/unusualLineTerminators","vs/editor/contrib/wordPartOperations/browser/wordPartOperations","vs/editor/standalone/browser/accessibilityHelp/accessibilityHelp","vs/editor/standalone/browser/iPadShowKeyboard/iPadShowKeyboard","vs/editor/standalone/browser/inspectTokens/inspectTokens","vs/editor/standalone/browser/quickAccess/standaloneCommandsQuickAccess","vs/editor/standalone/browser/quickAccess/standaloneGotoLineQuickAccess","vs/editor/standalone/browser/quickAccess/standaloneGotoSymbolQuickAccess","vs/editor/contrib/suggest/browser/suggestWidgetStatus","vs/platform/actions/common/menuService","vs/platform/contextview/browser/contextMenuService","vs/platform/opener/browser/link","vs/platform/quickinput/browser/quickInput","vs/editor/standalone/browser/quickInput/standaloneQuickInputService","vs/platform/severityIcon/common/severityIcon","vs/editor/browser/widget/diffReview","vs/editor/contrib/parameterHints/browser/parameterHintsWidget","vs/editor/contrib/parameterHints/browser/parameterHints","vs/editor/contrib/suggest/browser/suggestWidgetRenderer","vs/editor/contrib/unicodeHighlighter/browser/bannerController","vs/platform/theme/browser/iconsStyleSheet","vs/editor/standalone/browser/toggleHighContrast/toggleHighContrast","vs/editor/common/viewModel/viewModelLines","vs/editor/common/viewModel/viewModelImpl","vs/editor/contrib/bracketMatching/browser/bracketMatching","vs/editor/contrib/codelens/browser/codelensWidget","vs/editor/contrib/codelens/browser/codelensController","vs/editor/contrib/colorPicker/browser/colorHoverParticipant","vs/editor/contrib/dnd/browser/dnd","vs/editor/contrib/find/browser/findDecorations","vs/editor/contrib/find/browser/findOptionsWidget","vs/editor/contrib/find/browser/findState","vs/editor/contrib/find/browser/findWidget","vs/editor/contrib/folding/browser/foldingDecorations","vs/editor/contrib/hover/browser/contentHover","vs/editor/contrib/inPlaceReplace/browser/inPlaceReplace","vs/editor/contrib/linkedEditing/browser/linkedEditing","vs/editor/contrib/links/browser/links","vs/editor/contrib/multicursor/browser/multicursor","vs/editor/contrib/stickyScroll/browser/stickyScrollProvider","vs/editor/contrib/suggest/browser/suggestWidget","vs/editor/contrib/viewportSemanticTokens/browser/viewportSemanticTokens","vs/editor/contrib/wordHighlighter/browser/wordHighlighter","vs/editor/contrib/zoneWidget/browser/zoneWidget","vs/editor/contrib/gotoError/browser/gotoErrorWidget","vs/editor/contrib/gotoSymbol/browser/peek/referencesWidget","vs/editor/contrib/hover/browser/markerHoverParticipant","vs/editor/contrib/colorPicker/browser/colorContributions","vs/editor/contrib/inlayHints/browser/inlayHintsHover","vs/editor/contrib/inlayHints/browser/inlayHintsContribution","vs/editor/contrib/stickyScroll/browser/stickyScrollWidget","vs/editor/contrib/stickyScroll/browser/stickyScrollController","vs/editor/contrib/stickyScroll/browser/stickyScrollContribution","vs/editor/standalone/browser/referenceSearch/standaloneReferenceSearch","vs/platform/undoRedo/common/undoRedoService","vs/editor/contrib/dropIntoEditor/browser/dropIntoEditorContribution","vs/editor/contrib/snippet/browser/snippetVariables","vs/editor/contrib/suggest/browser/suggestModel","vs/editor/contrib/inlineCompletions/browser/suggestWidgetInlineCompletionProvider","vs/editor/contrib/inlineCompletions/browser/suggestWidgetPreviewModel","vs/editor/contrib/inlineCompletions/browser/ghostTextModel","vs/editor/contrib/inlineCompletions/browser/ghostTextHoverParticipant","vs/editor/contrib/inlineCompletions/browser/ghostText.contribution","vs/editor/contrib/unicodeHighlighter/browser/unicodeHighlighter","vs/editor/editor.all","vs/editor/standalone/browser/standaloneCodeEditor","vs/editor/standalone/browser/standaloneEditor","vs/editor/standalone/browser/standaloneLanguages","vs/editor/editor.api","vs/css","vs/editor/edcore.main"],re=function(q){for(var e=[],w=0,m=q.length;w<m;w++)e[w]=se[q[w]];return e};define(se[811],re([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.load=void 0;function w(b,C,h,g){if(g=g||{},(g["vs/css"]||{}).disabled){h({});return}const i=C.toUrl(b+".css");m(b,i,()=>{h({})},n=>{typeof h.error=="function"&&h.error("Could not find "+i+".")})}e.load=w;function m(b,C,h,g){if(k(b,C)){h();return}D(b,C,h,g)}function k(b,C){const h=document.getElementsByTagName("link");for(let g=0,t=h.length;g<t;g++){const i=h[g].getAttribute("data-name"),n=h[g].getAttribute("href");if(i===b||n===C)return!0}return!1}function D(b,C,h,g){const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("type","text/css"),t.setAttribute("data-name",b),L(b,t,h,g),t.setAttribute("href",C),(document.head||document.getElementsByTagName("head")[0]).appendChild(t)}function L(b,C,h,g){const t=()=>{C.removeEventListener("load",i),C.removeEventListener("error",n)},i=o=>{t(),h()},n=o=>{t(),g(o)};C.addEventListener("load",i),C.addEventListener("error",n)}});var Se=this&&this.__awaiter||function(q,e,w,m){function k(D){return D instanceof w?D:new w(function(L){L(D)})}return new(w||(w=Promise))(function(D,L){function b(g){try{h(m.next(g))}catch(t){L(t)}}function C(g){try{h(m.throw(g))}catch(t){L(t)}}function h(g){g.done?D(g.value):k(g.value).then(b,C)}h((m=m.apply(q,e||[])).next())})};define(se[4],re([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.load=e.create=e.setPseudoTranslation=e.getConfiguredDefaultLocale=e.localize=void 0;let w=typeof document<"u"&&document.location&&document.location.hash.indexOf("pseudo=true")>=0;const m="i-default";function k(o,l){let c;return l.length===0?c=o:c=o.replace(/\{(\d+)\}/g,(d,r)=>{const s=r[0],a=l[s];let u=d;return typeof a=="string"?u=a:(typeof a=="number"||typeof a=="boolean"||a===void 0||a===null)&&(u=String(a)),u}),w&&(c="\uFF3B"+c.replace(/[aouei]/g,"$&$&")+"\uFF3D"),c}function D(o,l){let c=o[l];return c||(c=o["*"],c)?c:null}function L(o){return o.charAt(o.length-1)==="/"?o:o+"/"}function b(o,l,c){return Se(this,void 0,void 0,function*(){const d=L(o)+L(l)+"vscode/"+L(c),r=yield fetch(d);if(r.ok)return yield r.json();throw new Error(`${r.status} - ${r.statusText}`)})}function C(o){return function(l,c){const d=Array.prototype.slice.call(arguments,2);return k(o[l],d)}}function h(o,l,...c){return k(l,c)}e.localize=h;function g(o){}e.getConfiguredDefaultLocale=g;function t(o){w=o}e.setPseudoTranslation=t;function i(o,l){var c;return{localize:C(l[o]),getConfiguredDefaultLocale:(c=l.getConfiguredDefaultLocale)!==null&&c!==void 0?c:d=>{}}}e.create=i;function n(o,l,c,d){var r;const s=(r=d["vs/nls"])!==null&&r!==void 0?r:{};if(!o||o.length===0)return c({localize:h,getConfiguredDefaultLocale:()=>{var f;return(f=s.availableLanguages)===null||f===void 0?void 0:f["*"]}});const a=s.availableLanguages?D(s.availableLanguages,o):null,u=a===null||a===m;let p=".nls";u||(p=p+"."+a);const S=f=>{Array.isArray(f)?f.localize=C(f):f.localize=C(f[o]),f.getConfiguredDefaultLocale=()=>{var v;return(v=s.availableLanguages)===null||v===void 0?void 0:v["*"]},c(f)};typeof s.loadBundle=="function"?s.loadBundle(o,a,(f,v)=>{f?l([o+".nls"],S):S(v)}):s.translationServiceUrl&&!u?Se(this,void 0,void 0,function*(){var f;try{const v=yield b(s.translationServiceUrl,a,o);return S(v)}catch(v){if(!a.includes("-"))return console.error(v),l([o+".nls"],S);try{const _=a.split("-")[0],y=yield b(s.translationServiceUrl,_,o);return(f=s.availableLanguages)!==null&&f!==void 0||(s.availableLanguages={}),s.availableLanguages["*"]=_,S(y)}catch(_){return console.error(_),l([o+".nls"],S)}}}):l([o+p],S,f=>{if(p===".nls"){console.error("Failed trying to load default language strings",f);return}console.error(`Failed to load message bundle for language ${a}. Falling back to the default language:`,f),l([o+".nls"],S)})}e.load=n});/*! @license DOMPurify 2.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.3.1/LICENSE */function sn(q){if(Array.isArray(q)){for(var e=0,w=Array(q.length);e<q.length;e++)w[e]=q[e];return w}else return Array.from(q)}var rn=Object.hasOwnProperty,vi=Object.setPrototypeOf,an=Object.isFrozen,ln=Object.getPrototypeOf,dn=Object.getOwnPropertyDescriptor,ht=Object.freeze,Ct=Object.seal,cn=Object.create,Ci=typeof Reflect<"u"&&Reflect,Wt=Ci.apply,Zt=Ci.construct;Wt||(Wt=function(e,w,m){return e.apply(w,m)}),ht||(ht=function(e){return e}),Ct||(Ct=function(e){return e}),Zt||(Zt=function(e,w){return new(Function.prototype.bind.apply(e,[null].concat(sn(w))))});var un=mt(Array.prototype.forEach),bi=mt(Array.prototype.pop),Mt=mt(Array.prototype.push),yt=mt(String.prototype.toLowerCase),_i=mt(String.prototype.match),Lt=mt(String.prototype.replace),hn=mt(String.prototype.indexOf),gn=mt(String.prototype.trim),bt=mt(RegExp.prototype.test),Si=fn(TypeError);function mt(q){return function(e){for(var w=arguments.length,m=Array(w>1?w-1:0),k=1;k<w;k++)m[k-1]=arguments[k];return Wt(q,e,m)}}function fn(q){return function(){for(var e=arguments.length,w=Array(e),m=0;m<e;m++)w[m]=arguments[m];return Zt(q,w)}}function et(q,e){vi&&vi(q,null);for(var w=e.length;w--;){var m=e[w];if(typeof m=="string"){var k=yt(m);k!==m&&(an(e)||(e[w]=k),m=k)}q[m]=!0}return q}function Et(q){var e=cn(null),w=void 0;for(w in q)Wt(rn,q,[w])&&(e[w]=q[w]);return e}function xt(q,e){for(;q!==null;){var w=dn(q,e);if(w){if(w.get)return mt(w.get);if(typeof w.value=="function")return mt(w.value)}q=ln(q)}function m(k){return console.warn("fallback value for",k),null}return m}var wi=ht(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Qt=ht(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Xt=ht(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),mn=ht(["animate","color-profile","cursor","discard","fedropshadow","feimage","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Jt=ht(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),pn=ht(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Li=ht(["#text"]),yi=ht(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),ei=ht(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Ei=ht(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),zt=ht(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),vn=Ct(/\{\{[\s\S]*|[\s\S]*\}\}/gm),Cn=Ct(/<%[\s\S]*|[\s\S]*%>/gm),bn=Ct(/^data-[\-\w.\u00B7-\uFFFF]/),_n=Ct(/^aria-[\-\w]+$/),Sn=Ct(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),wn=Ct(/^(?:\w+script|data):/i),Ln=Ct(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),At=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(q){return typeof q}:function(q){return q&&typeof Symbol=="function"&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q};function vt(q){if(Array.isArray(q)){for(var e=0,w=Array(q.length);e<q.length;e++)w[e]=q[e];return w}else return Array.from(q)}var yn=function(){return typeof window>"u"?null:window},En=function(e,w){if((typeof e>"u"?"undefined":At(e))!=="object"||typeof e.createPolicy!="function")return null;var m=null,k="data-tt-policy-suffix";w.currentScript&&w.currentScript.hasAttribute(k)&&(m=w.currentScript.getAttribute(k));var D="dompurify"+(m?"#"+m:"");try{return e.createPolicy(D,{createHTML:function(b){return b}})}catch{return console.warn("TrustedTypes policy "+D+" could not be created."),null}};function Di(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:yn(),e=function(ke){return Di(ke)};if(e.version="2.3.1",e.removed=[],!q||!q.document||q.document.nodeType!==9)return e.isSupported=!1,e;var w=q.document,m=q.document,k=q.DocumentFragment,D=q.HTMLTemplateElement,L=q.Node,b=q.Element,C=q.NodeFilter,h=q.NamedNodeMap,g=h===void 0?q.NamedNodeMap||q.MozNamedAttrMap:h,t=q.Text,i=q.Comment,n=q.DOMParser,o=q.trustedTypes,l=b.prototype,c=xt(l,"cloneNode"),d=xt(l,"nextSibling"),r=xt(l,"childNodes"),s=xt(l,"parentNode");if(typeof D=="function"){var a=m.createElement("template");a.content&&a.content.ownerDocument&&(m=a.content.ownerDocument)}var u=En(o,w),p=u&&ae?u.createHTML(""):"",S=m,f=S.implementation,v=S.createNodeIterator,_=S.createDocumentFragment,y=S.getElementsByTagName,E=w.importNode,T={};try{T=Et(m).documentMode?m.documentMode:{}}catch{}var I={};e.isSupported=typeof s=="function"&&f&&typeof f.createHTMLDocument<"u"&&T!==9;var R=vn,F=Cn,O=bn,M=_n,N=wn,A=Ln,B=Sn,W=null,x=et({},[].concat(vt(wi),vt(Qt),vt(Xt),vt(Jt),vt(Li))),P=null,X=et({},[].concat(vt(yi),vt(ei),vt(Ei),vt(zt))),ie=null,K=null,G=!0,Q=!0,ne=!1,Z=!1,ee=!1,le=!1,V=!1,$=!1,oe=!1,U=!0,ae=!1,z=!0,J=!0,Y=!1,H={},j=null,de=et({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),ue=null,ce=et({},["audio","video","img","source","image","track"]),ge=null,ve=et({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),_e="http://www.w3.org/1998/Math/MathML",ye="http://www.w3.org/2000/svg",Ee="http://www.w3.org/1999/xhtml",Te=Ee,we=!1,Ce=null,te=m.createElement("form"),he=function(ke){Ce&&Ce===ke||((!ke||(typeof ke>"u"?"undefined":At(ke))!=="object")&&(ke={}),ke=Et(ke),W="ALLOWED_TAGS"in ke?et({},ke.ALLOWED_TAGS):x,P="ALLOWED_ATTR"in ke?et({},ke.ALLOWED_ATTR):X,ge="ADD_URI_SAFE_ATTR"in ke?et(Et(ve),ke.ADD_URI_SAFE_ATTR):ve,ue="ADD_DATA_URI_TAGS"in ke?et(Et(ce),ke.ADD_DATA_URI_TAGS):ce,j="FORBID_CONTENTS"in ke?et({},ke.FORBID_CONTENTS):de,ie="FORBID_TAGS"in ke?et({},ke.FORBID_TAGS):{},K="FORBID_ATTR"in ke?et({},ke.FORBID_ATTR):{},H="USE_PROFILES"in ke?ke.USE_PROFILES:!1,G=ke.ALLOW_ARIA_ATTR!==!1,Q=ke.ALLOW_DATA_ATTR!==!1,ne=ke.ALLOW_UNKNOWN_PROTOCOLS||!1,Z=ke.SAFE_FOR_TEMPLATES||!1,ee=ke.WHOLE_DOCUMENT||!1,$=ke.RETURN_DOM||!1,oe=ke.RETURN_DOM_FRAGMENT||!1,U=ke.RETURN_DOM_IMPORT!==!1,ae=ke.RETURN_TRUSTED_TYPE||!1,V=ke.FORCE_BODY||!1,z=ke.SANITIZE_DOM!==!1,J=ke.KEEP_CONTENT!==!1,Y=ke.IN_PLACE||!1,B=ke.ALLOWED_URI_REGEXP||B,Te=ke.NAMESPACE||Ee,Z&&(Q=!1),oe&&($=!0),H&&(W=et({},[].concat(vt(Li))),P=[],H.html===!0&&(et(W,wi),et(P,yi)),H.svg===!0&&(et(W,Qt),et(P,ei),et(P,zt)),H.svgFilters===!0&&(et(W,Xt),et(P,ei),et(P,zt)),H.mathMl===!0&&(et(W,Jt),et(P,Ei),et(P,zt))),ke.ADD_TAGS&&(W===x&&(W=Et(W)),et(W,ke.ADD_TAGS)),ke.ADD_ATTR&&(P===X&&(P=Et(P)),et(P,ke.ADD_ATTR)),ke.ADD_URI_SAFE_ATTR&&et(ge,ke.ADD_URI_SAFE_ATTR),ke.FORBID_CONTENTS&&(j===de&&(j=Et(j)),et(j,ke.FORBID_CONTENTS)),J&&(W["#text"]=!0),ee&&et(W,["html","head","body"]),W.table&&(et(W,["tbody"]),delete ie.tbody),ht&&ht(ke),Ce=ke)},be=et({},["mi","mo","mn","ms","mtext"]),me=et({},["foreignobject","desc","title","annotation-xml"]),pe=et({},Qt);et(pe,Xt),et(pe,mn);var Le=et({},Jt);et(Le,pn);var Ie=function(ke){var Oe=s(ke);(!Oe||!Oe.tagName)&&(Oe={namespaceURI:Ee,tagName:"template"});var xe=yt(ke.tagName),qe=yt(Oe.tagName);if(ke.namespaceURI===ye)return Oe.namespaceURI===Ee?xe==="svg":Oe.namespaceURI===_e?xe==="svg"&&(qe==="annotation-xml"||be[qe]):Boolean(pe[xe]);if(ke.namespaceURI===_e)return Oe.namespaceURI===Ee?xe==="math":Oe.namespaceURI===ye?xe==="math"&&me[qe]:Boolean(Le[xe]);if(ke.namespaceURI===Ee){if(Oe.namespaceURI===ye&&!me[qe]||Oe.namespaceURI===_e&&!be[qe])return!1;var Ke=et({},["title","style","font","a","script"]);return!Le[xe]&&(Ke[xe]||!pe[xe])}return!1},Ne=function(ke){Mt(e.removed,{element:ke});try{ke.parentNode.removeChild(ke)}catch{try{ke.outerHTML=p}catch{ke.remove()}}},Pe=function(ke,Oe){try{Mt(e.removed,{attribute:Oe.getAttributeNode(ke),from:Oe})}catch{Mt(e.removed,{attribute:null,from:Oe})}if(Oe.removeAttribute(ke),ke==="is"&&!P[ke])if($||oe)try{Ne(Oe)}catch{}else try{Oe.setAttribute(ke,"")}catch{}},Re=function(ke){var Oe=void 0,xe=void 0;if(V)ke="<remove></remove>"+ke;else{var qe=_i(ke,/^[\r\n\t ]+/);xe=qe&&qe[0]}var Ke=u?u.createHTML(ke):ke;if(Te===Ee)try{Oe=new n().parseFromString(Ke,"text/html")}catch{}if(!Oe||!Oe.documentElement){Oe=f.createDocument(Te,"template",null);try{Oe.documentElement.innerHTML=we?"":Ke}catch{}}var Qe=Oe.body||Oe.documentElement;return ke&&xe&&Qe.insertBefore(m.createTextNode(xe),Qe.childNodes[0]||null),Te===Ee?y.call(Oe,ee?"html":"body")[0]:ee?Oe.documentElement:Qe},Ae=function(ke){return v.call(ke.ownerDocument||ke,ke,C.SHOW_ELEMENT|C.SHOW_COMMENT|C.SHOW_TEXT,null,!1)},Be=function(ke){return ke instanceof t||ke instanceof i?!1:typeof ke.nodeName!="string"||typeof ke.textContent!="string"||typeof ke.removeChild!="function"||!(ke.attributes instanceof g)||typeof ke.removeAttribute!="function"||typeof ke.setAttribute!="function"||typeof ke.namespaceURI!="string"||typeof ke.insertBefore!="function"},Fe=function(ke){return(typeof L>"u"?"undefined":At(L))==="object"?ke instanceof L:ke&&(typeof ke>"u"?"undefined":At(ke))==="object"&&typeof ke.nodeType=="number"&&typeof ke.nodeName=="string"},He=function(ke,Oe,xe){!I[ke]||un(I[ke],function(qe){qe.call(e,Oe,xe,Ce)})},$e=function(ke){var Oe=void 0;if(He("beforeSanitizeElements",ke,null),Be(ke)||_i(ke.nodeName,/[\u0080-\uFFFF]/))return Ne(ke),!0;var xe=yt(ke.nodeName);if(He("uponSanitizeElement",ke,{tagName:xe,allowedTags:W}),!Fe(ke.firstElementChild)&&(!Fe(ke.content)||!Fe(ke.content.firstElementChild))&&bt(/<[/\w]/g,ke.innerHTML)&&bt(/<[/\w]/g,ke.textContent)||xe==="select"&&bt(/<template/i,ke.innerHTML))return Ne(ke),!0;if(!W[xe]||ie[xe]){if(J&&!j[xe]){var qe=s(ke)||ke.parentNode,Ke=r(ke)||ke.childNodes;if(Ke&&qe)for(var Qe=Ke.length,Xe=Qe-1;Xe>=0;--Xe)qe.insertBefore(c(Ke[Xe],!0),d(ke))}return Ne(ke),!0}return ke instanceof b&&!Ie(ke)||(xe==="noscript"||xe==="noembed")&&bt(/<\/no(script|embed)/i,ke.innerHTML)?(Ne(ke),!0):(Z&&ke.nodeType===3&&(Oe=ke.textContent,Oe=Lt(Oe,R," "),Oe=Lt(Oe,F," "),ke.textContent!==Oe&&(Mt(e.removed,{element:ke.cloneNode()}),ke.textContent=Oe)),He("afterSanitizeElements",ke,null),!1)},it=function(ke,Oe,xe){if(z&&(Oe==="id"||Oe==="name")&&(xe in m||xe in te))return!1;if(!(Q&&!K[Oe]&&bt(O,Oe))){if(!(G&&bt(M,Oe))){if(!P[Oe]||K[Oe])return!1;if(!ge[Oe]){if(!bt(B,Lt(xe,A,""))){if(!((Oe==="src"||Oe==="xlink:href"||Oe==="href")&&ke!=="script"&&hn(xe,"data:")===0&&ue[ke])){if(!(ne&&!bt(N,Lt(xe,A,"")))){if(xe)return!1}}}}}}return!0},tt=function(ke){var Oe=void 0,xe=void 0,qe=void 0,Ke=void 0;He("beforeSanitizeAttributes",ke,null);var Qe=ke.attributes;if(!!Qe){var Xe={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:P};for(Ke=Qe.length;Ke--;){Oe=Qe[Ke];var Je=Oe,st=Je.name,Ue=Je.namespaceURI;if(xe=gn(Oe.value),qe=yt(st),Xe.attrName=qe,Xe.attrValue=xe,Xe.keepAttr=!0,Xe.forceKeepAttr=void 0,He("uponSanitizeAttribute",ke,Xe),xe=Xe.attrValue,!Xe.forceKeepAttr&&(Pe(st,ke),!!Xe.keepAttr)){if(bt(/\/>/i,xe)){Pe(st,ke);continue}Z&&(xe=Lt(xe,R," "),xe=Lt(xe,F," "));var Me=ke.nodeName.toLowerCase();if(!!it(Me,qe,xe))try{Ue?ke.setAttributeNS(Ue,st,xe):ke.setAttribute(st,xe),bi(e.removed)}catch{}}}He("afterSanitizeAttributes",ke,null)}},ot=function ze(ke){var Oe=void 0,xe=Ae(ke);for(He("beforeSanitizeShadowDOM",ke,null);Oe=xe.nextNode();)He("uponSanitizeShadowNode",Oe,null),!$e(Oe)&&(Oe.content instanceof k&&ze(Oe.content),tt(Oe));He("afterSanitizeShadowDOM",ke,null)};return e.sanitize=function(ze,ke){var Oe=void 0,xe=void 0,qe=void 0,Ke=void 0,Qe=void 0;if(we=!ze,we&&(ze="<!-->"),typeof ze!="string"&&!Fe(ze)){if(typeof ze.toString!="function")throw Si("toString is not a function");if(ze=ze.toString(),typeof ze!="string")throw Si("dirty is not a string, aborting")}if(!e.isSupported){if(At(q.toStaticHTML)==="object"||typeof q.toStaticHTML=="function"){if(typeof ze=="string")return q.toStaticHTML(ze);if(Fe(ze))return q.toStaticHTML(ze.outerHTML)}return ze}if(le||he(ke),e.removed=[],typeof ze=="string"&&(Y=!1),!Y)if(ze instanceof L)Oe=Re("<!---->"),xe=Oe.ownerDocument.importNode(ze,!0),xe.nodeType===1&&xe.nodeName==="BODY"||xe.nodeName==="HTML"?Oe=xe:Oe.appendChild(xe);else{if(!$&&!Z&&!ee&&ze.indexOf("<")===-1)return u&&ae?u.createHTML(ze):ze;if(Oe=Re(ze),!Oe)return $?null:p}Oe&&V&&Ne(Oe.firstChild);for(var Xe=Ae(Y?ze:Oe);qe=Xe.nextNode();)qe.nodeType===3&&qe===Ke||$e(qe)||(qe.content instanceof k&&ot(qe.content),tt(qe),Ke=qe);if(Ke=null,Y)return ze;if($){if(oe)for(Qe=_.call(Oe.ownerDocument);Oe.firstChild;)Qe.appendChild(Oe.firstChild);else Qe=Oe;return U&&(Qe=E.call(w,Qe,!0)),Qe}var Je=ee?Oe.outerHTML:Oe.innerHTML;return Z&&(Je=Lt(Je,R," "),Je=Lt(Je,F," ")),u&&ae?u.createHTML(Je):Je},e.setConfig=function(ze){he(ze),le=!0},e.clearConfig=function(){Ce=null,le=!1},e.isValidAttribute=function(ze,ke,Oe){Ce||he({});var xe=yt(ze),qe=yt(ke);return it(xe,qe,Oe)},e.addHook=function(ze,ke){typeof ke=="function"&&(I[ze]=I[ze]||[],Mt(I[ze],ke))},e.removeHook=function(ze){I[ze]&&bi(I[ze])},e.removeHooks=function(ze){I[ze]&&(I[ze]=[])},e.removeAllHooks=function(){I={}},e}var Dn=Di();define("vs/base/browser/dompurify/dompurify",function(){return Dn}),define(se[35],re([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createFastDomNode=e.FastDomNode=void 0;class w{constructor(L){this.domNode=L,this._maxWidth="",this._width="",this._height="",this._top="",this._left="",this._bottom="",this._right="",this._fontFamily="",this._fontWeight="",this._fontSize="",this._fontStyle="",this._fontFeatureSettings="",this._textDecoration="",this._lineHeight="",this._letterSpacing="",this._className="",this._display="",this._position="",this._visibility="",this._color="",this._backgroundColor="",this._layerHint=!1,this._contain="none",this._boxShadow=""}setMaxWidth(L){const b=m(L);this._maxWidth!==b&&(this._maxWidth=b,this.domNode.style.maxWidth=this._maxWidth)}setWidth(L){const b=m(L);this._width!==b&&(this._width=b,this.domNode.style.width=this._width)}setHeight(L){const b=m(L);this._height!==b&&(this._height=b,this.domNode.style.height=this._height)}setTop(L){const b=m(L);this._top!==b&&(this._top=b,this.domNode.style.top=this._top)}setLeft(L){const b=m(L);this._left!==b&&(this._left=b,this.domNode.style.left=this._left)}setBottom(L){const b=m(L);this._bottom!==b&&(this._bottom=b,this.domNode.style.bottom=this._bottom)}setRight(L){const b=m(L);this._right!==b&&(this._right=b,this.domNode.style.right=this._right)}setFontFamily(L){this._fontFamily!==L&&(this._fontFamily=L,this.domNode.style.fontFamily=this._fontFamily)}setFontWeight(L){this._fontWeight!==L&&(this._fontWeight=L,this.domNode.style.fontWeight=this._fontWeight)}setFontSize(L){const b=m(L);this._fontSize!==b&&(this._fontSize=b,this.domNode.style.fontSize=this._fontSize)}setFontStyle(L){this._fontStyle!==L&&(this._fontStyle=L,this.domNode.style.fontStyle=this._fontStyle)}setFontFeatureSettings(L){this._fontFeatureSettings!==L&&(this._fontFeatureSettings=L,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings)}setTextDecoration(L){this._textDecoration!==L&&(this._textDecoration=L,this.domNode.style.textDecoration=this._textDecoration)}setLineHeight(L){const b=m(L);this._lineHeight!==b&&(this._lineHeight=b,this.domNode.style.lineHeight=this._lineHeight)}setLetterSpacing(L){const b=m(L);this._letterSpacing!==b&&(this._letterSpacing=b,this.domNode.style.letterSpacing=this._letterSpacing)}setClassName(L){this._className!==L&&(this._className=L,this.domNode.className=this._className)}toggleClassName(L,b){this.domNode.classList.toggle(L,b),this._className=this.domNode.className}setDisplay(L){this._display!==L&&(this._display=L,this.domNode.style.display=this._display)}setPosition(L){this._position!==L&&(this._position=L,this.domNode.style.position=this._position)}setVisibility(L){this._visibility!==L&&(this._visibility=L,this.domNode.style.visibility=this._visibility)}setColor(L){this._color!==L&&(this._color=L,this.domNode.style.color=this._color)}setBackgroundColor(L){this._backgroundColor!==L&&(this._backgroundColor=L,this.domNode.style.backgroundColor=this._backgroundColor)}setLayerHinting(L){this._layerHint!==L&&(this._layerHint=L,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":"")}setBoxShadow(L){this._boxShadow!==L&&(this._boxShadow=L,this.domNode.style.boxShadow=L)}setContain(L){this._contain!==L&&(this._contain=L,this.domNode.style.contain=this._contain)}setAttribute(L,b){this.domNode.setAttribute(L,b)}removeAttribute(L){this.domNode.removeAttribute(L)}appendChild(L){this.domNode.appendChild(L.domNode)}removeChild(L){this.domNode.removeChild(L.domNode)}}e.FastDomNode=w;function m(D){return typeof D=="number"?`${D}px`:D}function k(D){return new w(D)}e.createFastDomNode=k}),define(se[331],re([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IframeUtils=void 0;let w=!1,m=null;function k(L){if(!L.parent||L.parent===L)return null;try{const b=L.location,C=L.parent.location;if(b.origin!=="null"&&C.origin!=="null"&&b.origin!==C.origin)return w=!0,null}catch{return w=!0,null}return L.parent}class D{static getSameOriginWindowChain(){if(!m){m=[];let b=window,C;do C=k(b),C?m.push({window:b,iframeElement:b.frameElement||null}):m.push({window:b,iframeElement:null}),b=C;while(b)}return m.slice(0)}static getPositionOfChildWindowRelativeToAncestorWindow(b,C){if(!C||b===C)return{top:0,left:0};let h=0,g=0;const t=this.getSameOriginWindowChain();for(const i of t){if(h+=i.window.scrollY,g+=i.window.scrollX,i.window===C||!i.iframeElement)break;const n=i.iframeElement.getBoundingClientRect();h+=n.top,g+=n.left}return{top:h,left:g}}}e.IframeUtils=D}),define(se[332],re([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ListError=void 0;class w extends Error{constructor(k,D){super(`ListError [${k}] ${D}`)}}e.ListError=w}),define(se[333],re([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CombinedSpliceable=void 0;class w{constructor(k){this.spliceables=k}splice(k,D,L){this.spliceables.forEach(b=>b.splice(k,D,L))}}e.CombinedSpliceable=w}),define(se[227],re([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollbarState=void 0;const w=20;class m{constructor(D,L,b,C,h,g){this._scrollbarSize=Math.round(L),this._oppositeScrollbarSize=Math.round(b),this._arrowSize=Math.round(D),this._visibleSize=C,this._scrollSize=h,this._scrollPosition=g,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}clone(){return new m(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}setVisibleSize(D){const L=Math.round(D);return this._visibleSize!==L?(this._visibleSize=L,this._refreshComputedValues(),!0):!1}setScrollSize(D){const L=Math.round(D);return this._scrollSize!==L?(this._scrollSize=L,this._refreshComputedValues(),!0):!1}setScrollPosition(D){const L=Math.round(D);return this._scrollPosition!==L?(this._scrollPosition=L,this._refreshComputedValues(),!0):!1}setScrollbarSize(D){this._scrollbarSize=Math.round(D)}setOppositeScrollbarSize(D){this._oppositeScrollbarSize=Math.round(D)}static _computeValues(D,L,b,C,h){const g=Math.max(0,b-D),t=Math.max(0,g-2*L),i=C>0&&C>b;if(!i)return{computedAvailableSize:Math.round(g),computedIsNeeded:i,computedSliderSize:Math.round(t),computedSliderRatio:0,computedSliderPosition:0};const n=Math.round(Math.max(w,Math.floor(b*t/C))),o=(t-n)/(C-b),l=h*o;return{computedAvailableSize:Math.round(g),computedIsNeeded:i,computedSliderSize:Math.round(n),computedSliderRatio:o,computedSliderPosition:Math.round(l)}}_refreshComputedValues(){const D=m._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=D.computedAvailableSize,this._computedIsNeeded=D.computedIsNeeded,this._computedSliderSize=D.computedSliderSize,this._computedSliderRatio=D.computedSliderRatio,this._computedSliderPosition=D.computedSliderPosition}getArrowSize(){return this._arrowSize}getScrollPosition(){return this._scrollPosition}getRectangleLargeSize(){return this._computedAvailableSize}getRectangleSmallSize(){return this._scrollbarSize}isNeeded(){return this._computedIsNeeded}getSliderSize(){return this._computedSliderSize}getSliderPosition(){return this._computedSliderPosition}getDesiredScrollPositionFromOffset(D){if(!this._computedIsNeeded)return 0;const L=D-this._arrowSize-this._computedSliderSize/2;return Math.round(L/this._computedSliderRatio)}getDesiredScrollPositionFromOffsetPaged(D){if(!this._computedIsNeeded)return 0;const L=D-this._arrowSize;let b=this._scrollPosition;return L<this._computedSliderPosition?b-=this._visibleSize:b+=this._visibleSize,b}getDesiredScrollPositionFromDelta(D){if(!this._computedIsNeeded)return 0;const L=this._computedSliderPosition+D;return Math.round(L/this._computedSliderRatio)}}e.ScrollbarState=m}),define(se[123],re([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WeakMapper=e.TreeError=e.TreeMouseEventTarget=void 0;var w;(function(D){D[D.Unknown=0]="Unknown",D[D.Twistie=1]="Twistie",D[D.Element=2]="Element",D[D.Filter=3]="Filter"})(w=e.TreeMouseEventTarget||(e.TreeMouseEventTarget={}));class m extends Error{constructor(L,b){super(`TreeError [${L}] ${b}`)}}e.TreeError=m;class k{constructor(L){this.fn=L,this._map=new WeakMap}map(L){let b=this._map.get(L);return b||(b=this.fn(L),this._map.set(L,b)),b}}e.WeakMapper=k}),define(se[18],re([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CallbackIterable=e.ArrayQueue=e.findMinBy=e.findLastMaxBy=e.findMaxBy=e.numberComparator=e.compareBy=e.CompareResult=e.splice=e.insertInto=e.asArray=e.pushMany=e.pushToEnd=e.pushToStart=e.arrayInsert=e.range=e.firstOrDefault=e.lastIndex=e.findLast=e.distinct=e.isNonEmptyArray=e.isFalsyOrEmpty=e.coalesce=e.groupBy=e.quickSelect=e.findFirstInSorted=e.binarySearch2=e.binarySearch=e.removeFastWithoutKeepingOrder=e.equals=e.tail2=e.tail=void 0;function w(N,A=0){return N[N.length-(1+A)]}e.tail=w;function m(N){if(N.length===0)throw new Error("Invalid tail call");return[N.slice(0,N.length-1),N[N.length-1]]}e.tail2=m;function k(N,A,B=(W,x)=>W===x){if(N===A)return!0;if(!N||!A||N.length!==A.length)return!1;for(let W=0,x=N.length;W<x;W++)if(!B(N[W],A[W]))return!1;return!0}e.equals=k;function D(N,A){const B=N.length-1;A<B&&(N[A]=N[B]),N.pop()}e.removeFastWithoutKeepingOrder=D;function L(N,A,B){return b(N.length,W=>B(N[W],A))}e.binarySearch=L;function b(N,A){let B=0,W=N-1;for(;B<=W;){const x=(B+W)/2|0,P=A(x);if(P<0)B=x+1;else if(P>0)W=x-1;else return x}return-(B+1)}e.binarySearch2=b;function C(N,A){let B=0,W=N.length;if(W===0)return 0;for(;B<W;){const x=Math.floor((B+W)/2);A(N[x])?W=x:B=x+1}return B}e.findFirstInSorted=C;function h(N,A,B){if(N=N|0,N>=A.length)throw new TypeError("invalid index");const W=A[Math.floor(A.length*Math.random())],x=[],P=[],X=[];for(const ie of A){const K=B(ie,W);K<0?x.push(ie):K>0?P.push(ie):X.push(ie)}return N<x.length?h(N,x,B):N<x.length+X.length?X[0]:h(N-(x.length+X.length),P,B)}e.quickSelect=h;function g(N,A){const B=[];let W;for(const x of N.slice(0).sort(A))!W||A(W[0],x)!==0?(W=[x],B.push(W)):W.push(x);return B}e.groupBy=g;function t(N){return N.filter(A=>!!A)}e.coalesce=t;function i(N){return!Array.isArray(N)||N.length===0}e.isFalsyOrEmpty=i;function n(N){return Array.isArray(N)&&N.length>0}e.isNonEmptyArray=n;function o(N,A=B=>B){const B=new Set;return N.filter(W=>{const x=A(W);return B.has(x)?!1:(B.add(x),!0)})}e.distinct=o;function l(N,A){const B=c(N,A);if(B!==-1)return N[B]}e.findLast=l;function c(N,A){for(let B=N.length-1;B>=0;B--){const W=N[B];if(A(W))return B}return-1}e.lastIndex=c;function d(N,A){return N.length>0?N[0]:A}e.firstOrDefault=d;function r(N,A){let B=typeof A=="number"?N:0;typeof A=="number"?B=N:(B=0,A=N);const W=[];if(B<=A)for(let x=B;x<A;x++)W.push(x);else for(let x=B;x>A;x--)W.push(x);return W}e.range=r;function s(N,A,B){const W=N.slice(0,A),x=N.slice(A);return W.concat(B,x)}e.arrayInsert=s;function a(N,A){const B=N.indexOf(A);B>-1&&(N.splice(B,1),N.unshift(A))}e.pushToStart=a;function u(N,A){const B=N.indexOf(A);B>-1&&(N.splice(B,1),N.push(A))}e.pushToEnd=u;function p(N,A){for(const B of A)N.push(B)}e.pushMany=p;function S(N){return Array.isArray(N)?N:[N]}e.asArray=S;function f(N,A,B){const W=_(N,A),x=N.length,P=B.length;N.length=x+P;for(let X=x-1;X>=W;X--)N[X+P]=N[X];for(let X=0;X<P;X++)N[X+W]=B[X]}e.insertInto=f;function v(N,A,B,W){const x=_(N,A),P=N.splice(x,B);return f(N,x,W),P}e.splice=v;function _(N,A){return A<0?Math.max(A+N.length,0):Math.min(A,N.length)}var y;(function(N){function A(x){return x<0}N.isLessThan=A;function B(x){return x>0}N.isGreaterThan=B;function W(x){return x===0}N.isNeitherLessOrGreaterThan=W,N.greaterThan=1,N.lessThan=-1,N.neitherLessOrGreaterThan=0})(y=e.CompareResult||(e.CompareResult={}));function E(N,A){return(B,W)=>A(N(B),N(W))}e.compareBy=E;const T=(N,A)=>N-A;e.numberComparator=T;function I(N,A){if(N.length===0)return;let B=N[0];for(let W=1;W<N.length;W++){const x=N[W];A(x,B)>0&&(B=x)}return B}e.findMaxBy=I;function R(N,A){if(N.length===0)return;let B=N[0];for(let W=1;W<N.length;W++){const x=N[W];A(x,B)>=0&&(B=x)}return B}e.findLastMaxBy=R;function F(N,A){return I(N,(B,W)=>-A(B,W))}e.findMinBy=F;class O{constructor(A){this.items=A,this.firstIdx=0,this.lastIdx=this.items.length-1}get length(){return this.lastIdx-this.firstIdx+1}takeWhile(A){let B=this.firstIdx;for(;B<this.items.length&&A(this.items[B]);)B++;const W=B===this.firstIdx?null:this.items.slice(this.firstIdx,B);return this.firstIdx=B,W}takeFromEndWhile(A){let B=this.lastIdx;for(;B>=0&&A(this.items[B]);)B--;const W=B===this.lastIdx?null:this.items.slice(B+1,this.lastIdx+1);return this.lastIdx=B,W}peek(){if(this.length!==0)return this.items[this.firstIdx]}dequeue(){const A=this.items[this.firstIdx];return this.firstIdx++,A}takeCount(A){const B=this.items.slice(this.firstIdx,this.firstIdx+A);return this.firstIdx+=A,B}}e.ArrayQueue=O;class M{constructor(A){this.iterate=A}toArray(){const A=[];return this.iterate(B=>(A.push(B),!0)),A}filter(A){return new M(B=>this.iterate(W=>A(W)?B(W):!0))}map(A){return new M(B=>this.iterate(W=>B(A(W))))}findLast(A){let B;return this.iterate(W=>(A(W)&&(B=W),!0)),B}findLastMaxBy(A){let B,W=!0;return this.iterate(x=>((W||y.isGreaterThan(A(x,B)))&&(W=!1,B=x),!0)),B}}e.CallbackIterable=M,M.empty=new M(N=>{})}),define(se[124],re([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.writeUInt8=e.readUInt8=e.writeUInt32BE=e.readUInt32BE=e.writeUInt16LE=e.readUInt16LE=e.VSBuffer=void 0;const w=typeof Buffer<"u";let m;class k{static wrap(i){return w&&!Buffer.isBuffer(i)&&(i=Buffer.from(i.buffer,i.byteOffset,i.byteLength)),new k(i)}constructor(i){this.buffer=i,this.byteLength=this.buffer.byteLength}toString(){return w?this.buffer.toString():(m||(m=new TextDecoder),m.decode(this.buffer))}}e.VSBuffer=k;function D(t,i){return t[i+0]<<0>>>0|t[i+1]<<8>>>0}e.readUInt16LE=D;function L(t,i,n){t[n+0]=i&255,i=i>>>8,t[n+1]=i&255}e.writeUInt16LE=L;function b(t,i){return t[i]*Math.pow(2,24)+t[i+1]*Math.pow(2,16)+t[i+2]*Math.pow(2,8)+t[i+3]}e.readUInt32BE=b;function C(t,i,n){t[n+3]=i,i=i>>>8,t[n+2]=i,i=i>>>8,t[n+1]=i,i=i>>>8,t[n]=i}e.writeUInt32BE=C;function h(t,i){return t[i]}e.readUInt8=h;function g(t,i,n){t[n]=i}e.writeUInt8=g}),define(se[228],re([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CachedFunction=e.LRUCachedFunction=void 0;class w{constructor(D){this.fn=D,this.lastCache=void 0,this.lastArgKey=void 0}get(D){const L=JSON.stringify(D);return this.lastArgKey!==L&&(this.lastArgKey=L,this.lastCache=this.fn(D)),this.lastCache}}e.LRUCachedFunction=w;class m{get cachedValues(){return this._map}constructor(D){this.fn=D,this._map=new Map}get(D){if(this._map.has(D))return this._map.get(D);const L=this.fn(D);return this._map.set(D,L),L}}e.CachedFunction=m}),define(se[27],re([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CSSIcon=e.Codicon=e.getCodiconAriaLabel=void 0;function w(D){return D?D.replace(/\$\((.*?)\)/g,(L,b)=>` ${b} `).trim():""}e.getCodiconAriaLabel=w;class m{constructor(L,b,C){this.id=L,this.definition=b,this.description=C,m._allCodicons.push(this)}get classNames(){return"codicon codicon-"+this.id}get classNamesArray(){return["codicon","codicon-"+this.id]}get cssSelector(){return".codicon.codicon-"+this.id}static getAll(){return m._allCodicons}}e.Codicon=m,m._allCodicons=[],m.add=new m("add",{fontCharacter:"\\ea60"}),m.plus=new m("plus",m.add.definition),m.gistNew=new m("gist-new",m.add.definition),m.repoCreate=new m("repo-create",m.add.definition),m.lightbulb=new m("lightbulb",{fontCharacter:"\\ea61"}),m.lightBulb=new m("light-bulb",{fontCharacter:"\\ea61"}),m.repo=new m("repo",{fontCharacter:"\\ea62"}),m.repoDelete=new m("repo-delete",{fontCharacter:"\\ea62"}),m.gistFork=new m("gist-fork",{fontCharacter:"\\ea63"}),m.repoForked=new m("repo-forked",{fontCharacter:"\\ea63"}),m.gitPullRequest=new m("git-pull-request",{fontCharacter:"\\ea64"}),m.gitPullRequestAbandoned=new m("git-pull-request-abandoned",{fontCharacter:"\\ea64"}),m.recordKeys=new m("record-keys",{fontCharacter:"\\ea65"}),m.keyboard=new m("keyboard",{fontCharacter:"\\ea65"}),m.tag=new m("tag",{fontCharacter:"\\ea66"}),m.tagAdd=new m("tag-add",{fontCharacter:"\\ea66"}),m.tagRemove=new m("tag-remove",{fontCharacter:"\\ea66"}),m.person=new m("person",{fontCharacter:"\\ea67"}),m.personFollow=new m("person-follow",{fontCharacter:"\\ea67"}),m.personOutline=new m("person-outline",{fontCharacter:"\\ea67"}),m.personFilled=new m("person-filled",{fontCharacter:"\\ea67"}),m.gitBranch=new m("git-branch",{fontCharacter:"\\ea68"}),m.gitBranchCreate=new m("git-branch-create",{fontCharacter:"\\ea68"}),m.gitBranchDelete=new m("git-branch-delete",{fontCharacter:"\\ea68"}),m.sourceControl=new m("source-control",{fontCharacter:"\\ea68"}),m.mirror=new m("mirror",{fontCharacter:"\\ea69"}),m.mirrorPublic=new m("mirror-public",{fontCharacter:"\\ea69"}),m.star=new m("star",{fontCharacter:"\\ea6a"}),m.starAdd=new m("star-add",{fontCharacter:"\\ea6a"}),m.starDelete=new m("star-delete",{fontCharacter:"\\ea6a"}),m.starEmpty=new m("star-empty",{fontCharacter:"\\ea6a"}),m.comment=new m("comment",{fontCharacter:"\\ea6b"}),m.commentAdd=new m("comment-add",{fontCharacter:"\\ea6b"}),m.alert=new m("alert",{fontCharacter:"\\ea6c"}),m.warning=new m("warning",{fontCharacter:"\\ea6c"}),m.search=new m("search",{fontCharacter:"\\ea6d"}),m.searchSave=new m("search-save",{fontCharacter:"\\ea6d"}),m.logOut=new m("log-out",{fontCharacter:"\\ea6e"}),m.signOut=new m("sign-out",{fontCharacter:"\\ea6e"}),m.logIn=new m("log-in",{fontCharacter:"\\ea6f"}),m.signIn=new m("sign-in",{fontCharacter:"\\ea6f"}),m.eye=new m("eye",{fontCharacter:"\\ea70"}),m.eyeUnwatch=new m("eye-unwatch",{fontCharacter:"\\ea70"}),m.eyeWatch=new m("eye-watch",{fontCharacter:"\\ea70"}),m.circleFilled=new m("circle-filled",{fontCharacter:"\\ea71"}),m.primitiveDot=new m("primitive-dot",m.circleFilled.definition),m.closeDirty=new m("close-dirty",m.circleFilled.definition),m.debugBreakpoint=new m("debug-breakpoint",m.circleFilled.definition),m.debugBreakpointDisabled=new m("debug-breakpoint-disabled",m.circleFilled.definition),m.debugHint=new m("debug-hint",m.circleFilled.definition),m.primitiveSquare=new m("primitive-square",{fontCharacter:"\\ea72"}),m.edit=new m("edit",{fontCharacter:"\\ea73"}),m.pencil=new m("pencil",{fontCharacter:"\\ea73"}),m.info=new m("info",{fontCharacter:"\\ea74"}),m.issueOpened=new m("issue-opened",{fontCharacter:"\\ea74"}),m.gistPrivate=new m("gist-private",{fontCharacter:"\\ea75"}),m.gitForkPrivate=new m("git-fork-private",{fontCharacter:"\\ea75"}),m.lock=new m("lock",{fontCharacter:"\\ea75"}),m.mirrorPrivate=new m("mirror-private",{fontCharacter:"\\ea75"}),m.close=new m("close",{fontCharacter:"\\ea76"}),m.removeClose=new m("remove-close",{fontCharacter:"\\ea76"}),m.x=new m("x",{fontCharacter:"\\ea76"}),m.repoSync=new m("repo-sync",{fontCharacter:"\\ea77"}),m.sync=new m("sync",{fontCharacter:"\\ea77"}),m.clone=new m("clone",{fontCharacter:"\\ea78"}),m.desktopDownload=new m("desktop-download",{fontCharacter:"\\ea78"}),m.beaker=new m("beaker",{fontCharacter:"\\ea79"}),m.microscope=new m("microscope",{fontCharacter:"\\ea79"}),m.vm=new m("vm",{fontCharacter:"\\ea7a"}),m.deviceDesktop=new m("device-desktop",{fontCharacter:"\\ea7a"}),m.file=new m("file",{fontCharacter:"\\ea7b"}),m.fileText=new m("file-text",{fontCharacter:"\\ea7b"}),m.more=new m("more",{fontCharacter:"\\ea7c"}),m.ellipsis=new m("ellipsis",{fontCharacter:"\\ea7c"}),m.kebabHorizontal=new m("kebab-horizontal",{fontCharacter:"\\ea7c"}),m.mailReply=new m("mail-reply",{fontCharacter:"\\ea7d"}),m.reply=new m("reply",{fontCharacter:"\\ea7d"}),m.organization=new m("organization",{fontCharacter:"\\ea7e"}),m.organizationFilled=new m("organization-filled",{fontCharacter:"\\ea7e"}),m.organizationOutline=new m("organization-outline",{fontCharacter:"\\ea7e"}),m.newFile=new m("new-file",{fontCharacter:"\\ea7f"}),m.fileAdd=new m("file-add",{fontCharacter:"\\ea7f"}),m.newFolder=new m("new-folder",{fontCharacter:"\\ea80"}),m.fileDirectoryCreate=new m("file-directory-create",{fontCharacter:"\\ea80"}),m.trash=new m("trash",{fontCharacter:"\\ea81"}),m.trashcan=new m("trashcan",{fontCharacter:"\\ea81"}),m.history=new m("history",{fontCharacter:"\\ea82"}),m.clock=new m("clock",{fontCharacter:"\\ea82"}),m.folder=new m("folder",{fontCharacter:"\\ea83"}),m.fileDirectory=new m("file-directory",{fontCharacter:"\\ea83"}),m.symbolFolder=new m("symbol-folder",{fontCharacter:"\\ea83"}),m.logoGithub=new m("logo-github",{fontCharacter:"\\ea84"}),m.markGithub=new m("mark-github",{fontCharacter:"\\ea84"}),m.github=new m("github",{fontCharacter:"\\ea84"}),m.terminal=new m("terminal",{fontCharacter:"\\ea85"}),m.console=new m("console",{fontCharacter:"\\ea85"}),m.repl=new m("repl",{fontCharacter:"\\ea85"}),m.zap=new m("zap",{fontCharacter:"\\ea86"}),m.symbolEvent=new m("symbol-event",{fontCharacter:"\\ea86"}),m.error=new m("error",{fontCharacter:"\\ea87"}),m.stop=new m("stop",{fontCharacter:"\\ea87"}),m.variable=new m("variable",{fontCharacter:"\\ea88"}),m.symbolVariable=new m("symbol-variable",{fontCharacter:"\\ea88"}),m.array=new m("array",{fontCharacter:"\\ea8a"}),m.symbolArray=new m("symbol-array",{fontCharacter:"\\ea8a"}),m.symbolModule=new m("symbol-module",{fontCharacter:"\\ea8b"}),m.symbolPackage=new m("symbol-package",{fontCharacter:"\\ea8b"}),m.symbolNamespace=new m("symbol-namespace",{fontCharacter:"\\ea8b"}),m.symbolObject=new m("symbol-object",{fontCharacter:"\\ea8b"}),m.symbolMethod=new m("symbol-method",{fontCharacter:"\\ea8c"}),m.symbolFunction=new m("symbol-function",{fontCharacter:"\\ea8c"}),m.symbolConstructor=new m("symbol-constructor",{fontCharacter:"\\ea8c"}),m.symbolBoolean=new m("symbol-boolean",{fontCharacter:"\\ea8f"}),m.symbolNull=new m("symbol-null",{fontCharacter:"\\ea8f"}),m.symbolNumeric=new m("symbol-numeric",{fontCharacter:"\\ea90"}),m.symbolNumber=new m("symbol-number",{fontCharacter:"\\ea90"}),m.symbolStructure=new m("symbol-structure",{fontCharacter:"\\ea91"}),m.symbolStruct=new m("symbol-struct",{fontCharacter:"\\ea91"}),m.symbolParameter=new m("symbol-parameter",{fontCharacter:"\\ea92"}),m.symbolTypeParameter=new m("symbol-type-parameter",{fontCharacter:"\\ea92"}),m.symbolKey=new m("symbol-key",{fontCharacter:"\\ea93"}),m.symbolText=new m("symbol-text",{fontCharacter:"\\ea93"}),m.symbolReference=new m("symbol-reference",{fontCharacter:"\\ea94"}),m.goToFile=new m("go-to-file",{fontCharacter:"\\ea94"}),m.symbolEnum=new m("symbol-enum",{fontCharacter:"\\ea95"}),m.symbolValue=new m("symbol-value",{fontCharacter:"\\ea95"}),m.symbolRuler=new m("symbol-ruler",{fontCharacter:"\\ea96"}),m.symbolUnit=new m("symbol-unit",{fontCharacter:"\\ea96"}),m.activateBreakpoints=new m("activate-breakpoints",{fontCharacter:"\\ea97"}),m.archive=new m("archive",{fontCharacter:"\\ea98"}),m.arrowBoth=new m("arrow-both",{fontCharacter:"\\ea99"}),m.arrowDown=new m("arrow-down",{fontCharacter:"\\ea9a"}),m.arrowLeft=new m("arrow-left",{fontCharacter:"\\ea9b"}),m.arrowRight=new m("arrow-right",{fontCharacter:"\\ea9c"}),m.arrowSmallDown=new m("arrow-small-down",{fontCharacter:"\\ea9d"}),m.arrowSmallLeft=new m("arrow-small-left",{fontCharacter:"\\ea9e"}),m.arrowSmallRight=new m("arrow-small-right",{fontCharacter:"\\ea9f"}),m.arrowSmallUp=new m("arrow-small-up",{fontCharacter:"\\eaa0"}),m.arrowUp=new m("arrow-up",{fontCharacter:"\\eaa1"}),m.bell=new m("bell",{fontCharacter:"\\eaa2"}),m.bold=new m("bold",{fontCharacter:"\\eaa3"}),m.book=new m("book",{fontCharacter:"\\eaa4"}),m.bookmark=new m("bookmark",{fontCharacter:"\\eaa5"}),m.debugBreakpointConditionalUnverified=new m("debug-breakpoint-conditional-unverified",{fontCharacter:"\\eaa6"}),m.debugBreakpointConditional=new m("debug-breakpoint-conditional",{fontCharacter:"\\eaa7"}),m.debugBreakpointConditionalDisabled=new m("debug-breakpoint-conditional-disabled",{fontCharacter:"\\eaa7"}),m.debugBreakpointDataUnverified=new m("debug-breakpoint-data-unverified",{fontCharacter:"\\eaa8"}),m.debugBreakpointData=new m("debug-breakpoint-data",{fontCharacter:"\\eaa9"}),m.debugBreakpointDataDisabled=new m("debug-breakpoint-data-disabled",{fontCharacter:"\\eaa9"}),m.debugBreakpointLogUnverified=new m("debug-breakpoint-log-unverified",{fontCharacter:"\\eaaa"}),m.debugBreakpointLog=new m("debug-breakpoint-log",{fontCharacter:"\\eaab"}),m.debugBreakpointLogDisabled=new m("debug-breakpoint-log-disabled",{fontCharacter:"\\eaab"}),m.briefcase=new m("briefcase",{fontCharacter:"\\eaac"}),m.broadcast=new m("broadcast",{fontCharacter:"\\eaad"}),m.browser=new m("browser",{fontCharacter:"\\eaae"}),m.bug=new m("bug",{fontCharacter:"\\eaaf"}),m.calendar=new m("calendar",{fontCharacter:"\\eab0"}),m.caseSensitive=new m("case-sensitive",{fontCharacter:"\\eab1"}),m.check=new m("check",{fontCharacter:"\\eab2"}),m.checklist=new m("checklist",{fontCharacter:"\\eab3"}),m.chevronDown=new m("chevron-down",{fontCharacter:"\\eab4"}),m.dropDownButton=new m("drop-down-button",m.chevronDown.definition),m.chevronLeft=new m("chevron-left",{fontCharacter:"\\eab5"}),m.chevronRight=new m("chevron-right",{fontCharacter:"\\eab6"}),m.chevronUp=new m("chevron-up",{fontCharacter:"\\eab7"}),m.chromeClose=new m("chrome-close",{fontCharacter:"\\eab8"}),m.chromeMaximize=new m("chrome-maximize",{fontCharacter:"\\eab9"}),m.chromeMinimize=new m("chrome-minimize",{fontCharacter:"\\eaba"}),m.chromeRestore=new m("chrome-restore",{fontCharacter:"\\eabb"}),m.circle=new m("circle",{fontCharacter:"\\eabc"}),m.circleOutline=new m("circle-outline",m.circle.definition),m.debugBreakpointUnverified=new m("debug-breakpoint-unverified",m.circle.definition),m.circleSlash=new m("circle-slash",{fontCharacter:"\\eabd"}),m.circuitBoard=new m("circuit-board",{fontCharacter:"\\eabe"}),m.clearAll=new m("clear-all",{fontCharacter:"\\eabf"}),m.clippy=new m("clippy",{fontCharacter:"\\eac0"}),m.closeAll=new m("close-all",{fontCharacter:"\\eac1"}),m.cloudDownload=new m("cloud-download",{fontCharacter:"\\eac2"}),m.cloudUpload=new m("cloud-upload",{fontCharacter:"\\eac3"}),m.code=new m("code",{fontCharacter:"\\eac4"}),m.collapseAll=new m("collapse-all",{fontCharacter:"\\eac5"}),m.colorMode=new m("color-mode",{fontCharacter:"\\eac6"}),m.commentDiscussion=new m("comment-discussion",{fontCharacter:"\\eac7"}),m.compareChanges=new m("compare-changes",{fontCharacter:"\\eafd"}),m.creditCard=new m("credit-card",{fontCharacter:"\\eac9"}),m.dash=new m("dash",{fontCharacter:"\\eacc"}),m.dashboard=new m("dashboard",{fontCharacter:"\\eacd"}),m.database=new m("database",{fontCharacter:"\\eace"}),m.debugContinue=new m("debug-continue",{fontCharacter:"\\eacf"}),m.debugDisconnect=new m("debug-disconnect",{fontCharacter:"\\ead0"}),m.debugPause=new m("debug-pause",{fontCharacter:"\\ead1"}),m.debugRestart=new m("debug-restart",{fontCharacter:"\\ead2"}),m.debugStart=new m("debug-start",{fontCharacter:"\\ead3"}),m.debugStepInto=new m("debug-step-into",{fontCharacter:"\\ead4"}),m.debugStepOut=new m("debug-step-out",{fontCharacter:"\\ead5"}),m.debugStepOver=new m("debug-step-over",{fontCharacter:"\\ead6"}),m.debugStop=new m("debug-stop",{fontCharacter:"\\ead7"}),m.debug=new m("debug",{fontCharacter:"\\ead8"}),m.deviceCameraVideo=new m("device-camera-video",{fontCharacter:"\\ead9"}),m.deviceCamera=new m("device-camera",{fontCharacter:"\\eada"}),m.deviceMobile=new m("device-mobile",{fontCharacter:"\\eadb"}),m.diffAdded=new m("diff-added",{fontCharacter:"\\eadc"}),m.diffIgnored=new m("diff-ignored",{fontCharacter:"\\eadd"}),m.diffModified=new m("diff-modified",{fontCharacter:"\\eade"}),m.diffRemoved=new m("diff-removed",{fontCharacter:"\\eadf"}),m.diffRenamed=new m("diff-renamed",{fontCharacter:"\\eae0"}),m.diff=new m("diff",{fontCharacter:"\\eae1"}),m.discard=new m("discard",{fontCharacter:"\\eae2"}),m.editorLayout=new m("editor-layout",{fontCharacter:"\\eae3"}),m.emptyWindow=new m("empty-window",{fontCharacter:"\\eae4"}),m.exclude=new m("exclude",{fontCharacter:"\\eae5"}),m.extensions=new m("extensions",{fontCharacter:"\\eae6"}),m.eyeClosed=new m("eye-closed",{fontCharacter:"\\eae7"}),m.fileBinary=new m("file-binary",{fontCharacter:"\\eae8"}),m.fileCode=new m("file-code",{fontCharacter:"\\eae9"}),m.fileMedia=new m("file-media",{fontCharacter:"\\eaea"}),m.filePdf=new m("file-pdf",{fontCharacter:"\\eaeb"}),m.fileSubmodule=new m("file-submodule",{fontCharacter:"\\eaec"}),m.fileSymlinkDirectory=new m("file-symlink-directory",{fontCharacter:"\\eaed"}),m.fileSymlinkFile=new m("file-symlink-file",{fontCharacter:"\\eaee"}),m.fileZip=new m("file-zip",{fontCharacter:"\\eaef"}),m.files=new m("files",{fontCharacter:"\\eaf0"}),m.filter=new m("filter",{fontCharacter:"\\eaf1"}),m.flame=new m("flame",{fontCharacter:"\\eaf2"}),m.foldDown=new m("fold-down",{fontCharacter:"\\eaf3"}),m.foldUp=new m("fold-up",{fontCharacter:"\\eaf4"}),m.fold=new m("fold",{fontCharacter:"\\eaf5"}),m.folderActive=new m("folder-active",{fontCharacter:"\\eaf6"}),m.folderOpened=new m("folder-opened",{fontCharacter:"\\eaf7"}),m.gear=new m("gear",{fontCharacter:"\\eaf8"}),m.gift=new m("gift",{fontCharacter:"\\eaf9"}),m.gistSecret=new m("gist-secret",{fontCharacter:"\\eafa"}),m.gist=new m("gist",{fontCharacter:"\\eafb"}),m.gitCommit=new m("git-commit",{fontCharacter:"\\eafc"}),m.gitCompare=new m("git-compare",{fontCharacter:"\\eafd"}),m.gitMerge=new m("git-merge",{fontCharacter:"\\eafe"}),m.githubAction=new m("github-action",{fontCharacter:"\\eaff"}),m.githubAlt=new m("github-alt",{fontCharacter:"\\eb00"}),m.globe=new m("globe",{fontCharacter:"\\eb01"}),m.grabber=new m("grabber",{fontCharacter:"\\eb02"}),m.graph=new m("graph",{fontCharacter:"\\eb03"}),m.gripper=new m("gripper",{fontCharacter:"\\eb04"}),m.heart=new m("heart",{fontCharacter:"\\eb05"}),m.home=new m("home",{fontCharacter:"\\eb06"}),m.horizontalRule=new m("horizontal-rule",{fontCharacter:"\\eb07"}),m.hubot=new m("hubot",{fontCharacter:"\\eb08"}),m.inbox=new m("inbox",{fontCharacter:"\\eb09"}),m.issueClosed=new m("issue-closed",{fontCharacter:"\\eba4"}),m.issueReopened=new m("issue-reopened",{fontCharacter:"\\eb0b"}),m.issues=new m("issues",{fontCharacter:"\\eb0c"}),m.italic=new m("italic",{fontCharacter:"\\eb0d"}),m.jersey=new m("jersey",{fontCharacter:"\\eb0e"}),m.json=new m("json",{fontCharacter:"\\eb0f"}),m.kebabVertical=new m("kebab-vertical",{fontCharacter:"\\eb10"}),m.key=new m("key",{fontCharacter:"\\eb11"}),m.law=new m("law",{fontCharacter:"\\eb12"}),m.lightbulbAutofix=new m("lightbulb-autofix",{fontCharacter:"\\eb13"}),m.linkExternal=new m("link-external",{fontCharacter:"\\eb14"}),m.link=new m("link",{fontCharacter:"\\eb15"}),m.listOrdered=new m("list-ordered",{fontCharacter:"\\eb16"}),m.listUnordered=new m("list-unordered",{fontCharacter:"\\eb17"}),m.liveShare=new m("live-share",{fontCharacter:"\\eb18"}),m.loading=new m("loading",{fontCharacter:"\\eb19"}),m.location=new m("location",{fontCharacter:"\\eb1a"}),m.mailRead=new m("mail-read",{fontCharacter:"\\eb1b"}),m.mail=new m("mail",{fontCharacter:"\\eb1c"}),m.markdown=new m("markdown",{fontCharacter:"\\eb1d"}),m.megaphone=new m("megaphone",{fontCharacter:"\\eb1e"}),m.mention=new m("mention",{fontCharacter:"\\eb1f"}),m.milestone=new m("milestone",{fontCharacter:"\\eb20"}),m.mortarBoard=new m("mortar-board",{fontCharacter:"\\eb21"}),m.move=new m("move",{fontCharacter:"\\eb22"}),m.multipleWindows=new m("multiple-windows",{fontCharacter:"\\eb23"}),m.mute=new m("mute",{fontCharacter:"\\eb24"}),m.noNewline=new m("no-newline",{fontCharacter:"\\eb25"}),m.note=new m("note",{fontCharacter:"\\eb26"}),m.octoface=new m("octoface",{fontCharacter:"\\eb27"}),m.openPreview=new m("open-preview",{fontCharacter:"\\eb28"}),m.package_=new m("package",{fontCharacter:"\\eb29"}),m.paintcan=new m("paintcan",{fontCharacter:"\\eb2a"}),m.pin=new m("pin",{fontCharacter:"\\eb2b"}),m.play=new m("play",{fontCharacter:"\\eb2c"}),m.run=new m("run",{fontCharacter:"\\eb2c"}),m.plug=new m("plug",{fontCharacter:"\\eb2d"}),m.preserveCase=new m("preserve-case",{fontCharacter:"\\eb2e"}),m.preview=new m("preview",{fontCharacter:"\\eb2f"}),m.project=new m("project",{fontCharacter:"\\eb30"}),m.pulse=new m("pulse",{fontCharacter:"\\eb31"}),m.question=new m("question",{fontCharacter:"\\eb32"}),m.quote=new m("quote",{fontCharacter:"\\eb33"}),m.radioTower=new m("radio-tower",{fontCharacter:"\\eb34"}),m.reactions=new m("reactions",{fontCharacter:"\\eb35"}),m.references=new m("references",{fontCharacter:"\\eb36"}),m.refresh=new m("refresh",{fontCharacter:"\\eb37"}),m.regex=new m("regex",{fontCharacter:"\\eb38"}),m.remoteExplorer=new m("remote-explorer",{fontCharacter:"\\eb39"}),m.remote=new m("remote",{fontCharacter:"\\eb3a"}),m.remove=new m("remove",{fontCharacter:"\\eb3b"}),m.replaceAll=new m("replace-all",{fontCharacter:"\\eb3c"}),m.replace=new m("replace",{fontCharacter:"\\eb3d"}),m.repoClone=new m("repo-clone",{fontCharacter:"\\eb3e"}),m.repoForcePush=new m("repo-force-push",{fontCharacter:"\\eb3f"}),m.repoPull=new m("repo-pull",{fontCharacter:"\\eb40"}),m.repoPush=new m("repo-push",{fontCharacter:"\\eb41"}),m.report=new m("report",{fontCharacter:"\\eb42"}),m.requestChanges=new m("request-changes",{fontCharacter:"\\eb43"}),m.rocket=new m("rocket",{fontCharacter:"\\eb44"}),m.rootFolderOpened=new m("root-folder-opened",{fontCharacter:"\\eb45"}),m.rootFolder=new m("root-folder",{fontCharacter:"\\eb46"}),m.rss=new m("rss",{fontCharacter:"\\eb47"}),m.ruby=new m("ruby",{fontCharacter:"\\eb48"}),m.saveAll=new m("save-all",{fontCharacter:"\\eb49"}),m.saveAs=new m("save-as",{fontCharacter:"\\eb4a"}),m.save=new m("save",{fontCharacter:"\\eb4b"}),m.screenFull=new m("screen-full",{fontCharacter:"\\eb4c"}),m.screenNormal=new m("screen-normal",{fontCharacter:"\\eb4d"}),m.searchStop=new m("search-stop",{fontCharacter:"\\eb4e"}),m.server=new m("server",{fontCharacter:"\\eb50"}),m.settingsGear=new m("settings-gear",{fontCharacter:"\\eb51"}),m.settings=new m("settings",{fontCharacter:"\\eb52"}),m.shield=new m("shield",{fontCharacter:"\\eb53"}),m.smiley=new m("smiley",{fontCharacter:"\\eb54"}),m.sortPrecedence=new m("sort-precedence",{fontCharacter:"\\eb55"}),m.splitHorizontal=new m("split-horizontal",{fontCharacter:"\\eb56"}),m.splitVertical=new m("split-vertical",{fontCharacter:"\\eb57"}),m.squirrel=new m("squirrel",{fontCharacter:"\\eb58"}),m.starFull=new m("star-full",{fontCharacter:"\\eb59"}),m.starHalf=new m("star-half",{fontCharacter:"\\eb5a"}),m.symbolClass=new m("symbol-class",{fontCharacter:"\\eb5b"}),m.symbolColor=new m("symbol-color",{fontCharacter:"\\eb5c"}),m.symbolCustomColor=new m("symbol-customcolor",{fontCharacter:"\\eb5c"}),m.symbolConstant=new m("symbol-constant",{fontCharacter:"\\eb5d"}),m.symbolEnumMember=new m("symbol-enum-member",{fontCharacter:"\\eb5e"}),m.symbolField=new m("symbol-field",{fontCharacter:"\\eb5f"}),m.symbolFile=new m("symbol-file",{fontCharacter:"\\eb60"}),m.symbolInterface=new m("symbol-interface",{fontCharacter:"\\eb61"}),m.symbolKeyword=new m("symbol-keyword",{fontCharacter:"\\eb62"}),m.symbolMisc=new m("symbol-misc",{fontCharacter:"\\eb63"}),m.symbolOperator=new m("symbol-operator",{fontCharacter:"\\eb64"}),m.symbolProperty=new m("symbol-property",{fontCharacter:"\\eb65"}),m.wrench=new m("wrench",{fontCharacter:"\\eb65"}),m.wrenchSubaction=new m("wrench-subaction",{fontCharacter:"\\eb65"}),m.symbolSnippet=new m("symbol-snippet",{fontCharacter:"\\eb66"}),m.tasklist=new m("tasklist",{fontCharacter:"\\eb67"}),m.telescope=new m("telescope",{fontCharacter:"\\eb68"}),m.textSize=new m("text-size",{fontCharacter:"\\eb69"}),m.threeBars=new m("three-bars",{fontCharacter:"\\eb6a"}),m.thumbsdown=new m("thumbsdown",{fontCharacter:"\\eb6b"}),m.thumbsup=new m("thumbsup",{fontCharacter:"\\eb6c"}),m.tools=new m("tools",{fontCharacter:"\\eb6d"}),m.triangleDown=new m("triangle-down",{fontCharacter:"\\eb6e"}),m.triangleLeft=new m("triangle-left",{fontCharacter:"\\eb6f"}),m.triangleRight=new m("triangle-right",{fontCharacter:"\\eb70"}),m.triangleUp=new m("triangle-up",{fontCharacter:"\\eb71"}),m.twitter=new m("twitter",{fontCharacter:"\\eb72"}),m.unfold=new m("unfold",{fontCharacter:"\\eb73"}),m.unlock=new m("unlock",{fontCharacter:"\\eb74"}),m.unmute=new m("unmute",{fontCharacter:"\\eb75"}),m.unverified=new m("unverified",{fontCharacter:"\\eb76"}),m.verified=new m("verified",{fontCharacter:"\\eb77"}),m.versions=new m("versions",{fontCharacter:"\\eb78"}),m.vmActive=new m("vm-active",{fontCharacter:"\\eb79"}),m.vmOutline=new m("vm-outline",{fontCharacter:"\\eb7a"}),m.vmRunning=new m("vm-running",{fontCharacter:"\\eb7b"}),m.watch=new m("watch",{fontCharacter:"\\eb7c"}),m.whitespace=new m("whitespace",{fontCharacter:"\\eb7d"}),m.wholeWord=new m("whole-word",{fontCharacter:"\\eb7e"}),m.window=new m("window",{fontCharacter:"\\eb7f"}),m.wordWrap=new m("word-wrap",{fontCharacter:"\\eb80"}),m.zoomIn=new m("zoom-in",{fontCharacter:"\\eb81"}),m.zoomOut=new m("zoom-out",{fontCharacter:"\\eb82"}),m.listFilter=new m("list-filter",{fontCharacter:"\\eb83"}),m.listFlat=new m("list-flat",{fontCharacter:"\\eb84"}),m.listSelection=new m("list-selection",{fontCharacter:"\\eb85"}),m.selection=new m("selection",{fontCharacter:"\\eb85"}),m.listTree=new m("list-tree",{fontCharacter:"\\eb86"}),m.debugBreakpointFunctionUnverified=new m("debug-breakpoint-function-unverified",{fontCharacter:"\\eb87"}),m.debugBreakpointFunction=new m("debug-breakpoint-function",{fontCharacter:"\\eb88"}),m.debugBreakpointFunctionDisabled=new m("debug-breakpoint-function-disabled",{fontCharacter:"\\eb88"}),m.debugStackframeActive=new m("debug-stackframe-active",{fontCharacter:"\\eb89"}),m.circleSmallFilled=new m("circle-small-filled",{fontCharacter:"\\eb8a"}),m.debugStackframeDot=new m("debug-stackframe-dot",m.circleSmallFilled.definition),m.debugStackframe=new m("debug-stackframe",{fontCharacter:"\\eb8b"}),m.debugStackframeFocused=new m("debug-stackframe-focused",{fontCharacter:"\\eb8b"}),m.debugBreakpointUnsupported=new m("debug-breakpoint-unsupported",{fontCharacter:"\\eb8c"}),m.symbolString=new m("symbol-string",{fontCharacter:"\\eb8d"}),m.debugReverseContinue=new m("debug-reverse-continue",{fontCharacter:"\\eb8e"}),m.debugStepBack=new m("debug-step-back",{fontCharacter:"\\eb8f"}),m.debugRestartFrame=new m("debug-restart-frame",{fontCharacter:"\\eb90"}),m.callIncoming=new m("call-incoming",{fontCharacter:"\\eb92"}),m.callOutgoing=new m("call-outgoing",{fontCharacter:"\\eb93"}),m.menu=new m("menu",{fontCharacter:"\\eb94"}),m.expandAll=new m("expand-all",{fontCharacter:"\\eb95"}),m.feedback=new m("feedback",{fontCharacter:"\\eb96"}),m.groupByRefType=new m("group-by-ref-type",{fontCharacter:"\\eb97"}),m.ungroupByRefType=new m("ungroup-by-ref-type",{fontCharacter:"\\eb98"}),m.account=new m("account",{fontCharacter:"\\eb99"}),m.bellDot=new m("bell-dot",{fontCharacter:"\\eb9a"}),m.debugConsole=new m("debug-console",{fontCharacter:"\\eb9b"}),m.library=new m("library",{fontCharacter:"\\eb9c"}),m.output=new m("output",{fontCharacter:"\\eb9d"}),m.runAll=new m("run-all",{fontCharacter:"\\eb9e"}),m.syncIgnored=new m("sync-ignored",{fontCharacter:"\\eb9f"}),m.pinned=new m("pinned",{fontCharacter:"\\eba0"}),m.githubInverted=new m("github-inverted",{fontCharacter:"\\eba1"}),m.debugAlt=new m("debug-alt",{fontCharacter:"\\eb91"}),m.serverProcess=new m("server-process",{fontCharacter:"\\eba2"}),m.serverEnvironment=new m("server-environment",{fontCharacter:"\\eba3"}),m.pass=new m("pass",{fontCharacter:"\\eba4"}),m.stopCircle=new m("stop-circle",{fontCharacter:"\\eba5"}),m.playCircle=new m("play-circle",{fontCharacter:"\\eba6"}),m.record=new m("record",{fontCharacter:"\\eba7"}),m.debugAltSmall=new m("debug-alt-small",{fontCharacter:"\\eba8"}),m.vmConnect=new m("vm-connect",{fontCharacter:"\\eba9"}),m.cloud=new m("cloud",{fontCharacter:"\\ebaa"}),m.merge=new m("merge",{fontCharacter:"\\ebab"}),m.exportIcon=new m("export",{fontCharacter:"\\ebac"}),m.graphLeft=new m("graph-left",{fontCharacter:"\\ebad"}),m.magnet=new m("magnet",{fontCharacter:"\\ebae"}),m.notebook=new m("notebook",{fontCharacter:"\\ebaf"}),m.redo=new m("redo",{fontCharacter:"\\ebb0"}),m.checkAll=new m("check-all",{fontCharacter:"\\ebb1"}),m.pinnedDirty=new m("pinned-dirty",{fontCharacter:"\\ebb2"}),m.passFilled=new m("pass-filled",{fontCharacter:"\\ebb3"}),m.circleLargeFilled=new m("circle-large-filled",{fontCharacter:"\\ebb4"}),m.circleLarge=new m("circle-large",{fontCharacter:"\\ebb5"}),m.circleLargeOutline=new m("circle-large-outline",m.circleLarge.definition),m.combine=new m("combine",{fontCharacter:"\\ebb6"}),m.gather=new m("gather",{fontCharacter:"\\ebb6"}),m.table=new m("table",{fontCharacter:"\\ebb7"}),m.variableGroup=new m("variable-group",{fontCharacter:"\\ebb8"}),m.typeHierarchy=new m("type-hierarchy",{fontCharacter:"\\ebb9"}),m.typeHierarchySub=new m("type-hierarchy-sub",{fontCharacter:"\\ebba"}),m.typeHierarchySuper=new m("type-hierarchy-super",{fontCharacter:"\\ebbb"}),m.gitPullRequestCreate=new m("git-pull-request-create",{fontCharacter:"\\ebbc"}),m.runAbove=new m("run-above",{fontCharacter:"\\ebbd"}),m.runBelow=new m("run-below",{fontCharacter:"\\ebbe"}),m.notebookTemplate=new m("notebook-template",{fontCharacter:"\\ebbf"}),m.debugRerun=new m("debug-rerun",{fontCharacter:"\\ebc0"}),m.workspaceTrusted=new m("workspace-trusted",{fontCharacter:"\\ebc1"}),m.workspaceUntrusted=new m("workspace-untrusted",{fontCharacter:"\\ebc2"}),m.workspaceUnspecified=new m("workspace-unspecified",{fontCharacter:"\\ebc3"}),m.terminalCmd=new m("terminal-cmd",{fontCharacter:"\\ebc4"}),m.terminalDebian=new m("terminal-debian",{fontCharacter:"\\ebc5"}),m.terminalLinux=new m("terminal-linux",{fontCharacter:"\\ebc6"}),m.terminalPowershell=new m("terminal-powershell",{fontCharacter:"\\ebc7"}),m.terminalTmux=new m("terminal-tmux",{fontCharacter:"\\ebc8"}),m.terminalUbuntu=new m("terminal-ubuntu",{fontCharacter:"\\ebc9"}),m.terminalBash=new m("terminal-bash",{fontCharacter:"\\ebca"}),m.arrowSwap=new m("arrow-swap",{fontCharacter:"\\ebcb"}),m.copy=new m("copy",{fontCharacter:"\\ebcc"}),m.personAdd=new m("person-add",{fontCharacter:"\\ebcd"}),m.filterFilled=new m("filter-filled",{fontCharacter:"\\ebce"}),m.wand=new m("wand",{fontCharacter:"\\ebcf"}),m.debugLineByLine=new m("debug-line-by-line",{fontCharacter:"\\ebd0"}),m.inspect=new m("inspect",{fontCharacter:"\\ebd1"}),m.layers=new m("layers",{fontCharacter:"\\ebd2"}),m.layersDot=new m("layers-dot",{fontCharacter:"\\ebd3"}),m.layersActive=new m("layers-active",{fontCharacter:"\\ebd4"}),m.compass=new m("compass",{fontCharacter:"\\ebd5"}),m.compassDot=new m("compass-dot",{fontCharacter:"\\ebd6"}),m.compassActive=new m("compass-active",{fontCharacter:"\\ebd7"}),m.azure=new m("azure",{fontCharacter:"\\ebd8"}),m.issueDraft=new m("issue-draft",{fontCharacter:"\\ebd9"}),m.gitPullRequestClosed=new m("git-pull-request-closed",{fontCharacter:"\\ebda"}),m.gitPullRequestDraft=new m("git-pull-request-draft",{fontCharacter:"\\ebdb"}),m.debugAll=new m("debug-all",{fontCharacter:"\\ebdc"}),m.debugCoverage=new m("debug-coverage",{fontCharacter:"\\ebdd"}),m.runErrors=new m("run-errors",{fontCharacter:"\\ebde"}),m.folderLibrary=new m("folder-library",{fontCharacter:"\\ebdf"}),m.debugContinueSmall=new m("debug-continue-small",{fontCharacter:"\\ebe0"}),m.beakerStop=new m("beaker-stop",{fontCharacter:"\\ebe1"}),m.graphLine=new m("graph-line",{fontCharacter:"\\ebe2"}),m.graphScatter=new m("graph-scatter",{fontCharacter:"\\ebe3"}),m.pieChart=new m("pie-chart",{fontCharacter:"\\ebe4"}),m.bracket=new m("bracket",m.json.definition),m.bracketDot=new m("bracket-dot",{fontCharacter:"\\ebe5"}),m.bracketError=new m("bracket-error",{fontCharacter:"\\ebe6"}),m.lockSmall=new m("lock-small",{fontCharacter:"\\ebe7"}),m.azureDevops=new m("azure-devops",{fontCharacter:"\\ebe8"}),m.verifiedFilled=new m("verified-filled",{fontCharacter:"\\ebe9"}),m.newLine=new m("newline",{fontCharacter:"\\ebea"}),m.layout=new m("layout",{fontCharacter:"\\ebeb"}),m.layoutActivitybarLeft=new m("layout-activitybar-left",{fontCharacter:"\\ebec"}),m.layoutActivitybarRight=new m("layout-activitybar-right",{fontCharacter:"\\ebed"}),m.layoutPanelLeft=new m("layout-panel-left",{fontCharacter:"\\ebee"}),m.layoutPanelCenter=new m("layout-panel-center",{fontCharacter:"\\ebef"}),m.layoutPanelJustify=new m("layout-panel-justify",{fontCharacter:"\\ebf0"}),m.layoutPanelRight=new m("layout-panel-right",{fontCharacter:"\\ebf1"}),m.layoutPanel=new m("layout-panel",{fontCharacter:"\\ebf2"}),m.layoutSidebarLeft=new m("layout-sidebar-left",{fontCharacter:"\\ebf3"}),m.layoutSidebarRight=new m("layout-sidebar-right",{fontCharacter:"\\ebf4"}),m.layoutStatusbar=new m("layout-statusbar",{fontCharacter:"\\ebf5"}),m.layoutMenubar=new m("layout-menubar",{fontCharacter:"\\ebf6"}),m.layoutCentered=new m("layout-centered",{fontCharacter:"\\ebf7"}),m.layoutSidebarRightOff=new m("layout-sidebar-right-off",{fontCharacter:"\\ec00"}),m.layoutPanelOff=new m("layout-panel-off",{fontCharacter:"\\ec01"}),m.layoutSidebarLeftOff=new m("layout-sidebar-left-off",{fontCharacter:"\\ec02"}),m.target=new m("target",{fontCharacter:"\\ebf8"}),m.indent=new m("indent",{fontCharacter:"\\ebf9"}),m.recordSmall=new m("record-small",{fontCharacter:"\\ebfa"}),m.errorSmall=new m("error-small",{fontCharacter:"\\ebfb"}),m.arrowCircleDown=new m("arrow-circle-down",{fontCharacter:"\\ebfc"}),m.arrowCircleLeft=new m("arrow-circle-left",{fontCharacter:"\\ebfd"}),m.arrowCircleRight=new m("arrow-circle-right",{fontCharacter:"\\ebfe"}),m.arrowCircleUp=new m("arrow-circle-up",{fontCharacter:"\\ebff"}),m.heartFilled=new m("heart-filled",{fontCharacter:"\\ec04"}),m.map=new m("map",{fontCharacter:"\\ec05"}),m.mapFilled=new m("map-filled",{fontCharacter:"\\ec06"}),m.circleSmall=new m("circle-small",{fontCharacter:"\\ec07"}),m.bellSlash=new m("bell-slash",{fontCharacter:"\\ec08"}),m.bellSlashDot=new m("bell-slash-dot",{fontCharacter:"\\ec09"}),m.commentUnresolved=new m("comment-unresolved",{fontCharacter:"\\ec0a"}),m.gitPullRequestGoToChanges=new m("git-pull-request-go-to-changes",{fontCharacter:"\\ec0b"}),m.gitPullRequestNewChanges=new m("git-pull-request-new-changes",{fontCharacter:"\\ec0c"}),m.searchFuzzy=new m("search-fuzzy",{fontCharacter:"\\ec0d"}),m.dialogError=new m("dialog-error",m.error.definition),m.dialogWarning=new m("dialog-warning",m.warning.definition),m.dialogInfo=new m("dialog-info",m.info.definition),m.dialogClose=new m("dialog-close",m.close.definition),m.treeItemExpanded=new m("tree-item-expanded",m.chevronDown.definition),m.treeFilterOnTypeOn=new m("tree-filter-on-type-on",m.listFilter.definition),m.treeFilterOnTypeOff=new m("tree-filter-on-type-off",m.listSelection.definition),m.treeFilterClear=new m("tree-filter-clear",m.close.definition),m.treeItemLoading=new m("tree-item-loading",m.loading.definition),m.menuSelection=new m("menu-selection",m.check.definition),m.menuSubmenu=new m("menu-submenu",m.chevronRight.definition),m.menuBarMore=new m("menubar-more",m.more.definition),m.scrollbarButtonLeft=new m("scrollbar-button-left",m.triangleLeft.definition),m.scrollbarButtonRight=new m("scrollbar-button-right",m.triangleRight.definition),m.scrollbarButtonUp=new m("scrollbar-button-up",m.triangleUp.definition),m.scrollbarButtonDown=new m("scrollbar-button-down",m.triangleDown.definition),m.toolBarMore=new m("toolbar-more",m.more.definition),m.quickInputBack=new m("quick-input-back",m.arrowLeft.definition);var k;(function(D){D.iconNameSegment="[A-Za-z0-9]+",D.iconNameExpression="[A-Za-z0-9-]+",D.iconModifierExpression="~[A-Za-z]+",D.iconNameCharacter="[A-Za-z0-9~-]";const L=new RegExp(`^(${D.iconNameExpression})(${D.iconModifierExpression})?$`);function b(g){if(g instanceof m)return["codicon","codicon-"+g.id];const t=L.exec(g.id);if(!t)return b(m.error);const[,i,n]=t,o=["codicon","codicon-"+i];return n&&o.push("codicon-modifier-"+n.substr(1)),o}D.asClassNameArray=b;function C(g){return b(g).join(" ")}D.asClassName=C;function h(g){return"."+b(g).join(".")}D.asCSSSelector=h})(k=e.CSSIcon||(e.CSSIcon={}))}),define(se[334],re([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SetMap=void 0;class w{constructor(){this.map=new Map}add(k,D){let L=this.map.get(k);L||(L=new Set,this.map.set(k,L)),L.add(D)}delete(k,D){const L=this.map.get(k);!L||(L.delete(D),L.size===0&&this.map.delete(k))}forEach(k,D){const L=this.map.get(k);!L||L.forEach(D)}}e.SetMap=w}),define(se[31],re([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Color=e.HSVA=e.HSLA=e.RGBA=void 0;function w(b,C){const h=Math.pow(10,C);return Math.round(b*h)/h}class m{constructor(C,h,g,t=1){this._rgbaBrand=void 0,this.r=Math.min(255,Math.max(0,C))|0,this.g=Math.min(255,Math.max(0,h))|0,this.b=Math.min(255,Math.max(0,g))|0,this.a=w(Math.max(Math.min(1,t),0),3)}static equals(C,h){return C.r===h.r&&C.g===h.g&&C.b===h.b&&C.a===h.a}}e.RGBA=m;class k{constructor(C,h,g,t){this._hslaBrand=void 0,this.h=Math.max(Math.min(360,C),0)|0,this.s=w(Math.max(Math.min(1,h),0),3),this.l=w(Math.max(Math.min(1,g),0),3),this.a=w(Math.max(Math.min(1,t),0),3)}static equals(C,h){return C.h===h.h&&C.s===h.s&&C.l===h.l&&C.a===h.a}static fromRGBA(C){const h=C.r/255,g=C.g/255,t=C.b/255,i=C.a,n=Math.max(h,g,t),o=Math.min(h,g,t);let l=0,c=0;const d=(o+n)/2,r=n-o;if(r>0){switch(c=Math.min(d<=.5?r/(2*d):r/(2-2*d),1),n){case h:l=(g-t)/r+(g<t?6:0);break;case g:l=(t-h)/r+2;break;case t:l=(h-g)/r+4;break}l*=60,l=Math.round(l)}return new k(l,c,d,i)}static _hue2rgb(C,h,g){return g<0&&(g+=1),g>1&&(g-=1),g<1/6?C+(h-C)*6*g:g<1/2?h:g<2/3?C+(h-C)*(2/3-g)*6:C}static toRGBA(C){const h=C.h/360,{s:g,l:t,a:i}=C;let n,o,l;if(g===0)n=o=l=t;else{const c=t<.5?t*(1+g):t+g-t*g,d=2*t-c;n=k._hue2rgb(d,c,h+1/3),o=k._hue2rgb(d,c,h),l=k._hue2rgb(d,c,h-1/3)}return new m(Math.round(n*255),Math.round(o*255),Math.round(l*255),i)}}e.HSLA=k;class D{constructor(C,h,g,t){this._hsvaBrand=void 0,this.h=Math.max(Math.min(360,C),0)|0,this.s=w(Math.max(Math.min(1,h),0),3),this.v=w(Math.max(Math.min(1,g),0),3),this.a=w(Math.max(Math.min(1,t),0),3)}static equals(C,h){return C.h===h.h&&C.s===h.s&&C.v===h.v&&C.a===h.a}static fromRGBA(C){const h=C.r/255,g=C.g/255,t=C.b/255,i=Math.max(h,g,t),n=Math.min(h,g,t),o=i-n,l=i===0?0:o/i;let c;return o===0?c=0:i===h?c=((g-t)/o%6+6)%6:i===g?c=(t-h)/o+2:c=(h-g)/o+4,new D(Math.round(c*60),l,i,C.a)}static toRGBA(C){const{h,s:g,v:t,a:i}=C,n=t*g,o=n*(1-Math.abs(h/60%2-1)),l=t-n;let[c,d,r]=[0,0,0];return h<60?(c=n,d=o):h<120?(c=o,d=n):h<180?(d=n,r=o):h<240?(d=o,r=n):h<300?(c=o,r=n):h<=360&&(c=n,r=o),c=Math.round((c+l)*255),d=Math.round((d+l)*255),r=Math.round((r+l)*255),new m(c,d,r,i)}}e.HSVA=D;class L{static fromHex(C){return L.Format.CSS.parseHex(C)||L.red}static equals(C,h){return!C&&!h?!0:!C||!h?!1:C.equals(h)}get hsla(){return this._hsla?this._hsla:k.fromRGBA(this.rgba)}get hsva(){return this._hsva?this._hsva:D.fromRGBA(this.rgba)}constructor(C){if(C)if(C instanceof m)this.rgba=C;else if(C instanceof k)this._hsla=C,this.rgba=k.toRGBA(C);else if(C instanceof D)this._hsva=C,this.rgba=D.toRGBA(C);else throw new Error("Invalid color ctor argument");else throw new Error("Color needs a value")}equals(C){return!!C&&m.equals(this.rgba,C.rgba)&&k.equals(this.hsla,C.hsla)&&D.equals(this.hsva,C.hsva)}getRelativeLuminance(){const C=L._relativeLuminanceForComponent(this.rgba.r),h=L._relativeLuminanceForComponent(this.rgba.g),g=L._relativeLuminanceForComponent(this.rgba.b),t=.2126*C+.7152*h+.0722*g;return w(t,4)}static _relativeLuminanceForComponent(C){const h=C/255;return h<=.03928?h/12.92:Math.pow((h+.055)/1.055,2.4)}isLighter(){return(this.rgba.r*299+this.rgba.g*587+this.rgba.b*114)/1e3>=128}isLighterThan(C){const h=this.getRelativeLuminance(),g=C.getRelativeLuminance();return h>g}isDarkerThan(C){const h=this.getRelativeLuminance(),g=C.getRelativeLuminance();return h<g}lighten(C){return new L(new k(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*C,this.hsla.a))}darken(C){return new L(new k(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*C,this.hsla.a))}transparent(C){const{r:h,g,b:t,a:i}=this.rgba;return new L(new m(h,g,t,i*C))}isTransparent(){return this.rgba.a===0}isOpaque(){return this.rgba.a===1}opposite(){return new L(new m(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}toString(){return this._toString||(this._toString=L.Format.CSS.format(this)),this._toString}static getLighterColor(C,h,g){if(C.isLighterThan(h))return C;g=g||.5;const t=C.getRelativeLuminance(),i=h.getRelativeLuminance();return g=g*(i-t)/i,C.lighten(g)}static getDarkerColor(C,h,g){if(C.isDarkerThan(h))return C;g=g||.5;const t=C.getRelativeLuminance(),i=h.getRelativeLuminance();return g=g*(t-i)/t,C.darken(g)}}e.Color=L,L.white=new L(new m(255,255,255,1)),L.black=new L(new m(0,0,0,1)),L.red=new L(new m(255,0,0,1)),L.blue=new L(new m(0,0,255,1)),L.green=new L(new m(0,255,0,1)),L.cyan=new L(new m(0,255,255,1)),L.lightgrey=new L(new m(211,211,211,1)),L.transparent=new L(new m(0,0,0,0)),function(b){let C;(function(h){let g;(function(t){function i(p){return p.rgba.a===1?`rgb(${p.rgba.r}, ${p.rgba.g}, ${p.rgba.b})`:b.Format.CSS.formatRGBA(p)}t.formatRGB=i;function n(p){return`rgba(${p.rgba.r}, ${p.rgba.g}, ${p.rgba.b}, ${+p.rgba.a.toFixed(2)})`}t.formatRGBA=n;function o(p){return p.hsla.a===1?`hsl(${p.hsla.h}, ${(p.hsla.s*100).toFixed(2)}%, ${(p.hsla.l*100).toFixed(2)}%)`:b.Format.CSS.formatHSLA(p)}t.formatHSL=o;function l(p){return`hsla(${p.hsla.h}, ${(p.hsla.s*100).toFixed(2)}%, ${(p.hsla.l*100).toFixed(2)}%, ${p.hsla.a.toFixed(2)})`}t.formatHSLA=l;function c(p){const S=p.toString(16);return S.length!==2?"0"+S:S}function d(p){return`#${c(p.rgba.r)}${c(p.rgba.g)}${c(p.rgba.b)}`}t.formatHex=d;function r(p,S=!1){return S&&p.rgba.a===1?b.Format.CSS.formatHex(p):`#${c(p.rgba.r)}${c(p.rgba.g)}${c(p.rgba.b)}${c(Math.round(p.rgba.a*255))}`}t.formatHexA=r;function s(p){return p.isOpaque()?b.Format.CSS.formatHex(p):b.Format.CSS.formatRGBA(p)}t.format=s;function a(p){const S=p.length;if(S===0||p.charCodeAt(0)!==35)return null;if(S===7){const f=16*u(p.charCodeAt(1))+u(p.charCodeAt(2)),v=16*u(p.charCodeAt(3))+u(p.charCodeAt(4)),_=16*u(p.charCodeAt(5))+u(p.charCodeAt(6));return new b(new m(f,v,_,1))}if(S===9){const f=16*u(p.charCodeAt(1))+u(p.charCodeAt(2)),v=16*u(p.charCodeAt(3))+u(p.charCodeAt(4)),_=16*u(p.charCodeAt(5))+u(p.charCodeAt(6)),y=16*u(p.charCodeAt(7))+u(p.charCodeAt(8));return new b(new m(f,v,_,y/255))}if(S===4){const f=u(p.charCodeAt(1)),v=u(p.charCodeAt(2)),_=u(p.charCodeAt(3));return new b(new m(16*f+f,16*v+v,16*_+_))}if(S===5){const f=u(p.charCodeAt(1)),v=u(p.charCodeAt(2)),_=u(p.charCodeAt(3)),y=u(p.charCodeAt(4));return new b(new m(16*f+f,16*v+v,16*_+_,(16*y+y)/255))}return null}t.parseHex=a;function u(p){switch(p){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:return 10;case 65:return 10;case 98:return 11;case 66:return 11;case 99:return 12;case 67:return 12;case 100:return 13;case 68:return 13;case 101:return 14;case 69:return 14;case 102:return 15;case 70:return 15}return 0}})(g=h.CSS||(h.CSS={}))})(C=b.Format||(b.Format={}))}(L=e.Color||(e.Color={}))}),define(se[105],re([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.memoize=void 0;function w(m,k,D){let L=null,b=null;if(typeof D.value=="function"?(L="value",b=D.value,b.length!==0&&console.warn("Memoize should only be used in functions with zero parameters")):typeof D.get=="function"&&(L="get",b=D.get),!b)throw new Error("not supported");const C=`$memoize$${k}`;D[L]=function(...h){return this.hasOwnProperty(C)||Object.defineProperty(this,C,{configurable:!1,enumerable:!1,writable:!1,value:b.apply(this,h)}),this[C]}}e.memoize=w}),define(se[335],re([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffChange=void 0;class w{constructor(k,D,L,b){this.originalStart=k,this.originalLength=D,this.modifiedStart=L,this.modifiedLength=b}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}}e.DiffChange=w}),define(se[14],re([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BugIndicatingError=e.ErrorNoTelemetry=e.NotSupportedError=e.illegalState=e.illegalArgument=e.canceled=e.CancellationError=e.isCancellationError=e.transformErrorForSerialization=e.onUnexpectedExternalError=e.onUnexpectedError=e.errorHandler=e.ErrorHandler=void 0;class w{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(c){setTimeout(()=>{throw c.stack?n.isErrorNoTelemetry(c)?new n(c.message+`

`+c.stack):new Error(c.message+`

`+c.stack):c},0)}}emit(c){this.listeners.forEach(d=>{d(c)})}onUnexpectedError(c){this.unexpectedErrorHandler(c),this.emit(c)}onUnexpectedExternalError(c){this.unexpectedErrorHandler(c)}}e.ErrorHandler=w,e.errorHandler=new w;function m(l){b(l)||e.errorHandler.onUnexpectedError(l)}e.onUnexpectedError=m;function k(l){b(l)||e.errorHandler.onUnexpectedExternalError(l)}e.onUnexpectedExternalError=k;function D(l){if(l instanceof Error){const{name:c,message:d}=l,r=l.stacktrace||l.stack;return{$isError:!0,name:c,message:d,stack:r,noTelemetry:n.isErrorNoTelemetry(l)}}return l}e.transformErrorForSerialization=D;const L="Canceled";function b(l){return l instanceof C?!0:l instanceof Error&&l.name===L&&l.message===L}e.isCancellationError=b;class C extends Error{constructor(){super(L),this.name=this.message}}e.CancellationError=C;function h(){const l=new Error(L);return l.name=l.message,l}e.canceled=h;function g(l){return l?new Error(`Illegal argument: ${l}`):new Error("Illegal argument")}e.illegalArgument=g;function t(l){return l?new Error(`Illegal state: ${l}`):new Error("Illegal state")}e.illegalState=t;class i extends Error{constructor(c){super("NotSupported"),c&&(this.message=c)}}e.NotSupportedError=i;class n extends Error{constructor(c){super(c),this.name="CodeExpectedError"}static fromError(c){if(c instanceof n)return c;const d=new n;return d.message=c.message,d.stack=c.stack,d}static isErrorNoTelemetry(c){return c.name==="CodeExpectedError"}}e.ErrorNoTelemetry=n;class o extends Error{constructor(c){super(c||"An unexpected bug occurred."),Object.setPrototypeOf(this,o.prototype);debugger}}e.BugIndicatingError=o}),define(se[83],re([1,0,14]),function(q,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.checkAdjacentItems=e.assertFn=e.assertNever=e.ok=void 0;function m(b,C){if(!b)throw new Error(C?`Assertion failed (${C})`:"Assertion Failed")}e.ok=m;function k(b,C="Unreachable"){throw new Error(C)}e.assertNever=k;function D(b){if(!b()){debugger;b(),(0,w.onUnexpectedError)(new w.BugIndicatingError("Assertion Failed"))}}e.assertFn=D;function L(b,C){let h=0;for(;h<b.length-1;){const g=b[h],t=b[h+1];if(!C(g,t))return!1;h++}return!0}e.checkAdjacentItems=L}),define(se[98],re([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.once=void 0;function w(m){const k=this;let D=!1,L;return function(){return D||(D=!0,L=m.apply(k,arguments)),L}}e.once=w}),define(se[147],re([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultGenerator=e.IdGenerator=void 0;class w{constructor(k){this._prefix=k,this._lastId=0}nextId(){return this._prefix+ ++this._lastId}}e.IdGenerator=w,e.defaultGenerator=new w("id#")}),define(se[55],re([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Iterable=void 0;var w;(function(m){function k(s){return s&&typeof s=="object"&&typeof s[Symbol.iterator]=="function"}m.is=k;const D=Object.freeze([]);function L(){return D}m.empty=L;function*b(s){yield s}m.single=b;function C(s){return s||D}m.from=C;function h(s){return!s||s[Symbol.iterator]().next().done===!0}m.isEmpty=h;function g(s){return s[Symbol.iterator]().next().value}m.first=g;function t(s,a){for(const u of s)if(a(u))return!0;return!1}m.some=t;function i(s,a){for(const u of s)if(a(u))return u}m.find=i;function*n(s,a){for(const u of s)a(u)&&(yield u)}m.filter=n;function*o(s,a){let u=0;for(const p of s)yield a(p,u++)}m.map=o;function*l(...s){for(const a of s)for(const u of a)yield u}m.concat=l;function c(s,a,u){let p=u;for(const S of s)p=a(p,S);return p}m.reduce=c;function*d(s,a,u=s.length){for(a<0&&(a+=s.length),u<0?u+=s.length:u>s.length&&(u=s.length);a<u;a++)yield s[a]}m.slice=d;function r(s,a=Number.POSITIVE_INFINITY){const u=[];if(a===0)return[u,s];const p=s[Symbol.iterator]();for(let S=0;S<a;S++){const f=p.next();if(f.done)return[u,m.empty()];u.push(f.value)}return[u,{[Symbol.iterator](){return p}}]}m.consume=r})(w=e.Iterable||(e.Iterable={}))}),define(se[57],re([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeyChord=e.KeyCodeUtils=e.IMMUTABLE_KEY_CODE_TO_CODE=e.IMMUTABLE_CODE_TO_KEY_CODE=e.NATIVE_WINDOWS_KEY_CODE_TO_KEY_CODE=e.EVENT_KEY_CODE_MAP=void 0;class w{constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(i,n){this._keyCodeToStr[i]=n,this._strToKeyCode[n.toLowerCase()]=i}keyCodeToStr(i){return this._keyCodeToStr[i]}strToKeyCode(i){return this._strToKeyCode[i.toLowerCase()]||0}}const m=new w,k=new w,D=new w;e.EVENT_KEY_CODE_MAP=new Array(230),e.NATIVE_WINDOWS_KEY_CODE_TO_KEY_CODE={};const L=[],b=Object.create(null),C=Object.create(null);e.IMMUTABLE_CODE_TO_KEY_CODE=[],e.IMMUTABLE_KEY_CODE_TO_CODE=[];for(let t=0;t<=193;t++)e.IMMUTABLE_CODE_TO_KEY_CODE[t]=-1;for(let t=0;t<=127;t++)e.IMMUTABLE_KEY_CODE_TO_CODE[t]=-1;(function(){const t="",i=[[0,1,0,"None",0,"unknown",0,"VK_UNKNOWN",t,t],[0,1,1,"Hyper",0,t,0,t,t,t],[0,1,2,"Super",0,t,0,t,t,t],[0,1,3,"Fn",0,t,0,t,t,t],[0,1,4,"FnLock",0,t,0,t,t,t],[0,1,5,"Suspend",0,t,0,t,t,t],[0,1,6,"Resume",0,t,0,t,t,t],[0,1,7,"Turbo",0,t,0,t,t,t],[0,1,8,"Sleep",0,t,0,"VK_SLEEP",t,t],[0,1,9,"WakeUp",0,t,0,t,t,t],[31,0,10,"KeyA",31,"A",65,"VK_A",t,t],[32,0,11,"KeyB",32,"B",66,"VK_B",t,t],[33,0,12,"KeyC",33,"C",67,"VK_C",t,t],[34,0,13,"KeyD",34,"D",68,"VK_D",t,t],[35,0,14,"KeyE",35,"E",69,"VK_E",t,t],[36,0,15,"KeyF",36,"F",70,"VK_F",t,t],[37,0,16,"KeyG",37,"G",71,"VK_G",t,t],[38,0,17,"KeyH",38,"H",72,"VK_H",t,t],[39,0,18,"KeyI",39,"I",73,"VK_I",t,t],[40,0,19,"KeyJ",40,"J",74,"VK_J",t,t],[41,0,20,"KeyK",41,"K",75,"VK_K",t,t],[42,0,21,"KeyL",42,"L",76,"VK_L",t,t],[43,0,22,"KeyM",43,"M",77,"VK_M",t,t],[44,0,23,"KeyN",44,"N",78,"VK_N",t,t],[45,0,24,"KeyO",45,"O",79,"VK_O",t,t],[46,0,25,"KeyP",46,"P",80,"VK_P",t,t],[47,0,26,"KeyQ",47,"Q",81,"VK_Q",t,t],[48,0,27,"KeyR",48,"R",82,"VK_R",t,t],[49,0,28,"KeyS",49,"S",83,"VK_S",t,t],[50,0,29,"KeyT",50,"T",84,"VK_T",t,t],[51,0,30,"KeyU",51,"U",85,"VK_U",t,t],[52,0,31,"KeyV",52,"V",86,"VK_V",t,t],[53,0,32,"KeyW",53,"W",87,"VK_W",t,t],[54,0,33,"KeyX",54,"X",88,"VK_X",t,t],[55,0,34,"KeyY",55,"Y",89,"VK_Y",t,t],[56,0,35,"KeyZ",56,"Z",90,"VK_Z",t,t],[22,0,36,"Digit1",22,"1",49,"VK_1",t,t],[23,0,37,"Digit2",23,"2",50,"VK_2",t,t],[24,0,38,"Digit3",24,"3",51,"VK_3",t,t],[25,0,39,"Digit4",25,"4",52,"VK_4",t,t],[26,0,40,"Digit5",26,"5",53,"VK_5",t,t],[27,0,41,"Digit6",27,"6",54,"VK_6",t,t],[28,0,42,"Digit7",28,"7",55,"VK_7",t,t],[29,0,43,"Digit8",29,"8",56,"VK_8",t,t],[30,0,44,"Digit9",30,"9",57,"VK_9",t,t],[21,0,45,"Digit0",21,"0",48,"VK_0",t,t],[3,1,46,"Enter",3,"Enter",13,"VK_RETURN",t,t],[9,1,47,"Escape",9,"Escape",27,"VK_ESCAPE",t,t],[1,1,48,"Backspace",1,"Backspace",8,"VK_BACK",t,t],[2,1,49,"Tab",2,"Tab",9,"VK_TAB",t,t],[10,1,50,"Space",10,"Space",32,"VK_SPACE",t,t],[83,0,51,"Minus",83,"-",189,"VK_OEM_MINUS","-","OEM_MINUS"],[81,0,52,"Equal",81,"=",187,"VK_OEM_PLUS","=","OEM_PLUS"],[87,0,53,"BracketLeft",87,"[",219,"VK_OEM_4","[","OEM_4"],[89,0,54,"BracketRight",89,"]",221,"VK_OEM_6","]","OEM_6"],[88,0,55,"Backslash",88,"\\",220,"VK_OEM_5","\\","OEM_5"],[0,0,56,"IntlHash",0,t,0,t,t,t],[80,0,57,"Semicolon",80,";",186,"VK_OEM_1",";","OEM_1"],[90,0,58,"Quote",90,"'",222,"VK_OEM_7","'","OEM_7"],[86,0,59,"Backquote",86,"`",192,"VK_OEM_3","`","OEM_3"],[82,0,60,"Comma",82,",",188,"VK_OEM_COMMA",",","OEM_COMMA"],[84,0,61,"Period",84,".",190,"VK_OEM_PERIOD",".","OEM_PERIOD"],[85,0,62,"Slash",85,"/",191,"VK_OEM_2","/","OEM_2"],[8,1,63,"CapsLock",8,"CapsLock",20,"VK_CAPITAL",t,t],[59,1,64,"F1",59,"F1",112,"VK_F1",t,t],[60,1,65,"F2",60,"F2",113,"VK_F2",t,t],[61,1,66,"F3",61,"F3",114,"VK_F3",t,t],[62,1,67,"F4",62,"F4",115,"VK_F4",t,t],[63,1,68,"F5",63,"F5",116,"VK_F5",t,t],[64,1,69,"F6",64,"F6",117,"VK_F6",t,t],[65,1,70,"F7",65,"F7",118,"VK_F7",t,t],[66,1,71,"F8",66,"F8",119,"VK_F8",t,t],[67,1,72,"F9",67,"F9",120,"VK_F9",t,t],[68,1,73,"F10",68,"F10",121,"VK_F10",t,t],[69,1,74,"F11",69,"F11",122,"VK_F11",t,t],[70,1,75,"F12",70,"F12",123,"VK_F12",t,t],[0,1,76,"PrintScreen",0,t,0,t,t,t],[79,1,77,"ScrollLock",79,"ScrollLock",145,"VK_SCROLL",t,t],[7,1,78,"Pause",7,"PauseBreak",19,"VK_PAUSE",t,t],[19,1,79,"Insert",19,"Insert",45,"VK_INSERT",t,t],[14,1,80,"Home",14,"Home",36,"VK_HOME",t,t],[11,1,81,"PageUp",11,"PageUp",33,"VK_PRIOR",t,t],[20,1,82,"Delete",20,"Delete",46,"VK_DELETE",t,t],[13,1,83,"End",13,"End",35,"VK_END",t,t],[12,1,84,"PageDown",12,"PageDown",34,"VK_NEXT",t,t],[17,1,85,"ArrowRight",17,"RightArrow",39,"VK_RIGHT","Right",t],[15,1,86,"ArrowLeft",15,"LeftArrow",37,"VK_LEFT","Left",t],[18,1,87,"ArrowDown",18,"DownArrow",40,"VK_DOWN","Down",t],[16,1,88,"ArrowUp",16,"UpArrow",38,"VK_UP","Up",t],[78,1,89,"NumLock",78,"NumLock",144,"VK_NUMLOCK",t,t],[108,1,90,"NumpadDivide",108,"NumPad_Divide",111,"VK_DIVIDE",t,t],[103,1,91,"NumpadMultiply",103,"NumPad_Multiply",106,"VK_MULTIPLY",t,t],[106,1,92,"NumpadSubtract",106,"NumPad_Subtract",109,"VK_SUBTRACT",t,t],[104,1,93,"NumpadAdd",104,"NumPad_Add",107,"VK_ADD",t,t],[3,1,94,"NumpadEnter",3,t,0,t,t,t],[94,1,95,"Numpad1",94,"NumPad1",97,"VK_NUMPAD1",t,t],[95,1,96,"Numpad2",95,"NumPad2",98,"VK_NUMPAD2",t,t],[96,1,97,"Numpad3",96,"NumPad3",99,"VK_NUMPAD3",t,t],[97,1,98,"Numpad4",97,"NumPad4",100,"VK_NUMPAD4",t,t],[98,1,99,"Numpad5",98,"NumPad5",101,"VK_NUMPAD5",t,t],[99,1,100,"Numpad6",99,"NumPad6",102,"VK_NUMPAD6",t,t],[100,1,101,"Numpad7",100,"NumPad7",103,"VK_NUMPAD7",t,t],[101,1,102,"Numpad8",101,"NumPad8",104,"VK_NUMPAD8",t,t],[102,1,103,"Numpad9",102,"NumPad9",105,"VK_NUMPAD9",t,t],[93,1,104,"Numpad0",93,"NumPad0",96,"VK_NUMPAD0",t,t],[107,1,105,"NumpadDecimal",107,"NumPad_Decimal",110,"VK_DECIMAL",t,t],[92,0,106,"IntlBackslash",92,"OEM_102",226,"VK_OEM_102",t,t],[58,1,107,"ContextMenu",58,"ContextMenu",93,t,t,t],[0,1,108,"Power",0,t,0,t,t,t],[0,1,109,"NumpadEqual",0,t,0,t,t,t],[71,1,110,"F13",71,"F13",124,"VK_F13",t,t],[72,1,111,"F14",72,"F14",125,"VK_F14",t,t],[73,1,112,"F15",73,"F15",126,"VK_F15",t,t],[74,1,113,"F16",74,"F16",127,"VK_F16",t,t],[75,1,114,"F17",75,"F17",128,"VK_F17",t,t],[76,1,115,"F18",76,"F18",129,"VK_F18",t,t],[77,1,116,"F19",77,"F19",130,"VK_F19",t,t],[0,1,117,"F20",0,t,0,"VK_F20",t,t],[0,1,118,"F21",0,t,0,"VK_F21",t,t],[0,1,119,"F22",0,t,0,"VK_F22",t,t],[0,1,120,"F23",0,t,0,"VK_F23",t,t],[0,1,121,"F24",0,t,0,"VK_F24",t,t],[0,1,122,"Open",0,t,0,t,t,t],[0,1,123,"Help",0,t,0,t,t,t],[0,1,124,"Select",0,t,0,t,t,t],[0,1,125,"Again",0,t,0,t,t,t],[0,1,126,"Undo",0,t,0,t,t,t],[0,1,127,"Cut",0,t,0,t,t,t],[0,1,128,"Copy",0,t,0,t,t,t],[0,1,129,"Paste",0,t,0,t,t,t],[0,1,130,"Find",0,t,0,t,t,t],[0,1,131,"AudioVolumeMute",112,"AudioVolumeMute",173,"VK_VOLUME_MUTE",t,t],[0,1,132,"AudioVolumeUp",113,"AudioVolumeUp",175,"VK_VOLUME_UP",t,t],[0,1,133,"AudioVolumeDown",114,"AudioVolumeDown",174,"VK_VOLUME_DOWN",t,t],[105,1,134,"NumpadComma",105,"NumPad_Separator",108,"VK_SEPARATOR",t,t],[110,0,135,"IntlRo",110,"ABNT_C1",193,"VK_ABNT_C1",t,t],[0,1,136,"KanaMode",0,t,0,t,t,t],[0,0,137,"IntlYen",0,t,0,t,t,t],[0,1,138,"Convert",0,t,0,t,t,t],[0,1,139,"NonConvert",0,t,0,t,t,t],[0,1,140,"Lang1",0,t,0,t,t,t],[0,1,141,"Lang2",0,t,0,t,t,t],[0,1,142,"Lang3",0,t,0,t,t,t],[0,1,143,"Lang4",0,t,0,t,t,t],[0,1,144,"Lang5",0,t,0,t,t,t],[0,1,145,"Abort",0,t,0,t,t,t],[0,1,146,"Props",0,t,0,t,t,t],[0,1,147,"NumpadParenLeft",0,t,0,t,t,t],[0,1,148,"NumpadParenRight",0,t,0,t,t,t],[0,1,149,"NumpadBackspace",0,t,0,t,t,t],[0,1,150,"NumpadMemoryStore",0,t,0,t,t,t],[0,1,151,"NumpadMemoryRecall",0,t,0,t,t,t],[0,1,152,"NumpadMemoryClear",0,t,0,t,t,t],[0,1,153,"NumpadMemoryAdd",0,t,0,t,t,t],[0,1,154,"NumpadMemorySubtract",0,t,0,t,t,t],[0,1,155,"NumpadClear",126,"Clear",12,"VK_CLEAR",t,t],[0,1,156,"NumpadClearEntry",0,t,0,t,t,t],[5,1,0,t,5,"Ctrl",17,"VK_CONTROL",t,t],[4,1,0,t,4,"Shift",16,"VK_SHIFT",t,t],[6,1,0,t,6,"Alt",18,"VK_MENU",t,t],[57,1,0,t,57,"Meta",0,"VK_COMMAND",t,t],[5,1,157,"ControlLeft",5,t,0,"VK_LCONTROL",t,t],[4,1,158,"ShiftLeft",4,t,0,"VK_LSHIFT",t,t],[6,1,159,"AltLeft",6,t,0,"VK_LMENU",t,t],[57,1,160,"MetaLeft",57,t,0,"VK_LWIN",t,t],[5,1,161,"ControlRight",5,t,0,"VK_RCONTROL",t,t],[4,1,162,"ShiftRight",4,t,0,"VK_RSHIFT",t,t],[6,1,163,"AltRight",6,t,0,"VK_RMENU",t,t],[57,1,164,"MetaRight",57,t,0,"VK_RWIN",t,t],[0,1,165,"BrightnessUp",0,t,0,t,t,t],[0,1,166,"BrightnessDown",0,t,0,t,t,t],[0,1,167,"MediaPlay",0,t,0,t,t,t],[0,1,168,"MediaRecord",0,t,0,t,t,t],[0,1,169,"MediaFastForward",0,t,0,t,t,t],[0,1,170,"MediaRewind",0,t,0,t,t,t],[114,1,171,"MediaTrackNext",119,"MediaTrackNext",176,"VK_MEDIA_NEXT_TRACK",t,t],[115,1,172,"MediaTrackPrevious",120,"MediaTrackPrevious",177,"VK_MEDIA_PREV_TRACK",t,t],[116,1,173,"MediaStop",121,"MediaStop",178,"VK_MEDIA_STOP",t,t],[0,1,174,"Eject",0,t,0,t,t,t],[117,1,175,"MediaPlayPause",122,"MediaPlayPause",179,"VK_MEDIA_PLAY_PAUSE",t,t],[0,1,176,"MediaSelect",123,"LaunchMediaPlayer",181,"VK_MEDIA_LAUNCH_MEDIA_SELECT",t,t],[0,1,177,"LaunchMail",124,"LaunchMail",180,"VK_MEDIA_LAUNCH_MAIL",t,t],[0,1,178,"LaunchApp2",125,"LaunchApp2",183,"VK_MEDIA_LAUNCH_APP2",t,t],[0,1,179,"LaunchApp1",0,t,0,"VK_MEDIA_LAUNCH_APP1",t,t],[0,1,180,"SelectTask",0,t,0,t,t,t],[0,1,181,"LaunchScreenSaver",0,t,0,t,t,t],[0,1,182,"BrowserSearch",115,"BrowserSearch",170,"VK_BROWSER_SEARCH",t,t],[0,1,183,"BrowserHome",116,"BrowserHome",172,"VK_BROWSER_HOME",t,t],[112,1,184,"BrowserBack",117,"BrowserBack",166,"VK_BROWSER_BACK",t,t],[113,1,185,"BrowserForward",118,"BrowserForward",167,"VK_BROWSER_FORWARD",t,t],[0,1,186,"BrowserStop",0,t,0,"VK_BROWSER_STOP",t,t],[0,1,187,"BrowserRefresh",0,t,0,"VK_BROWSER_REFRESH",t,t],[0,1,188,"BrowserFavorites",0,t,0,"VK_BROWSER_FAVORITES",t,t],[0,1,189,"ZoomToggle",0,t,0,t,t,t],[0,1,190,"MailReply",0,t,0,t,t,t],[0,1,191,"MailForward",0,t,0,t,t,t],[0,1,192,"MailSend",0,t,0,t,t,t],[109,1,0,t,109,"KeyInComposition",229,t,t,t],[111,1,0,t,111,"ABNT_C2",194,"VK_ABNT_C2",t,t],[91,1,0,t,91,"OEM_8",223,"VK_OEM_8",t,t],[0,1,0,t,0,t,0,"VK_KANA",t,t],[0,1,0,t,0,t,0,"VK_HANGUL",t,t],[0,1,0,t,0,t,0,"VK_JUNJA",t,t],[0,1,0,t,0,t,0,"VK_FINAL",t,t],[0,1,0,t,0,t,0,"VK_HANJA",t,t],[0,1,0,t,0,t,0,"VK_KANJI",t,t],[0,1,0,t,0,t,0,"VK_CONVERT",t,t],[0,1,0,t,0,t,0,"VK_NONCONVERT",t,t],[0,1,0,t,0,t,0,"VK_ACCEPT",t,t],[0,1,0,t,0,t,0,"VK_MODECHANGE",t,t],[0,1,0,t,0,t,0,"VK_SELECT",t,t],[0,1,0,t,0,t,0,"VK_PRINT",t,t],[0,1,0,t,0,t,0,"VK_EXECUTE",t,t],[0,1,0,t,0,t,0,"VK_SNAPSHOT",t,t],[0,1,0,t,0,t,0,"VK_HELP",t,t],[0,1,0,t,0,t,0,"VK_APPS",t,t],[0,1,0,t,0,t,0,"VK_PROCESSKEY",t,t],[0,1,0,t,0,t,0,"VK_PACKET",t,t],[0,1,0,t,0,t,0,"VK_DBE_SBCSCHAR",t,t],[0,1,0,t,0,t,0,"VK_DBE_DBCSCHAR",t,t],[0,1,0,t,0,t,0,"VK_ATTN",t,t],[0,1,0,t,0,t,0,"VK_CRSEL",t,t],[0,1,0,t,0,t,0,"VK_EXSEL",t,t],[0,1,0,t,0,t,0,"VK_EREOF",t,t],[0,1,0,t,0,t,0,"VK_PLAY",t,t],[0,1,0,t,0,t,0,"VK_ZOOM",t,t],[0,1,0,t,0,t,0,"VK_NONAME",t,t],[0,1,0,t,0,t,0,"VK_PA1",t,t],[0,1,0,t,0,t,0,"VK_OEM_CLEAR",t,t]],n=[],o=[];for(const l of i){const[c,d,r,s,a,u,p,S,f,v]=l;if(o[r]||(o[r]=!0,L[r]=s,b[s]=r,C[s.toLowerCase()]=r,d&&(e.IMMUTABLE_CODE_TO_KEY_CODE[r]=a,a!==0&&a!==3&&a!==5&&a!==4&&a!==6&&a!==57&&(e.IMMUTABLE_KEY_CODE_TO_CODE[a]=r))),!n[a]){if(n[a]=!0,!u)throw new Error(`String representation missing for key code ${a} around scan code ${s}`);m.define(a,u),k.define(a,f||u),D.define(a,v||f||u)}p&&(e.EVENT_KEY_CODE_MAP[p]=a),S&&(e.NATIVE_WINDOWS_KEY_CODE_TO_KEY_CODE[S]=a)}e.IMMUTABLE_KEY_CODE_TO_CODE[3]=46})();var h;(function(t){function i(r){return m.keyCodeToStr(r)}t.toString=i;function n(r){return m.strToKeyCode(r)}t.fromString=n;function o(r){return k.keyCodeToStr(r)}t.toUserSettingsUS=o;function l(r){return D.keyCodeToStr(r)}t.toUserSettingsGeneral=l;function c(r){return k.strToKeyCode(r)||D.strToKeyCode(r)}t.fromUserSettings=c;function d(r){if(r>=93&&r<=108)return null;switch(r){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return m.keyCodeToStr(r)}t.toElectronAccelerator=d})(h=e.KeyCodeUtils||(e.KeyCodeUtils={}));function g(t,i){const n=(i&65535)<<16>>>0;return(t|n)>>>0}e.KeyChord=g}),define(se[106],re([1,0,14]),function(q,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResolvedKeybinding=e.ResolvedKeybindingPart=e.ScanCodeBinding=e.ChordKeybinding=e.SimpleKeybinding=e.createSimpleKeybinding=e.createKeybinding=void 0;function m(g,t){if(g===0)return null;const i=(g&65535)>>>0,n=(g&4294901760)>>>16;return n!==0?new L([k(i,t),k(n,t)]):new L([k(i,t)])}e.createKeybinding=m;function k(g,t){const i=!!(g&2048),n=!!(g&256),o=t===2?n:i,l=!!(g&1024),c=!!(g&512),d=t===2?i:n,r=g&255;return new D(o,l,c,d,r)}e.createSimpleKeybinding=k;class D{constructor(t,i,n,o,l){this.ctrlKey=t,this.shiftKey=i,this.altKey=n,this.metaKey=o,this.keyCode=l}equals(t){return this.ctrlKey===t.ctrlKey&&this.shiftKey===t.shiftKey&&this.altKey===t.altKey&&this.metaKey===t.metaKey&&this.keyCode===t.keyCode}isModifierKey(){return this.keyCode===0||this.keyCode===5||this.keyCode===57||this.keyCode===6||this.keyCode===4}toChord(){return new L([this])}isDuplicateModifierCase(){return this.ctrlKey&&this.keyCode===5||this.shiftKey&&this.keyCode===4||this.altKey&&this.keyCode===6||this.metaKey&&this.keyCode===57}}e.SimpleKeybinding=D;class L{constructor(t){if(t.length===0)throw(0,w.illegalArgument)("parts");this.parts=t}}e.ChordKeybinding=L;class b{constructor(t,i,n,o,l){this.ctrlKey=t,this.shiftKey=i,this.altKey=n,this.metaKey=o,this.scanCode=l}isDuplicateModifierCase(){return this.ctrlKey&&(this.scanCode===157||this.scanCode===161)||this.shiftKey&&(this.scanCode===158||this.scanCode===162)||this.altKey&&(this.scanCode===159||this.scanCode===163)||this.metaKey&&(this.scanCode===160||this.scanCode===164)}}e.ScanCodeBinding=b;class C{constructor(t,i,n,o,l,c){this.ctrlKey=t,this.shiftKey=i,this.altKey=n,this.metaKey=o,this.keyLabel=l,this.keyAriaLabel=c}}e.ResolvedKeybindingPart=C;class h{}e.ResolvedKeybinding=h}),define(se[125],re([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Lazy=void 0;class w{constructor(k){this.executor=k,this._didRun=!1}getValue(){if(!this._didRun)try{this._value=this.executor()}catch(k){this._error=k}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}}e.Lazy=w}),define(se[2],re([1,0,98,55]),function(q,e,w,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DisposableMap=e.ImmortalReference=e.SafeDisposable=e.RefCountedDisposable=e.MutableDisposable=e.Disposable=e.DisposableStore=e.toDisposable=e.combinedDisposable=e.dispose=e.isDisposable=e.markAsSingleton=e.setDisposableTracker=void 0;const k=!1;let D=null;function L(S){D=S}if(e.setDisposableTracker=L,k){const S="__is_disposable_tracked__";L(new class{trackDisposable(f){const v=new Error("Potentially leaked disposable").stack;setTimeout(()=>{f[S]||console.log(v)},3e3)}setParent(f,v){if(f&&f!==d.None)try{f[S]=!0}catch{}}markAsDisposed(f){if(f&&f!==d.None)try{f[S]=!0}catch{}}markAsSingleton(f){}})}function b(S){return D?.trackDisposable(S),S}function C(S){D?.markAsDisposed(S)}function h(S,f){D?.setParent(S,f)}function g(S,f){if(!!D)for(const v of S)D.setParent(v,f)}function t(S){return D?.markAsSingleton(S),S}e.markAsSingleton=t;function i(S){return typeof S.dispose=="function"&&S.dispose.length===0}e.isDisposable=i;function n(S){if(m.Iterable.is(S)){const f=[];for(const v of S)if(v)try{v.dispose()}catch(_){f.push(_)}if(f.length===1)throw f[0];if(f.length>1)throw new AggregateError(f,"Encountered errors while disposing of store");return Array.isArray(S)?[]:S}else if(S)return S.dispose(),S}e.dispose=n;function o(...S){const f=l(()=>n(S));return g(S,f),f}e.combinedDisposable=o;function l(S){const f=b({dispose:(0,w.once)(()=>{C(f),S()})});return f}e.toDisposable=l;class c{constructor(){this._toDispose=new Set,this._isDisposed=!1,b(this)}dispose(){this._isDisposed||(C(this),this._isDisposed=!0,this.clear())}get isDisposed(){return this._isDisposed}clear(){if(this._toDispose.size!==0)try{n(this._toDispose)}finally{this._toDispose.clear()}}add(f){if(!f)return f;if(f===this)throw new Error("Cannot register a disposable on itself!");return h(f,this),this._isDisposed?c.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(f),f}}e.DisposableStore=c,c.DISABLE_DISPOSED_WARNING=!1;class d{constructor(){this._store=new c,b(this),h(this._store,this)}dispose(){C(this),this._store.dispose()}_register(f){if(f===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(f)}}e.Disposable=d,d.None=Object.freeze({dispose(){}});class r{constructor(){this._isDisposed=!1,b(this)}get value(){return this._isDisposed?void 0:this._value}set value(f){var v;this._isDisposed||f===this._value||((v=this._value)===null||v===void 0||v.dispose(),f&&h(f,this),this._value=f)}clear(){this.value=void 0}dispose(){var f;this._isDisposed=!0,C(this),(f=this._value)===null||f===void 0||f.dispose(),this._value=void 0}clearAndLeak(){const f=this._value;return this._value=void 0,f&&h(f,null),f}}e.MutableDisposable=r;class s{constructor(f){this._disposable=f,this._counter=1}acquire(){return this._counter++,this}release(){return--this._counter===0&&this._disposable.dispose(),this}}e.RefCountedDisposable=s;class a{constructor(){this.dispose=()=>{},this.unset=()=>{},this.isset=()=>!1,b(this)}set(f){let v=f;return this.unset=()=>v=void 0,this.isset=()=>v!==void 0,this.dispose=()=>{v&&(v(),v=void 0,C(this))},this}}e.SafeDisposable=a;class u{constructor(f){this.object=f}dispose(){}}e.ImmortalReference=u;class p{constructor(){this._store=new Map,this._isDisposed=!1,b(this)}dispose(){C(this),this._isDisposed=!0,this.clearAndDisposeAll()}clearAndDisposeAll(){if(!!this._store.size)try{n(this._store.values())}finally{this._store.clear()}}has(f){return this._store.has(f)}get(f){return this._store.get(f)}set(f,v,_=!1){var y;this._isDisposed&&console.warn(new Error("Trying to add a disposable to a DisposableMap that has already been disposed of. The added object will be leaked!").stack),_||(y=this._store.get(f))===null||y===void 0||y.dispose(),this._store.set(f,v)}[Symbol.iterator](){return this._store[Symbol.iterator]()}}e.DisposableMap=p}),define(se[58],re([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinkedList=void 0;class w{constructor(D){this.element=D,this.next=w.Undefined,this.prev=w.Undefined}}w.Undefined=new w(void 0);class m{constructor(){this._first=w.Undefined,this._last=w.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===w.Undefined}clear(){let D=this._first;for(;D!==w.Undefined;){const L=D.next;D.prev=w.Undefined,D.next=w.Undefined,D=L}this._first=w.Undefined,this._last=w.Undefined,this._size=0}unshift(D){return this._insert(D,!1)}push(D){return this._insert(D,!0)}_insert(D,L){const b=new w(D);if(this._first===w.Undefined)this._first=b,this._last=b;else if(L){const h=this._last;this._last=b,b.prev=h,h.next=b}else{const h=this._first;this._first=b,b.next=h,h.prev=b}this._size+=1;let C=!1;return()=>{C||(C=!0,this._remove(b))}}shift(){if(this._first!==w.Undefined){const D=this._first.element;return this._remove(this._first),D}}pop(){if(this._last!==w.Undefined){const D=this._last.element;return this._remove(this._last),D}}_remove(D){if(D.prev!==w.Undefined&&D.next!==w.Undefined){const L=D.prev;L.next=D.next,D.next.prev=L}else D.prev===w.Undefined&&D.next===w.Undefined?(this._first=w.Undefined,this._last=w.Undefined):D.next===w.Undefined?(this._last=this._last.prev,this._last.next=w.Undefined):D.prev===w.Undefined&&(this._first=this._first.next,this._first.prev=w.Undefined);this._size-=1}*[Symbol.iterator](){let D=this._first;for(;D!==w.Undefined;)yield D.element,D=D.next}}e.LinkedList=m}),define(se[59],re([1,0]),function(q,e){"use strict";var w,m;Object.defineProperty(e,"__esModule",{value:!0}),e.LRUCache=e.LinkedMap=e.ResourceMap=void 0;class k{constructor(h,g){this.uri=h,this.value=g}}class D{constructor(h,g){this[w]="ResourceMap",h instanceof D?(this.map=new Map(h.map),this.toKey=g??D.defaultToKey):(this.map=new Map,this.toKey=h??D.defaultToKey)}set(h,g){return this.map.set(this.toKey(h),new k(h,g)),this}get(h){var g;return(g=this.map.get(this.toKey(h)))===null||g===void 0?void 0:g.value}has(h){return this.map.has(this.toKey(h))}get size(){return this.map.size}clear(){this.map.clear()}delete(h){return this.map.delete(this.toKey(h))}forEach(h,g){typeof g<"u"&&(h=h.bind(g));for(const[t,i]of this.map)h(i.value,i.uri,this)}*values(){for(const h of this.map.values())yield h.value}*keys(){for(const h of this.map.values())yield h.uri}*entries(){for(const h of this.map.values())yield[h.uri,h.value]}*[(w=Symbol.toStringTag,Symbol.iterator)](){for(const[,h]of this.map)yield[h.uri,h.value]}}e.ResourceMap=D,D.defaultToKey=C=>C.toString();class L{constructor(){this[m]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var h;return(h=this._head)===null||h===void 0?void 0:h.value}get last(){var h;return(h=this._tail)===null||h===void 0?void 0:h.value}has(h){return this._map.has(h)}get(h,g=0){const t=this._map.get(h);if(!!t)return g!==0&&this.touch(t,g),t.value}set(h,g,t=0){let i=this._map.get(h);if(i)i.value=g,t!==0&&this.touch(i,t);else{switch(i={key:h,value:g,next:void 0,previous:void 0},t){case 0:this.addItemLast(i);break;case 1:this.addItemFirst(i);break;case 2:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(h,i),this._size++}return this}delete(h){return!!this.remove(h)}remove(h){const g=this._map.get(h);if(!!g)return this._map.delete(h),this.removeItem(g),this._size--,g.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const h=this._head;return this._map.delete(h.key),this.removeItem(h),this._size--,h.value}forEach(h,g){const t=this._state;let i=this._head;for(;i;){if(g?h.bind(g)(i.value,i.key,this):h(i.value,i.key,this),this._state!==t)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){const h=this,g=this._state;let t=this._head;const i={[Symbol.iterator](){return i},next(){if(h._state!==g)throw new Error("LinkedMap got modified during iteration.");if(t){const n={value:t.key,done:!1};return t=t.next,n}else return{value:void 0,done:!0}}};return i}values(){const h=this,g=this._state;let t=this._head;const i={[Symbol.iterator](){return i},next(){if(h._state!==g)throw new Error("LinkedMap got modified during iteration.");if(t){const n={value:t.value,done:!1};return t=t.next,n}else return{value:void 0,done:!0}}};return i}entries(){const h=this,g=this._state;let t=this._head;const i={[Symbol.iterator](){return i},next(){if(h._state!==g)throw new Error("LinkedMap got modified during iteration.");if(t){const n={value:[t.key,t.value],done:!1};return t=t.next,n}else return{value:void 0,done:!0}}};return i}[(m=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(h){if(h>=this.size)return;if(h===0){this.clear();return}let g=this._head,t=this.size;for(;g&&t>h;)this._map.delete(g.key),g=g.next,t--;this._head=g,this._size=t,g&&(g.previous=void 0),this._state++}addItemFirst(h){if(!this._head&&!this._tail)this._tail=h;else if(this._head)h.next=this._head,this._head.previous=h;else throw new Error("Invalid list");this._head=h,this._state++}addItemLast(h){if(!this._head&&!this._tail)this._head=h;else if(this._tail)h.previous=this._tail,this._tail.next=h;else throw new Error("Invalid list");this._tail=h,this._state++}removeItem(h){if(h===this._head&&h===this._tail)this._head=void 0,this._tail=void 0;else if(h===this._head){if(!h.next)throw new Error("Invalid list");h.next.previous=void 0,this._head=h.next}else if(h===this._tail){if(!h.previous)throw new Error("Invalid list");h.previous.next=void 0,this._tail=h.previous}else{const g=h.next,t=h.previous;if(!g||!t)throw new Error("Invalid list");g.previous=t,t.next=g}h.next=void 0,h.previous=void 0,this._state++}touch(h,g){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(g!==1&&g!==2)){if(g===1){if(h===this._head)return;const t=h.next,i=h.previous;h===this._tail?(i.next=void 0,this._tail=i):(t.previous=i,i.next=t),h.previous=void 0,h.next=this._head,this._head.previous=h,this._head=h,this._state++}else if(g===2){if(h===this._tail)return;const t=h.next,i=h.previous;h===this._head?(t.previous=void 0,this._head=t):(t.previous=i,i.next=t),h.next=void 0,h.previous=this._tail,this._tail.next=h,this._tail=h,this._state++}}}toJSON(){const h=[];return this.forEach((g,t)=>{h.push([t,g])}),h}fromJSON(h){this.clear();for(const[g,t]of h)this.set(g,t)}}e.LinkedMap=L;class b extends L{constructor(h,g=1){super(),this._limit=h,this._ratio=Math.min(Math.max(0,g),1)}get limit(){return this._limit}set limit(h){this._limit=h,this.checkTrim()}get(h,g=2){return super.get(h,g)}peek(h){return super.get(h,0)}set(h,g){return super.set(h,g,2),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}e.LRUCache=b}),function(q,e){typeof exports=="object"&&typeof module<"u"?e(exports):typeof define=="function"&&define.amd?define(se[336],re([0]),e):(q=typeof globalThis<"u"?globalThis:q||self,e(q.marked={}))}(this,function(q){"use strict";function e(z,J){for(var Y=0;Y<J.length;Y++){var H=J[Y];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(z,H.key,H)}}function w(z,J,Y){return J&&e(z.prototype,J),Y&&e(z,Y),Object.defineProperty(z,"prototype",{writable:!1}),z}function m(z,J){if(!!z){if(typeof z=="string")return k(z,J);var Y=Object.prototype.toString.call(z).slice(8,-1);if(Y==="Object"&&z.constructor&&(Y=z.constructor.name),Y==="Map"||Y==="Set")return Array.from(z);if(Y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Y))return k(z,J)}}function k(z,J){(J==null||J>z.length)&&(J=z.length);for(var Y=0,H=new Array(J);Y<J;Y++)H[Y]=z[Y];return H}function D(z,J){var Y=typeof Symbol<"u"&&z[Symbol.iterator]||z["@@iterator"];if(Y)return(Y=Y.call(z)).next.bind(Y);if(Array.isArray(z)||(Y=m(z))||J&&z&&typeof z.length=="number"){Y&&(z=Y);var H=0;return function(){return H>=z.length?{done:!0}:{done:!1,value:z[H++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function L(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}q.defaults=L();function b(z){q.defaults=z}var C=/[&<>"']/,h=/[&<>"']/g,g=/[<>"']|&(?!#?\w+;)/,t=/[<>"']|&(?!#?\w+;)/g,i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},n=function(J){return i[J]};function o(z,J){if(J){if(C.test(z))return z.replace(h,n)}else if(g.test(z))return z.replace(t,n);return z}var l=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function c(z){return z.replace(l,function(J,Y){return Y=Y.toLowerCase(),Y==="colon"?":":Y.charAt(0)==="#"?Y.charAt(1)==="x"?String.fromCharCode(parseInt(Y.substring(2),16)):String.fromCharCode(+Y.substring(1)):""})}var d=/(^|[^\[])\^/g;function r(z,J){z=typeof z=="string"?z:z.source,J=J||"";var Y={replace:function(j,de){return de=de.source||de,de=de.replace(d,"$1"),z=z.replace(j,de),Y},getRegex:function(){return new RegExp(z,J)}};return Y}var s=/[^\w:]/g,a=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function u(z,J,Y){if(z){var H;try{H=decodeURIComponent(c(Y)).replace(s,"").toLowerCase()}catch{return null}if(H.indexOf("javascript:")===0||H.indexOf("vbscript:")===0||H.indexOf("data:")===0)return null}J&&!a.test(Y)&&(Y=_(J,Y));try{Y=encodeURI(Y).replace(/%25/g,"%")}catch{return null}return Y}var p={},S=/^[^:]+:\/*[^/]*$/,f=/^([^:]+:)[\s\S]*$/,v=/^([^:]+:\/*[^/]*)[\s\S]*$/;function _(z,J){p[" "+z]||(S.test(z)?p[" "+z]=z+"/":p[" "+z]=I(z,"/",!0)),z=p[" "+z];var Y=z.indexOf(":")===-1;return J.substring(0,2)==="//"?Y?J:z.replace(f,"$1")+J:J.charAt(0)==="/"?Y?J:z.replace(v,"$1")+J:z+J}var y={exec:function(){}};function E(z){for(var J=1,Y,H;J<arguments.length;J++){Y=arguments[J];for(H in Y)Object.prototype.hasOwnProperty.call(Y,H)&&(z[H]=Y[H])}return z}function T(z,J){var Y=z.replace(/\|/g,function(de,ue,ce){for(var ge=!1,ve=ue;--ve>=0&&ce[ve]==="\\";)ge=!ge;return ge?"|":" |"}),H=Y.split(/ \|/),j=0;if(H[0].trim()||H.shift(),H.length>0&&!H[H.length-1].trim()&&H.pop(),H.length>J)H.splice(J);else for(;H.length<J;)H.push("");for(;j<H.length;j++)H[j]=H[j].trim().replace(/\\\|/g,"|");return H}function I(z,J,Y){var H=z.length;if(H===0)return"";for(var j=0;j<H;){var de=z.charAt(H-j-1);if(de===J&&!Y)j++;else if(de!==J&&Y)j++;else break}return z.slice(0,H-j)}function R(z,J){if(z.indexOf(J[1])===-1)return-1;for(var Y=z.length,H=0,j=0;j<Y;j++)if(z[j]==="\\")j++;else if(z[j]===J[0])H++;else if(z[j]===J[1]&&(H--,H<0))return j;return-1}function F(z){z&&z.sanitize&&!z.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function O(z,J){if(J<1)return"";for(var Y="";J>1;)J&1&&(Y+=z),J>>=1,z+=z;return Y+z}function M(z,J,Y,H){var j=J.href,de=J.title?o(J.title):null,ue=z[1].replace(/\\([\[\]])/g,"$1");if(z[0].charAt(0)!=="!"){H.state.inLink=!0;var ce={type:"link",raw:Y,href:j,title:de,text:ue,tokens:H.inlineTokens(ue)};return H.state.inLink=!1,ce}return{type:"image",raw:Y,href:j,title:de,text:o(ue)}}function N(z,J){var Y=z.match(/^(\s+)(?:```)/);if(Y===null)return J;var H=Y[1];return J.split(`
`).map(function(j){var de=j.match(/^\s+/);if(de===null)return j;var ue=de[0];return ue.length>=H.length?j.slice(H.length):j}).join(`
`)}var A=function(){function z(Y){this.options=Y||q.defaults}var J=z.prototype;return J.space=function(H){var j=this.rules.block.newline.exec(H);if(j&&j[0].length>0)return{type:"space",raw:j[0]}},J.code=function(H){var j=this.rules.block.code.exec(H);if(j){var de=j[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:j[0],codeBlockStyle:"indented",text:this.options.pedantic?de:I(de,`
`)}}},J.fences=function(H){var j=this.rules.block.fences.exec(H);if(j){var de=j[0],ue=N(de,j[3]||"");return{type:"code",raw:de,lang:j[2]?j[2].trim():j[2],text:ue}}},J.heading=function(H){var j=this.rules.block.heading.exec(H);if(j){var de=j[2].trim();if(/#$/.test(de)){var ue=I(de,"#");(this.options.pedantic||!ue||/ $/.test(ue))&&(de=ue.trim())}return{type:"heading",raw:j[0],depth:j[1].length,text:de,tokens:this.lexer.inline(de)}}},J.hr=function(H){var j=this.rules.block.hr.exec(H);if(j)return{type:"hr",raw:j[0]}},J.blockquote=function(H){var j=this.rules.block.blockquote.exec(H);if(j){var de=j[0].replace(/^ *>[ \t]?/gm,"");return{type:"blockquote",raw:j[0],tokens:this.lexer.blockTokens(de,[]),text:de}}},J.list=function(H){var j=this.rules.block.list.exec(H);if(j){var de,ue,ce,ge,ve,_e,ye,Ee,Te,we,Ce,te,he=j[1].trim(),be=he.length>1,me={type:"list",raw:"",ordered:be,start:be?+he.slice(0,-1):"",loose:!1,items:[]};he=be?"\\d{1,9}\\"+he.slice(-1):"\\"+he,this.options.pedantic&&(he=be?he:"[*+-]");for(var pe=new RegExp("^( {0,3}"+he+")((?:[	 ][^\\n]*)?(?:\\n|$))");H&&(te=!1,!(!(j=pe.exec(H))||this.rules.block.hr.test(H)));){if(de=j[0],H=H.substring(de.length),Ee=j[2].split(`
`,1)[0],Te=H.split(`
`,1)[0],this.options.pedantic?(ge=2,Ce=Ee.trimLeft()):(ge=j[2].search(/[^ ]/),ge=ge>4?1:ge,Ce=Ee.slice(ge),ge+=j[1].length),_e=!1,!Ee&&/^ *$/.test(Te)&&(de+=Te+`
`,H=H.substring(Te.length+1),te=!0),!te)for(var Le=new RegExp("^ {0,"+Math.min(3,ge-1)+"}(?:[*+-]|\\d{1,9}[.)])((?: [^\\n]*)?(?:\\n|$))"),Ie=new RegExp("^ {0,"+Math.min(3,ge-1)+"}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)"),Ne=new RegExp("^ {0,"+Math.min(3,ge-1)+"}(?:```|~~~)"),Pe=new RegExp("^ {0,"+Math.min(3,ge-1)+"}#");H&&(we=H.split(`
`,1)[0],Ee=we,this.options.pedantic&&(Ee=Ee.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(Ne.test(Ee)||Pe.test(Ee)||Le.test(Ee)||Ie.test(H)));){if(Ee.search(/[^ ]/)>=ge||!Ee.trim())Ce+=`
`+Ee.slice(ge);else if(!_e)Ce+=`
`+Ee;else break;!_e&&!Ee.trim()&&(_e=!0),de+=we+`
`,H=H.substring(we.length+1)}me.loose||(ye?me.loose=!0:/\n *\n *$/.test(de)&&(ye=!0)),this.options.gfm&&(ue=/^\[[ xX]\] /.exec(Ce),ue&&(ce=ue[0]!=="[ ] ",Ce=Ce.replace(/^\[[ xX]\] +/,""))),me.items.push({type:"list_item",raw:de,task:!!ue,checked:ce,loose:!1,text:Ce}),me.raw+=de}me.items[me.items.length-1].raw=de.trimRight(),me.items[me.items.length-1].text=Ce.trimRight(),me.raw=me.raw.trimRight();var Re=me.items.length;for(ve=0;ve<Re;ve++){this.lexer.state.top=!1,me.items[ve].tokens=this.lexer.blockTokens(me.items[ve].text,[]);var Ae=me.items[ve].tokens.filter(function(Fe){return Fe.type==="space"}),Be=Ae.every(function(Fe){for(var He=Fe.raw.split(""),$e=0,it=D(He),tt;!(tt=it()).done;){var ot=tt.value;if(ot===`
`&&($e+=1),$e>1)return!0}return!1});!me.loose&&Ae.length&&Be&&(me.loose=!0,me.items[ve].loose=!0)}return me}},J.html=function(H){var j=this.rules.block.html.exec(H);if(j){var de={type:"html",raw:j[0],pre:!this.options.sanitizer&&(j[1]==="pre"||j[1]==="script"||j[1]==="style"),text:j[0]};if(this.options.sanitize){var ue=this.options.sanitizer?this.options.sanitizer(j[0]):o(j[0]);de.type="paragraph",de.text=ue,de.tokens=this.lexer.inline(ue)}return de}},J.def=function(H){var j=this.rules.block.def.exec(H);if(j){j[3]&&(j[3]=j[3].substring(1,j[3].length-1));var de=j[1].toLowerCase().replace(/\s+/g," ");return{type:"def",tag:de,raw:j[0],href:j[2],title:j[3]}}},J.table=function(H){var j=this.rules.block.table.exec(H);if(j){var de={type:"table",header:T(j[1]).map(function(ye){return{text:ye}}),align:j[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:j[3]&&j[3].trim()?j[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(de.header.length===de.align.length){de.raw=j[0];var ue=de.align.length,ce,ge,ve,_e;for(ce=0;ce<ue;ce++)/^ *-+: *$/.test(de.align[ce])?de.align[ce]="right":/^ *:-+: *$/.test(de.align[ce])?de.align[ce]="center":/^ *:-+ *$/.test(de.align[ce])?de.align[ce]="left":de.align[ce]=null;for(ue=de.rows.length,ce=0;ce<ue;ce++)de.rows[ce]=T(de.rows[ce],de.header.length).map(function(ye){return{text:ye}});for(ue=de.header.length,ge=0;ge<ue;ge++)de.header[ge].tokens=this.lexer.inline(de.header[ge].text);for(ue=de.rows.length,ge=0;ge<ue;ge++)for(_e=de.rows[ge],ve=0;ve<_e.length;ve++)_e[ve].tokens=this.lexer.inline(_e[ve].text);return de}}},J.lheading=function(H){var j=this.rules.block.lheading.exec(H);if(j)return{type:"heading",raw:j[0],depth:j[2].charAt(0)==="="?1:2,text:j[1],tokens:this.lexer.inline(j[1])}},J.paragraph=function(H){var j=this.rules.block.paragraph.exec(H);if(j){var de=j[1].charAt(j[1].length-1)===`
`?j[1].slice(0,-1):j[1];return{type:"paragraph",raw:j[0],text:de,tokens:this.lexer.inline(de)}}},J.text=function(H){var j=this.rules.block.text.exec(H);if(j)return{type:"text",raw:j[0],text:j[0],tokens:this.lexer.inline(j[0])}},J.escape=function(H){var j=this.rules.inline.escape.exec(H);if(j)return{type:"escape",raw:j[0],text:o(j[1])}},J.tag=function(H){var j=this.rules.inline.tag.exec(H);if(j)return!this.lexer.state.inLink&&/^<a /i.test(j[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(j[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(j[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(j[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:j[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(j[0]):o(j[0]):j[0]}},J.link=function(H){var j=this.rules.inline.link.exec(H);if(j){var de=j[2].trim();if(!this.options.pedantic&&/^</.test(de)){if(!/>$/.test(de))return;var ue=I(de.slice(0,-1),"\\");if((de.length-ue.length)%2===0)return}else{var ce=R(j[2],"()");if(ce>-1){var ge=j[0].indexOf("!")===0?5:4,ve=ge+j[1].length+ce;j[2]=j[2].substring(0,ce),j[0]=j[0].substring(0,ve).trim(),j[3]=""}}var _e=j[2],ye="";if(this.options.pedantic){var Ee=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(_e);Ee&&(_e=Ee[1],ye=Ee[3])}else ye=j[3]?j[3].slice(1,-1):"";return _e=_e.trim(),/^</.test(_e)&&(this.options.pedantic&&!/>$/.test(de)?_e=_e.slice(1):_e=_e.slice(1,-1)),M(j,{href:_e&&_e.replace(this.rules.inline._escapes,"$1"),title:ye&&ye.replace(this.rules.inline._escapes,"$1")},j[0],this.lexer)}},J.reflink=function(H,j){var de;if((de=this.rules.inline.reflink.exec(H))||(de=this.rules.inline.nolink.exec(H))){var ue=(de[2]||de[1]).replace(/\s+/g," ");if(ue=j[ue.toLowerCase()],!ue||!ue.href){var ce=de[0].charAt(0);return{type:"text",raw:ce,text:ce}}return M(de,ue,de[0],this.lexer)}},J.emStrong=function(H,j,de){de===void 0&&(de="");var ue=this.rules.inline.emStrong.lDelim.exec(H);if(!!ue&&!(ue[3]&&de.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var ce=ue[1]||ue[2]||"";if(!ce||ce&&(de===""||this.rules.inline.punctuation.exec(de))){var ge=ue[0].length-1,ve,_e,ye=ge,Ee=0,Te=ue[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(Te.lastIndex=0,j=j.slice(-1*H.length+ge);(ue=Te.exec(j))!=null;)if(ve=ue[1]||ue[2]||ue[3]||ue[4]||ue[5]||ue[6],!!ve){if(_e=ve.length,ue[3]||ue[4]){ye+=_e;continue}else if((ue[5]||ue[6])&&ge%3&&!((ge+_e)%3)){Ee+=_e;continue}if(ye-=_e,!(ye>0)){if(_e=Math.min(_e,_e+ye+Ee),Math.min(ge,_e)%2){var we=H.slice(1,ge+ue.index+_e);return{type:"em",raw:H.slice(0,ge+ue.index+_e+1),text:we,tokens:this.lexer.inlineTokens(we)}}var Ce=H.slice(2,ge+ue.index+_e-1);return{type:"strong",raw:H.slice(0,ge+ue.index+_e+1),text:Ce,tokens:this.lexer.inlineTokens(Ce)}}}}}},J.codespan=function(H){var j=this.rules.inline.code.exec(H);if(j){var de=j[2].replace(/\n/g," "),ue=/[^ ]/.test(de),ce=/^ /.test(de)&&/ $/.test(de);return ue&&ce&&(de=de.substring(1,de.length-1)),de=o(de,!0),{type:"codespan",raw:j[0],text:de}}},J.br=function(H){var j=this.rules.inline.br.exec(H);if(j)return{type:"br",raw:j[0]}},J.del=function(H){var j=this.rules.inline.del.exec(H);if(j)return{type:"del",raw:j[0],text:j[2],tokens:this.lexer.inlineTokens(j[2])}},J.autolink=function(H,j){var de=this.rules.inline.autolink.exec(H);if(de){var ue,ce;return de[2]==="@"?(ue=o(this.options.mangle?j(de[1]):de[1]),ce="mailto:"+ue):(ue=o(de[1]),ce=ue),{type:"link",raw:de[0],text:ue,href:ce,tokens:[{type:"text",raw:ue,text:ue}]}}},J.url=function(H,j){var de;if(de=this.rules.inline.url.exec(H)){var ue,ce;if(de[2]==="@")ue=o(this.options.mangle?j(de[0]):de[0]),ce="mailto:"+ue;else{var ge;do ge=de[0],de[0]=this.rules.inline._backpedal.exec(de[0])[0];while(ge!==de[0]);ue=o(de[0]),de[1]==="www."?ce="http://"+ue:ce=ue}return{type:"link",raw:de[0],text:ue,href:ce,tokens:[{type:"text",raw:ue,text:ue}]}}},J.inlineText=function(H,j){var de=this.rules.inline.text.exec(H);if(de){var ue;return this.lexer.state.inRawBlock?ue=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(de[0]):o(de[0]):de[0]:ue=o(this.options.smartypants?j(de[0]):de[0]),{type:"text",raw:de[0],text:ue}}},z}(),B={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:y,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};B._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/,B._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,B.def=r(B.def).replace("label",B._label).replace("title",B._title).getRegex(),B.bullet=/(?:[*+-]|\d{1,9}[.)])/,B.listItemStart=r(/^( *)(bull) */).replace("bull",B.bullet).getRegex(),B.list=r(B.list).replace(/bull/g,B.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+B.def.source+")").getRegex(),B._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",B._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,B.html=r(B.html,"i").replace("comment",B._comment).replace("tag",B._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),B.paragraph=r(B._paragraph).replace("hr",B.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",B._tag).getRegex(),B.blockquote=r(B.blockquote).replace("paragraph",B.paragraph).getRegex(),B.normal=E({},B),B.gfm=E({},B.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),B.gfm.table=r(B.gfm.table).replace("hr",B.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",B._tag).getRegex(),B.gfm.paragraph=r(B._paragraph).replace("hr",B.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",B.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",B._tag).getRegex(),B.pedantic=E({},B.normal,{html:r(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",B._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:y,paragraph:r(B.normal._paragraph).replace("hr",B.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",B.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var W={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:y,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[^*]+(?=[^*])|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:y,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};W._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",W.punctuation=r(W.punctuation).replace(/punctuation/g,W._punctuation).getRegex(),W.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,W.escapedEmSt=/\\\*|\\_/g,W._comment=r(B._comment).replace("(?:-->|$)","-->").getRegex(),W.emStrong.lDelim=r(W.emStrong.lDelim).replace(/punct/g,W._punctuation).getRegex(),W.emStrong.rDelimAst=r(W.emStrong.rDelimAst,"g").replace(/punct/g,W._punctuation).getRegex(),W.emStrong.rDelimUnd=r(W.emStrong.rDelimUnd,"g").replace(/punct/g,W._punctuation).getRegex(),W._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,W._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,W._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,W.autolink=r(W.autolink).replace("scheme",W._scheme).replace("email",W._email).getRegex(),W._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,W.tag=r(W.tag).replace("comment",W._comment).replace("attribute",W._attribute).getRegex(),W._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,W._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,W._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,W.link=r(W.link).replace("label",W._label).replace("href",W._href).replace("title",W._title).getRegex(),W.reflink=r(W.reflink).replace("label",W._label).replace("ref",B._label).getRegex(),W.nolink=r(W.nolink).replace("ref",B._label).getRegex(),W.reflinkSearch=r(W.reflinkSearch,"g").replace("reflink",W.reflink).replace("nolink",W.nolink).getRegex(),W.normal=E({},W),W.pedantic=E({},W.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:r(/^!?\[(label)\]\((.*?)\)/).replace("label",W._label).getRegex(),reflink:r(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",W._label).getRegex()}),W.gfm=E({},W.normal,{escape:r(W.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),W.gfm.url=r(W.gfm.url,"i").replace("email",W.gfm._extended_email).getRegex(),W.breaks=E({},W.gfm,{br:r(W.br).replace("{2,}","*").getRegex(),text:r(W.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function x(z){return z.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function P(z){var J="",Y,H,j=z.length;for(Y=0;Y<j;Y++)H=z.charCodeAt(Y),Math.random()>.5&&(H="x"+H.toString(16)),J+="&#"+H+";";return J}var X=function(){function z(Y){this.tokens=[],this.tokens.links=Object.create(null),this.options=Y||q.defaults,this.options.tokenizer=this.options.tokenizer||new A,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var H={block:B.normal,inline:W.normal};this.options.pedantic?(H.block=B.pedantic,H.inline=W.pedantic):this.options.gfm&&(H.block=B.gfm,this.options.breaks?H.inline=W.breaks:H.inline=W.gfm),this.tokenizer.rules=H}z.lex=function(H,j){var de=new z(j);return de.lex(H)},z.lexInline=function(H,j){var de=new z(j);return de.inlineTokens(H)};var J=z.prototype;return J.lex=function(H){H=H.replace(/\r\n|\r/g,`
`),this.blockTokens(H,this.tokens);for(var j;j=this.inlineQueue.shift();)this.inlineTokens(j.src,j.tokens);return this.tokens},J.blockTokens=function(H,j){var de=this;j===void 0&&(j=[]),this.options.pedantic?H=H.replace(/\t/g,"    ").replace(/^ +$/gm,""):H=H.replace(/^( *)(\t+)/gm,function(ye,Ee,Te){return Ee+"    ".repeat(Te.length)});for(var ue,ce,ge,ve;H;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function(ye){return(ue=ye.call({lexer:de},H,j))?(H=H.substring(ue.raw.length),j.push(ue),!0):!1}))){if(ue=this.tokenizer.space(H)){H=H.substring(ue.raw.length),ue.raw.length===1&&j.length>0?j[j.length-1].raw+=`
`:j.push(ue);continue}if(ue=this.tokenizer.code(H)){H=H.substring(ue.raw.length),ce=j[j.length-1],ce&&(ce.type==="paragraph"||ce.type==="text")?(ce.raw+=`
`+ue.raw,ce.text+=`
`+ue.text,this.inlineQueue[this.inlineQueue.length-1].src=ce.text):j.push(ue);continue}if(ue=this.tokenizer.fences(H)){H=H.substring(ue.raw.length),j.push(ue);continue}if(ue=this.tokenizer.heading(H)){H=H.substring(ue.raw.length),j.push(ue);continue}if(ue=this.tokenizer.hr(H)){H=H.substring(ue.raw.length),j.push(ue);continue}if(ue=this.tokenizer.blockquote(H)){H=H.substring(ue.raw.length),j.push(ue);continue}if(ue=this.tokenizer.list(H)){H=H.substring(ue.raw.length),j.push(ue);continue}if(ue=this.tokenizer.html(H)){H=H.substring(ue.raw.length),j.push(ue);continue}if(ue=this.tokenizer.def(H)){H=H.substring(ue.raw.length),ce=j[j.length-1],ce&&(ce.type==="paragraph"||ce.type==="text")?(ce.raw+=`
`+ue.raw,ce.text+=`
`+ue.raw,this.inlineQueue[this.inlineQueue.length-1].src=ce.text):this.tokens.links[ue.tag]||(this.tokens.links[ue.tag]={href:ue.href,title:ue.title});continue}if(ue=this.tokenizer.table(H)){H=H.substring(ue.raw.length),j.push(ue);continue}if(ue=this.tokenizer.lheading(H)){H=H.substring(ue.raw.length),j.push(ue);continue}if(ge=H,this.options.extensions&&this.options.extensions.startBlock&&function(){var ye=1/0,Ee=H.slice(1),Te=void 0;de.options.extensions.startBlock.forEach(function(we){Te=we.call({lexer:this},Ee),typeof Te=="number"&&Te>=0&&(ye=Math.min(ye,Te))}),ye<1/0&&ye>=0&&(ge=H.substring(0,ye+1))}(),this.state.top&&(ue=this.tokenizer.paragraph(ge))){ce=j[j.length-1],ve&&ce.type==="paragraph"?(ce.raw+=`
`+ue.raw,ce.text+=`
`+ue.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=ce.text):j.push(ue),ve=ge.length!==H.length,H=H.substring(ue.raw.length);continue}if(ue=this.tokenizer.text(H)){H=H.substring(ue.raw.length),ce=j[j.length-1],ce&&ce.type==="text"?(ce.raw+=`
`+ue.raw,ce.text+=`
`+ue.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=ce.text):j.push(ue);continue}if(H){var _e="Infinite loop on byte: "+H.charCodeAt(0);if(this.options.silent){console.error(_e);break}else throw new Error(_e)}}return this.state.top=!0,j},J.inline=function(H,j){return j===void 0&&(j=[]),this.inlineQueue.push({src:H,tokens:j}),j},J.inlineTokens=function(H,j){var de=this;j===void 0&&(j=[]);var ue,ce,ge,ve=H,_e,ye,Ee;if(this.tokens.links){var Te=Object.keys(this.tokens.links);if(Te.length>0)for(;(_e=this.tokenizer.rules.inline.reflinkSearch.exec(ve))!=null;)Te.includes(_e[0].slice(_e[0].lastIndexOf("[")+1,-1))&&(ve=ve.slice(0,_e.index)+"["+O("a",_e[0].length-2)+"]"+ve.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(_e=this.tokenizer.rules.inline.blockSkip.exec(ve))!=null;)ve=ve.slice(0,_e.index)+"["+O("a",_e[0].length-2)+"]"+ve.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(_e=this.tokenizer.rules.inline.escapedEmSt.exec(ve))!=null;)ve=ve.slice(0,_e.index)+"++"+ve.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;H;)if(ye||(Ee=""),ye=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function(Ce){return(ue=Ce.call({lexer:de},H,j))?(H=H.substring(ue.raw.length),j.push(ue),!0):!1}))){if(ue=this.tokenizer.escape(H)){H=H.substring(ue.raw.length),j.push(ue);continue}if(ue=this.tokenizer.tag(H)){H=H.substring(ue.raw.length),ce=j[j.length-1],ce&&ue.type==="text"&&ce.type==="text"?(ce.raw+=ue.raw,ce.text+=ue.text):j.push(ue);continue}if(ue=this.tokenizer.link(H)){H=H.substring(ue.raw.length),j.push(ue);continue}if(ue=this.tokenizer.reflink(H,this.tokens.links)){H=H.substring(ue.raw.length),ce=j[j.length-1],ce&&ue.type==="text"&&ce.type==="text"?(ce.raw+=ue.raw,ce.text+=ue.text):j.push(ue);continue}if(ue=this.tokenizer.emStrong(H,ve,Ee)){H=H.substring(ue.raw.length),j.push(ue);continue}if(ue=this.tokenizer.codespan(H)){H=H.substring(ue.raw.length),j.push(ue);continue}if(ue=this.tokenizer.br(H)){H=H.substring(ue.raw.length),j.push(ue);continue}if(ue=this.tokenizer.del(H)){H=H.substring(ue.raw.length),j.push(ue);continue}if(ue=this.tokenizer.autolink(H,P)){H=H.substring(ue.raw.length),j.push(ue);continue}if(!this.state.inLink&&(ue=this.tokenizer.url(H,P))){H=H.substring(ue.raw.length),j.push(ue);continue}if(ge=H,this.options.extensions&&this.options.extensions.startInline&&function(){var Ce=1/0,te=H.slice(1),he=void 0;de.options.extensions.startInline.forEach(function(be){he=be.call({lexer:this},te),typeof he=="number"&&he>=0&&(Ce=Math.min(Ce,he))}),Ce<1/0&&Ce>=0&&(ge=H.substring(0,Ce+1))}(),ue=this.tokenizer.inlineText(ge,x)){H=H.substring(ue.raw.length),ue.raw.slice(-1)!=="_"&&(Ee=ue.raw.slice(-1)),ye=!0,ce=j[j.length-1],ce&&ce.type==="text"?(ce.raw+=ue.raw,ce.text+=ue.text):j.push(ue);continue}if(H){var we="Infinite loop on byte: "+H.charCodeAt(0);if(this.options.silent){console.error(we);break}else throw new Error(we)}}return j},w(z,null,[{key:"rules",get:function(){return{block:B,inline:W}}}]),z}(),ie=function(){function z(Y){this.options=Y||q.defaults}var J=z.prototype;return J.code=function(H,j,de){var ue=(j||"").match(/\S*/)[0];if(this.options.highlight){var ce=this.options.highlight(H,ue);ce!=null&&ce!==H&&(de=!0,H=ce)}return H=H.replace(/\n$/,"")+`
`,ue?'<pre><code class="'+this.options.langPrefix+o(ue,!0)+'">'+(de?H:o(H,!0))+`</code></pre>
`:"<pre><code>"+(de?H:o(H,!0))+`</code></pre>
`},J.blockquote=function(H){return`<blockquote>
`+H+`</blockquote>
`},J.html=function(H){return H},J.heading=function(H,j,de,ue){if(this.options.headerIds){var ce=this.options.headerPrefix+ue.slug(de);return"<h"+j+' id="'+ce+'">'+H+"</h"+j+`>
`}return"<h"+j+">"+H+"</h"+j+`>
`},J.hr=function(){return this.options.xhtml?`<hr/>
`:`<hr>
`},J.list=function(H,j,de){var ue=j?"ol":"ul",ce=j&&de!==1?' start="'+de+'"':"";return"<"+ue+ce+`>
`+H+"</"+ue+`>
`},J.listitem=function(H){return"<li>"+H+`</li>
`},J.checkbox=function(H){return"<input "+(H?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},J.paragraph=function(H){return"<p>"+H+`</p>
`},J.table=function(H,j){return j&&(j="<tbody>"+j+"</tbody>"),`<table>
<thead>
`+H+`</thead>
`+j+`</table>
`},J.tablerow=function(H){return`<tr>
`+H+`</tr>
`},J.tablecell=function(H,j){var de=j.header?"th":"td",ue=j.align?"<"+de+' align="'+j.align+'">':"<"+de+">";return ue+H+("</"+de+`>
`)},J.strong=function(H){return"<strong>"+H+"</strong>"},J.em=function(H){return"<em>"+H+"</em>"},J.codespan=function(H){return"<code>"+H+"</code>"},J.br=function(){return this.options.xhtml?"<br/>":"<br>"},J.del=function(H){return"<del>"+H+"</del>"},J.link=function(H,j,de){if(H=u(this.options.sanitize,this.options.baseUrl,H),H===null)return de;var ue='<a href="'+o(H)+'"';return j&&(ue+=' title="'+j+'"'),ue+=">"+de+"</a>",ue},J.image=function(H,j,de){if(H=u(this.options.sanitize,this.options.baseUrl,H),H===null)return de;var ue='<img src="'+H+'" alt="'+de+'"';return j&&(ue+=' title="'+j+'"'),ue+=this.options.xhtml?"/>":">",ue},J.text=function(H){return H},z}(),K=function(){function z(){}var J=z.prototype;return J.strong=function(H){return H},J.em=function(H){return H},J.codespan=function(H){return H},J.del=function(H){return H},J.html=function(H){return H},J.text=function(H){return H},J.link=function(H,j,de){return""+de},J.image=function(H,j,de){return""+de},J.br=function(){return""},z}(),G=function(){function z(){this.seen={}}var J=z.prototype;return J.serialize=function(H){return H.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},J.getNextSafeSlug=function(H,j){var de=H,ue=0;if(this.seen.hasOwnProperty(de)){ue=this.seen[H];do ue++,de=H+"-"+ue;while(this.seen.hasOwnProperty(de))}return j||(this.seen[H]=ue,this.seen[de]=0),de},J.slug=function(H,j){j===void 0&&(j={});var de=this.serialize(H);return this.getNextSafeSlug(de,j.dryrun)},z}(),Q=function(){function z(Y){this.options=Y||q.defaults,this.options.renderer=this.options.renderer||new ie,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new K,this.slugger=new G}z.parse=function(H,j){var de=new z(j);return de.parse(H)},z.parseInline=function(H,j){var de=new z(j);return de.parseInline(H)};var J=z.prototype;return J.parse=function(H,j){j===void 0&&(j=!0);var de="",ue,ce,ge,ve,_e,ye,Ee,Te,we,Ce,te,he,be,me,pe,Le,Ie,Ne,Pe,Re=H.length;for(ue=0;ue<Re;ue++){if(Ce=H[ue],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[Ce.type]&&(Pe=this.options.extensions.renderers[Ce.type].call({parser:this},Ce),Pe!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(Ce.type))){de+=Pe||"";continue}switch(Ce.type){case"space":continue;case"hr":{de+=this.renderer.hr();continue}case"heading":{de+=this.renderer.heading(this.parseInline(Ce.tokens),Ce.depth,c(this.parseInline(Ce.tokens,this.textRenderer)),this.slugger);continue}case"code":{de+=this.renderer.code(Ce.text,Ce.lang,Ce.escaped);continue}case"table":{for(Te="",Ee="",ve=Ce.header.length,ce=0;ce<ve;ce++)Ee+=this.renderer.tablecell(this.parseInline(Ce.header[ce].tokens),{header:!0,align:Ce.align[ce]});for(Te+=this.renderer.tablerow(Ee),we="",ve=Ce.rows.length,ce=0;ce<ve;ce++){for(ye=Ce.rows[ce],Ee="",_e=ye.length,ge=0;ge<_e;ge++)Ee+=this.renderer.tablecell(this.parseInline(ye[ge].tokens),{header:!1,align:Ce.align[ge]});we+=this.renderer.tablerow(Ee)}de+=this.renderer.table(Te,we);continue}case"blockquote":{we=this.parse(Ce.tokens),de+=this.renderer.blockquote(we);continue}case"list":{for(te=Ce.ordered,he=Ce.start,be=Ce.loose,ve=Ce.items.length,we="",ce=0;ce<ve;ce++)pe=Ce.items[ce],Le=pe.checked,Ie=pe.task,me="",pe.task&&(Ne=this.renderer.checkbox(Le),be?pe.tokens.length>0&&pe.tokens[0].type==="paragraph"?(pe.tokens[0].text=Ne+" "+pe.tokens[0].text,pe.tokens[0].tokens&&pe.tokens[0].tokens.length>0&&pe.tokens[0].tokens[0].type==="text"&&(pe.tokens[0].tokens[0].text=Ne+" "+pe.tokens[0].tokens[0].text)):pe.tokens.unshift({type:"text",text:Ne}):me+=Ne),me+=this.parse(pe.tokens,be),we+=this.renderer.listitem(me,Ie,Le);de+=this.renderer.list(we,te,he);continue}case"html":{de+=this.renderer.html(Ce.text);continue}case"paragraph":{de+=this.renderer.paragraph(this.parseInline(Ce.tokens));continue}case"text":{for(we=Ce.tokens?this.parseInline(Ce.tokens):Ce.text;ue+1<Re&&H[ue+1].type==="text";)Ce=H[++ue],we+=`
`+(Ce.tokens?this.parseInline(Ce.tokens):Ce.text);de+=j?this.renderer.paragraph(we):we;continue}default:{var Ae='Token with "'+Ce.type+'" type was not found.';if(this.options.silent){console.error(Ae);return}else throw new Error(Ae)}}}return de},J.parseInline=function(H,j){j=j||this.renderer;var de="",ue,ce,ge,ve=H.length;for(ue=0;ue<ve;ue++){if(ce=H[ue],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[ce.type]&&(ge=this.options.extensions.renderers[ce.type].call({parser:this},ce),ge!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(ce.type))){de+=ge||"";continue}switch(ce.type){case"escape":{de+=j.text(ce.text);break}case"html":{de+=j.html(ce.text);break}case"link":{de+=j.link(ce.href,ce.title,this.parseInline(ce.tokens,j));break}case"image":{de+=j.image(ce.href,ce.title,ce.text);break}case"strong":{de+=j.strong(this.parseInline(ce.tokens,j));break}case"em":{de+=j.em(this.parseInline(ce.tokens,j));break}case"codespan":{de+=j.codespan(ce.text);break}case"br":{de+=j.br();break}case"del":{de+=j.del(this.parseInline(ce.tokens,j));break}case"text":{de+=j.text(ce.text);break}default:{var _e='Token with "'+ce.type+'" type was not found.';if(this.options.silent){console.error(_e);return}else throw new Error(_e)}}}return de},z}();function ne(z,J,Y){if(typeof z>"u"||z===null)throw new Error("marked(): input parameter is undefined or null");if(typeof z!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(z)+", string expected");if(typeof J=="function"&&(Y=J,J=null),J=E({},ne.defaults,J||{}),F(J),Y){var H=J.highlight,j;try{j=X.lex(z,J)}catch(ve){return Y(ve)}var de=function(_e){var ye;if(!_e)try{J.walkTokens&&ne.walkTokens(j,J.walkTokens),ye=Q.parse(j,J)}catch(Ee){_e=Ee}return J.highlight=H,_e?Y(_e):Y(null,ye)};if(!H||H.length<3||(delete J.highlight,!j.length))return de();var ue=0;ne.walkTokens(j,function(ve){ve.type==="code"&&(ue++,setTimeout(function(){H(ve.text,ve.lang,function(_e,ye){if(_e)return de(_e);ye!=null&&ye!==ve.text&&(ve.text=ye,ve.escaped=!0),ue--,ue===0&&de()})},0))}),ue===0&&de();return}function ce(ve){if(ve.message+=`
Please report this to https://github.com/markedjs/marked.`,J.silent)return"<p>An error occurred:</p><pre>"+o(ve.message+"",!0)+"</pre>";throw ve}try{var ge=X.lex(z,J);if(J.walkTokens){if(J.async)return Promise.all(ne.walkTokens(ge,J.walkTokens)).then(function(){return Q.parse(ge,J)}).catch(ce);ne.walkTokens(ge,J.walkTokens)}return Q.parse(ge,J)}catch(ve){ce(ve)}}ne.options=ne.setOptions=function(z){return E(ne.defaults,z),b(ne.defaults),ne},ne.getDefaults=L,ne.defaults=q.defaults,ne.use=function(){for(var z=arguments.length,J=new Array(z),Y=0;Y<z;Y++)J[Y]=arguments[Y];var H=E.apply(void 0,[{}].concat(J)),j=ne.defaults.extensions||{renderers:{},childTokens:{}},de;J.forEach(function(ue){if(ue.extensions&&(de=!0,ue.extensions.forEach(function(ge){if(!ge.name)throw new Error("extension name required");if(ge.renderer){var ve=j.renderers?j.renderers[ge.name]:null;ve?j.renderers[ge.name]=function(){for(var _e=arguments.length,ye=new Array(_e),Ee=0;Ee<_e;Ee++)ye[Ee]=arguments[Ee];var Te=ge.renderer.apply(this,ye);return Te===!1&&(Te=ve.apply(this,ye)),Te}:j.renderers[ge.name]=ge.renderer}if(ge.tokenizer){if(!ge.level||ge.level!=="block"&&ge.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");j[ge.level]?j[ge.level].unshift(ge.tokenizer):j[ge.level]=[ge.tokenizer],ge.start&&(ge.level==="block"?j.startBlock?j.startBlock.push(ge.start):j.startBlock=[ge.start]:ge.level==="inline"&&(j.startInline?j.startInline.push(ge.start):j.startInline=[ge.start]))}ge.childTokens&&(j.childTokens[ge.name]=ge.childTokens)})),ue.renderer&&function(){var ge=ne.defaults.renderer||new ie,ve=function(Ee){var Te=ge[Ee];ge[Ee]=function(){for(var we=arguments.length,Ce=new Array(we),te=0;te<we;te++)Ce[te]=arguments[te];var he=ue.renderer[Ee].apply(ge,Ce);return he===!1&&(he=Te.apply(ge,Ce)),he}};for(var _e in ue.renderer)ve(_e);H.renderer=ge}(),ue.tokenizer&&function(){var ge=ne.defaults.tokenizer||new A,ve=function(Ee){var Te=ge[Ee];ge[Ee]=function(){for(var we=arguments.length,Ce=new Array(we),te=0;te<we;te++)Ce[te]=arguments[te];var he=ue.tokenizer[Ee].apply(ge,Ce);return he===!1&&(he=Te.apply(ge,Ce)),he}};for(var _e in ue.tokenizer)ve(_e);H.tokenizer=ge}(),ue.walkTokens){var ce=ne.defaults.walkTokens;H.walkTokens=function(ge){var ve=[];return ve.push(ue.walkTokens.call(this,ge)),ce&&(ve=ve.concat(ce.call(this,ge))),ve}}de&&(H.extensions=j),ne.setOptions(H)})},ne.walkTokens=function(z,J){for(var Y=[],H=function(){var ce=de.value;switch(Y=Y.concat(J.call(ne,ce)),ce.type){case"table":{for(var ge=D(ce.header),ve;!(ve=ge()).done;){var _e=ve.value;Y=Y.concat(ne.walkTokens(_e.tokens,J))}for(var ye=D(ce.rows),Ee;!(Ee=ye()).done;)for(var Te=Ee.value,we=D(Te),Ce;!(Ce=we()).done;){var te=Ce.value;Y=Y.concat(ne.walkTokens(te.tokens,J))}break}case"list":{Y=Y.concat(ne.walkTokens(ce.items,J));break}default:ne.defaults.extensions&&ne.defaults.extensions.childTokens&&ne.defaults.extensions.childTokens[ce.type]?ne.defaults.extensions.childTokens[ce.type].forEach(function(he){Y=Y.concat(ne.walkTokens(ce[he],J))}):ce.tokens&&(Y=Y.concat(ne.walkTokens(ce.tokens,J)))}},j=D(z),de;!(de=j()).done;)H();return Y},ne.parseInline=function(z,J){if(typeof z>"u"||z===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof z!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(z)+", string expected");J=E({},ne.defaults,J||{}),F(J);try{var Y=X.lexInline(z,J);return J.walkTokens&&ne.walkTokens(Y,J.walkTokens),Q.parseInline(Y,J)}catch(H){if(H.message+=`
Please report this to https://github.com/markedjs/marked.`,J.silent)return"<p>An error occurred:</p><pre>"+o(H.message+"",!0)+"</pre>";throw H}},ne.Parser=Q,ne.parser=Q.parse,ne.Renderer=ie,ne.TextRenderer=K,ne.Lexer=X,ne.lexer=X.lex,ne.Tokenizer=A,ne.Slugger=G,ne.parse=ne;var Z=ne.options,ee=ne.setOptions,le=ne.use,V=ne.walkTokens,$=ne.parseInline,oe=ne,U=Q.parse,ae=X.lex;q.Lexer=X,q.Parser=Q,q.Renderer=ie,q.Slugger=G,q.TextRenderer=K,q.Tokenizer=A,q.getDefaults=L,q.lexer=ae,q.marked=ne,q.options=Z,q.parse=oe,q.parseInline=$,q.parser=U,q.setOptions=ee,q.use=le,q.walkTokens=V,Object.defineProperty(q,"__esModule",{value:!0})}),define(se[99],re([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Mimes=void 0,e.Mimes=Object.freeze({text:"text/plain",binary:"application/octet-stream",unknown:"application/unknown",markdown:"text/markdown",latex:"text/latex",uriList:"text/uri-list"})}),define(se[126],re([1,0,99]),function(q,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DataTransfers=void 0,e.DataTransfers={RESOURCES:"ResourceURLs",DOWNLOAD_URL:"DownloadURL",FILES:"Files",TEXT:w.Mimes.text}}),define(se[337],re([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ArrayNavigator=void 0;class w{constructor(k,D=0,L=k.length,b=D-1){this.items=k,this.start=D,this.end=L,this.index=b}current(){return this.index===this.start-1||this.index===this.end?null:this.items[this.index]}next(){return this.index=Math.min(this.index+1,this.end),this.current()}previous(){return this.index=Math.max(this.index-1,this.start-1),this.current()}first(){return this.index=this.start,this.current()}last(){return this.index=this.end-1,this.current()}}e.ArrayNavigator=w}),define(se[338],re([1,0,337]),function(q,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HistoryNavigator=void 0;class m{constructor(D=[],L=10){this._initialize(D),this._limit=L,this._onChange()}getHistory(){return this._elements}add(D){this._history.delete(D),this._history.add(D),this._onChange()}next(){return this._currentPosition()!==this._elements.length-1?this._navigator.next():null}previous(){return this._currentPosition()!==0?this._navigator.previous():null}current(){return this._navigator.current()}first(){return this._navigator.first()}last(){return this._navigator.last()}has(D){return this._history.has(D)}_onChange(){this._reduceToLimit();const D=this._elements;this._navigator=new w.ArrayNavigator(D,0,D.length,D.length)}_reduceToLimit(){const D=this._elements;D.length>this._limit&&this._initialize(D.slice(D.length-this._limit))}_currentPosition(){const D=this._navigator.current();return D?this._elements.indexOf(D):-1}_initialize(D){this._history=new Set;for(const L of D)this._history.add(L)}get _elements(){const D=[];return this._history.forEach(L=>D.push(L)),D}}e.HistoryNavigator=m}),define(se[127],re([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SlidingWindowAverage=e.MovingAverage=e.clamp=void 0;function w(D,L,b){return Math.min(Math.max(D,L),b)}e.clamp=w;class m{constructor(){this._n=1,this._val=0}update(L){return this._val=this._val+(L-this._val)/this._n,this._n+=1,this._val}get value(){return this._val}}e.MovingAverage=m;class k{constructor(L){this._n=0,this._val=0,this._values=[],this._index=0,this._sum=0,this._values=new Array(L),this._values.fill(0,0,L)}update(L){const b=this._values[this._index];return this._values[this._index]=L,this._index=(this._index+1)%this._values.length,this._sum-=b,this._sum+=L,this._n<this._values.length&&(this._n+=1),this._val=this._sum/this._n,this._val}get value(){return this._val}}e.SlidingWindowAverage=k}),define(se[148],re([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Range=void 0;var w;(function(m){function k(C,h){if(C.start>=h.end||h.start>=C.end)return{start:0,end:0};const g=Math.max(C.start,h.start),t=Math.min(C.end,h.end);return t-g<=0?{start:0,end:0}:{start:g,end:t}}m.intersect=k;function D(C){return C.end-C.start<=0}m.isEmpty=D;function L(C,h){return!D(k(C,h))}m.intersects=L;function b(C,h){const g=[],t={start:C.start,end:Math.min(h.start,C.end)},i={start:Math.max(h.end,C.start),end:C.end};return D(t)||g.push(t),D(i)||g.push(i),g}m.relativeComplement=b})(w=e.Range||(e.Range={}))}),define(se[339],re([1,0,148]),function(q,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RangeMap=e.consolidate=e.shift=e.groupIntersect=void 0;function m(C,h){const g=[];for(const t of h){if(C.start>=t.range.end)continue;if(C.end<t.range.start)break;const i=w.Range.intersect(C,t.range);w.Range.isEmpty(i)||g.push({range:i,size:t.size})}return g}e.groupIntersect=m;function k({start:C,end:h},g){return{start:C+g,end:h+g}}e.shift=k;function D(C){const h=[];let g=null;for(const t of C){const i=t.range.start,n=t.range.end,o=t.size;if(g&&o===g.size){g.range.end=n;continue}g={range:{start:i,end:n},size:o},h.push(g)}return h}e.consolidate=D;function L(...C){return D(C.reduce((h,g)=>h.concat(g),[]))}class b{constructor(){this.groups=[],this._size=0}splice(h,g,t=[]){const i=t.length-g,n=m({start:0,end:h},this.groups),o=m({start:h+g,end:Number.POSITIVE_INFINITY},this.groups).map(c=>({range:k(c.range,i),size:c.size})),l=t.map((c,d)=>({range:{start:h+d,end:h+d+1},size:c.size}));this.groups=L(n,l,o),this._size=this.groups.reduce((c,d)=>c+d.size*(d.range.end-d.range.start),0)}get count(){const h=this.groups.length;return h?this.groups[h-1].range.end:0}get size(){return this._size}indexAt(h){if(h<0)return-1;let g=0,t=0;for(const i of this.groups){const n=i.range.end-i.range.start,o=t+n*i.size;if(h<o)return g+Math.floor((h-t)/i.size);g+=n,t=o}return g}indexAfter(h){return Math.min(this.indexAt(h)+1,this.count)}positionAt(h){if(h<0)return-1;let g=0,t=0;for(const i of this.groups){const n=i.range.end-i.range.start,o=t+n;if(h<o)return g+(h-t)*i.size;g+=n*i.size,t=o}return-1}}e.RangeMap=b}),define(se[8],re([1,0,228,125]),function(q,e,w,m){"use strict";var k;Object.defineProperty(e,"__esModule",{value:!0}),e.InvisibleCharacters=e.AmbiguousCharacters=e.noBreakWhitespace=e.getLeftDeleteOffset=e.singleLetterHash=e.containsUppercaseCharacter=e.startsWithUTF8BOM=e.UTF8_BOM_CHARACTER=e.isEmojiImprecise=e.isFullWidthCharacter=e.containsUnusualLineTerminators=e.UNUSUAL_LINE_TERMINATORS=e.isBasicASCII=e.containsRTL=e.getCharContainingOffset=e.prevCharLength=e.nextCharLength=e.GraphemeIterator=e.CodePointIterator=e.getNextCodePoint=e.computeCodePoint=e.isLowSurrogate=e.isHighSurrogate=e.commonSuffixLength=e.commonPrefixLength=e.startsWithIgnoreCase=e.equalsIgnoreCase=e.isUpperAsciiLetter=e.isLowerAsciiLetter=e.isAsciiDigit=e.compareSubstringIgnoreCase=e.compareIgnoreCase=e.compareSubstring=e.compare=e.lastNonWhitespaceIndex=e.getLeadingWhitespace=e.firstNonWhitespaceIndex=e.splitLines=e.regExpFlags=e.regExpLeadsToEndlessLoop=e.createRegExp=e.stripWildcards=e.convertSimple2RegExpPattern=e.rtrim=e.ltrim=e.trim=e.escapeRegExpCharacters=e.escape=e.format=e.isFalsyOrWhitespace=void 0;function D(ce){return!ce||typeof ce!="string"?!0:ce.trim().length===0}e.isFalsyOrWhitespace=D;const L=/{(\d+)}/g;function b(ce,...ge){return ge.length===0?ce:ce.replace(L,function(ve,_e){const ye=parseInt(_e,10);return isNaN(ye)||ye<0||ye>=ge.length?ve:ge[ye]})}e.format=b;function C(ce){return ce.replace(/[<>&]/g,function(ge){switch(ge){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return ge}})}e.escape=C;function h(ce){return ce.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}e.escapeRegExpCharacters=h;function g(ce,ge=" "){const ve=t(ce,ge);return i(ve,ge)}e.trim=g;function t(ce,ge){if(!ce||!ge)return ce;const ve=ge.length;if(ve===0||ce.length===0)return ce;let _e=0;for(;ce.indexOf(ge,_e)===_e;)_e=_e+ve;return ce.substring(_e)}e.ltrim=t;function i(ce,ge){if(!ce||!ge)return ce;const ve=ge.length,_e=ce.length;if(ve===0||_e===0)return ce;let ye=_e,Ee=-1;for(;Ee=ce.lastIndexOf(ge,ye-1),!(Ee===-1||Ee+ve!==ye);){if(Ee===0)return"";ye=Ee}return ce.substring(0,ye)}e.rtrim=i;function n(ce){return ce.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}e.convertSimple2RegExpPattern=n;function o(ce){return ce.replace(/\*/g,"")}e.stripWildcards=o;function l(ce,ge,ve={}){if(!ce)throw new Error("Cannot create regex from empty string");ge||(ce=h(ce)),ve.wholeWord&&(/\B/.test(ce.charAt(0))||(ce="\\b"+ce),/\B/.test(ce.charAt(ce.length-1))||(ce=ce+"\\b"));let _e="";return ve.global&&(_e+="g"),ve.matchCase||(_e+="i"),ve.multiline&&(_e+="m"),ve.unicode&&(_e+="u"),new RegExp(ce,_e)}e.createRegExp=l;function c(ce){return ce.source==="^"||ce.source==="^$"||ce.source==="$"||ce.source==="^\\s*$"?!1:!!(ce.exec("")&&ce.lastIndex===0)}e.regExpLeadsToEndlessLoop=c;function d(ce){return(ce.global?"g":"")+(ce.ignoreCase?"i":"")+(ce.multiline?"m":"")+(ce.unicode?"u":"")}e.regExpFlags=d;function r(ce){return ce.split(/\r\n|\r|\n/)}e.splitLines=r;function s(ce){for(let ge=0,ve=ce.length;ge<ve;ge++){const _e=ce.charCodeAt(ge);if(_e!==32&&_e!==9)return ge}return-1}e.firstNonWhitespaceIndex=s;function a(ce,ge=0,ve=ce.length){for(let _e=ge;_e<ve;_e++){const ye=ce.charCodeAt(_e);if(ye!==32&&ye!==9)return ce.substring(ge,_e)}return ce.substring(ge,ve)}e.getLeadingWhitespace=a;function u(ce,ge=ce.length-1){for(let ve=ge;ve>=0;ve--){const _e=ce.charCodeAt(ve);if(_e!==32&&_e!==9)return ve}return-1}e.lastNonWhitespaceIndex=u;function p(ce,ge){return ce<ge?-1:ce>ge?1:0}e.compare=p;function S(ce,ge,ve=0,_e=ce.length,ye=0,Ee=ge.length){for(;ve<_e&&ye<Ee;ve++,ye++){const Ce=ce.charCodeAt(ve),te=ge.charCodeAt(ye);if(Ce<te)return-1;if(Ce>te)return 1}const Te=_e-ve,we=Ee-ye;return Te<we?-1:Te>we?1:0}e.compareSubstring=S;function f(ce,ge){return v(ce,ge,0,ce.length,0,ge.length)}e.compareIgnoreCase=f;function v(ce,ge,ve=0,_e=ce.length,ye=0,Ee=ge.length){for(;ve<_e&&ye<Ee;ve++,ye++){let Ce=ce.charCodeAt(ve),te=ge.charCodeAt(ye);if(Ce===te)continue;if(Ce>=128||te>=128)return S(ce.toLowerCase(),ge.toLowerCase(),ve,_e,ye,Ee);y(Ce)&&(Ce-=32),y(te)&&(te-=32);const he=Ce-te;if(he!==0)return he}const Te=_e-ve,we=Ee-ye;return Te<we?-1:Te>we?1:0}e.compareSubstringIgnoreCase=v;function _(ce){return ce>=48&&ce<=57}e.isAsciiDigit=_;function y(ce){return ce>=97&&ce<=122}e.isLowerAsciiLetter=y;function E(ce){return ce>=65&&ce<=90}e.isUpperAsciiLetter=E;function T(ce,ge){return ce.length===ge.length&&v(ce,ge)===0}e.equalsIgnoreCase=T;function I(ce,ge){const ve=ge.length;return ge.length>ce.length?!1:v(ce,ge,0,ve)===0}e.startsWithIgnoreCase=I;function R(ce,ge){const ve=Math.min(ce.length,ge.length);let _e;for(_e=0;_e<ve;_e++)if(ce.charCodeAt(_e)!==ge.charCodeAt(_e))return _e;return ve}e.commonPrefixLength=R;function F(ce,ge){const ve=Math.min(ce.length,ge.length);let _e;const ye=ce.length-1,Ee=ge.length-1;for(_e=0;_e<ve;_e++)if(ce.charCodeAt(ye-_e)!==ge.charCodeAt(Ee-_e))return _e;return ve}e.commonSuffixLength=F;function O(ce){return 55296<=ce&&ce<=56319}e.isHighSurrogate=O;function M(ce){return 56320<=ce&&ce<=57343}e.isLowSurrogate=M;function N(ce,ge){return(ce-55296<<10)+(ge-56320)+65536}e.computeCodePoint=N;function A(ce,ge,ve){const _e=ce.charCodeAt(ve);if(O(_e)&&ve+1<ge){const ye=ce.charCodeAt(ve+1);if(M(ye))return N(_e,ye)}return _e}e.getNextCodePoint=A;function B(ce,ge){const ve=ce.charCodeAt(ge-1);if(M(ve)&&ge>1){const _e=ce.charCodeAt(ge-2);if(O(_e))return N(_e,ve)}return ve}class W{get offset(){return this._offset}constructor(ge,ve=0){this._str=ge,this._len=ge.length,this._offset=ve}setOffset(ge){this._offset=ge}prevCodePoint(){const ge=B(this._str,this._offset);return this._offset-=ge>=65536?2:1,ge}nextCodePoint(){const ge=A(this._str,this._len,this._offset);return this._offset+=ge>=65536?2:1,ge}eol(){return this._offset>=this._len}}e.CodePointIterator=W;class x{get offset(){return this._iterator.offset}constructor(ge,ve=0){this._iterator=new W(ge,ve)}nextGraphemeLength(){const ge=z.getInstance(),ve=this._iterator,_e=ve.offset;let ye=ge.getGraphemeBreakType(ve.nextCodePoint());for(;!ve.eol();){const Ee=ve.offset,Te=ge.getGraphemeBreakType(ve.nextCodePoint());if(ae(ye,Te)){ve.setOffset(Ee);break}ye=Te}return ve.offset-_e}prevGraphemeLength(){const ge=z.getInstance(),ve=this._iterator,_e=ve.offset;let ye=ge.getGraphemeBreakType(ve.prevCodePoint());for(;ve.offset>0;){const Ee=ve.offset,Te=ge.getGraphemeBreakType(ve.prevCodePoint());if(ae(Te,ye)){ve.setOffset(Ee);break}ye=Te}return _e-ve.offset}eol(){return this._iterator.eol()}}e.GraphemeIterator=x;function P(ce,ge){return new x(ce,ge).nextGraphemeLength()}e.nextCharLength=P;function X(ce,ge){return new x(ce,ge).prevGraphemeLength()}e.prevCharLength=X;function ie(ce,ge){ge>0&&M(ce.charCodeAt(ge))&&ge--;const ve=ge+P(ce,ge);return[ve-X(ce,ve),ve]}e.getCharContainingOffset=ie;let K;function G(){return/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u088E\u08A0-\u08C9\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDC7\uFDF0-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE35\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDD23\uDE80-\uDEA9\uDEAD-\uDF45\uDF51-\uDF81\uDF86-\uDFF6]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD4B-\uDFFF]|\uD83B[\uDC00-\uDEBB])/}function Q(ce){return K||(K=G()),K.test(ce)}e.containsRTL=Q;const ne=/^[\t\n\r\x20-\x7E]*$/;function Z(ce){return ne.test(ce)}e.isBasicASCII=Z,e.UNUSUAL_LINE_TERMINATORS=/[\u2028\u2029]/;function ee(ce){return e.UNUSUAL_LINE_TERMINATORS.test(ce)}e.containsUnusualLineTerminators=ee;function le(ce){return ce>=11904&&ce<=55215||ce>=63744&&ce<=64255||ce>=65281&&ce<=65374}e.isFullWidthCharacter=le;function V(ce){return ce>=127462&&ce<=127487||ce===8986||ce===8987||ce===9200||ce===9203||ce>=9728&&ce<=10175||ce===11088||ce===11093||ce>=127744&&ce<=128591||ce>=128640&&ce<=128764||ce>=128992&&ce<=129008||ce>=129280&&ce<=129535||ce>=129648&&ce<=129782}e.isEmojiImprecise=V,e.UTF8_BOM_CHARACTER=String.fromCharCode(65279);function $(ce){return!!(ce&&ce.length>0&&ce.charCodeAt(0)===65279)}e.startsWithUTF8BOM=$;function oe(ce,ge=!1){return ce?(ge&&(ce=ce.replace(/\\./g,"")),ce.toLowerCase()!==ce):!1}e.containsUppercaseCharacter=oe;function U(ce){return ce=ce%(2*26),ce<26?String.fromCharCode(97+ce):String.fromCharCode(65+ce-26)}e.singleLetterHash=U;function ae(ce,ge){return ce===0?ge!==5&&ge!==7:ce===2&&ge===3?!1:ce===4||ce===2||ce===3||ge===4||ge===2||ge===3?!0:!(ce===8&&(ge===8||ge===9||ge===11||ge===12)||(ce===11||ce===9)&&(ge===9||ge===10)||(ce===12||ce===10)&&ge===10||ge===5||ge===13||ge===7||ce===1||ce===13&&ge===14||ce===6&&ge===6)}class z{static getInstance(){return z._INSTANCE||(z._INSTANCE=new z),z._INSTANCE}constructor(){this._data=J()}getGraphemeBreakType(ge){if(ge<32)return ge===10?3:ge===13?2:4;if(ge<127)return 0;const ve=this._data,_e=ve.length/3;let ye=1;for(;ye<=_e;)if(ge<ve[3*ye])ye=2*ye;else if(ge>ve[3*ye+1])ye=2*ye+1;else return ve[3*ye+2];return 0}}z._INSTANCE=null;function J(){return JSON.parse("[0,0,0,51229,51255,12,44061,44087,12,127462,127487,6,7083,7085,5,47645,47671,12,54813,54839,12,128678,128678,14,3270,3270,5,9919,9923,14,45853,45879,12,49437,49463,12,53021,53047,12,71216,71218,7,128398,128399,14,129360,129374,14,2519,2519,5,4448,4519,9,9742,9742,14,12336,12336,14,44957,44983,12,46749,46775,12,48541,48567,12,50333,50359,12,52125,52151,12,53917,53943,12,69888,69890,5,73018,73018,5,127990,127990,14,128558,128559,14,128759,128760,14,129653,129655,14,2027,2035,5,2891,2892,7,3761,3761,5,6683,6683,5,8293,8293,4,9825,9826,14,9999,9999,14,43452,43453,5,44509,44535,12,45405,45431,12,46301,46327,12,47197,47223,12,48093,48119,12,48989,49015,12,49885,49911,12,50781,50807,12,51677,51703,12,52573,52599,12,53469,53495,12,54365,54391,12,65279,65279,4,70471,70472,7,72145,72147,7,119173,119179,5,127799,127818,14,128240,128244,14,128512,128512,14,128652,128652,14,128721,128722,14,129292,129292,14,129445,129450,14,129734,129743,14,1476,1477,5,2366,2368,7,2750,2752,7,3076,3076,5,3415,3415,5,4141,4144,5,6109,6109,5,6964,6964,5,7394,7400,5,9197,9198,14,9770,9770,14,9877,9877,14,9968,9969,14,10084,10084,14,43052,43052,5,43713,43713,5,44285,44311,12,44733,44759,12,45181,45207,12,45629,45655,12,46077,46103,12,46525,46551,12,46973,46999,12,47421,47447,12,47869,47895,12,48317,48343,12,48765,48791,12,49213,49239,12,49661,49687,12,50109,50135,12,50557,50583,12,51005,51031,12,51453,51479,12,51901,51927,12,52349,52375,12,52797,52823,12,53245,53271,12,53693,53719,12,54141,54167,12,54589,54615,12,55037,55063,12,69506,69509,5,70191,70193,5,70841,70841,7,71463,71467,5,72330,72342,5,94031,94031,5,123628,123631,5,127763,127765,14,127941,127941,14,128043,128062,14,128302,128317,14,128465,128467,14,128539,128539,14,128640,128640,14,128662,128662,14,128703,128703,14,128745,128745,14,129004,129007,14,129329,129330,14,129402,129402,14,129483,129483,14,129686,129704,14,130048,131069,14,173,173,4,1757,1757,1,2200,2207,5,2434,2435,7,2631,2632,5,2817,2817,5,3008,3008,5,3201,3201,5,3387,3388,5,3542,3542,5,3902,3903,7,4190,4192,5,6002,6003,5,6439,6440,5,6765,6770,7,7019,7027,5,7154,7155,7,8205,8205,13,8505,8505,14,9654,9654,14,9757,9757,14,9792,9792,14,9852,9853,14,9890,9894,14,9937,9937,14,9981,9981,14,10035,10036,14,11035,11036,14,42654,42655,5,43346,43347,7,43587,43587,5,44006,44007,7,44173,44199,12,44397,44423,12,44621,44647,12,44845,44871,12,45069,45095,12,45293,45319,12,45517,45543,12,45741,45767,12,45965,45991,12,46189,46215,12,46413,46439,12,46637,46663,12,46861,46887,12,47085,47111,12,47309,47335,12,47533,47559,12,47757,47783,12,47981,48007,12,48205,48231,12,48429,48455,12,48653,48679,12,48877,48903,12,49101,49127,12,49325,49351,12,49549,49575,12,49773,49799,12,49997,50023,12,50221,50247,12,50445,50471,12,50669,50695,12,50893,50919,12,51117,51143,12,51341,51367,12,51565,51591,12,51789,51815,12,52013,52039,12,52237,52263,12,52461,52487,12,52685,52711,12,52909,52935,12,53133,53159,12,53357,53383,12,53581,53607,12,53805,53831,12,54029,54055,12,54253,54279,12,54477,54503,12,54701,54727,12,54925,54951,12,55149,55175,12,68101,68102,5,69762,69762,7,70067,70069,7,70371,70378,5,70720,70721,7,71087,71087,5,71341,71341,5,71995,71996,5,72249,72249,7,72850,72871,5,73109,73109,5,118576,118598,5,121505,121519,5,127245,127247,14,127568,127569,14,127777,127777,14,127872,127891,14,127956,127967,14,128015,128016,14,128110,128172,14,128259,128259,14,128367,128368,14,128424,128424,14,128488,128488,14,128530,128532,14,128550,128551,14,128566,128566,14,128647,128647,14,128656,128656,14,128667,128673,14,128691,128693,14,128715,128715,14,128728,128732,14,128752,128752,14,128765,128767,14,129096,129103,14,129311,129311,14,129344,129349,14,129394,129394,14,129413,129425,14,129466,129471,14,129511,129535,14,129664,129666,14,129719,129722,14,129760,129767,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2307,2307,7,2382,2383,7,2497,2500,5,2563,2563,7,2677,2677,5,2763,2764,7,2879,2879,5,2914,2915,5,3021,3021,5,3142,3144,5,3263,3263,5,3285,3286,5,3398,3400,7,3530,3530,5,3633,3633,5,3864,3865,5,3974,3975,5,4155,4156,7,4229,4230,5,5909,5909,7,6078,6085,7,6277,6278,5,6451,6456,7,6744,6750,5,6846,6846,5,6972,6972,5,7074,7077,5,7146,7148,7,7222,7223,5,7416,7417,5,8234,8238,4,8417,8417,5,9000,9000,14,9203,9203,14,9730,9731,14,9748,9749,14,9762,9763,14,9776,9783,14,9800,9811,14,9831,9831,14,9872,9873,14,9882,9882,14,9900,9903,14,9929,9933,14,9941,9960,14,9974,9974,14,9989,9989,14,10006,10006,14,10062,10062,14,10160,10160,14,11647,11647,5,12953,12953,14,43019,43019,5,43232,43249,5,43443,43443,5,43567,43568,7,43696,43696,5,43765,43765,7,44013,44013,5,44117,44143,12,44229,44255,12,44341,44367,12,44453,44479,12,44565,44591,12,44677,44703,12,44789,44815,12,44901,44927,12,45013,45039,12,45125,45151,12,45237,45263,12,45349,45375,12,45461,45487,12,45573,45599,12,45685,45711,12,45797,45823,12,45909,45935,12,46021,46047,12,46133,46159,12,46245,46271,12,46357,46383,12,46469,46495,12,46581,46607,12,46693,46719,12,46805,46831,12,46917,46943,12,47029,47055,12,47141,47167,12,47253,47279,12,47365,47391,12,47477,47503,12,47589,47615,12,47701,47727,12,47813,47839,12,47925,47951,12,48037,48063,12,48149,48175,12,48261,48287,12,48373,48399,12,48485,48511,12,48597,48623,12,48709,48735,12,48821,48847,12,48933,48959,12,49045,49071,12,49157,49183,12,49269,49295,12,49381,49407,12,49493,49519,12,49605,49631,12,49717,49743,12,49829,49855,12,49941,49967,12,50053,50079,12,50165,50191,12,50277,50303,12,50389,50415,12,50501,50527,12,50613,50639,12,50725,50751,12,50837,50863,12,50949,50975,12,51061,51087,12,51173,51199,12,51285,51311,12,51397,51423,12,51509,51535,12,51621,51647,12,51733,51759,12,51845,51871,12,51957,51983,12,52069,52095,12,52181,52207,12,52293,52319,12,52405,52431,12,52517,52543,12,52629,52655,12,52741,52767,12,52853,52879,12,52965,52991,12,53077,53103,12,53189,53215,12,53301,53327,12,53413,53439,12,53525,53551,12,53637,53663,12,53749,53775,12,53861,53887,12,53973,53999,12,54085,54111,12,54197,54223,12,54309,54335,12,54421,54447,12,54533,54559,12,54645,54671,12,54757,54783,12,54869,54895,12,54981,55007,12,55093,55119,12,55243,55291,10,66045,66045,5,68325,68326,5,69688,69702,5,69817,69818,5,69957,69958,7,70089,70092,5,70198,70199,5,70462,70462,5,70502,70508,5,70750,70750,5,70846,70846,7,71100,71101,5,71230,71230,7,71351,71351,5,71737,71738,5,72000,72000,7,72160,72160,5,72273,72278,5,72752,72758,5,72882,72883,5,73031,73031,5,73461,73462,7,94192,94193,7,119149,119149,7,121403,121452,5,122915,122916,5,126980,126980,14,127358,127359,14,127535,127535,14,127759,127759,14,127771,127771,14,127792,127793,14,127825,127867,14,127897,127899,14,127945,127945,14,127985,127986,14,128000,128007,14,128021,128021,14,128066,128100,14,128184,128235,14,128249,128252,14,128266,128276,14,128335,128335,14,128379,128390,14,128407,128419,14,128444,128444,14,128481,128481,14,128499,128499,14,128526,128526,14,128536,128536,14,128543,128543,14,128556,128556,14,128564,128564,14,128577,128580,14,128643,128645,14,128649,128649,14,128654,128654,14,128660,128660,14,128664,128664,14,128675,128675,14,128686,128689,14,128695,128696,14,128705,128709,14,128717,128719,14,128725,128725,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129009,129023,14,129160,129167,14,129296,129304,14,129320,129327,14,129340,129342,14,129356,129356,14,129388,129392,14,129399,129400,14,129404,129407,14,129432,129442,14,129454,129455,14,129473,129474,14,129485,129487,14,129648,129651,14,129659,129660,14,129671,129679,14,129709,129711,14,129728,129730,14,129751,129753,14,129776,129782,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2274,2274,1,2363,2363,7,2377,2380,7,2402,2403,5,2494,2494,5,2507,2508,7,2558,2558,5,2622,2624,7,2641,2641,5,2691,2691,7,2759,2760,5,2786,2787,5,2876,2876,5,2881,2884,5,2901,2902,5,3006,3006,5,3014,3016,7,3072,3072,5,3134,3136,5,3157,3158,5,3260,3260,5,3266,3266,5,3274,3275,7,3328,3329,5,3391,3392,7,3405,3405,5,3457,3457,5,3536,3537,7,3551,3551,5,3636,3642,5,3764,3772,5,3895,3895,5,3967,3967,7,3993,4028,5,4146,4151,5,4182,4183,7,4226,4226,5,4253,4253,5,4957,4959,5,5940,5940,7,6070,6070,7,6087,6088,7,6158,6158,4,6432,6434,5,6448,6449,7,6679,6680,5,6742,6742,5,6754,6754,5,6783,6783,5,6912,6915,5,6966,6970,5,6978,6978,5,7042,7042,7,7080,7081,5,7143,7143,7,7150,7150,7,7212,7219,5,7380,7392,5,7412,7412,5,8203,8203,4,8232,8232,4,8265,8265,14,8400,8412,5,8421,8432,5,8617,8618,14,9167,9167,14,9200,9200,14,9410,9410,14,9723,9726,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9774,14,9786,9786,14,9794,9794,14,9823,9823,14,9828,9828,14,9833,9850,14,9855,9855,14,9875,9875,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9935,9935,14,9939,9939,14,9962,9962,14,9972,9972,14,9978,9978,14,9986,9986,14,9997,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10133,10135,14,10548,10549,14,11093,11093,14,12330,12333,5,12441,12442,5,42608,42610,5,43010,43010,5,43045,43046,5,43188,43203,7,43302,43309,5,43392,43394,5,43446,43449,5,43493,43493,5,43571,43572,7,43597,43597,7,43703,43704,5,43756,43757,5,44003,44004,7,44009,44010,7,44033,44059,12,44089,44115,12,44145,44171,12,44201,44227,12,44257,44283,12,44313,44339,12,44369,44395,12,44425,44451,12,44481,44507,12,44537,44563,12,44593,44619,12,44649,44675,12,44705,44731,12,44761,44787,12,44817,44843,12,44873,44899,12,44929,44955,12,44985,45011,12,45041,45067,12,45097,45123,12,45153,45179,12,45209,45235,12,45265,45291,12,45321,45347,12,45377,45403,12,45433,45459,12,45489,45515,12,45545,45571,12,45601,45627,12,45657,45683,12,45713,45739,12,45769,45795,12,45825,45851,12,45881,45907,12,45937,45963,12,45993,46019,12,46049,46075,12,46105,46131,12,46161,46187,12,46217,46243,12,46273,46299,12,46329,46355,12,46385,46411,12,46441,46467,12,46497,46523,12,46553,46579,12,46609,46635,12,46665,46691,12,46721,46747,12,46777,46803,12,46833,46859,12,46889,46915,12,46945,46971,12,47001,47027,12,47057,47083,12,47113,47139,12,47169,47195,12,47225,47251,12,47281,47307,12,47337,47363,12,47393,47419,12,47449,47475,12,47505,47531,12,47561,47587,12,47617,47643,12,47673,47699,12,47729,47755,12,47785,47811,12,47841,47867,12,47897,47923,12,47953,47979,12,48009,48035,12,48065,48091,12,48121,48147,12,48177,48203,12,48233,48259,12,48289,48315,12,48345,48371,12,48401,48427,12,48457,48483,12,48513,48539,12,48569,48595,12,48625,48651,12,48681,48707,12,48737,48763,12,48793,48819,12,48849,48875,12,48905,48931,12,48961,48987,12,49017,49043,12,49073,49099,12,49129,49155,12,49185,49211,12,49241,49267,12,49297,49323,12,49353,49379,12,49409,49435,12,49465,49491,12,49521,49547,12,49577,49603,12,49633,49659,12,49689,49715,12,49745,49771,12,49801,49827,12,49857,49883,12,49913,49939,12,49969,49995,12,50025,50051,12,50081,50107,12,50137,50163,12,50193,50219,12,50249,50275,12,50305,50331,12,50361,50387,12,50417,50443,12,50473,50499,12,50529,50555,12,50585,50611,12,50641,50667,12,50697,50723,12,50753,50779,12,50809,50835,12,50865,50891,12,50921,50947,12,50977,51003,12,51033,51059,12,51089,51115,12,51145,51171,12,51201,51227,12,51257,51283,12,51313,51339,12,51369,51395,12,51425,51451,12,51481,51507,12,51537,51563,12,51593,51619,12,51649,51675,12,51705,51731,12,51761,51787,12,51817,51843,12,51873,51899,12,51929,51955,12,51985,52011,12,52041,52067,12,52097,52123,12,52153,52179,12,52209,52235,12,52265,52291,12,52321,52347,12,52377,52403,12,52433,52459,12,52489,52515,12,52545,52571,12,52601,52627,12,52657,52683,12,52713,52739,12,52769,52795,12,52825,52851,12,52881,52907,12,52937,52963,12,52993,53019,12,53049,53075,12,53105,53131,12,53161,53187,12,53217,53243,12,53273,53299,12,53329,53355,12,53385,53411,12,53441,53467,12,53497,53523,12,53553,53579,12,53609,53635,12,53665,53691,12,53721,53747,12,53777,53803,12,53833,53859,12,53889,53915,12,53945,53971,12,54001,54027,12,54057,54083,12,54113,54139,12,54169,54195,12,54225,54251,12,54281,54307,12,54337,54363,12,54393,54419,12,54449,54475,12,54505,54531,12,54561,54587,12,54617,54643,12,54673,54699,12,54729,54755,12,54785,54811,12,54841,54867,12,54897,54923,12,54953,54979,12,55009,55035,12,55065,55091,12,55121,55147,12,55177,55203,12,65024,65039,5,65520,65528,4,66422,66426,5,68152,68154,5,69291,69292,5,69633,69633,5,69747,69748,5,69811,69814,5,69826,69826,5,69932,69932,7,70016,70017,5,70079,70080,7,70095,70095,5,70196,70196,5,70367,70367,5,70402,70403,7,70464,70464,5,70487,70487,5,70709,70711,7,70725,70725,7,70833,70834,7,70843,70844,7,70849,70849,7,71090,71093,5,71103,71104,5,71227,71228,7,71339,71339,5,71344,71349,5,71458,71461,5,71727,71735,5,71985,71989,7,71998,71998,5,72002,72002,7,72154,72155,5,72193,72202,5,72251,72254,5,72281,72283,5,72344,72345,5,72766,72766,7,72874,72880,5,72885,72886,5,73023,73029,5,73104,73105,5,73111,73111,5,92912,92916,5,94095,94098,5,113824,113827,4,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,125252,125258,5,127183,127183,14,127340,127343,14,127377,127386,14,127491,127503,14,127548,127551,14,127744,127756,14,127761,127761,14,127769,127769,14,127773,127774,14,127780,127788,14,127796,127797,14,127820,127823,14,127869,127869,14,127894,127895,14,127902,127903,14,127943,127943,14,127947,127950,14,127972,127972,14,127988,127988,14,127992,127994,14,128009,128011,14,128019,128019,14,128023,128041,14,128064,128064,14,128102,128107,14,128174,128181,14,128238,128238,14,128246,128247,14,128254,128254,14,128264,128264,14,128278,128299,14,128329,128330,14,128348,128359,14,128371,128377,14,128392,128393,14,128401,128404,14,128421,128421,14,128433,128434,14,128450,128452,14,128476,128478,14,128483,128483,14,128495,128495,14,128506,128506,14,128519,128520,14,128528,128528,14,128534,128534,14,128538,128538,14,128540,128542,14,128544,128549,14,128552,128555,14,128557,128557,14,128560,128563,14,128565,128565,14,128567,128576,14,128581,128591,14,128641,128642,14,128646,128646,14,128648,128648,14,128650,128651,14,128653,128653,14,128655,128655,14,128657,128659,14,128661,128661,14,128663,128663,14,128665,128666,14,128674,128674,14,128676,128677,14,128679,128685,14,128690,128690,14,128694,128694,14,128697,128702,14,128704,128704,14,128710,128714,14,128716,128716,14,128720,128720,14,128723,128724,14,128726,128727,14,128733,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129008,129008,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129661,129663,14,129667,129670,14,129680,129685,14,129705,129708,14,129712,129718,14,129723,129727,14,129731,129733,14,129744,129750,14,129754,129759,14,129768,129775,14,129783,129791,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2192,2193,1,2250,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3132,3132,5,3137,3140,7,3146,3149,5,3170,3171,5,3202,3203,7,3262,3262,7,3264,3265,7,3267,3268,7,3271,3272,7,3276,3277,5,3298,3299,5,3330,3331,7,3390,3390,5,3393,3396,5,3402,3404,7,3406,3406,1,3426,3427,5,3458,3459,7,3535,3535,5,3538,3540,5,3544,3550,7,3570,3571,7,3635,3635,7,3655,3662,5,3763,3763,7,3784,3789,5,3893,3893,5,3897,3897,5,3953,3966,5,3968,3972,5,3981,3991,5,4038,4038,5,4145,4145,7,4153,4154,5,4157,4158,5,4184,4185,5,4209,4212,5,4228,4228,7,4237,4237,5,4352,4447,8,4520,4607,10,5906,5908,5,5938,5939,5,5970,5971,5,6068,6069,5,6071,6077,5,6086,6086,5,6089,6099,5,6155,6157,5,6159,6159,5,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6862,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7679,5,8204,8204,5,8206,8207,4,8233,8233,4,8252,8252,14,8288,8292,4,8294,8303,4,8413,8416,5,8418,8420,5,8482,8482,14,8596,8601,14,8986,8987,14,9096,9096,14,9193,9196,14,9199,9199,14,9201,9202,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9729,14,9732,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9775,9775,14,9784,9785,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9874,14,9876,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9934,14,9936,9936,14,9938,9938,14,9940,9940,14,9961,9961,14,9963,9967,14,9970,9971,14,9973,9973,14,9975,9977,14,9979,9980,14,9982,9985,14,9987,9988,14,9992,9996,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10083,14,10085,10087,14,10145,10145,14,10175,10175,14,11013,11015,14,11088,11088,14,11503,11505,5,11744,11775,5,12334,12335,5,12349,12349,14,12951,12951,14,42607,42607,5,42612,42621,5,42736,42737,5,43014,43014,5,43043,43044,7,43047,43047,7,43136,43137,7,43204,43205,5,43263,43263,5,43335,43345,5,43360,43388,8,43395,43395,7,43444,43445,7,43450,43451,7,43454,43456,7,43561,43566,5,43569,43570,5,43573,43574,5,43596,43596,5,43644,43644,5,43698,43700,5,43710,43711,5,43755,43755,7,43758,43759,7,43766,43766,5,44005,44005,5,44008,44008,5,44012,44012,7,44032,44032,11,44060,44060,11,44088,44088,11,44116,44116,11,44144,44144,11,44172,44172,11,44200,44200,11,44228,44228,11,44256,44256,11,44284,44284,11,44312,44312,11,44340,44340,11,44368,44368,11,44396,44396,11,44424,44424,11,44452,44452,11,44480,44480,11,44508,44508,11,44536,44536,11,44564,44564,11,44592,44592,11,44620,44620,11,44648,44648,11,44676,44676,11,44704,44704,11,44732,44732,11,44760,44760,11,44788,44788,11,44816,44816,11,44844,44844,11,44872,44872,11,44900,44900,11,44928,44928,11,44956,44956,11,44984,44984,11,45012,45012,11,45040,45040,11,45068,45068,11,45096,45096,11,45124,45124,11,45152,45152,11,45180,45180,11,45208,45208,11,45236,45236,11,45264,45264,11,45292,45292,11,45320,45320,11,45348,45348,11,45376,45376,11,45404,45404,11,45432,45432,11,45460,45460,11,45488,45488,11,45516,45516,11,45544,45544,11,45572,45572,11,45600,45600,11,45628,45628,11,45656,45656,11,45684,45684,11,45712,45712,11,45740,45740,11,45768,45768,11,45796,45796,11,45824,45824,11,45852,45852,11,45880,45880,11,45908,45908,11,45936,45936,11,45964,45964,11,45992,45992,11,46020,46020,11,46048,46048,11,46076,46076,11,46104,46104,11,46132,46132,11,46160,46160,11,46188,46188,11,46216,46216,11,46244,46244,11,46272,46272,11,46300,46300,11,46328,46328,11,46356,46356,11,46384,46384,11,46412,46412,11,46440,46440,11,46468,46468,11,46496,46496,11,46524,46524,11,46552,46552,11,46580,46580,11,46608,46608,11,46636,46636,11,46664,46664,11,46692,46692,11,46720,46720,11,46748,46748,11,46776,46776,11,46804,46804,11,46832,46832,11,46860,46860,11,46888,46888,11,46916,46916,11,46944,46944,11,46972,46972,11,47000,47000,11,47028,47028,11,47056,47056,11,47084,47084,11,47112,47112,11,47140,47140,11,47168,47168,11,47196,47196,11,47224,47224,11,47252,47252,11,47280,47280,11,47308,47308,11,47336,47336,11,47364,47364,11,47392,47392,11,47420,47420,11,47448,47448,11,47476,47476,11,47504,47504,11,47532,47532,11,47560,47560,11,47588,47588,11,47616,47616,11,47644,47644,11,47672,47672,11,47700,47700,11,47728,47728,11,47756,47756,11,47784,47784,11,47812,47812,11,47840,47840,11,47868,47868,11,47896,47896,11,47924,47924,11,47952,47952,11,47980,47980,11,48008,48008,11,48036,48036,11,48064,48064,11,48092,48092,11,48120,48120,11,48148,48148,11,48176,48176,11,48204,48204,11,48232,48232,11,48260,48260,11,48288,48288,11,48316,48316,11,48344,48344,11,48372,48372,11,48400,48400,11,48428,48428,11,48456,48456,11,48484,48484,11,48512,48512,11,48540,48540,11,48568,48568,11,48596,48596,11,48624,48624,11,48652,48652,11,48680,48680,11,48708,48708,11,48736,48736,11,48764,48764,11,48792,48792,11,48820,48820,11,48848,48848,11,48876,48876,11,48904,48904,11,48932,48932,11,48960,48960,11,48988,48988,11,49016,49016,11,49044,49044,11,49072,49072,11,49100,49100,11,49128,49128,11,49156,49156,11,49184,49184,11,49212,49212,11,49240,49240,11,49268,49268,11,49296,49296,11,49324,49324,11,49352,49352,11,49380,49380,11,49408,49408,11,49436,49436,11,49464,49464,11,49492,49492,11,49520,49520,11,49548,49548,11,49576,49576,11,49604,49604,11,49632,49632,11,49660,49660,11,49688,49688,11,49716,49716,11,49744,49744,11,49772,49772,11,49800,49800,11,49828,49828,11,49856,49856,11,49884,49884,11,49912,49912,11,49940,49940,11,49968,49968,11,49996,49996,11,50024,50024,11,50052,50052,11,50080,50080,11,50108,50108,11,50136,50136,11,50164,50164,11,50192,50192,11,50220,50220,11,50248,50248,11,50276,50276,11,50304,50304,11,50332,50332,11,50360,50360,11,50388,50388,11,50416,50416,11,50444,50444,11,50472,50472,11,50500,50500,11,50528,50528,11,50556,50556,11,50584,50584,11,50612,50612,11,50640,50640,11,50668,50668,11,50696,50696,11,50724,50724,11,50752,50752,11,50780,50780,11,50808,50808,11,50836,50836,11,50864,50864,11,50892,50892,11,50920,50920,11,50948,50948,11,50976,50976,11,51004,51004,11,51032,51032,11,51060,51060,11,51088,51088,11,51116,51116,11,51144,51144,11,51172,51172,11,51200,51200,11,51228,51228,11,51256,51256,11,51284,51284,11,51312,51312,11,51340,51340,11,51368,51368,11,51396,51396,11,51424,51424,11,51452,51452,11,51480,51480,11,51508,51508,11,51536,51536,11,51564,51564,11,51592,51592,11,51620,51620,11,51648,51648,11,51676,51676,11,51704,51704,11,51732,51732,11,51760,51760,11,51788,51788,11,51816,51816,11,51844,51844,11,51872,51872,11,51900,51900,11,51928,51928,11,51956,51956,11,51984,51984,11,52012,52012,11,52040,52040,11,52068,52068,11,52096,52096,11,52124,52124,11,52152,52152,11,52180,52180,11,52208,52208,11,52236,52236,11,52264,52264,11,52292,52292,11,52320,52320,11,52348,52348,11,52376,52376,11,52404,52404,11,52432,52432,11,52460,52460,11,52488,52488,11,52516,52516,11,52544,52544,11,52572,52572,11,52600,52600,11,52628,52628,11,52656,52656,11,52684,52684,11,52712,52712,11,52740,52740,11,52768,52768,11,52796,52796,11,52824,52824,11,52852,52852,11,52880,52880,11,52908,52908,11,52936,52936,11,52964,52964,11,52992,52992,11,53020,53020,11,53048,53048,11,53076,53076,11,53104,53104,11,53132,53132,11,53160,53160,11,53188,53188,11,53216,53216,11,53244,53244,11,53272,53272,11,53300,53300,11,53328,53328,11,53356,53356,11,53384,53384,11,53412,53412,11,53440,53440,11,53468,53468,11,53496,53496,11,53524,53524,11,53552,53552,11,53580,53580,11,53608,53608,11,53636,53636,11,53664,53664,11,53692,53692,11,53720,53720,11,53748,53748,11,53776,53776,11,53804,53804,11,53832,53832,11,53860,53860,11,53888,53888,11,53916,53916,11,53944,53944,11,53972,53972,11,54000,54000,11,54028,54028,11,54056,54056,11,54084,54084,11,54112,54112,11,54140,54140,11,54168,54168,11,54196,54196,11,54224,54224,11,54252,54252,11,54280,54280,11,54308,54308,11,54336,54336,11,54364,54364,11,54392,54392,11,54420,54420,11,54448,54448,11,54476,54476,11,54504,54504,11,54532,54532,11,54560,54560,11,54588,54588,11,54616,54616,11,54644,54644,11,54672,54672,11,54700,54700,11,54728,54728,11,54756,54756,11,54784,54784,11,54812,54812,11,54840,54840,11,54868,54868,11,54896,54896,11,54924,54924,11,54952,54952,11,54980,54980,11,55008,55008,11,55036,55036,11,55064,55064,11,55092,55092,11,55120,55120,11,55148,55148,11,55176,55176,11,55216,55238,9,64286,64286,5,65056,65071,5,65438,65439,5,65529,65531,4,66272,66272,5,68097,68099,5,68108,68111,5,68159,68159,5,68900,68903,5,69446,69456,5,69632,69632,7,69634,69634,7,69744,69744,5,69759,69761,5,69808,69810,7,69815,69816,7,69821,69821,1,69837,69837,1,69927,69931,5,69933,69940,5,70003,70003,5,70018,70018,7,70070,70078,5,70082,70083,1,70094,70094,7,70188,70190,7,70194,70195,7,70197,70197,7,70206,70206,5,70368,70370,7,70400,70401,5,70459,70460,5,70463,70463,7,70465,70468,7,70475,70477,7,70498,70499,7,70512,70516,5,70712,70719,5,70722,70724,5,70726,70726,5,70832,70832,5,70835,70840,5,70842,70842,5,70845,70845,5,70847,70848,5,70850,70851,5,71088,71089,7,71096,71099,7,71102,71102,7,71132,71133,5,71219,71226,5,71229,71229,5,71231,71232,5,71340,71340,7,71342,71343,7,71350,71350,7,71453,71455,5,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,118528,118573,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123566,123566,5,125136,125142,5,126976,126979,14,126981,127182,14,127184,127231,14,127279,127279,14,127344,127345,14,127374,127374,14,127405,127461,14,127489,127490,14,127514,127514,14,127538,127546,14,127561,127567,14,127570,127743,14,127757,127758,14,127760,127760,14,127762,127762,14,127766,127768,14,127770,127770,14,127772,127772,14,127775,127776,14,127778,127779,14,127789,127791,14,127794,127795,14,127798,127798,14,127819,127819,14,127824,127824,14,127868,127868,14,127870,127871,14,127892,127893,14,127896,127896,14,127900,127901,14,127904,127940,14,127942,127942,14,127944,127944,14,127946,127946,14,127951,127955,14,127968,127971,14,127973,127984,14,127987,127987,14,127989,127989,14,127991,127991,14,127995,127999,5,128008,128008,14,128012,128014,14,128017,128018,14,128020,128020,14,128022,128022,14,128042,128042,14,128063,128063,14,128065,128065,14,128101,128101,14,128108,128109,14,128173,128173,14,128182,128183,14,128236,128237,14,128239,128239,14,128245,128245,14,128248,128248,14,128253,128253,14,128255,128258,14,128260,128263,14,128265,128265,14,128277,128277,14,128300,128301,14,128326,128328,14,128331,128334,14,128336,128347,14,128360,128366,14,128369,128370,14,128378,128378,14,128391,128391,14,128394,128397,14,128400,128400,14,128405,128406,14,128420,128420,14,128422,128423,14,128425,128432,14,128435,128443,14,128445,128449,14,128453,128464,14,128468,128475,14,128479,128480,14,128482,128482,14,128484,128487,14,128489,128494,14,128496,128498,14,128500,128505,14,128507,128511,14,128513,128518,14,128521,128525,14,128527,128527,14,128529,128529,14,128533,128533,14,128535,128535,14,128537,128537,14]")}function Y(ce,ge){if(ce===0)return 0;const ve=H(ce,ge);if(ve!==void 0)return ve;const _e=new W(ge,ce);return _e.prevCodePoint(),_e.offset}e.getLeftDeleteOffset=Y;function H(ce,ge){const ve=new W(ge,ce);let _e=ve.prevCodePoint();for(;j(_e)||_e===65039||_e===8419;){if(ve.offset===0)return;_e=ve.prevCodePoint()}if(!V(_e))return;let ye=ve.offset;return ye>0&&ve.prevCodePoint()===8205&&(ye=ve.offset),ye}function j(ce){return 127995<=ce&&ce<=127999}e.noBreakWhitespace="\xA0";class de{static getInstance(ge){return de.cache.get(Array.from(ge))}static getLocales(){return de._locales.getValue()}constructor(ge){this.confusableDictionary=ge}isAmbiguous(ge){return this.confusableDictionary.has(ge)}getPrimaryConfusable(ge){return this.confusableDictionary.get(ge)}getConfusableCodePoints(){return new Set(this.confusableDictionary.keys())}}e.AmbiguousCharacters=de,k=de,de.ambiguousCharacterData=new m.Lazy(()=>JSON.parse('{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65297,49,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125],"_default":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"cs":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"de":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"es":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"fr":[65374,126,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"it":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ja":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65292,44,65307,59],"ko":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pl":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pt-BR":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"qps-ploc":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ru":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"tr":[160,32,8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"zh-hans":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41],"zh-hant":[8211,45,65374,126,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65307,59]}')),de.cache=new w.LRUCachedFunction(ce=>{function ge(te){const he=new Map;for(let be=0;be<te.length;be+=2)he.set(te[be],te[be+1]);return he}function ve(te,he){const be=new Map(te);for(const[me,pe]of he)be.set(me,pe);return be}function _e(te,he){if(!te)return he;const be=new Map;for(const[me,pe]of te)he.has(me)&&be.set(me,pe);return be}const ye=k.ambiguousCharacterData.getValue();let Ee=ce.filter(te=>!te.startsWith("_")&&te in ye);Ee.length===0&&(Ee=["_default"]);let Te;for(const te of Ee){const he=ge(ye[te]);Te=_e(Te,he)}const we=ge(ye._common),Ce=ve(we,Te);return new de(Ce)}),de._locales=new m.Lazy(()=>Object.keys(de.ambiguousCharacterData.getValue()).filter(ce=>!ce.startsWith("_")));class ue{static getRawData(){return JSON.parse("[9,10,11,12,13,32,127,160,173,847,1564,4447,4448,6068,6069,6155,6156,6157,6158,7355,7356,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8203,8204,8205,8206,8207,8234,8235,8236,8237,8238,8239,8287,8288,8289,8290,8291,8292,8293,8294,8295,8296,8297,8298,8299,8300,8301,8302,8303,10240,12288,12644,65024,65025,65026,65027,65028,65029,65030,65031,65032,65033,65034,65035,65036,65037,65038,65039,65279,65440,65520,65521,65522,65523,65524,65525,65526,65527,65528,65532,78844,119155,119156,119157,119158,119159,119160,119161,119162,917504,917505,917506,917507,917508,917509,917510,917511,917512,917513,917514,917515,917516,917517,917518,917519,917520,917521,917522,917523,917524,917525,917526,917527,917528,917529,917530,917531,917532,917533,917534,917535,917536,917537,917538,917539,917540,917541,917542,917543,917544,917545,917546,917547,917548,917549,917550,917551,917552,917553,917554,917555,917556,917557,917558,917559,917560,917561,917562,917563,917564,917565,917566,917567,917568,917569,917570,917571,917572,917573,917574,917575,917576,917577,917578,917579,917580,917581,917582,917583,917584,917585,917586,917587,917588,917589,917590,917591,917592,917593,917594,917595,917596,917597,917598,917599,917600,917601,917602,917603,917604,917605,917606,917607,917608,917609,917610,917611,917612,917613,917614,917615,917616,917617,917618,917619,917620,917621,917622,917623,917624,917625,917626,917627,917628,917629,917630,917631,917760,917761,917762,917763,917764,917765,917766,917767,917768,917769,917770,917771,917772,917773,917774,917775,917776,917777,917778,917779,917780,917781,917782,917783,917784,917785,917786,917787,917788,917789,917790,917791,917792,917793,917794,917795,917796,917797,917798,917799,917800,917801,917802,917803,917804,917805,917806,917807,917808,917809,917810,917811,917812,917813,917814,917815,917816,917817,917818,917819,917820,917821,917822,917823,917824,917825,917826,917827,917828,917829,917830,917831,917832,917833,917834,917835,917836,917837,917838,917839,917840,917841,917842,917843,917844,917845,917846,917847,917848,917849,917850,917851,917852,917853,917854,917855,917856,917857,917858,917859,917860,917861,917862,917863,917864,917865,917866,917867,917868,917869,917870,917871,917872,917873,917874,917875,917876,917877,917878,917879,917880,917881,917882,917883,917884,917885,917886,917887,917888,917889,917890,917891,917892,917893,917894,917895,917896,917897,917898,917899,917900,917901,917902,917903,917904,917905,917906,917907,917908,917909,917910,917911,917912,917913,917914,917915,917916,917917,917918,917919,917920,917921,917922,917923,917924,917925,917926,917927,917928,917929,917930,917931,917932,917933,917934,917935,917936,917937,917938,917939,917940,917941,917942,917943,917944,917945,917946,917947,917948,917949,917950,917951,917952,917953,917954,917955,917956,917957,917958,917959,917960,917961,917962,917963,917964,917965,917966,917967,917968,917969,917970,917971,917972,917973,917974,917975,917976,917977,917978,917979,917980,917981,917982,917983,917984,917985,917986,917987,917988,917989,917990,917991,917992,917993,917994,917995,917996,917997,917998,917999]")}static getData(){return this._data||(this._data=new Set(ue.getRawData())),this._data}static isInvisibleCharacter(ge){return ue.getData().has(ge)}static get codePoints(){return ue.getData()}}e.InvisibleCharacters=ue,ue._data=void 0}),define(se[62],re([1,0,59,8]),function(q,e,w,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fuzzyScoreGracefulAggressive=e.fuzzyScore=e.FuzzyScoreOptions=e.FuzzyScore=e.isPatternInWord=e.createMatches=e.anyScore=e.matchesFuzzy=e.matchesWords=e.matchesCamelCase=e.isUpper=e.matchesSubString=e.matchesContiguousSubString=e.matchesPrefix=e.matchesStrictPrefix=e.or=void 0;function k(...Y){return function(H,j){for(let de=0,ue=Y.length;de<ue;de++){const ce=Y[de](H,j);if(ce)return ce}return null}}e.or=k,e.matchesStrictPrefix=D.bind(void 0,!1),e.matchesPrefix=D.bind(void 0,!0);function D(Y,H,j){if(!j||j.length<H.length)return null;let de;return Y?de=m.startsWithIgnoreCase(j,H):de=j.indexOf(H)===0,de?H.length>0?[{start:0,end:H.length}]:[]:null}function L(Y,H){const j=H.toLowerCase().indexOf(Y.toLowerCase());return j===-1?null:[{start:j,end:j+Y.length}]}e.matchesContiguousSubString=L;function b(Y,H){return C(Y.toLowerCase(),H.toLowerCase(),0,0)}e.matchesSubString=b;function C(Y,H,j,de){if(j===Y.length)return[];if(de===H.length)return null;if(Y[j]===H[de]){let ue=null;return(ue=C(Y,H,j+1,de+1))?d({start:de,end:de+1},ue):null}return C(Y,H,j,de+1)}function h(Y){return 97<=Y&&Y<=122}function g(Y){return 65<=Y&&Y<=90}e.isUpper=g;function t(Y){return 48<=Y&&Y<=57}function i(Y){return Y===32||Y===9||Y===10||Y===13}const n=new Set;"()[]{}<>`'\"-/;:,.?!".split("").forEach(Y=>n.add(Y.charCodeAt(0)));function o(Y){return i(Y)||n.has(Y)}function l(Y,H){return Y===H||o(Y)&&o(H)}function c(Y){return h(Y)||g(Y)||t(Y)}function d(Y,H){return H.length===0?H=[Y]:Y.end===H[0].start?H[0].start=Y.start:H.unshift(Y),H}function r(Y,H){for(let j=H;j<Y.length;j++){const de=Y.charCodeAt(j);if(g(de)||t(de)||j>0&&!c(Y.charCodeAt(j-1)))return j}return Y.length}function s(Y,H,j,de){if(j===Y.length)return[];if(de===H.length)return null;if(Y[j]!==H[de].toLowerCase())return null;{let ue=null,ce=de+1;for(ue=s(Y,H,j+1,de+1);!ue&&(ce=r(H,ce))<H.length;)ue=s(Y,H,j+1,ce),ce++;return ue===null?null:d({start:de,end:de+1},ue)}}function a(Y){let H=0,j=0,de=0,ue=0,ce=0;for(let Ee=0;Ee<Y.length;Ee++)ce=Y.charCodeAt(Ee),g(ce)&&H++,h(ce)&&j++,c(ce)&&de++,t(ce)&&ue++;const ge=H/Y.length,ve=j/Y.length,_e=de/Y.length,ye=ue/Y.length;return{upperPercent:ge,lowerPercent:ve,alphaPercent:_e,numericPercent:ye}}function u(Y){const{upperPercent:H,lowerPercent:j}=Y;return j===0&&H>.6}function p(Y){const{upperPercent:H,lowerPercent:j,alphaPercent:de,numericPercent:ue}=Y;return j>.2&&H<.8&&de>.6&&ue<.2}function S(Y){let H=0,j=0,de=0,ue=0;for(let ce=0;ce<Y.length;ce++)de=Y.charCodeAt(ce),g(de)&&H++,h(de)&&j++,i(de)&&ue++;return(H===0||j===0)&&ue===0?Y.length<=30:H<=5}function f(Y,H){if(!H||(H=H.trim(),H.length===0)||!S(Y)||H.length>60)return null;const j=a(H);if(!p(j)){if(!u(j))return null;H=H.toLowerCase()}let de=null,ue=0;for(Y=Y.toLowerCase();ue<H.length&&(de=s(Y,H,0,ue))===null;)ue=r(H,ue+1);return de}e.matchesCamelCase=f;function v(Y,H,j=!1){if(!H||H.length===0)return null;let de=null,ue=0;for(Y=Y.toLowerCase(),H=H.toLowerCase();ue<H.length&&(de=_(Y,H,0,ue,j))===null;)ue=y(H,ue+1);return de}e.matchesWords=v;function _(Y,H,j,de,ue){if(j===Y.length)return[];if(de===H.length)return null;if(l(Y.charCodeAt(j),H.charCodeAt(de))){let ce=null,ge=de+1;if(ce=_(Y,H,j+1,de+1,ue),!ue)for(;!ce&&(ge=y(H,ge))<H.length;)ce=_(Y,H,j+1,ge,ue),ge++;return ce?Y.charCodeAt(j)!==H.charCodeAt(de)?ce:d({start:de,end:de+1},ce):null}else return null}function y(Y,H){for(let j=H;j<Y.length;j++)if(o(Y.charCodeAt(j))||j>0&&o(Y.charCodeAt(j-1)))return j;return Y.length}const E=k(e.matchesPrefix,f,L),T=k(e.matchesPrefix,f,b),I=new w.LRUCache(1e4);function R(Y,H,j=!1){if(typeof Y!="string"||typeof H!="string")return null;let de=I.get(Y);de||(de=new RegExp(m.convertSimple2RegExpPattern(Y),"i"),I.set(Y,de));const ue=de.exec(H);return ue?[{start:ue.index,end:ue.index+ue[0].length}]:j?T(Y,H):E(Y,H)}e.matchesFuzzy=R;function F(Y,H,j,de,ue,ce){const ge=Math.min(13,Y.length);for(;j<ge;j++){const ve=$(Y,H,j,de,ue,ce,{firstMatchCanBeWeak:!1,boostFullMatch:!0});if(ve)return ve}return[0,ce]}e.anyScore=F;function O(Y){if(typeof Y>"u")return[];const H=[],j=Y[1];for(let de=Y.length-1;de>1;de--){const ue=Y[de]+j,ce=H[H.length-1];ce&&ce.end===ue?ce.end=ue+1:H.push({start:ue,end:ue+1})}return H}e.createMatches=O;const M=128;function N(){const Y=[],H=[];for(let j=0;j<=M;j++)H[j]=0;for(let j=0;j<=M;j++)Y.push(H.slice(0));return Y}function A(Y){const H=[];for(let j=0;j<=Y;j++)H[j]=0;return H}const B=A(2*M),W=A(2*M),x=N(),P=N(),X=N(),ie=!1;function K(Y,H,j,de,ue){function ce(ve,_e,ye=" "){for(;ve.length<_e;)ve=ye+ve;return ve}let ge=` |   |${de.split("").map(ve=>ce(ve,3)).join("|")}
`;for(let ve=0;ve<=j;ve++)ve===0?ge+=" |":ge+=`${H[ve-1]}|`,ge+=Y[ve].slice(0,ue+1).map(_e=>ce(_e.toString(),3)).join("|")+`
`;return ge}function G(Y,H,j,de){Y=Y.substr(H),j=j.substr(de),console.log(K(P,Y,Y.length,j,j.length)),console.log(K(X,Y,Y.length,j,j.length)),console.log(K(x,Y,Y.length,j,j.length))}function Q(Y,H){if(H<0||H>=Y.length)return!1;const j=Y.codePointAt(H);switch(j){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:case 60:case 62:case 40:case 41:case 91:case 93:case 123:case 125:return!0;case void 0:return!1;default:return!!m.isEmojiImprecise(j)}}function ne(Y,H){if(H<0||H>=Y.length)return!1;switch(Y.charCodeAt(H)){case 32:case 9:return!0;default:return!1}}function Z(Y,H,j){return H[Y]!==j[Y]}function ee(Y,H,j,de,ue,ce,ge=!1){for(;H<j&&ue<ce;)Y[H]===de[ue]&&(ge&&(B[H]=ue),H+=1),ue+=1;return H===j}e.isPatternInWord=ee;var le;(function(Y){Y.Default=[-100,0];function H(j){return!j||j.length===2&&j[0]===-100&&j[1]===0}Y.isDefault=H})(le=e.FuzzyScore||(e.FuzzyScore={}));class V{constructor(H,j){this.firstMatchCanBeWeak=H,this.boostFullMatch=j}}e.FuzzyScoreOptions=V,V.default={boostFullMatch:!0,firstMatchCanBeWeak:!1};function $(Y,H,j,de,ue,ce,ge=V.default){const ve=Y.length>M?M:Y.length,_e=de.length>M?M:de.length;if(j>=ve||ce>=_e||ve-j>_e-ce||!ee(H,j,ve,ue,ce,_e,!0))return;oe(ve,_e,j,ce,H,ue);let ye=1,Ee=1,Te=j,we=ce;const Ce=[!1];for(ye=1,Te=j;Te<ve;ye++,Te++){const pe=B[Te],Le=W[Te],Ie=Te+1<ve?W[Te+1]:_e;for(Ee=pe-ce+1,we=pe;we<Ie;Ee++,we++){let Ne=Number.MIN_SAFE_INTEGER,Pe=!1;we<=Le&&(Ne=U(Y,H,Te,j,de,ue,we,_e,ce,x[ye-1][Ee-1]===0,Ce));let Re=0;Ne!==Number.MAX_SAFE_INTEGER&&(Pe=!0,Re=Ne+P[ye-1][Ee-1]);const Ae=we>pe,Be=Ae?P[ye][Ee-1]+(x[ye][Ee-1]>0?-5:0):0,Fe=we>pe+1&&x[ye][Ee-1]>0,He=Fe?P[ye][Ee-2]+(x[ye][Ee-2]>0?-5:0):0;if(Fe&&(!Ae||He>=Be)&&(!Pe||He>=Re))P[ye][Ee]=He,X[ye][Ee]=3,x[ye][Ee]=0;else if(Ae&&(!Pe||Be>=Re))P[ye][Ee]=Be,X[ye][Ee]=2,x[ye][Ee]=0;else if(Pe)P[ye][Ee]=Re,X[ye][Ee]=1,x[ye][Ee]=x[ye-1][Ee-1]+1;else throw new Error("not possible")}}if(ie&&G(Y,j,de,ce),!Ce[0]&&!ge.firstMatchCanBeWeak)return;ye--,Ee--;const te=[P[ye][Ee],ce];let he=0,be=0;for(;ye>=1;){let pe=Ee;do{const Le=X[ye][pe];if(Le===3)pe=pe-2;else if(Le===2)pe=pe-1;else break}while(pe>=1);he>1&&H[j+ye-1]===ue[ce+Ee-1]&&!Z(pe+ce-1,de,ue)&&he+1>x[ye][pe]&&(pe=Ee),pe===Ee?he++:he=1,be||(be=pe),ye--,Ee=pe-1,te.push(Ee)}_e===ve&&ge.boostFullMatch&&(te[0]+=2);const me=be-ve;return te[0]-=me,te}e.fuzzyScore=$;function oe(Y,H,j,de,ue,ce){let ge=Y-1,ve=H-1;for(;ge>=j&&ve>=de;)ue[ge]===ce[ve]&&(W[ge]=ve,ge--),ve--}function U(Y,H,j,de,ue,ce,ge,ve,_e,ye,Ee){if(H[j]!==ce[ge])return Number.MIN_SAFE_INTEGER;let Te=1,we=!1;return ge===j-de?Te=Y[j]===ue[ge]?7:5:Z(ge,ue,ce)&&(ge===0||!Z(ge-1,ue,ce))?(Te=Y[j]===ue[ge]?7:5,we=!0):Q(ce,ge)&&(ge===0||!Q(ce,ge-1))?Te=5:(Q(ce,ge-1)||ne(ce,ge-1))&&(Te=5,we=!0),Te>1&&j===de&&(Ee[0]=!0),we||(we=Z(ge,ue,ce)||Q(ce,ge-1)||ne(ce,ge-1)),j===de?ge>_e&&(Te-=we?3:5):ye?Te+=we?2:0:Te+=we?0:1,ge+1===ve&&(Te-=we?3:5),Te}function ae(Y,H,j,de,ue,ce,ge){return z(Y,H,j,de,ue,ce,!0,ge)}e.fuzzyScoreGracefulAggressive=ae;function z(Y,H,j,de,ue,ce,ge,ve){let _e=$(Y,H,j,de,ue,ce,ve);if(_e&&!ge)return _e;if(Y.length>=3){const ye=Math.min(7,Y.length-1);for(let Ee=j+1;Ee<ye;Ee++){const Te=J(Y,Ee);if(Te){const we=$(Te,Te.toLowerCase(),j,de,ue,ce,ve);we&&(we[0]-=3,(!_e||we[0]>_e[0])&&(_e=we))}}}return _e}function J(Y,H){if(H+1>=Y.length)return;const j=Y[H],de=Y[H+1];if(j!==de)return Y.slice(0,H)+de+j+Y.slice(H+2)}}),define(se[107],re([1,0,8]),function(q,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StringSHA1=e.toHexString=e.stringHash=e.numberHash=e.doHash=e.hash=void 0;function m(l){return k(l,0)}e.hash=m;function k(l,c){switch(typeof l){case"object":return l===null?D(349,c):Array.isArray(l)?C(l,c):h(l,c);case"string":return b(l,c);case"boolean":return L(l,c);case"number":return D(l,c);case"undefined":return D(937,c);default:return D(617,c)}}e.doHash=k;function D(l,c){return(c<<5)-c+l|0}e.numberHash=D;function L(l,c){return D(l?433:863,c)}function b(l,c){c=D(149417,c);for(let d=0,r=l.length;d<r;d++)c=D(l.charCodeAt(d),c);return c}e.stringHash=b;function C(l,c){return c=D(104579,c),l.reduce((d,r)=>k(r,d),c)}function h(l,c){return c=D(181387,c),Object.keys(l).sort().reduce((d,r)=>(d=b(r,d),k(l[r],d)),c)}function g(l,c,d=32){const r=d-c,s=~((1<<r)-1);return(l<<c|(s&l)>>>r)>>>0}function t(l,c=0,d=l.byteLength,r=0){for(let s=0;s<d;s++)l[c+s]=r}function i(l,c,d="0"){for(;l.length<c;)l=d+l;return l}function n(l,c=32){return l instanceof ArrayBuffer?Array.from(new Uint8Array(l)).map(d=>d.toString(16).padStart(2,"0")).join(""):i((l>>>0).toString(16),c/4)}e.toHexString=n;class o{constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(64+3),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}update(c){const d=c.length;if(d===0)return;const r=this._buff;let s=this._buffLen,a=this._leftoverHighSurrogate,u,p;for(a!==0?(u=a,p=-1,a=0):(u=c.charCodeAt(0),p=0);;){let S=u;if(w.isHighSurrogate(u))if(p+1<d){const f=c.charCodeAt(p+1);w.isLowSurrogate(f)?(p++,S=w.computeCodePoint(u,f)):S=65533}else{a=u;break}else w.isLowSurrogate(u)&&(S=65533);if(s=this._push(r,s,S),p++,p<d)u=c.charCodeAt(p);else break}this._buffLen=s,this._leftoverHighSurrogate=a}_push(c,d,r){return r<128?c[d++]=r:r<2048?(c[d++]=192|(r&1984)>>>6,c[d++]=128|(r&63)>>>0):r<65536?(c[d++]=224|(r&61440)>>>12,c[d++]=128|(r&4032)>>>6,c[d++]=128|(r&63)>>>0):(c[d++]=240|(r&1835008)>>>18,c[d++]=128|(r&258048)>>>12,c[d++]=128|(r&4032)>>>6,c[d++]=128|(r&63)>>>0),d>=64&&(this._step(),d-=64,this._totalLen+=64,c[0]=c[64+0],c[1]=c[64+1],c[2]=c[64+2]),d}digest(){return this._finished||(this._finished=!0,this._leftoverHighSurrogate&&(this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533)),this._totalLen+=this._buffLen,this._wrapUp()),n(this._h0)+n(this._h1)+n(this._h2)+n(this._h3)+n(this._h4)}_wrapUp(){this._buff[this._buffLen++]=128,t(this._buff,this._buffLen),this._buffLen>56&&(this._step(),t(this._buff));const c=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(c/4294967296),!1),this._buffDV.setUint32(60,c%4294967296,!1),this._step()}_step(){const c=o._bigBlock32,d=this._buffDV;for(let _=0;_<64;_+=4)c.setUint32(_,d.getUint32(_,!1),!1);for(let _=64;_<320;_+=4)c.setUint32(_,g(c.getUint32(_-12,!1)^c.getUint32(_-32,!1)^c.getUint32(_-56,!1)^c.getUint32(_-64,!1),1),!1);let r=this._h0,s=this._h1,a=this._h2,u=this._h3,p=this._h4,S,f,v;for(let _=0;_<80;_++)_<20?(S=s&a|~s&u,f=1518500249):_<40?(S=s^a^u,f=1859775393):_<60?(S=s&a|s&u|a&u,f=2400959708):(S=s^a^u,f=3395469782),v=g(r,5)+S+p+f+c.getUint32(_*4,!1)&4294967295,p=u,u=a,a=g(s,30),s=r,r=v;this._h0=this._h0+r&4294967295,this._h1=this._h1+s&4294967295,this._h2=this._h2+a&4294967295,this._h3=this._h3+u&4294967295,this._h4=this._h4+p&4294967295}}e.StringSHA1=o,o._bigBlock32=new DataView(new ArrayBuffer(320))}),define(se[149],re([1,0,335,107]),function(q,e,w,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LcsDiff=e.MyArray=e.Debug=e.stringDiff=e.StringDiffSequence=void 0;class k{constructor(t){this.source=t}getElements(){const t=this.source,i=new Int32Array(t.length);for(let n=0,o=t.length;n<o;n++)i[n]=t.charCodeAt(n);return i}}e.StringDiffSequence=k;function D(g,t,i){return new h(new k(g),new k(t)).ComputeDiff(i).changes}e.stringDiff=D;class L{static Assert(t,i){if(!t)throw new Error(i)}}e.Debug=L;class b{static Copy(t,i,n,o,l){for(let c=0;c<l;c++)n[o+c]=t[i+c]}static Copy2(t,i,n,o,l){for(let c=0;c<l;c++)n[o+c]=t[i+c]}}e.MyArray=b;class C{constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new w.DiffChange(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(t,i){this.m_originalStart=Math.min(this.m_originalStart,t),this.m_modifiedStart=Math.min(this.m_modifiedStart,i),this.m_originalCount++}AddModifiedElement(t,i){this.m_originalStart=Math.min(this.m_originalStart,t),this.m_modifiedStart=Math.min(this.m_modifiedStart,i),this.m_modifiedCount++}getChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes}getReverseChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}}class h{constructor(t,i,n=null){this.ContinueProcessingPredicate=n,this._originalSequence=t,this._modifiedSequence=i;const[o,l,c]=h._getElements(t),[d,r,s]=h._getElements(i);this._hasStrings=c&&s,this._originalStringElements=o,this._originalElementsOrHash=l,this._modifiedStringElements=d,this._modifiedElementsOrHash=r,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _isStringArray(t){return t.length>0&&typeof t[0]=="string"}static _getElements(t){const i=t.getElements();if(h._isStringArray(i)){const n=new Int32Array(i.length);for(let o=0,l=i.length;o<l;o++)n[o]=(0,m.stringHash)(i[o],0);return[i,n,!0]}return i instanceof Int32Array?[[],i,!1]:[[],new Int32Array(i),!1]}ElementsAreEqual(t,i){return this._originalElementsOrHash[t]!==this._modifiedElementsOrHash[i]?!1:this._hasStrings?this._originalStringElements[t]===this._modifiedStringElements[i]:!0}ElementsAreStrictEqual(t,i){if(!this.ElementsAreEqual(t,i))return!1;const n=h._getStrictElement(this._originalSequence,t),o=h._getStrictElement(this._modifiedSequence,i);return n===o}static _getStrictElement(t,i){return typeof t.getStrictElement=="function"?t.getStrictElement(i):null}OriginalElementsAreEqual(t,i){return this._originalElementsOrHash[t]!==this._originalElementsOrHash[i]?!1:this._hasStrings?this._originalStringElements[t]===this._originalStringElements[i]:!0}ModifiedElementsAreEqual(t,i){return this._modifiedElementsOrHash[t]!==this._modifiedElementsOrHash[i]?!1:this._hasStrings?this._modifiedStringElements[t]===this._modifiedStringElements[i]:!0}ComputeDiff(t){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1,t)}_ComputeDiff(t,i,n,o,l){const c=[!1];let d=this.ComputeDiffRecursive(t,i,n,o,c);return l&&(d=this.PrettifyChanges(d)),{quitEarly:c[0],changes:d}}ComputeDiffRecursive(t,i,n,o,l){for(l[0]=!1;t<=i&&n<=o&&this.ElementsAreEqual(t,n);)t++,n++;for(;i>=t&&o>=n&&this.ElementsAreEqual(i,o);)i--,o--;if(t>i||n>o){let u;return n<=o?(L.Assert(t===i+1,"originalStart should only be one more than originalEnd"),u=[new w.DiffChange(t,0,n,o-n+1)]):t<=i?(L.Assert(n===o+1,"modifiedStart should only be one more than modifiedEnd"),u=[new w.DiffChange(t,i-t+1,n,0)]):(L.Assert(t===i+1,"originalStart should only be one more than originalEnd"),L.Assert(n===o+1,"modifiedStart should only be one more than modifiedEnd"),u=[]),u}const c=[0],d=[0],r=this.ComputeRecursionPoint(t,i,n,o,c,d,l),s=c[0],a=d[0];if(r!==null)return r;if(!l[0]){const u=this.ComputeDiffRecursive(t,s,n,a,l);let p=[];return l[0]?p=[new w.DiffChange(s+1,i-(s+1)+1,a+1,o-(a+1)+1)]:p=this.ComputeDiffRecursive(s+1,i,a+1,o,l),this.ConcatenateChanges(u,p)}return[new w.DiffChange(t,i-t+1,n,o-n+1)]}WALKTRACE(t,i,n,o,l,c,d,r,s,a,u,p,S,f,v,_,y,E){let T=null,I=null,R=new C,F=i,O=n,M=S[0]-_[0]-o,N=-1073741824,A=this.m_forwardHistory.length-1;do{const B=M+t;B===F||B<O&&s[B-1]<s[B+1]?(u=s[B+1],f=u-M-o,u<N&&R.MarkNextChange(),N=u,R.AddModifiedElement(u+1,f),M=B+1-t):(u=s[B-1]+1,f=u-M-o,u<N&&R.MarkNextChange(),N=u-1,R.AddOriginalElement(u,f+1),M=B-1-t),A>=0&&(s=this.m_forwardHistory[A],t=s[0],F=1,O=s.length-1)}while(--A>=-1);if(T=R.getReverseChanges(),E[0]){let B=S[0]+1,W=_[0]+1;if(T!==null&&T.length>0){const x=T[T.length-1];B=Math.max(B,x.getOriginalEnd()),W=Math.max(W,x.getModifiedEnd())}I=[new w.DiffChange(B,p-B+1,W,v-W+1)]}else{R=new C,F=c,O=d,M=S[0]-_[0]-r,N=1073741824,A=y?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{const B=M+l;B===F||B<O&&a[B-1]>=a[B+1]?(u=a[B+1]-1,f=u-M-r,u>N&&R.MarkNextChange(),N=u+1,R.AddOriginalElement(u+1,f+1),M=B+1-l):(u=a[B-1],f=u-M-r,u>N&&R.MarkNextChange(),N=u,R.AddModifiedElement(u+1,f+1),M=B-1-l),A>=0&&(a=this.m_reverseHistory[A],l=a[0],F=1,O=a.length-1)}while(--A>=-1);I=R.getChanges()}return this.ConcatenateChanges(T,I)}ComputeRecursionPoint(t,i,n,o,l,c,d){let r=0,s=0,a=0,u=0,p=0,S=0;t--,n--,l[0]=0,c[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];const f=i-t+(o-n),v=f+1,_=new Int32Array(v),y=new Int32Array(v),E=o-n,T=i-t,I=t-n,R=i-o,O=(T-E)%2===0;_[E]=t,y[T]=i,d[0]=!1;for(let M=1;M<=f/2+1;M++){let N=0,A=0;a=this.ClipDiagonalBound(E-M,M,E,v),u=this.ClipDiagonalBound(E+M,M,E,v);for(let W=a;W<=u;W+=2){W===a||W<u&&_[W-1]<_[W+1]?r=_[W+1]:r=_[W-1]+1,s=r-(W-E)-I;const x=r;for(;r<i&&s<o&&this.ElementsAreEqual(r+1,s+1);)r++,s++;if(_[W]=r,r+s>N+A&&(N=r,A=s),!O&&Math.abs(W-T)<=M-1&&r>=y[W])return l[0]=r,c[0]=s,x<=y[W]&&1447>0&&M<=1447+1?this.WALKTRACE(E,a,u,I,T,p,S,R,_,y,r,i,l,s,o,c,O,d):null}const B=(N-t+(A-n)-M)/2;if(this.ContinueProcessingPredicate!==null&&!this.ContinueProcessingPredicate(N,B))return d[0]=!0,l[0]=N,c[0]=A,B>0&&1447>0&&M<=1447+1?this.WALKTRACE(E,a,u,I,T,p,S,R,_,y,r,i,l,s,o,c,O,d):(t++,n++,[new w.DiffChange(t,i-t+1,n,o-n+1)]);p=this.ClipDiagonalBound(T-M,M,T,v),S=this.ClipDiagonalBound(T+M,M,T,v);for(let W=p;W<=S;W+=2){W===p||W<S&&y[W-1]>=y[W+1]?r=y[W+1]-1:r=y[W-1],s=r-(W-T)-R;const x=r;for(;r>t&&s>n&&this.ElementsAreEqual(r,s);)r--,s--;if(y[W]=r,O&&Math.abs(W-E)<=M&&r<=_[W])return l[0]=r,c[0]=s,x>=_[W]&&1447>0&&M<=1447+1?this.WALKTRACE(E,a,u,I,T,p,S,R,_,y,r,i,l,s,o,c,O,d):null}if(M<=1447){let W=new Int32Array(u-a+2);W[0]=E-a+1,b.Copy2(_,a,W,1,u-a+1),this.m_forwardHistory.push(W),W=new Int32Array(S-p+2),W[0]=T-p+1,b.Copy2(y,p,W,1,S-p+1),this.m_reverseHistory.push(W)}}return this.WALKTRACE(E,a,u,I,T,p,S,R,_,y,r,i,l,s,o,c,O,d)}PrettifyChanges(t){for(let i=0;i<t.length;i++){const n=t[i],o=i<t.length-1?t[i+1].originalStart:this._originalElementsOrHash.length,l=i<t.length-1?t[i+1].modifiedStart:this._modifiedElementsOrHash.length,c=n.originalLength>0,d=n.modifiedLength>0;for(;n.originalStart+n.originalLength<o&&n.modifiedStart+n.modifiedLength<l&&(!c||this.OriginalElementsAreEqual(n.originalStart,n.originalStart+n.originalLength))&&(!d||this.ModifiedElementsAreEqual(n.modifiedStart,n.modifiedStart+n.modifiedLength));){const s=this.ElementsAreStrictEqual(n.originalStart,n.modifiedStart);if(this.ElementsAreStrictEqual(n.originalStart+n.originalLength,n.modifiedStart+n.modifiedLength)&&!s)break;n.originalStart++,n.modifiedStart++}const r=[null];if(i<t.length-1&&this.ChangesOverlap(t[i],t[i+1],r)){t[i]=r[0],t.splice(i+1,1),i--;continue}}for(let i=t.length-1;i>=0;i--){const n=t[i];let o=0,l=0;if(i>0){const u=t[i-1];o=u.originalStart+u.originalLength,l=u.modifiedStart+u.modifiedLength}const c=n.originalLength>0,d=n.modifiedLength>0;let r=0,s=this._boundaryScore(n.originalStart,n.originalLength,n.modifiedStart,n.modifiedLength);for(let u=1;;u++){const p=n.originalStart-u,S=n.modifiedStart-u;if(p<o||S<l||c&&!this.OriginalElementsAreEqual(p,p+n.originalLength)||d&&!this.ModifiedElementsAreEqual(S,S+n.modifiedLength))break;const v=(p===o&&S===l?5:0)+this._boundaryScore(p,n.originalLength,S,n.modifiedLength);v>s&&(s=v,r=u)}n.originalStart-=r,n.modifiedStart-=r;const a=[null];if(i>0&&this.ChangesOverlap(t[i-1],t[i],a)){t[i-1]=a[0],t.splice(i,1),i++;continue}}if(this._hasStrings)for(let i=1,n=t.length;i<n;i++){const o=t[i-1],l=t[i],c=l.originalStart-o.originalStart-o.originalLength,d=o.originalStart,r=l.originalStart+l.originalLength,s=r-d,a=o.modifiedStart,u=l.modifiedStart+l.modifiedLength,p=u-a;if(c<5&&s<20&&p<20){const S=this._findBetterContiguousSequence(d,s,a,p,c);if(S){const[f,v]=S;(f!==o.originalStart+o.originalLength||v!==o.modifiedStart+o.modifiedLength)&&(o.originalLength=f-o.originalStart,o.modifiedLength=v-o.modifiedStart,l.originalStart=f+c,l.modifiedStart=v+c,l.originalLength=r-l.originalStart,l.modifiedLength=u-l.modifiedStart)}}}return t}_findBetterContiguousSequence(t,i,n,o,l){if(i<l||o<l)return null;const c=t+i-l+1,d=n+o-l+1;let r=0,s=0,a=0;for(let u=t;u<c;u++)for(let p=n;p<d;p++){const S=this._contiguousSequenceScore(u,p,l);S>0&&S>r&&(r=S,s=u,a=p)}return r>0?[s,a]:null}_contiguousSequenceScore(t,i,n){let o=0;for(let l=0;l<n;l++){if(!this.ElementsAreEqual(t+l,i+l))return 0;o+=this._originalStringElements[t+l].length}return o}_OriginalIsBoundary(t){return t<=0||t>=this._originalElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._originalStringElements[t])}_OriginalRegionIsBoundary(t,i){if(this._OriginalIsBoundary(t)||this._OriginalIsBoundary(t-1))return!0;if(i>0){const n=t+i;if(this._OriginalIsBoundary(n-1)||this._OriginalIsBoundary(n))return!0}return!1}_ModifiedIsBoundary(t){return t<=0||t>=this._modifiedElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._modifiedStringElements[t])}_ModifiedRegionIsBoundary(t,i){if(this._ModifiedIsBoundary(t)||this._ModifiedIsBoundary(t-1))return!0;if(i>0){const n=t+i;if(this._ModifiedIsBoundary(n-1)||this._ModifiedIsBoundary(n))return!0}return!1}_boundaryScore(t,i,n,o){const l=this._OriginalRegionIsBoundary(t,i)?1:0,c=this._ModifiedRegionIsBoundary(n,o)?1:0;return l+c}ConcatenateChanges(t,i){const n=[];if(t.length===0||i.length===0)return i.length>0?i:t;if(this.ChangesOverlap(t[t.length-1],i[0],n)){const o=new Array(t.length+i.length-1);return b.Copy(t,0,o,0,t.length-1),o[t.length-1]=n[0],b.Copy(i,1,o,t.length,i.length-1),o}else{const o=new Array(t.length+i.length);return b.Copy(t,0,o,0,t.length),b.Copy(i,0,o,t.length,i.length),o}}ChangesOverlap(t,i,n){if(L.Assert(t.originalStart<=i.originalStart,"Left change is not less than or equal to right change"),L.Assert(t.modifiedStart<=i.modifiedStart,"Left change is not less than or equal to right change"),t.originalStart+t.originalLength>=i.originalStart||t.modifiedStart+t.modifiedLength>=i.modifiedStart){const o=t.originalStart;let l=t.originalLength;const c=t.modifiedStart;let d=t.modifiedLength;return t.originalStart+t.originalLength>=i.originalStart&&(l=i.originalStart+i.originalLength-t.originalStart),t.modifiedStart+t.modifiedLength>=i.modifiedStart&&(d=i.modifiedStart+i.modifiedLength-t.modifiedStart),n[0]=new w.DiffChange(o,l,c,d),!0}else return n[0]=null,!1}ClipDiagonalBound(t,i,n,o){if(t>=0&&t<o)return t;const l=n,c=o-n-1,d=i%2===0;if(t<0){const r=l%2===0;return d===r?0:1}else{const r=c%2===0;return d===r?o-1:o-2}}}e.LcsDiff=h}),define(se[108],re([1,0,27,62,8]),function(q,e,w,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.matchesFuzzyIconAware=e.parseLabelWithIcons=e.stripIcons=e.markdownEscapeEscapedIcons=e.escapeIcons=e.iconStartMarker=void 0,e.iconStartMarker="$(";const D=new RegExp(`\\$\\(${w.CSSIcon.iconNameExpression}(?:${w.CSSIcon.iconModifierExpression})?\\)`,"g"),L=new RegExp(w.CSSIcon.iconNameCharacter),b=new RegExp(`(\\\\)?${D.source}`,"g");function C(c){return c.replace(b,(d,r)=>r?d:`\\${d}`)}e.escapeIcons=C;const h=new RegExp(`\\\\${D.source}`,"g");function g(c){return c.replace(h,d=>`\\${d}`)}e.markdownEscapeEscapedIcons=g;const t=new RegExp(`(\\s)?(\\\\)?${D.source}(\\s)?`,"g");function i(c){return c.indexOf(e.iconStartMarker)===-1?c:c.replace(t,(d,r,s,a)=>s?d:r||a||"")}e.stripIcons=i;function n(c){const d=c.indexOf(e.iconStartMarker);return d===-1?{text:c}:o(c,d)}e.parseLabelWithIcons=n;function o(c,d){const r=[];let s="";function a(E){if(E){s+=E;for(const T of E)r.push(S)}}let u=-1,p="",S=0,f,v,_=d;const y=c.length;for(a(c.substr(0,d));_<y;)f=c[_],v=c[_+1],f===e.iconStartMarker[0]&&v===e.iconStartMarker[1]?(u=_,a(p),p=e.iconStartMarker,_++):f===")"&&u!==-1?(S+=_-u+1,u=-1,p=""):u!==-1?L.test(f)?p+=f:(a(p),u=-1,p=""):a(f),_++;return a(p),{text:s,iconOffsets:r}}function l(c,d,r=!1){const{text:s,iconOffsets:a}=d;if(!a||a.length===0)return(0,m.matchesFuzzy)(c,s,r);const u=(0,k.ltrim)(s," "),p=s.length-u.length,S=(0,m.matchesFuzzy)(c,u,r);if(S)for(const f of S){const v=a[f.start+p]+p;f.start+=v,f.end+=v}return S}e.matchesFuzzyIconAware=l}),define(se[68],re([1,0,14,108,8]),function(q,e,w,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseHrefAndDimensions=e.removeMarkdownEscapes=e.escapeDoubleQuotes=e.escapeMarkdownSyntaxTokens=e.isMarkdownString=e.isEmptyMarkdownString=e.MarkdownString=void 0;class D{constructor(n="",o=!1){var l,c,d;if(this.value=n,typeof this.value!="string")throw(0,w.illegalArgument)("value");typeof o=="boolean"?(this.isTrusted=o,this.supportThemeIcons=!1,this.supportHtml=!1):(this.isTrusted=(l=o.isTrusted)!==null&&l!==void 0?l:void 0,this.supportThemeIcons=(c=o.supportThemeIcons)!==null&&c!==void 0?c:!1,this.supportHtml=(d=o.supportHtml)!==null&&d!==void 0?d:!1)}appendText(n,o=0){return this.value+=C(this.supportThemeIcons?(0,m.escapeIcons)(n):n).replace(/([ \t]+)/g,(l,c)=>"&nbsp;".repeat(c.length)).replace(/\>/gm,"\\>").replace(/\n/g,o===1?`\\
`:`

`),this}appendMarkdown(n){return this.value+=n,this}appendCodeblock(n,o){return this.value+="\n```",this.value+=n,this.value+=`
`,this.value+=o,this.value+="\n```\n",this}appendLink(n,o,l){return this.value+="[",this.value+=this._escape(o,"]"),this.value+="](",this.value+=this._escape(String(n),")"),l&&(this.value+=` "${this._escape(this._escape(l,'"'),")")}"`),this.value+=")",this}_escape(n,o){const l=new RegExp((0,k.escapeRegExpCharacters)(o),"g");return n.replace(l,(c,d)=>n.charAt(d-1)!=="\\"?`\\${c}`:c)}}e.MarkdownString=D;function L(i){return b(i)?!i.value:Array.isArray(i)?i.every(L):!0}e.isEmptyMarkdownString=L;function b(i){return i instanceof D?!0:i&&typeof i=="object"?typeof i.value=="string"&&(typeof i.isTrusted=="boolean"||i.isTrusted===void 0)&&(typeof i.supportThemeIcons=="boolean"||i.supportThemeIcons===void 0):!1}e.isMarkdownString=b;function C(i){return i.replace(/[\\`*_{}[\]()#+\-!]/g,"\\$&")}e.escapeMarkdownSyntaxTokens=C;function h(i){return i.replace(/"/g,"&quot;")}e.escapeDoubleQuotes=h;function g(i){return i&&i.replace(/\\([\\`*_{}[\]()#+\-.!])/g,"$1")}e.removeMarkdownEscapes=g;function t(i){const n=[],o=i.split("|").map(c=>c.trim());i=o[0];const l=o[1];if(l){const c=/height=(\d+)/.exec(l),d=/width=(\d+)/.exec(l),r=c?c[1]:"",s=d?d[1]:"",a=isFinite(parseInt(s)),u=isFinite(parseInt(r));a&&n.push(`width="${s}"`),u&&n.push(`height="${r}"`)}return{href:i,dimensions:n}}e.parseHrefAndDimensions=t}),define(se[340],re([1,0,8]),function(q,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.buildReplaceStringWithCasePreserved=void 0;function m(L,b){if(L&&L[0]!==""){const C=k(L,b,"-"),h=k(L,b,"_");return C&&!h?D(L,b,"-"):!C&&h?D(L,b,"_"):L[0].toUpperCase()===L[0]?b.toUpperCase():L[0].toLowerCase()===L[0]?b.toLowerCase():w.containsUppercaseCharacter(L[0][0])&&b.length>0?b[0].toUpperCase()+b.substr(1):L[0][0].toUpperCase()!==L[0][0]&&b.length>0?b[0].toLowerCase()+b.substr(1):b}else return b}e.buildReplaceStringWithCasePreserved=m;function k(L,b,C){return L[0].indexOf(C)!==-1&&b.indexOf(C)!==-1&&L[0].split(C).length===b.split(C).length}function D(L,b,C){const h=b.split(C),g=L[0].split(C);let t="";return h.forEach((i,n)=>{t+=m([g[n]],i)+C}),t.slice(0,-1)}}),define(se[90],re([1,0,8]),function(q,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var m;(function(k){k[k.Ignore=0]="Ignore",k[k.Info=1]="Info",k[k.Warning=2]="Warning",k[k.Error=3]="Error"})(m||(m={})),function(k){const D="error",L="warning",b="warn",C="info",h="ignore";function g(i){return i?w.equalsIgnoreCase(D,i)?k.Error:w.equalsIgnoreCase(L,i)||w.equalsIgnoreCase(b,i)?k.Warning:w.equalsIgnoreCase(C,i)?k.Info:k.Ignore:k.Ignore}k.fromValue=g;function t(i){switch(i){case k.Error:return D;case k.Warning:return L;case k.Info:return C;default:return h}}k.toString=t}(m||(m={})),e.default=m}),define(se[180],re([1,0,8]),function(q,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TernarySearchTree=e.UriIterator=e.PathIterator=e.ConfigKeysIterator=e.StringIterator=void 0;class m{constructor(){this._value="",this._pos=0}reset(g){return this._value=g,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(g){const t=g.charCodeAt(0),i=this._value.charCodeAt(this._pos);return t-i}value(){return this._value[this._pos]}}e.StringIterator=m;class k{constructor(g=!0){this._caseSensitive=g}reset(g){return this._value=g,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let g=!0;for(;this._to<this._value.length;this._to++)if(this._value.charCodeAt(this._to)===46)if(g)this._from++;else break;else g=!1;return this}cmp(g){return this._caseSensitive?(0,w.compareSubstring)(g,this._value,0,g.length,this._from,this._to):(0,w.compareSubstringIgnoreCase)(g,this._value,0,g.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}e.ConfigKeysIterator=k;class D{constructor(g=!0,t=!0){this._splitOnBackslash=g,this._caseSensitive=t}reset(g){this._from=0,this._to=0,this._value=g,this._valueLen=g.length;for(let t=g.length-1;t>=0;t--,this._valueLen--){const i=this._value.charCodeAt(t);if(!(i===47||this._splitOnBackslash&&i===92))break}return this.next()}hasNext(){return this._to<this._valueLen}next(){this._from=this._to;let g=!0;for(;this._to<this._valueLen;this._to++){const t=this._value.charCodeAt(this._to);if(t===47||this._splitOnBackslash&&t===92)if(g)this._from++;else break;else g=!1}return this}cmp(g){return this._caseSensitive?(0,w.compareSubstring)(g,this._value,0,g.length,this._from,this._to):(0,w.compareSubstringIgnoreCase)(g,this._value,0,g.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}e.PathIterator=D;class L{constructor(g,t){this._ignorePathCasing=g,this._ignoreQueryAndFragment=t,this._states=[],this._stateIdx=0}reset(g){return this._value=g,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new D(!1,!this._ignorePathCasing(g)),this._pathIterator.reset(g.path),this._pathIterator.value()&&this._states.push(3)),this._ignoreQueryAndFragment(g)||(this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5)),this._stateIdx=0,this}next(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(g){if(this._states[this._stateIdx]===1)return(0,w.compareIgnoreCase)(g,this._value.scheme);if(this._states[this._stateIdx]===2)return(0,w.compareIgnoreCase)(g,this._value.authority);if(this._states[this._stateIdx]===3)return this._pathIterator.cmp(g);if(this._states[this._stateIdx]===4)return(0,w.compare)(g,this._value.query);if(this._states[this._stateIdx]===5)return(0,w.compare)(g,this._value.fragment);throw new Error}value(){if(this._states[this._stateIdx]===1)return this._value.scheme;if(this._states[this._stateIdx]===2)return this._value.authority;if(this._states[this._stateIdx]===3)return this._pathIterator.value();if(this._states[this._stateIdx]===4)return this._value.query;if(this._states[this._stateIdx]===5)return this._value.fragment;throw new Error}}e.UriIterator=L;class b{constructor(){this.height=1}rotateLeft(){const g=this.right;return this.right=g.left,g.left=this,this.updateHeight(),g.updateHeight(),g}rotateRight(){const g=this.left;return this.left=g.right,g.right=this,this.updateHeight(),g.updateHeight(),g}updateHeight(){this.height=1+Math.max(this.heightLeft,this.heightRight)}balanceFactor(){return this.heightRight-this.heightLeft}get heightLeft(){var g,t;return(t=(g=this.left)===null||g===void 0?void 0:g.height)!==null&&t!==void 0?t:0}get heightRight(){var g,t;return(t=(g=this.right)===null||g===void 0?void 0:g.height)!==null&&t!==void 0?t:0}}class C{static forUris(g=()=>!1,t=()=>!1){return new C(new L(g,t))}static forStrings(){return new C(new m)}static forConfigKeys(){return new C(new k)}constructor(g){this._iter=g}clear(){this._root=void 0}set(g,t){const i=this._iter.reset(g);let n;this._root||(this._root=new b,this._root.segment=i.value());const o=[];for(n=this._root;;){const c=i.cmp(n.segment);if(c>0)n.left||(n.left=new b,n.left.segment=i.value()),o.push([-1,n]),n=n.left;else if(c<0)n.right||(n.right=new b,n.right.segment=i.value()),o.push([1,n]),n=n.right;else if(i.hasNext())i.next(),n.mid||(n.mid=new b,n.mid.segment=i.value()),o.push([0,n]),n=n.mid;else break}const l=n.value;n.value=t,n.key=g;for(let c=o.length-1;c>=0;c--){const d=o[c][1];d.updateHeight();const r=d.balanceFactor();if(r<-1||r>1){const s=o[c][0],a=o[c+1][0];if(s===1&&a===1)o[c][1]=d.rotateLeft();else if(s===-1&&a===-1)o[c][1]=d.rotateRight();else if(s===1&&a===-1)d.right=o[c+1][1]=o[c+1][1].rotateRight(),o[c][1]=d.rotateLeft();else if(s===-1&&a===1)d.left=o[c+1][1]=o[c+1][1].rotateLeft(),o[c][1]=d.rotateRight();else throw new Error;if(c>0)switch(o[c-1][0]){case-1:o[c-1][1].left=o[c][1];break;case 1:o[c-1][1].right=o[c][1];break;case 0:o[c-1][1].mid=o[c][1];break}else this._root=o[0][1]}}return l}get(g){var t;return(t=this._getNode(g))===null||t===void 0?void 0:t.value}_getNode(g){const t=this._iter.reset(g);let i=this._root;for(;i;){const n=t.cmp(i.segment);if(n>0)i=i.left;else if(n<0)i=i.right;else if(t.hasNext())t.next(),i=i.mid;else break}return i}has(g){const t=this._getNode(g);return!(t?.value===void 0&&t?.mid===void 0)}delete(g){return this._delete(g,!1)}deleteSuperstr(g){return this._delete(g,!0)}_delete(g,t){var i;const n=this._iter.reset(g),o=[];let l=this._root;for(;l;){const c=n.cmp(l.segment);if(c>0)o.push([-1,l]),l=l.left;else if(c<0)o.push([1,l]),l=l.right;else if(n.hasNext())n.next(),o.push([0,l]),l=l.mid;else break}if(!!l){if(t?(l.left=void 0,l.mid=void 0,l.right=void 0,l.height=1):(l.key=void 0,l.value=void 0),!l.mid&&!l.value)if(l.left&&l.right){const c=this._min(l.right);if(c.key){const{key:d,value:r,segment:s}=c;this._delete(c.key,!1),l.key=d,l.value=r,l.segment=s}}else{const c=(i=l.left)!==null&&i!==void 0?i:l.right;if(o.length>0){const[d,r]=o[o.length-1];switch(d){case-1:r.left=c;break;case 0:r.mid=c;break;case 1:r.right=c;break}}else this._root=c}for(let c=o.length-1;c>=0;c--){const d=o[c][1];d.updateHeight();const r=d.balanceFactor();if(r>1?(d.right.balanceFactor()>=0||(d.right=d.right.rotateRight()),o[c][1]=d.rotateLeft()):r<-1&&(d.left.balanceFactor()<=0||(d.left=d.left.rotateLeft()),o[c][1]=d.rotateRight()),c>0)switch(o[c-1][0]){case-1:o[c-1][1].left=o[c][1];break;case 1:o[c-1][1].right=o[c][1];break;case 0:o[c-1][1].mid=o[c][1];break}else this._root=o[0][1]}}}_min(g){for(;g.left;)g=g.left;return g}findSubstr(g){const t=this._iter.reset(g);let i=this._root,n;for(;i;){const o=t.cmp(i.segment);if(o>0)i=i.left;else if(o<0)i=i.right;else if(t.hasNext())t.next(),n=i.value||n,i=i.mid;else break}return i&&i.value||n}findSuperstr(g){const t=this._iter.reset(g);let i=this._root;for(;i;){const n=t.cmp(i.segment);if(n>0)i=i.left;else if(n<0)i=i.right;else if(t.hasNext())t.next(),i=i.mid;else return i.mid?this._entries(i.mid):void 0}}forEach(g){for(const[t,i]of this)g(i,t)}*[Symbol.iterator](){yield*this._entries(this._root)}_entries(g){const t=[];return this._dfsEntries(g,t),t[Symbol.iterator]()}_dfsEntries(g,t){!g||(g.left&&this._dfsEntries(g.left,t),g.value&&t.push([g.key,g.value]),g.mid&&this._dfsEntries(g.mid,t),g.right&&this._dfsEntries(g.right,t))}}e.TernarySearchTree=C}),define(se[19],re([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.withNullAsUndefined=e.validateConstraint=e.validateConstraints=e.isFunction=e.assertIsDefined=e.assertType=e.isUndefinedOrNull=e.isDefined=e.isUndefined=e.isBoolean=e.isIterable=e.isNumber=e.isTypedArray=e.isObject=e.isString=void 0;function w(d){return typeof d=="string"}e.isString=w;function m(d){return typeof d=="object"&&d!==null&&!Array.isArray(d)&&!(d instanceof RegExp)&&!(d instanceof Date)}e.isObject=m;function k(d){const r=Object.getPrototypeOf(Uint8Array);return typeof d=="object"&&d instanceof r}e.isTypedArray=k;function D(d){return typeof d=="number"&&!isNaN(d)}e.isNumber=D;function L(d){return!!d&&typeof d[Symbol.iterator]=="function"}e.isIterable=L;function b(d){return d===!0||d===!1}e.isBoolean=b;function C(d){return typeof d>"u"}e.isUndefined=C;function h(d){return!g(d)}e.isDefined=h;function g(d){return C(d)||d===null}e.isUndefinedOrNull=g;function t(d,r){if(!d)throw new Error(r?`Unexpected type, expected '${r}'`:"Unexpected type")}e.assertType=t;function i(d){if(g(d))throw new Error("Assertion Failed: argument is undefined or null");return d}e.assertIsDefined=i;function n(d){return typeof d=="function"}e.isFunction=n;function o(d,r){const s=Math.min(d.length,r.length);for(let a=0;a<s;a++)l(d[a],r[a])}e.validateConstraints=o;function l(d,r){if(w(r)){if(typeof d!==r)throw new Error(`argument does not match constraint: typeof ${r}`)}else if(n(r)){try{if(d instanceof r)return}catch{}if(!g(d)&&d.constructor===r||r.length===1&&r.call(void 0,d)===!0)return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}e.validateConstraint=l;function c(d){return d===null?void 0:d}e.withNullAsUndefined=c}),define(se[36],re([1,0,19]),function(q,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createProxyObject=e.getAllMethodNames=e.getAllPropertyNames=e.equals=e.mixin=e.cloneAndChange=e.deepFreeze=e.deepClone=void 0;function m(n){if(!n||typeof n!="object"||n instanceof RegExp)return n;const o=Array.isArray(n)?[]:{};return Object.entries(n).forEach(([l,c])=>{o[l]=c&&typeof c=="object"?m(c):c}),o}e.deepClone=m;function k(n){if(!n||typeof n!="object")return n;const o=[n];for(;o.length>0;){const l=o.shift();Object.freeze(l);for(const c in l)if(D.call(l,c)){const d=l[c];typeof d=="object"&&!Object.isFrozen(d)&&!(0,w.isTypedArray)(d)&&o.push(d)}}return n}e.deepFreeze=k;const D=Object.prototype.hasOwnProperty;function L(n,o){return b(n,o,new Set)}e.cloneAndChange=L;function b(n,o,l){if((0,w.isUndefinedOrNull)(n))return n;const c=o(n);if(typeof c<"u")return c;if(Array.isArray(n)){const d=[];for(const r of n)d.push(b(r,o,l));return d}if((0,w.isObject)(n)){if(l.has(n))throw new Error("Cannot clone recursive data-structure");l.add(n);const d={};for(const r in n)D.call(n,r)&&(d[r]=b(n[r],o,l));return l.delete(n),d}return n}function C(n,o,l=!0){return(0,w.isObject)(n)?((0,w.isObject)(o)&&Object.keys(o).forEach(c=>{c in n?l&&((0,w.isObject)(n[c])&&(0,w.isObject)(o[c])?C(n[c],o[c],l):n[c]=o[c]):n[c]=o[c]}),n):o}e.mixin=C;function h(n,o){if(n===o)return!0;if(n==null||o===null||o===void 0||typeof n!=typeof o||typeof n!="object"||Array.isArray(n)!==Array.isArray(o))return!1;let l,c;if(Array.isArray(n)){if(n.length!==o.length)return!1;for(l=0;l<n.length;l++)if(!h(n[l],o[l]))return!1}else{const d=[];for(c in n)d.push(c);d.sort();const r=[];for(c in o)r.push(c);if(r.sort(),!h(d,r))return!1;for(l=0;l<d.length;l++)if(!h(n[d[l]],o[d[l]]))return!1}return!0}e.equals=h;function g(n){let o=[],l=Object.getPrototypeOf(n);for(;Object.prototype!==l;)o=o.concat(Object.getOwnPropertyNames(l)),l=Object.getPrototypeOf(l);return o}e.getAllPropertyNames=g;function t(n){const o=[];for(const l of g(n))typeof n[l]=="function"&&o.push(l);return o}e.getAllMethodNames=t;function i(n,o){const l=d=>function(){const r=Array.prototype.slice.call(arguments,0);return o(d,r)},c={};for(const d of n)c[d]=l(d);return c}e.createProxyObject=i}),define(se[150],re([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toUint32=e.toUint8=void 0;function w(k){return k<0?0:k>255?255:k|0}e.toUint8=w;function m(k){return k<0?0:k>4294967295?4294967295:k|0}e.toUint32=m}),define(se[181],re([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateUuid=void 0,e.generateUuid=function(){if(typeof crypto=="object"&&typeof crypto.randomUUID=="function")return crypto.randomUUID.bind(crypto);let w;typeof crypto=="object"&&typeof crypto.getRandomValues=="function"?w=crypto.getRandomValues.bind(crypto):w=function(D){for(let L=0;L<D.length;L++)D[L]=Math.floor(Math.random()*256);return D};const m=new Uint8Array(16),k=[];for(let D=0;D<256;D++)k.push(D.toString(16).padStart(2,"0"));return function(){w(m),m[6]=m[6]&15|64,m[8]=m[8]&63|128;let L=0,b="";return b+=k[m[L++]],b+=k[m[L++]],b+=k[m[L++]],b+=k[m[L++]],b+="-",b+=k[m[L++]],b+=k[m[L++]],b+="-",b+=k[m[L++]],b+=k[m[L++]],b+="-",b+=k[m[L++]],b+=k[m[L++]],b+="-",b+=k[m[L++]],b+=k[m[L++]],b+=k[m[L++]],b+=k[m[L++]],b+=k[m[L++]],b+=k[m[L++]],b}}()}),define(se[182],re([1,0,181]),function(q,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VSDataTransfer=e.createFileDataTransferItem=e.createStringDataTransferItem=void 0;function m(L){return{id:(0,w.generateUuid)(),asString:()=>Se(this,void 0,void 0,function*(){return L}),asFile:()=>{},value:typeof L=="string"?L:void 0}}e.createStringDataTransferItem=m;function k(L,b,C){return{id:(0,w.generateUuid)(),asString:()=>Se(this,void 0,void 0,function*(){return""}),asFile:()=>({name:L,uri:b,data:C}),value:void 0}}e.createFileDataTransferItem=k;class D{constructor(){this._entries=new Map}get size(){return this._entries.size}has(b){return this._entries.has(this.toKey(b))}get(b){var C;return(C=this._entries.get(this.toKey(b)))===null||C===void 0?void 0:C[0]}append(b,C){const h=this._entries.get(b);h?h.push(C):this._entries.set(this.toKey(b),[C])}replace(b,C){this._entries.set(this.toKey(b),[C])}delete(b){this._entries.delete(this.toKey(b))}*entries(){for(const[b,C]of this._entries.entries())for(const h of C)yield[b,h]}values(){return Array.from(this._entries.values()).flat()}forEach(b){for(const[C,h]of this.entries())b(h,C)}toKey(b){return b.toLowerCase()}}e.VSDataTransfer=D}),define(se[229],re([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.quickPickItemScorerAccessor=e.QuickPickItemScorerAccessor=e.ItemActivation=e.QuickInputHideReason=e.NO_KEY_MODS=void 0,e.NO_KEY_MODS={ctrlCmd:!1,alt:!1};var w;(function(D){D[D.Blur=1]="Blur",D[D.Gesture=2]="Gesture",D[D.Other=3]="Other"})(w=e.QuickInputHideReason||(e.QuickInputHideReason={}));var m;(function(D){D[D.NONE=0]="NONE",D[D.FIRST=1]="FIRST",D[D.SECOND=2]="SECOND",D[D.LAST=3]="LAST"})(m=e.ItemActivation||(e.ItemActivation={}));class k{constructor(L){this.options=L}}e.QuickPickItemScorerAccessor=k,e.quickPickItemScorerAccessor=new k}),define(se[230],re([12]),{}),define(se[341],re([12]),{}),define(se[342],re([12]),{}),define(se[343],re([12]),{}),define(se[344],re([12]),{}),define(se[128],re([1,0,27,343,344]),function(q,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.formatRule=void 0;function m(k){let D=k.definition;for(;D instanceof w.Codicon;)D=D.definition;return`.codicon-${k.id}:before { content: '${D.fontCharacter}'; }`}e.formatRule=m}),define(se[345],re([12]),{}),define(se[346],re([12]),{}),define(se[231],re([12]),{}),define(se[232],re([12]),{}),define(se[347],re([12]),{}),define(se[348],re([12]),{}),define(se[349],re([12]),{}),define(se[350],re([12]),{}),define(se[233],re([12]),{}),define(se[351],re([12]),{}),define(se[151],re([1,0,351]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME=void 0,e.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME="monaco-mouse-cursor-text"}),define(se[352],re([12]),{}),define(se[353],re([12]),{}),define(se[354],re([12]),{}),define(se[355],re([12]),{}),define(se[356],re([12]),{}),define(se[357],re([12]),{}),define(se[358],re([12]),{}),define(se[359],re([12]),{}),define(se[360],re([12]),{}),define(se[152],re([12]),{}),define(se[361],re([12]),{}),define(se[362],re([12]),{}),define(se[363],re([12]),{}),define(se[364],re([12]),{}),define(se[365],re([12]),{}),define(se[366],re([12]),{}),define(se[367],re([12]),{}),define(se[368],re([12]),{}),define(se[369],re([12]),{}),define(se[370],re([12]),{}),define(se[371],re([12]),{}),define(se[372],re([12]),{}),define(se[373],re([12]),{}),define(se[374],re([12]),{}),define(se[375],re([12]),{}),define(se[376],re([12]),{}),define(se[377],re([12]),{}),define(se[378],re([12]),{}),define(se[379],re([12]),{}),define(se[380],re([12]),{}),define(se[381],re([12]),{}),define(se[382],re([12]),{}),define(se[383],re([12]),{}),define(se[384],re([12]),{}),define(se[385],re([12]),{}),define(se[386],re([12]),{}),define(se[387],re([12]),{}),define(se[388],re([12]),{}),define(se[389],re([12]),{}),define(se[390],re([12]),{}),define(se[391],re([12]),{}),define(se[392],re([12]),{}),define(se[393],re([12]),{}),define(se[394],re([12]),{}),define(se[395],re([12]),{}),define(se[396],re([12]),{}),define(se[397],re([12]),{}),define(se[398],re([12]),{}),define(se[399],re([12]),{}),define(se[400],re([12]),{}),define(se[401],re([12]),{}),define(se[402],re([12]),{}),define(se[403],re([12]),{}),define(se[404],re([12]),{}),define(se[405],re([12]),{}),define(se[406],re([12]),{}),define(se[407],re([12]),{}),define(se[408],re([12]),{}),define(se[409],re([12]),{}),define(se[69],re([1,0,35]),function(q,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.applyFontInfo=void 0;function m(k,D){k instanceof w.FastDomNode?(k.setFontFamily(D.getMassagedFontFamily()),k.setFontWeight(D.fontWeight),k.setFontSize(D.fontSize),k.setFontFeatureSettings(D.fontFeatureSettings),k.setLineHeight(D.lineHeight),k.setLetterSpacing(D.letterSpacing)):(k.style.fontFamily=D.getMassagedFontFamily(),k.style.fontWeight=D.fontWeight,k.style.fontSize=D.fontSize+"px",k.style.fontFeatureSettings=D.fontFeatureSettings,k.style.lineHeight=D.lineHeight+"px",k.style.letterSpacing=D.letterSpacing+"px")}e.applyFontInfo=m}),define(se[410],re([1,0,69]),function(q,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.readCharWidths=e.CharWidthRequest=void 0;class m{constructor(b,C){this.chr=b,this.type=C,this.width=0}fulfill(b){this.width=b}}e.CharWidthRequest=m;class k{constructor(b,C){this._bareFontInfo=b,this._requests=C,this._container=null,this._testElements=null}read(){this._createDomElements(),document.body.appendChild(this._container),this._readFromDomElements(),document.body.removeChild(this._container),this._container=null,this._testElements=null}_createDomElements(){const b=document.createElement("div");b.style.position="absolute",b.style.top="-50000px",b.style.width="50000px";const C=document.createElement("div");(0,w.applyFontInfo)(C,this._bareFontInfo),b.appendChild(C);const h=document.createElement("div");(0,w.applyFontInfo)(h,this._bareFontInfo),h.style.fontWeight="bold",b.appendChild(h);const g=document.createElement("div");(0,w.applyFontInfo)(g,this._bareFontInfo),g.style.fontStyle="italic",b.appendChild(g);const t=[];for(const i of this._requests){let n;i.type===0&&(n=C),i.type===2&&(n=h),i.type===1&&(n=g),n.appendChild(document.createElement("br"));const o=document.createElement("span");k._render(o,i),n.appendChild(o),t.push(o)}this._container=b,this._testElements=t}static _render(b,C){if(C.chr===" "){let h="\xA0";for(let g=0;g<8;g++)h+=h;b.innerText=h}else{let h=C.chr;for(let g=0;g<8;g++)h+=h;b.textContent=h}}_readFromDomElements(){for(let b=0,C=this._requests.length;b<C;b++){const h=this._requests[b],g=this._testElements[b];h.fulfill(g.offsetWidth/256)}}}function D(L,b){new k(L,b).read()}e.readCharWidths=D}),define(se[411],re([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.migrateOptions=e.EditorSettingMigration=void 0;class w{constructor(C,h){this.key=C,this.migrate=h}apply(C){const h=w._read(C,this.key),g=i=>w._read(C,i),t=(i,n)=>w._write(C,i,n);this.migrate(h,g,t)}static _read(C,h){if(typeof C>"u")return;const g=h.indexOf(".");if(g>=0){const t=h.substring(0,g);return this._read(C[t],h.substring(g+1))}return C[h]}static _write(C,h,g){const t=h.indexOf(".");if(t>=0){const i=h.substring(0,t);C[i]=C[i]||{},this._write(C[i],h.substring(t+1),g);return}C[h]=g}}e.EditorSettingMigration=w,w.items=[];function m(b,C){w.items.push(new w(b,C))}function k(b,C){m(b,(h,g,t)=>{if(typeof h<"u"){for(const[i,n]of C)if(h===i){t(b,n);return}}})}function D(b){w.items.forEach(C=>C.apply(b))}e.migrateOptions=D,k("wordWrap",[[!0,"on"],[!1,"off"]]),k("lineNumbers",[[!0,"on"],[!1,"off"]]),k("cursorBlinking",[["visible","solid"]]),k("renderWhitespace",[[!0,"boundary"],[!1,"none"]]),k("renderLineHighlight",[[!0,"line"],[!1,"none"]]),k("acceptSuggestionOnEnter",[[!0,"on"],[!1,"off"]]),k("tabCompletion",[[!1,"off"],[!0,"onlySnippets"]]),k("hover",[[!0,{enabled:!0}],[!1,{enabled:!1}]]),k("parameterHints",[[!0,{enabled:!0}],[!1,{enabled:!1}]]),k("autoIndent",[[!1,"advanced"],[!0,"full"]]),k("matchBrackets",[[!0,"always"],[!1,"never"]]),m("autoClosingBrackets",(b,C,h)=>{b===!1&&(h("autoClosingBrackets","never"),typeof C("autoClosingQuotes")>"u"&&h("autoClosingQuotes","never"),typeof C("autoSurround")>"u"&&h("autoSurround","never"))}),m("renderIndentGuides",(b,C,h)=>{typeof b<"u"&&(h("renderIndentGuides",void 0),typeof C("guides.indentation")>"u"&&h("guides.indentation",!!b))}),m("highlightActiveIndentGuide",(b,C,h)=>{typeof b<"u"&&(h("highlightActiveIndentGuide",void 0),typeof C("guides.highlightActiveIndentation")>"u"&&h("guides.highlightActiveIndentation",!!b))});const L={method:"showMethods",function:"showFunctions",constructor:"showConstructors",deprecated:"showDeprecated",field:"showFields",variable:"showVariables",class:"showClasses",struct:"showStructs",interface:"showInterfaces",module:"showModules",property:"showProperties",event:"showEvents",operator:"showOperators",unit:"showUnits",value:"showValues",constant:"showConstants",enum:"showEnums",enumMember:"showEnumMembers",keyword:"showKeywords",text:"showWords",color:"showColors",file:"showFiles",reference:"showReferences",folder:"showFolders",typeParameter:"showTypeParameters",snippet:"showSnippets"};m("suggest.filteredTypes",(b,C,h)=>{if(b&&typeof b=="object"){for(const g of Object.entries(L))b[g[0]]===!1&&typeof C(`suggest.${g[1]}`)>"u"&&h(`suggest.${g[1]}`,!1);h("suggest.filteredTypes",void 0)}}),m("quickSuggestions",(b,C,h)=>{if(typeof b=="boolean"){const g=b?"on":"off";h("quickSuggestions",{comments:g,strings:g,other:g})}}),m("experimental.stickyScroll.enabled",(b,C,h)=>{typeof b=="boolean"&&(h("experimental.stickyScroll.enabled",void 0),typeof C("stickyScroll.enabled")>"u"&&h("stickyScroll.enabled",b))}),m("experimental.stickyScroll.maxLineCount",(b,C,h)=>{typeof b=="number"&&(h("experimental.stickyScroll.maxLineCount",void 0),typeof C("stickyScroll.maxLineCount")>"u"&&h("stickyScroll.maxLineCount",b))})}),define(se[153],re([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StableEditorScrollState=void 0;class w{static capture(k){let D=null,L=0;if(k.getScrollTop()!==0){const b=k.getVisibleRanges();if(b.length>0){D=b[0].getStartPosition();const C=k.getTopForPosition(D.lineNumber,D.column);L=k.getScrollTop()-C}}return new w(D,L,k.getPosition())}constructor(k,D,L){this._visiblePosition=k,this._visiblePositionScrollDelta=D,this._cursorPosition=L}restore(k){if(this._visiblePosition){const D=k.getTopForPosition(this._visiblePosition.lineNumber,this._visiblePosition.column);k.setScrollTop(D+this._visiblePositionScrollDelta)}}restoreRelativeVerticalPositionOfCursor(k){const D=k.getPosition();if(!this._cursorPosition||!D)return;const L=k.getTopForLineNumber(D.lineNumber)-k.getTopForLineNumber(this._cursorPosition.lineNumber);k.setScrollTop(k.getScrollTop()+L)}}e.StableEditorScrollState=w}),define(se[129],re([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VisibleRanges=e.HorizontalPosition=e.FloatHorizontalRange=e.HorizontalRange=e.LineVisibleRanges=e.RenderingContext=e.RestrictedRenderingContext=void 0;class w{constructor(g,t){this._restrictedRenderingContextBrand=void 0,this._viewLayout=g,this.viewportData=t,this.scrollWidth=this._viewLayout.getScrollWidth(),this.scrollHeight=this._viewLayout.getScrollHeight(),this.visibleRange=this.viewportData.visibleRange,this.bigNumbersDelta=this.viewportData.bigNumbersDelta;const i=this._viewLayout.getCurrentViewport();this.scrollTop=i.top,this.scrollLeft=i.left,this.viewportWidth=i.width,this.viewportHeight=i.height}getScrolledTopFromAbsoluteTop(g){return g-this.scrollTop}getVerticalOffsetForLineNumber(g,t){return this._viewLayout.getVerticalOffsetForLineNumber(g,t)}getVerticalOffsetAfterLineNumber(g,t){return this._viewLayout.getVerticalOffsetAfterLineNumber(g,t)}getDecorationsInViewport(){return this.viewportData.getDecorationsInViewport()}}e.RestrictedRenderingContext=w;class m extends w{constructor(g,t,i){super(g,t),this._renderingContextBrand=void 0,this._viewLines=i}linesVisibleRangesForRange(g,t){return this._viewLines.linesVisibleRangesForRange(g,t)}visibleRangeForPosition(g){return this._viewLines.visibleRangeForPosition(g)}}e.RenderingContext=m;class k{constructor(g,t,i){this.outsideRenderedLine=g,this.lineNumber=t,this.ranges=i}}e.LineVisibleRanges=k;class D{static from(g){const t=new Array(g.length);for(let i=0,n=g.length;i<n;i++){const o=g[i];t[i]=new D(o.left,o.width)}return t}constructor(g,t){this._horizontalRangeBrand=void 0,this.left=Math.round(g),this.width=Math.round(t)}toString(){return`[${this.left},${this.width}]`}}e.HorizontalRange=D;class L{constructor(g,t){this._floatHorizontalRangeBrand=void 0,this.left=g,this.width=t}toString(){return`[${this.left},${this.width}]`}static compare(g,t){return g.left-t.left}}e.FloatHorizontalRange=L;class b{constructor(g,t){this.outsideRenderedLine=g,this.originalLeft=t,this.left=Math.round(this.originalLeft)}}e.HorizontalPosition=b;class C{constructor(g,t){this.outsideRenderedLine=g,this.ranges=t}}e.VisibleRanges=C}),define(se[234],re([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewUserInputEvents=void 0;class w{constructor(k){this.onKeyDown=null,this.onKeyUp=null,this.onContextMenu=null,this.onMouseMove=null,this.onMouseLeave=null,this.onMouseDown=null,this.onMouseUp=null,this.onMouseDrag=null,this.onMouseDrop=null,this.onMouseDropCanceled=null,this.onMouseWheel=null,this._coordinatesConverter=k}emitKeyDown(k){var D;(D=this.onKeyDown)===null||D===void 0||D.call(this,k)}emitKeyUp(k){var D;(D=this.onKeyUp)===null||D===void 0||D.call(this,k)}emitContextMenu(k){var D;(D=this.onContextMenu)===null||D===void 0||D.call(this,this._convertViewToModelMouseEvent(k))}emitMouseMove(k){var D;(D=this.onMouseMove)===null||D===void 0||D.call(this,this._convertViewToModelMouseEvent(k))}emitMouseLeave(k){var D;(D=this.onMouseLeave)===null||D===void 0||D.call(this,this._convertViewToModelMouseEvent(k))}emitMouseDown(k){var D;(D=this.onMouseDown)===null||D===void 0||D.call(this,this._convertViewToModelMouseEvent(k))}emitMouseUp(k){var D;(D=this.onMouseUp)===null||D===void 0||D.call(this,this._convertViewToModelMouseEvent(k))}emitMouseDrag(k){var D;(D=this.onMouseDrag)===null||D===void 0||D.call(this,this._convertViewToModelMouseEvent(k))}emitMouseDrop(k){var D;(D=this.onMouseDrop)===null||D===void 0||D.call(this,this._convertViewToModelMouseEvent(k))}emitMouseDropCanceled(){var k;(k=this.onMouseDropCanceled)===null||k===void 0||k.call(this)}emitMouseWheel(k){var D;(D=this.onMouseWheel)===null||D===void 0||D.call(this,k)}_convertViewToModelMouseEvent(k){return k.target?{event:k.event,target:this._convertViewToModelMouseTarget(k.target)}:k}_convertViewToModelMouseTarget(k){return w.convertViewToModelMouseTarget(k,this._coordinatesConverter)}static convertViewToModelMouseTarget(k,D){const L=Object.assign({},k);return L.position&&(L.position=D.convertViewPositionToModelPosition(L.position)),L.range&&(L.range=D.convertViewRangeToModelRange(L.range)),L}}e.ViewUserInputEvents=w}),define(se[412],re([1,0,129]),function(q,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RangeUtil=void 0;class m{static _createRange(){return this._handyReadyRange||(this._handyReadyRange=document.createRange()),this._handyReadyRange}static _detachRange(D,L){D.selectNodeContents(L)}static _readClientRects(D,L,b,C,h){const g=this._createRange();try{return g.setStart(D,L),g.setEnd(b,C),g.getClientRects()}catch{return null}finally{this._detachRange(g,h)}}static _mergeAdjacentRanges(D){if(D.length===1)return D;D.sort(w.FloatHorizontalRange.compare);const L=[];let b=0,C=D[0];for(let h=1,g=D.length;h<g;h++){const t=D[h];C.left+C.width+.9>=t.left?C.width=Math.max(C.width,t.left+t.width-C.left):(L[b++]=C,C=t)}return L[b++]=C,L}static _createHorizontalRangesFromClientRects(D,L,b){if(!D||D.length===0)return null;const C=[];for(let h=0,g=D.length;h<g;h++){const t=D[h];C[h]=new w.FloatHorizontalRange(Math.max(0,(t.left-L)/b),t.width/b)}return this._mergeAdjacentRanges(C)}static readHorizontalRanges(D,L,b,C,h,g,t,i){const o=D.children.length-1;if(0>o)return null;if(L=Math.min(o,Math.max(0,L)),C=Math.min(o,Math.max(0,C)),L===C&&b===h&&b===0&&!D.children[L].firstChild){const r=D.children[L].getClientRects();return this._createHorizontalRangesFromClientRects(r,g,t)}L!==C&&C>0&&h===0&&(C--,h=1073741824);let l=D.children[L].firstChild,c=D.children[C].firstChild;if((!l||!c)&&(!l&&b===0&&L>0&&(l=D.children[L-1].firstChild,b=1073741824),!c&&h===0&&C>0&&(c=D.children[C-1].firstChild,h=1073741824)),!l||!c)return null;b=Math.min(l.textContent.length,Math.max(0,b)),h=Math.min(c.textContent.length,Math.max(0,h));const d=this._readClientRects(l,b,c,h,i);return this._createHorizontalRangesFromClientRects(d,g,t)}}e.RangeUtil=m}),define(se[235],re([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCharIndex=e.allCharCodes=void 0,e.allCharCodes=(()=>{const m=[];for(let k=32;k<=126;k++)m.push(k);return m.push(65533),m})();const w=(m,k)=>(m-=32,m<0||m>96?k<=2?(m+96)%96:96-1:m);e.getCharIndex=w}),define(se[413],re([1,0,235,150]),function(q,e,w,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MinimapCharRenderer=void 0;class k{constructor(L,b){this.scale=b,this._minimapCharRendererBrand=void 0,this.charDataNormal=k.soften(L,12/15),this.charDataLight=k.soften(L,50/60)}static soften(L,b){const C=new Uint8ClampedArray(L.length);for(let h=0,g=L.length;h<g;h++)C[h]=(0,m.toUint8)(L[h]*b);return C}renderChar(L,b,C,h,g,t,i,n,o,l,c){const d=1*this.scale,r=2*this.scale,s=c?1:r;if(b+d>L.width||C+s>L.height){console.warn("bad render request outside image data");return}const a=l?this.charDataLight:this.charDataNormal,u=(0,w.getCharIndex)(h,o),p=L.width*4,S=i.r,f=i.g,v=i.b,_=g.r-S,y=g.g-f,E=g.b-v,T=Math.max(t,n),I=L.data;let R=u*d*r,F=C*p+b*4;for(let O=0;O<s;O++){let M=F;for(let N=0;N<d;N++){const A=a[R++]/255*(t/255);I[M++]=S+_*A,I[M++]=f+y*A,I[M++]=v+E*A,I[M++]=T}F+=p}}blockRenderChar(L,b,C,h,g,t,i,n){const o=1*this.scale,l=2*this.scale,c=n?1:l;if(b+o>L.width||C+c>L.height){console.warn("bad render request outside image data");return}const d=L.width*4,r=.5*(g/255),s=t.r,a=t.g,u=t.b,p=h.r-s,S=h.g-a,f=h.b-u,v=s+p*r,_=a+S*r,y=u+f*r,E=Math.max(g,i),T=L.data;let I=C*d+b*4;for(let R=0;R<c;R++){let F=I;for(let O=0;O<o;O++)T[F++]=v,T[F++]=_,T[F++]=y,T[F++]=E;I+=d}}}e.MinimapCharRenderer=k}),define(se[414],re([1,0,98]),function(q,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.prebakedMiniMaps=void 0;const m={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15},k=D=>{const L=new Uint8ClampedArray(D.length/2);for(let b=0;b<D.length;b+=2)L[b>>1]=m[D[b]]<<4|m[D[b+1]]&15;return L};e.prebakedMiniMaps={1:(0,w.once)(()=>k("0000511D6300CF609C709645A78432005642574171487021003C451900274D35D762755E8B629C5BA856AF57BA649530C167D1512A272A3F6038604460398526BCA2A968DB6F8957C768BE5FBE2FB467CF5D8D5B795DC7625B5DFF50DE64C466DB2FC47CD860A65E9A2EB96CB54CE06DA763AB2EA26860524D3763536601005116008177A8705E53AB738E6A982F88BAA35B5F5B626D9C636B449B737E5B7B678598869A662F6B5B8542706C704C80736A607578685B70594A49715A4522E792")),2:(0,w.once)(()=>k("000000000000000055394F383D2800008B8B1F210002000081B1CBCBCC820000847AAF6B9AAF2119BE08B8881AD60000A44FD07DCCF107015338130C00000000385972265F390B406E2437634B4B48031B12B8A0847000001E15B29A402F0000000000004B33460B00007A752C2A0000000000004D3900000084394B82013400ABA5CFC7AD9C0302A45A3E5A98AB000089A43382D97900008BA54AA087A70A0248A6A7AE6DBE0000BF6F94987EA40A01A06DCFA7A7A9030496C32F77891D0000A99FB1A0AFA80603B29AB9CA75930D010C0948354D3900000C0948354F37460D0028BE673D8400000000AF9D7B6E00002B007AA8933400007AA642675C2700007984CFB9C3985B768772A8A6B7B20000CAAECAAFC4B700009F94A6009F840009D09F9BA4CA9C0000CC8FC76DC87F0000C991C472A2000000A894A48CA7B501079BA2C9C69BA20000B19A5D3FA89000005CA6009DA2960901B0A7F0669FB200009D009E00B7890000DAD0F5D092820000D294D4C48BD10000B5A7A4A3B1A50402CAB6CBA6A2000000B5A7A4A3B1A8044FCDADD19D9CB00000B7778F7B8AAE0803C9AB5D3F5D3F00009EA09EA0BAB006039EA0989A8C7900009B9EF4D6B7C00000A9A7816CACA80000ABAC84705D3F000096DA635CDC8C00006F486F266F263D4784006124097B00374F6D2D6D2D6D4A3A95872322000000030000000000008D8939130000000000002E22A5C9CBC70600AB25C0B5C9B400061A2DB04CA67001082AA6BEBEBFC606002321DACBC19E03087AA08B6768380000282FBAC0B8CA7A88AD25BBA5A29900004C396C5894A6000040485A6E356E9442A32CD17EADA70000B4237923628600003E2DE9C1D7B500002F25BBA5A2990000231DB6AFB4A804023025C0B5CAB588062B2CBDBEC0C706882435A75CA20000002326BD6A82A908048B4B9A5A668000002423A09CB4BB060025259C9D8A7900001C1FCAB2C7C700002A2A9387ABA200002626A4A47D6E9D14333163A0C87500004B6F9C2D643A257049364936493647358A34438355497F1A0000A24C1D590000D38DFFBDD4CD3126"))}}),define(se[415],re([1,0,413,235,414,150]),function(q,e,w,m,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MinimapCharRendererFactory=void 0;class L{static create(C,h){if(this.lastCreated&&C===this.lastCreated.scale&&h===this.lastFontFamily)return this.lastCreated;let g;return k.prebakedMiniMaps[C]?g=new w.MinimapCharRenderer(k.prebakedMiniMaps[C](),C):g=L.createFromSampleData(L.createSampleData(h).data,C),this.lastFontFamily=h,this.lastCreated=g,g}static createSampleData(C){const h=document.createElement("canvas"),g=h.getContext("2d");h.style.height=`${16}px`,h.height=16,h.width=96*10,h.style.width=96*10+"px",g.fillStyle="#ffffff",g.font=`bold ${16}px ${C}`,g.textBaseline="middle";let t=0;for(const i of m.allCharCodes)g.fillText(String.fromCharCode(i),t,16/2),t+=10;return g.getImageData(0,0,96*10,16)}static createFromSampleData(C,h){if(C.length!==61440)throw new Error("Unexpected source in MinimapCharRenderer");const t=L._downsample(C,h);return new w.MinimapCharRenderer(t,h)}static _downsampleChar(C,h,g,t,i){const n=1*i,o=2*i;let l=t,c=0;for(let d=0;d<o;d++){const r=d/o*16,s=(d+1)/o*16;for(let a=0;a<n;a++){const u=a/n*10,p=(a+1)/n*10;let S=0,f=0;for(let _=r;_<s;_++){const y=h+Math.floor(_)*3840,E=1-(_-Math.floor(_));for(let T=u;T<p;T++){const I=1-(T-Math.floor(T)),R=y+Math.floor(T)*4,F=I*E;f+=F,S+=C[R]*C[R+3]/255*F}}const v=S/f;c=Math.max(c,v),g[l++]=(0,D.toUint8)(v)}}return c}static _downsample(C,h){const g=2*h*1*h,t=g*96,i=new Uint8ClampedArray(t);let n=0,o=0,l=0;for(let c=0;c<96;c++)l=Math.max(l,this._downsampleChar(C,o,i,n,h)),n+=g,o+=10*4;if(l>0){const c=255/l;for(let d=0;d<t;d++)i[d]*=c}return i}}e.MinimapCharRendererFactory=L}),define(se[109],re([1,0,150]),function(q,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CharacterSet=e.CharacterClassifier=void 0;class m{constructor(L){const b=(0,w.toUint8)(L);this._defaultValue=b,this._asciiMap=m._createAsciiMap(b),this._map=new Map}static _createAsciiMap(L){const b=new Uint8Array(256);for(let C=0;C<256;C++)b[C]=L;return b}set(L,b){const C=(0,w.toUint8)(b);L>=0&&L<256?this._asciiMap[L]=C:this._map.set(L,C)}get(L){return L>=0&&L<256?this._asciiMap[L]:this._map.get(L)||this._defaultValue}}e.CharacterClassifier=m;class k{constructor(){this._actual=new m(0)}add(L){this._actual.set(L,1)}has(L){return this._actual.get(L)===1}}e.CharacterSet=k}),define(se[70],re([1,0,8]),function(q,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorColumns=void 0;class m{static _nextVisibleColumn(D,L,b){return D===9?m.nextRenderTabStop(L,b):w.isFullWidthCharacter(D)||w.isEmojiImprecise(D)?L+2:L+1}static visibleColumnFromColumn(D,L,b){const C=Math.min(L-1,D.length),h=D.substring(0,C),g=new w.GraphemeIterator(h);let t=0;for(;!g.eol();){const i=w.getNextCodePoint(h,C,g.offset);g.nextGraphemeLength(),t=this._nextVisibleColumn(i,t,b)}return t}static columnFromVisibleColumn(D,L,b){if(L<=0)return 1;const C=D.length,h=new w.GraphemeIterator(D);let g=0,t=1;for(;!h.eol();){const i=w.getNextCodePoint(D,C,h.offset);h.nextGraphemeLength();const n=this._nextVisibleColumn(i,g,b),o=h.offset+1;if(n>=L){const l=L-g;return n-L<l?o:t}g=n,t=o}return C+1}static nextRenderTabStop(D,L){return D+L-D%L}static nextIndentTabStop(D,L){return D+L-D%L}static prevRenderTabStop(D,L){return Math.max(0,D-1-(D-1)%L)}static prevIndentTabStop(D,L){return Math.max(0,D-1-(D-1)%L)}}e.CursorColumns=m}),define(se[130],re([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.countEOL=void 0;function w(m){let k=0,D=0,L=0,b=0;for(let C=0,h=m.length;C<h;C++){const g=m.charCodeAt(C);g===13?(k===0&&(D=C),k++,C+1<h&&m.charCodeAt(C+1)===10?(b|=2,C++):b|=3,L=C+1):g===10&&(b|=1,k===0&&(D=C),k++,L=C+1)}return k===0&&(D=m.length),[k,D,m.length-L,b]}e.countEOL=w}),define(se[183],re([1,0,8,70]),function(q,e,w,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.normalizeIndentation=void 0;function k(L,b,C){let h=0;for(let t=0;t<L.length;t++)L.charAt(t)==="	"?h=m.CursorColumns.nextIndentTabStop(h,b):h++;let g="";if(!C){const t=Math.floor(h/b);h=h%b;for(let i=0;i<t;i++)g+="	"}for(let t=0;t<h;t++)g+=" ";return g}function D(L,b,C){let h=w.firstNonWhitespaceIndex(L);return h===-1&&(h=L.length),k(L.substring(0,h),b,C)+L.substring(h)}e.normalizeIndentation=D}),define(se[11],re([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Position=void 0;class w{constructor(k,D){this.lineNumber=k,this.column=D}with(k=this.lineNumber,D=this.column){return k===this.lineNumber&&D===this.column?this:new w(k,D)}delta(k=0,D=0){return this.with(this.lineNumber+k,this.column+D)}equals(k){return w.equals(this,k)}static equals(k,D){return!k&&!D?!0:!!k&&!!D&&k.lineNumber===D.lineNumber&&k.column===D.column}isBefore(k){return w.isBefore(this,k)}static isBefore(k,D){return k.lineNumber<D.lineNumber?!0:D.lineNumber<k.lineNumber?!1:k.column<D.column}isBeforeOrEqual(k){return w.isBeforeOrEqual(this,k)}static isBeforeOrEqual(k,D){return k.lineNumber<D.lineNumber?!0:D.lineNumber<k.lineNumber?!1:k.column<=D.column}static compare(k,D){const L=k.lineNumber|0,b=D.lineNumber|0;if(L===b){const C=k.column|0,h=D.column|0;return C-h}return L-b}clone(){return new w(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(k){return new w(k.lineNumber,k.column)}static isIPosition(k){return k&&typeof k.lineNumber=="number"&&typeof k.column=="number"}}e.Position=w}),define(se[3],re([1,0,11]),function(q,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Range=void 0;class m{constructor(D,L,b,C){D>b||D===b&&L>C?(this.startLineNumber=b,this.startColumn=C,this.endLineNumber=D,this.endColumn=L):(this.startLineNumber=D,this.startColumn=L,this.endLineNumber=b,this.endColumn=C)}isEmpty(){return m.isEmpty(this)}static isEmpty(D){return D.startLineNumber===D.endLineNumber&&D.startColumn===D.endColumn}containsPosition(D){return m.containsPosition(this,D)}static containsPosition(D,L){return!(L.lineNumber<D.startLineNumber||L.lineNumber>D.endLineNumber||L.lineNumber===D.startLineNumber&&L.column<D.startColumn||L.lineNumber===D.endLineNumber&&L.column>D.endColumn)}static strictContainsPosition(D,L){return!(L.lineNumber<D.startLineNumber||L.lineNumber>D.endLineNumber||L.lineNumber===D.startLineNumber&&L.column<=D.startColumn||L.lineNumber===D.endLineNumber&&L.column>=D.endColumn)}containsRange(D){return m.containsRange(this,D)}static containsRange(D,L){return!(L.startLineNumber<D.startLineNumber||L.endLineNumber<D.startLineNumber||L.startLineNumber>D.endLineNumber||L.endLineNumber>D.endLineNumber||L.startLineNumber===D.startLineNumber&&L.startColumn<D.startColumn||L.endLineNumber===D.endLineNumber&&L.endColumn>D.endColumn)}strictContainsRange(D){return m.strictContainsRange(this,D)}static strictContainsRange(D,L){return!(L.startLineNumber<D.startLineNumber||L.endLineNumber<D.startLineNumber||L.startLineNumber>D.endLineNumber||L.endLineNumber>D.endLineNumber||L.startLineNumber===D.startLineNumber&&L.startColumn<=D.startColumn||L.endLineNumber===D.endLineNumber&&L.endColumn>=D.endColumn)}plusRange(D){return m.plusRange(this,D)}static plusRange(D,L){let b,C,h,g;return L.startLineNumber<D.startLineNumber?(b=L.startLineNumber,C=L.startColumn):L.startLineNumber===D.startLineNumber?(b=L.startLineNumber,C=Math.min(L.startColumn,D.startColumn)):(b=D.startLineNumber,C=D.startColumn),L.endLineNumber>D.endLineNumber?(h=L.endLineNumber,g=L.endColumn):L.endLineNumber===D.endLineNumber?(h=L.endLineNumber,g=Math.max(L.endColumn,D.endColumn)):(h=D.endLineNumber,g=D.endColumn),new m(b,C,h,g)}intersectRanges(D){return m.intersectRanges(this,D)}static intersectRanges(D,L){let b=D.startLineNumber,C=D.startColumn,h=D.endLineNumber,g=D.endColumn;const t=L.startLineNumber,i=L.startColumn,n=L.endLineNumber,o=L.endColumn;return b<t?(b=t,C=i):b===t&&(C=Math.max(C,i)),h>n?(h=n,g=o):h===n&&(g=Math.min(g,o)),b>h||b===h&&C>g?null:new m(b,C,h,g)}equalsRange(D){return m.equalsRange(this,D)}static equalsRange(D,L){return!!D&&!!L&&D.startLineNumber===L.startLineNumber&&D.startColumn===L.startColumn&&D.endLineNumber===L.endLineNumber&&D.endColumn===L.endColumn}getEndPosition(){return m.getEndPosition(this)}static getEndPosition(D){return new w.Position(D.endLineNumber,D.endColumn)}getStartPosition(){return m.getStartPosition(this)}static getStartPosition(D){return new w.Position(D.startLineNumber,D.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(D,L){return new m(this.startLineNumber,this.startColumn,D,L)}setStartPosition(D,L){return new m(D,L,this.endLineNumber,this.endColumn)}collapseToStart(){return m.collapseToStart(this)}delta(D){return new m(this.startLineNumber+D,this.startColumn,this.endLineNumber+D,this.endColumn)}static collapseToStart(D){return new m(D.startLineNumber,D.startColumn,D.startLineNumber,D.startColumn)}static fromPositions(D,L=D){return new m(D.lineNumber,D.column,L.lineNumber,L.column)}static lift(D){return D?new m(D.startLineNumber,D.startColumn,D.endLineNumber,D.endColumn):null}static isIRange(D){return D&&typeof D.startLineNumber=="number"&&typeof D.startColumn=="number"&&typeof D.endLineNumber=="number"&&typeof D.endColumn=="number"}static areIntersectingOrTouching(D,L){return!(D.endLineNumber<L.startLineNumber||D.endLineNumber===L.startLineNumber&&D.endColumn<L.startColumn||L.endLineNumber<D.startLineNumber||L.endLineNumber===D.startLineNumber&&L.endColumn<D.startColumn)}static areIntersecting(D,L){return!(D.endLineNumber<L.startLineNumber||D.endLineNumber===L.startLineNumber&&D.endColumn<=L.startColumn||L.endLineNumber<D.startLineNumber||L.endLineNumber===D.startLineNumber&&L.endColumn<=D.startColumn)}static compareRangesUsingStarts(D,L){if(D&&L){const h=D.startLineNumber|0,g=L.startLineNumber|0;if(h===g){const t=D.startColumn|0,i=L.startColumn|0;if(t===i){const n=D.endLineNumber|0,o=L.endLineNumber|0;if(n===o){const l=D.endColumn|0,c=L.endColumn|0;return l-c}return n-o}return t-i}return h-g}return(D?1:0)-(L?1:0)}static compareRangesUsingEnds(D,L){return D.endLineNumber===L.endLineNumber?D.endColumn===L.endColumn?D.startLineNumber===L.startLineNumber?D.startColumn-L.startColumn:D.startLineNumber-L.startLineNumber:D.endColumn-L.endColumn:D.endLineNumber-L.endLineNumber}static spansMultipleLines(D){return D.endLineNumber>D.startLineNumber}toJSON(){return this}}e.Range=m}),define(se[236],re([1,0,8,11,3]),function(q,e,w,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PagedScreenReaderStrategy=e.TextAreaState=e._debugComposition=void 0,e._debugComposition=!1;class D{constructor(C,h,g,t,i){this.value=C,this.selectionStart=h,this.selectionEnd=g,this.selectionStartPosition=t,this.selectionEndPosition=i}toString(){return`[ <${this.value}>, selectionStart: ${this.selectionStart}, selectionEnd: ${this.selectionEnd}]`}static readFromTextArea(C){return new D(C.getValue(),C.getSelectionStart(),C.getSelectionEnd(),null,null)}collapseSelection(){return new D(this.value,this.value.length,this.value.length,null,null)}writeToTextArea(C,h,g){e._debugComposition&&console.log(`writeToTextArea ${C}: ${this.toString()}`),h.setValue(C,this.value),g&&h.setSelectionRange(C,this.selectionStart,this.selectionEnd)}deduceEditorPosition(C){if(C<=this.selectionStart){const t=this.value.substring(C,this.selectionStart);return this._finishDeduceEditorPosition(this.selectionStartPosition,t,-1)}if(C>=this.selectionEnd){const t=this.value.substring(this.selectionEnd,C);return this._finishDeduceEditorPosition(this.selectionEndPosition,t,1)}const h=this.value.substring(this.selectionStart,C);if(h.indexOf(String.fromCharCode(8230))===-1)return this._finishDeduceEditorPosition(this.selectionStartPosition,h,1);const g=this.value.substring(C,this.selectionEnd);return this._finishDeduceEditorPosition(this.selectionEndPosition,g,-1)}_finishDeduceEditorPosition(C,h,g){let t=0,i=-1;for(;(i=h.indexOf(`
`,i+1))!==-1;)t++;return[C,g*h.length,t]}static deduceInput(C,h,g){if(!C)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};e._debugComposition&&(console.log("------------------------deduceInput"),console.log(`PREVIOUS STATE: ${C.toString()}`),console.log(`CURRENT STATE: ${h.toString()}`));const t=Math.min(w.commonPrefixLength(C.value,h.value),C.selectionStart,h.selectionStart),i=Math.min(w.commonSuffixLength(C.value,h.value),C.value.length-C.selectionEnd,h.value.length-h.selectionEnd),n=C.value.substring(t,C.value.length-i),o=h.value.substring(t,h.value.length-i),l=C.selectionStart-t,c=C.selectionEnd-t,d=h.selectionStart-t,r=h.selectionEnd-t;if(e._debugComposition&&(console.log(`AFTER DIFFING PREVIOUS STATE: <${n}>, selectionStart: ${l}, selectionEnd: ${c}`),console.log(`AFTER DIFFING CURRENT STATE: <${o}>, selectionStart: ${d}, selectionEnd: ${r}`)),d===r){const a=C.selectionStart-t;return e._debugComposition&&console.log(`REMOVE PREVIOUS: ${a} chars`),{text:o,replacePrevCharCnt:a,replaceNextCharCnt:0,positionDelta:0}}const s=c-l;return{text:o,replacePrevCharCnt:s,replaceNextCharCnt:0,positionDelta:0}}static deduceAndroidCompositionInput(C,h){if(!C)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};if(e._debugComposition&&(console.log("------------------------deduceAndroidCompositionInput"),console.log(`PREVIOUS STATE: ${C.toString()}`),console.log(`CURRENT STATE: ${h.toString()}`)),C.value===h.value)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:h.selectionEnd-C.selectionEnd};const g=Math.min(w.commonPrefixLength(C.value,h.value),C.selectionEnd),t=Math.min(w.commonSuffixLength(C.value,h.value),C.value.length-C.selectionEnd),i=C.value.substring(g,C.value.length-t),n=h.value.substring(g,h.value.length-t),o=C.selectionStart-g,l=C.selectionEnd-g,c=h.selectionStart-g,d=h.selectionEnd-g;return e._debugComposition&&(console.log(`AFTER DIFFING PREVIOUS STATE: <${i}>, selectionStart: ${o}, selectionEnd: ${l}`),console.log(`AFTER DIFFING CURRENT STATE: <${n}>, selectionStart: ${c}, selectionEnd: ${d}`)),{text:n,replacePrevCharCnt:l,replaceNextCharCnt:i.length-l,positionDelta:d-n.length}}}e.TextAreaState=D,D.EMPTY=new D("",0,0,null,null);class L{static _getPageOfLine(C,h){return Math.floor((C-1)/h)}static _getRangeForPage(C,h){const g=C*h,t=g+1,i=g+h;return new k.Range(t,1,i+1,1)}static fromEditorSelection(C,h,g,t,i){const n=L._getPageOfLine(g.startLineNumber,t),o=L._getRangeForPage(n,t),l=L._getPageOfLine(g.endLineNumber,t),c=L._getRangeForPage(l,t),d=o.intersectRanges(new k.Range(1,1,g.startLineNumber,g.startColumn));let r=h.getValueInRange(d,1);const s=h.getLineCount(),a=h.getLineMaxColumn(s),u=c.intersectRanges(new k.Range(g.endLineNumber,g.endColumn,s,a));let p=h.getValueInRange(u,1),S;if(n===l||n+1===l)S=h.getValueInRange(g,1);else{const f=o.intersectRanges(g),v=c.intersectRanges(g);S=h.getValueInRange(f,1)+String.fromCharCode(8230)+h.getValueInRange(v,1)}return i&&(r.length>500&&(r=r.substring(r.length-500,r.length)),p.length>500&&(p=p.substring(0,500)),S.length>2*500&&(S=S.substring(0,500)+String.fromCharCode(8230)+S.substring(S.length-500,S.length))),new D(r+S+p,r.length,r.length+S.length,new m.Position(g.startLineNumber,g.startColumn),new m.Position(g.endLineNumber,g.endColumn))}}e.PagedScreenReaderStrategy=L}),define(se[63],re([1,0,3]),function(q,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditOperation=void 0;class m{static insert(D,L){return{range:new w.Range(D.lineNumber,D.column,D.lineNumber,D.column),text:L,forceMoveMarkers:!0}}static delete(D){return{range:D,text:null}}static replace(D,L){return{range:D,text:L}}static replaceMove(D,L){return{range:D,text:L,forceMoveMarkers:!0}}}e.EditOperation=m}),define(se[416],re([1,0,8,63,3]),function(q,e,w,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.trimTrailingWhitespace=e.TrimTrailingWhitespaceCommand=void 0;class D{constructor(C,h){this._selection=C,this._cursors=h,this._selectionId=null}getEditOperations(C,h){const g=L(C,this._cursors);for(let t=0,i=g.length;t<i;t++){const n=g[t];h.addEditOperation(n.range,n.text)}this._selectionId=h.trackSelection(this._selection)}computeCursorState(C,h){return h.getTrackedSelection(this._selectionId)}}e.TrimTrailingWhitespaceCommand=D;function L(b,C){C.sort((n,o)=>n.lineNumber===o.lineNumber?n.column-o.column:n.lineNumber-o.lineNumber);for(let n=C.length-2;n>=0;n--)C[n].lineNumber===C[n+1].lineNumber&&C.splice(n,1);const h=[];let g=0,t=0;const i=C.length;for(let n=1,o=b.getLineCount();n<=o;n++){const l=b.getLineContent(n),c=l.length+1;let d=0;if(t<i&&C[t].lineNumber===n&&(d=C[t].column,t++,d===c)||l.length===0)continue;const r=w.lastNonWhitespaceIndex(l);let s=0;if(r===-1)s=1;else if(r!==l.length-1)s=r+2;else continue;s=Math.max(d,s),h[g++]=m.EditOperation.delete(new k.Range(n,s,n,c))}return h}e.trimTrailingWhitespace=L}),define(se[237],re([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RGBA8=void 0;class w{constructor(k,D,L,b){this._rgba8Brand=void 0,this.r=w._clamp(k),this.g=w._clamp(D),this.b=w._clamp(L),this.a=w._clamp(b)}equals(k){return this.r===k.r&&this.g===k.g&&this.b===k.b&&this.a===k.a}static _clamp(k){return k<0?0:k>255?255:k|0}}e.RGBA8=w,w.Empty=new w(0,0,0,0)}),define(se[24],re([1,0,11,3]),function(q,e,w,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Selection=void 0;class k extends m.Range{constructor(L,b,C,h){super(L,b,C,h),this.selectionStartLineNumber=L,this.selectionStartColumn=b,this.positionLineNumber=C,this.positionColumn=h}toString(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"}equalsSelection(L){return k.selectionsEqual(this,L)}static selectionsEqual(L,b){return L.selectionStartLineNumber===b.selectionStartLineNumber&&L.selectionStartColumn===b.selectionStartColumn&&L.positionLineNumber===b.positionLineNumber&&L.positionColumn===b.positionColumn}getDirection(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1}setEndPosition(L,b){return this.getDirection()===0?new k(this.startLineNumber,this.startColumn,L,b):new k(L,b,this.startLineNumber,this.startColumn)}getPosition(){return new w.Position(this.positionLineNumber,this.positionColumn)}getSelectionStart(){return new w.Position(this.selectionStartLineNumber,this.selectionStartColumn)}setStartPosition(L,b){return this.getDirection()===0?new k(L,b,this.endLineNumber,this.endColumn):new k(this.endLineNumber,this.endColumn,L,b)}static fromPositions(L,b=L){return new k(L.lineNumber,L.column,b.lineNumber,b.column)}static fromRange(L,b){return b===0?new k(L.startLineNumber,L.startColumn,L.endLineNumber,L.endColumn):new k(L.endLineNumber,L.endColumn,L.startLineNumber,L.startColumn)}static liftSelection(L){return new k(L.selectionStartLineNumber,L.selectionStartColumn,L.positionLineNumber,L.positionColumn)}static selectionsArrEqual(L,b){if(L&&!b||!L&&b)return!1;if(!L&&!b)return!0;if(L.length!==b.length)return!1;for(let C=0,h=L.length;C<h;C++)if(!this.selectionsEqual(L[C],b[C]))return!1;return!0}static isISelection(L){return L&&typeof L.selectionStartLineNumber=="number"&&typeof L.selectionStartColumn=="number"&&typeof L.positionLineNumber=="number"&&typeof L.positionColumn=="number"}static createWithDirection(L,b,C,h,g){return g===0?new k(L,b,C,h):new k(C,h,L,b)}}e.Selection=k}),define(se[110],re([1,0,24]),function(q,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReplaceCommandThatPreservesSelection=e.ReplaceCommandWithOffsetCursorState=e.ReplaceCommandWithoutChangingPosition=e.ReplaceCommandThatSelectsText=e.ReplaceCommand=void 0;class m{constructor(h,g,t=!1){this._range=h,this._text=g,this.insertsAutoWhitespace=t}getEditOperations(h,g){g.addTrackedEditOperation(this._range,this._text)}computeCursorState(h,g){const i=g.getInverseEditOperations()[0].range;return w.Selection.fromPositions(i.getEndPosition())}}e.ReplaceCommand=m;class k{constructor(h,g){this._range=h,this._text=g}getEditOperations(h,g){g.addTrackedEditOperation(this._range,this._text)}computeCursorState(h,g){const i=g.getInverseEditOperations()[0].range;return w.Selection.fromRange(i,0)}}e.ReplaceCommandThatSelectsText=k;class D{constructor(h,g,t=!1){this._range=h,this._text=g,this.insertsAutoWhitespace=t}getEditOperations(h,g){g.addTrackedEditOperation(this._range,this._text)}computeCursorState(h,g){const i=g.getInverseEditOperations()[0].range;return w.Selection.fromPositions(i.getStartPosition())}}e.ReplaceCommandWithoutChangingPosition=D;class L{constructor(h,g,t,i,n=!1){this._range=h,this._text=g,this._columnDeltaOffset=i,this._lineNumberDeltaOffset=t,this.insertsAutoWhitespace=n}getEditOperations(h,g){g.addTrackedEditOperation(this._range,this._text)}computeCursorState(h,g){const i=g.getInverseEditOperations()[0].range;return w.Selection.fromPositions(i.getEndPosition().delta(this._lineNumberDeltaOffset,this._columnDeltaOffset))}}e.ReplaceCommandWithOffsetCursorState=L;class b{constructor(h,g,t,i=!1){this._range=h,this._text=g,this._initialSelection=t,this._forceMoveMarkers=i,this._selectionId=null}getEditOperations(h,g){g.addTrackedEditOperation(this._range,this._text,this._forceMoveMarkers),this._selectionId=g.trackSelection(this._initialSelection)}computeCursorState(h,g){return g.getTrackedSelection(this._selectionId)}}e.ReplaceCommandThatPreservesSelection=b}),define(se[417],re([1,0,3,24]),function(q,e,w,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompositionSurroundSelectionCommand=e.SurroundSelectionCommand=void 0;class k{constructor(b,C,h){this._range=b,this._charBeforeSelection=C,this._charAfterSelection=h}getEditOperations(b,C){C.addTrackedEditOperation(new w.Range(this._range.startLineNumber,this._range.startColumn,this._range.startLineNumber,this._range.startColumn),this._charBeforeSelection),C.addTrackedEditOperation(new w.Range(this._range.endLineNumber,this._range.endColumn,this._range.endLineNumber,this._range.endColumn),this._charAfterSelection)}computeCursorState(b,C){const h=C.getInverseEditOperations(),g=h[0].range,t=h[1].range;return new m.Selection(g.endLineNumber,g.endColumn,t.endLineNumber,t.endColumn-this._charAfterSelection.length)}}e.SurroundSelectionCommand=k;class D{constructor(b,C,h){this._position=b,this._text=C,this._charAfter=h}getEditOperations(b,C){C.addTrackedEditOperation(new w.Range(this._position.lineNumber,this._position.column,this._position.lineNumber,this._position.column),this._text+this._charAfter)}computeCursorState(b,C){const g=C.getInverseEditOperations()[0].range;return new m.Selection(g.endLineNumber,g.startColumn,g.endLineNumber,g.endColumn-this._charAfter.length)}}e.CompositionSurroundSelectionCommand=D}),define(se[154],re([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EDITOR_MODEL_DEFAULTS=void 0,e.EDITOR_MODEL_DEFAULTS={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0,bracketPairColorizationOptions:{enabled:!0,independentColorPoolPerBracketType:!1}}}),define(se[131],re([1,0,109]),function(q,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getMapForWordSeparators=e.WordCharacterClassifier=void 0;class m extends w.CharacterClassifier{constructor(L){super(0);for(let b=0,C=L.length;b<C;b++)this.set(L.charCodeAt(b),2);this.set(32,1),this.set(9,1)}}e.WordCharacterClassifier=m;function k(D){const L={};return b=>(L.hasOwnProperty(b)||(L[b]=D(b)),L[b])}e.getMapForWordSeparators=k(D=>new m(D))}),define(se[132],re([1,0,55,58]),function(q,e,w,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getWordAtText=e.ensureValidWordDefinition=e.DEFAULT_WORD_REGEXP=e.USUAL_WORD_SEPARATORS=void 0,e.USUAL_WORD_SEPARATORS="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?";function k(h=""){let g="(-?\\d*\\.\\d\\w*)|([^";for(const t of e.USUAL_WORD_SEPARATORS)h.indexOf(t)>=0||(g+="\\"+t);return g+="\\s]+)",new RegExp(g,"g")}e.DEFAULT_WORD_REGEXP=k();function D(h){let g=e.DEFAULT_WORD_REGEXP;if(h&&h instanceof RegExp)if(h.global)g=h;else{let t="g";h.ignoreCase&&(t+="i"),h.multiline&&(t+="m"),h.unicode&&(t+="u"),g=new RegExp(h.source,t)}return g.lastIndex=0,g}e.ensureValidWordDefinition=D;const L=new m.LinkedList;L.unshift({maxLen:1e3,windowSize:15,timeBudget:150});function b(h,g,t,i,n){if(n||(n=w.Iterable.first(L)),t.length>n.maxLen){let r=h-n.maxLen/2;return r<0?r=0:i+=r,t=t.substring(r,h+n.maxLen/2),b(h,g,t,i,n)}const o=Date.now(),l=h-1-i;let c=-1,d=null;for(let r=1;!(Date.now()-o>=n.timeBudget);r++){const s=l-n.windowSize*r;g.lastIndex=Math.max(0,s);const a=C(g,t,l,c);if(!a&&d||(d=a,s<=0))break;c=s}if(d){const r={word:d[0],startColumn:i+1+d.index,endColumn:i+1+d.index+d[0].length};return g.lastIndex=0,r}return null}e.getWordAtText=b;function C(h,g,t,i){let n;for(;n=h.exec(g);){const o=n.index||0;if(o<=t&&h.lastIndex>=t)return n;if(i>0&&o>i)return null}return null}}),define(se[238],re([1,0,70]),function(q,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AtomicTabMoveOperations=void 0;class m{static whitespaceVisibleColumn(D,L,b){const C=D.length;let h=0,g=-1,t=-1;for(let i=0;i<C;i++){if(i===L)return[g,t,h];switch(h%b===0&&(g=i,t=h),D.charCodeAt(i)){case 32:h+=1;break;case 9:h=w.CursorColumns.nextRenderTabStop(h,b);break;default:return[-1,-1,-1]}}return L===C?[g,t,h]:[-1,-1,-1]}static atomicPosition(D,L,b,C){const h=D.length,[g,t,i]=m.whitespaceVisibleColumn(D,L,b);if(i===-1)return-1;let n;switch(C){case 0:n=!0;break;case 1:n=!1;break;case 2:if(i%b===0)return L;n=i%b<=b/2;break}if(n){if(g===-1)return-1;let c=t;for(let d=g;d<h;++d){if(c===t+b)return g;switch(D.charCodeAt(d)){case 32:c+=1;break;case 9:c=w.CursorColumns.nextRenderTabStop(c,b);break;default:return-1}}return c===t+b?g:-1}const o=w.CursorColumns.nextRenderTabStop(i,b);let l=i;for(let c=L;c<h;c++){if(l===o)return c;switch(D.charCodeAt(c)){case 32:l+=1;break;case 9:l=w.CursorColumns.nextRenderTabStop(l,b);break;default:return-1}}return l===o?h:-1}}e.AtomicTabMoveOperations=m}),define(se[418],re([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorContext=void 0;class w{constructor(k,D,L,b){this._cursorContextBrand=void 0,this.model=k,this.viewModel=D,this.coordinatesConverter=L,this.cursorConfig=b}}e.CursorContext=w}),define(se[184],re([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SequenceFromIntArray=e.OffsetRange=e.SequenceDiff=void 0;class w{constructor(L,b){this.seq1Range=L,this.seq2Range=b}}e.SequenceDiff=w;class m{constructor(L,b){this.start=L,this.endExclusive=b}get length(){return this.endExclusive-this.start}}e.OffsetRange=m;class k{constructor(L){this.arr=L}getElement(L){return this.arr[L]}get length(){return this.arr.length}}e.SequenceFromIntArray=k}),define(se[419],re([1,0,184]),function(q,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MyersDiffAlgorithm=void 0;class m{compute(C,h){function g(s,a){for(;s<C.length&&a<h.length&&C.getElement(s)===h.getElement(a);)s++,a++;return s}let t=0;const i=new D;i.set(0,g(0,0));const n=new L;n.set(0,i.get(0)===0?null:new k(null,0,0,i.get(0)));let o=0;e:for(;;)for(t++,o=-t;o<=t;o+=2){const s=o===t?-1:i.get(o+1),a=o===-t?-1:i.get(o-1)+1,u=Math.min(Math.max(s,a),C.length),p=u-o,S=g(u,p);i.set(o,S);const f=u===s?n.get(o+1):n.get(o-1);if(n.set(o,S!==u?new k(f,u,p,S-u):f),i.get(o)===C.length&&i.get(o)-o===h.length)break e}let l=n.get(o);const c=[];let d=C.length,r=h.length;for(;;){const s=l?l.x+l.length:0,a=l?l.y+l.length:0;if((s!==d||a!==r)&&c.push(new w.SequenceDiff(new w.OffsetRange(s,d),new w.OffsetRange(a,r))),!l)break;d=l.x,r=l.y,l=l.prev}return c.reverse(),c}}e.MyersDiffAlgorithm=m;class k{constructor(C,h,g,t){this.prev=C,this.x=h,this.y=g,this.length=t}}class D{constructor(){this.positiveArr=new Int32Array(10),this.negativeArr=new Int32Array(10)}get(C){return C<0?(C=-C-1,this.negativeArr[C]):this.positiveArr[C]}set(C,h){if(C<0){if(C=-C-1,C>=this.negativeArr.length){const g=this.negativeArr;this.negativeArr=new Int32Array(g.length*2),this.negativeArr.set(g)}this.negativeArr[C]=h}else{if(C>=this.positiveArr.length){const g=this.positiveArr;this.positiveArr=new Int32Array(g.length*2),this.positiveArr.set(g)}this.positiveArr[C]=h}}}class L{constructor(){this.positiveArr=[],this.negativeArr=[]}get(C){return C<0?(C=-C-1,this.negativeArr[C]):this.positiveArr[C]}set(C,h){C<0?(C=-C-1,this.negativeArr[C]=h):this.positiveArr[C]=h}}}),define(se[420],re([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Array2D=void 0;class w{constructor(k,D){this.width=k,this.height=D,this.array=[],this.array=new Array(k*D)}get(k,D){return this.array[k+D*this.width]}set(k,D,L){this.array[k+D*this.width]=L}}e.Array2D=w}),define(se[421],re([1,0,184,420]),function(q,e,w,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DynamicProgrammingDiffing=void 0;class k{compute(L,b,C){const h=new m.Array2D(L.length,b.length),g=new m.Array2D(L.length,b.length),t=new m.Array2D(L.length,b.length);for(let r=0;r<L.length;r++)for(let s=0;s<b.length;s++){const a=r===0?0:h.get(r-1,s),u=s===0?0:h.get(r,s-1);let p;L.getElement(r)===b.getElement(s)?(r===0||s===0?p=0:p=h.get(r-1,s-1),p+=C?C(r,s):1):p=-1;const S=Math.max(a,u,p);if(S===a)t.set(r,s,0),g.set(r,s,1);else if(S===u)t.set(r,s,0),g.set(r,s,2);else{const f=r>0&&s>0?t.get(r-1,s-1):0;t.set(r,s,f+1),g.set(r,s,3)}h.set(r,s,S)}const i=[];let n=L.length,o=b.length;function l(r,s){(r+1!==n||s+1!==o)&&i.push(new w.SequenceDiff(new w.OffsetRange(r+1,n),new w.OffsetRange(s+1,o))),n=r,o=s}let c=L.length-1,d=b.length-1;for(;c>=0&&d>=0;)g.get(c,d)===3?(l(c,d),c--,d--):g.get(c,d)===1?c--:d--;return l(-1,-1),i.reverse(),i}}e.DynamicProgrammingDiffing=k}),define(se[185],re([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineRange=e.RangeMapping=e.LineRangeMapping=void 0;class w{constructor(L,b,C){this.originalRange=L,this.modifiedRange=b,this.innerChanges=C}toString(){return`{${this.originalRange.toString()}->${this.modifiedRange.toString()}}`}}e.LineRangeMapping=w;class m{constructor(L,b){this.originalRange=L,this.modifiedRange=b}toString(){return`{${this.originalRange.toString()}->${this.modifiedRange.toString()}}`}}e.RangeMapping=m;class k{constructor(L,b){this.startLineNumber=L,this.endLineNumberExclusive=b}get isEmpty(){return this.startLineNumber===this.endLineNumberExclusive}toString(){return`[${this.startLineNumber},${this.endLineNumberExclusive})`}join(L){return new k(Math.min(this.startLineNumber,L.startLineNumber),Math.max(this.endLineNumberExclusive,L.endLineNumberExclusive))}}e.LineRange=k}),define(se[422],re([1,0,149,185,8,3,83]),function(q,e,w,m,k,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffComputer=e.SmartLinesDiffComputer=void 0;const b=3;class C{computeDiff(a,u,p){var S;const v=new l(a,u,{maxComputationTime:p.maxComputationTime,shouldIgnoreTrimWhitespace:p.ignoreTrimWhitespace,shouldComputeCharChanges:!0,shouldMakePrettyDiff:!0,shouldPostProcessCharChanges:!0}).computeDiff(),_=[];let y=null;for(const E of v.changes){let T;E.originalEndLineNumber===0?T=new m.LineRange(E.originalStartLineNumber+1,E.originalStartLineNumber+1):T=new m.LineRange(E.originalStartLineNumber,E.originalEndLineNumber+1);let I;E.modifiedEndLineNumber===0?I=new m.LineRange(E.modifiedStartLineNumber+1,E.modifiedStartLineNumber+1):I=new m.LineRange(E.modifiedStartLineNumber,E.modifiedEndLineNumber+1);let R=new m.LineRangeMapping(T,I,(S=E.charChanges)===null||S===void 0?void 0:S.map(F=>new m.RangeMapping(new D.Range(F.originalStartLineNumber,F.originalStartColumn,F.originalEndLineNumber,F.originalEndColumn),new D.Range(F.modifiedStartLineNumber,F.modifiedStartColumn,F.modifiedEndLineNumber,F.modifiedEndColumn))));y&&(y.modifiedRange.endLineNumberExclusive===R.modifiedRange.startLineNumber||y.originalRange.endLineNumberExclusive===R.originalRange.startLineNumber)&&(R=new m.LineRangeMapping(y.originalRange.join(R.originalRange),y.modifiedRange.join(R.modifiedRange),y.innerChanges&&R.innerChanges?y.innerChanges.concat(R.innerChanges):void 0),_.pop()),_.push(R),y=R}return(0,L.assertFn)(()=>(0,L.checkAdjacentItems)(_,(E,T)=>T.originalRange.startLineNumber-E.originalRange.endLineNumberExclusive===T.modifiedRange.startLineNumber-E.modifiedRange.endLineNumberExclusive&&E.originalRange.endLineNumberExclusive<T.originalRange.startLineNumber&&E.modifiedRange.endLineNumberExclusive<T.modifiedRange.startLineNumber)),{quitEarly:v.quitEarly,changes:_}}}e.SmartLinesDiffComputer=C;function h(s,a,u,p){return new w.LcsDiff(s,a,u).ComputeDiff(p)}class g{constructor(a){const u=[],p=[];for(let S=0,f=a.length;S<f;S++)u[S]=c(a[S],1),p[S]=d(a[S],1);this.lines=a,this._startColumns=u,this._endColumns=p}getElements(){const a=[];for(let u=0,p=this.lines.length;u<p;u++)a[u]=this.lines[u].substring(this._startColumns[u]-1,this._endColumns[u]-1);return a}getStrictElement(a){return this.lines[a]}getStartLineNumber(a){return a+1}getEndLineNumber(a){return a+1}createCharSequence(a,u,p){const S=[],f=[],v=[];let _=0;for(let y=u;y<=p;y++){const E=this.lines[y],T=a?this._startColumns[y]:1,I=a?this._endColumns[y]:E.length+1;for(let R=T;R<I;R++)S[_]=E.charCodeAt(R-1),f[_]=y+1,v[_]=R,_++;!a&&y<p&&(S[_]=10,f[_]=y+1,v[_]=E.length+1,_++)}return new t(S,f,v)}}class t{constructor(a,u,p){this._charCodes=a,this._lineNumbers=u,this._columns=p}toString(){return"["+this._charCodes.map((a,u)=>(a===10?"\\n":String.fromCharCode(a))+`-(${this._lineNumbers[u]},${this._columns[u]})`).join(", ")+"]"}_assertIndex(a,u){if(a<0||a>=u.length)throw new Error("Illegal index")}getElements(){return this._charCodes}getStartLineNumber(a){return a>0&&a===this._lineNumbers.length?this.getEndLineNumber(a-1):(this._assertIndex(a,this._lineNumbers),this._lineNumbers[a])}getEndLineNumber(a){return a===-1?this.getStartLineNumber(a+1):(this._assertIndex(a,this._lineNumbers),this._charCodes[a]===10?this._lineNumbers[a]+1:this._lineNumbers[a])}getStartColumn(a){return a>0&&a===this._columns.length?this.getEndColumn(a-1):(this._assertIndex(a,this._columns),this._columns[a])}getEndColumn(a){return a===-1?this.getStartColumn(a+1):(this._assertIndex(a,this._columns),this._charCodes[a]===10?1:this._columns[a]+1)}}class i{constructor(a,u,p,S,f,v,_,y){this.originalStartLineNumber=a,this.originalStartColumn=u,this.originalEndLineNumber=p,this.originalEndColumn=S,this.modifiedStartLineNumber=f,this.modifiedStartColumn=v,this.modifiedEndLineNumber=_,this.modifiedEndColumn=y}static createFromDiffChange(a,u,p){const S=u.getStartLineNumber(a.originalStart),f=u.getStartColumn(a.originalStart),v=u.getEndLineNumber(a.originalStart+a.originalLength-1),_=u.getEndColumn(a.originalStart+a.originalLength-1),y=p.getStartLineNumber(a.modifiedStart),E=p.getStartColumn(a.modifiedStart),T=p.getEndLineNumber(a.modifiedStart+a.modifiedLength-1),I=p.getEndColumn(a.modifiedStart+a.modifiedLength-1);return new i(S,f,v,_,y,E,T,I)}}function n(s){if(s.length<=1)return s;const a=[s[0]];let u=a[0];for(let p=1,S=s.length;p<S;p++){const f=s[p],v=f.originalStart-(u.originalStart+u.originalLength),_=f.modifiedStart-(u.modifiedStart+u.modifiedLength);Math.min(v,_)<b?(u.originalLength=f.originalStart+f.originalLength-u.originalStart,u.modifiedLength=f.modifiedStart+f.modifiedLength-u.modifiedStart):(a.push(f),u=f)}return a}class o{constructor(a,u,p,S,f){this.originalStartLineNumber=a,this.originalEndLineNumber=u,this.modifiedStartLineNumber=p,this.modifiedEndLineNumber=S,this.charChanges=f}static createFromDiffResult(a,u,p,S,f,v,_){let y,E,T,I,R;if(u.originalLength===0?(y=p.getStartLineNumber(u.originalStart)-1,E=0):(y=p.getStartLineNumber(u.originalStart),E=p.getEndLineNumber(u.originalStart+u.originalLength-1)),u.modifiedLength===0?(T=S.getStartLineNumber(u.modifiedStart)-1,I=0):(T=S.getStartLineNumber(u.modifiedStart),I=S.getEndLineNumber(u.modifiedStart+u.modifiedLength-1)),v&&u.originalLength>0&&u.originalLength<20&&u.modifiedLength>0&&u.modifiedLength<20&&f()){const F=p.createCharSequence(a,u.originalStart,u.originalStart+u.originalLength-1),O=S.createCharSequence(a,u.modifiedStart,u.modifiedStart+u.modifiedLength-1);if(F.getElements().length>0&&O.getElements().length>0){let M=h(F,O,f,!0).changes;_&&(M=n(M)),R=[];for(let N=0,A=M.length;N<A;N++)R.push(i.createFromDiffChange(M[N],F,O))}}return new o(y,E,T,I,R)}}class l{constructor(a,u,p){this.shouldComputeCharChanges=p.shouldComputeCharChanges,this.shouldPostProcessCharChanges=p.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=p.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=p.shouldMakePrettyDiff,this.originalLines=a,this.modifiedLines=u,this.original=new g(a),this.modified=new g(u),this.continueLineDiff=r(p.maxComputationTime),this.continueCharDiff=r(p.maxComputationTime===0?0:Math.min(p.maxComputationTime,5e3))}computeDiff(){if(this.original.lines.length===1&&this.original.lines[0].length===0)return this.modified.lines.length===1&&this.modified.lines[0].length===0?{quitEarly:!1,changes:[]}:{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.lines.length,charChanges:void 0}]};if(this.modified.lines.length===1&&this.modified.lines[0].length===0)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:this.original.lines.length,modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:void 0}]};const a=h(this.original,this.modified,this.continueLineDiff,this.shouldMakePrettyDiff),u=a.changes,p=a.quitEarly;if(this.shouldIgnoreTrimWhitespace){const _=[];for(let y=0,E=u.length;y<E;y++)_.push(o.createFromDiffResult(this.shouldIgnoreTrimWhitespace,u[y],this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return{quitEarly:p,changes:_}}const S=[];let f=0,v=0;for(let _=-1,y=u.length;_<y;_++){const E=_+1<y?u[_+1]:null,T=E?E.originalStart:this.originalLines.length,I=E?E.modifiedStart:this.modifiedLines.length;for(;f<T&&v<I;){const R=this.originalLines[f],F=this.modifiedLines[v];if(R!==F){{let O=c(R,1),M=c(F,1);for(;O>1&&M>1;){const N=R.charCodeAt(O-2),A=F.charCodeAt(M-2);if(N!==A)break;O--,M--}(O>1||M>1)&&this._pushTrimWhitespaceCharChange(S,f+1,1,O,v+1,1,M)}{let O=d(R,1),M=d(F,1);const N=R.length+1,A=F.length+1;for(;O<N&&M<A;){const B=R.charCodeAt(O-1),W=R.charCodeAt(M-1);if(B!==W)break;O++,M++}(O<N||M<A)&&this._pushTrimWhitespaceCharChange(S,f+1,O,N,v+1,M,A)}}f++,v++}E&&(S.push(o.createFromDiffResult(this.shouldIgnoreTrimWhitespace,E,this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),f+=E.originalLength,v+=E.modifiedLength)}return{quitEarly:p,changes:S}}_pushTrimWhitespaceCharChange(a,u,p,S,f,v,_){if(this._mergeTrimWhitespaceCharChange(a,u,p,S,f,v,_))return;let y;this.shouldComputeCharChanges&&(y=[new i(u,p,u,S,f,v,f,_)]),a.push(new o(u,u,f,f,y))}_mergeTrimWhitespaceCharChange(a,u,p,S,f,v,_){const y=a.length;if(y===0)return!1;const E=a[y-1];return E.originalEndLineNumber===0||E.modifiedEndLineNumber===0?!1:E.originalEndLineNumber+1===u&&E.modifiedEndLineNumber+1===f?(E.originalEndLineNumber=u,E.modifiedEndLineNumber=f,this.shouldComputeCharChanges&&E.charChanges&&E.charChanges.push(new i(u,p,u,S,f,v,f,_)),!0):!1}}e.DiffComputer=l;function c(s,a){const u=k.firstNonWhitespaceIndex(s);return u===-1?a:u+1}function d(s,a){const u=k.lastNonWhitespaceIndex(s);return u===-1?a:u+2}function r(s){if(s===0)return()=>!0;const a=Date.now();return()=>Date.now()-a<s}}),define(se[423],re([1,0,83,11,3,184,421,419,185]),function(q,e,w,m,k,D,L,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.lineRangeMappingFromRangeMappings=e.StandardLinesDiffComputer=void 0;class h{constructor(){this.dynamicProgrammingDiffing=new L.DynamicProgrammingDiffing,this.myersDiffingAlgorithm=new b.MyersDiffAlgorithm}computeDiff(o,l,c){const d=new Map;function r(T){let I=d.get(T);return I===void 0&&(I=d.size,d.set(T,I)),I}const s=o.map(T=>r(T.trim())),a=l.map(T=>r(T.trim())),u=new D.SequenceFromIntArray(s),p=new D.SequenceFromIntArray(a),S=(()=>u.length+p.length<1500?this.dynamicProgrammingDiffing.compute(u,p,(T,I)=>o[T]===l[I]?l[I].length===0?.1:1+Math.log(1+l[I].length):.99):this.myersDiffingAlgorithm.compute(u,p))(),f=[],v=T=>{for(let I=0;I<T;I++){const R=_+I,F=y+I;if(o[R]!==l[F]){const O=this.refineDiff(o,l,new D.SequenceDiff(new D.OffsetRange(R,R+1),new D.OffsetRange(F,F+1)));for(const M of O)f.push(M)}}};let _=0,y=0;for(const T of S){(0,w.assertFn)(()=>T.seq1Range.start-_===T.seq2Range.start-y);const I=T.seq1Range.start-_;v(I),_=T.seq1Range.endExclusive,y=T.seq2Range.endExclusive;const R=this.refineDiff(o,l,T);for(const F of R)f.push(F)}v(o.length-_);const E=g(f);return{quitEarly:!1,changes:E}}refineDiff(o,l,c){const d=new i(o,c.seq1Range),r=new i(l,c.seq2Range);return this.myersDiffingAlgorithm.compute(d,r).map(u=>new C.RangeMapping(d.translateRange(u.seq1Range).delta(c.seq1Range.start),r.translateRange(u.seq2Range).delta(c.seq2Range.start)))}}e.StandardLinesDiffComputer=h;function g(n){const o=[];for(const l of t(n,(c,d)=>d.originalRange.startLineNumber-(c.originalRange.endLineNumber-(c.originalRange.endColumn>1?0:1))<=1||d.modifiedRange.startLineNumber-(c.modifiedRange.endLineNumber-(c.modifiedRange.endColumn>1?0:1))<=1)){const c=l[0],d=l[l.length-1];o.push(new C.LineRangeMapping(new C.LineRange(c.originalRange.startLineNumber,d.originalRange.endLineNumber+(d.originalRange.endColumn>1||d.modifiedRange.endColumn>1?1:0)),new C.LineRange(c.modifiedRange.startLineNumber,d.modifiedRange.endLineNumber+(d.originalRange.endColumn>1||d.modifiedRange.endColumn>1?1:0)),l))}return(0,w.assertFn)(()=>(0,w.checkAdjacentItems)(o,(l,c)=>c.originalRange.startLineNumber-l.originalRange.endLineNumberExclusive===c.modifiedRange.startLineNumber-l.modifiedRange.endLineNumberExclusive&&l.originalRange.endLineNumberExclusive<c.originalRange.startLineNumber&&l.modifiedRange.endLineNumberExclusive<c.modifiedRange.startLineNumber)),o}e.lineRangeMappingFromRangeMappings=g;function*t(n,o){let l,c;for(const d of n)c!==void 0&&o(c,d)?l.push(d):(l&&(yield l),l=[d]),c=d;l&&(yield l)}class i{constructor(o,l){this.lines=o,this.lineRange=l;let c=0;this.firstCharOnLineOffsets=new Int32Array(l.length);for(let r=l.start;r<l.endExclusive;r++)c+=o[r].length,this.firstCharOnLineOffsets[r-l.start]=c+1,c++;this.elements=new Int32Array(c);let d=0;for(let r=l.start;r<l.endExclusive;r++){const s=o[r];for(let a=0;a<s.length;a++)this.elements[d+a]=s.charCodeAt(a);d+=s.length,r<o.length-1&&(this.elements[d]=`
`.charCodeAt(0),d+=1)}}getElement(o){return this.elements[o]}get length(){return this.elements.length}translateOffset(o){let l=0,c=this.firstCharOnLineOffsets.length;for(;l<c;){const r=Math.floor((l+c)/2);this.firstCharOnLineOffsets[r]>o?c=r:l=r+1}const d=l===0?0:this.firstCharOnLineOffsets[l-1];return new m.Position(l+1,o-d+1)}translateRange(o){return k.Range.fromPositions(this.translateOffset(o.start),this.translateOffset(o.endExclusive))}}}),define(se[424],re([1,0,422,423]),function(q,e,w,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.linesDiffComputers=void 0,e.linesDiffComputers={smart:new w.SmartLinesDiffComputer,experimental:new m.StandardLinesDiffComputer}}),define(se[239],re([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InternalEditorAction=void 0;class w{constructor(k,D,L,b,C,h){this.id=k,this.label=D,this.alias=L,this._precondition=b,this._run=C,this._contextKeyService=h}isSupported(){return this._contextKeyService.contextMatchesRules(this._precondition)}run(){return this.isSupported()?this._run():Promise.resolve(void 0)}}e.InternalEditorAction=w}),define(se[155],re([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorType=void 0,e.EditorType={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"}}),define(se[156],re([1,0,155]),function(q,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCodeEditor=e.isCompositeEditor=e.isDiffEditor=e.isCodeEditor=void 0;function m(b){return b&&typeof b.getEditorType=="function"?b.getEditorType()===w.EditorType.ICodeEditor:!1}e.isCodeEditor=m;function k(b){return b&&typeof b.getEditorType=="function"?b.getEditorType()===w.EditorType.IDiffEditor:!1}e.isDiffEditor=k;function D(b){return!!b&&typeof b=="object"&&typeof b.onDidChangeActiveEditor=="function"}e.isCompositeEditor=D;function L(b){return m(b)?b:k(b)?b.getModifiedEditor():D(b)&&m(b.activeCodeEditor)?b.activeCodeEditor:null}e.getCodeEditor=L}),define(se[425],re([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorTheme=void 0;class w{get type(){return this._theme.type}get value(){return this._theme}constructor(k){this._theme=k}update(k){this._theme=k}getColor(k){return this._theme.getColor(k)}}e.EditorTheme=w}),define(se[111],re([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenMetadata=void 0;class w{static getLanguageId(k){return(k&255)>>>0}static getTokenType(k){return(k&768)>>>8}static containsBalancedBrackets(k){return(k&1024)!==0}static getFontStyle(k){return(k&30720)>>>11}static getForeground(k){return(k&16744448)>>>15}static getBackground(k){return(k&4278190080)>>>24}static getClassNameFromMetadata(k){const D=this.getForeground(k);let L="mtk"+D;const b=this.getFontStyle(k);return b&1&&(L+=" mtki"),b&2&&(L+=" mtkb"),b&4&&(L+=" mtku"),b&8&&(L+=" mtks"),L}static getInlineStyleFromMetadata(k,D){const L=this.getForeground(k),b=this.getFontStyle(k);let C=`color: ${D[L]};`;b&1&&(C+="font-style: italic;"),b&2&&(C+="font-weight: bold;");let h="";return b&4&&(h+=" underline"),b&8&&(h+=" line-through"),h&&(C+=`text-decoration:${h};`),C}static getPresentationFromMetadata(k){const D=this.getForeground(k),L=this.getFontStyle(k);return{foreground:D,italic:Boolean(L&1),bold:Boolean(L&2),underline:Boolean(L&4),strikethrough:Boolean(L&8)}}}e.TokenMetadata=w}),define(se[100],re([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AutoClosingPairs=e.StandardAutoClosingPairConditional=e.IndentAction=void 0;var w;(function(L){L[L.None=0]="None",L[L.Indent=1]="Indent",L[L.IndentOutdent=2]="IndentOutdent",L[L.Outdent=3]="Outdent"})(w=e.IndentAction||(e.IndentAction={}));class m{constructor(b){if(this._neutralCharacter=null,this._neutralCharacterSearched=!1,this.open=b.open,this.close=b.close,this._inString=!0,this._inComment=!0,this._inRegEx=!0,Array.isArray(b.notIn))for(let C=0,h=b.notIn.length;C<h;C++)switch(b.notIn[C]){case"string":this._inString=!1;break;case"comment":this._inComment=!1;break;case"regex":this._inRegEx=!1;break}}isOK(b){switch(b){case 0:return!0;case 1:return this._inComment;case 2:return this._inString;case 3:return this._inRegEx}}shouldAutoClose(b,C){if(b.getTokenCount()===0)return!0;const h=b.findTokenIndexAtOffset(C-2),g=b.getStandardTokenType(h);return this.isOK(g)}_findNeutralCharacterInRange(b,C){for(let h=b;h<=C;h++){const g=String.fromCharCode(h);if(!this.open.includes(g)&&!this.close.includes(g))return g}return null}findNeutralCharacter(){return this._neutralCharacterSearched||(this._neutralCharacterSearched=!0,this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(48,57)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(97,122)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(65,90))),this._neutralCharacter}}e.StandardAutoClosingPairConditional=m;class k{constructor(b){this.autoClosingPairsOpenByStart=new Map,this.autoClosingPairsOpenByEnd=new Map,this.autoClosingPairsCloseByStart=new Map,this.autoClosingPairsCloseByEnd=new Map,this.autoClosingPairsCloseSingleChar=new Map;for(const C of b)D(this.autoClosingPairsOpenByStart,C.open.charAt(0),C),D(this.autoClosingPairsOpenByEnd,C.open.charAt(C.open.length-1),C),D(this.autoClosingPairsCloseByStart,C.close.charAt(0),C),D(this.autoClosingPairsCloseByEnd,C.close.charAt(C.close.length-1),C),C.close.length===1&&C.open.length===1&&D(this.autoClosingPairsCloseSingleChar,C.close,C)}}e.AutoClosingPairs=k;function D(L,b,C){L.has(b)?L.get(b).push(C):L.set(b,[C])}}),define(se[426],re([1,0,109]),function(q,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.computeLinks=e.LinkComputer=e.StateMachine=e.Uint8Matrix=void 0;class m{constructor(i,n,o){const l=new Uint8Array(i*n);for(let c=0,d=i*n;c<d;c++)l[c]=o;this._data=l,this.rows=i,this.cols=n}get(i,n){return this._data[i*this.cols+n]}set(i,n,o){this._data[i*this.cols+n]=o}}e.Uint8Matrix=m;class k{constructor(i){let n=0,o=0;for(let c=0,d=i.length;c<d;c++){const[r,s,a]=i[c];s>n&&(n=s),r>o&&(o=r),a>o&&(o=a)}n++,o++;const l=new m(o,n,0);for(let c=0,d=i.length;c<d;c++){const[r,s,a]=i[c];l.set(r,s,a)}this._states=l,this._maxCharCode=n}nextState(i,n){return n<0||n>=this._maxCharCode?0:this._states.get(i,n)}}e.StateMachine=k;let D=null;function L(){return D===null&&(D=new k([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),D}let b=null;function C(){if(b===null){b=new w.CharacterClassifier(0);const t=` 	<>'"\u3001\u3002\uFF61\uFF64\uFF0C\uFF0E\uFF1A\uFF1B\u2018\u3008\u300C\u300E\u3014\uFF08\uFF3B\uFF5B\uFF62\uFF63\uFF5D\uFF3D\uFF09\u3015\u300F\u300D\u3009\u2019\uFF40\uFF5E\u2026`;for(let n=0;n<t.length;n++)b.set(t.charCodeAt(n),1);const i=".,;:";for(let n=0;n<i.length;n++)b.set(i.charCodeAt(n),2)}return b}class h{static _createLink(i,n,o,l,c){let d=c-1;do{const r=n.charCodeAt(d);if(i.get(r)!==2)break;d--}while(d>l);if(l>0){const r=n.charCodeAt(l-1),s=n.charCodeAt(d);(r===40&&s===41||r===91&&s===93||r===123&&s===125)&&d--}return{range:{startLineNumber:o,startColumn:l+1,endLineNumber:o,endColumn:d+2},url:n.substring(l,d+1)}}static computeLinks(i,n=L()){const o=C(),l=[];for(let c=1,d=i.getLineCount();c<=d;c++){const r=i.getLineContent(c),s=r.length;let a=0,u=0,p=0,S=1,f=!1,v=!1,_=!1,y=!1;for(;a<s;){let E=!1;const T=r.charCodeAt(a);if(S===13){let I;switch(T){case 40:f=!0,I=0;break;case 41:I=f?0:1;break;case 91:_=!0,v=!0,I=0;break;case 93:_=!1,I=v?0:1;break;case 123:y=!0,I=0;break;case 125:I=y?0:1;break;case 39:I=p===39?1:0;break;case 34:I=p===34?1:0;break;case 96:I=p===96?1:0;break;case 42:I=p===42?1:0;break;case 124:I=p===124?1:0;break;case 32:I=_?0:1;break;default:I=o.get(T)}I===1&&(l.push(h._createLink(o,r,c,u,a)),E=!0)}else if(S===12){let I;T===91?(v=!0,I=0):I=o.get(T),I===1?E=!0:S=13}else S=n.nextState(S,T),S===0&&(E=!0);E&&(S=1,f=!1,v=!1,y=!1,u=a+1,p=T),a++}S===13&&l.push(h._createLink(o,r,c,u,s))}return l}}e.LinkComputer=h;function g(t){return!t||typeof t.getLineCount!="function"||typeof t.getLineContent!="function"?[]:h.computeLinks(t)}e.computeLinks=g}),define(se[112],re([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ignoreBracketsInToken=e.ScopedLineTokens=e.createScopedLineTokens=void 0;function w(D,L){const b=D.getCount(),C=D.findTokenIndexAtOffset(L),h=D.getLanguageId(C);let g=C;for(;g+1<b&&D.getLanguageId(g+1)===h;)g++;let t=C;for(;t>0&&D.getLanguageId(t-1)===h;)t--;return new m(D,h,t,g+1,D.getStartOffset(t),D.getEndOffset(g))}e.createScopedLineTokens=w;class m{constructor(L,b,C,h,g,t){this._scopedLineTokensBrand=void 0,this._actual=L,this.languageId=b,this._firstTokenIndex=C,this._lastTokenIndex=h,this.firstCharOffset=g,this._lastCharOffset=t}getLineContent(){return this._actual.getLineContent().substring(this.firstCharOffset,this._lastCharOffset)}getActualLineContentBefore(L){return this._actual.getLineContent().substring(0,this.firstCharOffset+L)}getTokenCount(){return this._lastTokenIndex-this._firstTokenIndex}findTokenIndexAtOffset(L){return this._actual.findTokenIndexAtOffset(L+this.firstCharOffset)-this._firstTokenIndex}getStandardTokenType(L){return this._actual.getStandardTokenType(L+this._firstTokenIndex)}}e.ScopedLineTokens=m;function k(D){return(D&3)!==0}e.ignoreBracketsInToken=k}),define(se[64],re([1,0,11,3,24,112,70,183]),function(q,e,w,m,k,D,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isQuote=e.EditOperationResult=e.SingleCursorState=e.PartialViewCursorState=e.PartialModelCursorState=e.CursorState=e.CursorConfiguration=void 0;const C=()=>!0,h=()=>!1,g=r=>r===" "||r==="	";class t{static shouldRecreate(s){return s.hasChanged(133)||s.hasChanged(119)||s.hasChanged(33)||s.hasChanged(70)||s.hasChanged(72)||s.hasChanged(5)||s.hasChanged(8)||s.hasChanged(6)||s.hasChanged(7)||s.hasChanged(11)||s.hasChanged(118)||s.hasChanged(60)||s.hasChanged(82)}constructor(s,a,u,p){this.languageConfigurationService=p,this._cursorMoveConfigurationBrand=void 0,this._languageId=s;const S=u.options,f=S.get(133);this.readOnly=S.get(82),this.tabSize=a.tabSize,this.indentSize=a.indentSize,this.insertSpaces=a.insertSpaces,this.stickyTabStops=S.get(106),this.lineHeight=S.get(60),this.pageSize=Math.max(1,Math.floor(f.height/this.lineHeight)-2),this.useTabStops=S.get(118),this.wordSeparators=S.get(119),this.emptySelectionClipboard=S.get(33),this.copyWithSyntaxHighlighting=S.get(21),this.multiCursorMergeOverlapping=S.get(70),this.multiCursorPaste=S.get(72),this.autoClosingBrackets=S.get(5),this.autoClosingQuotes=S.get(8),this.autoClosingDelete=S.get(6),this.autoClosingOvertype=S.get(7),this.autoSurround=S.get(11),this.autoIndent=S.get(9),this.surroundingPairs={},this._electricChars=null,this.shouldAutoCloseBefore={quote:this._getShouldAutoClose(s,this.autoClosingQuotes),bracket:this._getShouldAutoClose(s,this.autoClosingBrackets)},this.autoClosingPairs=this.languageConfigurationService.getLanguageConfiguration(s).getAutoClosingPairs();const v=this.languageConfigurationService.getLanguageConfiguration(s).getSurroundingPairs();if(v)for(const _ of v)this.surroundingPairs[_.open]=_.close}get electricChars(){var s;if(!this._electricChars){this._electricChars={};const a=(s=this.languageConfigurationService.getLanguageConfiguration(this._languageId).electricCharacter)===null||s===void 0?void 0:s.getElectricCharacters();if(a)for(const u of a)this._electricChars[u]=!0}return this._electricChars}onElectricCharacter(s,a,u){const p=(0,D.createScopedLineTokens)(a,u-1),S=this.languageConfigurationService.getLanguageConfiguration(p.languageId).electricCharacter;return S?S.onElectricCharacter(s,p,u-p.firstCharOffset):null}normalizeIndentation(s){return(0,b.normalizeIndentation)(s,this.indentSize,this.insertSpaces)}_getShouldAutoClose(s,a){switch(a){case"beforeWhitespace":return g;case"languageDefined":return this._getLanguageDefinedShouldAutoClose(s);case"always":return C;case"never":return h}}_getLanguageDefinedShouldAutoClose(s){const a=this.languageConfigurationService.getLanguageConfiguration(s).getAutoCloseBeforeSet();return u=>a.indexOf(u)!==-1}visibleColumnFromColumn(s,a){return L.CursorColumns.visibleColumnFromColumn(s.getLineContent(a.lineNumber),a.column,this.tabSize)}columnFromVisibleColumn(s,a,u){const p=L.CursorColumns.columnFromVisibleColumn(s.getLineContent(a),u,this.tabSize),S=s.getLineMinColumn(a);if(p<S)return S;const f=s.getLineMaxColumn(a);return p>f?f:p}}e.CursorConfiguration=t;class i{static fromModelState(s){return new n(s)}static fromViewState(s){return new o(s)}static fromModelSelection(s){const a=k.Selection.liftSelection(s),u=new l(m.Range.fromPositions(a.getSelectionStart()),0,a.getPosition(),0);return i.fromModelState(u)}static fromModelSelections(s){const a=[];for(let u=0,p=s.length;u<p;u++)a[u]=this.fromModelSelection(s[u]);return a}constructor(s,a){this._cursorStateBrand=void 0,this.modelState=s,this.viewState=a}equals(s){return this.viewState.equals(s.viewState)&&this.modelState.equals(s.modelState)}}e.CursorState=i;class n{constructor(s){this.modelState=s,this.viewState=null}}e.PartialModelCursorState=n;class o{constructor(s){this.modelState=null,this.viewState=s}}e.PartialViewCursorState=o;class l{constructor(s,a,u,p){this._singleCursorStateBrand=void 0,this.selectionStart=s,this.selectionStartLeftoverVisibleColumns=a,this.position=u,this.leftoverVisibleColumns=p,this.selection=l._computeSelection(this.selectionStart,this.position)}equals(s){return this.selectionStartLeftoverVisibleColumns===s.selectionStartLeftoverVisibleColumns&&this.leftoverVisibleColumns===s.leftoverVisibleColumns&&this.position.equals(s.position)&&this.selectionStart.equalsRange(s.selectionStart)}hasSelection(){return!this.selection.isEmpty()||!this.selectionStart.isEmpty()}move(s,a,u,p){return s?new l(this.selectionStart,this.selectionStartLeftoverVisibleColumns,new w.Position(a,u),p):new l(new m.Range(a,u,a,u),p,new w.Position(a,u),p)}static _computeSelection(s,a){return s.isEmpty()||!a.isBeforeOrEqual(s.getStartPosition())?k.Selection.fromPositions(s.getStartPosition(),a):k.Selection.fromPositions(s.getEndPosition(),a)}}e.SingleCursorState=l;class c{constructor(s,a,u){this._editOperationResultBrand=void 0,this.type=s,this.commands=a,this.shouldPushStackElementBefore=u.shouldPushStackElementBefore,this.shouldPushStackElementAfter=u.shouldPushStackElementAfter}}e.EditOperationResult=c;function d(r){return r==="'"||r==='"'||r==="`"}e.isQuote=d}),define(se[427],re([1,0,64,11,3]),function(q,e,w,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColumnSelection=void 0;class D{static columnSelect(b,C,h,g,t,i){const n=Math.abs(t-h)+1,o=h>t,l=g>i,c=g<i,d=[];for(let r=0;r<n;r++){const s=h+(o?-r:r),a=b.columnFromVisibleColumn(C,s,g),u=b.columnFromVisibleColumn(C,s,i),p=b.visibleColumnFromColumn(C,new m.Position(s,a)),S=b.visibleColumnFromColumn(C,new m.Position(s,u));c&&(p>i||S<g)||l&&(S>g||p<i)||d.push(new w.SingleCursorState(new k.Range(s,a,s,a),0,new m.Position(s,u),0))}if(d.length===0)for(let r=0;r<n;r++){const s=h+(o?-r:r),a=C.getLineMaxColumn(s);d.push(new w.SingleCursorState(new k.Range(s,a,s,a),0,new m.Position(s,a),0))}return{viewStates:d,reversed:o,fromLineNumber:h,fromVisualColumn:g,toLineNumber:t,toVisualColumn:i}}static columnSelectLeft(b,C,h){let g=h.toViewVisualColumn;return g>0&&g--,D.columnSelect(b,C,h.fromViewLineNumber,h.fromViewVisualColumn,h.toViewLineNumber,g)}static columnSelectRight(b,C,h){let g=0;const t=Math.min(h.fromViewLineNumber,h.toViewLineNumber),i=Math.max(h.fromViewLineNumber,h.toViewLineNumber);for(let o=t;o<=i;o++){const l=C.getLineMaxColumn(o),c=b.visibleColumnFromColumn(C,new m.Position(o,l));g=Math.max(g,c)}let n=h.toViewVisualColumn;return n<g&&n++,this.columnSelect(b,C,h.fromViewLineNumber,h.fromViewVisualColumn,h.toViewLineNumber,n)}static columnSelectUp(b,C,h,g){const t=g?b.pageSize:1,i=Math.max(1,h.toViewLineNumber-t);return this.columnSelect(b,C,h.fromViewLineNumber,h.fromViewVisualColumn,i,h.toViewVisualColumn)}static columnSelectDown(b,C,h,g){const t=g?b.pageSize:1,i=Math.min(C.getLineCount(),h.toViewLineNumber+t);return this.columnSelect(b,C,h.fromViewLineNumber,h.fromViewVisualColumn,i,h.toViewVisualColumn)}}e.ColumnSelection=D}),define(se[186],re([1,0,64,70,11,3,8,238]),function(q,e,w,m,k,D,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MoveOperations=e.CursorPosition=void 0;class C{constructor(t,i,n){this._cursorPositionBrand=void 0,this.lineNumber=t,this.column=i,this.leftoverVisibleColumns=n}}e.CursorPosition=C;class h{static leftPosition(t,i){if(i.column>t.getLineMinColumn(i.lineNumber))return i.delta(void 0,-L.prevCharLength(t.getLineContent(i.lineNumber),i.column-1));if(i.lineNumber>1){const n=i.lineNumber-1;return new k.Position(n,t.getLineMaxColumn(n))}else return i}static leftPositionAtomicSoftTabs(t,i,n){if(i.column<=t.getLineIndentColumn(i.lineNumber)){const o=t.getLineMinColumn(i.lineNumber),l=t.getLineContent(i.lineNumber),c=b.AtomicTabMoveOperations.atomicPosition(l,i.column-1,n,0);if(c!==-1&&c+1>=o)return new k.Position(i.lineNumber,c+1)}return this.leftPosition(t,i)}static left(t,i,n){const o=t.stickyTabStops?h.leftPositionAtomicSoftTabs(i,n,t.tabSize):h.leftPosition(i,n);return new C(o.lineNumber,o.column,0)}static moveLeft(t,i,n,o,l){let c,d;if(n.hasSelection()&&!o)c=n.selection.startLineNumber,d=n.selection.startColumn;else{const r=n.position.delta(void 0,-(l-1)),s=i.normalizePosition(h.clipPositionColumn(r,i),0),a=h.left(t,i,s);c=a.lineNumber,d=a.column}return n.move(o,c,d,0)}static clipPositionColumn(t,i){return new k.Position(t.lineNumber,h.clipRange(t.column,i.getLineMinColumn(t.lineNumber),i.getLineMaxColumn(t.lineNumber)))}static clipRange(t,i,n){return t<i?i:t>n?n:t}static rightPosition(t,i,n){return n<t.getLineMaxColumn(i)?n=n+L.nextCharLength(t.getLineContent(i),n-1):i<t.getLineCount()&&(i=i+1,n=t.getLineMinColumn(i)),new k.Position(i,n)}static rightPositionAtomicSoftTabs(t,i,n,o,l){if(n<t.getLineIndentColumn(i)){const c=t.getLineContent(i),d=b.AtomicTabMoveOperations.atomicPosition(c,n-1,o,1);if(d!==-1)return new k.Position(i,d+1)}return this.rightPosition(t,i,n)}static right(t,i,n){const o=t.stickyTabStops?h.rightPositionAtomicSoftTabs(i,n.lineNumber,n.column,t.tabSize,t.indentSize):h.rightPosition(i,n.lineNumber,n.column);return new C(o.lineNumber,o.column,0)}static moveRight(t,i,n,o,l){let c,d;if(n.hasSelection()&&!o)c=n.selection.endLineNumber,d=n.selection.endColumn;else{const r=n.position.delta(void 0,l-1),s=i.normalizePosition(h.clipPositionColumn(r,i),1),a=h.right(t,i,s);c=a.lineNumber,d=a.column}return n.move(o,c,d,0)}static vertical(t,i,n,o,l,c,d,r){const s=m.CursorColumns.visibleColumnFromColumn(i.getLineContent(n),o,t.tabSize)+l,a=i.getLineCount(),u=n===1&&o===1,p=n===a&&o===i.getLineMaxColumn(n),S=c<n?u:p;if(n=c,n<1?(n=1,d?o=i.getLineMinColumn(n):o=Math.min(i.getLineMaxColumn(n),o)):n>a?(n=a,d?o=i.getLineMaxColumn(n):o=Math.min(i.getLineMaxColumn(n),o)):o=t.columnFromVisibleColumn(i,n,s),S?l=0:l=s-m.CursorColumns.visibleColumnFromColumn(i.getLineContent(n),o,t.tabSize),r!==void 0){const f=new k.Position(n,o),v=i.normalizePosition(f,r);l=l+(o-v.column),n=v.lineNumber,o=v.column}return new C(n,o,l)}static down(t,i,n,o,l,c,d){return this.vertical(t,i,n,o,l,n+c,d,4)}static moveDown(t,i,n,o,l){let c,d;n.hasSelection()&&!o?(c=n.selection.endLineNumber,d=n.selection.endColumn):(c=n.position.lineNumber,d=n.position.column);const r=h.down(t,i,c,d,n.leftoverVisibleColumns,l,!0);return n.move(o,r.lineNumber,r.column,r.leftoverVisibleColumns)}static translateDown(t,i,n){const o=n.selection,l=h.down(t,i,o.selectionStartLineNumber,o.selectionStartColumn,n.selectionStartLeftoverVisibleColumns,1,!1),c=h.down(t,i,o.positionLineNumber,o.positionColumn,n.leftoverVisibleColumns,1,!1);return new w.SingleCursorState(new D.Range(l.lineNumber,l.column,l.lineNumber,l.column),l.leftoverVisibleColumns,new k.Position(c.lineNumber,c.column),c.leftoverVisibleColumns)}static up(t,i,n,o,l,c,d){return this.vertical(t,i,n,o,l,n-c,d,3)}static moveUp(t,i,n,o,l){let c,d;n.hasSelection()&&!o?(c=n.selection.startLineNumber,d=n.selection.startColumn):(c=n.position.lineNumber,d=n.position.column);const r=h.up(t,i,c,d,n.leftoverVisibleColumns,l,!0);return n.move(o,r.lineNumber,r.column,r.leftoverVisibleColumns)}static translateUp(t,i,n){const o=n.selection,l=h.up(t,i,o.selectionStartLineNumber,o.selectionStartColumn,n.selectionStartLeftoverVisibleColumns,1,!1),c=h.up(t,i,o.positionLineNumber,o.positionColumn,n.leftoverVisibleColumns,1,!1);return new w.SingleCursorState(new D.Range(l.lineNumber,l.column,l.lineNumber,l.column),l.leftoverVisibleColumns,new k.Position(c.lineNumber,c.column),c.leftoverVisibleColumns)}static _isBlankLine(t,i){return t.getLineFirstNonWhitespaceColumn(i)===0}static moveToPrevBlankLine(t,i,n,o){let l=n.position.lineNumber;for(;l>1&&this._isBlankLine(i,l);)l--;for(;l>1&&!this._isBlankLine(i,l);)l--;return n.move(o,l,i.getLineMinColumn(l),0)}static moveToNextBlankLine(t,i,n,o){const l=i.getLineCount();let c=n.position.lineNumber;for(;c<l&&this._isBlankLine(i,c);)c++;for(;c<l&&!this._isBlankLine(i,c);)c++;return n.move(o,c,i.getLineMinColumn(c),0)}static moveToBeginningOfLine(t,i,n,o){const l=n.position.lineNumber,c=i.getLineMinColumn(l),d=i.getLineFirstNonWhitespaceColumn(l)||c;let r;return n.position.column===d?r=c:r=d,n.move(o,l,r,0)}static moveToEndOfLine(t,i,n,o,l){const c=n.position.lineNumber,d=i.getLineMaxColumn(c);return n.move(o,c,d,l?1073741824-d:0)}static moveToBeginningOfBuffer(t,i,n,o){return n.move(o,1,1,0)}static moveToEndOfBuffer(t,i,n,o){const l=i.getLineCount(),c=i.getLineMaxColumn(l);return n.move(o,l,c,0)}}e.MoveOperations=h}),define(se[187],re([1,0,8,110,64,70,186,3,11]),function(q,e,w,m,k,D,L,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DeleteOperations=void 0;class h{static deleteRight(t,i,n,o){const l=[];let c=t!==3;for(let d=0,r=o.length;d<r;d++){const s=o[d];let a=s;if(a.isEmpty()){const u=s.getPosition(),p=L.MoveOperations.right(i,n,u);a=new b.Range(p.lineNumber,p.column,u.lineNumber,u.column)}if(a.isEmpty()){l[d]=null;continue}a.startLineNumber!==a.endLineNumber&&(c=!0),l[d]=new m.ReplaceCommand(a,"")}return[c,l]}static isAutoClosingPairDelete(t,i,n,o,l,c,d){if(i==="never"&&n==="never"||t==="never")return!1;for(let r=0,s=c.length;r<s;r++){const a=c[r],u=a.getPosition();if(!a.isEmpty())return!1;const p=l.getLineContent(u.lineNumber);if(u.column<2||u.column>=p.length+1)return!1;const S=p.charAt(u.column-2),f=o.get(S);if(!f)return!1;if((0,k.isQuote)(S)){if(n==="never")return!1}else if(i==="never")return!1;const v=p.charAt(u.column-1);let _=!1;for(const y of f)y.open===S&&y.close===v&&(_=!0);if(!_)return!1;if(t==="auto"){let y=!1;for(let E=0,T=d.length;E<T;E++){const I=d[E];if(u.lineNumber===I.startLineNumber&&u.column===I.startColumn){y=!0;break}}if(!y)return!1}}return!0}static _runAutoClosingPairDelete(t,i,n){const o=[];for(let l=0,c=n.length;l<c;l++){const d=n[l].getPosition(),r=new b.Range(d.lineNumber,d.column-1,d.lineNumber,d.column+1);o[l]=new m.ReplaceCommand(r,"")}return[!0,o]}static deleteLeft(t,i,n,o,l){if(this.isAutoClosingPairDelete(i.autoClosingDelete,i.autoClosingBrackets,i.autoClosingQuotes,i.autoClosingPairs.autoClosingPairsOpenByEnd,n,o,l))return this._runAutoClosingPairDelete(i,n,o);const c=[];let d=t!==2;for(let r=0,s=o.length;r<s;r++){const a=h.getDeleteRange(o[r],n,i);if(a.isEmpty()){c[r]=null;continue}a.startLineNumber!==a.endLineNumber&&(d=!0),c[r]=new m.ReplaceCommand(a,"")}return[d,c]}static getDeleteRange(t,i,n){if(!t.isEmpty())return t;const o=t.getPosition();if(n.useTabStops&&o.column>1){const l=i.getLineContent(o.lineNumber),c=w.firstNonWhitespaceIndex(l),d=c===-1?l.length+1:c+1;if(o.column<=d){const r=n.visibleColumnFromColumn(i,o),s=D.CursorColumns.prevIndentTabStop(r,n.indentSize),a=n.columnFromVisibleColumn(i,o.lineNumber,s);return new b.Range(o.lineNumber,a,o.lineNumber,o.column)}}return b.Range.fromPositions(h.getPositionAfterDeleteLeft(o,i),o)}static getPositionAfterDeleteLeft(t,i){if(t.column>1){const n=w.getLeftDeleteOffset(t.column-1,i.getLineContent(t.lineNumber));return t.with(void 0,n+1)}else if(t.lineNumber>1){const n=t.lineNumber-1;return new C.Position(n,i.getLineMaxColumn(n))}else return t}static cut(t,i,n){const o=[];let l=null;n.sort((c,d)=>C.Position.compare(c.getStartPosition(),d.getEndPosition()));for(let c=0,d=n.length;c<d;c++){const r=n[c];if(r.isEmpty())if(t.emptySelectionClipboard){const s=r.getPosition();let a,u,p,S;s.lineNumber<i.getLineCount()?(a=s.lineNumber,u=1,p=s.lineNumber+1,S=1):s.lineNumber>1&&l?.endLineNumber!==s.lineNumber?(a=s.lineNumber-1,u=i.getLineMaxColumn(s.lineNumber-1),p=s.lineNumber,S=i.getLineMaxColumn(s.lineNumber)):(a=s.lineNumber,u=1,p=s.lineNumber,S=i.getLineMaxColumn(s.lineNumber));const f=new b.Range(a,u,p,S);l=f,f.isEmpty()?o[c]=null:o[c]=new m.ReplaceCommand(f,"")}else o[c]=null;else o[c]=new m.ReplaceCommand(r,"")}return new k.EditOperationResult(0,o,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}}e.DeleteOperations=h}),define(se[157],re([1,0,8,64,187,131,11,3]),function(q,e,w,m,k,D,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordPartOperations=e.WordOperations=void 0;class C{static _createWord(i,n,o,l,c){return{start:l,end:c,wordType:n,nextCharClass:o}}static _findPreviousWordOnLine(i,n,o){const l=n.getLineContent(o.lineNumber);return this._doFindPreviousWordOnLine(l,i,o)}static _doFindPreviousWordOnLine(i,n,o){let l=0;for(let c=o.column-2;c>=0;c--){const d=i.charCodeAt(c),r=n.get(d);if(r===0){if(l===2)return this._createWord(i,l,r,c+1,this._findEndOfWord(i,n,l,c+1));l=1}else if(r===2){if(l===1)return this._createWord(i,l,r,c+1,this._findEndOfWord(i,n,l,c+1));l=2}else if(r===1&&l!==0)return this._createWord(i,l,r,c+1,this._findEndOfWord(i,n,l,c+1))}return l!==0?this._createWord(i,l,1,0,this._findEndOfWord(i,n,l,0)):null}static _findEndOfWord(i,n,o,l){const c=i.length;for(let d=l;d<c;d++){const r=i.charCodeAt(d),s=n.get(r);if(s===1||o===1&&s===2||o===2&&s===0)return d}return c}static _findNextWordOnLine(i,n,o){const l=n.getLineContent(o.lineNumber);return this._doFindNextWordOnLine(l,i,o)}static _doFindNextWordOnLine(i,n,o){let l=0;const c=i.length;for(let d=o.column-1;d<c;d++){const r=i.charCodeAt(d),s=n.get(r);if(s===0){if(l===2)return this._createWord(i,l,s,this._findStartOfWord(i,n,l,d-1),d);l=1}else if(s===2){if(l===1)return this._createWord(i,l,s,this._findStartOfWord(i,n,l,d-1),d);l=2}else if(s===1&&l!==0)return this._createWord(i,l,s,this._findStartOfWord(i,n,l,d-1),d)}return l!==0?this._createWord(i,l,1,this._findStartOfWord(i,n,l,c-1),c):null}static _findStartOfWord(i,n,o,l){for(let c=l;c>=0;c--){const d=i.charCodeAt(c),r=n.get(d);if(r===1||o===1&&r===2||o===2&&r===0)return c+1}return 0}static moveWordLeft(i,n,o,l){let c=o.lineNumber,d=o.column;d===1&&c>1&&(c=c-1,d=n.getLineMaxColumn(c));let r=C._findPreviousWordOnLine(i,n,new L.Position(c,d));if(l===0)return new L.Position(c,r?r.start+1:1);if(l===1)return r&&r.wordType===2&&r.end-r.start===1&&r.nextCharClass===0&&(r=C._findPreviousWordOnLine(i,n,new L.Position(c,r.start+1))),new L.Position(c,r?r.start+1:1);if(l===3){for(;r&&r.wordType===2;)r=C._findPreviousWordOnLine(i,n,new L.Position(c,r.start+1));return new L.Position(c,r?r.start+1:1)}return r&&d<=r.end+1&&(r=C._findPreviousWordOnLine(i,n,new L.Position(c,r.start+1))),new L.Position(c,r?r.end+1:1)}static _moveWordPartLeft(i,n){const o=n.lineNumber,l=i.getLineMaxColumn(o);if(n.column===1)return o>1?new L.Position(o-1,i.getLineMaxColumn(o-1)):n;const c=i.getLineContent(o);for(let d=n.column-1;d>1;d--){const r=c.charCodeAt(d-2),s=c.charCodeAt(d-1);if(r===95&&s!==95)return new L.Position(o,d);if((w.isLowerAsciiLetter(r)||w.isAsciiDigit(r))&&w.isUpperAsciiLetter(s))return new L.Position(o,d);if(w.isUpperAsciiLetter(r)&&w.isUpperAsciiLetter(s)&&d+1<l){const a=c.charCodeAt(d);if(w.isLowerAsciiLetter(a)||w.isAsciiDigit(a))return new L.Position(o,d)}}return new L.Position(o,1)}static moveWordRight(i,n,o,l){let c=o.lineNumber,d=o.column,r=!1;d===n.getLineMaxColumn(c)&&c<n.getLineCount()&&(r=!0,c=c+1,d=1);let s=C._findNextWordOnLine(i,n,new L.Position(c,d));if(l===2)s&&s.wordType===2&&s.end-s.start===1&&s.nextCharClass===0&&(s=C._findNextWordOnLine(i,n,new L.Position(c,s.end+1))),s?d=s.end+1:d=n.getLineMaxColumn(c);else if(l===3){for(r&&(d=0);s&&(s.wordType===2||s.start+1<=d);)s=C._findNextWordOnLine(i,n,new L.Position(c,s.end+1));s?d=s.start+1:d=n.getLineMaxColumn(c)}else s&&!r&&d>=s.start+1&&(s=C._findNextWordOnLine(i,n,new L.Position(c,s.end+1))),s?d=s.start+1:d=n.getLineMaxColumn(c);return new L.Position(c,d)}static _moveWordPartRight(i,n){const o=n.lineNumber,l=i.getLineMaxColumn(o);if(n.column===l)return o<i.getLineCount()?new L.Position(o+1,1):n;const c=i.getLineContent(o);for(let d=n.column+1;d<l;d++){const r=c.charCodeAt(d-2),s=c.charCodeAt(d-1);if(r!==95&&s===95)return new L.Position(o,d);if((w.isLowerAsciiLetter(r)||w.isAsciiDigit(r))&&w.isUpperAsciiLetter(s))return new L.Position(o,d);if(w.isUpperAsciiLetter(r)&&w.isUpperAsciiLetter(s)&&d+1<l){const a=c.charCodeAt(d);if(w.isLowerAsciiLetter(a)||w.isAsciiDigit(a))return new L.Position(o,d)}}return new L.Position(o,l)}static _deleteWordLeftWhitespace(i,n){const o=i.getLineContent(n.lineNumber),l=n.column-2,c=w.lastNonWhitespaceIndex(o,l);return c+1<l?new b.Range(n.lineNumber,c+2,n.lineNumber,n.column):null}static deleteWordLeft(i,n){const o=i.wordSeparators,l=i.model,c=i.selection,d=i.whitespaceHeuristics;if(!c.isEmpty())return c;if(k.DeleteOperations.isAutoClosingPairDelete(i.autoClosingDelete,i.autoClosingBrackets,i.autoClosingQuotes,i.autoClosingPairs.autoClosingPairsOpenByEnd,i.model,[i.selection],i.autoClosedCharacters)){const p=i.selection.getPosition();return new b.Range(p.lineNumber,p.column-1,p.lineNumber,p.column+1)}const r=new L.Position(c.positionLineNumber,c.positionColumn);let s=r.lineNumber,a=r.column;if(s===1&&a===1)return null;if(d){const p=this._deleteWordLeftWhitespace(l,r);if(p)return p}let u=C._findPreviousWordOnLine(o,l,r);return n===0?u?a=u.start+1:a>1?a=1:(s--,a=l.getLineMaxColumn(s)):(u&&a<=u.end+1&&(u=C._findPreviousWordOnLine(o,l,new L.Position(s,u.start+1))),u?a=u.end+1:a>1?a=1:(s--,a=l.getLineMaxColumn(s))),new b.Range(s,a,r.lineNumber,r.column)}static deleteInsideWord(i,n,o){if(!o.isEmpty())return o;const l=new L.Position(o.positionLineNumber,o.positionColumn),c=this._deleteInsideWordWhitespace(n,l);return c||this._deleteInsideWordDetermineDeleteRange(i,n,l)}static _charAtIsWhitespace(i,n){const o=i.charCodeAt(n);return o===32||o===9}static _deleteInsideWordWhitespace(i,n){const o=i.getLineContent(n.lineNumber),l=o.length;if(l===0)return null;let c=Math.max(n.column-2,0);if(!this._charAtIsWhitespace(o,c))return null;let d=Math.min(n.column-1,l-1);if(!this._charAtIsWhitespace(o,d))return null;for(;c>0&&this._charAtIsWhitespace(o,c-1);)c--;for(;d+1<l&&this._charAtIsWhitespace(o,d+1);)d++;return new b.Range(n.lineNumber,c+1,n.lineNumber,d+2)}static _deleteInsideWordDetermineDeleteRange(i,n,o){const l=n.getLineContent(o.lineNumber),c=l.length;if(c===0)return o.lineNumber>1?new b.Range(o.lineNumber-1,n.getLineMaxColumn(o.lineNumber-1),o.lineNumber,1):o.lineNumber<n.getLineCount()?new b.Range(o.lineNumber,1,o.lineNumber+1,1):new b.Range(o.lineNumber,1,o.lineNumber,1);const d=p=>p.start+1<=o.column&&o.column<=p.end+1,r=(p,S)=>(p=Math.min(p,o.column),S=Math.max(S,o.column),new b.Range(o.lineNumber,p,o.lineNumber,S)),s=p=>{let S=p.start+1,f=p.end+1,v=!1;for(;f-1<c&&this._charAtIsWhitespace(l,f-1);)v=!0,f++;if(!v)for(;S>1&&this._charAtIsWhitespace(l,S-2);)S--;return r(S,f)},a=C._findPreviousWordOnLine(i,n,o);if(a&&d(a))return s(a);const u=C._findNextWordOnLine(i,n,o);return u&&d(u)?s(u):a&&u?r(a.end+1,u.start+1):a?r(a.start+1,a.end+1):u?r(u.start+1,u.end+1):r(1,c+1)}static _deleteWordPartLeft(i,n){if(!n.isEmpty())return n;const o=n.getPosition(),l=C._moveWordPartLeft(i,o);return new b.Range(o.lineNumber,o.column,l.lineNumber,l.column)}static _findFirstNonWhitespaceChar(i,n){const o=i.length;for(let l=n;l<o;l++){const c=i.charAt(l);if(c!==" "&&c!=="	")return l}return o}static _deleteWordRightWhitespace(i,n){const o=i.getLineContent(n.lineNumber),l=n.column-1,c=this._findFirstNonWhitespaceChar(o,l);return l+1<c?new b.Range(n.lineNumber,n.column,n.lineNumber,c+1):null}static deleteWordRight(i,n){const o=i.wordSeparators,l=i.model,c=i.selection,d=i.whitespaceHeuristics;if(!c.isEmpty())return c;const r=new L.Position(c.positionLineNumber,c.positionColumn);let s=r.lineNumber,a=r.column;const u=l.getLineCount(),p=l.getLineMaxColumn(s);if(s===u&&a===p)return null;if(d){const f=this._deleteWordRightWhitespace(l,r);if(f)return f}let S=C._findNextWordOnLine(o,l,r);return n===2?S?a=S.end+1:a<p||s===u?a=p:(s++,S=C._findNextWordOnLine(o,l,new L.Position(s,1)),S?a=S.start+1:a=l.getLineMaxColumn(s)):(S&&a>=S.start+1&&(S=C._findNextWordOnLine(o,l,new L.Position(s,S.end+1))),S?a=S.start+1:a<p||s===u?a=p:(s++,S=C._findNextWordOnLine(o,l,new L.Position(s,1)),S?a=S.start+1:a=l.getLineMaxColumn(s))),new b.Range(s,a,r.lineNumber,r.column)}static _deleteWordPartRight(i,n){if(!n.isEmpty())return n;const o=n.getPosition(),l=C._moveWordPartRight(i,o);return new b.Range(o.lineNumber,o.column,l.lineNumber,l.column)}static _createWordAtPosition(i,n,o){const l=new b.Range(n,o.start+1,n,o.end+1);return{word:i.getValueInRange(l),startColumn:l.startColumn,endColumn:l.endColumn}}static getWordAtPosition(i,n,o){const l=(0,D.getMapForWordSeparators)(n),c=C._findPreviousWordOnLine(l,i,o);if(c&&c.wordType===1&&c.start<=o.column-1&&o.column-1<=c.end)return C._createWordAtPosition(i,o.lineNumber,c);const d=C._findNextWordOnLine(l,i,o);return d&&d.wordType===1&&d.start<=o.column-1&&o.column-1<=d.end?C._createWordAtPosition(i,o.lineNumber,d):null}static word(i,n,o,l,c){const d=(0,D.getMapForWordSeparators)(i.wordSeparators),r=C._findPreviousWordOnLine(d,n,c),s=C._findNextWordOnLine(d,n,c);if(!l){let f,v;return r&&r.wordType===1&&r.start<=c.column-1&&c.column-1<=r.end?(f=r.start+1,v=r.end+1):s&&s.wordType===1&&s.start<=c.column-1&&c.column-1<=s.end?(f=s.start+1,v=s.end+1):(r?f=r.end+1:f=1,s?v=s.start+1:v=n.getLineMaxColumn(c.lineNumber)),new m.SingleCursorState(new b.Range(c.lineNumber,f,c.lineNumber,v),0,new L.Position(c.lineNumber,v),0)}let a,u;r&&r.wordType===1&&r.start<c.column-1&&c.column-1<r.end?(a=r.start+1,u=r.end+1):s&&s.wordType===1&&s.start<c.column-1&&c.column-1<s.end?(a=s.start+1,u=s.end+1):(a=c.column,u=c.column);const p=c.lineNumber;let S;if(o.selectionStart.containsPosition(c))S=o.selectionStart.endColumn;else if(c.isBeforeOrEqual(o.selectionStart.getStartPosition())){S=a;const f=new L.Position(p,S);o.selectionStart.containsPosition(f)&&(S=o.selectionStart.endColumn)}else{S=u;const f=new L.Position(p,S);o.selectionStart.containsPosition(f)&&(S=o.selectionStart.startColumn)}return o.move(!0,p,S,0)}}e.WordOperations=C;class h extends C{static deleteWordPartLeft(i){const n=g([C.deleteWordLeft(i,0),C.deleteWordLeft(i,2),C._deleteWordPartLeft(i.model,i.selection)]);return n.sort(b.Range.compareRangesUsingEnds),n[2]}static deleteWordPartRight(i){const n=g([C.deleteWordRight(i,0),C.deleteWordRight(i,2),C._deleteWordPartRight(i.model,i.selection)]);return n.sort(b.Range.compareRangesUsingStarts),n[0]}static moveWordPartLeft(i,n,o){const l=g([C.moveWordLeft(i,n,o,0),C.moveWordLeft(i,n,o,2),C._moveWordPartLeft(n,o)]);return l.sort(L.Position.compare),l[2]}static moveWordPartRight(i,n,o){const l=g([C.moveWordRight(i,n,o,0),C.moveWordRight(i,n,o,2),C._moveWordPartRight(n,o)]);return l.sort(L.Position.compare),l[0]}}e.WordPartOperations=h;function g(t){return t.filter(i=>Boolean(i))}}),define(se[188],re([1,0,19,64,186,157,11,3]),function(q,e,w,m,k,D,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorMove=e.CursorMoveCommands=void 0;class C{static addCursorDown(t,i,n){const o=[];let l=0;for(let c=0,d=i.length;c<d;c++){const r=i[c];o[l++]=new m.CursorState(r.modelState,r.viewState),n?o[l++]=m.CursorState.fromModelState(k.MoveOperations.translateDown(t.cursorConfig,t.model,r.modelState)):o[l++]=m.CursorState.fromViewState(k.MoveOperations.translateDown(t.cursorConfig,t,r.viewState))}return o}static addCursorUp(t,i,n){const o=[];let l=0;for(let c=0,d=i.length;c<d;c++){const r=i[c];o[l++]=new m.CursorState(r.modelState,r.viewState),n?o[l++]=m.CursorState.fromModelState(k.MoveOperations.translateUp(t.cursorConfig,t.model,r.modelState)):o[l++]=m.CursorState.fromViewState(k.MoveOperations.translateUp(t.cursorConfig,t,r.viewState))}return o}static moveToBeginningOfLine(t,i,n){const o=[];for(let l=0,c=i.length;l<c;l++){const d=i[l];o[l]=this._moveToLineStart(t,d,n)}return o}static _moveToLineStart(t,i,n){const o=i.viewState.position.column,l=i.modelState.position.column,c=o===l,d=i.viewState.position.lineNumber,r=t.getLineFirstNonWhitespaceColumn(d);return!c&&!(o===r)?this._moveToLineStartByView(t,i,n):this._moveToLineStartByModel(t,i,n)}static _moveToLineStartByView(t,i,n){return m.CursorState.fromViewState(k.MoveOperations.moveToBeginningOfLine(t.cursorConfig,t,i.viewState,n))}static _moveToLineStartByModel(t,i,n){return m.CursorState.fromModelState(k.MoveOperations.moveToBeginningOfLine(t.cursorConfig,t.model,i.modelState,n))}static moveToEndOfLine(t,i,n,o){const l=[];for(let c=0,d=i.length;c<d;c++){const r=i[c];l[c]=this._moveToLineEnd(t,r,n,o)}return l}static _moveToLineEnd(t,i,n,o){const l=i.viewState.position,c=t.getLineMaxColumn(l.lineNumber),d=l.column===c,r=i.modelState.position,s=t.model.getLineMaxColumn(r.lineNumber),a=c-l.column===s-r.column;return d||a?this._moveToLineEndByModel(t,i,n,o):this._moveToLineEndByView(t,i,n,o)}static _moveToLineEndByView(t,i,n,o){return m.CursorState.fromViewState(k.MoveOperations.moveToEndOfLine(t.cursorConfig,t,i.viewState,n,o))}static _moveToLineEndByModel(t,i,n,o){return m.CursorState.fromModelState(k.MoveOperations.moveToEndOfLine(t.cursorConfig,t.model,i.modelState,n,o))}static expandLineSelection(t,i){const n=[];for(let o=0,l=i.length;o<l;o++){const c=i[o],d=c.modelState.selection.startLineNumber,r=t.model.getLineCount();let s=c.modelState.selection.endLineNumber,a;s===r?a=t.model.getLineMaxColumn(r):(s++,a=1),n[o]=m.CursorState.fromModelState(new m.SingleCursorState(new b.Range(d,1,d,1),0,new L.Position(s,a),0))}return n}static moveToBeginningOfBuffer(t,i,n){const o=[];for(let l=0,c=i.length;l<c;l++){const d=i[l];o[l]=m.CursorState.fromModelState(k.MoveOperations.moveToBeginningOfBuffer(t.cursorConfig,t.model,d.modelState,n))}return o}static moveToEndOfBuffer(t,i,n){const o=[];for(let l=0,c=i.length;l<c;l++){const d=i[l];o[l]=m.CursorState.fromModelState(k.MoveOperations.moveToEndOfBuffer(t.cursorConfig,t.model,d.modelState,n))}return o}static selectAll(t,i){const n=t.model.getLineCount(),o=t.model.getLineMaxColumn(n);return m.CursorState.fromModelState(new m.SingleCursorState(new b.Range(1,1,1,1),0,new L.Position(n,o),0))}static line(t,i,n,o,l){const c=t.model.validatePosition(o),d=l?t.coordinatesConverter.validateViewPosition(new L.Position(l.lineNumber,l.column),c):t.coordinatesConverter.convertModelPositionToViewPosition(c);if(!n||!i.modelState.hasSelection()){const s=t.model.getLineCount();let a=c.lineNumber+1,u=1;return a>s&&(a=s,u=t.model.getLineMaxColumn(a)),m.CursorState.fromModelState(new m.SingleCursorState(new b.Range(c.lineNumber,1,a,u),0,new L.Position(a,u),0))}const r=i.modelState.selectionStart.getStartPosition().lineNumber;if(c.lineNumber<r)return m.CursorState.fromViewState(i.viewState.move(i.modelState.hasSelection(),d.lineNumber,1,0));if(c.lineNumber>r){const s=t.getLineCount();let a=d.lineNumber+1,u=1;return a>s&&(a=s,u=t.getLineMaxColumn(a)),m.CursorState.fromViewState(i.viewState.move(i.modelState.hasSelection(),a,u,0))}else{const s=i.modelState.selectionStart.getEndPosition();return m.CursorState.fromModelState(i.modelState.move(i.modelState.hasSelection(),s.lineNumber,s.column,0))}}static word(t,i,n,o){const l=t.model.validatePosition(o);return m.CursorState.fromModelState(D.WordOperations.word(t.cursorConfig,t.model,i.modelState,n,l))}static cancelSelection(t,i){if(!i.modelState.hasSelection())return new m.CursorState(i.modelState,i.viewState);const n=i.viewState.position.lineNumber,o=i.viewState.position.column;return m.CursorState.fromViewState(new m.SingleCursorState(new b.Range(n,o,n,o),0,new L.Position(n,o),0))}static moveTo(t,i,n,o,l){const c=t.model.validatePosition(o),d=l?t.coordinatesConverter.validateViewPosition(new L.Position(l.lineNumber,l.column),c):t.coordinatesConverter.convertModelPositionToViewPosition(c);return m.CursorState.fromViewState(i.viewState.move(n,d.lineNumber,d.column,0))}static simpleMove(t,i,n,o,l,c){switch(n){case 0:return c===4?this._moveHalfLineLeft(t,i,o):this._moveLeft(t,i,o,l);case 1:return c===4?this._moveHalfLineRight(t,i,o):this._moveRight(t,i,o,l);case 2:return c===2?this._moveUpByViewLines(t,i,o,l):this._moveUpByModelLines(t,i,o,l);case 3:return c===2?this._moveDownByViewLines(t,i,o,l):this._moveDownByModelLines(t,i,o,l);case 4:return c===2?i.map(d=>m.CursorState.fromViewState(k.MoveOperations.moveToPrevBlankLine(t.cursorConfig,t,d.viewState,o))):i.map(d=>m.CursorState.fromModelState(k.MoveOperations.moveToPrevBlankLine(t.cursorConfig,t.model,d.modelState,o)));case 5:return c===2?i.map(d=>m.CursorState.fromViewState(k.MoveOperations.moveToNextBlankLine(t.cursorConfig,t,d.viewState,o))):i.map(d=>m.CursorState.fromModelState(k.MoveOperations.moveToNextBlankLine(t.cursorConfig,t.model,d.modelState,o)));case 6:return this._moveToViewMinColumn(t,i,o);case 7:return this._moveToViewFirstNonWhitespaceColumn(t,i,o);case 8:return this._moveToViewCenterColumn(t,i,o);case 9:return this._moveToViewMaxColumn(t,i,o);case 10:return this._moveToViewLastNonWhitespaceColumn(t,i,o);default:return null}}static viewportMove(t,i,n,o,l){const c=t.getCompletelyVisibleViewRange(),d=t.coordinatesConverter.convertViewRangeToModelRange(c);switch(n){case 11:{const r=this._firstLineNumberInRange(t.model,d,l),s=t.model.getLineFirstNonWhitespaceColumn(r);return[this._moveToModelPosition(t,i[0],o,r,s)]}case 13:{const r=this._lastLineNumberInRange(t.model,d,l),s=t.model.getLineFirstNonWhitespaceColumn(r);return[this._moveToModelPosition(t,i[0],o,r,s)]}case 12:{const r=Math.round((d.startLineNumber+d.endLineNumber)/2),s=t.model.getLineFirstNonWhitespaceColumn(r);return[this._moveToModelPosition(t,i[0],o,r,s)]}case 14:{const r=[];for(let s=0,a=i.length;s<a;s++){const u=i[s];r[s]=this.findPositionInViewportIfOutside(t,u,c,o)}return r}default:return null}}static findPositionInViewportIfOutside(t,i,n,o){const l=i.viewState.position.lineNumber;if(n.startLineNumber<=l&&l<=n.endLineNumber-1)return new m.CursorState(i.modelState,i.viewState);{let c;l>n.endLineNumber-1?c=n.endLineNumber-1:l<n.startLineNumber?c=n.startLineNumber:c=l;const d=k.MoveOperations.vertical(t.cursorConfig,t,l,i.viewState.position.column,i.viewState.leftoverVisibleColumns,c,!1);return m.CursorState.fromViewState(i.viewState.move(o,d.lineNumber,d.column,d.leftoverVisibleColumns))}}static _firstLineNumberInRange(t,i,n){let o=i.startLineNumber;return i.startColumn!==t.getLineMinColumn(o)&&o++,Math.min(i.endLineNumber,o+n-1)}static _lastLineNumberInRange(t,i,n){let o=i.startLineNumber;return i.startColumn!==t.getLineMinColumn(o)&&o++,Math.max(o,i.endLineNumber-n+1)}static _moveLeft(t,i,n,o){return i.map(l=>m.CursorState.fromViewState(k.MoveOperations.moveLeft(t.cursorConfig,t,l.viewState,n,o)))}static _moveHalfLineLeft(t,i,n){const o=[];for(let l=0,c=i.length;l<c;l++){const d=i[l],r=d.viewState.position.lineNumber,s=Math.round(t.getLineContent(r).length/2);o[l]=m.CursorState.fromViewState(k.MoveOperations.moveLeft(t.cursorConfig,t,d.viewState,n,s))}return o}static _moveRight(t,i,n,o){return i.map(l=>m.CursorState.fromViewState(k.MoveOperations.moveRight(t.cursorConfig,t,l.viewState,n,o)))}static _moveHalfLineRight(t,i,n){const o=[];for(let l=0,c=i.length;l<c;l++){const d=i[l],r=d.viewState.position.lineNumber,s=Math.round(t.getLineContent(r).length/2);o[l]=m.CursorState.fromViewState(k.MoveOperations.moveRight(t.cursorConfig,t,d.viewState,n,s))}return o}static _moveDownByViewLines(t,i,n,o){const l=[];for(let c=0,d=i.length;c<d;c++){const r=i[c];l[c]=m.CursorState.fromViewState(k.MoveOperations.moveDown(t.cursorConfig,t,r.viewState,n,o))}return l}static _moveDownByModelLines(t,i,n,o){const l=[];for(let c=0,d=i.length;c<d;c++){const r=i[c];l[c]=m.CursorState.fromModelState(k.MoveOperations.moveDown(t.cursorConfig,t.model,r.modelState,n,o))}return l}static _moveUpByViewLines(t,i,n,o){const l=[];for(let c=0,d=i.length;c<d;c++){const r=i[c];l[c]=m.CursorState.fromViewState(k.MoveOperations.moveUp(t.cursorConfig,t,r.viewState,n,o))}return l}static _moveUpByModelLines(t,i,n,o){const l=[];for(let c=0,d=i.length;c<d;c++){const r=i[c];l[c]=m.CursorState.fromModelState(k.MoveOperations.moveUp(t.cursorConfig,t.model,r.modelState,n,o))}return l}static _moveToViewPosition(t,i,n,o,l){return m.CursorState.fromViewState(i.viewState.move(n,o,l,0))}static _moveToModelPosition(t,i,n,o,l){return m.CursorState.fromModelState(i.modelState.move(n,o,l,0))}static _moveToViewMinColumn(t,i,n){const o=[];for(let l=0,c=i.length;l<c;l++){const d=i[l],r=d.viewState.position.lineNumber,s=t.getLineMinColumn(r);o[l]=this._moveToViewPosition(t,d,n,r,s)}return o}static _moveToViewFirstNonWhitespaceColumn(t,i,n){const o=[];for(let l=0,c=i.length;l<c;l++){const d=i[l],r=d.viewState.position.lineNumber,s=t.getLineFirstNonWhitespaceColumn(r);o[l]=this._moveToViewPosition(t,d,n,r,s)}return o}static _moveToViewCenterColumn(t,i,n){const o=[];for(let l=0,c=i.length;l<c;l++){const d=i[l],r=d.viewState.position.lineNumber,s=Math.round((t.getLineMaxColumn(r)+t.getLineMinColumn(r))/2);o[l]=this._moveToViewPosition(t,d,n,r,s)}return o}static _moveToViewMaxColumn(t,i,n){const o=[];for(let l=0,c=i.length;l<c;l++){const d=i[l],r=d.viewState.position.lineNumber,s=t.getLineMaxColumn(r);o[l]=this._moveToViewPosition(t,d,n,r,s)}return o}static _moveToViewLastNonWhitespaceColumn(t,i,n){const o=[];for(let l=0,c=i.length;l<c;l++){const d=i[l],r=d.viewState.position.lineNumber,s=t.getLineLastNonWhitespaceColumn(r);o[l]=this._moveToViewPosition(t,d,n,r,s)}return o}}e.CursorMoveCommands=C;var h;(function(g){const t=function(n){if(!w.isObject(n))return!1;const o=n;return!(!w.isString(o.to)||!w.isUndefined(o.select)&&!w.isBoolean(o.select)||!w.isUndefined(o.by)&&!w.isString(o.by)||!w.isUndefined(o.value)&&!w.isNumber(o.value))};g.description={description:"Move cursor to a logical position in the view",args:[{name:"Cursor move argument object",description:`Property-value pairs that can be passed through this argument:
					* 'to': A mandatory logical position value providing where to move the cursor.
						\`\`\`
						'left', 'right', 'up', 'down', 'prevBlankLine', 'nextBlankLine',
						'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'
						'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter'
						'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'
						\`\`\`
					* 'by': Unit to move. Default is computed based on 'to' value.
						\`\`\`
						'line', 'wrappedLine', 'character', 'halfLine'
						\`\`\`
					* 'value': Number of units to move. Default is '1'.
					* 'select': If 'true' makes the selection. Default is 'false'.
				`,constraint:t,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["left","right","up","down","prevBlankLine","nextBlankLine","wrappedLineStart","wrappedLineEnd","wrappedLineColumnCenter","wrappedLineFirstNonWhitespaceCharacter","wrappedLineLastNonWhitespaceCharacter","viewPortTop","viewPortCenter","viewPortBottom","viewPortIfOutside"]},by:{type:"string",enum:["line","wrappedLine","character","halfLine"]},value:{type:"number",default:1},select:{type:"boolean",default:!1}}}}]},g.RawDirection={Left:"left",Right:"right",Up:"up",Down:"down",PrevBlankLine:"prevBlankLine",NextBlankLine:"nextBlankLine",WrappedLineStart:"wrappedLineStart",WrappedLineFirstNonWhitespaceCharacter:"wrappedLineFirstNonWhitespaceCharacter",WrappedLineColumnCenter:"wrappedLineColumnCenter",WrappedLineEnd:"wrappedLineEnd",WrappedLineLastNonWhitespaceCharacter:"wrappedLineLastNonWhitespaceCharacter",ViewPortTop:"viewPortTop",ViewPortCenter:"viewPortCenter",ViewPortBottom:"viewPortBottom",ViewPortIfOutside:"viewPortIfOutside"},g.RawUnit={Line:"line",WrappedLine:"wrappedLine",Character:"character",HalfLine:"halfLine"};function i(n){if(!n.to)return null;let o;switch(n.to){case g.RawDirection.Left:o=0;break;case g.RawDirection.Right:o=1;break;case g.RawDirection.Up:o=2;break;case g.RawDirection.Down:o=3;break;case g.RawDirection.PrevBlankLine:o=4;break;case g.RawDirection.NextBlankLine:o=5;break;case g.RawDirection.WrappedLineStart:o=6;break;case g.RawDirection.WrappedLineFirstNonWhitespaceCharacter:o=7;break;case g.RawDirection.WrappedLineColumnCenter:o=8;break;case g.RawDirection.WrappedLineEnd:o=9;break;case g.RawDirection.WrappedLineLastNonWhitespaceCharacter:o=10;break;case g.RawDirection.ViewPortTop:o=11;break;case g.RawDirection.ViewPortBottom:o=13;break;case g.RawDirection.ViewPortCenter:o=12;break;case g.RawDirection.ViewPortIfOutside:o=14;break;default:return null}let l=0;switch(n.by){case g.RawUnit.Line:l=1;break;case g.RawUnit.WrappedLine:l=2;break;case g.RawUnit.Character:l=3;break;case g.RawUnit.HalfLine:l=4;break}return{direction:o,unit:l,select:!!n.select,value:n.value||1}}g.parse=i})(h=e.CursorMove||(e.CursorMove={}))}),define(se[428],re([1,0,64,11,3,24]),function(q,e,w,m,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Cursor=void 0;class L{constructor(C){this._selTrackedRange=null,this._trackSelection=!0,this._setState(C,new w.SingleCursorState(new k.Range(1,1,1,1),0,new m.Position(1,1),0),new w.SingleCursorState(new k.Range(1,1,1,1),0,new m.Position(1,1),0))}dispose(C){this._removeTrackedRange(C)}startTrackingSelection(C){this._trackSelection=!0,this._updateTrackedRange(C)}stopTrackingSelection(C){this._trackSelection=!1,this._removeTrackedRange(C)}_updateTrackedRange(C){!this._trackSelection||(this._selTrackedRange=C.model._setTrackedRange(this._selTrackedRange,this.modelState.selection,0))}_removeTrackedRange(C){this._selTrackedRange=C.model._setTrackedRange(this._selTrackedRange,null,0)}asCursorState(){return new w.CursorState(this.modelState,this.viewState)}readSelectionFromMarkers(C){const h=C.model._getTrackedRange(this._selTrackedRange);return D.Selection.fromRange(h,this.modelState.selection.getDirection())}ensureValidState(C){this._setState(C,this.modelState,this.viewState)}setState(C,h,g){this._setState(C,h,g)}static _validatePositionWithCache(C,h,g,t){return h.equals(g)?t:C.normalizePosition(h,2)}static _validateViewState(C,h){const g=h.position,t=h.selectionStart.getStartPosition(),i=h.selectionStart.getEndPosition(),n=C.normalizePosition(g,2),o=this._validatePositionWithCache(C,t,g,n),l=this._validatePositionWithCache(C,i,t,o);return g.equals(n)&&t.equals(o)&&i.equals(l)?h:new w.SingleCursorState(k.Range.fromPositions(o,l),h.selectionStartLeftoverVisibleColumns+t.column-o.column,n,h.leftoverVisibleColumns+g.column-n.column)}_setState(C,h,g){if(g&&(g=L._validateViewState(C.viewModel,g)),h){const t=C.model.validateRange(h.selectionStart),i=h.selectionStart.equalsRange(t)?h.selectionStartLeftoverVisibleColumns:0,n=C.model.validatePosition(h.position),o=h.position.equals(n)?h.leftoverVisibleColumns:0;h=new w.SingleCursorState(t,i,n,o)}else{if(!g)return;const t=C.model.validateRange(C.coordinatesConverter.convertViewRangeToModelRange(g.selectionStart)),i=C.model.validatePosition(C.coordinatesConverter.convertViewPositionToModelPosition(g.position));h=new w.SingleCursorState(t,g.selectionStartLeftoverVisibleColumns,i,g.leftoverVisibleColumns)}if(g){const t=C.coordinatesConverter.validateViewRange(g.selectionStart,h.selectionStart),i=C.coordinatesConverter.validateViewPosition(g.position,h.position);g=new w.SingleCursorState(t,h.selectionStartLeftoverVisibleColumns,i,h.leftoverVisibleColumns)}else{const t=C.coordinatesConverter.convertModelPositionToViewPosition(new m.Position(h.selectionStart.startLineNumber,h.selectionStart.startColumn)),i=C.coordinatesConverter.convertModelPositionToViewPosition(new m.Position(h.selectionStart.endLineNumber,h.selectionStart.endColumn)),n=new k.Range(t.lineNumber,t.column,i.lineNumber,i.column),o=C.coordinatesConverter.convertModelPositionToViewPosition(h.position);g=new w.SingleCursorState(n,h.selectionStartLeftoverVisibleColumns,o,h.leftoverVisibleColumns)}this.modelState=h,this.viewState=g,this._updateTrackedRange(C)}}e.Cursor=L}),define(se[429],re([1,0,18,64,428,11,3,24]),function(q,e,w,m,k,D,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorCollection=void 0;class C{constructor(g){this.context=g,this.cursors=[new k.Cursor(g)],this.lastAddedCursorIndex=0}dispose(){for(const g of this.cursors)g.dispose(this.context)}startTrackingSelections(){for(const g of this.cursors)g.startTrackingSelection(this.context)}stopTrackingSelections(){for(const g of this.cursors)g.stopTrackingSelection(this.context)}updateContext(g){this.context=g}ensureValidState(){for(const g of this.cursors)g.ensureValidState(this.context)}readSelectionFromMarkers(){return this.cursors.map(g=>g.readSelectionFromMarkers(this.context))}getAll(){return this.cursors.map(g=>g.asCursorState())}getViewPositions(){return this.cursors.map(g=>g.viewState.position)}getTopMostViewPosition(){return(0,w.findMinBy)(this.cursors,(0,w.compareBy)(g=>g.viewState.position,D.Position.compare)).viewState.position}getBottomMostViewPosition(){return(0,w.findLastMaxBy)(this.cursors,(0,w.compareBy)(g=>g.viewState.position,D.Position.compare)).viewState.position}getSelections(){return this.cursors.map(g=>g.modelState.selection)}getViewSelections(){return this.cursors.map(g=>g.viewState.selection)}setSelections(g){this.setStates(m.CursorState.fromModelSelections(g))}getPrimaryCursor(){return this.cursors[0].asCursorState()}setStates(g){g!==null&&(this.cursors[0].setState(this.context,g[0].modelState,g[0].viewState),this._setSecondaryStates(g.slice(1)))}_setSecondaryStates(g){const t=this.cursors.length-1,i=g.length;if(t<i){const n=i-t;for(let o=0;o<n;o++)this._addSecondaryCursor()}else if(t>i){const n=t-i;for(let o=0;o<n;o++)this._removeSecondaryCursor(this.cursors.length-2)}for(let n=0;n<i;n++)this.cursors[n+1].setState(this.context,g[n].modelState,g[n].viewState)}killSecondaryCursors(){this._setSecondaryStates([])}_addSecondaryCursor(){this.cursors.push(new k.Cursor(this.context)),this.lastAddedCursorIndex=this.cursors.length-1}getLastAddedCursorIndex(){return this.cursors.length===1||this.lastAddedCursorIndex===0?0:this.lastAddedCursorIndex}_removeSecondaryCursor(g){this.lastAddedCursorIndex>=g+1&&this.lastAddedCursorIndex--,this.cursors[g+1].dispose(this.context),this.cursors.splice(g+1,1)}normalize(){if(this.cursors.length===1)return;const g=this.cursors.slice(0),t=[];for(let i=0,n=g.length;i<n;i++)t.push({index:i,selection:g[i].modelState.selection});t.sort((0,w.compareBy)(i=>i.selection,L.Range.compareRangesUsingStarts));for(let i=0;i<t.length-1;i++){const n=t[i],o=t[i+1],l=n.selection,c=o.selection;if(!this.context.cursorConfig.multiCursorMergeOverlapping)continue;let d;if(c.isEmpty()||l.isEmpty()?d=c.getStartPosition().isBeforeOrEqual(l.getEndPosition()):d=c.getStartPosition().isBefore(l.getEndPosition()),d){const r=n.index<o.index?i:i+1,s=n.index<o.index?i+1:i,a=t[s].index,u=t[r].index,p=t[s].selection,S=t[r].selection;if(!p.equalsSelection(S)){const f=p.plusRange(S),v=p.selectionStartLineNumber===p.startLineNumber&&p.selectionStartColumn===p.startColumn,_=S.selectionStartLineNumber===S.startLineNumber&&S.selectionStartColumn===S.startColumn;let y;a===this.lastAddedCursorIndex?(y=v,this.lastAddedCursorIndex=u):y=_;let E;y?E=new b.Selection(f.startLineNumber,f.startColumn,f.endLineNumber,f.endColumn):E=new b.Selection(f.endLineNumber,f.endColumn,f.startLineNumber,f.startColumn),t[r].selection=E;const T=m.CursorState.fromModelSelection(E);g[u].setState(this.context,T.modelState,T.viewState)}for(const f of t)f.index>a&&f.index--;g.splice(a,1),t.splice(s,1),this._removeSecondaryCursor(a-1),i--}}}}e.CursorCollection=C}),define(se[430],re([1,0,100]),function(q,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CharacterPairSupport=void 0;class m{constructor(D){if(D.autoClosingPairs?this._autoClosingPairs=D.autoClosingPairs.map(L=>new w.StandardAutoClosingPairConditional(L)):D.brackets?this._autoClosingPairs=D.brackets.map(L=>new w.StandardAutoClosingPairConditional({open:L[0],close:L[1]})):this._autoClosingPairs=[],D.__electricCharacterSupport&&D.__electricCharacterSupport.docComment){const L=D.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new w.StandardAutoClosingPairConditional({open:L.open,close:L.close||""}))}this._autoCloseBefore=typeof D.autoCloseBefore=="string"?D.autoCloseBefore:m.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED,this._surroundingPairs=D.surroundingPairs||this._autoClosingPairs}getAutoClosingPairs(){return this._autoClosingPairs}getAutoCloseBeforeSet(){return this._autoCloseBefore}getSurroundingPairs(){return this._surroundingPairs}}e.CharacterPairSupport=m,m.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED=`;:.,=}])> 
	`}),define(se[431],re([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentRulesSupport=void 0;function w(k){return k.global&&(k.lastIndex=0),!0}class m{constructor(D){this._indentationRules=D}shouldIncrease(D){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&w(this._indentationRules.increaseIndentPattern)&&this._indentationRules.increaseIndentPattern.test(D))}shouldDecrease(D){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&w(this._indentationRules.decreaseIndentPattern)&&this._indentationRules.decreaseIndentPattern.test(D))}shouldIndentNextLine(D){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&w(this._indentationRules.indentNextLinePattern)&&this._indentationRules.indentNextLinePattern.test(D))}shouldIgnore(D){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&w(this._indentationRules.unIndentedLinePattern)&&this._indentationRules.unIndentedLinePattern.test(D))}getIndentMetadata(D){let L=0;return this.shouldIncrease(D)&&(L+=1),this.shouldDecrease(D)&&(L+=2),this.shouldIndentNextLine(D)&&(L+=4),this.shouldIgnore(D)&&(L+=8),L}}e.IndentRulesSupport=m}),define(se[432],re([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BasicInplaceReplace=void 0;class w{constructor(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}navigateValueSet(k,D,L,b,C){if(k&&D){const h=this.doNavigateValueSet(D,C);if(h)return{range:k,value:h}}if(L&&b){const h=this.doNavigateValueSet(b,C);if(h)return{range:L,value:h}}return null}doNavigateValueSet(k,D){const L=this.numberReplace(k,D);return L!==null?L:this.textReplace(k,D)}numberReplace(k,D){const L=Math.pow(10,k.length-(k.lastIndexOf(".")+1));let b=Number(k);const C=parseFloat(k);return!isNaN(b)&&!isNaN(C)&&b===C?b===0&&!D?null:(b=Math.floor(b*L),b+=D?L:-L,String(b/L)):null}textReplace(k,D){return this.valueSetsReplace(this._defaultValueSet,k,D)}valueSetsReplace(k,D,L){let b=null;for(let C=0,h=k.length;b===null&&C<h;C++)b=this.valueSetReplace(k[C],D,L);return b}valueSetReplace(k,D,L){let b=k.indexOf(D);return b>=0?(b+=L?1:-1,b<0?b=k.length-1:b%=k.length,k[b]):null}}e.BasicInplaceReplace=w,w.INSTANCE=new w}),define(se[433],re([1,0,228,14]),function(q,e,w,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ClosingBracketKind=e.OpeningBracketKind=e.BracketKindBase=e.LanguageBracketsConfiguration=void 0;class k{constructor(g,t){this.languageId=g;let i;t.colorizedBracketPairs?i=D(t.colorizedBracketPairs.map(l=>[l[0],l[1]])):t.brackets?i=D(t.brackets.map(l=>[l[0],l[1]]).filter(l=>!(l[0]==="<"&&l[1]===">"))):i=[];const n=new w.CachedFunction(l=>{const c=new Set;return{info:new b(this,l,c),closing:c}}),o=new w.CachedFunction(l=>{const c=new Set;return{info:new C(this,l,c),opening:c}});for(const[l,c]of i){const d=n.get(l),r=o.get(c);d.closing.add(r.info),r.opening.add(d.info)}this._openingBrackets=new Map([...n.cachedValues].map(([l,c])=>[l,c.info])),this._closingBrackets=new Map([...o.cachedValues].map(([l,c])=>[l,c.info]))}get openingBrackets(){return[...this._openingBrackets.values()]}get closingBrackets(){return[...this._closingBrackets.values()]}getOpeningBracketInfo(g){return this._openingBrackets.get(g)}getClosingBracketInfo(g){return this._closingBrackets.get(g)}getBracketInfo(g){return this.getOpeningBracketInfo(g)||this.getClosingBracketInfo(g)}}e.LanguageBracketsConfiguration=k;function D(h){return h.filter(([g,t])=>g!==""&&t!=="")}class L{constructor(g,t){this.config=g,this.bracketText=t}get languageId(){return this.config.languageId}}e.BracketKindBase=L;class b extends L{constructor(g,t,i){super(g,t),this.openedBrackets=i,this.isOpeningBracket=!0}}e.OpeningBracketKind=b;class C extends L{constructor(g,t,i){super(g,t),this.closedBrackets=i,this.isOpeningBracket=!1}closes(g){if(g.languageId===this.languageId&&g.config!==this.config)throw new m.BugIndicatingError("Brackets from different language configuration cannot be used.");return this.closedBrackets.has(g)}getClosedBrackets(){return[...this.closedBrackets]}}e.ClosingBracketKind=C}),define(se[434],re([1,0,14,8,100]),function(q,e,w,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OnEnterSupport=void 0;class D{constructor(b){b=b||{},b.brackets=b.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],b.brackets.forEach(C=>{const h=D._createOpenBracketRegExp(C[0]),g=D._createCloseBracketRegExp(C[1]);h&&g&&this._brackets.push({open:C[0],openRegExp:h,close:C[1],closeRegExp:g})}),this._regExpRules=b.onEnterRules||[]}onEnter(b,C,h,g){if(b>=3)for(let t=0,i=this._regExpRules.length;t<i;t++){const n=this._regExpRules[t];if([{reg:n.beforeText,text:h},{reg:n.afterText,text:g},{reg:n.previousLineText,text:C}].every(l=>l.reg?(l.reg.lastIndex=0,l.reg.test(l.text)):!0))return n.action}if(b>=2&&h.length>0&&g.length>0)for(let t=0,i=this._brackets.length;t<i;t++){const n=this._brackets[t];if(n.openRegExp.test(h)&&n.closeRegExp.test(g))return{indentAction:k.IndentAction.IndentOutdent}}if(b>=2&&h.length>0){for(let t=0,i=this._brackets.length;t<i;t++)if(this._brackets[t].openRegExp.test(h))return{indentAction:k.IndentAction.Indent}}return null}static _createOpenBracketRegExp(b){let C=m.escapeRegExpCharacters(b);return/\B/.test(C.charAt(0))||(C="\\b"+C),C+="\\s*$",D._safeRegExp(C)}static _createCloseBracketRegExp(b){let C=m.escapeRegExpCharacters(b);return/\B/.test(C.charAt(C.length-1))||(C=C+"\\b"),C="^\\s*"+C,D._safeRegExp(C)}static _safeRegExp(b){try{return new RegExp(b)}catch(C){return(0,w.onUnexpectedError)(C),null}}}e.OnEnterSupport=D}),define(se[435],re([1,0,31]),function(q,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateTokensCSSForColorMap=e.ThemeTrieElement=e.ThemeTrieElementRule=e.strcmp=e.toStandardTokenType=e.TokenTheme=e.ColorMap=e.parseTokenTheme=e.ParsedTokenThemeRule=void 0;class m{constructor(c,d,r,s,a){this._parsedThemeRuleBrand=void 0,this.token=c,this.index=d,this.fontStyle=r,this.foreground=s,this.background=a}}e.ParsedTokenThemeRule=m;function k(l){if(!l||!Array.isArray(l))return[];const c=[];let d=0;for(let r=0,s=l.length;r<s;r++){const a=l[r];let u=-1;if(typeof a.fontStyle=="string"){u=0;const f=a.fontStyle.split(" ");for(let v=0,_=f.length;v<_;v++)switch(f[v]){case"italic":u=u|1;break;case"bold":u=u|2;break;case"underline":u=u|4;break;case"strikethrough":u=u|8;break}}let p=null;typeof a.foreground=="string"&&(p=a.foreground);let S=null;typeof a.background=="string"&&(S=a.background),c[d++]=new m(a.token||"",r,u,p,S)}return c}e.parseTokenTheme=k;function D(l,c){l.sort((v,_)=>{const y=t(v.token,_.token);return y!==0?y:v.index-_.index});let d=0,r="000000",s="ffffff";for(;l.length>=1&&l[0].token==="";){const v=l.shift();v.fontStyle!==-1&&(d=v.fontStyle),v.foreground!==null&&(r=v.foreground),v.background!==null&&(s=v.background)}const a=new b;for(const v of c)a.getId(v);const u=a.getId(r),p=a.getId(s),S=new i(d,u,p),f=new n(S);for(let v=0,_=l.length;v<_;v++){const y=l[v];f.insert(y.token,y.fontStyle,a.getId(y.foreground),a.getId(y.background))}return new C(a,f)}const L=/^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/;class b{constructor(){this._lastColorId=0,this._id2color=[],this._color2id=new Map}getId(c){if(c===null)return 0;const d=c.match(L);if(!d)throw new Error("Illegal value for token color: "+c);c=d[1].toUpperCase();let r=this._color2id.get(c);return r||(r=++this._lastColorId,this._color2id.set(c,r),this._id2color[r]=w.Color.fromHex("#"+c),r)}getColorMap(){return this._id2color.slice(0)}}e.ColorMap=b;class C{static createFromRawTokenTheme(c,d){return this.createFromParsedTokenTheme(k(c),d)}static createFromParsedTokenTheme(c,d){return D(c,d)}constructor(c,d){this._colorMap=c,this._root=d,this._cache=new Map}getColorMap(){return this._colorMap.getColorMap()}_match(c){return this._root.match(c)}match(c,d){let r=this._cache.get(d);if(typeof r>"u"){const s=this._match(d),a=g(d);r=(s.metadata|a<<8)>>>0,this._cache.set(d,r)}return(r|c<<0)>>>0}}e.TokenTheme=C;const h=/\b(comment|string|regex|regexp)\b/;function g(l){const c=l.match(h);if(!c)return 0;switch(c[1]){case"comment":return 1;case"string":return 2;case"regex":return 3;case"regexp":return 3}throw new Error("Unexpected match for standard token type!")}e.toStandardTokenType=g;function t(l,c){return l<c?-1:l>c?1:0}e.strcmp=t;class i{constructor(c,d,r){this._themeTrieElementRuleBrand=void 0,this._fontStyle=c,this._foreground=d,this._background=r,this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}clone(){return new i(this._fontStyle,this._foreground,this._background)}acceptOverwrite(c,d,r){c!==-1&&(this._fontStyle=c),d!==0&&(this._foreground=d),r!==0&&(this._background=r),this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}}e.ThemeTrieElementRule=i;class n{constructor(c){this._themeTrieElementBrand=void 0,this._mainRule=c,this._children=new Map}match(c){if(c==="")return this._mainRule;const d=c.indexOf(".");let r,s;d===-1?(r=c,s=""):(r=c.substring(0,d),s=c.substring(d+1));const a=this._children.get(r);return typeof a<"u"?a.match(s):this._mainRule}insert(c,d,r,s){if(c===""){this._mainRule.acceptOverwrite(d,r,s);return}const a=c.indexOf(".");let u,p;a===-1?(u=c,p=""):(u=c.substring(0,a),p=c.substring(a+1));let S=this._children.get(u);typeof S>"u"&&(S=new n(this._mainRule.clone()),this._children.set(u,S)),S.insert(p,d,r,s)}}e.ThemeTrieElement=n;function o(l){const c=[];for(let d=1,r=l.length;d<r;d++){const s=l[d];c[d]=`.mtk${d} { color: ${s}; }`}return c.push(".mtki { font-style: italic; }"),c.push(".mtkb { font-weight: bold; }"),c.push(".mtku { text-decoration: underline; text-underline-position: under; }"),c.push(".mtks { text-decoration: line-through; }"),c.push(".mtks.mtku { text-decoration: underline line-through; text-underline-position: under; }"),c.join(`
`)}e.generateTokensCSSForColorMap=o}),define(se[47],re([1,0,36]),function(q,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.shouldSynchronizeModel=e.ApplyEditsResult=e.SearchData=e.ValidAnnotatedEditOperation=e.isITextSnapshot=e.FindMatch=e.TextModelResolvedOptions=e.InjectedTextCursorStops=e.MinimapPosition=e.OverviewRulerLane=void 0;var m;(function(n){n[n.Left=1]="Left",n[n.Center=2]="Center",n[n.Right=4]="Right",n[n.Full=7]="Full"})(m=e.OverviewRulerLane||(e.OverviewRulerLane={}));var k;(function(n){n[n.Inline=1]="Inline",n[n.Gutter=2]="Gutter"})(k=e.MinimapPosition||(e.MinimapPosition={}));var D;(function(n){n[n.Both=0]="Both",n[n.Right=1]="Right",n[n.Left=2]="Left",n[n.None=3]="None"})(D=e.InjectedTextCursorStops||(e.InjectedTextCursorStops={}));class L{constructor(o){this._textModelResolvedOptionsBrand=void 0,this.tabSize=Math.max(1,o.tabSize|0),this.indentSize=o.tabSize|0,this.insertSpaces=Boolean(o.insertSpaces),this.defaultEOL=o.defaultEOL|0,this.trimAutoWhitespace=Boolean(o.trimAutoWhitespace),this.bracketPairColorizationOptions=o.bracketPairColorizationOptions}equals(o){return this.tabSize===o.tabSize&&this.indentSize===o.indentSize&&this.insertSpaces===o.insertSpaces&&this.defaultEOL===o.defaultEOL&&this.trimAutoWhitespace===o.trimAutoWhitespace&&(0,w.equals)(this.bracketPairColorizationOptions,o.bracketPairColorizationOptions)}createChangeEvent(o){return{tabSize:this.tabSize!==o.tabSize,indentSize:this.indentSize!==o.indentSize,insertSpaces:this.insertSpaces!==o.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==o.trimAutoWhitespace}}}e.TextModelResolvedOptions=L;class b{constructor(o,l){this._findMatchBrand=void 0,this.range=o,this.matches=l}}e.FindMatch=b;function C(n){return n&&typeof n.read=="function"}e.isITextSnapshot=C;class h{constructor(o,l,c,d,r,s){this.identifier=o,this.range=l,this.text=c,this.forceMoveMarkers=d,this.isAutoWhitespaceEdit=r,this._isTracked=s}}e.ValidAnnotatedEditOperation=h;class g{constructor(o,l,c){this.regex=o,this.wordSeparators=l,this.simpleSearch=c}}e.SearchData=g;class t{constructor(o,l,c){this.reverseEdits=o,this.changes=l,this.trimAutoWhitespaceLineNumbers=c}}e.ApplyEditsResult=t;function i(n){return!n.isTooLargeForSyncing()&&!n.isForSimpleWidget}e.shouldSynchronizeModel=i}),define(se[91],re([1,0,8,3]),function(q,e,w,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.lengthOfString=e.lengthsToRange=e.positionToLength=e.lengthGreaterThanEqual=e.lengthLessThanEqual=e.lengthLessThan=e.lengthDiffNonNegative=e.lengthAdd=e.lengthGetColumnCountIfZeroLineCount=e.lengthGetLineCount=e.lengthToObj=e.toLength=e.lengthIsZero=e.lengthZero=e.lengthDiff=e.LengthObj=void 0;class k{constructor(u,p){this.lineCount=u,this.columnCount=p}toString(){return`${this.lineCount},${this.columnCount}`}}e.LengthObj=k,k.zero=new k(0,0);function D(a,u,p,S){return a!==p?C(p-a,S):C(0,S-u)}e.lengthDiff=D,e.lengthZero=0;function L(a){return a===0}e.lengthIsZero=L;const b=Math.pow(2,26);function C(a,u){return a*b+u}e.toLength=C;function h(a){const u=a,p=Math.floor(u/b),S=u-p*b;return new k(p,S)}e.lengthToObj=h;function g(a){return Math.floor(a/b)}e.lengthGetLineCount=g;function t(a){return a}e.lengthGetColumnCountIfZeroLineCount=t;function i(a,u){return u<b?a+u:a-a%b+u}e.lengthAdd=i;function n(a,u){const p=a,S=u;if(S-p<=0)return e.lengthZero;const v=Math.floor(p/b),_=Math.floor(S/b),y=S-_*b;if(v===_){const E=p-v*b;return C(0,y-E)}else return C(_-v,y)}e.lengthDiffNonNegative=n;function o(a,u){return a<u}e.lengthLessThan=o;function l(a,u){return a<=u}e.lengthLessThanEqual=l;function c(a,u){return a>=u}e.lengthGreaterThanEqual=c;function d(a){return C(a.lineNumber-1,a.column-1)}e.positionToLength=d;function r(a,u){const p=a,S=Math.floor(p/b),f=p-S*b,v=u,_=Math.floor(v/b),y=v-_*b;return new m.Range(S+1,f+1,_+1,y+1)}e.lengthsToRange=r;function s(a){const u=(0,w.splitLines)(a);return C(u.length-1,u[u.length-1].length)}e.lengthOfString=s}),define(se[240],re([1,0,91]),function(q,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BeforeEditPositionMapper=e.TextEditInfo=void 0;class m{constructor(b,C,h){this.startOffset=b,this.endOffset=C,this.newLength=h}}e.TextEditInfo=m;class k{constructor(b,C){this.documentLength=C,this.nextEditIdx=0,this.deltaOldToNewLineCount=0,this.deltaOldToNewColumnCount=0,this.deltaLineIdxInOld=-1,this.edits=b.map(h=>D.from(h))}getOffsetBeforeChange(b){return this.adjustNextEdit(b),this.translateCurToOld(b)}getDistanceToNextChange(b){this.adjustNextEdit(b);const C=this.edits[this.nextEditIdx],h=C?this.translateOldToCur(C.offsetObj):this.documentLength;return(0,w.lengthDiffNonNegative)(b,h)}translateOldToCur(b){return b.lineCount===this.deltaLineIdxInOld?(0,w.toLength)(b.lineCount+this.deltaOldToNewLineCount,b.columnCount+this.deltaOldToNewColumnCount):(0,w.toLength)(b.lineCount+this.deltaOldToNewLineCount,b.columnCount)}translateCurToOld(b){const C=(0,w.lengthToObj)(b);return C.lineCount-this.deltaOldToNewLineCount===this.deltaLineIdxInOld?(0,w.toLength)(C.lineCount-this.deltaOldToNewLineCount,C.columnCount-this.deltaOldToNewColumnCount):(0,w.toLength)(C.lineCount-this.deltaOldToNewLineCount,C.columnCount)}adjustNextEdit(b){for(;this.nextEditIdx<this.edits.length;){const C=this.edits[this.nextEditIdx],h=this.translateOldToCur(C.endOffsetAfterObj);if((0,w.lengthLessThanEqual)(h,b)){this.nextEditIdx++;const g=(0,w.lengthToObj)(h),t=(0,w.lengthToObj)(this.translateOldToCur(C.endOffsetBeforeObj)),i=g.lineCount-t.lineCount;this.deltaOldToNewLineCount+=i;const n=this.deltaLineIdxInOld===C.endOffsetBeforeObj.lineCount?this.deltaOldToNewColumnCount:0,o=g.columnCount-t.columnCount;this.deltaOldToNewColumnCount=n+o,this.deltaLineIdxInOld=C.endOffsetBeforeObj.lineCount}else break}}}e.BeforeEditPositionMapper=k;class D{static from(b){return new D(b.startOffset,b.endOffset,b.newLength)}constructor(b,C,h){this.endOffsetBeforeObj=(0,w.lengthToObj)(C),this.endOffsetAfterObj=(0,w.lengthToObj)((0,w.lengthAdd)(b,h)),this.offsetObj=(0,w.lengthToObj)(b)}}}),define(se[436],re([1,0,91]),function(q,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NodeReader=void 0;class m{constructor(b){this.lastOffset=w.lengthZero,this.nextNodes=[b],this.offsets=[w.lengthZero],this.idxs=[]}readLongestNodeAt(b,C){if((0,w.lengthLessThan)(b,this.lastOffset))throw new Error("Invalid offset");for(this.lastOffset=b;;){const h=D(this.nextNodes);if(!h)return;const g=D(this.offsets);if((0,w.lengthLessThan)(b,g))return;if((0,w.lengthLessThan)(g,b))if((0,w.lengthAdd)(g,h.length)<=b)this.nextNodeAfterCurrent();else{const t=k(h);t!==-1?(this.nextNodes.push(h.getChild(t)),this.offsets.push(g),this.idxs.push(t)):this.nextNodeAfterCurrent()}else{if(C(h))return this.nextNodeAfterCurrent(),h;{const t=k(h);if(t===-1){this.nextNodeAfterCurrent();return}else this.nextNodes.push(h.getChild(t)),this.offsets.push(g),this.idxs.push(t)}}}}nextNodeAfterCurrent(){for(;;){const b=D(this.offsets),C=D(this.nextNodes);if(this.nextNodes.pop(),this.offsets.pop(),this.idxs.length===0)break;const h=D(this.nextNodes),g=k(h,this.idxs[this.idxs.length-1]);if(g!==-1){this.nextNodes.push(h.getChild(g)),this.offsets.push((0,w.lengthAdd)(b,C.length)),this.idxs[this.idxs.length-1]=g;break}else this.idxs.pop()}}}e.NodeReader=m;function k(L,b=-1){for(;;){if(b++,b>=L.childrenLength)return-1;if(L.getChild(b))return b}}function D(L){return L.length>0?L[L.length-1]:void 0}}),define(se[113],re([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DenseKeyProvider=e.identityKeyProvider=e.SmallImmutableSet=void 0;const w=new Array;class m{static create(L,b){if(L<=128&&b.length===0){let C=m.cache[L];return C||(C=new m(L,b),m.cache[L]=C),C}return new m(L,b)}static getEmpty(){return this.empty}constructor(L,b){this.items=L,this.additionalItems=b}add(L,b){const C=b.getKey(L);let h=C>>5;if(h===0){const t=1<<C|this.items;return t===this.items?this:m.create(t,this.additionalItems)}h--;const g=this.additionalItems.slice(0);for(;g.length<h;)g.push(0);return g[h]|=1<<(C&31),m.create(this.items,g)}merge(L){const b=this.items|L.items;if(this.additionalItems===w&&L.additionalItems===w)return b===this.items?this:b===L.items?L:m.create(b,w);const C=new Array;for(let h=0;h<Math.max(this.additionalItems.length,L.additionalItems.length);h++){const g=this.additionalItems[h]||0,t=L.additionalItems[h]||0;C.push(g|t)}return m.create(b,C)}intersects(L){if((this.items&L.items)!==0)return!0;for(let b=0;b<Math.min(this.additionalItems.length,L.additionalItems.length);b++)if((this.additionalItems[b]&L.additionalItems[b])!==0)return!0;return!1}}e.SmallImmutableSet=m,m.cache=new Array(129),m.empty=m.create(0,w),e.identityKeyProvider={getKey(D){return D}};class k{constructor(){this.items=new Map}getKey(L){let b=this.items.get(L);return b===void 0&&(b=this.items.size,this.items.set(L,b)),b}}e.DenseKeyProvider=k}),define(se[158],re([1,0,70,91,113]),function(q,e,w,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InvalidBracketAstNode=e.BracketAstNode=e.TextAstNode=e.ListAstNode=e.PairAstNode=void 0;class D{get length(){return this._length}constructor(r){this._length=r}}class L extends D{static create(r,s,a){let u=r.length;return s&&(u=(0,m.lengthAdd)(u,s.length)),a&&(u=(0,m.lengthAdd)(u,a.length)),new L(u,r,s,a,s?s.missingOpeningBracketIds:k.SmallImmutableSet.getEmpty())}get kind(){return 2}get listHeight(){return 0}get childrenLength(){return 3}getChild(r){switch(r){case 0:return this.openingBracket;case 1:return this.child;case 2:return this.closingBracket}throw new Error("Invalid child index")}get children(){const r=new Array;return r.push(this.openingBracket),this.child&&r.push(this.child),this.closingBracket&&r.push(this.closingBracket),r}constructor(r,s,a,u,p){super(r),this.openingBracket=s,this.child=a,this.closingBracket=u,this.missingOpeningBracketIds=p}canBeReused(r){return!(this.closingBracket===null||r.intersects(this.missingOpeningBracketIds))}deepClone(){return new L(this.length,this.openingBracket.deepClone(),this.child&&this.child.deepClone(),this.closingBracket&&this.closingBracket.deepClone(),this.missingOpeningBracketIds)}computeMinIndentation(r,s){return this.child?this.child.computeMinIndentation((0,m.lengthAdd)(r,this.openingBracket.length),s):Number.MAX_SAFE_INTEGER}}e.PairAstNode=L;class b extends D{static create23(r,s,a,u=!1){let p=r.length,S=r.missingOpeningBracketIds;if(r.listHeight!==s.listHeight)throw new Error("Invalid list heights");if(p=(0,m.lengthAdd)(p,s.length),S=S.merge(s.missingOpeningBracketIds),a){if(r.listHeight!==a.listHeight)throw new Error("Invalid list heights");p=(0,m.lengthAdd)(p,a.length),S=S.merge(a.missingOpeningBracketIds)}return u?new h(p,r.listHeight+1,r,s,a,S):new C(p,r.listHeight+1,r,s,a,S)}static getEmpty(){return new t(m.lengthZero,0,[],k.SmallImmutableSet.getEmpty())}get kind(){return 4}get missingOpeningBracketIds(){return this._missingOpeningBracketIds}constructor(r,s,a){super(r),this.listHeight=s,this._missingOpeningBracketIds=a,this.cachedMinIndentation=-1}throwIfImmutable(){}makeLastElementMutable(){this.throwIfImmutable();const r=this.childrenLength;if(r===0)return;const s=this.getChild(r-1),a=s.kind===4?s.toMutable():s;return s!==a&&this.setChild(r-1,a),a}makeFirstElementMutable(){if(this.throwIfImmutable(),this.childrenLength===0)return;const s=this.getChild(0),a=s.kind===4?s.toMutable():s;return s!==a&&this.setChild(0,a),a}canBeReused(r){if(r.intersects(this.missingOpeningBracketIds))return!1;let s=this,a;for(;s.kind===4&&(a=s.childrenLength)>0;)s=s.getChild(a-1);return s.canBeReused(r)}handleChildrenChanged(){this.throwIfImmutable();const r=this.childrenLength;let s=this.getChild(0).length,a=this.getChild(0).missingOpeningBracketIds;for(let u=1;u<r;u++){const p=this.getChild(u);s=(0,m.lengthAdd)(s,p.length),a=a.merge(p.missingOpeningBracketIds)}this._length=s,this._missingOpeningBracketIds=a,this.cachedMinIndentation=-1}computeMinIndentation(r,s){if(this.cachedMinIndentation!==-1)return this.cachedMinIndentation;let a=Number.MAX_SAFE_INTEGER,u=r;for(let p=0;p<this.childrenLength;p++){const S=this.getChild(p);S&&(a=Math.min(a,S.computeMinIndentation(u,s)),u=(0,m.lengthAdd)(u,S.length))}return this.cachedMinIndentation=a,a}}e.ListAstNode=b;class C extends b{get childrenLength(){return this._item3!==null?3:2}getChild(r){switch(r){case 0:return this._item1;case 1:return this._item2;case 2:return this._item3}throw new Error("Invalid child index")}setChild(r,s){switch(r){case 0:this._item1=s;return;case 1:this._item2=s;return;case 2:this._item3=s;return}throw new Error("Invalid child index")}get children(){return this._item3?[this._item1,this._item2,this._item3]:[this._item1,this._item2]}get item1(){return this._item1}get item2(){return this._item2}get item3(){return this._item3}constructor(r,s,a,u,p,S){super(r,s,S),this._item1=a,this._item2=u,this._item3=p}deepClone(){return new C(this.length,this.listHeight,this._item1.deepClone(),this._item2.deepClone(),this._item3?this._item3.deepClone():null,this.missingOpeningBracketIds)}appendChildOfSameHeight(r){if(this._item3)throw new Error("Cannot append to a full (2,3) tree node");this.throwIfImmutable(),this._item3=r,this.handleChildrenChanged()}unappendChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const r=this._item3;return this._item3=null,this.handleChildrenChanged(),r}prependChildOfSameHeight(r){if(this._item3)throw new Error("Cannot prepend to a full (2,3) tree node");this.throwIfImmutable(),this._item3=this._item2,this._item2=this._item1,this._item1=r,this.handleChildrenChanged()}unprependChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const r=this._item1;return this._item1=this._item2,this._item2=this._item3,this._item3=null,this.handleChildrenChanged(),r}toMutable(){return this}}class h extends C{toMutable(){return new C(this.length,this.listHeight,this.item1,this.item2,this.item3,this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}class g extends b{get childrenLength(){return this._children.length}getChild(r){return this._children[r]}setChild(r,s){this._children[r]=s}get children(){return this._children}constructor(r,s,a,u){super(r,s,u),this._children=a}deepClone(){const r=new Array(this._children.length);for(let s=0;s<this._children.length;s++)r[s]=this._children[s].deepClone();return new g(this.length,this.listHeight,r,this.missingOpeningBracketIds)}appendChildOfSameHeight(r){this.throwIfImmutable(),this._children.push(r),this.handleChildrenChanged()}unappendChild(){this.throwIfImmutable();const r=this._children.pop();return this.handleChildrenChanged(),r}prependChildOfSameHeight(r){this.throwIfImmutable(),this._children.unshift(r),this.handleChildrenChanged()}unprependChild(){this.throwIfImmutable();const r=this._children.shift();return this.handleChildrenChanged(),r}toMutable(){return this}}class t extends g{toMutable(){return new g(this.length,this.listHeight,[...this.children],this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}const i=[];class n extends D{get listHeight(){return 0}get childrenLength(){return 0}getChild(r){return null}get children(){return i}deepClone(){return this}}class o extends n{get kind(){return 0}get missingOpeningBracketIds(){return k.SmallImmutableSet.getEmpty()}canBeReused(r){return!0}computeMinIndentation(r,s){const a=(0,m.lengthToObj)(r),u=(a.columnCount===0?a.lineCount:a.lineCount+1)+1,p=(0,m.lengthGetLineCount)((0,m.lengthAdd)(r,this.length))+1;let S=Number.MAX_SAFE_INTEGER;for(let f=u;f<=p;f++){const v=s.getLineFirstNonWhitespaceColumn(f),_=s.getLineContent(f);if(v===0)continue;const y=w.CursorColumns.visibleColumnFromColumn(_,v,s.getOptions().tabSize);S=Math.min(S,y)}return S}}e.TextAstNode=o;class l extends n{static create(r,s,a){return new l(r,s,a)}get kind(){return 1}get missingOpeningBracketIds(){return k.SmallImmutableSet.getEmpty()}constructor(r,s,a){super(r),this.bracketInfo=s,this.bracketIds=a}get text(){return this.bracketInfo.bracketText}get languageId(){return this.bracketInfo.languageId}canBeReused(r){return!1}computeMinIndentation(r,s){return Number.MAX_SAFE_INTEGER}}e.BracketAstNode=l;class c extends n{get kind(){return 3}constructor(r,s){super(s),this.missingOpeningBracketIds=r}canBeReused(r){return!r.intersects(this.missingOpeningBracketIds)}computeMinIndentation(r,s){return Number.MAX_SAFE_INTEGER}}e.InvalidBracketAstNode=c}),define(se[437],re([1,0,158]),function(q,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.concat23TreesOfSameHeight=e.concat23Trees=void 0;function m(h){if(h.length===0)return null;if(h.length===1)return h[0];let g=0;function t(){if(g>=h.length)return null;const l=g,c=h[l].listHeight;for(g++;g<h.length&&h[g].listHeight===c;)g++;return g-l>=2?k(l===0&&g===h.length?h:h.slice(l,g),!1):h[l]}let i=t(),n=t();if(!n)return i;for(let l=t();l;l=t())D(i,n)<=D(n,l)?(i=L(i,n),n=l):n=L(n,l);return L(i,n)}e.concat23Trees=m;function k(h,g=!1){if(h.length===0)return null;if(h.length===1)return h[0];let t=h.length;for(;t>3;){const i=t>>1;for(let n=0;n<i;n++){const o=n<<1;h[n]=w.ListAstNode.create23(h[o],h[o+1],o+3===t?h[o+2]:null,g)}t=i}return w.ListAstNode.create23(h[0],h[1],t>=3?h[2]:null,g)}e.concat23TreesOfSameHeight=k;function D(h,g){return Math.abs(h.listHeight-g.listHeight)}function L(h,g){return h.listHeight===g.listHeight?w.ListAstNode.create23(h,g,null,!1):h.listHeight>g.listHeight?b(h,g):C(g,h)}function b(h,g){h=h.toMutable();let t=h;const i=new Array;let n;for(;;){if(g.listHeight===t.listHeight){n=g;break}if(t.kind!==4)throw new Error("unexpected");i.push(t),t=t.makeLastElementMutable()}for(let o=i.length-1;o>=0;o--){const l=i[o];n?l.childrenLength>=3?n=w.ListAstNode.create23(l.unappendChild(),n,null,!1):(l.appendChildOfSameHeight(n),n=void 0):l.handleChildrenChanged()}return n?w.ListAstNode.create23(h,n,null,!1):h}function C(h,g){h=h.toMutable();let t=h;const i=new Array;for(;g.listHeight!==t.listHeight;){if(t.kind!==4)throw new Error("unexpected");i.push(t),t=t.makeFirstElementMutable()}let n=g;for(let o=i.length-1;o>=0;o--){const l=i[o];n?l.childrenLength>=3?n=w.ListAstNode.create23(n,l.unprependChild(),null,!1):(l.prependChildOfSameHeight(n),n=void 0):l.handleChildrenChanged()}return n?w.ListAstNode.create23(n,h,null,!1):h}}),define(se[241],re([1,0,158,240,113,91,437,436]),function(q,e,w,m,k,D,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseDocument=void 0;function C(g,t,i,n){return new h(g,t,i,n).parseDocument()}e.parseDocument=C;class h{constructor(t,i,n,o){if(this.tokenizer=t,this.createImmutableLists=o,this._itemsConstructed=0,this._itemsFromCache=0,n&&o)throw new Error("Not supported");this.oldNodeReader=n?new b.NodeReader(n):void 0,this.positionMapper=new m.BeforeEditPositionMapper(i,t.length)}parseDocument(){this._itemsConstructed=0,this._itemsFromCache=0;let t=this.parseList(k.SmallImmutableSet.getEmpty());return t||(t=w.ListAstNode.getEmpty()),t}parseList(t){const i=new Array;for(;;){const o=this.tokenizer.peek();if(!o||o.kind===2&&o.bracketIds.intersects(t))break;const l=this.parseChild(t);l.kind===4&&l.childrenLength===0||i.push(l)}return this.oldNodeReader?(0,L.concat23Trees)(i):(0,L.concat23TreesOfSameHeight)(i,this.createImmutableLists)}parseChild(t){if(this.oldNodeReader){const n=this.positionMapper.getDistanceToNextChange(this.tokenizer.offset);if(!(0,D.lengthIsZero)(n)){const o=this.oldNodeReader.readLongestNodeAt(this.positionMapper.getOffsetBeforeChange(this.tokenizer.offset),l=>(0,D.lengthLessThan)(l.length,n)?l.canBeReused(t):!1);if(o)return this._itemsFromCache++,this.tokenizer.skip(o.length),o}}this._itemsConstructed++;const i=this.tokenizer.read();switch(i.kind){case 2:return new w.InvalidBracketAstNode(i.bracketIds,i.length);case 0:return i.astNode;case 1:{const n=t.merge(i.bracketIds),o=this.parseList(n),l=this.tokenizer.peek();return l&&l.kind===2&&(l.bracketId===i.bracketId||l.bracketIds.intersects(i.bracketIds))?(this.tokenizer.read(),w.PairAstNode.create(i.astNode,o,l.astNode)):w.PairAstNode.create(i.astNode,o,null)}default:throw new Error("unexpected")}}}}),define(se[189],re([1,0,14,111,158,91,113]),function(q,e,w,m,k,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FastTokenizer=e.TextBufferTokenizer=e.Token=void 0;class b{constructor(i,n,o,l,c){this.length=i,this.kind=n,this.bracketId=o,this.bracketIds=l,this.astNode=c}}e.Token=b;class C{constructor(i,n){this.textModel=i,this.bracketTokens=n,this.reader=new h(this.textModel,this.bracketTokens),this._offset=D.lengthZero,this.didPeek=!1,this.peeked=null,this.textBufferLineCount=i.getLineCount(),this.textBufferLastLineLength=i.getLineLength(this.textBufferLineCount)}get offset(){return this._offset}get length(){return(0,D.toLength)(this.textBufferLineCount,this.textBufferLastLineLength)}skip(i){this.didPeek=!1,this._offset=(0,D.lengthAdd)(this._offset,i);const n=(0,D.lengthToObj)(this._offset);this.reader.setPosition(n.lineCount,n.columnCount)}read(){let i;return this.peeked?(this.didPeek=!1,i=this.peeked):i=this.reader.read(),i&&(this._offset=(0,D.lengthAdd)(this._offset,i.length)),i}peek(){return this.didPeek||(this.peeked=this.reader.read(),this.didPeek=!0),this.peeked}}e.TextBufferTokenizer=C;class h{constructor(i,n){this.textModel=i,this.bracketTokens=n,this.lineIdx=0,this.line=null,this.lineCharOffset=0,this.lineTokens=null,this.lineTokenOffset=0,this.peekedToken=null,this.textBufferLineCount=i.getLineCount(),this.textBufferLastLineLength=i.getLineLength(this.textBufferLineCount)}setPosition(i,n){i===this.lineIdx?(this.lineCharOffset=n,this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset)):(this.lineIdx=i,this.lineCharOffset=n,this.line=null),this.peekedToken=null}read(){if(this.peekedToken){const c=this.peekedToken;return this.peekedToken=null,this.lineCharOffset+=(0,D.lengthGetColumnCountIfZeroLineCount)(c.length),c}if(this.lineIdx>this.textBufferLineCount-1||this.lineIdx===this.textBufferLineCount-1&&this.lineCharOffset>=this.textBufferLastLineLength)return null;this.line===null&&(this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.line=this.lineTokens.getLineContent(),this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset));const i=this.lineIdx,n=this.lineCharOffset;let o=0;for(;;){const c=this.lineTokens,d=c.getCount();let r=null;if(this.lineTokenOffset<d){const s=c.getMetadata(this.lineTokenOffset);for(;this.lineTokenOffset+1<d&&s===c.getMetadata(this.lineTokenOffset+1);)this.lineTokenOffset++;const a=m.TokenMetadata.getTokenType(s)===0,u=m.TokenMetadata.containsBalancedBrackets(s),p=c.getEndOffset(this.lineTokenOffset);if(u&&a&&this.lineCharOffset<p){const S=c.getLanguageId(this.lineTokenOffset),f=this.line.substring(this.lineCharOffset,p),v=this.bracketTokens.getSingleLanguageBracketTokens(S),_=v.regExpGlobal;if(_){_.lastIndex=0;const y=_.exec(f);y&&(r=v.getToken(y[0]),r&&(this.lineCharOffset+=y.index))}}if(o+=p-this.lineCharOffset,r)if(i!==this.lineIdx||n!==this.lineCharOffset){this.peekedToken=r;break}else return this.lineCharOffset+=(0,D.lengthGetColumnCountIfZeroLineCount)(r.length),r;else this.lineTokenOffset++,this.lineCharOffset=p}else if(this.lineIdx===this.textBufferLineCount-1||(this.lineIdx++,this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.lineTokenOffset=0,this.line=this.lineTokens.getLineContent(),this.lineCharOffset=0,o+=33,o>1e3))break;if(o>1500)break}const l=(0,D.lengthDiff)(i,n,this.lineIdx,this.lineCharOffset);return new b(l,0,-1,L.SmallImmutableSet.getEmpty(),new k.TextAstNode(l))}}class g{constructor(i,n){this.text=i,this._offset=D.lengthZero,this.idx=0;const o=n.getRegExpStr(),l=o?new RegExp(o+`|
`,"gi"):null,c=[];let d,r=0,s=0,a=0,u=0;const p=new Array;for(let v=0;v<60;v++)p.push(new b((0,D.toLength)(0,v),0,-1,L.SmallImmutableSet.getEmpty(),new k.TextAstNode((0,D.toLength)(0,v))));const S=new Array;for(let v=0;v<60;v++)S.push(new b((0,D.toLength)(1,v),0,-1,L.SmallImmutableSet.getEmpty(),new k.TextAstNode((0,D.toLength)(1,v))));if(l)for(l.lastIndex=0;(d=l.exec(i))!==null;){const v=d.index,_=d[0];if(_===`
`)r++,s=v+1;else{if(a!==v){let y;if(u===r){const E=v-a;if(E<p.length)y=p[E];else{const T=(0,D.toLength)(0,E);y=new b(T,0,-1,L.SmallImmutableSet.getEmpty(),new k.TextAstNode(T))}}else{const E=r-u,T=v-s;if(E===1&&T<S.length)y=S[T];else{const I=(0,D.toLength)(E,T);y=new b(I,0,-1,L.SmallImmutableSet.getEmpty(),new k.TextAstNode(I))}}c.push(y)}c.push(n.getToken(_)),a=v+_.length,u=r}}const f=i.length;if(a!==f){const v=u===r?(0,D.toLength)(0,f-a):(0,D.toLength)(r-u,f-s);c.push(new b(v,0,-1,L.SmallImmutableSet.getEmpty(),new k.TextAstNode(v)))}this.length=(0,D.toLength)(r,f-s),this.tokens=c}get offset(){return this._offset}read(){return this.tokens[this.idx++]||null}peek(){return this.tokens[this.idx]||null}skip(i){throw new w.NotSupportedError}}e.FastTokenizer=g}),define(se[242],re([1,0,8,158,91,113,189]),function(q,e,w,m,k,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageAgnosticBracketTokens=e.BracketTokens=void 0;class b{static createFromLanguage(t,i){function n(l){return i.getKey(`${l.languageId}:::${l.bracketText}`)}const o=new Map;for(const l of t.bracketsNew.openingBrackets){const c=(0,k.toLength)(0,l.bracketText.length),d=n(l),r=D.SmallImmutableSet.getEmpty().add(d,D.identityKeyProvider);o.set(l.bracketText,new L.Token(c,1,d,r,m.BracketAstNode.create(c,l,r)))}for(const l of t.bracketsNew.closingBrackets){const c=(0,k.toLength)(0,l.bracketText.length);let d=D.SmallImmutableSet.getEmpty();const r=l.getClosedBrackets();for(const s of r)d=d.add(n(s),D.identityKeyProvider);o.set(l.bracketText,new L.Token(c,2,n(r[0]),d,m.BracketAstNode.create(c,l,d)))}return new b(o)}constructor(t){this.map=t,this.hasRegExp=!1,this._regExpGlobal=null}getRegExpStr(){if(this.isEmpty)return null;{const t=[...this.map.keys()];return t.sort(),t.reverse(),t.map(i=>C(i)).join("|")}}get regExpGlobal(){if(!this.hasRegExp){const t=this.getRegExpStr();this._regExpGlobal=t?new RegExp(t,"gi"):null,this.hasRegExp=!0}return this._regExpGlobal}getToken(t){return this.map.get(t.toLowerCase())}findClosingTokenText(t){for(const[i,n]of this.map)if(n.kind===2&&n.bracketIds.intersects(t))return i}get isEmpty(){return this.map.size===0}}e.BracketTokens=b;function C(g){let t=(0,w.escapeRegExpCharacters)(g);return/^[\w ]+/.test(g)&&(t=`\\b${t}`),/[\w ]+$/.test(g)&&(t=`${t}\\b`),t}class h{constructor(t,i){this.denseKeyProvider=t,this.getLanguageConfiguration=i,this.languageIdToBracketTokens=new Map}didLanguageChange(t){return this.languageIdToBracketTokens.has(t)}getSingleLanguageBracketTokens(t){let i=this.languageIdToBracketTokens.get(t);return i||(i=b.createFromLanguage(this.getLanguageConfiguration(t),this.denseKeyProvider),this.languageIdToBracketTokens.set(t,i)),i}}e.LanguageAgnosticBracketTokens=h}),define(se[438],re([1,0,242,91,241,113,189]),function(q,e,w,m,k,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fixBracketsInLine=void 0;function b(h,g){const t=new D.DenseKeyProvider,i=new w.LanguageAgnosticBracketTokens(t,r=>g.getLanguageConfiguration(r)),n=new L.TextBufferTokenizer(new C([h]),i),o=(0,k.parseDocument)(n,[],void 0,!0);let l="";const c=h.getLineContent();function d(r,s){if(r.kind===2)d(r.openingBracket,s),s=(0,m.lengthAdd)(s,r.openingBracket.length),r.child&&(d(r.child,s),s=(0,m.lengthAdd)(s,r.child.length)),r.closingBracket?(d(r.closingBracket,s),s=(0,m.lengthAdd)(s,r.closingBracket.length)):l+=i.getSingleLanguageBracketTokens(r.openingBracket.languageId).findClosingTokenText(r.openingBracket.bracketIds);else if(r.kind!==3){if(r.kind===0||r.kind===1)l+=c.substring((0,m.lengthGetColumnCountIfZeroLineCount)(s),(0,m.lengthGetColumnCountIfZeroLineCount)((0,m.lengthAdd)(s,r.length)));else if(r.kind===4)for(const a of r.children)d(a,s),s=(0,m.lengthAdd)(s,a.length)}}return d(o,m.lengthZero),l}e.fixBracketsInLine=b;class C{constructor(g){this.lines=g,this.tokenization={getLineTokens:t=>this.lines[t-1]}}getLineCount(){return this.lines.length}getLineLength(g){return this.lines[g-1].getLineContent().length}}}),define(se[439],re([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.guessIndentation=void 0;class w{constructor(){this.spacesDiff=0,this.looksLikeAlignment=!1}}function m(D,L,b,C,h){h.spacesDiff=0,h.looksLikeAlignment=!1;let g;for(g=0;g<L&&g<C;g++){const d=D.charCodeAt(g),r=b.charCodeAt(g);if(d!==r)break}let t=0,i=0;for(let d=g;d<L;d++)D.charCodeAt(d)===32?t++:i++;let n=0,o=0;for(let d=g;d<C;d++)b.charCodeAt(d)===32?n++:o++;if(t>0&&i>0||n>0&&o>0)return;const l=Math.abs(i-o),c=Math.abs(t-n);if(l===0){h.spacesDiff=c,c>0&&0<=n-1&&n-1<D.length&&n<b.length&&b.charCodeAt(n)!==32&&D.charCodeAt(n-1)===32&&D.charCodeAt(D.length-1)===44&&(h.looksLikeAlignment=!0);return}if(c%l===0){h.spacesDiff=c/l;return}}function k(D,L,b){const C=Math.min(D.getLineCount(),1e4);let h=0,g=0,t="",i=0;const n=[2,4,6,8,3,5,7],o=8,l=[0,0,0,0,0,0,0,0,0],c=new w;for(let s=1;s<=C;s++){const a=D.getLineLength(s),u=D.getLineContent(s),p=a<=65536;let S=!1,f=0,v=0,_=0;for(let E=0,T=a;E<T;E++){const I=p?u.charCodeAt(E):D.getLineCharCode(s,E);if(I===9)_++;else if(I===32)v++;else{S=!0,f=E;break}}if(!S||(_>0?h++:v>1&&g++,m(t,i,u,f,c),c.looksLikeAlignment&&!(b&&L===c.spacesDiff)))continue;const y=c.spacesDiff;y<=o&&l[y]++,t=u,i=f}let d=b;h!==g&&(d=h<g);let r=L;if(d){let s=d?0:.1*C;n.forEach(a=>{const u=l[a];u>s&&(s=u,r=a)}),r===4&&l[4]>0&&l[2]>0&&l[2]>=l[4]/2&&(r=2)}return{insertSpaces:d,tabSize:r}}e.guessIndentation=k}),define(se[440],re([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.intervalCompare=e.recomputeMaxEnd=e.nodeAcceptEdit=e.IntervalTree=e.SENTINEL=e.IntervalNode=e.getNodeColor=void 0;function w(M){return(M.metadata&1)>>>0}e.getNodeColor=w;function m(M,N){M.metadata=M.metadata&254|N<<0}function k(M){return(M.metadata&2)>>>1===1}function D(M,N){M.metadata=M.metadata&253|(N?1:0)<<1}function L(M){return(M.metadata&4)>>>2===1}function b(M,N){M.metadata=M.metadata&251|(N?1:0)<<2}function C(M){return(M.metadata&24)>>>3}function h(M,N){M.metadata=M.metadata&231|N<<3}function g(M){return(M.metadata&32)>>>5===1}function t(M,N){M.metadata=M.metadata&223|(N?1:0)<<5}class i{constructor(N,A,B){this.metadata=0,this.parent=this,this.left=this,this.right=this,m(this,1),this.start=A,this.end=B,this.delta=0,this.maxEnd=B,this.id=N,this.ownerId=0,this.options=null,b(this,!1),h(this,1),t(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=A,this.cachedAbsoluteEnd=B,this.range=null,D(this,!1)}reset(N,A,B,W){this.start=A,this.end=B,this.maxEnd=B,this.cachedVersionId=N,this.cachedAbsoluteStart=A,this.cachedAbsoluteEnd=B,this.range=W}setOptions(N){this.options=N;const A=this.options.className;b(this,A==="squiggly-error"||A==="squiggly-warning"||A==="squiggly-info"),h(this,this.options.stickiness),t(this,this.options.collapseOnReplaceEdit)}setCachedOffsets(N,A,B){this.cachedVersionId!==B&&(this.range=null),this.cachedVersionId=B,this.cachedAbsoluteStart=N,this.cachedAbsoluteEnd=A}detach(){this.parent=null,this.left=null,this.right=null}}e.IntervalNode=i,e.SENTINEL=new i(null,0,0),e.SENTINEL.parent=e.SENTINEL,e.SENTINEL.left=e.SENTINEL,e.SENTINEL.right=e.SENTINEL,m(e.SENTINEL,0);class n{constructor(){this.root=e.SENTINEL,this.requestNormalizeDelta=!1}intervalSearch(N,A,B,W,x){return this.root===e.SENTINEL?[]:p(this,N,A,B,W,x)}search(N,A,B){return this.root===e.SENTINEL?[]:u(this,N,A,B)}collectNodesFromOwner(N){return s(this,N)}collectNodesPostOrder(){return a(this)}insert(N){S(this,N),this._normalizeDeltaIfNecessary()}delete(N){v(this,N),this._normalizeDeltaIfNecessary()}resolveNode(N,A){const B=N;let W=0;for(;N!==this.root;)N===N.parent.right&&(W+=N.parent.delta),N=N.parent;const x=B.start+W,P=B.end+W;B.setCachedOffsets(x,P,A)}acceptReplace(N,A,B,W){const x=d(this,N,N+A);for(let P=0,X=x.length;P<X;P++){const ie=x[P];v(this,ie)}this._normalizeDeltaIfNecessary(),r(this,N,N+A,B),this._normalizeDeltaIfNecessary();for(let P=0,X=x.length;P<X;P++){const ie=x[P];ie.start=ie.cachedAbsoluteStart,ie.end=ie.cachedAbsoluteEnd,c(ie,N,N+A,B,W),ie.maxEnd=ie.end,S(this,ie)}this._normalizeDeltaIfNecessary()}_normalizeDeltaIfNecessary(){!this.requestNormalizeDelta||(this.requestNormalizeDelta=!1,o(this))}}e.IntervalTree=n;function o(M){let N=M.root,A=0;for(;N!==e.SENTINEL;){if(N.left!==e.SENTINEL&&!k(N.left)){N=N.left;continue}if(N.right!==e.SENTINEL&&!k(N.right)){A+=N.delta,N=N.right;continue}N.start=A+N.start,N.end=A+N.end,N.delta=0,R(N),D(N,!0),D(N.left,!1),D(N.right,!1),N===N.parent.right&&(A-=N.parent.delta),N=N.parent}D(M.root,!1)}function l(M,N,A,B){return M<A?!0:M>A||B===1?!1:B===2?!0:N}function c(M,N,A,B,W){const x=C(M),P=x===0||x===2,X=x===1||x===2,ie=A-N,K=B,G=Math.min(ie,K),Q=M.start;let ne=!1;const Z=M.end;let ee=!1;N<=Q&&Z<=A&&g(M)&&(M.start=N,ne=!0,M.end=N,ee=!0);{const V=W?1:ie>0?2:0;!ne&&l(Q,P,N,V)&&(ne=!0),!ee&&l(Z,X,N,V)&&(ee=!0)}if(G>0&&!W){const V=ie>K?2:0;!ne&&l(Q,P,N+G,V)&&(ne=!0),!ee&&l(Z,X,N+G,V)&&(ee=!0)}{const V=W?1:0;!ne&&l(Q,P,A,V)&&(M.start=N+K,ne=!0),!ee&&l(Z,X,A,V)&&(M.end=N+K,ee=!0)}const le=K-ie;ne||(M.start=Math.max(0,Q+le)),ee||(M.end=Math.max(0,Z+le)),M.start>M.end&&(M.end=M.start)}e.nodeAcceptEdit=c;function d(M,N,A){let B=M.root,W=0,x=0,P=0,X=0;const ie=[];let K=0;for(;B!==e.SENTINEL;){if(k(B)){D(B.left,!1),D(B.right,!1),B===B.parent.right&&(W-=B.parent.delta),B=B.parent;continue}if(!k(B.left)){if(x=W+B.maxEnd,x<N){D(B,!0);continue}if(B.left!==e.SENTINEL){B=B.left;continue}}if(P=W+B.start,P>A){D(B,!0);continue}if(X=W+B.end,X>=N&&(B.setCachedOffsets(P,X,0),ie[K++]=B),D(B,!0),B.right!==e.SENTINEL&&!k(B.right)){W+=B.delta,B=B.right;continue}}return D(M.root,!1),ie}function r(M,N,A,B){let W=M.root,x=0,P=0,X=0;const ie=B-(A-N);for(;W!==e.SENTINEL;){if(k(W)){D(W.left,!1),D(W.right,!1),W===W.parent.right&&(x-=W.parent.delta),R(W),W=W.parent;continue}if(!k(W.left)){if(P=x+W.maxEnd,P<N){D(W,!0);continue}if(W.left!==e.SENTINEL){W=W.left;continue}}if(X=x+W.start,X>A){W.start+=ie,W.end+=ie,W.delta+=ie,(W.delta<-1073741824||W.delta>1073741824)&&(M.requestNormalizeDelta=!0),D(W,!0);continue}if(D(W,!0),W.right!==e.SENTINEL&&!k(W.right)){x+=W.delta,W=W.right;continue}}D(M.root,!1)}function s(M,N){let A=M.root;const B=[];let W=0;for(;A!==e.SENTINEL;){if(k(A)){D(A.left,!1),D(A.right,!1),A=A.parent;continue}if(A.left!==e.SENTINEL&&!k(A.left)){A=A.left;continue}if(A.ownerId===N&&(B[W++]=A),D(A,!0),A.right!==e.SENTINEL&&!k(A.right)){A=A.right;continue}}return D(M.root,!1),B}function a(M){let N=M.root;const A=[];let B=0;for(;N!==e.SENTINEL;){if(k(N)){D(N.left,!1),D(N.right,!1),N=N.parent;continue}if(N.left!==e.SENTINEL&&!k(N.left)){N=N.left;continue}if(N.right!==e.SENTINEL&&!k(N.right)){N=N.right;continue}A[B++]=N,D(N,!0)}return D(M.root,!1),A}function u(M,N,A,B){let W=M.root,x=0,P=0,X=0;const ie=[];let K=0;for(;W!==e.SENTINEL;){if(k(W)){D(W.left,!1),D(W.right,!1),W===W.parent.right&&(x-=W.parent.delta),W=W.parent;continue}if(W.left!==e.SENTINEL&&!k(W.left)){W=W.left;continue}P=x+W.start,X=x+W.end,W.setCachedOffsets(P,X,B);let G=!0;if(N&&W.ownerId&&W.ownerId!==N&&(G=!1),A&&L(W)&&(G=!1),G&&(ie[K++]=W),D(W,!0),W.right!==e.SENTINEL&&!k(W.right)){x+=W.delta,W=W.right;continue}}return D(M.root,!1),ie}function p(M,N,A,B,W,x){let P=M.root,X=0,ie=0,K=0,G=0;const Q=[];let ne=0;for(;P!==e.SENTINEL;){if(k(P)){D(P.left,!1),D(P.right,!1),P===P.parent.right&&(X-=P.parent.delta),P=P.parent;continue}if(!k(P.left)){if(ie=X+P.maxEnd,ie<N){D(P,!0);continue}if(P.left!==e.SENTINEL){P=P.left;continue}}if(K=X+P.start,K>A){D(P,!0);continue}if(G=X+P.end,G>=N){P.setCachedOffsets(K,G,x);let Z=!0;B&&P.ownerId&&P.ownerId!==B&&(Z=!1),W&&L(P)&&(Z=!1),Z&&(Q[ne++]=P)}if(D(P,!0),P.right!==e.SENTINEL&&!k(P.right)){X+=P.delta,P=P.right;continue}}return D(M.root,!1),Q}function S(M,N){if(M.root===e.SENTINEL)return N.parent=e.SENTINEL,N.left=e.SENTINEL,N.right=e.SENTINEL,m(N,0),M.root=N,M.root;f(M,N),F(N.parent);let A=N;for(;A!==M.root&&w(A.parent)===1;)if(A.parent===A.parent.parent.left){const B=A.parent.parent.right;w(B)===1?(m(A.parent,0),m(B,0),m(A.parent.parent,1),A=A.parent.parent):(A===A.parent.right&&(A=A.parent,E(M,A)),m(A.parent,0),m(A.parent.parent,1),T(M,A.parent.parent))}else{const B=A.parent.parent.left;w(B)===1?(m(A.parent,0),m(B,0),m(A.parent.parent,1),A=A.parent.parent):(A===A.parent.left&&(A=A.parent,T(M,A)),m(A.parent,0),m(A.parent.parent,1),E(M,A.parent.parent))}return m(M.root,0),N}function f(M,N){let A=0,B=M.root;const W=N.start,x=N.end;for(;;)if(O(W,x,B.start+A,B.end+A)<0)if(B.left===e.SENTINEL){N.start-=A,N.end-=A,N.maxEnd-=A,B.left=N;break}else B=B.left;else if(B.right===e.SENTINEL){N.start-=A+B.delta,N.end-=A+B.delta,N.maxEnd-=A+B.delta,B.right=N;break}else A+=B.delta,B=B.right;N.parent=B,N.left=e.SENTINEL,N.right=e.SENTINEL,m(N,1)}function v(M,N){let A,B;if(N.left===e.SENTINEL?(A=N.right,B=N,A.delta+=N.delta,(A.delta<-1073741824||A.delta>1073741824)&&(M.requestNormalizeDelta=!0),A.start+=N.delta,A.end+=N.delta):N.right===e.SENTINEL?(A=N.left,B=N):(B=_(N.right),A=B.right,A.start+=B.delta,A.end+=B.delta,A.delta+=B.delta,(A.delta<-1073741824||A.delta>1073741824)&&(M.requestNormalizeDelta=!0),B.start+=N.delta,B.end+=N.delta,B.delta=N.delta,(B.delta<-1073741824||B.delta>1073741824)&&(M.requestNormalizeDelta=!0)),B===M.root){M.root=A,m(A,0),N.detach(),y(),R(A),M.root.parent=e.SENTINEL;return}const W=w(B)===1;if(B===B.parent.left?B.parent.left=A:B.parent.right=A,B===N?A.parent=B.parent:(B.parent===N?A.parent=B:A.parent=B.parent,B.left=N.left,B.right=N.right,B.parent=N.parent,m(B,w(N)),N===M.root?M.root=B:N===N.parent.left?N.parent.left=B:N.parent.right=B,B.left!==e.SENTINEL&&(B.left.parent=B),B.right!==e.SENTINEL&&(B.right.parent=B)),N.detach(),W){F(A.parent),B!==N&&(F(B),F(B.parent)),y();return}F(A),F(A.parent),B!==N&&(F(B),F(B.parent));let x;for(;A!==M.root&&w(A)===0;)A===A.parent.left?(x=A.parent.right,w(x)===1&&(m(x,0),m(A.parent,1),E(M,A.parent),x=A.parent.right),w(x.left)===0&&w(x.right)===0?(m(x,1),A=A.parent):(w(x.right)===0&&(m(x.left,0),m(x,1),T(M,x),x=A.parent.right),m(x,w(A.parent)),m(A.parent,0),m(x.right,0),E(M,A.parent),A=M.root)):(x=A.parent.left,w(x)===1&&(m(x,0),m(A.parent,1),T(M,A.parent),x=A.parent.left),w(x.left)===0&&w(x.right)===0?(m(x,1),A=A.parent):(w(x.left)===0&&(m(x.right,0),m(x,1),E(M,x),x=A.parent.left),m(x,w(A.parent)),m(A.parent,0),m(x.left,0),T(M,A.parent),A=M.root));m(A,0),y()}function _(M){for(;M.left!==e.SENTINEL;)M=M.left;return M}function y(){e.SENTINEL.parent=e.SENTINEL,e.SENTINEL.delta=0,e.SENTINEL.start=0,e.SENTINEL.end=0}function E(M,N){const A=N.right;A.delta+=N.delta,(A.delta<-1073741824||A.delta>1073741824)&&(M.requestNormalizeDelta=!0),A.start+=N.delta,A.end+=N.delta,N.right=A.left,A.left!==e.SENTINEL&&(A.left.parent=N),A.parent=N.parent,N.parent===e.SENTINEL?M.root=A:N===N.parent.left?N.parent.left=A:N.parent.right=A,A.left=N,N.parent=A,R(N),R(A)}function T(M,N){const A=N.left;N.delta-=A.delta,(N.delta<-1073741824||N.delta>1073741824)&&(M.requestNormalizeDelta=!0),N.start-=A.delta,N.end-=A.delta,N.left=A.right,A.right!==e.SENTINEL&&(A.right.parent=N),A.parent=N.parent,N.parent===e.SENTINEL?M.root=A:N===N.parent.right?N.parent.right=A:N.parent.left=A,A.right=N,N.parent=A,R(N),R(A)}function I(M){let N=M.end;if(M.left!==e.SENTINEL){const A=M.left.maxEnd;A>N&&(N=A)}if(M.right!==e.SENTINEL){const A=M.right.maxEnd+M.delta;A>N&&(N=A)}return N}function R(M){M.maxEnd=I(M)}e.recomputeMaxEnd=R;function F(M){for(;M!==e.SENTINEL;){const N=I(M);if(M.maxEnd===N)return;M.maxEnd=N,M=M.parent}}function O(M,N,A,B){return M===A?N-B:M-A}e.intervalCompare=O}),define(se[441],re([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.recomputeTreeMetadata=e.updateTreeMetadata=e.fixInsert=e.rbDelete=e.rightRotate=e.leftRotate=e.resetSentinel=e.calculateLF=e.calculateSize=e.righttest=e.leftest=e.SENTINEL=e.TreeNode=void 0;class w{constructor(l,c){this.piece=l,this.color=c,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==e.SENTINEL)return m(this.right);let l=this;for(;l.parent!==e.SENTINEL&&l.parent.left!==l;)l=l.parent;return l.parent===e.SENTINEL?e.SENTINEL:l.parent}prev(){if(this.left!==e.SENTINEL)return k(this.left);let l=this;for(;l.parent!==e.SENTINEL&&l.parent.right!==l;)l=l.parent;return l.parent===e.SENTINEL?e.SENTINEL:l.parent}detach(){this.parent=null,this.left=null,this.right=null}}e.TreeNode=w,e.SENTINEL=new w(null,0),e.SENTINEL.parent=e.SENTINEL,e.SENTINEL.left=e.SENTINEL,e.SENTINEL.right=e.SENTINEL,e.SENTINEL.color=0;function m(o){for(;o.left!==e.SENTINEL;)o=o.left;return o}e.leftest=m;function k(o){for(;o.right!==e.SENTINEL;)o=o.right;return o}e.righttest=k;function D(o){return o===e.SENTINEL?0:o.size_left+o.piece.length+D(o.right)}e.calculateSize=D;function L(o){return o===e.SENTINEL?0:o.lf_left+o.piece.lineFeedCnt+L(o.right)}e.calculateLF=L;function b(){e.SENTINEL.parent=e.SENTINEL}e.resetSentinel=b;function C(o,l){const c=l.right;c.size_left+=l.size_left+(l.piece?l.piece.length:0),c.lf_left+=l.lf_left+(l.piece?l.piece.lineFeedCnt:0),l.right=c.left,c.left!==e.SENTINEL&&(c.left.parent=l),c.parent=l.parent,l.parent===e.SENTINEL?o.root=c:l.parent.left===l?l.parent.left=c:l.parent.right=c,c.left=l,l.parent=c}e.leftRotate=C;function h(o,l){const c=l.left;l.left=c.right,c.right!==e.SENTINEL&&(c.right.parent=l),c.parent=l.parent,l.size_left-=c.size_left+(c.piece?c.piece.length:0),l.lf_left-=c.lf_left+(c.piece?c.piece.lineFeedCnt:0),l.parent===e.SENTINEL?o.root=c:l===l.parent.right?l.parent.right=c:l.parent.left=c,c.right=l,l.parent=c}e.rightRotate=h;function g(o,l){let c,d;if(l.left===e.SENTINEL?(d=l,c=d.right):l.right===e.SENTINEL?(d=l,c=d.left):(d=m(l.right),c=d.right),d===o.root){o.root=c,c.color=0,l.detach(),b(),o.root.parent=e.SENTINEL;return}const r=d.color===1;if(d===d.parent.left?d.parent.left=c:d.parent.right=c,d===l?(c.parent=d.parent,n(o,c)):(d.parent===l?c.parent=d:c.parent=d.parent,n(o,c),d.left=l.left,d.right=l.right,d.parent=l.parent,d.color=l.color,l===o.root?o.root=d:l===l.parent.left?l.parent.left=d:l.parent.right=d,d.left!==e.SENTINEL&&(d.left.parent=d),d.right!==e.SENTINEL&&(d.right.parent=d),d.size_left=l.size_left,d.lf_left=l.lf_left,n(o,d)),l.detach(),c.parent.left===c){const a=D(c),u=L(c);if(a!==c.parent.size_left||u!==c.parent.lf_left){const p=a-c.parent.size_left,S=u-c.parent.lf_left;c.parent.size_left=a,c.parent.lf_left=u,i(o,c.parent,p,S)}}if(n(o,c.parent),r){b();return}let s;for(;c!==o.root&&c.color===0;)c===c.parent.left?(s=c.parent.right,s.color===1&&(s.color=0,c.parent.color=1,C(o,c.parent),s=c.parent.right),s.left.color===0&&s.right.color===0?(s.color=1,c=c.parent):(s.right.color===0&&(s.left.color=0,s.color=1,h(o,s),s=c.parent.right),s.color=c.parent.color,c.parent.color=0,s.right.color=0,C(o,c.parent),c=o.root)):(s=c.parent.left,s.color===1&&(s.color=0,c.parent.color=1,h(o,c.parent),s=c.parent.left),s.left.color===0&&s.right.color===0?(s.color=1,c=c.parent):(s.left.color===0&&(s.right.color=0,s.color=1,C(o,s),s=c.parent.left),s.color=c.parent.color,c.parent.color=0,s.left.color=0,h(o,c.parent),c=o.root));c.color=0,b()}e.rbDelete=g;function t(o,l){for(n(o,l);l!==o.root&&l.parent.color===1;)if(l.parent===l.parent.parent.left){const c=l.parent.parent.right;c.color===1?(l.parent.color=0,c.color=0,l.parent.parent.color=1,l=l.parent.parent):(l===l.parent.right&&(l=l.parent,C(o,l)),l.parent.color=0,l.parent.parent.color=1,h(o,l.parent.parent))}else{const c=l.parent.parent.left;c.color===1?(l.parent.color=0,c.color=0,l.parent.parent.color=1,l=l.parent.parent):(l===l.parent.left&&(l=l.parent,h(o,l)),l.parent.color=0,l.parent.parent.color=1,C(o,l.parent.parent))}o.root.color=0}e.fixInsert=t;function i(o,l,c,d){for(;l!==o.root&&l!==e.SENTINEL;)l.parent.left===l&&(l.parent.size_left+=c,l.parent.lf_left+=d),l=l.parent}e.updateTreeMetadata=i;function n(o,l){let c=0,d=0;if(l!==o.root){for(;l!==o.root&&l===l.parent.right;)l=l.parent;if(l!==o.root)for(l=l.parent,c=D(l.left)-l.size_left,d=L(l.left)-l.lf_left,l.size_left+=c,l.lf_left+=d;l!==o.root&&(c!==0||d!==0);)l.parent.left===l&&(l.parent.size_left+=c,l.parent.lf_left+=d),l=l.parent}}e.recomputeTreeMetadata=n}),define(se[243],re([1,0,18,150]),function(q,e,w,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PrefixSumIndexOfResult=e.ConstantTimePrefixSumComputer=e.PrefixSumComputer=void 0;class k{constructor(C){this.values=C,this.prefixSum=new Uint32Array(C.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}insertValues(C,h){C=(0,m.toUint32)(C);const g=this.values,t=this.prefixSum,i=h.length;return i===0?!1:(this.values=new Uint32Array(g.length+i),this.values.set(g.subarray(0,C),0),this.values.set(g.subarray(C),C+i),this.values.set(h,C),C-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=C-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(t.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}setValue(C,h){return C=(0,m.toUint32)(C),h=(0,m.toUint32)(h),this.values[C]===h?!1:(this.values[C]=h,C-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=C-1),!0)}removeValues(C,h){C=(0,m.toUint32)(C),h=(0,m.toUint32)(h);const g=this.values,t=this.prefixSum;if(C>=g.length)return!1;const i=g.length-C;return h>=i&&(h=i),h===0?!1:(this.values=new Uint32Array(g.length-h),this.values.set(g.subarray(0,C),0),this.values.set(g.subarray(C+h),C),this.prefixSum=new Uint32Array(this.values.length),C-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=C-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(t.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}getTotalSum(){return this.values.length===0?0:this._getPrefixSum(this.values.length-1)}getPrefixSum(C){return C<0?0:(C=(0,m.toUint32)(C),this._getPrefixSum(C))}_getPrefixSum(C){if(C<=this.prefixSumValidIndex[0])return this.prefixSum[C];let h=this.prefixSumValidIndex[0]+1;h===0&&(this.prefixSum[0]=this.values[0],h++),C>=this.values.length&&(C=this.values.length-1);for(let g=h;g<=C;g++)this.prefixSum[g]=this.prefixSum[g-1]+this.values[g];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],C),this.prefixSum[C]}getIndexOf(C){C=Math.floor(C),this.getTotalSum();let h=0,g=this.values.length-1,t=0,i=0,n=0;for(;h<=g;)if(t=h+(g-h)/2|0,i=this.prefixSum[t],n=i-this.values[t],C<n)g=t-1;else if(C>=i)h=t+1;else break;return new L(t,C-n)}}e.PrefixSumComputer=k;class D{constructor(C){this._values=C,this._isValid=!1,this._validEndIndex=-1,this._prefixSum=[],this._indexBySum=[]}getTotalSum(){return this._ensureValid(),this._indexBySum.length}getPrefixSum(C){return this._ensureValid(),C===0?0:this._prefixSum[C-1]}getIndexOf(C){this._ensureValid();const h=this._indexBySum[C],g=h>0?this._prefixSum[h-1]:0;return new L(h,C-g)}removeValues(C,h){this._values.splice(C,h),this._invalidate(C)}insertValues(C,h){this._values=(0,w.arrayInsert)(this._values,C,h),this._invalidate(C)}_invalidate(C){this._isValid=!1,this._validEndIndex=Math.min(this._validEndIndex,C-1)}_ensureValid(){if(!this._isValid){for(let C=this._validEndIndex+1,h=this._values.length;C<h;C++){const g=this._values[C],t=C>0?this._prefixSum[C-1]:0;this._prefixSum[C]=t+g;for(let i=0;i<g;i++)this._indexBySum[t+i]=C}this._prefixSum.length=this._values.length,this._indexBySum.length=this._prefixSum[this._prefixSum.length-1],this._isValid=!0,this._validEndIndex=this._values.length-1}}setValue(C,h){this._values[C]!==h&&(this._values[C]=h,this._invalidate(C))}}e.ConstantTimePrefixSumComputer=D;class L{constructor(C,h){this.index=C,this.remainder=h,this._prefixSumIndexOfResultBrand=void 0,this.index=C,this.remainder=h}}e.PrefixSumIndexOfResult=L}),define(se[442],re([1,0,8,11,243]),function(q,e,w,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MirrorTextModel=void 0;class D{constructor(b,C,h,g){this._uri=b,this._lines=C,this._eol=h,this._versionId=g,this._lineStarts=null,this._cachedTextValue=null}dispose(){this._lines.length=0}get version(){return this._versionId}getText(){return this._cachedTextValue===null&&(this._cachedTextValue=this._lines.join(this._eol)),this._cachedTextValue}onEvents(b){b.eol&&b.eol!==this._eol&&(this._eol=b.eol,this._lineStarts=null);const C=b.changes;for(const h of C)this._acceptDeleteRange(h.range),this._acceptInsertText(new m.Position(h.range.startLineNumber,h.range.startColumn),h.text);this._versionId=b.versionId,this._cachedTextValue=null}_ensureLineStarts(){if(!this._lineStarts){const b=this._eol.length,C=this._lines.length,h=new Uint32Array(C);for(let g=0;g<C;g++)h[g]=this._lines[g].length+b;this._lineStarts=new k.PrefixSumComputer(h)}}_setLineText(b,C){this._lines[b]=C,this._lineStarts&&this._lineStarts.setValue(b,this._lines[b].length+this._eol.length)}_acceptDeleteRange(b){if(b.startLineNumber===b.endLineNumber){if(b.startColumn===b.endColumn)return;this._setLineText(b.startLineNumber-1,this._lines[b.startLineNumber-1].substring(0,b.startColumn-1)+this._lines[b.startLineNumber-1].substring(b.endColumn-1));return}this._setLineText(b.startLineNumber-1,this._lines[b.startLineNumber-1].substring(0,b.startColumn-1)+this._lines[b.endLineNumber-1].substring(b.endColumn-1)),this._lines.splice(b.startLineNumber,b.endLineNumber-b.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(b.startLineNumber,b.endLineNumber-b.startLineNumber)}_acceptInsertText(b,C){if(C.length===0)return;const h=(0,w.splitLines)(C);if(h.length===1){this._setLineText(b.lineNumber-1,this._lines[b.lineNumber-1].substring(0,b.column-1)+h[0]+this._lines[b.lineNumber-1].substring(b.column-1));return}h[h.length-1]+=this._lines[b.lineNumber-1].substring(b.column-1),this._setLineText(b.lineNumber-1,this._lines[b.lineNumber-1].substring(0,b.column-1)+h[0]);const g=new Uint32Array(h.length-1);for(let t=1;t<h.length;t++)this._lines.splice(b.lineNumber+t-1,0,h[t]),g[t-1]=h[t].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(b.lineNumber,g)}}e.MirrorTextModel=D}),define(se[244],re([1,0,2]),function(q,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextModelPart=void 0;class m extends w.Disposable{constructor(){super(...arguments),this._isDisposed=!1}dispose(){super.dispose(),this._isDisposed=!0}assertNotDisposed(){if(this._isDisposed)throw new Error("TextModelPart is disposed!")}}e.TextModelPart=m}),define(se[159],re([1,0,8,131,11,3,47]),function(q,e,w,m,k,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Searcher=e.isValidMatch=e.TextModelSearch=e.createFindMatch=e.isMultilineRegexSource=e.SearchParams=void 0;const b=999;class C{constructor(r,s,a,u){this.searchString=r,this.isRegex=s,this.matchCase=a,this.wordSeparators=u}parseSearchRequest(){if(this.searchString==="")return null;let r;this.isRegex?r=h(this.searchString):r=this.searchString.indexOf(`
`)>=0;let s=null;try{s=w.createRegExp(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:r,global:!0,unicode:!0})}catch{return null}if(!s)return null;let a=!this.isRegex&&!r;return a&&this.searchString.toLowerCase()!==this.searchString.toUpperCase()&&(a=this.matchCase),new L.SearchData(s,this.wordSeparators?(0,m.getMapForWordSeparators)(this.wordSeparators):null,a?this.searchString:null)}}e.SearchParams=C;function h(d){if(!d||d.length===0)return!1;for(let r=0,s=d.length;r<s;r++){const a=d.charCodeAt(r);if(a===10)return!0;if(a===92){if(r++,r>=s)break;const u=d.charCodeAt(r);if(u===110||u===114||u===87)return!0}}return!1}e.isMultilineRegexSource=h;function g(d,r,s){if(!s)return new L.FindMatch(d,null);const a=[];for(let u=0,p=r.length;u<p;u++)a[u]=r[u];return new L.FindMatch(d,a)}e.createFindMatch=g;class t{constructor(r){const s=[];let a=0;for(let u=0,p=r.length;u<p;u++)r.charCodeAt(u)===10&&(s[a++]=u);this._lineFeedsOffsets=s}findLineFeedCountBeforeOffset(r){const s=this._lineFeedsOffsets;let a=0,u=s.length-1;if(u===-1||r<=s[0])return 0;for(;a<u;){const p=a+((u-a)/2>>0);s[p]>=r?u=p-1:s[p+1]>=r?(a=p,u=p):a=p+1}return a+1}}class i{static findMatches(r,s,a,u,p){const S=s.parseSearchRequest();return S?S.regex.multiline?this._doFindMatchesMultiline(r,a,new c(S.wordSeparators,S.regex),u,p):this._doFindMatchesLineByLine(r,a,S,u,p):[]}static _getMultilineMatchRange(r,s,a,u,p,S){let f,v=0;u?(v=u.findLineFeedCountBeforeOffset(p),f=s+p+v):f=s+p;let _;if(u){const I=u.findLineFeedCountBeforeOffset(p+S.length)-v;_=f+S.length+I}else _=f+S.length;const y=r.getPositionAt(f),E=r.getPositionAt(_);return new D.Range(y.lineNumber,y.column,E.lineNumber,E.column)}static _doFindMatchesMultiline(r,s,a,u,p){const S=r.getOffsetAt(s.getStartPosition()),f=r.getValueInRange(s,1),v=r.getEOL()===`\r
`?new t(f):null,_=[];let y=0,E;for(a.reset(0);E=a.next(f);)if(_[y++]=g(this._getMultilineMatchRange(r,S,f,v,E.index,E[0]),E,u),y>=p)return _;return _}static _doFindMatchesLineByLine(r,s,a,u,p){const S=[];let f=0;if(s.startLineNumber===s.endLineNumber){const _=r.getLineContent(s.startLineNumber).substring(s.startColumn-1,s.endColumn-1);return f=this._findMatchesInLine(a,_,s.startLineNumber,s.startColumn-1,f,S,u,p),S}const v=r.getLineContent(s.startLineNumber).substring(s.startColumn-1);f=this._findMatchesInLine(a,v,s.startLineNumber,s.startColumn-1,f,S,u,p);for(let _=s.startLineNumber+1;_<s.endLineNumber&&f<p;_++)f=this._findMatchesInLine(a,r.getLineContent(_),_,0,f,S,u,p);if(f<p){const _=r.getLineContent(s.endLineNumber).substring(0,s.endColumn-1);f=this._findMatchesInLine(a,_,s.endLineNumber,0,f,S,u,p)}return S}static _findMatchesInLine(r,s,a,u,p,S,f,v){const _=r.wordSeparators;if(!f&&r.simpleSearch){const T=r.simpleSearch,I=T.length,R=s.length;let F=-I;for(;(F=s.indexOf(T,F+I))!==-1;)if((!_||l(_,s,R,F,I))&&(S[p++]=new L.FindMatch(new D.Range(a,F+1+u,a,F+1+I+u),null),p>=v))return p;return p}const y=new c(r.wordSeparators,r.regex);let E;y.reset(0);do if(E=y.next(s),E&&(S[p++]=g(new D.Range(a,E.index+1+u,a,E.index+1+E[0].length+u),E,f),p>=v))return p;while(E);return p}static findNextMatch(r,s,a,u){const p=s.parseSearchRequest();if(!p)return null;const S=new c(p.wordSeparators,p.regex);return p.regex.multiline?this._doFindNextMatchMultiline(r,a,S,u):this._doFindNextMatchLineByLine(r,a,S,u)}static _doFindNextMatchMultiline(r,s,a,u){const p=new k.Position(s.lineNumber,1),S=r.getOffsetAt(p),f=r.getLineCount(),v=r.getValueInRange(new D.Range(p.lineNumber,p.column,f,r.getLineMaxColumn(f)),1),_=r.getEOL()===`\r
`?new t(v):null;a.reset(s.column-1);const y=a.next(v);return y?g(this._getMultilineMatchRange(r,S,v,_,y.index,y[0]),y,u):s.lineNumber!==1||s.column!==1?this._doFindNextMatchMultiline(r,new k.Position(1,1),a,u):null}static _doFindNextMatchLineByLine(r,s,a,u){const p=r.getLineCount(),S=s.lineNumber,f=r.getLineContent(S),v=this._findFirstMatchInLine(a,f,S,s.column,u);if(v)return v;for(let _=1;_<=p;_++){const y=(S+_-1)%p,E=r.getLineContent(y+1),T=this._findFirstMatchInLine(a,E,y+1,1,u);if(T)return T}return null}static _findFirstMatchInLine(r,s,a,u,p){r.reset(u-1);const S=r.next(s);return S?g(new D.Range(a,S.index+1,a,S.index+1+S[0].length),S,p):null}static findPreviousMatch(r,s,a,u){const p=s.parseSearchRequest();if(!p)return null;const S=new c(p.wordSeparators,p.regex);return p.regex.multiline?this._doFindPreviousMatchMultiline(r,a,S,u):this._doFindPreviousMatchLineByLine(r,a,S,u)}static _doFindPreviousMatchMultiline(r,s,a,u){const p=this._doFindMatchesMultiline(r,new D.Range(1,1,s.lineNumber,s.column),a,u,10*b);if(p.length>0)return p[p.length-1];const S=r.getLineCount();return s.lineNumber!==S||s.column!==r.getLineMaxColumn(S)?this._doFindPreviousMatchMultiline(r,new k.Position(S,r.getLineMaxColumn(S)),a,u):null}static _doFindPreviousMatchLineByLine(r,s,a,u){const p=r.getLineCount(),S=s.lineNumber,f=r.getLineContent(S).substring(0,s.column-1),v=this._findLastMatchInLine(a,f,S,u);if(v)return v;for(let _=1;_<=p;_++){const y=(p+S-_-1)%p,E=r.getLineContent(y+1),T=this._findLastMatchInLine(a,E,y+1,u);if(T)return T}return null}static _findLastMatchInLine(r,s,a,u){let p=null,S;for(r.reset(0);S=r.next(s);)p=g(new D.Range(a,S.index+1,a,S.index+1+S[0].length),S,u);return p}}e.TextModelSearch=i;function n(d,r,s,a,u){if(a===0)return!0;const p=r.charCodeAt(a-1);if(d.get(p)!==0||p===13||p===10)return!0;if(u>0){const S=r.charCodeAt(a);if(d.get(S)!==0)return!0}return!1}function o(d,r,s,a,u){if(a+u===s)return!0;const p=r.charCodeAt(a+u);if(d.get(p)!==0||p===13||p===10)return!0;if(u>0){const S=r.charCodeAt(a+u-1);if(d.get(S)!==0)return!0}return!1}function l(d,r,s,a,u){return n(d,r,s,a,u)&&o(d,r,s,a,u)}e.isValidMatch=l;class c{constructor(r,s){this._wordSeparators=r,this._searchRegex=s,this._prevMatchStartIndex=-1,this._prevMatchLength=0}reset(r){this._searchRegex.lastIndex=r,this._prevMatchStartIndex=-1,this._prevMatchLength=0}next(r){const s=r.length;let a;do{if(this._prevMatchStartIndex+this._prevMatchLength===s||(a=this._searchRegex.exec(r),!a))return null;const u=a.index,p=a[0].length;if(u===this._prevMatchStartIndex&&p===this._prevMatchLength){if(p===0){w.getNextCodePoint(r,s,this._searchRegex.lastIndex)>65535?this._searchRegex.lastIndex+=2:this._searchRegex.lastIndex+=1;continue}return null}if(this._prevMatchStartIndex=u,this._prevMatchLength=p,!this._wordSeparators||l(this._wordSeparators,r,s,u,p))return a}while(a);return null}}e.Searcher=c}),define(se[245],re([1,0,11,3,47,441,159]),function(q,e,w,m,k,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PieceTreeBase=e.StringBuffer=e.Piece=e.createLineStarts=e.createLineStartsFast=e.LineStarts=e.createUintArray=e.AverageBufferSize=void 0,e.AverageBufferSize=65535;function b(c){let d;return c[c.length-1]<65536?d=new Uint16Array(c.length):d=new Uint32Array(c.length),d.set(c,0),d}e.createUintArray=b;class C{constructor(d,r,s,a,u){this.lineStarts=d,this.cr=r,this.lf=s,this.crlf=a,this.isBasicASCII=u}}e.LineStarts=C;function h(c,d=!0){const r=[0];let s=1;for(let a=0,u=c.length;a<u;a++){const p=c.charCodeAt(a);p===13?a+1<u&&c.charCodeAt(a+1)===10?(r[s++]=a+2,a++):r[s++]=a+1:p===10&&(r[s++]=a+1)}return d?b(r):r}e.createLineStartsFast=h;function g(c,d){c.length=0,c[0]=0;let r=1,s=0,a=0,u=0,p=!0;for(let f=0,v=d.length;f<v;f++){const _=d.charCodeAt(f);_===13?f+1<v&&d.charCodeAt(f+1)===10?(u++,c[r++]=f+2,f++):(s++,c[r++]=f+1):_===10?(a++,c[r++]=f+1):p&&_!==9&&(_<32||_>126)&&(p=!1)}const S=new C(b(c),s,a,u,p);return c.length=0,S}e.createLineStarts=g;class t{constructor(d,r,s,a,u){this.bufferIndex=d,this.start=r,this.end=s,this.lineFeedCnt=a,this.length=u}}e.Piece=t;class i{constructor(d,r){this.buffer=d,this.lineStarts=r}}e.StringBuffer=i;class n{constructor(d,r){this._pieces=[],this._tree=d,this._BOM=r,this._index=0,d.root!==D.SENTINEL&&d.iterate(d.root,s=>(s!==D.SENTINEL&&this._pieces.push(s.piece),!0))}read(){return this._pieces.length===0?this._index===0?(this._index++,this._BOM):null:this._index>this._pieces.length-1?null:this._index===0?this._BOM+this._tree.getPieceContent(this._pieces[this._index++]):this._tree.getPieceContent(this._pieces[this._index++])}}class o{constructor(d){this._limit=d,this._cache=[]}get(d){for(let r=this._cache.length-1;r>=0;r--){const s=this._cache[r];if(s.nodeStartOffset<=d&&s.nodeStartOffset+s.node.piece.length>=d)return s}return null}get2(d){for(let r=this._cache.length-1;r>=0;r--){const s=this._cache[r];if(s.nodeStartLineNumber&&s.nodeStartLineNumber<d&&s.nodeStartLineNumber+s.node.piece.lineFeedCnt>=d)return s}return null}set(d){this._cache.length>=this._limit&&this._cache.shift(),this._cache.push(d)}validate(d){let r=!1;const s=this._cache;for(let a=0;a<s.length;a++){const u=s[a];if(u.node.parent===null||u.nodeStartOffset>=d){s[a]=null,r=!0;continue}}if(r){const a=[];for(const u of s)u!==null&&a.push(u);this._cache=a}}}class l{constructor(d,r,s){this.create(d,r,s)}create(d,r,s){this._buffers=[new i("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=D.SENTINEL,this._lineCnt=1,this._length=0,this._EOL=r,this._EOLLength=r.length,this._EOLNormalized=s;let a=null;for(let u=0,p=d.length;u<p;u++)if(d[u].buffer.length>0){d[u].lineStarts||(d[u].lineStarts=h(d[u].buffer));const S=new t(u+1,{line:0,column:0},{line:d[u].lineStarts.length-1,column:d[u].buffer.length-d[u].lineStarts[d[u].lineStarts.length-1]},d[u].lineStarts.length-1,d[u].buffer.length);this._buffers.push(d[u]),a=this.rbInsertRight(a,S)}this._searchCache=new o(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()}normalizeEOL(d){const r=e.AverageBufferSize,s=r-Math.floor(r/3),a=s*2;let u="",p=0;const S=[];if(this.iterate(this.root,f=>{const v=this.getNodeContent(f),_=v.length;if(p<=s||p+_<a)return u+=v,p+=_,!0;const y=u.replace(/\r\n|\r|\n/g,d);return S.push(new i(y,h(y))),u=v,p=_,!0}),p>0){const f=u.replace(/\r\n|\r|\n/g,d);S.push(new i(f,h(f)))}this.create(S,d,!0)}getEOL(){return this._EOL}setEOL(d){this._EOL=d,this._EOLLength=this._EOL.length,this.normalizeEOL(d)}createSnapshot(d){return new n(this,d)}getOffsetAt(d,r){let s=0,a=this.root;for(;a!==D.SENTINEL;)if(a.left!==D.SENTINEL&&a.lf_left+1>=d)a=a.left;else{if(a.lf_left+a.piece.lineFeedCnt+1>=d)return s+=a.size_left,s+=this.getAccumulatedValue(a,d-a.lf_left-2)+r-1;d-=a.lf_left+a.piece.lineFeedCnt,s+=a.size_left+a.piece.length,a=a.right}return s}getPositionAt(d){d=Math.floor(d),d=Math.max(0,d);let r=this.root,s=0;const a=d;for(;r!==D.SENTINEL;)if(r.size_left!==0&&r.size_left>=d)r=r.left;else if(r.size_left+r.piece.length>=d){const u=this.getIndexOf(r,d-r.size_left);if(s+=r.lf_left+u.index,u.index===0){const p=this.getOffsetAt(s+1,1),S=a-p;return new w.Position(s+1,S+1)}return new w.Position(s+1,u.remainder+1)}else if(d-=r.size_left+r.piece.length,s+=r.lf_left+r.piece.lineFeedCnt,r.right===D.SENTINEL){const u=this.getOffsetAt(s+1,1),p=a-d-u;return new w.Position(s+1,p+1)}else r=r.right;return new w.Position(1,1)}getValueInRange(d,r){if(d.startLineNumber===d.endLineNumber&&d.startColumn===d.endColumn)return"";const s=this.nodeAt2(d.startLineNumber,d.startColumn),a=this.nodeAt2(d.endLineNumber,d.endColumn),u=this.getValueInRange2(s,a);return r?r!==this._EOL||!this._EOLNormalized?u.replace(/\r\n|\r|\n/g,r):r===this.getEOL()&&this._EOLNormalized?u:u.replace(/\r\n|\r|\n/g,r):u}getValueInRange2(d,r){if(d.node===r.node){const S=d.node,f=this._buffers[S.piece.bufferIndex].buffer,v=this.offsetInBuffer(S.piece.bufferIndex,S.piece.start);return f.substring(v+d.remainder,v+r.remainder)}let s=d.node;const a=this._buffers[s.piece.bufferIndex].buffer,u=this.offsetInBuffer(s.piece.bufferIndex,s.piece.start);let p=a.substring(u+d.remainder,u+s.piece.length);for(s=s.next();s!==D.SENTINEL;){const S=this._buffers[s.piece.bufferIndex].buffer,f=this.offsetInBuffer(s.piece.bufferIndex,s.piece.start);if(s===r.node){p+=S.substring(f,f+r.remainder);break}else p+=S.substr(f,s.piece.length);s=s.next()}return p}getLinesContent(){const d=[];let r=0,s="",a=!1;return this.iterate(this.root,u=>{if(u===D.SENTINEL)return!0;const p=u.piece;let S=p.length;if(S===0)return!0;const f=this._buffers[p.bufferIndex].buffer,v=this._buffers[p.bufferIndex].lineStarts,_=p.start.line,y=p.end.line;let E=v[_]+p.start.column;if(a&&(f.charCodeAt(E)===10&&(E++,S--),d[r++]=s,s="",a=!1,S===0))return!0;if(_===y)return!this._EOLNormalized&&f.charCodeAt(E+S-1)===13?(a=!0,s+=f.substr(E,S-1)):s+=f.substr(E,S),!0;s+=this._EOLNormalized?f.substring(E,Math.max(E,v[_+1]-this._EOLLength)):f.substring(E,v[_+1]).replace(/(\r\n|\r|\n)$/,""),d[r++]=s;for(let T=_+1;T<y;T++)s=this._EOLNormalized?f.substring(v[T],v[T+1]-this._EOLLength):f.substring(v[T],v[T+1]).replace(/(\r\n|\r|\n)$/,""),d[r++]=s;return!this._EOLNormalized&&f.charCodeAt(v[y]+p.end.column-1)===13?(a=!0,p.end.column===0?r--:s=f.substr(v[y],p.end.column-1)):s=f.substr(v[y],p.end.column),!0}),a&&(d[r++]=s,s=""),d[r++]=s,d}getLength(){return this._length}getLineCount(){return this._lineCnt}getLineContent(d){return this._lastVisitedLine.lineNumber===d?this._lastVisitedLine.value:(this._lastVisitedLine.lineNumber=d,d===this._lineCnt?this._lastVisitedLine.value=this.getLineRawContent(d):this._EOLNormalized?this._lastVisitedLine.value=this.getLineRawContent(d,this._EOLLength):this._lastVisitedLine.value=this.getLineRawContent(d).replace(/(\r\n|\r|\n)$/,""),this._lastVisitedLine.value)}_getCharCode(d){if(d.remainder===d.node.piece.length){const r=d.node.next();if(!r)return 0;const s=this._buffers[r.piece.bufferIndex],a=this.offsetInBuffer(r.piece.bufferIndex,r.piece.start);return s.buffer.charCodeAt(a)}else{const r=this._buffers[d.node.piece.bufferIndex],a=this.offsetInBuffer(d.node.piece.bufferIndex,d.node.piece.start)+d.remainder;return r.buffer.charCodeAt(a)}}getLineCharCode(d,r){const s=this.nodeAt2(d,r+1);return this._getCharCode(s)}getLineLength(d){if(d===this.getLineCount()){const r=this.getOffsetAt(d,1);return this.getLength()-r}return this.getOffsetAt(d+1,1)-this.getOffsetAt(d,1)-this._EOLLength}findMatchesInNode(d,r,s,a,u,p,S,f,v,_,y){const E=this._buffers[d.piece.bufferIndex],T=this.offsetInBuffer(d.piece.bufferIndex,d.piece.start),I=this.offsetInBuffer(d.piece.bufferIndex,u),R=this.offsetInBuffer(d.piece.bufferIndex,p);let F;const O={line:0,column:0};let M,N;r._wordSeparators?(M=E.buffer.substring(I,R),N=A=>A+I,r.reset(0)):(M=E.buffer,N=A=>A,r.reset(I));do if(F=r.next(M),F){if(N(F.index)>=R)return _;this.positionInBuffer(d,N(F.index)-T,O);const A=this.getLineFeedCnt(d.piece.bufferIndex,u,O),B=O.line===u.line?O.column-u.column+a:O.column+1,W=B+F[0].length;if(y[_++]=(0,L.createFindMatch)(new m.Range(s+A,B,s+A,W),F,f),N(F.index)+F[0].length>=R||_>=v)return _}while(F);return _}findMatchesLineByLine(d,r,s,a){const u=[];let p=0;const S=new L.Searcher(r.wordSeparators,r.regex);let f=this.nodeAt2(d.startLineNumber,d.startColumn);if(f===null)return[];const v=this.nodeAt2(d.endLineNumber,d.endColumn);if(v===null)return[];let _=this.positionInBuffer(f.node,f.remainder);const y=this.positionInBuffer(v.node,v.remainder);if(f.node===v.node)return this.findMatchesInNode(f.node,S,d.startLineNumber,d.startColumn,_,y,r,s,a,p,u),u;let E=d.startLineNumber,T=f.node;for(;T!==v.node;){const R=this.getLineFeedCnt(T.piece.bufferIndex,_,T.piece.end);if(R>=1){const O=this._buffers[T.piece.bufferIndex].lineStarts,M=this.offsetInBuffer(T.piece.bufferIndex,T.piece.start),N=O[_.line+R],A=E===d.startLineNumber?d.startColumn:1;if(p=this.findMatchesInNode(T,S,E,A,_,this.positionInBuffer(T,N-M),r,s,a,p,u),p>=a)return u;E+=R}const F=E===d.startLineNumber?d.startColumn-1:0;if(E===d.endLineNumber){const O=this.getLineContent(E).substring(F,d.endColumn-1);return p=this._findMatchesInLine(r,S,O,d.endLineNumber,F,p,u,s,a),u}if(p=this._findMatchesInLine(r,S,this.getLineContent(E).substr(F),E,F,p,u,s,a),p>=a)return u;E++,f=this.nodeAt2(E,1),T=f.node,_=this.positionInBuffer(f.node,f.remainder)}if(E===d.endLineNumber){const R=E===d.startLineNumber?d.startColumn-1:0,F=this.getLineContent(E).substring(R,d.endColumn-1);return p=this._findMatchesInLine(r,S,F,d.endLineNumber,R,p,u,s,a),u}const I=E===d.startLineNumber?d.startColumn:1;return p=this.findMatchesInNode(v.node,S,E,I,_,y,r,s,a,p,u),u}_findMatchesInLine(d,r,s,a,u,p,S,f,v){const _=d.wordSeparators;if(!f&&d.simpleSearch){const E=d.simpleSearch,T=E.length,I=s.length;let R=-T;for(;(R=s.indexOf(E,R+T))!==-1;)if((!_||(0,L.isValidMatch)(_,s,I,R,T))&&(S[p++]=new k.FindMatch(new m.Range(a,R+1+u,a,R+1+T+u),null),p>=v))return p;return p}let y;r.reset(0);do if(y=r.next(s),y&&(S[p++]=(0,L.createFindMatch)(new m.Range(a,y.index+1+u,a,y.index+1+y[0].length+u),y,f),p>=v))return p;while(y);return p}insert(d,r,s=!1){if(this._EOLNormalized=this._EOLNormalized&&s,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==D.SENTINEL){const{node:a,remainder:u,nodeStartOffset:p}=this.nodeAt(d),S=a.piece,f=S.bufferIndex,v=this.positionInBuffer(a,u);if(a.piece.bufferIndex===0&&S.end.line===this._lastChangeBufferPos.line&&S.end.column===this._lastChangeBufferPos.column&&p+S.length===d&&r.length<e.AverageBufferSize){this.appendToNode(a,r),this.computeBufferMetadata();return}if(p===d)this.insertContentToNodeLeft(r,a),this._searchCache.validate(d);else if(p+a.piece.length>d){const _=[];let y=new t(S.bufferIndex,v,S.end,this.getLineFeedCnt(S.bufferIndex,v,S.end),this.offsetInBuffer(f,S.end)-this.offsetInBuffer(f,v));if(this.shouldCheckCRLF()&&this.endWithCR(r)&&this.nodeCharCodeAt(a,u)===10){const R={line:y.start.line+1,column:0};y=new t(y.bufferIndex,R,y.end,this.getLineFeedCnt(y.bufferIndex,R,y.end),y.length-1),r+=`
`}if(this.shouldCheckCRLF()&&this.startWithLF(r))if(this.nodeCharCodeAt(a,u-1)===13){const R=this.positionInBuffer(a,u-1);this.deleteNodeTail(a,R),r="\r"+r,a.piece.length===0&&_.push(a)}else this.deleteNodeTail(a,v);else this.deleteNodeTail(a,v);const E=this.createNewPieces(r);y.length>0&&this.rbInsertRight(a,y);let T=a;for(let I=0;I<E.length;I++)T=this.rbInsertRight(T,E[I]);this.deleteNodes(_)}else this.insertContentToNodeRight(r,a)}else{const a=this.createNewPieces(r);let u=this.rbInsertLeft(null,a[0]);for(let p=1;p<a.length;p++)u=this.rbInsertRight(u,a[p])}this.computeBufferMetadata()}delete(d,r){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",r<=0||this.root===D.SENTINEL)return;const s=this.nodeAt(d),a=this.nodeAt(d+r),u=s.node,p=a.node;if(u===p){const E=this.positionInBuffer(u,s.remainder),T=this.positionInBuffer(u,a.remainder);if(s.nodeStartOffset===d){if(r===u.piece.length){const I=u.next();(0,D.rbDelete)(this,u),this.validateCRLFWithPrevNode(I),this.computeBufferMetadata();return}this.deleteNodeHead(u,T),this._searchCache.validate(d),this.validateCRLFWithPrevNode(u),this.computeBufferMetadata();return}if(s.nodeStartOffset+u.piece.length===d+r){this.deleteNodeTail(u,E),this.validateCRLFWithNextNode(u),this.computeBufferMetadata();return}this.shrinkNode(u,E,T),this.computeBufferMetadata();return}const S=[],f=this.positionInBuffer(u,s.remainder);this.deleteNodeTail(u,f),this._searchCache.validate(d),u.piece.length===0&&S.push(u);const v=this.positionInBuffer(p,a.remainder);this.deleteNodeHead(p,v),p.piece.length===0&&S.push(p);const _=u.next();for(let E=_;E!==D.SENTINEL&&E!==p;E=E.next())S.push(E);const y=u.piece.length===0?u.prev():u;this.deleteNodes(S),this.validateCRLFWithNextNode(y),this.computeBufferMetadata()}insertContentToNodeLeft(d,r){const s=[];if(this.shouldCheckCRLF()&&this.endWithCR(d)&&this.startWithLF(r)){const p=r.piece,S={line:p.start.line+1,column:0},f=new t(p.bufferIndex,S,p.end,this.getLineFeedCnt(p.bufferIndex,S,p.end),p.length-1);r.piece=f,d+=`
`,(0,D.updateTreeMetadata)(this,r,-1,-1),r.piece.length===0&&s.push(r)}const a=this.createNewPieces(d);let u=this.rbInsertLeft(r,a[a.length-1]);for(let p=a.length-2;p>=0;p--)u=this.rbInsertLeft(u,a[p]);this.validateCRLFWithPrevNode(u),this.deleteNodes(s)}insertContentToNodeRight(d,r){this.adjustCarriageReturnFromNext(d,r)&&(d+=`
`);const s=this.createNewPieces(d),a=this.rbInsertRight(r,s[0]);let u=a;for(let p=1;p<s.length;p++)u=this.rbInsertRight(u,s[p]);this.validateCRLFWithPrevNode(a)}positionInBuffer(d,r,s){const a=d.piece,u=d.piece.bufferIndex,p=this._buffers[u].lineStarts,f=p[a.start.line]+a.start.column+r;let v=a.start.line,_=a.end.line,y=0,E=0,T=0;for(;v<=_&&(y=v+(_-v)/2|0,T=p[y],y!==_);)if(E=p[y+1],f<T)_=y-1;else if(f>=E)v=y+1;else break;return s?(s.line=y,s.column=f-T,null):{line:y,column:f-T}}getLineFeedCnt(d,r,s){if(s.column===0)return s.line-r.line;const a=this._buffers[d].lineStarts;if(s.line===a.length-1)return s.line-r.line;const u=a[s.line+1],p=a[s.line]+s.column;if(u>p+1)return s.line-r.line;const S=p-1;return this._buffers[d].buffer.charCodeAt(S)===13?s.line-r.line+1:s.line-r.line}offsetInBuffer(d,r){return this._buffers[d].lineStarts[r.line]+r.column}deleteNodes(d){for(let r=0;r<d.length;r++)(0,D.rbDelete)(this,d[r])}createNewPieces(d){if(d.length>e.AverageBufferSize){const _=[];for(;d.length>e.AverageBufferSize;){const E=d.charCodeAt(e.AverageBufferSize-1);let T;E===13||E>=55296&&E<=56319?(T=d.substring(0,e.AverageBufferSize-1),d=d.substring(e.AverageBufferSize-1)):(T=d.substring(0,e.AverageBufferSize),d=d.substring(e.AverageBufferSize));const I=h(T);_.push(new t(this._buffers.length,{line:0,column:0},{line:I.length-1,column:T.length-I[I.length-1]},I.length-1,T.length)),this._buffers.push(new i(T,I))}const y=h(d);return _.push(new t(this._buffers.length,{line:0,column:0},{line:y.length-1,column:d.length-y[y.length-1]},y.length-1,d.length)),this._buffers.push(new i(d,y)),_}let r=this._buffers[0].buffer.length;const s=h(d,!1);let a=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===r&&r!==0&&this.startWithLF(d)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},a=this._lastChangeBufferPos;for(let _=0;_<s.length;_++)s[_]+=r+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(s.slice(1)),this._buffers[0].buffer+="_"+d,r+=1}else{if(r!==0)for(let _=0;_<s.length;_++)s[_]+=r;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(s.slice(1)),this._buffers[0].buffer+=d}const u=this._buffers[0].buffer.length,p=this._buffers[0].lineStarts.length-1,S=u-this._buffers[0].lineStarts[p],f={line:p,column:S},v=new t(0,a,f,this.getLineFeedCnt(0,a,f),u-r);return this._lastChangeBufferPos=f,[v]}getLineRawContent(d,r=0){let s=this.root,a="";const u=this._searchCache.get2(d);if(u){s=u.node;const p=this.getAccumulatedValue(s,d-u.nodeStartLineNumber-1),S=this._buffers[s.piece.bufferIndex].buffer,f=this.offsetInBuffer(s.piece.bufferIndex,s.piece.start);if(u.nodeStartLineNumber+s.piece.lineFeedCnt===d)a=S.substring(f+p,f+s.piece.length);else{const v=this.getAccumulatedValue(s,d-u.nodeStartLineNumber);return S.substring(f+p,f+v-r)}}else{let p=0;const S=d;for(;s!==D.SENTINEL;)if(s.left!==D.SENTINEL&&s.lf_left>=d-1)s=s.left;else if(s.lf_left+s.piece.lineFeedCnt>d-1){const f=this.getAccumulatedValue(s,d-s.lf_left-2),v=this.getAccumulatedValue(s,d-s.lf_left-1),_=this._buffers[s.piece.bufferIndex].buffer,y=this.offsetInBuffer(s.piece.bufferIndex,s.piece.start);return p+=s.size_left,this._searchCache.set({node:s,nodeStartOffset:p,nodeStartLineNumber:S-(d-1-s.lf_left)}),_.substring(y+f,y+v-r)}else if(s.lf_left+s.piece.lineFeedCnt===d-1){const f=this.getAccumulatedValue(s,d-s.lf_left-2),v=this._buffers[s.piece.bufferIndex].buffer,_=this.offsetInBuffer(s.piece.bufferIndex,s.piece.start);a=v.substring(_+f,_+s.piece.length);break}else d-=s.lf_left+s.piece.lineFeedCnt,p+=s.size_left+s.piece.length,s=s.right}for(s=s.next();s!==D.SENTINEL;){const p=this._buffers[s.piece.bufferIndex].buffer;if(s.piece.lineFeedCnt>0){const S=this.getAccumulatedValue(s,0),f=this.offsetInBuffer(s.piece.bufferIndex,s.piece.start);return a+=p.substring(f,f+S-r),a}else{const S=this.offsetInBuffer(s.piece.bufferIndex,s.piece.start);a+=p.substr(S,s.piece.length)}s=s.next()}return a}computeBufferMetadata(){let d=this.root,r=1,s=0;for(;d!==D.SENTINEL;)r+=d.lf_left+d.piece.lineFeedCnt,s+=d.size_left+d.piece.length,d=d.right;this._lineCnt=r,this._length=s,this._searchCache.validate(this._length)}getIndexOf(d,r){const s=d.piece,a=this.positionInBuffer(d,r),u=a.line-s.start.line;if(this.offsetInBuffer(s.bufferIndex,s.end)-this.offsetInBuffer(s.bufferIndex,s.start)===r){const p=this.getLineFeedCnt(d.piece.bufferIndex,s.start,a);if(p!==u)return{index:p,remainder:0}}return{index:u,remainder:a.column}}getAccumulatedValue(d,r){if(r<0)return 0;const s=d.piece,a=this._buffers[s.bufferIndex].lineStarts,u=s.start.line+r+1;return u>s.end.line?a[s.end.line]+s.end.column-a[s.start.line]-s.start.column:a[u]-a[s.start.line]-s.start.column}deleteNodeTail(d,r){const s=d.piece,a=s.lineFeedCnt,u=this.offsetInBuffer(s.bufferIndex,s.end),p=r,S=this.offsetInBuffer(s.bufferIndex,p),f=this.getLineFeedCnt(s.bufferIndex,s.start,p),v=f-a,_=S-u,y=s.length+_;d.piece=new t(s.bufferIndex,s.start,p,f,y),(0,D.updateTreeMetadata)(this,d,_,v)}deleteNodeHead(d,r){const s=d.piece,a=s.lineFeedCnt,u=this.offsetInBuffer(s.bufferIndex,s.start),p=r,S=this.getLineFeedCnt(s.bufferIndex,p,s.end),f=this.offsetInBuffer(s.bufferIndex,p),v=S-a,_=u-f,y=s.length+_;d.piece=new t(s.bufferIndex,p,s.end,S,y),(0,D.updateTreeMetadata)(this,d,_,v)}shrinkNode(d,r,s){const a=d.piece,u=a.start,p=a.end,S=a.length,f=a.lineFeedCnt,v=r,_=this.getLineFeedCnt(a.bufferIndex,a.start,v),y=this.offsetInBuffer(a.bufferIndex,r)-this.offsetInBuffer(a.bufferIndex,u);d.piece=new t(a.bufferIndex,a.start,v,_,y),(0,D.updateTreeMetadata)(this,d,y-S,_-f);const E=new t(a.bufferIndex,s,p,this.getLineFeedCnt(a.bufferIndex,s,p),this.offsetInBuffer(a.bufferIndex,p)-this.offsetInBuffer(a.bufferIndex,s)),T=this.rbInsertRight(d,E);this.validateCRLFWithPrevNode(T)}appendToNode(d,r){this.adjustCarriageReturnFromNext(r,d)&&(r+=`
`);const s=this.shouldCheckCRLF()&&this.startWithLF(r)&&this.endWithCR(d),a=this._buffers[0].buffer.length;this._buffers[0].buffer+=r;const u=h(r,!1);for(let T=0;T<u.length;T++)u[T]+=a;if(s){const T=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:a-T}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(u.slice(1));const p=this._buffers[0].lineStarts.length-1,S=this._buffers[0].buffer.length-this._buffers[0].lineStarts[p],f={line:p,column:S},v=d.piece.length+r.length,_=d.piece.lineFeedCnt,y=this.getLineFeedCnt(0,d.piece.start,f),E=y-_;d.piece=new t(d.piece.bufferIndex,d.piece.start,f,y,v),this._lastChangeBufferPos=f,(0,D.updateTreeMetadata)(this,d,r.length,E)}nodeAt(d){let r=this.root;const s=this._searchCache.get(d);if(s)return{node:s.node,nodeStartOffset:s.nodeStartOffset,remainder:d-s.nodeStartOffset};let a=0;for(;r!==D.SENTINEL;)if(r.size_left>d)r=r.left;else if(r.size_left+r.piece.length>=d){a+=r.size_left;const u={node:r,remainder:d-r.size_left,nodeStartOffset:a};return this._searchCache.set(u),u}else d-=r.size_left+r.piece.length,a+=r.size_left+r.piece.length,r=r.right;return null}nodeAt2(d,r){let s=this.root,a=0;for(;s!==D.SENTINEL;)if(s.left!==D.SENTINEL&&s.lf_left>=d-1)s=s.left;else if(s.lf_left+s.piece.lineFeedCnt>d-1){const u=this.getAccumulatedValue(s,d-s.lf_left-2),p=this.getAccumulatedValue(s,d-s.lf_left-1);return a+=s.size_left,{node:s,remainder:Math.min(u+r-1,p),nodeStartOffset:a}}else if(s.lf_left+s.piece.lineFeedCnt===d-1){const u=this.getAccumulatedValue(s,d-s.lf_left-2);if(u+r-1<=s.piece.length)return{node:s,remainder:u+r-1,nodeStartOffset:a};r-=s.piece.length-u;break}else d-=s.lf_left+s.piece.lineFeedCnt,a+=s.size_left+s.piece.length,s=s.right;for(s=s.next();s!==D.SENTINEL;){if(s.piece.lineFeedCnt>0){const u=this.getAccumulatedValue(s,0),p=this.offsetOfNode(s);return{node:s,remainder:Math.min(r-1,u),nodeStartOffset:p}}else if(s.piece.length>=r-1){const u=this.offsetOfNode(s);return{node:s,remainder:r-1,nodeStartOffset:u}}else r-=s.piece.length;s=s.next()}return null}nodeCharCodeAt(d,r){if(d.piece.lineFeedCnt<1)return-1;const s=this._buffers[d.piece.bufferIndex],a=this.offsetInBuffer(d.piece.bufferIndex,d.piece.start)+r;return s.buffer.charCodeAt(a)}offsetOfNode(d){if(!d)return 0;let r=d.size_left;for(;d!==this.root;)d.parent.right===d&&(r+=d.parent.size_left+d.parent.piece.length),d=d.parent;return r}shouldCheckCRLF(){return!(this._EOLNormalized&&this._EOL===`
`)}startWithLF(d){if(typeof d=="string")return d.charCodeAt(0)===10;if(d===D.SENTINEL||d.piece.lineFeedCnt===0)return!1;const r=d.piece,s=this._buffers[r.bufferIndex].lineStarts,a=r.start.line,u=s[a]+r.start.column;return a===s.length-1||s[a+1]>u+1?!1:this._buffers[r.bufferIndex].buffer.charCodeAt(u)===10}endWithCR(d){return typeof d=="string"?d.charCodeAt(d.length-1)===13:d===D.SENTINEL||d.piece.lineFeedCnt===0?!1:this.nodeCharCodeAt(d,d.piece.length-1)===13}validateCRLFWithPrevNode(d){if(this.shouldCheckCRLF()&&this.startWithLF(d)){const r=d.prev();this.endWithCR(r)&&this.fixCRLF(r,d)}}validateCRLFWithNextNode(d){if(this.shouldCheckCRLF()&&this.endWithCR(d)){const r=d.next();this.startWithLF(r)&&this.fixCRLF(d,r)}}fixCRLF(d,r){const s=[],a=this._buffers[d.piece.bufferIndex].lineStarts;let u;d.piece.end.column===0?u={line:d.piece.end.line-1,column:a[d.piece.end.line]-a[d.piece.end.line-1]-1}:u={line:d.piece.end.line,column:d.piece.end.column-1};const p=d.piece.length-1,S=d.piece.lineFeedCnt-1;d.piece=new t(d.piece.bufferIndex,d.piece.start,u,S,p),(0,D.updateTreeMetadata)(this,d,-1,-1),d.piece.length===0&&s.push(d);const f={line:r.piece.start.line+1,column:0},v=r.piece.length-1,_=this.getLineFeedCnt(r.piece.bufferIndex,f,r.piece.end);r.piece=new t(r.piece.bufferIndex,f,r.piece.end,_,v),(0,D.updateTreeMetadata)(this,r,-1,-1),r.piece.length===0&&s.push(r);const y=this.createNewPieces(`\r
`);this.rbInsertRight(d,y[0]);for(let E=0;E<s.length;E++)(0,D.rbDelete)(this,s[E])}adjustCarriageReturnFromNext(d,r){if(this.shouldCheckCRLF()&&this.endWithCR(d)){const s=r.next();if(this.startWithLF(s)){if(d+=`
`,s.piece.length===1)(0,D.rbDelete)(this,s);else{const a=s.piece,u={line:a.start.line+1,column:0},p=a.length-1,S=this.getLineFeedCnt(a.bufferIndex,u,a.end);s.piece=new t(a.bufferIndex,u,a.end,S,p),(0,D.updateTreeMetadata)(this,s,-1,-1)}return!0}}return!1}iterate(d,r){if(d===D.SENTINEL)return r(D.SENTINEL);const s=this.iterate(d.left,r);return s&&r(d)&&this.iterate(d.right,r)}getNodeContent(d){if(d===D.SENTINEL)return"";const r=this._buffers[d.piece.bufferIndex],s=d.piece,a=this.offsetInBuffer(s.bufferIndex,s.start),u=this.offsetInBuffer(s.bufferIndex,s.end);return r.buffer.substring(a,u)}getPieceContent(d){const r=this._buffers[d.bufferIndex],s=this.offsetInBuffer(d.bufferIndex,d.start),a=this.offsetInBuffer(d.bufferIndex,d.end);return r.buffer.substring(s,a)}rbInsertRight(d,r){const s=new D.TreeNode(r,1);if(s.left=D.SENTINEL,s.right=D.SENTINEL,s.parent=D.SENTINEL,s.size_left=0,s.lf_left=0,this.root===D.SENTINEL)this.root=s,s.color=0;else if(d.right===D.SENTINEL)d.right=s,s.parent=d;else{const u=(0,D.leftest)(d.right);u.left=s,s.parent=u}return(0,D.fixInsert)(this,s),s}rbInsertLeft(d,r){const s=new D.TreeNode(r,1);if(s.left=D.SENTINEL,s.right=D.SENTINEL,s.parent=D.SENTINEL,s.size_left=0,s.lf_left=0,this.root===D.SENTINEL)this.root=s,s.color=0;else if(d.left===D.SENTINEL)d.left=s,s.parent=d;else{const a=(0,D.righttest)(d.left);a.right=s,s.parent=a}return(0,D.fixInsert)(this,s),s}}e.PieceTreeBase=l}),define(se[190],re([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.computeIndentLevel=void 0;function w(m,k){let D=0,L=0;const b=m.length;for(;L<b;){const C=m.charCodeAt(L);if(C===32)D++;else if(C===9)D=D-D%k+k;else break;L++}return L===b?-1:D}e.computeIndentLevel=w}),define(se[246],re([1,0,83,11,47]),function(q,e,w,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OutputPosition=e.InjectedText=e.ModelLineProjectionData=void 0;class D{constructor(t,i,n,o,l){this.injectionOffsets=t,this.injectionOptions=i,this.breakOffsets=n,this.breakOffsetsVisibleColumn=o,this.wrappedTextIndentLength=l}getOutputLineCount(){return this.breakOffsets.length}getMinOutputOffset(t){return t>0?this.wrappedTextIndentLength:0}getLineLength(t){const i=t>0?this.breakOffsets[t-1]:0;let o=this.breakOffsets[t]-i;return t>0&&(o+=this.wrappedTextIndentLength),o}getMaxOutputOffset(t){return this.getLineLength(t)}translateToInputOffset(t,i){t>0&&(i=Math.max(0,i-this.wrappedTextIndentLength));let o=t===0?i:this.breakOffsets[t-1]+i;if(this.injectionOffsets!==null)for(let l=0;l<this.injectionOffsets.length&&o>this.injectionOffsets[l];l++)o<this.injectionOffsets[l]+this.injectionOptions[l].content.length?o=this.injectionOffsets[l]:o-=this.injectionOptions[l].content.length;return o}translateToOutputPosition(t,i=2){let n=t;if(this.injectionOffsets!==null)for(let o=0;o<this.injectionOffsets.length&&!(t<this.injectionOffsets[o]||i!==1&&t===this.injectionOffsets[o]);o++)n+=this.injectionOptions[o].content.length;return this.offsetInInputWithInjectionsToOutputPosition(n,i)}offsetInInputWithInjectionsToOutputPosition(t,i=2){let n=0,o=this.breakOffsets.length-1,l=0,c=0;for(;n<=o;){l=n+(o-n)/2|0;const r=this.breakOffsets[l];if(c=l>0?this.breakOffsets[l-1]:0,i===0)if(t<=c)o=l-1;else if(t>r)n=l+1;else break;else if(t<c)o=l-1;else if(t>=r)n=l+1;else break}let d=t-c;return l>0&&(d+=this.wrappedTextIndentLength),new h(l,d)}normalizeOutputPosition(t,i,n){if(this.injectionOffsets!==null){const o=this.outputPositionToOffsetInInputWithInjections(t,i),l=this.normalizeOffsetInInputWithInjectionsAroundInjections(o,n);if(l!==o)return this.offsetInInputWithInjectionsToOutputPosition(l,n)}if(n===0){if(t>0&&i===this.getMinOutputOffset(t))return new h(t-1,this.getMaxOutputOffset(t-1))}else if(n===1){const o=this.getOutputLineCount()-1;if(t<o&&i===this.getMaxOutputOffset(t))return new h(t+1,this.getMinOutputOffset(t+1))}return new h(t,i)}outputPositionToOffsetInInputWithInjections(t,i){return t>0&&(i=Math.max(0,i-this.wrappedTextIndentLength)),(t>0?this.breakOffsets[t-1]:0)+i}normalizeOffsetInInputWithInjectionsAroundInjections(t,i){const n=this.getInjectedTextAtOffset(t);if(!n)return t;if(i===2){if(t===n.offsetInInputWithInjections+n.length&&L(this.injectionOptions[n.injectedTextIndex].cursorStops))return n.offsetInInputWithInjections+n.length;{let o=n.offsetInInputWithInjections;if(b(this.injectionOptions[n.injectedTextIndex].cursorStops))return o;let l=n.injectedTextIndex-1;for(;l>=0&&this.injectionOffsets[l]===this.injectionOffsets[n.injectedTextIndex]&&!(L(this.injectionOptions[l].cursorStops)||(o-=this.injectionOptions[l].content.length,b(this.injectionOptions[l].cursorStops)));)l--;return o}}else if(i===1||i===4){let o=n.offsetInInputWithInjections+n.length,l=n.injectedTextIndex;for(;l+1<this.injectionOffsets.length&&this.injectionOffsets[l+1]===this.injectionOffsets[l];)o+=this.injectionOptions[l+1].content.length,l++;return o}else if(i===0||i===3){let o=n.offsetInInputWithInjections,l=n.injectedTextIndex;for(;l-1>=0&&this.injectionOffsets[l-1]===this.injectionOffsets[l];)o-=this.injectionOptions[l-1].content.length,l--;return o}(0,w.assertNever)(i)}getInjectedText(t,i){const n=this.outputPositionToOffsetInInputWithInjections(t,i),o=this.getInjectedTextAtOffset(n);return o?{options:this.injectionOptions[o.injectedTextIndex]}:null}getInjectedTextAtOffset(t){const i=this.injectionOffsets,n=this.injectionOptions;if(i!==null){let o=0;for(let l=0;l<i.length;l++){const c=n[l].content.length,d=i[l]+o,r=i[l]+o+c;if(d>t)break;if(t<=r)return{injectedTextIndex:l,offsetInInputWithInjections:d,length:c};o+=c}}}}e.ModelLineProjectionData=D;function L(g){return g==null?!0:g===k.InjectedTextCursorStops.Right||g===k.InjectedTextCursorStops.Both}function b(g){return g==null?!0:g===k.InjectedTextCursorStops.Left||g===k.InjectedTextCursorStops.Both}class C{constructor(t){this.options=t}}e.InjectedText=C;class h{constructor(t,i){this.outputLineIndex=t,this.outputOffset=i}toString(){return`${this.outputLineIndex}:${this.outputOffset}`}toPosition(t){return new m.Position(t+this.outputLineIndex,this.outputOffset+1)}}e.OutputPosition=h}),define(se[247],re([1,0,3,159,8,83,132]),function(q,e,w,m,k,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UnicodeTextModelHighlighter=void 0;class b{static computeUnicodeHighlights(i,n,o){const l=o?o.startLineNumber:1,c=o?o.endLineNumber:i.getLineCount(),d=new h(n),r=d.getCandidateCodePoints();let s;r==="allNonBasicAscii"?s=new RegExp("[^\\t\\n\\r\\x20-\\x7E]","g"):s=new RegExp(`${C(Array.from(r))}`,"g");const a=new m.Searcher(null,s),u=[];let p=!1,S,f=0,v=0,_=0;e:for(let y=l,E=c;y<=E;y++){const T=i.getLineContent(y),I=T.length;a.reset(0);do if(S=a.next(T),S){let R=S.index,F=S.index+S[0].length;if(R>0){const A=T.charCodeAt(R-1);k.isHighSurrogate(A)&&R--}if(F+1<I){const A=T.charCodeAt(F-1);k.isHighSurrogate(A)&&F++}const O=T.substring(R,F),M=(0,L.getWordAtText)(R+1,L.DEFAULT_WORD_REGEXP,T,0),N=d.shouldHighlightNonBasicASCII(O,M?M.word:null);if(N!==0){N===3?f++:N===2?v++:N===1?_++:(0,D.assertNever)(N);const A=1e3;if(u.length>=A){p=!0;break e}u.push(new w.Range(y,R+1,y,F+1))}}while(S)}return{ranges:u,hasMore:p,ambiguousCharacterCount:f,invisibleCharacterCount:v,nonBasicAsciiCharacterCount:_}}static computeUnicodeHighlightReason(i,n){const o=new h(n);switch(o.shouldHighlightNonBasicASCII(i,null)){case 0:return null;case 2:return{kind:1};case 3:{const c=i.codePointAt(0),d=o.ambiguousCharacters.getPrimaryConfusable(c),r=k.AmbiguousCharacters.getLocales().filter(s=>!k.AmbiguousCharacters.getInstance(new Set([...n.allowedLocales,s])).isAmbiguous(c));return{kind:0,confusableWith:String.fromCodePoint(d),notAmbiguousInLocales:r}}case 1:return{kind:2}}}}e.UnicodeTextModelHighlighter=b;function C(t,i){return`[${k.escapeRegExpCharacters(t.map(o=>String.fromCodePoint(o)).join(""))}]`}class h{constructor(i){this.options=i,this.allowedCodePoints=new Set(i.allowedCodePoints),this.ambiguousCharacters=k.AmbiguousCharacters.getInstance(new Set(i.allowedLocales))}getCandidateCodePoints(){if(this.options.nonBasicASCII)return"allNonBasicAscii";const i=new Set;if(this.options.invisibleCharacters)for(const n of k.InvisibleCharacters.codePoints)g(String.fromCodePoint(n))||i.add(n);if(this.options.ambiguousCharacters)for(const n of this.ambiguousCharacters.getConfusableCodePoints())i.add(n);for(const n of this.allowedCodePoints)i.delete(n);return i}shouldHighlightNonBasicASCII(i,n){const o=i.codePointAt(0);if(this.allowedCodePoints.has(o))return 0;if(this.options.nonBasicASCII)return 1;let l=!1,c=!1;if(n)for(const d of n){const r=d.codePointAt(0),s=k.isBasicASCII(d);l=l||s,!s&&!this.ambiguousCharacters.isAmbiguous(r)&&!k.InvisibleCharacters.isInvisibleCharacter(r)&&(c=!0)}return!l&&c?0:this.options.invisibleCharacters&&!g(i)&&k.InvisibleCharacters.isInvisibleCharacter(o)?2:this.options.ambiguousCharacters&&this.ambiguousCharacters.isAmbiguous(o)?3:0}}function g(t){return t===" "||t===`
`||t==="	"}}),define(se[160],re([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WrappingIndent=e.TrackedRangeStickiness=e.TextEditorCursorStyle=e.TextEditorCursorBlinkingStyle=e.SymbolTag=e.SymbolKind=e.SignatureHelpTriggerKind=e.SelectionDirection=e.ScrollbarVisibility=e.ScrollType=e.RenderMinimap=e.RenderLineNumbersType=e.PositionAffinity=e.OverviewRulerLane=e.OverlayWidgetPositionPreference=e.MouseTargetType=e.MinimapPosition=e.MarkerTag=e.MarkerSeverity=e.KeyCode=e.InlineCompletionTriggerKind=e.InlayHintKind=e.InjectedTextCursorStops=e.IndentAction=e.EndOfLineSequence=e.EndOfLinePreference=e.EditorOption=e.EditorAutoIndentStrategy=e.DocumentHighlightKind=e.DefaultEndOfLine=e.CursorChangeReason=e.ContentWidgetPositionPreference=e.CompletionTriggerKind=e.CompletionItemTag=e.CompletionItemKind=e.CompletionItemInsertTextRule=e.CodeActionTriggerType=e.AccessibilitySupport=void 0;var w;(function(P){P[P.Unknown=0]="Unknown",P[P.Disabled=1]="Disabled",P[P.Enabled=2]="Enabled"})(w=e.AccessibilitySupport||(e.AccessibilitySupport={}));var m;(function(P){P[P.Invoke=1]="Invoke",P[P.Auto=2]="Auto"})(m=e.CodeActionTriggerType||(e.CodeActionTriggerType={}));var k;(function(P){P[P.KeepWhitespace=1]="KeepWhitespace",P[P.InsertAsSnippet=4]="InsertAsSnippet"})(k=e.CompletionItemInsertTextRule||(e.CompletionItemInsertTextRule={}));var D;(function(P){P[P.Method=0]="Method",P[P.Function=1]="Function",P[P.Constructor=2]="Constructor",P[P.Field=3]="Field",P[P.Variable=4]="Variable",P[P.Class=5]="Class",P[P.Struct=6]="Struct",P[P.Interface=7]="Interface",P[P.Module=8]="Module",P[P.Property=9]="Property",P[P.Event=10]="Event",P[P.Operator=11]="Operator",P[P.Unit=12]="Unit",P[P.Value=13]="Value",P[P.Constant=14]="Constant",P[P.Enum=15]="Enum",P[P.EnumMember=16]="EnumMember",P[P.Keyword=17]="Keyword",P[P.Text=18]="Text",P[P.Color=19]="Color",P[P.File=20]="File",P[P.Reference=21]="Reference",P[P.Customcolor=22]="Customcolor",P[P.Folder=23]="Folder",P[P.TypeParameter=24]="TypeParameter",P[P.User=25]="User",P[P.Issue=26]="Issue",P[P.Snippet=27]="Snippet"})(D=e.CompletionItemKind||(e.CompletionItemKind={}));var L;(function(P){P[P.Deprecated=1]="Deprecated"})(L=e.CompletionItemTag||(e.CompletionItemTag={}));var b;(function(P){P[P.Invoke=0]="Invoke",P[P.TriggerCharacter=1]="TriggerCharacter",P[P.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions"})(b=e.CompletionTriggerKind||(e.CompletionTriggerKind={}));var C;(function(P){P[P.EXACT=0]="EXACT",P[P.ABOVE=1]="ABOVE",P[P.BELOW=2]="BELOW"})(C=e.ContentWidgetPositionPreference||(e.ContentWidgetPositionPreference={}));var h;(function(P){P[P.NotSet=0]="NotSet",P[P.ContentFlush=1]="ContentFlush",P[P.RecoverFromMarkers=2]="RecoverFromMarkers",P[P.Explicit=3]="Explicit",P[P.Paste=4]="Paste",P[P.Undo=5]="Undo",P[P.Redo=6]="Redo"})(h=e.CursorChangeReason||(e.CursorChangeReason={}));var g;(function(P){P[P.LF=1]="LF",P[P.CRLF=2]="CRLF"})(g=e.DefaultEndOfLine||(e.DefaultEndOfLine={}));var t;(function(P){P[P.Text=0]="Text",P[P.Read=1]="Read",P[P.Write=2]="Write"})(t=e.DocumentHighlightKind||(e.DocumentHighlightKind={}));var i;(function(P){P[P.None=0]="None",P[P.Keep=1]="Keep",P[P.Brackets=2]="Brackets",P[P.Advanced=3]="Advanced",P[P.Full=4]="Full"})(i=e.EditorAutoIndentStrategy||(e.EditorAutoIndentStrategy={}));var n;(function(P){P[P.acceptSuggestionOnCommitCharacter=0]="acceptSuggestionOnCommitCharacter",P[P.acceptSuggestionOnEnter=1]="acceptSuggestionOnEnter",P[P.accessibilitySupport=2]="accessibilitySupport",P[P.accessibilityPageSize=3]="accessibilityPageSize",P[P.ariaLabel=4]="ariaLabel",P[P.autoClosingBrackets=5]="autoClosingBrackets",P[P.autoClosingDelete=6]="autoClosingDelete",P[P.autoClosingOvertype=7]="autoClosingOvertype",P[P.autoClosingQuotes=8]="autoClosingQuotes",P[P.autoIndent=9]="autoIndent",P[P.automaticLayout=10]="automaticLayout",P[P.autoSurround=11]="autoSurround",P[P.bracketPairColorization=12]="bracketPairColorization",P[P.guides=13]="guides",P[P.codeLens=14]="codeLens",P[P.codeLensFontFamily=15]="codeLensFontFamily",P[P.codeLensFontSize=16]="codeLensFontSize",P[P.colorDecorators=17]="colorDecorators",P[P.columnSelection=18]="columnSelection",P[P.comments=19]="comments",P[P.contextmenu=20]="contextmenu",P[P.copyWithSyntaxHighlighting=21]="copyWithSyntaxHighlighting",P[P.cursorBlinking=22]="cursorBlinking",P[P.cursorSmoothCaretAnimation=23]="cursorSmoothCaretAnimation",P[P.cursorStyle=24]="cursorStyle",P[P.cursorSurroundingLines=25]="cursorSurroundingLines",P[P.cursorSurroundingLinesStyle=26]="cursorSurroundingLinesStyle",P[P.cursorWidth=27]="cursorWidth",P[P.disableLayerHinting=28]="disableLayerHinting",P[P.disableMonospaceOptimizations=29]="disableMonospaceOptimizations",P[P.domReadOnly=30]="domReadOnly",P[P.dragAndDrop=31]="dragAndDrop",P[P.dropIntoEditor=32]="dropIntoEditor",P[P.emptySelectionClipboard=33]="emptySelectionClipboard",P[P.extraEditorClassName=34]="extraEditorClassName",P[P.fastScrollSensitivity=35]="fastScrollSensitivity",P[P.find=36]="find",P[P.fixedOverflowWidgets=37]="fixedOverflowWidgets",P[P.folding=38]="folding",P[P.foldingStrategy=39]="foldingStrategy",P[P.foldingHighlight=40]="foldingHighlight",P[P.foldingImportsByDefault=41]="foldingImportsByDefault",P[P.foldingMaximumRegions=42]="foldingMaximumRegions",P[P.unfoldOnClickAfterEndOfLine=43]="unfoldOnClickAfterEndOfLine",P[P.fontFamily=44]="fontFamily",P[P.fontInfo=45]="fontInfo",P[P.fontLigatures=46]="fontLigatures",P[P.fontSize=47]="fontSize",P[P.fontWeight=48]="fontWeight",P[P.formatOnPaste=49]="formatOnPaste",P[P.formatOnType=50]="formatOnType",P[P.glyphMargin=51]="glyphMargin",P[P.gotoLocation=52]="gotoLocation",P[P.hideCursorInOverviewRuler=53]="hideCursorInOverviewRuler",P[P.hover=54]="hover",P[P.inDiffEditor=55]="inDiffEditor",P[P.inlineSuggest=56]="inlineSuggest",P[P.letterSpacing=57]="letterSpacing",P[P.lightbulb=58]="lightbulb",P[P.lineDecorationsWidth=59]="lineDecorationsWidth",P[P.lineHeight=60]="lineHeight",P[P.lineNumbers=61]="lineNumbers",P[P.lineNumbersMinChars=62]="lineNumbersMinChars",P[P.linkedEditing=63]="linkedEditing",P[P.links=64]="links",P[P.matchBrackets=65]="matchBrackets",P[P.minimap=66]="minimap",P[P.mouseStyle=67]="mouseStyle",P[P.mouseWheelScrollSensitivity=68]="mouseWheelScrollSensitivity",P[P.mouseWheelZoom=69]="mouseWheelZoom",P[P.multiCursorMergeOverlapping=70]="multiCursorMergeOverlapping",P[P.multiCursorModifier=71]="multiCursorModifier",P[P.multiCursorPaste=72]="multiCursorPaste",P[P.occurrencesHighlight=73]="occurrencesHighlight",P[P.overviewRulerBorder=74]="overviewRulerBorder",P[P.overviewRulerLanes=75]="overviewRulerLanes",P[P.padding=76]="padding",P[P.parameterHints=77]="parameterHints",P[P.peekWidgetDefaultFocus=78]="peekWidgetDefaultFocus",P[P.definitionLinkOpensInPeek=79]="definitionLinkOpensInPeek",P[P.quickSuggestions=80]="quickSuggestions",P[P.quickSuggestionsDelay=81]="quickSuggestionsDelay",P[P.readOnly=82]="readOnly",P[P.renameOnType=83]="renameOnType",P[P.renderControlCharacters=84]="renderControlCharacters",P[P.renderFinalNewline=85]="renderFinalNewline",P[P.renderLineHighlight=86]="renderLineHighlight",P[P.renderLineHighlightOnlyWhenFocus=87]="renderLineHighlightOnlyWhenFocus",P[P.renderValidationDecorations=88]="renderValidationDecorations",P[P.renderWhitespace=89]="renderWhitespace",P[P.revealHorizontalRightPadding=90]="revealHorizontalRightPadding",P[P.roundedSelection=91]="roundedSelection",P[P.rulers=92]="rulers",P[P.scrollbar=93]="scrollbar",P[P.scrollBeyondLastColumn=94]="scrollBeyondLastColumn",P[P.scrollBeyondLastLine=95]="scrollBeyondLastLine",P[P.scrollPredominantAxis=96]="scrollPredominantAxis",P[P.selectionClipboard=97]="selectionClipboard",P[P.selectionHighlight=98]="selectionHighlight",P[P.selectOnLineNumbers=99]="selectOnLineNumbers",P[P.showFoldingControls=100]="showFoldingControls",P[P.showUnused=101]="showUnused",P[P.snippetSuggestions=102]="snippetSuggestions",P[P.smartSelect=103]="smartSelect",P[P.smoothScrolling=104]="smoothScrolling",P[P.stickyScroll=105]="stickyScroll",P[P.stickyTabStops=106]="stickyTabStops",P[P.stopRenderingLineAfter=107]="stopRenderingLineAfter",P[P.suggest=108]="suggest",P[P.suggestFontSize=109]="suggestFontSize",P[P.suggestLineHeight=110]="suggestLineHeight",P[P.suggestOnTriggerCharacters=111]="suggestOnTriggerCharacters",P[P.suggestSelection=112]="suggestSelection",P[P.tabCompletion=113]="tabCompletion",P[P.tabIndex=114]="tabIndex",P[P.unicodeHighlighting=115]="unicodeHighlighting",P[P.unusualLineTerminators=116]="unusualLineTerminators",P[P.useShadowDOM=117]="useShadowDOM",P[P.useTabStops=118]="useTabStops",P[P.wordSeparators=119]="wordSeparators",P[P.wordWrap=120]="wordWrap",P[P.wordWrapBreakAfterCharacters=121]="wordWrapBreakAfterCharacters",P[P.wordWrapBreakBeforeCharacters=122]="wordWrapBreakBeforeCharacters",P[P.wordWrapColumn=123]="wordWrapColumn",P[P.wordWrapOverride1=124]="wordWrapOverride1",P[P.wordWrapOverride2=125]="wordWrapOverride2",P[P.wrappingIndent=126]="wrappingIndent",P[P.wrappingStrategy=127]="wrappingStrategy",P[P.showDeprecated=128]="showDeprecated",P[P.inlayHints=129]="inlayHints",P[P.editorClassName=130]="editorClassName",P[P.pixelRatio=131]="pixelRatio",P[P.tabFocusMode=132]="tabFocusMode",P[P.layoutInfo=133]="layoutInfo",P[P.wrappingInfo=134]="wrappingInfo"})(n=e.EditorOption||(e.EditorOption={}));var o;(function(P){P[P.TextDefined=0]="TextDefined",P[P.LF=1]="LF",P[P.CRLF=2]="CRLF"})(o=e.EndOfLinePreference||(e.EndOfLinePreference={}));var l;(function(P){P[P.LF=0]="LF",P[P.CRLF=1]="CRLF"})(l=e.EndOfLineSequence||(e.EndOfLineSequence={}));var c;(function(P){P[P.None=0]="None",P[P.Indent=1]="Indent",P[P.IndentOutdent=2]="IndentOutdent",P[P.Outdent=3]="Outdent"})(c=e.IndentAction||(e.IndentAction={}));var d;(function(P){P[P.Both=0]="Both",P[P.Right=1]="Right",P[P.Left=2]="Left",P[P.None=3]="None"})(d=e.InjectedTextCursorStops||(e.InjectedTextCursorStops={}));var r;(function(P){P[P.Type=1]="Type",P[P.Parameter=2]="Parameter"})(r=e.InlayHintKind||(e.InlayHintKind={}));var s;(function(P){P[P.Automatic=0]="Automatic",P[P.Explicit=1]="Explicit"})(s=e.InlineCompletionTriggerKind||(e.InlineCompletionTriggerKind={}));var a;(function(P){P[P.DependsOnKbLayout=-1]="DependsOnKbLayout",P[P.Unknown=0]="Unknown",P[P.Backspace=1]="Backspace",P[P.Tab=2]="Tab",P[P.Enter=3]="Enter",P[P.Shift=4]="Shift",P[P.Ctrl=5]="Ctrl",P[P.Alt=6]="Alt",P[P.PauseBreak=7]="PauseBreak",P[P.CapsLock=8]="CapsLock",P[P.Escape=9]="Escape",P[P.Space=10]="Space",P[P.PageUp=11]="PageUp",P[P.PageDown=12]="PageDown",P[P.End=13]="End",P[P.Home=14]="Home",P[P.LeftArrow=15]="LeftArrow",P[P.UpArrow=16]="UpArrow",P[P.RightArrow=17]="RightArrow",P[P.DownArrow=18]="DownArrow",P[P.Insert=19]="Insert",P[P.Delete=20]="Delete",P[P.Digit0=21]="Digit0",P[P.Digit1=22]="Digit1",P[P.Digit2=23]="Digit2",P[P.Digit3=24]="Digit3",P[P.Digit4=25]="Digit4",P[P.Digit5=26]="Digit5",P[P.Digit6=27]="Digit6",P[P.Digit7=28]="Digit7",P[P.Digit8=29]="Digit8",P[P.Digit9=30]="Digit9",P[P.KeyA=31]="KeyA",P[P.KeyB=32]="KeyB",P[P.KeyC=33]="KeyC",P[P.KeyD=34]="KeyD",P[P.KeyE=35]="KeyE",P[P.KeyF=36]="KeyF",P[P.KeyG=37]="KeyG",P[P.KeyH=38]="KeyH",P[P.KeyI=39]="KeyI",P[P.KeyJ=40]="KeyJ",P[P.KeyK=41]="KeyK",P[P.KeyL=42]="KeyL",P[P.KeyM=43]="KeyM",P[P.KeyN=44]="KeyN",P[P.KeyO=45]="KeyO",P[P.KeyP=46]="KeyP",P[P.KeyQ=47]="KeyQ",P[P.KeyR=48]="KeyR",P[P.KeyS=49]="KeyS",P[P.KeyT=50]="KeyT",P[P.KeyU=51]="KeyU",P[P.KeyV=52]="KeyV",P[P.KeyW=53]="KeyW",P[P.KeyX=54]="KeyX",P[P.KeyY=55]="KeyY",P[P.KeyZ=56]="KeyZ",P[P.Meta=57]="Meta",P[P.ContextMenu=58]="ContextMenu",P[P.F1=59]="F1",P[P.F2=60]="F2",P[P.F3=61]="F3",P[P.F4=62]="F4",P[P.F5=63]="F5",P[P.F6=64]="F6",P[P.F7=65]="F7",P[P.F8=66]="F8",P[P.F9=67]="F9",P[P.F10=68]="F10",P[P.F11=69]="F11",P[P.F12=70]="F12",P[P.F13=71]="F13",P[P.F14=72]="F14",P[P.F15=73]="F15",P[P.F16=74]="F16",P[P.F17=75]="F17",P[P.F18=76]="F18",P[P.F19=77]="F19",P[P.NumLock=78]="NumLock",P[P.ScrollLock=79]="ScrollLock",P[P.Semicolon=80]="Semicolon",P[P.Equal=81]="Equal",P[P.Comma=82]="Comma",P[P.Minus=83]="Minus",P[P.Period=84]="Period",P[P.Slash=85]="Slash",P[P.Backquote=86]="Backquote",P[P.BracketLeft=87]="BracketLeft",P[P.Backslash=88]="Backslash",P[P.BracketRight=89]="BracketRight",P[P.Quote=90]="Quote",P[P.OEM_8=91]="OEM_8",P[P.IntlBackslash=92]="IntlBackslash",P[P.Numpad0=93]="Numpad0",P[P.Numpad1=94]="Numpad1",P[P.Numpad2=95]="Numpad2",P[P.Numpad3=96]="Numpad3",P[P.Numpad4=97]="Numpad4",P[P.Numpad5=98]="Numpad5",P[P.Numpad6=99]="Numpad6",P[P.Numpad7=100]="Numpad7",P[P.Numpad8=101]="Numpad8",P[P.Numpad9=102]="Numpad9",P[P.NumpadMultiply=103]="NumpadMultiply",P[P.NumpadAdd=104]="NumpadAdd",P[P.NUMPAD_SEPARATOR=105]="NUMPAD_SEPARATOR",P[P.NumpadSubtract=106]="NumpadSubtract",P[P.NumpadDecimal=107]="NumpadDecimal",P[P.NumpadDivide=108]="NumpadDivide",P[P.KEY_IN_COMPOSITION=109]="KEY_IN_COMPOSITION",P[P.ABNT_C1=110]="ABNT_C1",P[P.ABNT_C2=111]="ABNT_C2",P[P.AudioVolumeMute=112]="AudioVolumeMute",P[P.AudioVolumeUp=113]="AudioVolumeUp",P[P.AudioVolumeDown=114]="AudioVolumeDown",P[P.BrowserSearch=115]="BrowserSearch",P[P.BrowserHome=116]="BrowserHome",P[P.BrowserBack=117]="BrowserBack",P[P.BrowserForward=118]="BrowserForward",P[P.MediaTrackNext=119]="MediaTrackNext",P[P.MediaTrackPrevious=120]="MediaTrackPrevious",P[P.MediaStop=121]="MediaStop",P[P.MediaPlayPause=122]="MediaPlayPause",P[P.LaunchMediaPlayer=123]="LaunchMediaPlayer",P[P.LaunchMail=124]="LaunchMail",P[P.LaunchApp2=125]="LaunchApp2",P[P.Clear=126]="Clear",P[P.MAX_VALUE=127]="MAX_VALUE"})(a=e.KeyCode||(e.KeyCode={}));var u;(function(P){P[P.Hint=1]="Hint",P[P.Info=2]="Info",P[P.Warning=4]="Warning",P[P.Error=8]="Error"})(u=e.MarkerSeverity||(e.MarkerSeverity={}));var p;(function(P){P[P.Unnecessary=1]="Unnecessary",P[P.Deprecated=2]="Deprecated"})(p=e.MarkerTag||(e.MarkerTag={}));var S;(function(P){P[P.Inline=1]="Inline",P[P.Gutter=2]="Gutter"})(S=e.MinimapPosition||(e.MinimapPosition={}));var f;(function(P){P[P.UNKNOWN=0]="UNKNOWN",P[P.TEXTAREA=1]="TEXTAREA",P[P.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",P[P.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",P[P.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",P[P.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",P[P.CONTENT_TEXT=6]="CONTENT_TEXT",P[P.CONTENT_EMPTY=7]="CONTENT_EMPTY",P[P.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",P[P.CONTENT_WIDGET=9]="CONTENT_WIDGET",P[P.OVERVIEW_RULER=10]="OVERVIEW_RULER",P[P.SCROLLBAR=11]="SCROLLBAR",P[P.OVERLAY_WIDGET=12]="OVERLAY_WIDGET",P[P.OUTSIDE_EDITOR=13]="OUTSIDE_EDITOR"})(f=e.MouseTargetType||(e.MouseTargetType={}));var v;(function(P){P[P.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER",P[P.BOTTOM_RIGHT_CORNER=1]="BOTTOM_RIGHT_CORNER",P[P.TOP_CENTER=2]="TOP_CENTER"})(v=e.OverlayWidgetPositionPreference||(e.OverlayWidgetPositionPreference={}));var _;(function(P){P[P.Left=1]="Left",P[P.Center=2]="Center",P[P.Right=4]="Right",P[P.Full=7]="Full"})(_=e.OverviewRulerLane||(e.OverviewRulerLane={}));var y;(function(P){P[P.Left=0]="Left",P[P.Right=1]="Right",P[P.None=2]="None",P[P.LeftOfInjectedText=3]="LeftOfInjectedText",P[P.RightOfInjectedText=4]="RightOfInjectedText"})(y=e.PositionAffinity||(e.PositionAffinity={}));var E;(function(P){P[P.Off=0]="Off",P[P.On=1]="On",P[P.Relative=2]="Relative",P[P.Interval=3]="Interval",P[P.Custom=4]="Custom"})(E=e.RenderLineNumbersType||(e.RenderLineNumbersType={}));var T;(function(P){P[P.None=0]="None",P[P.Text=1]="Text",P[P.Blocks=2]="Blocks"})(T=e.RenderMinimap||(e.RenderMinimap={}));var I;(function(P){P[P.Smooth=0]="Smooth",P[P.Immediate=1]="Immediate"})(I=e.ScrollType||(e.ScrollType={}));var R;(function(P){P[P.Auto=1]="Auto",P[P.Hidden=2]="Hidden",P[P.Visible=3]="Visible"})(R=e.ScrollbarVisibility||(e.ScrollbarVisibility={}));var F;(function(P){P[P.LTR=0]="LTR",P[P.RTL=1]="RTL"})(F=e.SelectionDirection||(e.SelectionDirection={}));var O;(function(P){P[P.Invoke=1]="Invoke",P[P.TriggerCharacter=2]="TriggerCharacter",P[P.ContentChange=3]="ContentChange"})(O=e.SignatureHelpTriggerKind||(e.SignatureHelpTriggerKind={}));var M;(function(P){P[P.File=0]="File",P[P.Module=1]="Module",P[P.Namespace=2]="Namespace",P[P.Package=3]="Package",P[P.Class=4]="Class",P[P.Method=5]="Method",P[P.Property=6]="Property",P[P.Field=7]="Field",P[P.Constructor=8]="Constructor",P[P.Enum=9]="Enum",P[P.Interface=10]="Interface",P[P.Function=11]="Function",P[P.Variable=12]="Variable",P[P.Constant=13]="Constant",P[P.String=14]="String",P[P.Number=15]="Number",P[P.Boolean=16]="Boolean",P[P.Array=17]="Array",P[P.Object=18]="Object",P[P.Key=19]="Key",P[P.Null=20]="Null",P[P.EnumMember=21]="EnumMember",P[P.Struct=22]="Struct",P[P.Event=23]="Event",P[P.Operator=24]="Operator",P[P.TypeParameter=25]="TypeParameter"})(M=e.SymbolKind||(e.SymbolKind={}));var N;(function(P){P[P.Deprecated=1]="Deprecated"})(N=e.SymbolTag||(e.SymbolTag={}));var A;(function(P){P[P.Hidden=0]="Hidden",P[P.Blink=1]="Blink",P[P.Smooth=2]="Smooth",P[P.Phase=3]="Phase",P[P.Expand=4]="Expand",P[P.Solid=5]="Solid"})(A=e.TextEditorCursorBlinkingStyle||(e.TextEditorCursorBlinkingStyle={}));var B;(function(P){P[P.Line=1]="Line",P[P.Block=2]="Block",P[P.Underline=3]="Underline",P[P.LineThin=4]="LineThin",P[P.BlockOutline=5]="BlockOutline",P[P.UnderlineThin=6]="UnderlineThin"})(B=e.TextEditorCursorStyle||(e.TextEditorCursorStyle={}));var W;(function(P){P[P.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",P[P.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",P[P.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",P[P.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter"})(W=e.TrackedRangeStickiness||(e.TrackedRangeStickiness={}));var x;(function(P){P[P.None=0]="None",P[P.Same=1]="Same",P[P.Indent=2]="Indent",P[P.DeepIndent=3]="DeepIndent"})(x=e.WrappingIndent||(e.WrappingIndent={}))}),define(se[443],re([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketPairWithMinIndentationInfo=e.BracketPairInfo=e.BracketInfo=void 0;class w{constructor(L,b,C,h){this.range=L,this.nestingLevel=b,this.nestingLevelOfEqualBracketType=C,this.isInvalid=h}}e.BracketInfo=w;class m{constructor(L,b,C,h,g,t){this.range=L,this.openingBracketRange=b,this.closingBracketRange=C,this.nestingLevel=h,this.nestingLevelOfEqualBracketType=g,this.bracketPairNode=t}get openingBracketInfo(){return this.bracketPairNode.openingBracket.bracketInfo}}e.BracketPairInfo=m;class k extends m{constructor(L,b,C,h,g,t,i){super(L,b,C,h,g,t),this.minVisibleColumnIndentation=i}}e.BracketPairWithMinIndentationInfo=k}),define(se[101],re([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InternalModelContentChangeEvent=e.ModelInjectedTextChangedEvent=e.ModelRawContentChangedEvent=e.ModelRawEOLChanged=e.ModelRawLinesInserted=e.ModelRawLinesDeleted=e.ModelRawLineChanged=e.LineInjectedText=e.ModelRawFlush=void 0;class w{constructor(){this.changeType=1}}e.ModelRawFlush=w;class m{static applyInjectedText(i,n){if(!n||n.length===0)return i;let o="",l=0;for(const c of n)o+=i.substring(l,c.column-1),l=c.column-1,o+=c.options.content;return o+=i.substring(l),o}static fromDecorations(i){const n=[];for(const o of i)o.options.before&&o.options.before.content.length>0&&n.push(new m(o.ownerId,o.range.startLineNumber,o.range.startColumn,o.options.before,0)),o.options.after&&o.options.after.content.length>0&&n.push(new m(o.ownerId,o.range.endLineNumber,o.range.endColumn,o.options.after,1));return n.sort((o,l)=>o.lineNumber===l.lineNumber?o.column===l.column?o.order-l.order:o.column-l.column:o.lineNumber-l.lineNumber),n}constructor(i,n,o,l,c){this.ownerId=i,this.lineNumber=n,this.column=o,this.options=l,this.order=c}}e.LineInjectedText=m;class k{constructor(i,n,o){this.changeType=2,this.lineNumber=i,this.detail=n,this.injectedText=o}}e.ModelRawLineChanged=k;class D{constructor(i,n){this.changeType=3,this.fromLineNumber=i,this.toLineNumber=n}}e.ModelRawLinesDeleted=D;class L{constructor(i,n,o,l){this.changeType=4,this.injectedTexts=l,this.fromLineNumber=i,this.toLineNumber=n,this.detail=o}}e.ModelRawLinesInserted=L;class b{constructor(){this.changeType=5}}e.ModelRawEOLChanged=b;class C{constructor(i,n,o,l){this.changes=i,this.versionId=n,this.isUndoing=o,this.isRedoing=l,this.resultingSelection=null}containsEvent(i){for(let n=0,o=this.changes.length;n<o;n++)if(this.changes[n].changeType===i)return!0;return!1}static merge(i,n){const o=[].concat(i.changes).concat(n.changes),l=n.versionId,c=i.isUndoing||n.isUndoing,d=i.isRedoing||n.isRedoing;return new C(o,l,c,d)}}e.ModelRawContentChangedEvent=C;class h{constructor(i){this.changes=i}}e.ModelInjectedTextChangedEvent=h;class g{constructor(i,n){this.rawContentChangedEvent=i,this.contentChangedEvent=n}merge(i){const n=C.merge(this.rawContentChangedEvent,i.rawContentChangedEvent),o=g._mergeChangeEvents(this.contentChangedEvent,i.contentChangedEvent);return new g(n,o)}static _mergeChangeEvents(i,n){const o=[].concat(i.changes).concat(n.changes),l=n.eol,c=n.versionId,d=i.isUndoing||n.isUndoing,r=i.isRedoing||n.isRedoing,s=i.isFlush||n.isFlush;return{changes:o,eol:l,versionId:c,isUndoing:d,isRedoing:r,isFlush:s}}}e.InternalModelContentChangeEvent=g}),define(se[191],re([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentGuideHorizontalLine=e.IndentGuide=e.HorizontalGuidesState=void 0;var w;(function(D){D[D.Disabled=0]="Disabled",D[D.EnabledForActive=1]="EnabledForActive",D[D.Enabled=2]="Enabled"})(w=e.HorizontalGuidesState||(e.HorizontalGuidesState={}));class m{constructor(L,b,C,h,g,t){if(this.visibleColumn=L,this.column=b,this.className=C,this.horizontalLine=h,this.forWrappedLinesAfterColumn=g,this.forWrappedLinesBeforeOrAtColumn=t,L!==-1==(b!==-1))throw new Error}}e.IndentGuide=m;class k{constructor(L,b){this.top=L,this.endColumn=b}}e.IndentGuideHorizontalLine=k}),define(se[248],re([1,0,18,8,70,3,244,190,191]),function(q,e,w,m,k,D,L,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketPairGuidesClassNames=e.GuidesTextModelPart=void 0;class h extends L.TextModelPart{constructor(i,n){super(),this.textModel=i,this.languageConfigurationService=n}getLanguageConfiguration(i){return this.languageConfigurationService.getLanguageConfiguration(i)}_computeIndentLevel(i){return(0,b.computeIndentLevel)(this.textModel.getLineContent(i+1),this.textModel.getOptions().tabSize)}getActiveIndentGuide(i,n,o){this.assertNotDisposed();const l=this.textModel.getLineCount();if(i<1||i>l)throw new Error("Illegal value for lineNumber");const c=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,d=Boolean(c&&c.offSide);let r=-2,s=-1,a=-2,u=-1;const p=M=>{if(r!==-1&&(r===-2||r>M-1)){r=-1,s=-1;for(let N=M-2;N>=0;N--){const A=this._computeIndentLevel(N);if(A>=0){r=N,s=A;break}}}if(a===-2){a=-1,u=-1;for(let N=M;N<l;N++){const A=this._computeIndentLevel(N);if(A>=0){a=N,u=A;break}}}};let S=-2,f=-1,v=-2,_=-1;const y=M=>{if(S===-2){S=-1,f=-1;for(let N=M-2;N>=0;N--){const A=this._computeIndentLevel(N);if(A>=0){S=N,f=A;break}}}if(v!==-1&&(v===-2||v<M-1)){v=-1,_=-1;for(let N=M;N<l;N++){const A=this._computeIndentLevel(N);if(A>=0){v=N,_=A;break}}}};let E=0,T=!0,I=0,R=!0,F=0,O=0;for(let M=0;T||R;M++){const N=i-M,A=i+M;M>1&&(N<1||N<n)&&(T=!1),M>1&&(A>l||A>o)&&(R=!1),M>5e4&&(T=!1,R=!1);let B=-1;if(T&&N>=1){const x=this._computeIndentLevel(N-1);x>=0?(a=N-1,u=x,B=Math.ceil(x/this.textModel.getOptions().indentSize)):(p(N),B=this._getIndentLevelForWhitespaceLine(d,s,u))}let W=-1;if(R&&A<=l){const x=this._computeIndentLevel(A-1);x>=0?(S=A-1,f=x,W=Math.ceil(x/this.textModel.getOptions().indentSize)):(y(A),W=this._getIndentLevelForWhitespaceLine(d,f,_))}if(M===0){O=B;continue}if(M===1){if(A<=l&&W>=0&&O+1===W){T=!1,E=A,I=A,F=W;continue}if(N>=1&&B>=0&&B-1===O){R=!1,E=N,I=N,F=B;continue}if(E=i,I=i,F=O,F===0)return{startLineNumber:E,endLineNumber:I,indent:F}}T&&(B>=F?E=N:T=!1),R&&(W>=F?I=A:R=!1)}return{startLineNumber:E,endLineNumber:I,indent:F}}getLinesBracketGuides(i,n,o,l){var c;const d=[];for(let S=i;S<=n;S++)d.push([]);const r=!0,s=this.textModel.bracketPairs.getBracketPairsInRangeWithMinIndentation(new D.Range(i,1,n,this.textModel.getLineMaxColumn(n))).toArray();let a;if(o&&s.length>0){const S=(i<=o.lineNumber&&o.lineNumber<=n?s:this.textModel.bracketPairs.getBracketPairsInRange(D.Range.fromPositions(o)).toArray()).filter(f=>D.Range.strictContainsPosition(f.range,o));a=(c=(0,w.findLast)(S,f=>r||f.range.startLineNumber!==f.range.endLineNumber))===null||c===void 0?void 0:c.range}const u=this.textModel.getOptions().bracketPairColorizationOptions.independentColorPoolPerBracketType,p=new g;for(const S of s){if(!S.closingBracketRange)continue;const f=a&&S.range.equalsRange(a);if(!f&&!l.includeInactive)continue;const v=p.getInlineClassName(S.nestingLevel,S.nestingLevelOfEqualBracketType,u)+(l.highlightActive&&f?" "+p.activeClassName:""),_=S.openingBracketRange.getStartPosition(),y=S.closingBracketRange.getStartPosition(),E=l.horizontalGuides===C.HorizontalGuidesState.Enabled||l.horizontalGuides===C.HorizontalGuidesState.EnabledForActive&&f;if(S.range.startLineNumber===S.range.endLineNumber){r&&E&&d[S.range.startLineNumber-i].push(new C.IndentGuide(-1,S.openingBracketRange.getEndPosition().column,v,new C.IndentGuideHorizontalLine(!1,y.column),-1,-1));continue}const T=this.getVisibleColumnFromPosition(y),I=this.getVisibleColumnFromPosition(S.openingBracketRange.getStartPosition()),R=Math.min(I,T,S.minVisibleColumnIndentation+1);let F=!1;m.firstNonWhitespaceIndex(this.textModel.getLineContent(S.closingBracketRange.startLineNumber))<S.closingBracketRange.startColumn-1&&(F=!0);const N=Math.max(_.lineNumber,i),A=Math.min(y.lineNumber,n),B=F?1:0;for(let W=N;W<A+B;W++)d[W-i].push(new C.IndentGuide(R,-1,v,null,W===_.lineNumber?_.column:-1,W===y.lineNumber?y.column:-1));E&&(_.lineNumber>=i&&I>R&&d[_.lineNumber-i].push(new C.IndentGuide(R,-1,v,new C.IndentGuideHorizontalLine(!1,_.column),-1,-1)),y.lineNumber<=n&&T>R&&d[y.lineNumber-i].push(new C.IndentGuide(R,-1,v,new C.IndentGuideHorizontalLine(!F,y.column),-1,-1)))}for(const S of d)S.sort((f,v)=>f.visibleColumn-v.visibleColumn);return d}getVisibleColumnFromPosition(i){return k.CursorColumns.visibleColumnFromColumn(this.textModel.getLineContent(i.lineNumber),i.column,this.textModel.getOptions().tabSize)+1}getLinesIndentGuides(i,n){this.assertNotDisposed();const o=this.textModel.getLineCount();if(i<1||i>o)throw new Error("Illegal value for startLineNumber");if(n<1||n>o)throw new Error("Illegal value for endLineNumber");const l=this.textModel.getOptions(),c=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,d=Boolean(c&&c.offSide),r=new Array(n-i+1);let s=-2,a=-1,u=-2,p=-1;for(let S=i;S<=n;S++){const f=S-i,v=this._computeIndentLevel(S-1);if(v>=0){s=S-1,a=v,r[f]=Math.ceil(v/l.indentSize);continue}if(s===-2){s=-1,a=-1;for(let _=S-2;_>=0;_--){const y=this._computeIndentLevel(_);if(y>=0){s=_,a=y;break}}}if(u!==-1&&(u===-2||u<S-1)){u=-1,p=-1;for(let _=S;_<o;_++){const y=this._computeIndentLevel(_);if(y>=0){u=_,p=y;break}}}r[f]=this._getIndentLevelForWhitespaceLine(d,a,p)}return r}_getIndentLevelForWhitespaceLine(i,n,o){const l=this.textModel.getOptions();return n===-1||o===-1?0:n<o?1+Math.floor(n/l.indentSize):n===o||i?Math.ceil(o/l.indentSize):1+Math.floor(o/l.indentSize)}}e.GuidesTextModelPart=h;class g{constructor(){this.activeClassName="indent-active"}getInlineClassName(i,n,o){return this.getInlineClassNameOfLevel(o?n:i)}getInlineClassNameOfLevel(i){return`bracket-indent-guide lvl-${i%30}`}}e.BracketPairGuidesClassNames=g}),define(se[444],re([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContiguousMultilineTokens=void 0;class w{get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._startLineNumber+this._tokens.length-1}constructor(k,D){this._startLineNumber=k,this._tokens=D}getLineTokens(k){return this._tokens[k-this._startLineNumber]}appendLineTokens(k){this._tokens.push(k)}}e.ContiguousMultilineTokens=w}),define(se[445],re([1,0,444]),function(q,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContiguousMultilineTokensBuilder=void 0;class m{constructor(){this._tokens=[]}add(D,L){if(this._tokens.length>0){const b=this._tokens[this._tokens.length-1];if(b.endLineNumber+1===D){b.appendLineTokens(L);return}}this._tokens.push(new w.ContiguousMultilineTokens(D,[L]))}finalize(){return this._tokens}}e.ContiguousMultilineTokensBuilder=m}),define(se[84],re([1,0,111]),function(q,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineTokens=void 0;class m{static createEmpty(L,b){const C=m.defaultTokenMetadata,h=new Uint32Array(2);return h[0]=L.length,h[1]=C,new m(h,L,b)}constructor(L,b,C){this._lineTokensBrand=void 0,this._tokens=L,this._tokensCount=this._tokens.length>>>1,this._text=b,this._languageIdCodec=C}equals(L){return L instanceof m?this.slicedEquals(L,0,this._tokensCount):!1}slicedEquals(L,b,C){if(this._text!==L._text||this._tokensCount!==L._tokensCount)return!1;const h=b<<1,g=h+(C<<1);for(let t=h;t<g;t++)if(this._tokens[t]!==L._tokens[t])return!1;return!0}getLineContent(){return this._text}getCount(){return this._tokensCount}getStartOffset(L){return L>0?this._tokens[L-1<<1]:0}getMetadata(L){return this._tokens[(L<<1)+1]}getLanguageId(L){const b=this._tokens[(L<<1)+1],C=w.TokenMetadata.getLanguageId(b);return this._languageIdCodec.decodeLanguageId(C)}getStandardTokenType(L){const b=this._tokens[(L<<1)+1];return w.TokenMetadata.getTokenType(b)}getForeground(L){const b=this._tokens[(L<<1)+1];return w.TokenMetadata.getForeground(b)}getClassName(L){const b=this._tokens[(L<<1)+1];return w.TokenMetadata.getClassNameFromMetadata(b)}getInlineStyle(L,b){const C=this._tokens[(L<<1)+1];return w.TokenMetadata.getInlineStyleFromMetadata(C,b)}getPresentation(L){const b=this._tokens[(L<<1)+1];return w.TokenMetadata.getPresentationFromMetadata(b)}getEndOffset(L){return this._tokens[L<<1]}findTokenIndexAtOffset(L){return m.findIndexInTokensArray(this._tokens,L)}inflate(){return this}sliceAndInflate(L,b,C){return new k(this,L,b,C)}static convertToEndOffset(L,b){const h=(L.length>>>1)-1;for(let g=0;g<h;g++)L[g<<1]=L[g+1<<1];L[h<<1]=b}static findIndexInTokensArray(L,b){if(L.length<=2)return 0;let C=0,h=(L.length>>>1)-1;for(;C<h;){const g=C+Math.floor((h-C)/2),t=L[g<<1];if(t===b)return g+1;t<b?C=g+1:t>b&&(h=g)}return C}withInserted(L){if(L.length===0)return this;let b=0,C=0,h="";const g=new Array;let t=0;for(;;){const i=b<this._tokensCount?this._tokens[b<<1]:-1,n=C<L.length?L[C]:null;if(i!==-1&&(n===null||i<=n.offset)){h+=this._text.substring(t,i);const o=this._tokens[(b<<1)+1];g.push(h.length,o),b++,t=i}else if(n){if(n.offset>t){h+=this._text.substring(t,n.offset);const o=this._tokens[(b<<1)+1];g.push(h.length,o),t=n.offset}h+=n.text,g.push(h.length,n.tokenMetadata),C++}else break}return new m(new Uint32Array(g),h,this._languageIdCodec)}}e.LineTokens=m,m.defaultTokenMetadata=(0<<11|1<<15|2<<24)>>>0;class k{constructor(L,b,C,h){this._source=L,this._startOffset=b,this._endOffset=C,this._deltaOffset=h,this._firstTokenIndex=L.findTokenIndexAtOffset(b),this._tokensCount=0;for(let g=this._firstTokenIndex,t=L.getCount();g<t&&!(L.getStartOffset(g)>=C);g++)this._tokensCount++}getMetadata(L){return this._source.getMetadata(this._firstTokenIndex+L)}getLanguageId(L){return this._source.getLanguageId(this._firstTokenIndex+L)}getLineContent(){return this._source.getLineContent().substring(this._startOffset,this._endOffset)}equals(L){return L instanceof k?this._startOffset===L._startOffset&&this._endOffset===L._endOffset&&this._deltaOffset===L._deltaOffset&&this._source.slicedEquals(L._source,this._firstTokenIndex,this._tokensCount):!1}getCount(){return this._tokensCount}getForeground(L){return this._source.getForeground(this._firstTokenIndex+L)}getEndOffset(L){const b=this._source.getEndOffset(this._firstTokenIndex+L);return Math.min(this._endOffset,b)-this._startOffset+this._deltaOffset}getClassName(L){return this._source.getClassName(this._firstTokenIndex+L)}getInlineStyle(L,b){return this._source.getInlineStyle(this._firstTokenIndex+L,b)}getPresentation(L){return this._source.getPresentation(this._firstTokenIndex+L)}findTokenIndexAtOffset(L){return this._source.findTokenIndexAtOffset(L+this._startOffset-this._deltaOffset)-this._firstTokenIndex}}}),define(se[446],re([1,0,84]),function(q,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toUint32Array=e.ContiguousTokensEditing=e.EMPTY_LINE_TOKENS=void 0,e.EMPTY_LINE_TOKENS=new Uint32Array(0).buffer;class m{static deleteBeginning(L,b){return L===null||L===e.EMPTY_LINE_TOKENS?L:m.delete(L,0,b)}static deleteEnding(L,b){if(L===null||L===e.EMPTY_LINE_TOKENS)return L;const C=k(L),h=C[C.length-2];return m.delete(L,b,h)}static delete(L,b,C){if(L===null||L===e.EMPTY_LINE_TOKENS||b===C)return L;const h=k(L),g=h.length>>>1;if(b===0&&h[h.length-2]===C)return e.EMPTY_LINE_TOKENS;const t=w.LineTokens.findIndexInTokensArray(h,b),i=t>0?h[t-1<<1]:0,n=h[t<<1];if(C<n){const r=C-b;for(let s=t;s<g;s++)h[s<<1]-=r;return L}let o,l;i!==b?(h[t<<1]=b,o=t+1<<1,l=b):(o=t<<1,l=i);const c=C-b;for(let r=t+1;r<g;r++){const s=h[r<<1]-c;s>l&&(h[o++]=s,h[o++]=h[(r<<1)+1],l=s)}if(o===h.length)return L;const d=new Uint32Array(o);return d.set(h.subarray(0,o),0),d.buffer}static append(L,b){if(b===e.EMPTY_LINE_TOKENS)return L;if(L===e.EMPTY_LINE_TOKENS)return b;if(L===null)return L;if(b===null)return null;const C=k(L),h=k(b),g=h.length>>>1,t=new Uint32Array(C.length+h.length);t.set(C,0);let i=C.length;const n=C[C.length-2];for(let o=0;o<g;o++)t[i++]=h[o<<1]+n,t[i++]=h[(o<<1)+1];return t.buffer}static insert(L,b,C){if(L===null||L===e.EMPTY_LINE_TOKENS)return L;const h=k(L),g=h.length>>>1;let t=w.LineTokens.findIndexInTokensArray(h,b);t>0&&h[t-1<<1]===b&&t--;for(let i=t;i<g;i++)h[i<<1]+=C;return L}}e.ContiguousTokensEditing=m;function k(D){return D instanceof Uint32Array?D:new Uint32Array(D)}e.toUint32Array=k}),define(se[447],re([1,0,18,11,446,84,111]),function(q,e,w,m,k,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContiguousTokensStore=void 0;class b{constructor(g){this._lineTokens=[],this._len=0,this._languageIdCodec=g}flush(){this._lineTokens=[],this._len=0}getTokens(g,t,i){let n=null;if(t<this._len&&(n=this._lineTokens[t]),n!==null&&n!==k.EMPTY_LINE_TOKENS)return new D.LineTokens((0,k.toUint32Array)(n),i,this._languageIdCodec);const o=new Uint32Array(2);return o[0]=i.length,o[1]=C(this._languageIdCodec.encodeLanguageId(g)),new D.LineTokens(o,i,this._languageIdCodec)}static _massageTokens(g,t,i){const n=i?(0,k.toUint32Array)(i):null;if(t===0){let o=!1;if(n&&n.length>1&&(o=L.TokenMetadata.getLanguageId(n[1])!==g),!o)return k.EMPTY_LINE_TOKENS}if(!n||n.length===0){const o=new Uint32Array(2);return o[0]=t,o[1]=C(g),o.buffer}return n[n.length-2]=t,n.byteOffset===0&&n.byteLength===n.buffer.byteLength?n.buffer:n}_ensureLine(g){for(;g>=this._len;)this._lineTokens[this._len]=null,this._len++}_deleteLines(g,t){t!==0&&(g+t>this._len&&(t=this._len-g),this._lineTokens.splice(g,t),this._len-=t)}_insertLines(g,t){if(t===0)return;const i=[];for(let n=0;n<t;n++)i[n]=null;this._lineTokens=w.arrayInsert(this._lineTokens,g,i),this._len+=t}setTokens(g,t,i,n,o){const l=b._massageTokens(this._languageIdCodec.encodeLanguageId(g),i,n);this._ensureLine(t);const c=this._lineTokens[t];return this._lineTokens[t]=l,o?!b._equals(c,l):!1}static _equals(g,t){if(!g||!t)return!g&&!t;const i=(0,k.toUint32Array)(g),n=(0,k.toUint32Array)(t);if(i.length!==n.length)return!1;for(let o=0,l=i.length;o<l;o++)if(i[o]!==n[o])return!1;return!0}acceptEdit(g,t,i){this._acceptDeleteRange(g),this._acceptInsertText(new m.Position(g.startLineNumber,g.startColumn),t,i)}_acceptDeleteRange(g){const t=g.startLineNumber-1;if(t>=this._len)return;if(g.startLineNumber===g.endLineNumber){if(g.startColumn===g.endColumn)return;this._lineTokens[t]=k.ContiguousTokensEditing.delete(this._lineTokens[t],g.startColumn-1,g.endColumn-1);return}this._lineTokens[t]=k.ContiguousTokensEditing.deleteEnding(this._lineTokens[t],g.startColumn-1);const i=g.endLineNumber-1;let n=null;i<this._len&&(n=k.ContiguousTokensEditing.deleteBeginning(this._lineTokens[i],g.endColumn-1)),this._lineTokens[t]=k.ContiguousTokensEditing.append(this._lineTokens[t],n),this._deleteLines(g.startLineNumber,g.endLineNumber-g.startLineNumber)}_acceptInsertText(g,t,i){if(t===0&&i===0)return;const n=g.lineNumber-1;if(!(n>=this._len)){if(t===0){this._lineTokens[n]=k.ContiguousTokensEditing.insert(this._lineTokens[n],g.column-1,i);return}this._lineTokens[n]=k.ContiguousTokensEditing.deleteEnding(this._lineTokens[n],g.column-1),this._lineTokens[n]=k.ContiguousTokensEditing.insert(this._lineTokens[n],g.column-1,i),this._insertLines(g.lineNumber,t)}}}e.ContiguousTokensStore=b;function C(h){return(h<<0|0<<8|0<<11|1<<15|2<<24|1024)>>>0}}),define(se[448],re([1,0,11,3,130]),function(q,e,w,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SparseLineTokens=e.SparseMultilineTokens=void 0;class D{static create(h,g){return new D(h,new L(g))}get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._endLineNumber}constructor(h,g){this._startLineNumber=h,this._tokens=g,this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}toString(){return this._tokens.toString(this._startLineNumber)}_updateEndLineNumber(){this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}isEmpty(){return this._tokens.isEmpty()}getLineTokens(h){return this._startLineNumber<=h&&h<=this._endLineNumber?this._tokens.getLineTokens(h-this._startLineNumber):null}getRange(){const h=this._tokens.getRange();return h&&new m.Range(this._startLineNumber+h.startLineNumber,h.startColumn,this._startLineNumber+h.endLineNumber,h.endColumn)}removeTokens(h){const g=h.startLineNumber-this._startLineNumber,t=h.endLineNumber-this._startLineNumber;this._startLineNumber+=this._tokens.removeTokens(g,h.startColumn-1,t,h.endColumn-1),this._updateEndLineNumber()}split(h){const g=h.startLineNumber-this._startLineNumber,t=h.endLineNumber-this._startLineNumber,[i,n,o]=this._tokens.split(g,h.startColumn-1,t,h.endColumn-1);return[new D(this._startLineNumber,i),new D(this._startLineNumber+o,n)]}applyEdit(h,g){const[t,i,n]=(0,k.countEOL)(g);this.acceptEdit(h,t,i,n,g.length>0?g.charCodeAt(0):0)}acceptEdit(h,g,t,i,n){this._acceptDeleteRange(h),this._acceptInsertText(new w.Position(h.startLineNumber,h.startColumn),g,t,i,n),this._updateEndLineNumber()}_acceptDeleteRange(h){if(h.startLineNumber===h.endLineNumber&&h.startColumn===h.endColumn)return;const g=h.startLineNumber-this._startLineNumber,t=h.endLineNumber-this._startLineNumber;if(t<0){const n=t-g;this._startLineNumber-=n;return}const i=this._tokens.getMaxDeltaLine();if(!(g>=i+1)){if(g<0&&t>=i+1){this._startLineNumber=0,this._tokens.clear();return}if(g<0){const n=-g;this._startLineNumber-=n,this._tokens.acceptDeleteRange(h.startColumn-1,0,0,t,h.endColumn-1)}else this._tokens.acceptDeleteRange(0,g,h.startColumn-1,t,h.endColumn-1)}}_acceptInsertText(h,g,t,i,n){if(g===0&&t===0)return;const o=h.lineNumber-this._startLineNumber;if(o<0){this._startLineNumber+=g;return}const l=this._tokens.getMaxDeltaLine();o>=l+1||this._tokens.acceptInsertText(o,h.column-1,g,t,i,n)}}e.SparseMultilineTokens=D;class L{constructor(h){this._tokens=h,this._tokenCount=h.length/4}toString(h){const g=[];for(let t=0;t<this._tokenCount;t++)g.push(`(${this._getDeltaLine(t)+h},${this._getStartCharacter(t)}-${this._getEndCharacter(t)})`);return`[${g.join(",")}]`}getMaxDeltaLine(){const h=this._getTokenCount();return h===0?-1:this._getDeltaLine(h-1)}getRange(){const h=this._getTokenCount();if(h===0)return null;const g=this._getStartCharacter(0),t=this._getDeltaLine(h-1),i=this._getEndCharacter(h-1);return new m.Range(0,g+1,t,i+1)}_getTokenCount(){return this._tokenCount}_getDeltaLine(h){return this._tokens[4*h]}_getStartCharacter(h){return this._tokens[4*h+1]}_getEndCharacter(h){return this._tokens[4*h+2]}isEmpty(){return this._getTokenCount()===0}getLineTokens(h){let g=0,t=this._getTokenCount()-1;for(;g<t;){const i=g+Math.floor((t-g)/2),n=this._getDeltaLine(i);if(n<h)g=i+1;else if(n>h)t=i-1;else{let o=i;for(;o>g&&this._getDeltaLine(o-1)===h;)o--;let l=i;for(;l<t&&this._getDeltaLine(l+1)===h;)l++;return new b(this._tokens.subarray(4*o,4*l+4))}}return this._getDeltaLine(g)===h?new b(this._tokens.subarray(4*g,4*g+4)):null}clear(){this._tokenCount=0}removeTokens(h,g,t,i){const n=this._tokens,o=this._tokenCount;let l=0,c=!1,d=0;for(let r=0;r<o;r++){const s=4*r,a=n[s],u=n[s+1],p=n[s+2],S=n[s+3];if((a>h||a===h&&p>=g)&&(a<t||a===t&&u<=i))c=!0;else{if(l===0&&(d=a),c){const f=4*l;n[f]=a-d,n[f+1]=u,n[f+2]=p,n[f+3]=S}l++}}return this._tokenCount=l,d}split(h,g,t,i){const n=this._tokens,o=this._tokenCount,l=[],c=[];let d=l,r=0,s=0;for(let a=0;a<o;a++){const u=4*a,p=n[u],S=n[u+1],f=n[u+2],v=n[u+3];if(p>h||p===h&&f>=g){if(p<t||p===t&&S<=i)continue;d!==c&&(d=c,r=0,s=p)}d[r++]=p-s,d[r++]=S,d[r++]=f,d[r++]=v}return[new L(new Uint32Array(l)),new L(new Uint32Array(c)),s]}acceptDeleteRange(h,g,t,i,n){const o=this._tokens,l=this._tokenCount,c=i-g;let d=0,r=!1;for(let s=0;s<l;s++){const a=4*s;let u=o[a],p=o[a+1],S=o[a+2];const f=o[a+3];if(u<g||u===g&&S<=t){d++;continue}else if(u===g&&p<t)u===i&&S>n?S-=n-t:S=t;else if(u===g&&p===t)if(u===i&&S>n)S-=n-t;else{r=!0;continue}else if(u<i||u===i&&p<n)if(u===i&&S>n)u===g?(p=t,S=p+(S-n)):(p=0,S=p+(S-n));else{r=!0;continue}else if(u>i){if(c===0&&!r){d=l;break}u-=c}else if(u===i&&p>=n)h&&u===0&&(p+=h,S+=h),u-=c,p-=n-t,S-=n-t;else throw new Error("Not possible!");const v=4*d;o[v]=u,o[v+1]=p,o[v+2]=S,o[v+3]=f,d++}this._tokenCount=d}acceptInsertText(h,g,t,i,n,o){const l=t===0&&i===1&&(o>=48&&o<=57||o>=65&&o<=90||o>=97&&o<=122),c=this._tokens,d=this._tokenCount;for(let r=0;r<d;r++){const s=4*r;let a=c[s],u=c[s+1],p=c[s+2];if(!(a<h||a===h&&p<g)){if(a===h&&p===g)if(l)p+=1;else continue;else if(a===h&&u<g&&g<p)t===0?p+=i:p=g;else{if(a===h&&u===g&&l)continue;if(a===h)if(a+=t,t===0)u+=i,p+=i;else{const S=p-u;u=n+(u-g),p=u+S}else a+=t}c[s]=a,c[s+1]=u,c[s+2]=p}}}}class b{constructor(h){this._tokens=h}getCount(){return this._tokens.length/4}getStartCharacter(h){return this._tokens[4*h+1]}getEndCharacter(h){return this._tokens[4*h+2]}getMetadata(h){return this._tokens[4*h+3]}}e.SparseLineTokens=b}),define(se[449],re([1,0,18,84]),function(q,e,w,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SparseTokensStore=void 0;class k{constructor(L){this._pieces=[],this._isComplete=!1,this._languageIdCodec=L}flush(){this._pieces=[],this._isComplete=!1}isEmpty(){return this._pieces.length===0}set(L,b){this._pieces=L||[],this._isComplete=b}setPartial(L,b){let C=L;if(b.length>0){const g=b[0].getRange(),t=b[b.length-1].getRange();if(!g||!t)return L;C=L.plusRange(g).plusRange(t)}let h=null;for(let g=0,t=this._pieces.length;g<t;g++){const i=this._pieces[g];if(i.endLineNumber<C.startLineNumber)continue;if(i.startLineNumber>C.endLineNumber){h=h||{index:g};break}if(i.removeTokens(C),i.isEmpty()){this._pieces.splice(g,1),g--,t--;continue}if(i.endLineNumber<C.startLineNumber)continue;if(i.startLineNumber>C.endLineNumber){h=h||{index:g};continue}const[n,o]=i.split(C);if(n.isEmpty()){h=h||{index:g};continue}o.isEmpty()||(this._pieces.splice(g,1,n,o),g++,t++,h=h||{index:g})}return h=h||{index:this._pieces.length},b.length>0&&(this._pieces=w.arrayInsert(this._pieces,h.index,b)),C}isComplete(){return this._isComplete}addSparseTokens(L,b){if(b.getLineContent().length===0)return b;const C=this._pieces;if(C.length===0)return b;const h=k._findFirstPieceWithLine(C,L),g=C[h].getLineTokens(L);if(!g)return b;const t=b.getCount(),i=g.getCount();let n=0;const o=[];let l=0,c=0;const d=(r,s)=>{r!==c&&(c=r,o[l++]=r,o[l++]=s)};for(let r=0;r<i;r++){const s=g.getStartCharacter(r),a=g.getEndCharacter(r),u=g.getMetadata(r),p=((u&1?2048:0)|(u&2?4096:0)|(u&4?8192:0)|(u&8?16384:0)|(u&16?16744448:0)|(u&32?4278190080:0))>>>0,S=~p>>>0;for(;n<t&&b.getEndOffset(n)<=s;)d(b.getEndOffset(n),b.getMetadata(n)),n++;for(n<t&&b.getStartOffset(n)<s&&d(s,b.getMetadata(n));n<t&&b.getEndOffset(n)<a;)d(b.getEndOffset(n),b.getMetadata(n)&S|u&p),n++;if(n<t)d(a,b.getMetadata(n)&S|u&p),b.getEndOffset(n)===a&&n++;else{const f=Math.min(Math.max(0,n-1),t-1);d(a,b.getMetadata(f)&S|u&p)}}for(;n<t;)d(b.getEndOffset(n),b.getMetadata(n)),n++;return new m.LineTokens(new Uint32Array(o),b.getLineContent(),this._languageIdCodec)}static _findFirstPieceWithLine(L,b){let C=0,h=L.length-1;for(;C<h;){let g=C+Math.floor((h-C)/2);if(L[g].endLineNumber<b)C=g+1;else if(L[g].startLineNumber>b)h=g-1;else{for(;g>C&&L[g-1].startLineNumber<=b&&b<=L[g-1].endLineNumber;)g--;return g}}return C}acceptEdit(L,b,C,h,g){for(const t of this._pieces)t.acceptEdit(L,b,C,h,g)}}e.SparseTokensStore=k}),define(se[133],re([1,0,2]),function(q,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewEventHandler=void 0;class m extends w.Disposable{constructor(){super(),this._shouldRender=!0}shouldRender(){return this._shouldRender}forceShouldRender(){this._shouldRender=!0}setShouldRender(){this._shouldRender=!0}onDidRender(){this._shouldRender=!1}onCompositionStart(D){return!1}onCompositionEnd(D){return!1}onConfigurationChanged(D){return!1}onCursorStateChanged(D){return!1}onDecorationsChanged(D){return!1}onFlushed(D){return!1}onFocusChanged(D){return!1}onLanguageConfigurationChanged(D){return!1}onLineMappingChanged(D){return!1}onLinesChanged(D){return!1}onLinesDeleted(D){return!1}onLinesInserted(D){return!1}onRevealRangeRequest(D){return!1}onScrollChanged(D){return!1}onThemeChanged(D){return!1}onTokensChanged(D){return!1}onTokensColorsChanged(D){return!1}onZonesChanged(D){return!1}handleEvents(D){let L=!1;for(let b=0,C=D.length;b<C;b++){const h=D[b];switch(h.type){case 0:this.onCompositionStart(h)&&(L=!0);break;case 1:this.onCompositionEnd(h)&&(L=!0);break;case 2:this.onConfigurationChanged(h)&&(L=!0);break;case 3:this.onCursorStateChanged(h)&&(L=!0);break;case 4:this.onDecorationsChanged(h)&&(L=!0);break;case 5:this.onFlushed(h)&&(L=!0);break;case 6:this.onFocusChanged(h)&&(L=!0);break;case 7:this.onLanguageConfigurationChanged(h)&&(L=!0);break;case 8:this.onLineMappingChanged(h)&&(L=!0);break;case 9:this.onLinesChanged(h)&&(L=!0);break;case 10:this.onLinesDeleted(h)&&(L=!0);break;case 11:this.onLinesInserted(h)&&(L=!0);break;case 12:this.onRevealRangeRequest(h)&&(L=!0);break;case 13:this.onScrollChanged(h)&&(L=!0);break;case 15:this.onTokensChanged(h)&&(L=!0);break;case 14:this.onThemeChanged(h)&&(L=!0);break;case 16:this.onTokensColorsChanged(h)&&(L=!0);break;case 17:this.onZonesChanged(h)&&(L=!0);break;default:console.info("View received unknown event: "),console.info(h)}}L&&(this._shouldRender=!0)}}e.ViewEventHandler=m}),define(se[114],re([1,0,133]),function(q,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DynamicViewOverlay=void 0;class m extends w.ViewEventHandler{}e.DynamicViewOverlay=m}),define(se[48],re([1,0,133]),function(q,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PartFingerprints=e.ViewPart=void 0;class m extends w.ViewEventHandler{constructor(L){super(),this._context=L,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}}e.ViewPart=m;class k{static write(L,b){L.setAttribute("data-mprt",String(b))}static read(L){const b=L.getAttribute("data-mprt");return b===null?0:parseInt(b,10)}static collect(L,b){const C=[];let h=0;for(;L&&L!==document.body&&L!==b;)L.nodeType===L.ELEMENT_NODE&&(C[h++]=this.read(L)),L=L.parentElement;const g=new Uint8Array(h);for(let t=0;t<h;t++)g[t]=C[h-t-1];return g}}e.PartFingerprints=k}),define(se[450],re([1,0,35,48,362]),function(q,e,w,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BlockDecorations=void 0;class k extends m.ViewPart{constructor(L){super(L),this.blocks=[],this.contentWidth=-1,this.domNode=(0,w.createFastDomNode)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("blockDecorations-container"),this.update()}update(){let L=!1;const C=this._context.configuration.options.get(133),h=C.contentWidth-C.verticalScrollbarWidth;return this.contentWidth!==h&&(this.contentWidth=h,L=!0),L}dispose(){super.dispose()}onConfigurationChanged(L){return this.update()}onScrollChanged(L){return L.scrollTopChanged||L.scrollLeftChanged}onDecorationsChanged(L){return!0}onZonesChanged(L){return!0}prepareRender(L){}render(L){let b=0;const C=L.getDecorationsInViewport();for(const h of C){if(!h.options.blockClassName)continue;let g=this.blocks[b];g||(g=this.blocks[b]=(0,w.createFastDomNode)(document.createElement("div")),this.domNode.appendChild(g));let t,i;h.options.blockIsAfterEnd?(t=L.getVerticalOffsetAfterLineNumber(h.range.endLineNumber,!1),i=L.getVerticalOffsetAfterLineNumber(h.range.endLineNumber,!0)):(t=L.getVerticalOffsetForLineNumber(h.range.startLineNumber,!0),i=h.range.isEmpty()?L.getVerticalOffsetForLineNumber(h.range.startLineNumber,!1):L.getVerticalOffsetAfterLineNumber(h.range.endLineNumber,!0)),g.setClassName("blockDecorations-block "+h.options.blockClassName),g.setLeft(L.scrollLeft),g.setWidth(this.contentWidth),g.setTop(t),g.setHeight(i-t),b++}for(let h=b;h<this.blocks.length;h++)this.blocks[h].domNode.remove();this.blocks.length=b}}e.BlockDecorations=k}),define(se[451],re([1,0,114,3,129,364]),function(q,e,w,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DecorationsOverlay=void 0;class D extends w.DynamicViewOverlay{constructor(b){super(),this._context=b;const C=this._context.configuration.options;this._lineHeight=C.get(60),this._typicalHalfwidthCharacterWidth=C.get(45).typicalHalfwidthCharacterWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(b){const C=this._context.configuration.options;return this._lineHeight=C.get(60),this._typicalHalfwidthCharacterWidth=C.get(45).typicalHalfwidthCharacterWidth,!0}onDecorationsChanged(b){return!0}onFlushed(b){return!0}onLinesChanged(b){return!0}onLinesDeleted(b){return!0}onLinesInserted(b){return!0}onScrollChanged(b){return b.scrollTopChanged||b.scrollWidthChanged}onZonesChanged(b){return!0}prepareRender(b){const C=b.getDecorationsInViewport();let h=[],g=0;for(let o=0,l=C.length;o<l;o++){const c=C[o];c.options.className&&(h[g++]=c)}h=h.sort((o,l)=>{if(o.options.zIndex<l.options.zIndex)return-1;if(o.options.zIndex>l.options.zIndex)return 1;const c=o.options.className,d=l.options.className;return c<d?-1:c>d?1:m.Range.compareRangesUsingStarts(o.range,l.range)});const t=b.visibleRange.startLineNumber,i=b.visibleRange.endLineNumber,n=[];for(let o=t;o<=i;o++){const l=o-t;n[l]=""}this._renderWholeLineDecorations(b,h,n),this._renderNormalDecorations(b,h,n),this._renderResult=n}_renderWholeLineDecorations(b,C,h){const g=String(this._lineHeight),t=b.visibleRange.startLineNumber,i=b.visibleRange.endLineNumber;for(let n=0,o=C.length;n<o;n++){const l=C[n];if(!l.options.isWholeLine)continue;const c='<div class="cdr '+l.options.className+'" style="left:0;width:100%;height:'+g+'px;"></div>',d=Math.max(l.range.startLineNumber,t),r=Math.min(l.range.endLineNumber,i);for(let s=d;s<=r;s++){const a=s-t;h[a]+=c}}}_renderNormalDecorations(b,C,h){const g=String(this._lineHeight),t=b.visibleRange.startLineNumber;let i=null,n=!1,o=null;for(let l=0,c=C.length;l<c;l++){const d=C[l];if(d.options.isWholeLine)continue;const r=d.options.className,s=Boolean(d.options.showIfCollapsed);let a=d.range;if(s&&a.endColumn===1&&a.endLineNumber!==a.startLineNumber&&(a=new m.Range(a.startLineNumber,a.startColumn,a.endLineNumber-1,this._context.viewModel.getLineMaxColumn(a.endLineNumber-1))),i===r&&n===s&&m.Range.areIntersectingOrTouching(o,a)){o=m.Range.plusRange(o,a);continue}i!==null&&this._renderNormalDecoration(b,o,i,n,g,t,h),i=r,n=s,o=a}i!==null&&this._renderNormalDecoration(b,o,i,n,g,t,h)}_renderNormalDecoration(b,C,h,g,t,i,n){const o=b.linesVisibleRangesForRange(C,h==="findMatch");if(!!o)for(let l=0,c=o.length;l<c;l++){const d=o[l];if(d.outsideRenderedLine)continue;const r=d.lineNumber-i;if(g&&d.ranges.length===1){const s=d.ranges[0];if(s.width<this._typicalHalfwidthCharacterWidth){const a=Math.round(s.left+s.width/2),u=Math.max(0,Math.round(a-this._typicalHalfwidthCharacterWidth/2));d.ranges[0]=new k.HorizontalRange(u,this._typicalHalfwidthCharacterWidth)}}for(let s=0,a=d.ranges.length;s<a;s++){const u=d.ranges[s],p='<div class="cdr '+h+'" style="left:'+String(u.left)+"px;width:"+String(u.width)+"px;height:"+t+'px;"></div>';n[r]+=p}}}render(b,C){if(!this._renderResult)return"";const h=C-b;return h<0||h>=this._renderResult.length?"":this._renderResult[h]}}e.DecorationsOverlay=D}),define(se[192],re([1,0,114,365]),function(q,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlyphMarginOverlay=e.DedupOverlay=e.DecorationToRender=void 0;class m{constructor(b,C,h){this._decorationToRenderBrand=void 0,this.startLineNumber=+b,this.endLineNumber=+C,this.className=String(h)}}e.DecorationToRender=m;class k extends w.DynamicViewOverlay{_render(b,C,h){const g=[];for(let n=b;n<=C;n++){const o=n-b;g[o]=[]}if(h.length===0)return g;h.sort((n,o)=>n.className===o.className?n.startLineNumber===o.startLineNumber?n.endLineNumber-o.endLineNumber:n.startLineNumber-o.startLineNumber:n.className<o.className?-1:1);let t=null,i=0;for(let n=0,o=h.length;n<o;n++){const l=h[n],c=l.className;let d=Math.max(l.startLineNumber,b)-b;const r=Math.min(l.endLineNumber,C)-b;t===c?(d=Math.max(i+1,d),i=Math.max(i,r)):(t=c,i=r);for(let s=d;s<=i;s++)g[s].push(t)}return g}}e.DedupOverlay=k;class D extends k{constructor(b){super(),this._context=b;const C=this._context.configuration.options,h=C.get(133);this._lineHeight=C.get(60),this._glyphMargin=C.get(51),this._glyphMarginLeft=h.glyphMarginLeft,this._glyphMarginWidth=h.glyphMarginWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(b){const C=this._context.configuration.options,h=C.get(133);return this._lineHeight=C.get(60),this._glyphMargin=C.get(51),this._glyphMarginLeft=h.glyphMarginLeft,this._glyphMarginWidth=h.glyphMarginWidth,!0}onDecorationsChanged(b){return!0}onFlushed(b){return!0}onLinesChanged(b){return!0}onLinesDeleted(b){return!0}onLinesInserted(b){return!0}onScrollChanged(b){return b.scrollTopChanged}onZonesChanged(b){return!0}_getDecorations(b){const C=b.getDecorationsInViewport(),h=[];let g=0;for(let t=0,i=C.length;t<i;t++){const n=C[t],o=n.options.glyphMarginClassName;o&&(h[g++]=new m(n.range.startLineNumber,n.range.endLineNumber,o))}return h}prepareRender(b){if(!this._glyphMargin){this._renderResult=null;return}const C=b.visibleRange.startLineNumber,h=b.visibleRange.endLineNumber,g=this._render(C,h,this._getDecorations(b)),t=this._lineHeight.toString(),i=this._glyphMarginLeft.toString(),n=this._glyphMarginWidth.toString(),o='" style="left:'+i+"px;width:"+n+"px;height:"+t+'px;"></div>',l=[];for(let c=C;c<=h;c++){const d=c-C,r=g[d];r.length===0?l[d]="":l[d]='<div class="cgmr codicon '+r.join(" ")+o}this._renderResult=l}render(b,C){if(!this._renderResult)return"";const h=C-b;return h<0||h>=this._renderResult.length?"":this._renderResult[h]}}e.GlyphMarginOverlay=D}),define(se[452],re([1,0,192,369]),function(q,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinesDecorationsOverlay=void 0;class m extends w.DedupOverlay{constructor(D){super(),this._context=D;const b=this._context.configuration.options.get(133);this._decorationsLeft=b.decorationsLeft,this._decorationsWidth=b.decorationsWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(D){const b=this._context.configuration.options.get(133);return this._decorationsLeft=b.decorationsLeft,this._decorationsWidth=b.decorationsWidth,!0}onDecorationsChanged(D){return!0}onFlushed(D){return!0}onLinesChanged(D){return!0}onLinesDeleted(D){return!0}onLinesInserted(D){return!0}onScrollChanged(D){return D.scrollTopChanged}onZonesChanged(D){return!0}_getDecorations(D){const L=D.getDecorationsInViewport(),b=[];let C=0;for(let h=0,g=L.length;h<g;h++){const t=L[h],i=t.options.linesDecorationsClassName;i&&(b[C++]=new w.DecorationToRender(t.range.startLineNumber,t.range.endLineNumber,i));const n=t.options.firstLineDecorationClassName;n&&(b[C++]=new w.DecorationToRender(t.range.startLineNumber,t.range.startLineNumber,n))}return b}prepareRender(D){const L=D.visibleRange.startLineNumber,b=D.visibleRange.endLineNumber,C=this._render(L,b,this._getDecorations(D)),h=this._decorationsLeft.toString(),g=this._decorationsWidth.toString(),t='" style="left:'+h+"px;width:"+g+'px;"></div>',i=[];for(let n=L;n<=b;n++){const o=n-L,l=C[o];let c="";for(let d=0,r=l.length;d<r;d++)c+='<div class="cldr '+l[d]+t;i[o]=c}this._renderResult=i}render(D,L){return this._renderResult?this._renderResult[L-D]:""}}e.LinesDecorationsOverlay=m}),define(se[249],re([1,0,35,48]),function(q,e,w,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Margin=void 0;class k extends m.ViewPart{constructor(L){super(L);const b=this._context.configuration.options,C=b.get(133);this._canUseLayerHinting=!b.get(28),this._contentLeft=C.contentLeft,this._glyphMarginLeft=C.glyphMarginLeft,this._glyphMarginWidth=C.glyphMarginWidth,this._domNode=(0,w.createFastDomNode)(document.createElement("div")),this._domNode.setClassName(k.OUTER_CLASS_NAME),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._glyphMarginBackgroundDomNode=(0,w.createFastDomNode)(document.createElement("div")),this._glyphMarginBackgroundDomNode.setClassName(k.CLASS_NAME),this._domNode.appendChild(this._glyphMarginBackgroundDomNode)}dispose(){super.dispose()}getDomNode(){return this._domNode}onConfigurationChanged(L){const b=this._context.configuration.options,C=b.get(133);return this._canUseLayerHinting=!b.get(28),this._contentLeft=C.contentLeft,this._glyphMarginLeft=C.glyphMarginLeft,this._glyphMarginWidth=C.glyphMarginWidth,!0}onScrollChanged(L){return super.onScrollChanged(L)||L.scrollTopChanged}prepareRender(L){}render(L){this._domNode.setLayerHinting(this._canUseLayerHinting),this._domNode.setContain("strict");const b=L.scrollTop-L.bigNumbersDelta;this._domNode.setTop(-b);const C=Math.min(L.scrollHeight,1e6);this._domNode.setHeight(C),this._domNode.setWidth(this._contentLeft),this._glyphMarginBackgroundDomNode.setLeft(this._glyphMarginLeft),this._glyphMarginBackgroundDomNode.setWidth(this._glyphMarginWidth),this._glyphMarginBackgroundDomNode.setHeight(C)}}e.Margin=k,k.CLASS_NAME="glyph-margin",k.OUTER_CLASS_NAME="margin"}),define(se[453],re([1,0,192,370]),function(q,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarginViewLineDecorationsOverlay=void 0;class m extends w.DedupOverlay{constructor(D){super(),this._context=D,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(D){return!0}onDecorationsChanged(D){return!0}onFlushed(D){return!0}onLinesChanged(D){return!0}onLinesDeleted(D){return!0}onLinesInserted(D){return!0}onScrollChanged(D){return D.scrollTopChanged}onZonesChanged(D){return!0}_getDecorations(D){const L=D.getDecorationsInViewport(),b=[];let C=0;for(let h=0,g=L.length;h<g;h++){const t=L[h],i=t.options.marginClassName;i&&(b[C++]=new w.DecorationToRender(t.range.startLineNumber,t.range.endLineNumber,i))}return b}prepareRender(D){const L=D.visibleRange.startLineNumber,b=D.visibleRange.endLineNumber,C=this._render(L,b,this._getDecorations(D)),h=[];for(let g=L;g<=b;g++){const t=g-L,i=C[t];let n="";for(let o=0,l=i.length;o<l;o++)n+='<div class="cmdr '+i[o]+'" style=""></div>';h[t]=n}this._renderResult=h}render(D,L){return this._renderResult?this._renderResult[L-D]:""}}e.MarginViewLineDecorationsOverlay=m}),define(se[454],re([1,0,35,48,372]),function(q,e,w,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewOverlayWidgets=void 0;class k extends m.ViewPart{constructor(L){super(L);const C=this._context.configuration.options.get(133);this._widgets={},this._verticalScrollbarWidth=C.verticalScrollbarWidth,this._minimapWidth=C.minimap.minimapWidth,this._horizontalScrollbarHeight=C.horizontalScrollbarHeight,this._editorHeight=C.height,this._editorWidth=C.width,this._domNode=(0,w.createFastDomNode)(document.createElement("div")),m.PartFingerprints.write(this._domNode,4),this._domNode.setClassName("overlayWidgets")}dispose(){super.dispose(),this._widgets={}}getDomNode(){return this._domNode}onConfigurationChanged(L){const C=this._context.configuration.options.get(133);return this._verticalScrollbarWidth=C.verticalScrollbarWidth,this._minimapWidth=C.minimap.minimapWidth,this._horizontalScrollbarHeight=C.horizontalScrollbarHeight,this._editorHeight=C.height,this._editorWidth=C.width,!0}addWidget(L){const b=(0,w.createFastDomNode)(L.getDomNode());this._widgets[L.getId()]={widget:L,preference:null,domNode:b},b.setPosition("absolute"),b.setAttribute("widgetId",L.getId()),this._domNode.appendChild(b),this.setShouldRender()}setWidgetPosition(L,b){const C=this._widgets[L.getId()];return C.preference===b?!1:(C.preference=b,this.setShouldRender(),!0)}removeWidget(L){const b=L.getId();if(this._widgets.hasOwnProperty(b)){const h=this._widgets[b].domNode.domNode;delete this._widgets[b],h.parentNode.removeChild(h),this.setShouldRender()}}_renderWidget(L){const b=L.domNode;if(L.preference===null){b.setTop("");return}if(L.preference===0)b.setTop(0),b.setRight(2*this._verticalScrollbarWidth+this._minimapWidth);else if(L.preference===1){const C=b.domNode.clientHeight;b.setTop(this._editorHeight-C-2*this._horizontalScrollbarHeight),b.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)}else L.preference===2&&(b.setTop(0),b.domNode.style.right="50%")}prepareRender(L){}render(L){this._domNode.setWidth(this._editorWidth);const b=Object.keys(this._widgets);for(let C=0,h=b.length;C<h;C++){const g=b[C];this._renderWidget(this._widgets[g])}}}e.ViewOverlayWidgets=k}),define(se[455],re([1,0,35,14,48,11]),function(q,e,w,m,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewZones=void 0;const L=()=>{throw new Error("Invalid change accessor")};class b extends k.ViewPart{constructor(g){super(g);const t=this._context.configuration.options,i=t.get(133);this._lineHeight=t.get(60),this._contentWidth=i.contentWidth,this._contentLeft=i.contentLeft,this.domNode=(0,w.createFastDomNode)(document.createElement("div")),this.domNode.setClassName("view-zones"),this.domNode.setPosition("absolute"),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.marginDomNode=(0,w.createFastDomNode)(document.createElement("div")),this.marginDomNode.setClassName("margin-view-zones"),this.marginDomNode.setPosition("absolute"),this.marginDomNode.setAttribute("role","presentation"),this.marginDomNode.setAttribute("aria-hidden","true"),this._zones={}}dispose(){super.dispose(),this._zones={}}_recomputeWhitespacesProps(){const g=this._context.viewLayout.getWhitespaces(),t=new Map;for(const n of g)t.set(n.id,n);let i=!1;return this._context.viewModel.changeWhitespace(n=>{const o=Object.keys(this._zones);for(let l=0,c=o.length;l<c;l++){const d=o[l],r=this._zones[d],s=this._computeWhitespaceProps(r.delegate);r.isInHiddenArea=s.isInHiddenArea;const a=t.get(d);a&&(a.afterLineNumber!==s.afterViewLineNumber||a.height!==s.heightInPx)&&(n.changeOneWhitespace(d,s.afterViewLineNumber,s.heightInPx),this._safeCallOnComputedHeight(r.delegate,s.heightInPx),i=!0)}}),i}onConfigurationChanged(g){const t=this._context.configuration.options,i=t.get(133);return this._lineHeight=t.get(60),this._contentWidth=i.contentWidth,this._contentLeft=i.contentLeft,g.hasChanged(60)&&this._recomputeWhitespacesProps(),!0}onLineMappingChanged(g){return this._recomputeWhitespacesProps()}onLinesDeleted(g){return!0}onScrollChanged(g){return g.scrollTopChanged||g.scrollWidthChanged}onZonesChanged(g){return!0}onLinesInserted(g){return!0}_getZoneOrdinal(g){return typeof g.afterColumn<"u"?g.afterColumn:1e4}_computeWhitespaceProps(g){if(g.afterLineNumber===0)return{isInHiddenArea:!1,afterViewLineNumber:0,heightInPx:this._heightInPixels(g),minWidthInPx:this._minWidthInPixels(g)};let t;if(typeof g.afterColumn<"u")t=this._context.viewModel.model.validatePosition({lineNumber:g.afterLineNumber,column:g.afterColumn});else{const l=this._context.viewModel.model.validatePosition({lineNumber:g.afterLineNumber,column:1}).lineNumber;t=new D.Position(l,this._context.viewModel.model.getLineMaxColumn(l))}let i;t.column===this._context.viewModel.model.getLineMaxColumn(t.lineNumber)?i=this._context.viewModel.model.validatePosition({lineNumber:t.lineNumber+1,column:1}):i=this._context.viewModel.model.validatePosition({lineNumber:t.lineNumber,column:t.column+1});const n=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(t,g.afterColumnAffinity),o=this._context.viewModel.coordinatesConverter.modelPositionIsVisible(i);return{isInHiddenArea:!o,afterViewLineNumber:n.lineNumber,heightInPx:o?this._heightInPixels(g):0,minWidthInPx:this._minWidthInPixels(g)}}changeViewZones(g){let t=!1;return this._context.viewModel.changeWhitespace(i=>{const n={addZone:o=>(t=!0,this._addZone(i,o)),removeZone:o=>{!o||(t=this._removeZone(i,o)||t)},layoutZone:o=>{!o||(t=this._layoutZone(i,o)||t)}};C(g,n),n.addZone=L,n.removeZone=L,n.layoutZone=L}),t}_addZone(g,t){const i=this._computeWhitespaceProps(t),o={whitespaceId:g.insertWhitespace(i.afterViewLineNumber,this._getZoneOrdinal(t),i.heightInPx,i.minWidthInPx),delegate:t,isInHiddenArea:i.isInHiddenArea,isVisible:!1,domNode:(0,w.createFastDomNode)(t.domNode),marginDomNode:t.marginDomNode?(0,w.createFastDomNode)(t.marginDomNode):null};return this._safeCallOnComputedHeight(o.delegate,i.heightInPx),o.domNode.setPosition("absolute"),o.domNode.domNode.style.width="100%",o.domNode.setDisplay("none"),o.domNode.setAttribute("monaco-view-zone",o.whitespaceId),this.domNode.appendChild(o.domNode),o.marginDomNode&&(o.marginDomNode.setPosition("absolute"),o.marginDomNode.domNode.style.width="100%",o.marginDomNode.setDisplay("none"),o.marginDomNode.setAttribute("monaco-view-zone",o.whitespaceId),this.marginDomNode.appendChild(o.marginDomNode)),this._zones[o.whitespaceId]=o,this.setShouldRender(),o.whitespaceId}_removeZone(g,t){if(this._zones.hasOwnProperty(t)){const i=this._zones[t];return delete this._zones[t],g.removeWhitespace(i.whitespaceId),i.domNode.removeAttribute("monaco-visible-view-zone"),i.domNode.removeAttribute("monaco-view-zone"),i.domNode.domNode.parentNode.removeChild(i.domNode.domNode),i.marginDomNode&&(i.marginDomNode.removeAttribute("monaco-visible-view-zone"),i.marginDomNode.removeAttribute("monaco-view-zone"),i.marginDomNode.domNode.parentNode.removeChild(i.marginDomNode.domNode)),this.setShouldRender(),!0}return!1}_layoutZone(g,t){if(this._zones.hasOwnProperty(t)){const i=this._zones[t],n=this._computeWhitespaceProps(i.delegate);return i.isInHiddenArea=n.isInHiddenArea,g.changeOneWhitespace(i.whitespaceId,n.afterViewLineNumber,n.heightInPx),this._safeCallOnComputedHeight(i.delegate,n.heightInPx),this.setShouldRender(),!0}return!1}shouldSuppressMouseDownOnViewZone(g){if(this._zones.hasOwnProperty(g)){const t=this._zones[g];return Boolean(t.delegate.suppressMouseDown)}return!1}_heightInPixels(g){return typeof g.heightInPx=="number"?g.heightInPx:typeof g.heightInLines=="number"?this._lineHeight*g.heightInLines:this._lineHeight}_minWidthInPixels(g){return typeof g.minWidthInPx=="number"?g.minWidthInPx:0}_safeCallOnComputedHeight(g,t){if(typeof g.onComputedHeight=="function")try{g.onComputedHeight(t)}catch(i){(0,m.onUnexpectedError)(i)}}_safeCallOnDomNodeTop(g,t){if(typeof g.onDomNodeTop=="function")try{g.onDomNodeTop(t)}catch(i){(0,m.onUnexpectedError)(i)}}prepareRender(g){}render(g){const t=g.viewportData.whitespaceViewportData,i={};let n=!1;for(const l of t)this._zones[l.id].isInHiddenArea||(i[l.id]=l,n=!0);const o=Object.keys(this._zones);for(let l=0,c=o.length;l<c;l++){const d=o[l],r=this._zones[d];let s=0,a=0,u="none";i.hasOwnProperty(d)?(s=i[d].verticalOffset-g.bigNumbersDelta,a=i[d].height,u="block",r.isVisible||(r.domNode.setAttribute("monaco-visible-view-zone","true"),r.isVisible=!0),this._safeCallOnDomNodeTop(r.delegate,g.getScrolledTopFromAbsoluteTop(i[d].verticalOffset))):(r.isVisible&&(r.domNode.removeAttribute("monaco-visible-view-zone"),r.isVisible=!1),this._safeCallOnDomNodeTop(r.delegate,g.getScrolledTopFromAbsoluteTop(-1e6))),r.domNode.setTop(s),r.domNode.setHeight(a),r.domNode.setDisplay(u),r.marginDomNode&&(r.marginDomNode.setTop(s),r.marginDomNode.setHeight(a),r.marginDomNode.setDisplay(u))}n&&(this.domNode.setWidth(Math.max(g.scrollWidth,this._contentWidth)),this.marginDomNode.setWidth(this._contentLeft))}}e.ViewZones=b;function C(h,g){try{return h(g)}catch(t){(0,m.onUnexpectedError)(t)}}}),define(se[193],re([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewZonesChangedEvent=e.ViewTokensColorsChangedEvent=e.ViewTokensChangedEvent=e.ViewThemeChangedEvent=e.ViewScrollChangedEvent=e.ViewRevealRangeRequestEvent=e.ViewLinesInsertedEvent=e.ViewLinesDeletedEvent=e.ViewLinesChangedEvent=e.ViewLineMappingChangedEvent=e.ViewLanguageConfigurationEvent=e.ViewFocusChangedEvent=e.ViewFlushedEvent=e.ViewDecorationsChangedEvent=e.ViewCursorStateChangedEvent=e.ViewConfigurationChangedEvent=e.ViewCompositionEndEvent=e.ViewCompositionStartEvent=void 0;class w{constructor(){this.type=0}}e.ViewCompositionStartEvent=w;class m{constructor(){this.type=1}}e.ViewCompositionEndEvent=m;class k{constructor(u){this.type=2,this._source=u}hasChanged(u){return this._source.hasChanged(u)}}e.ViewConfigurationChangedEvent=k;class D{constructor(u,p){this.type=3,this.selections=u,this.modelSelections=p}}e.ViewCursorStateChangedEvent=D;class L{constructor(u){this.type=4,u?(this.affectsMinimap=u.affectsMinimap,this.affectsOverviewRuler=u.affectsOverviewRuler):(this.affectsMinimap=!0,this.affectsOverviewRuler=!0)}}e.ViewDecorationsChangedEvent=L;class b{constructor(){this.type=5}}e.ViewFlushedEvent=b;class C{constructor(u){this.type=6,this.isFocused=u}}e.ViewFocusChangedEvent=C;class h{constructor(){this.type=7}}e.ViewLanguageConfigurationEvent=h;class g{constructor(){this.type=8}}e.ViewLineMappingChangedEvent=g;class t{constructor(u,p){this.fromLineNumber=u,this.count=p,this.type=9}}e.ViewLinesChangedEvent=t;class i{constructor(u,p){this.type=10,this.fromLineNumber=u,this.toLineNumber=p}}e.ViewLinesDeletedEvent=i;class n{constructor(u,p){this.type=11,this.fromLineNumber=u,this.toLineNumber=p}}e.ViewLinesInsertedEvent=n;class o{constructor(u,p,S,f,v,_,y){this.source=u,this.minimalReveal=p,this.range=S,this.selections=f,this.verticalType=v,this.revealHorizontal=_,this.scrollType=y,this.type=12}}e.ViewRevealRangeRequestEvent=o;class l{constructor(u){this.type=13,this.scrollWidth=u.scrollWidth,this.scrollLeft=u.scrollLeft,this.scrollHeight=u.scrollHeight,this.scrollTop=u.scrollTop,this.scrollWidthChanged=u.scrollWidthChanged,this.scrollLeftChanged=u.scrollLeftChanged,this.scrollHeightChanged=u.scrollHeightChanged,this.scrollTopChanged=u.scrollTopChanged}}e.ViewScrollChangedEvent=l;class c{constructor(u){this.theme=u,this.type=14}}e.ViewThemeChangedEvent=c;class d{constructor(u){this.type=15,this.ranges=u}}e.ViewTokensChangedEvent=d;class r{constructor(){this.type=16}}e.ViewTokensColorsChangedEvent=r;class s{constructor(){this.type=17}}e.ViewZonesChangedEvent=s}),define(se[134],re([1,0,8]),function(q,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineDecorationsNormalizer=e.DecorationSegment=e.LineDecoration=void 0;class m{constructor(C,h,g,t){this.startColumn=C,this.endColumn=h,this.className=g,this.type=t,this._lineDecorationBrand=void 0}static _equals(C,h){return C.startColumn===h.startColumn&&C.endColumn===h.endColumn&&C.className===h.className&&C.type===h.type}static equalsArr(C,h){const g=C.length,t=h.length;if(g!==t)return!1;for(let i=0;i<g;i++)if(!m._equals(C[i],h[i]))return!1;return!0}static extractWrapped(C,h,g){if(C.length===0)return C;const t=h+1,i=g+1,n=g-h,o=[];let l=0;for(const c of C)c.endColumn<=t||c.startColumn>=i||(o[l++]=new m(Math.max(1,c.startColumn-t+1),Math.min(n+1,c.endColumn-t+1),c.className,c.type));return o}static filter(C,h,g,t){if(C.length===0)return[];const i=[];let n=0;for(let o=0,l=C.length;o<l;o++){const c=C[o],d=c.range;if(d.endLineNumber<h||d.startLineNumber>h||d.isEmpty()&&(c.type===0||c.type===3))continue;const r=d.startLineNumber===h?d.startColumn:g,s=d.endLineNumber===h?d.endColumn:t;i[n++]=new m(r,s,c.inlineClassName,c.type)}return i}static _typeCompare(C,h){const g=[2,0,1,3];return g[C]-g[h]}static compare(C,h){if(C.startColumn!==h.startColumn)return C.startColumn-h.startColumn;if(C.endColumn!==h.endColumn)return C.endColumn-h.endColumn;const g=m._typeCompare(C.type,h.type);return g!==0?g:C.className!==h.className?C.className<h.className?-1:1:0}}e.LineDecoration=m;class k{constructor(C,h,g,t){this.startOffset=C,this.endOffset=h,this.className=g,this.metadata=t}}e.DecorationSegment=k;class D{constructor(){this.stopOffsets=[],this.classNames=[],this.metadata=[],this.count=0}static _metadata(C){let h=0;for(let g=0,t=C.length;g<t;g++)h|=C[g];return h}consumeLowerThan(C,h,g){for(;this.count>0&&this.stopOffsets[0]<C;){let t=0;for(;t+1<this.count&&this.stopOffsets[t]===this.stopOffsets[t+1];)t++;g.push(new k(h,this.stopOffsets[t],this.classNames.join(" "),D._metadata(this.metadata))),h=this.stopOffsets[t]+1,this.stopOffsets.splice(0,t+1),this.classNames.splice(0,t+1),this.metadata.splice(0,t+1),this.count-=t+1}return this.count>0&&h<C&&(g.push(new k(h,C-1,this.classNames.join(" "),D._metadata(this.metadata))),h=C),h}insert(C,h,g){if(this.count===0||this.stopOffsets[this.count-1]<=C)this.stopOffsets.push(C),this.classNames.push(h),this.metadata.push(g);else for(let t=0;t<this.count;t++)if(this.stopOffsets[t]>=C){this.stopOffsets.splice(t,0,C),this.classNames.splice(t,0,h),this.metadata.splice(t,0,g);break}this.count++}}class L{static normalize(C,h){if(h.length===0)return[];const g=[],t=new D;let i=0;for(let n=0,o=h.length;n<o;n++){const l=h[n];let c=l.startColumn,d=l.endColumn;const r=l.className,s=l.type===1?2:l.type===2?4:0;if(c>1){const p=C.charCodeAt(c-2);w.isHighSurrogate(p)&&c--}if(d>1){const p=C.charCodeAt(d-2);w.isHighSurrogate(p)&&d--}const a=c-1,u=d-2;i=t.consumeLowerThan(a,i,g),t.count===0&&(i=a),t.insert(u,r,s)}return t.consumeLowerThan(1073741824,i,g),g}}e.LineDecorationsNormalizer=L}),define(se[456],re([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinePart=void 0;class w{constructor(k,D,L,b){this.endIndex=k,this.type=D,this.metadata=L,this.containsRTL=b,this._linePartBrand=void 0}isWhitespace(){return!!(this.metadata&1)}isPseudoAfter(){return!!(this.metadata&4)}}e.LinePart=w}),define(se[457],re([1,0,8]),function(q,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinesLayout=e.EditorWhitespace=void 0;class m{constructor(){this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[]}insert(b){this._hasPending=!0,this._inserts.push(b)}change(b){this._hasPending=!0,this._changes.push(b)}remove(b){this._hasPending=!0,this._removes.push(b)}mustCommit(){return this._hasPending}commit(b){if(!this._hasPending)return;const C=this._inserts,h=this._changes,g=this._removes;this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[],b._commitPendingChanges(C,h,g)}}class k{constructor(b,C,h,g,t){this.id=b,this.afterLineNumber=C,this.ordinal=h,this.height=g,this.minWidth=t,this.prefixSum=0}}e.EditorWhitespace=k;class D{constructor(b,C,h,g){this._instanceId=w.singleLetterHash(++D.INSTANCE_COUNT),this._pendingChanges=new m,this._lastWhitespaceId=0,this._arr=[],this._prefixSumValidIndex=-1,this._minWidth=-1,this._lineCount=b,this._lineHeight=C,this._paddingTop=h,this._paddingBottom=g}static findInsertionIndex(b,C,h){let g=0,t=b.length;for(;g<t;){const i=g+t>>>1;C===b[i].afterLineNumber?h<b[i].ordinal?t=i:g=i+1:C<b[i].afterLineNumber?t=i:g=i+1}return g}setLineHeight(b){this._checkPendingChanges(),this._lineHeight=b}setPadding(b,C){this._paddingTop=b,this._paddingBottom=C}onFlushed(b){this._checkPendingChanges(),this._lineCount=b}changeWhitespace(b){let C=!1;try{b({insertWhitespace:(g,t,i,n)=>{C=!0,g=g|0,t=t|0,i=i|0,n=n|0;const o=this._instanceId+ ++this._lastWhitespaceId;return this._pendingChanges.insert(new k(o,g,t,i,n)),o},changeOneWhitespace:(g,t,i)=>{C=!0,t=t|0,i=i|0,this._pendingChanges.change({id:g,newAfterLineNumber:t,newHeight:i})},removeWhitespace:g=>{C=!0,this._pendingChanges.remove({id:g})}})}finally{this._pendingChanges.commit(this)}return C}_commitPendingChanges(b,C,h){if((b.length>0||h.length>0)&&(this._minWidth=-1),b.length+C.length+h.length<=1){for(const o of b)this._insertWhitespace(o);for(const o of C)this._changeOneWhitespace(o.id,o.newAfterLineNumber,o.newHeight);for(const o of h){const l=this._findWhitespaceIndex(o.id);l!==-1&&this._removeWhitespace(l)}return}const g=new Set;for(const o of h)g.add(o.id);const t=new Map;for(const o of C)t.set(o.id,o);const i=o=>{const l=[];for(const c of o)if(!g.has(c.id)){if(t.has(c.id)){const d=t.get(c.id);c.afterLineNumber=d.newAfterLineNumber,c.height=d.newHeight}l.push(c)}return l},n=i(this._arr).concat(i(b));n.sort((o,l)=>o.afterLineNumber===l.afterLineNumber?o.ordinal-l.ordinal:o.afterLineNumber-l.afterLineNumber),this._arr=n,this._prefixSumValidIndex=-1}_checkPendingChanges(){this._pendingChanges.mustCommit()&&this._pendingChanges.commit(this)}_insertWhitespace(b){const C=D.findInsertionIndex(this._arr,b.afterLineNumber,b.ordinal);this._arr.splice(C,0,b),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,C-1)}_findWhitespaceIndex(b){const C=this._arr;for(let h=0,g=C.length;h<g;h++)if(C[h].id===b)return h;return-1}_changeOneWhitespace(b,C,h){const g=this._findWhitespaceIndex(b);if(g!==-1&&(this._arr[g].height!==h&&(this._arr[g].height=h,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,g-1)),this._arr[g].afterLineNumber!==C)){const t=this._arr[g];this._removeWhitespace(g),t.afterLineNumber=C,this._insertWhitespace(t)}}_removeWhitespace(b){this._arr.splice(b,1),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,b-1)}onLinesDeleted(b,C){this._checkPendingChanges(),b=b|0,C=C|0,this._lineCount-=C-b+1;for(let h=0,g=this._arr.length;h<g;h++){const t=this._arr[h].afterLineNumber;b<=t&&t<=C?this._arr[h].afterLineNumber=b-1:t>C&&(this._arr[h].afterLineNumber-=C-b+1)}}onLinesInserted(b,C){this._checkPendingChanges(),b=b|0,C=C|0,this._lineCount+=C-b+1;for(let h=0,g=this._arr.length;h<g;h++){const t=this._arr[h].afterLineNumber;b<=t&&(this._arr[h].afterLineNumber+=C-b+1)}}getWhitespacesTotalHeight(){return this._checkPendingChanges(),this._arr.length===0?0:this.getWhitespacesAccumulatedHeight(this._arr.length-1)}getWhitespacesAccumulatedHeight(b){this._checkPendingChanges(),b=b|0;let C=Math.max(0,this._prefixSumValidIndex+1);C===0&&(this._arr[0].prefixSum=this._arr[0].height,C++);for(let h=C;h<=b;h++)this._arr[h].prefixSum=this._arr[h-1].prefixSum+this._arr[h].height;return this._prefixSumValidIndex=Math.max(this._prefixSumValidIndex,b),this._arr[b].prefixSum}getLinesTotalHeight(){this._checkPendingChanges();const b=this._lineHeight*this._lineCount,C=this.getWhitespacesTotalHeight();return b+C+this._paddingTop+this._paddingBottom}getWhitespaceAccumulatedHeightBeforeLineNumber(b){this._checkPendingChanges(),b=b|0;const C=this._findLastWhitespaceBeforeLineNumber(b);return C===-1?0:this.getWhitespacesAccumulatedHeight(C)}_findLastWhitespaceBeforeLineNumber(b){b=b|0;const C=this._arr;let h=0,g=C.length-1;for(;h<=g;){const i=(g-h|0)/2|0,n=h+i|0;if(C[n].afterLineNumber<b){if(n+1>=C.length||C[n+1].afterLineNumber>=b)return n;h=n+1|0}else g=n-1|0}return-1}_findFirstWhitespaceAfterLineNumber(b){b=b|0;const h=this._findLastWhitespaceBeforeLineNumber(b)+1;return h<this._arr.length?h:-1}getFirstWhitespaceIndexAfterLineNumber(b){return this._checkPendingChanges(),b=b|0,this._findFirstWhitespaceAfterLineNumber(b)}getVerticalOffsetForLineNumber(b,C=!1){this._checkPendingChanges(),b=b|0;let h;b>1?h=this._lineHeight*(b-1):h=0;const g=this.getWhitespaceAccumulatedHeightBeforeLineNumber(b-(C?1:0));return h+g+this._paddingTop}getVerticalOffsetAfterLineNumber(b,C=!1){this._checkPendingChanges(),b=b|0;const h=this._lineHeight*b,g=this.getWhitespaceAccumulatedHeightBeforeLineNumber(b+(C?1:0));return h+g+this._paddingTop}getWhitespaceMinWidth(){if(this._checkPendingChanges(),this._minWidth===-1){let b=0;for(let C=0,h=this._arr.length;C<h;C++)b=Math.max(b,this._arr[C].minWidth);this._minWidth=b}return this._minWidth}isAfterLines(b){this._checkPendingChanges();const C=this.getLinesTotalHeight();return b>C}isInTopPadding(b){return this._paddingTop===0?!1:(this._checkPendingChanges(),b<this._paddingTop)}isInBottomPadding(b){if(this._paddingBottom===0)return!1;this._checkPendingChanges();const C=this.getLinesTotalHeight();return b>=C-this._paddingBottom}getLineNumberAtOrAfterVerticalOffset(b){if(this._checkPendingChanges(),b=b|0,b<0)return 1;const C=this._lineCount|0,h=this._lineHeight;let g=1,t=C;for(;g<t;){const i=(g+t)/2|0,n=this.getVerticalOffsetForLineNumber(i)|0;if(b>=n+h)g=i+1;else{if(b>=n)return i;t=i}}return g>C?C:g}getLinesViewportData(b,C){this._checkPendingChanges(),b=b|0,C=C|0;const h=this._lineHeight,g=this.getLineNumberAtOrAfterVerticalOffset(b)|0,t=this.getVerticalOffsetForLineNumber(g)|0;let i=this._lineCount|0,n=this.getFirstWhitespaceIndexAfterLineNumber(g)|0;const o=this.getWhitespacesCount()|0;let l,c;n===-1?(n=o,c=i+1,l=0):(c=this.getAfterLineNumberForWhitespaceIndex(n)|0,l=this.getHeightForWhitespaceIndex(n)|0);let d=t,r=d;const s=5e5;let a=0;t>=s&&(a=Math.floor(t/s)*s,a=Math.floor(a/h)*h,r-=a);const u=[],p=b+(C-b)/2;let S=-1;for(let y=g;y<=i;y++){if(S===-1){const E=d,T=d+h;(E<=p&&p<T||E>p)&&(S=y)}for(d+=h,u[y-g]=r,r+=h;c===y;)r+=l,d+=l,n++,n>=o?c=i+1:(c=this.getAfterLineNumberForWhitespaceIndex(n)|0,l=this.getHeightForWhitespaceIndex(n)|0);if(d>=C){i=y;break}}S===-1&&(S=i);const f=this.getVerticalOffsetForLineNumber(i)|0;let v=g,_=i;return v<_&&t<b&&v++,v<_&&f+h>C&&_--,{bigNumbersDelta:a,startLineNumber:g,endLineNumber:i,relativeVerticalOffset:u,centeredLineNumber:S,completelyVisibleStartLineNumber:v,completelyVisibleEndLineNumber:_}}getVerticalOffsetForWhitespaceIndex(b){this._checkPendingChanges(),b=b|0;const C=this.getAfterLineNumberForWhitespaceIndex(b);let h;C>=1?h=this._lineHeight*C:h=0;let g;return b>0?g=this.getWhitespacesAccumulatedHeight(b-1):g=0,h+g+this._paddingTop}getWhitespaceIndexAtOrAfterVerticallOffset(b){this._checkPendingChanges(),b=b|0;let C=0,h=this.getWhitespacesCount()-1;if(h<0)return-1;const g=this.getVerticalOffsetForWhitespaceIndex(h),t=this.getHeightForWhitespaceIndex(h);if(b>=g+t)return-1;for(;C<h;){const i=Math.floor((C+h)/2),n=this.getVerticalOffsetForWhitespaceIndex(i),o=this.getHeightForWhitespaceIndex(i);if(b>=n+o)C=i+1;else{if(b>=n)return i;h=i}}return C}getWhitespaceAtVerticalOffset(b){this._checkPendingChanges(),b=b|0;const C=this.getWhitespaceIndexAtOrAfterVerticallOffset(b);if(C<0||C>=this.getWhitespacesCount())return null;const h=this.getVerticalOffsetForWhitespaceIndex(C);if(h>b)return null;const g=this.getHeightForWhitespaceIndex(C),t=this.getIdForWhitespaceIndex(C),i=this.getAfterLineNumberForWhitespaceIndex(C);return{id:t,afterLineNumber:i,verticalOffset:h,height:g}}getWhitespaceViewportData(b,C){this._checkPendingChanges(),b=b|0,C=C|0;const h=this.getWhitespaceIndexAtOrAfterVerticallOffset(b),g=this.getWhitespacesCount()-1;if(h<0)return[];const t=[];for(let i=h;i<=g;i++){const n=this.getVerticalOffsetForWhitespaceIndex(i),o=this.getHeightForWhitespaceIndex(i);if(n>=C)break;t.push({id:this.getIdForWhitespaceIndex(i),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(i),verticalOffset:n,height:o})}return t}getWhitespaces(){return this._checkPendingChanges(),this._arr.slice(0)}getWhitespacesCount(){return this._checkPendingChanges(),this._arr.length}getIdForWhitespaceIndex(b){return this._checkPendingChanges(),b=b|0,this._arr[b].id}getAfterLineNumberForWhitespaceIndex(b){return this._checkPendingChanges(),b=b|0,this._arr[b].afterLineNumber}getHeightForWhitespaceIndex(b){return this._checkPendingChanges(),b=b|0,this._arr[b].height}}e.LinesLayout=D,D.INSTANCE_COUNT=0}),define(se[458],re([1,0,3]),function(q,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewportData=void 0;class m{constructor(D,L,b,C){this.selections=D,this.startLineNumber=L.startLineNumber|0,this.endLineNumber=L.endLineNumber|0,this.relativeVerticalOffset=L.relativeVerticalOffset,this.bigNumbersDelta=L.bigNumbersDelta|0,this.whitespaceViewportData=b,this._model=C,this.visibleRange=new w.Range(L.startLineNumber,this._model.getLineMinColumn(L.startLineNumber),L.endLineNumber,this._model.getLineMaxColumn(L.endLineNumber))}getViewLineRenderingData(D){return this._model.getViewportViewLineRenderingData(this.visibleRange,D)}getDecorationsInViewport(){return this._model.getDecorationsInViewport(this.visibleRange)}}e.ViewportData=m}),define(se[75],re([1,0,8,3]),function(q,e,w,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OverviewRulerDecorationsGroup=e.ViewModelDecoration=e.SingleLineInlineDecoration=e.InlineDecoration=e.ViewLineRenderingData=e.ViewLineData=e.MinimapLinesRenderingData=e.Viewport=void 0;class k{constructor(n,o,l,c){this._viewportBrand=void 0,this.top=n|0,this.left=o|0,this.width=l|0,this.height=c|0}}e.Viewport=k;class D{constructor(n,o){this.tabSize=n,this.data=o}}e.MinimapLinesRenderingData=D;class L{constructor(n,o,l,c,d,r,s){this._viewLineDataBrand=void 0,this.content=n,this.continuesWithWrappedLine=o,this.minColumn=l,this.maxColumn=c,this.startVisibleColumn=d,this.tokens=r,this.inlineDecorations=s}}e.ViewLineData=L;class b{constructor(n,o,l,c,d,r,s,a,u,p){this.minColumn=n,this.maxColumn=o,this.content=l,this.continuesWithWrappedLine=c,this.isBasicASCII=b.isBasicASCII(l,r),this.containsRTL=b.containsRTL(l,this.isBasicASCII,d),this.tokens=s,this.inlineDecorations=a,this.tabSize=u,this.startVisibleColumn=p}static isBasicASCII(n,o){return o?w.isBasicASCII(n):!0}static containsRTL(n,o,l){return!o&&l?w.containsRTL(n):!1}}e.ViewLineRenderingData=b;class C{constructor(n,o,l){this.range=n,this.inlineClassName=o,this.type=l}}e.InlineDecoration=C;class h{constructor(n,o,l,c){this.startOffset=n,this.endOffset=o,this.inlineClassName=l,this.inlineClassNameAffectsLetterSpacing=c}toInlineDecoration(n){return new C(new m.Range(n,this.startOffset+1,n,this.endOffset+1),this.inlineClassName,this.inlineClassNameAffectsLetterSpacing?3:0)}}e.SingleLineInlineDecoration=h;class g{constructor(n,o){this._viewModelDecorationBrand=void 0,this.range=n,this.options=o}}e.ViewModelDecoration=g;class t{constructor(n,o,l){this.color=n,this.zIndex=o,this.data=l}static cmp(n,o){return n.zIndex===o.zIndex?n.color<o.color?-1:n.color>o.color?1:0:n.zIndex-o.zIndex}}e.OverviewRulerDecorationsGroup=t}),define(se[459],re([1,0,84,11,101,75]),function(q,e,w,m,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createModelLineProjection=void 0;function L(n,o){return n===null?o?C.INSTANCE:h.INSTANCE:new b(n,o)}e.createModelLineProjection=L;class b{constructor(o,l){this._projectionData=o,this._isVisible=l}isVisible(){return this._isVisible}setVisible(o){return this._isVisible=o,this}getProjectionData(){return this._projectionData}getViewLineCount(){return this._isVisible?this._projectionData.getOutputLineCount():0}getViewLineContent(o,l,c){this._assertVisible();const d=c>0?this._projectionData.breakOffsets[c-1]:0,r=this._projectionData.breakOffsets[c];let s;if(this._projectionData.injectionOffsets!==null){const a=this._projectionData.injectionOffsets.map((p,S)=>new k.LineInjectedText(0,0,p+1,this._projectionData.injectionOptions[S],0));s=k.LineInjectedText.applyInjectedText(o.getLineContent(l),a).substring(d,r)}else s=o.getValueInRange({startLineNumber:l,startColumn:d+1,endLineNumber:l,endColumn:r+1});return c>0&&(s=t(this._projectionData.wrappedTextIndentLength)+s),s}getViewLineLength(o,l,c){return this._assertVisible(),this._projectionData.getLineLength(c)}getViewLineMinColumn(o,l,c){return this._assertVisible(),this._projectionData.getMinOutputOffset(c)+1}getViewLineMaxColumn(o,l,c){return this._assertVisible(),this._projectionData.getMaxOutputOffset(c)+1}getViewLineData(o,l,c){const d=new Array;return this.getViewLinesData(o,l,c,1,0,[!0],d),d[0]}getViewLinesData(o,l,c,d,r,s,a){this._assertVisible();const u=this._projectionData,p=u.injectionOffsets,S=u.injectionOptions;let f=null;if(p){f=[];let _=0,y=0;for(let E=0;E<u.getOutputLineCount();E++){const T=new Array;f[E]=T;const I=E>0?u.breakOffsets[E-1]:0,R=u.breakOffsets[E];for(;y<p.length;){const F=S[y].content.length,O=p[y]+_,M=O+F;if(O>R)break;if(I<M){const N=S[y];if(N.inlineClassName){const A=E>0?u.wrappedTextIndentLength:0,B=A+Math.max(O-I,0),W=A+Math.min(M-I,R);B!==W&&T.push(new D.SingleLineInlineDecoration(B,W,N.inlineClassName,N.inlineClassNameAffectsLetterSpacing))}}if(M<=R)_+=F,y++;else break}}}let v;p?v=o.tokenization.getLineTokens(l).withInserted(p.map((_,y)=>({offset:_,text:S[y].content,tokenMetadata:w.LineTokens.defaultTokenMetadata}))):v=o.tokenization.getLineTokens(l);for(let _=c;_<c+d;_++){const y=r+_-c;if(!s[y]){a[y]=null;continue}a[y]=this._getViewLineData(v,f?f[_]:null,_)}}_getViewLineData(o,l,c){this._assertVisible();const d=this._projectionData,r=c>0?d.wrappedTextIndentLength:0,s=c>0?d.breakOffsets[c-1]:0,a=d.breakOffsets[c],u=o.sliceAndInflate(s,a,r);let p=u.getLineContent();c>0&&(p=t(d.wrappedTextIndentLength)+p);const S=this._projectionData.getMinOutputOffset(c)+1,f=p.length+1,v=c+1<this.getViewLineCount(),_=c===0?0:d.breakOffsetsVisibleColumn[c-1];return new D.ViewLineData(p,v,S,f,_,u,l)}getModelColumnOfViewPosition(o,l){return this._assertVisible(),this._projectionData.translateToInputOffset(o,l-1)+1}getViewPositionOfModelPosition(o,l,c=2){return this._assertVisible(),this._projectionData.translateToOutputPosition(l-1,c).toPosition(o)}getViewLineNumberOfModelPosition(o,l){this._assertVisible();const c=this._projectionData.translateToOutputPosition(l-1);return o+c.outputLineIndex}normalizePosition(o,l,c){const d=l.lineNumber-o;return this._projectionData.normalizeOutputPosition(o,l.column-1,c).toPosition(d)}getInjectedTextAt(o,l){return this._projectionData.getInjectedText(o,l-1)}_assertVisible(){if(!this._isVisible)throw new Error("Not supported")}}class C{constructor(){}isVisible(){return!0}setVisible(o){return o?this:h.INSTANCE}getProjectionData(){return null}getViewLineCount(){return 1}getViewLineContent(o,l,c){return o.getLineContent(l)}getViewLineLength(o,l,c){return o.getLineLength(l)}getViewLineMinColumn(o,l,c){return o.getLineMinColumn(l)}getViewLineMaxColumn(o,l,c){return o.getLineMaxColumn(l)}getViewLineData(o,l,c){const d=o.tokenization.getLineTokens(l),r=d.getLineContent();return new D.ViewLineData(r,!1,1,r.length+1,0,d.inflate(),null)}getViewLinesData(o,l,c,d,r,s,a){if(!s[r]){a[r]=null;return}a[r]=this.getViewLineData(o,l,0)}getModelColumnOfViewPosition(o,l){return l}getViewPositionOfModelPosition(o,l){return new m.Position(o,l)}getViewLineNumberOfModelPosition(o,l){return o}normalizePosition(o,l,c){return l}getInjectedTextAt(o,l){return null}}C.INSTANCE=new C;class h{constructor(){}isVisible(){return!1}setVisible(o){return o?C.INSTANCE:this}getProjectionData(){return null}getViewLineCount(){return 0}getViewLineContent(o,l,c){throw new Error("Not supported")}getViewLineLength(o,l,c){throw new Error("Not supported")}getViewLineMinColumn(o,l,c){throw new Error("Not supported")}getViewLineMaxColumn(o,l,c){throw new Error("Not supported")}getViewLineData(o,l,c){throw new Error("Not supported")}getViewLinesData(o,l,c,d,r,s,a){throw new Error("Not supported")}getModelColumnOfViewPosition(o,l){throw new Error("Not supported")}getViewPositionOfModelPosition(o,l){throw new Error("Not supported")}getViewLineNumberOfModelPosition(o,l){throw new Error("Not supported")}normalizePosition(o,l,c){throw new Error("Not supported")}getInjectedTextAt(o,l){throw new Error("Not supported")}}h.INSTANCE=new h;const g=[""];function t(n){if(n>=g.length)for(let o=1;o<=n;o++)g[o]=i(o);return g[n]}function i(n){return new Array(n+1).join(" ")}}),define(se[460],re([1,0,8,109,101,246]),function(q,e,w,m,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MonospaceLineBreaksComputerFactory=void 0;class L{static create(d){return new L(d.get(122),d.get(121))}constructor(d,r){this.classifier=new b(d,r)}createLineBreaksComputer(d,r,s,a){const u=[],p=[],S=[];return{addRequest:(f,v,_)=>{u.push(f),p.push(v),S.push(_)},finalize:()=>{const f=d.typicalFullwidthCharacterWidth/d.typicalHalfwidthCharacterWidth,v=[];for(let _=0,y=u.length;_<y;_++){const E=p[_],T=S[_];T&&!T.injectionOptions&&!E?v[_]=g(this.classifier,T,u[_],r,s,f,a):v[_]=t(this.classifier,u[_],E,r,s,f,a)}return C.length=0,h.length=0,v}}}}e.MonospaceLineBreaksComputerFactory=L;class b extends m.CharacterClassifier{constructor(d,r){super(0);for(let s=0;s<d.length;s++)this.set(d.charCodeAt(s),1);for(let s=0;s<r.length;s++)this.set(r.charCodeAt(s),2)}get(d){return d>=0&&d<256?this._asciiMap[d]:d>=12352&&d<=12543||d>=13312&&d<=19903||d>=19968&&d<=40959?3:this._map.get(d)||this._defaultValue}}let C=[],h=[];function g(c,d,r,s,a,u,p){if(a===-1)return null;const S=r.length;if(S<=1)return null;const f=d.breakOffsets,v=d.breakOffsetsVisibleColumn,_=l(r,s,a,u,p),y=a-_,E=C,T=h;let I=0,R=0,F=0,O=a;const M=f.length;let N=0;if(N>=0){let A=Math.abs(v[N]-O);for(;N+1<M;){const B=Math.abs(v[N+1]-O);if(B>=A)break;A=B,N++}}for(;N<M;){let A=N<0?0:f[N],B=N<0?0:v[N];R>A&&(A=R,B=F);let W=0,x=0,P=0,X=0;if(B<=O){let K=B,G=A===0?0:r.charCodeAt(A-1),Q=A===0?0:c.get(G),ne=!0;for(let Z=A;Z<S;Z++){const ee=Z,le=r.charCodeAt(Z);let V,$;if(w.isHighSurrogate(le)?(Z++,V=0,$=2):(V=c.get(le),$=i(le,K,s,u)),ee>R&&o(G,Q,le,V)&&(W=ee,x=K),K+=$,K>O){ee>R?(P=ee,X=K-$):(P=Z+1,X=K),K-x>y&&(W=0),ne=!1;break}G=le,Q=V}if(ne){I>0&&(E[I]=f[f.length-1],T[I]=v[f.length-1],I++);break}}if(W===0){let K=B,G=r.charCodeAt(A),Q=c.get(G),ne=!1;for(let Z=A-1;Z>=R;Z--){const ee=Z+1,le=r.charCodeAt(Z);if(le===9){ne=!0;break}let V,$;if(w.isLowSurrogate(le)?(Z--,V=0,$=2):(V=c.get(le),$=w.isFullWidthCharacter(le)?u:1),K<=O){if(P===0&&(P=ee,X=K),K<=O-y)break;if(o(le,V,G,Q)){W=ee,x=K;break}}K-=$,G=le,Q=V}if(W!==0){const Z=y-(X-x);if(Z<=s){const ee=r.charCodeAt(P);let le;w.isHighSurrogate(ee)?le=2:le=i(ee,X,s,u),Z-le<0&&(W=0)}}if(ne){N--;continue}}if(W===0&&(W=P,x=X),W<=R){const K=r.charCodeAt(R);w.isHighSurrogate(K)?(W=R+2,x=F+2):(W=R+1,x=F+i(K,F,s,u))}for(R=W,E[I]=W,F=x,T[I]=x,I++,O=x+y;N<0||N<M&&v[N]<x;)N++;let ie=Math.abs(v[N]-O);for(;N+1<M;){const K=Math.abs(v[N+1]-O);if(K>=ie)break;ie=K,N++}}return I===0?null:(E.length=I,T.length=I,C=d.breakOffsets,h=d.breakOffsetsVisibleColumn,d.breakOffsets=E,d.breakOffsetsVisibleColumn=T,d.wrappedTextIndentLength=_,d)}function t(c,d,r,s,a,u,p){const S=k.LineInjectedText.applyInjectedText(d,r);let f,v;if(r&&r.length>0?(f=r.map(x=>x.options),v=r.map(x=>x.column-1)):(f=null,v=null),a===-1)return f?new D.ModelLineProjectionData(v,f,[S.length],[],0):null;const _=S.length;if(_<=1)return f?new D.ModelLineProjectionData(v,f,[S.length],[],0):null;const y=l(S,s,a,u,p),E=a-y,T=[],I=[];let R=0,F=0,O=0,M=a,N=S.charCodeAt(0),A=c.get(N),B=i(N,0,s,u),W=1;w.isHighSurrogate(N)&&(B+=1,N=S.charCodeAt(1),A=c.get(N),W++);for(let x=W;x<_;x++){const P=x,X=S.charCodeAt(x);let ie,K;w.isHighSurrogate(X)?(x++,ie=0,K=2):(ie=c.get(X),K=i(X,B,s,u)),o(N,A,X,ie)&&(F=P,O=B),B+=K,B>M&&((F===0||B-O>E)&&(F=P,O=B-K),T[R]=F,I[R]=O,R++,M=O+E,F=0),N=X,A=ie}return R===0&&(!r||r.length===0)?null:(T[R]=_,I[R]=B,new D.ModelLineProjectionData(v,f,T,I,y))}function i(c,d,r,s){return c===9?r-d%r:w.isFullWidthCharacter(c)||c<32?s:1}function n(c,d){return d-c%d}function o(c,d,r,s){return r!==32&&(d===2&&s!==2||d!==1&&s===1||d===3&&s!==2||s===3&&d!==1)}function l(c,d,r,s,a){let u=0;if(a!==0){const p=w.firstNonWhitespaceIndex(c);if(p!==-1){for(let f=0;f<p;f++)u+=c.charCodeAt(f)===9?n(u,d):1;const S=a===3?2:a===2?1:0;for(let f=0;f<S;f++)u+=n(u,d);u+s>r&&(u=0)}}return u}}),define(se[250],re([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OverviewZoneManager=e.OverviewRulerZone=e.ColorZone=void 0;class w{constructor(L,b,C){this._colorZoneBrand=void 0,this.from=L|0,this.to=b|0,this.colorId=C|0}static compare(L,b){return L.colorId===b.colorId?L.from===b.from?L.to-b.to:L.from-b.from:L.colorId-b.colorId}}e.ColorZone=w;class m{constructor(L,b,C,h){this._overviewRulerZoneBrand=void 0,this.startLineNumber=L,this.endLineNumber=b,this.heightInLines=C,this.color=h,this._colorZone=null}static compare(L,b){return L.color===b.color?L.startLineNumber===b.startLineNumber?L.heightInLines===b.heightInLines?L.endLineNumber-b.endLineNumber:L.heightInLines-b.heightInLines:L.startLineNumber-b.startLineNumber:L.color<b.color?-1:1}setColorZone(L){this._colorZone=L}getColorZones(){return this._colorZone}}e.OverviewRulerZone=m;class k{constructor(L){this._getVerticalOffsetForLine=L,this._zones=[],this._colorZonesInvalid=!1,this._lineHeight=0,this._domWidth=0,this._domHeight=0,this._outerHeight=0,this._pixelRatio=1,this._lastAssignedId=0,this._color2Id=Object.create(null),this._id2Color=[]}getId2Color(){return this._id2Color}setZones(L){this._zones=L,this._zones.sort(m.compare)}setLineHeight(L){return this._lineHeight===L?!1:(this._lineHeight=L,this._colorZonesInvalid=!0,!0)}setPixelRatio(L){this._pixelRatio=L,this._colorZonesInvalid=!0}getDOMWidth(){return this._domWidth}getCanvasWidth(){return this._domWidth*this._pixelRatio}setDOMWidth(L){return this._domWidth===L?!1:(this._domWidth=L,this._colorZonesInvalid=!0,!0)}getDOMHeight(){return this._domHeight}getCanvasHeight(){return this._domHeight*this._pixelRatio}setDOMHeight(L){return this._domHeight===L?!1:(this._domHeight=L,this._colorZonesInvalid=!0,!0)}getOuterHeight(){return this._outerHeight}setOuterHeight(L){return this._outerHeight===L?!1:(this._outerHeight=L,this._colorZonesInvalid=!0,!0)}resolveColorZones(){const L=this._colorZonesInvalid,b=Math.floor(this._lineHeight),C=Math.floor(this.getCanvasHeight()),h=Math.floor(this._outerHeight),g=C/h,t=Math.floor(4*this._pixelRatio/2),i=[];for(let n=0,o=this._zones.length;n<o;n++){const l=this._zones[n];if(!L){const v=l.getColorZones();if(v){i.push(v);continue}}const c=this._getVerticalOffsetForLine(l.startLineNumber),d=l.heightInLines===0?this._getVerticalOffsetForLine(l.endLineNumber)+b:c+l.heightInLines*b,r=Math.floor(g*c),s=Math.floor(g*d);let a=Math.floor((r+s)/2),u=s-a;u<t&&(u=t),a-u<0&&(a=u),a+u>C&&(a=C-u);const p=l.color;let S=this._color2Id[p];S||(S=++this._lastAssignedId,this._color2Id[p]=S,this._id2Color[S]=p);const f=new w(a-u,a+u,S);l.setColorZone(f),i.push(f)}return this._colorZonesInvalid=!1,i.sort(w.compare),i}}e.OverviewZoneManager=k}),define(se[461],re([1,0,35,250,133]),function(q,e,w,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OverviewRuler=void 0;class D extends k.ViewEventHandler{constructor(b,C){super(),this._context=b;const h=this._context.configuration.options;this._domNode=(0,w.createFastDomNode)(document.createElement("canvas")),this._domNode.setClassName(C),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._zoneManager=new m.OverviewZoneManager(g=>this._context.viewLayout.getVerticalOffsetForLineNumber(g)),this._zoneManager.setDOMWidth(0),this._zoneManager.setDOMHeight(0),this._zoneManager.setOuterHeight(this._context.viewLayout.getScrollHeight()),this._zoneManager.setLineHeight(h.get(60)),this._zoneManager.setPixelRatio(h.get(131)),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(b){const C=this._context.configuration.options;return b.hasChanged(60)&&(this._zoneManager.setLineHeight(C.get(60)),this._render()),b.hasChanged(131)&&(this._zoneManager.setPixelRatio(C.get(131)),this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render()),!0}onFlushed(b){return this._render(),!0}onScrollChanged(b){return b.scrollHeightChanged&&(this._zoneManager.setOuterHeight(b.scrollHeight),this._render()),!0}onZonesChanged(b){return this._render(),!0}getDomNode(){return this._domNode.domNode}setLayout(b){this._domNode.setTop(b.top),this._domNode.setRight(b.right);let C=!1;C=this._zoneManager.setDOMWidth(b.width)||C,C=this._zoneManager.setDOMHeight(b.height)||C,C&&(this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render())}setZones(b){this._zoneManager.setZones(b),this._render()}_render(){if(this._zoneManager.getOuterHeight()===0)return!1;const b=this._zoneManager.getCanvasWidth(),C=this._zoneManager.getCanvasHeight(),h=this._zoneManager.resolveColorZones(),g=this._zoneManager.getId2Color(),t=this._domNode.domNode.getContext("2d");return t.clearRect(0,0,b,C),h.length>0&&this._renderOneLane(t,h,g,b),!0}_renderOneLane(b,C,h,g){let t=0,i=0,n=0;for(const o of C){const l=o.colorId,c=o.from,d=o.to;l!==t?(b.fillRect(0,i,g,n-i),t=l,b.fillStyle=h[t],i=c,n=d):n>=c?n=Math.max(n,d):(b.fillRect(0,i,g,n-i),i=c,n=d)}b.fillRect(0,i,g,n-i)}}e.OverviewRuler=D}),define(se[462],re([1,0,425]),function(q,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewContext=void 0;class m{constructor(D,L,b){this.configuration=D,this.theme=new w.EditorTheme(L),this.viewModel=b,this.viewLayout=b.viewLayout}addEventHandler(D){this.viewModel.addViewEventHandler(D)}removeEventHandler(D){this.viewModel.removeViewEventHandler(D)}}e.ViewContext=m}),define(se[463],re([1,0,3,24]),function(q,e,w,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MoveCaretCommand=void 0;class k{constructor(L,b){this._selection=L,this._isMovingLeft=b}getEditOperations(L,b){if(this._selection.startLineNumber!==this._selection.endLineNumber||this._selection.isEmpty())return;const C=this._selection.startLineNumber,h=this._selection.startColumn,g=this._selection.endColumn;if(!(this._isMovingLeft&&h===1)&&!(!this._isMovingLeft&&g===L.getLineMaxColumn(C)))if(this._isMovingLeft){const t=new w.Range(C,h-1,C,h),i=L.getValueInRange(t);b.addEditOperation(t,null),b.addEditOperation(new w.Range(C,g,C,g),i)}else{const t=new w.Range(C,g,C,g+1),i=L.getValueInRange(t);b.addEditOperation(t,null),b.addEditOperation(new w.Range(C,h,C,h),i)}}computeCursorState(L,b){return this._isMovingLeft?new m.Selection(this._selection.startLineNumber,this._selection.startColumn-1,this._selection.endLineNumber,this._selection.endColumn-1):new m.Selection(this._selection.startLineNumber,this._selection.startColumn+1,this._selection.endLineNumber,this._selection.endColumn+1)}}e.MoveCaretCommand=k}),define(se[115],re([1,0,14]),function(q,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionItem=e.CodeActionCommandArgs=e.filtersAction=e.mayIncludeActionsOfKind=e.CodeActionTriggerSource=e.CodeActionKind=void 0;class m{constructor(t){this.value=t}equals(t){return this.value===t.value}contains(t){return this.equals(t)||this.value===""||t.value.startsWith(this.value+m.sep)}intersects(t){return this.contains(t)||t.contains(this)}append(t){return new m(this.value+m.sep+t)}}e.CodeActionKind=m,m.sep=".",m.None=new m("@@none@@"),m.Empty=new m(""),m.QuickFix=new m("quickfix"),m.Refactor=new m("refactor"),m.RefactorExtract=m.Refactor.append("extract"),m.RefactorInline=m.Refactor.append("inline"),m.RefactorMove=m.Refactor.append("move"),m.RefactorRewrite=m.Refactor.append("rewrite"),m.Source=new m("source"),m.SourceOrganizeImports=m.Source.append("organizeImports"),m.SourceFixAll=m.Source.append("fixAll"),m.SurroundWith=m.Refactor.append("surround");var k;(function(g){g.Refactor="refactor",g.RefactorPreview="refactor preview",g.Lightbulb="lightbulb",g.Default="other (default)",g.SourceAction="source action",g.QuickFix="quick fix action",g.FixAll="fix all",g.OrganizeImports="organize imports",g.AutoFix="auto fix",g.QuickFixHover="quick fix hover window",g.OnSave="save participants",g.ProblemsView="problems view"})(k=e.CodeActionTriggerSource||(e.CodeActionTriggerSource={}));function D(g,t){return!(g.include&&!g.include.intersects(t)||g.excludes&&g.excludes.some(i=>b(t,i,g.include))||!g.includeSourceActions&&m.Source.contains(t))}e.mayIncludeActionsOfKind=D;function L(g,t){const i=t.kind?new m(t.kind):void 0;return!(g.include&&(!i||!g.include.contains(i))||g.excludes&&i&&g.excludes.some(n=>b(i,n,g.include))||!g.includeSourceActions&&i&&m.Source.contains(i)||g.onlyIncludePreferredActions&&!t.isPreferred)}e.filtersAction=L;function b(g,t,i){return!(!t.contains(g)||i&&t.contains(i))}class C{static fromUser(t,i){return!t||typeof t!="object"?new C(i.kind,i.apply,!1):new C(C.getKindFromUser(t,i.kind),C.getApplyFromUser(t,i.apply),C.getPreferredUser(t))}static getApplyFromUser(t,i){switch(typeof t.apply=="string"?t.apply.toLowerCase():""){case"first":return"first";case"never":return"never";case"ifsingle":return"ifSingle";default:return i}}static getKindFromUser(t,i){return typeof t.kind=="string"?new m(t.kind):i}static getPreferredUser(t){return typeof t.preferred=="boolean"?t.preferred:!1}constructor(t,i,n){this.kind=t,this.apply=i,this.preferred=n}}e.CodeActionCommandArgs=C;class h{constructor(t,i){this.action=t,this.provider=i}resolve(t){var i;return Se(this,void 0,void 0,function*(){if(((i=this.provider)===null||i===void 0?void 0:i.resolveCodeAction)&&!this.action.edit){let n;try{n=yield this.provider.resolveCodeAction(this.action,t)}catch(o){(0,w.onUnexpectedExternalError)(o)}n&&(this.action.edit=n.edit)}return this})}}e.CodeActionItem=h}),define(se[251],re([1,0,63,11,3,24]),function(q,e,w,m,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BlockCommentCommand=void 0;class L{constructor(C,h,g){this.languageConfigurationService=g,this._selection=C,this._insertSpace=h,this._usedEndToken=null}static _haystackHasNeedleAtOffset(C,h,g){if(g<0)return!1;const t=h.length,i=C.length;if(g+t>i)return!1;for(let n=0;n<t;n++){const o=C.charCodeAt(g+n),l=h.charCodeAt(n);if(o!==l&&!(o>=65&&o<=90&&o+32===l)&&!(l>=65&&l<=90&&l+32===o))return!1}return!0}_createOperationsForBlockComment(C,h,g,t,i,n){const o=C.startLineNumber,l=C.startColumn,c=C.endLineNumber,d=C.endColumn,r=i.getLineContent(o),s=i.getLineContent(c);let a=r.lastIndexOf(h,l-1+h.length),u=s.indexOf(g,d-1-g.length);if(a!==-1&&u!==-1)if(o===c)r.substring(a+h.length,u).indexOf(g)>=0&&(a=-1,u=-1);else{const S=r.substring(a+h.length),f=s.substring(0,u);(S.indexOf(g)>=0||f.indexOf(g)>=0)&&(a=-1,u=-1)}let p;a!==-1&&u!==-1?(t&&a+h.length<r.length&&r.charCodeAt(a+h.length)===32&&(h=h+" "),t&&u>0&&s.charCodeAt(u-1)===32&&(g=" "+g,u-=1),p=L._createRemoveBlockCommentOperations(new k.Range(o,a+h.length+1,c,u+1),h,g)):(p=L._createAddBlockCommentOperations(C,h,g,this._insertSpace),this._usedEndToken=p.length===1?g:null);for(const S of p)n.addTrackedEditOperation(S.range,S.text)}static _createRemoveBlockCommentOperations(C,h,g){const t=[];return k.Range.isEmpty(C)?t.push(w.EditOperation.delete(new k.Range(C.startLineNumber,C.startColumn-h.length,C.endLineNumber,C.endColumn+g.length))):(t.push(w.EditOperation.delete(new k.Range(C.startLineNumber,C.startColumn-h.length,C.startLineNumber,C.startColumn))),t.push(w.EditOperation.delete(new k.Range(C.endLineNumber,C.endColumn,C.endLineNumber,C.endColumn+g.length)))),t}static _createAddBlockCommentOperations(C,h,g,t){const i=[];return k.Range.isEmpty(C)?i.push(w.EditOperation.replace(new k.Range(C.startLineNumber,C.startColumn,C.endLineNumber,C.endColumn),h+"  "+g)):(i.push(w.EditOperation.insert(new m.Position(C.startLineNumber,C.startColumn),h+(t?" ":""))),i.push(w.EditOperation.insert(new m.Position(C.endLineNumber,C.endColumn),(t?" ":"")+g))),i}getEditOperations(C,h){const g=this._selection.startLineNumber,t=this._selection.startColumn;C.tokenization.tokenizeIfCheap(g);const i=C.getLanguageIdAtPosition(g,t),n=this.languageConfigurationService.getLanguageConfiguration(i).comments;!n||!n.blockCommentStartToken||!n.blockCommentEndToken||this._createOperationsForBlockComment(this._selection,n.blockCommentStartToken,n.blockCommentEndToken,this._insertSpace,C,h)}computeCursorState(C,h){const g=h.getInverseEditOperations();if(g.length===2){const t=g[0],i=g[1];return new D.Selection(t.range.endLineNumber,t.range.endColumn,i.range.startLineNumber,i.range.startColumn)}else{const t=g[0].range,i=this._usedEndToken?-this._usedEndToken.length-1:0;return new D.Selection(t.endLineNumber,t.endColumn+i,t.endLineNumber,t.endColumn+i)}}}e.BlockCommentCommand=L}),define(se[464],re([1,0,8,63,11,3,24,251]),function(q,e,w,m,k,D,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineCommentCommand=void 0;class C{constructor(g,t,i,n,o,l,c){this.languageConfigurationService=g,this._selection=t,this._tabSize=i,this._type=n,this._insertSpace=o,this._selectionId=null,this._deltaColumn=0,this._moveEndPositionDown=!1,this._ignoreEmptyLines=l,this._ignoreFirstLine=c||!1}static _gatherPreflightCommentStrings(g,t,i,n){g.tokenization.tokenizeIfCheap(t);const o=g.getLanguageIdAtPosition(t,1),l=n.getLanguageConfiguration(o).comments,c=l?l.lineCommentToken:null;if(!c)return null;const d=[];for(let r=0,s=i-t+1;r<s;r++)d[r]={ignore:!1,commentStr:c,commentStrOffset:0,commentStrLength:c.length};return d}static _analyzeLines(g,t,i,n,o,l,c,d){let r=!0,s;g===0?s=!0:g===1?s=!1:s=!0;for(let a=0,u=n.length;a<u;a++){const p=n[a],S=o+a;if(S===o&&c){p.ignore=!0;continue}const f=i.getLineContent(S),v=w.firstNonWhitespaceIndex(f);if(v===-1){p.ignore=l,p.commentStrOffset=f.length;continue}if(r=!1,p.ignore=!1,p.commentStrOffset=v,s&&!b.BlockCommentCommand._haystackHasNeedleAtOffset(f,p.commentStr,v)&&(g===0?s=!1:g===1||(p.ignore=!0)),s&&t){const _=v+p.commentStrLength;_<f.length&&f.charCodeAt(_)===32&&(p.commentStrLength+=1)}}if(g===0&&r){s=!1;for(let a=0,u=n.length;a<u;a++)n[a].ignore=!1}return{supported:!0,shouldRemoveComments:s,lines:n}}static _gatherPreflightData(g,t,i,n,o,l,c,d){const r=C._gatherPreflightCommentStrings(i,n,o,d);return r===null?{supported:!1}:C._analyzeLines(g,t,i,r,n,l,c,d)}_executeLineComments(g,t,i,n){let o;i.shouldRemoveComments?o=C._createRemoveLineCommentsOperations(i.lines,n.startLineNumber):(C._normalizeInsertionPoint(g,i.lines,n.startLineNumber,this._tabSize),o=this._createAddLineCommentsOperations(i.lines,n.startLineNumber));const l=new k.Position(n.positionLineNumber,n.positionColumn);for(let c=0,d=o.length;c<d;c++)t.addEditOperation(o[c].range,o[c].text),D.Range.isEmpty(o[c].range)&&D.Range.getStartPosition(o[c].range).equals(l)&&g.getLineContent(l.lineNumber).length+1===l.column&&(this._deltaColumn=(o[c].text||"").length);this._selectionId=t.trackSelection(n)}_attemptRemoveBlockComment(g,t,i,n){let o=t.startLineNumber,l=t.endLineNumber;const c=n.length+Math.max(g.getLineFirstNonWhitespaceColumn(t.startLineNumber),t.startColumn);let d=g.getLineContent(o).lastIndexOf(i,c-1),r=g.getLineContent(l).indexOf(n,t.endColumn-1-i.length);return d!==-1&&r===-1&&(r=g.getLineContent(o).indexOf(n,d+i.length),l=o),d===-1&&r!==-1&&(d=g.getLineContent(l).lastIndexOf(i,r),o=l),t.isEmpty()&&(d===-1||r===-1)&&(d=g.getLineContent(o).indexOf(i),d!==-1&&(r=g.getLineContent(o).indexOf(n,d+i.length))),d!==-1&&g.getLineContent(o).charCodeAt(d+i.length)===32&&(i+=" "),r!==-1&&g.getLineContent(l).charCodeAt(r-1)===32&&(n=" "+n,r-=1),d!==-1&&r!==-1?b.BlockCommentCommand._createRemoveBlockCommentOperations(new D.Range(o,d+i.length+1,l,r+1),i,n):null}_executeBlockComment(g,t,i){g.tokenization.tokenizeIfCheap(i.startLineNumber);const n=g.getLanguageIdAtPosition(i.startLineNumber,1),o=this.languageConfigurationService.getLanguageConfiguration(n).comments;if(!o||!o.blockCommentStartToken||!o.blockCommentEndToken)return;const l=o.blockCommentStartToken,c=o.blockCommentEndToken;let d=this._attemptRemoveBlockComment(g,i,l,c);if(!d){if(i.isEmpty()){const r=g.getLineContent(i.startLineNumber);let s=w.firstNonWhitespaceIndex(r);s===-1&&(s=r.length),d=b.BlockCommentCommand._createAddBlockCommentOperations(new D.Range(i.startLineNumber,s+1,i.startLineNumber,r.length+1),l,c,this._insertSpace)}else d=b.BlockCommentCommand._createAddBlockCommentOperations(new D.Range(i.startLineNumber,g.getLineFirstNonWhitespaceColumn(i.startLineNumber),i.endLineNumber,g.getLineMaxColumn(i.endLineNumber)),l,c,this._insertSpace);d.length===1&&(this._deltaColumn=l.length+1)}this._selectionId=t.trackSelection(i);for(const r of d)t.addEditOperation(r.range,r.text)}getEditOperations(g,t){let i=this._selection;if(this._moveEndPositionDown=!1,i.startLineNumber===i.endLineNumber&&this._ignoreFirstLine){t.addEditOperation(new D.Range(i.startLineNumber,g.getLineMaxColumn(i.startLineNumber),i.startLineNumber+1,1),i.startLineNumber===g.getLineCount()?"":`
`),this._selectionId=t.trackSelection(i);return}i.startLineNumber<i.endLineNumber&&i.endColumn===1&&(this._moveEndPositionDown=!0,i=i.setEndPosition(i.endLineNumber-1,g.getLineMaxColumn(i.endLineNumber-1)));const n=C._gatherPreflightData(this._type,this._insertSpace,g,i.startLineNumber,i.endLineNumber,this._ignoreEmptyLines,this._ignoreFirstLine,this.languageConfigurationService);return n.supported?this._executeLineComments(g,t,n,i):this._executeBlockComment(g,t,i)}computeCursorState(g,t){let i=t.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(i=i.setEndPosition(i.endLineNumber+1,1)),new L.Selection(i.selectionStartLineNumber,i.selectionStartColumn+this._deltaColumn,i.positionLineNumber,i.positionColumn+this._deltaColumn)}static _createRemoveLineCommentsOperations(g,t){const i=[];for(let n=0,o=g.length;n<o;n++){const l=g[n];l.ignore||i.push(m.EditOperation.delete(new D.Range(t+n,l.commentStrOffset+1,t+n,l.commentStrOffset+l.commentStrLength+1)))}return i}_createAddLineCommentsOperations(g,t){const i=[],n=this._insertSpace?" ":"";for(let o=0,l=g.length;o<l;o++){const c=g[o];c.ignore||i.push(m.EditOperation.insert(new k.Position(t+o,c.commentStrOffset+1),c.commentStr+n))}return i}static nextVisibleColumn(g,t,i,n){return i?g+(t-g%t):g+n}static _normalizeInsertionPoint(g,t,i,n){let o=1073741824,l,c;for(let d=0,r=t.length;d<r;d++){if(t[d].ignore)continue;const s=g.getLineContent(i+d);let a=0;for(let u=0,p=t[d].commentStrOffset;a<o&&u<p;u++)a=C.nextVisibleColumn(a,n,s.charCodeAt(u)===9,1);a<o&&(o=a)}o=Math.floor(o/n)*n;for(let d=0,r=t.length;d<r;d++){if(t[d].ignore)continue;const s=g.getLineContent(i+d);let a=0;for(l=0,c=t[d].commentStrOffset;a<o&&l<c;l++)a=C.nextVisibleColumn(a,n,s.charCodeAt(l)===9,1);a>o?t[d].commentStrOffset=l-1:t[d].commentStrOffset=l}}}e.LineCommentCommand=C}),define(se[465],re([1,0,3,24]),function(q,e,w,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DragAndDropCommand=void 0;class k{constructor(L,b,C){this.selection=L,this.targetPosition=b,this.copy=C,this.targetSelection=null}getEditOperations(L,b){const C=L.getValueInRange(this.selection);if(this.copy||b.addEditOperation(this.selection,null),b.addEditOperation(new w.Range(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column),C),this.selection.containsPosition(this.targetPosition)&&!(this.copy&&(this.selection.getEndPosition().equals(this.targetPosition)||this.selection.getStartPosition().equals(this.targetPosition)))){this.targetSelection=this.selection;return}if(this.copy){this.targetSelection=new m.Selection(this.targetPosition.lineNumber,this.targetPosition.column,this.selection.endLineNumber-this.selection.startLineNumber+this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber>this.selection.endLineNumber){this.targetSelection=new m.Selection(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber<this.selection.endLineNumber){this.targetSelection=new m.Selection(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber+this.selection.endLineNumber-this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}this.selection.endColumn<=this.targetPosition.column?this.targetSelection=new m.Selection(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column-this.selection.endColumn+this.selection.startColumn:this.targetPosition.column-this.selection.endColumn+this.selection.startColumn,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column:this.selection.endColumn):this.targetSelection=new m.Selection(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column+this.selection.endColumn-this.selection.startColumn)}computeCursorState(L,b){return this.targetSelection}}e.DragAndDropCommand=k}),define(se[466],re([1,0,3]),function(q,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReplaceAllCommand=void 0;class m{constructor(D,L,b){this._editorSelection=D,this._ranges=L,this._replaceStrings=b,this._trackedEditorSelectionId=null}getEditOperations(D,L){if(this._ranges.length>0){const b=[];for(let g=0;g<this._ranges.length;g++)b.push({range:this._ranges[g],text:this._replaceStrings[g]});b.sort((g,t)=>w.Range.compareRangesUsingStarts(g.range,t.range));const C=[];let h=b[0];for(let g=1;g<b.length;g++)h.range.endLineNumber===b[g].range.startLineNumber&&h.range.endColumn===b[g].range.startColumn?(h.range=h.range.plusRange(b[g].range),h.text=h.text+b[g].text):(C.push(h),h=b[g]);C.push(h);for(const g of C)L.addEditOperation(g.range,g.text)}this._trackedEditorSelectionId=L.trackSelection(this._editorSelection)}computeCursorState(D,L){return L.getTrackedSelection(this._trackedEditorSelectionId)}}e.ReplaceAllCommand=m}),define(se[467],re([1,0,340]),function(q,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseReplaceString=e.ReplacePiece=e.ReplacePattern=void 0;class m{constructor(g){this.staticValue=g,this.kind=0}}class k{constructor(g){this.pieces=g,this.kind=1}}class D{static fromStaticValue(g){return new D([L.staticValue(g)])}get hasReplacementPatterns(){return this._state.kind===1}constructor(g){!g||g.length===0?this._state=new m(""):g.length===1&&g[0].staticValue!==null?this._state=new m(g[0].staticValue):this._state=new k(g)}buildReplaceString(g,t){if(this._state.kind===0)return t?(0,w.buildReplaceStringWithCasePreserved)(g,this._state.staticValue):this._state.staticValue;let i="";for(let n=0,o=this._state.pieces.length;n<o;n++){const l=this._state.pieces[n];if(l.staticValue!==null){i+=l.staticValue;continue}let c=D._substitute(l.matchIndex,g);if(l.caseOps!==null&&l.caseOps.length>0){const d=[],r=l.caseOps.length;let s=0;for(let a=0,u=c.length;a<u;a++){if(s>=r){d.push(c.slice(a));break}switch(l.caseOps[s]){case"U":d.push(c[a].toUpperCase());break;case"u":d.push(c[a].toUpperCase()),s++;break;case"L":d.push(c[a].toLowerCase());break;case"l":d.push(c[a].toLowerCase()),s++;break;default:d.push(c[a])}}c=d.join("")}i+=c}return i}static _substitute(g,t){if(t===null)return"";if(g===0)return t[0];let i="";for(;g>0;){if(g<t.length)return(t[g]||"")+i;i=String(g%10)+i,g=Math.floor(g/10)}return"$"+i}}e.ReplacePattern=D;class L{static staticValue(g){return new L(g,-1,null)}static caseOps(g,t){return new L(null,g,t)}constructor(g,t,i){this.staticValue=g,this.matchIndex=t,!i||i.length===0?this.caseOps=null:this.caseOps=i.slice(0)}}e.ReplacePiece=L;class b{constructor(g){this._source=g,this._lastCharIndex=0,this._result=[],this._resultLen=0,this._currentStaticPiece=""}emitUnchanged(g){this._emitStatic(this._source.substring(this._lastCharIndex,g)),this._lastCharIndex=g}emitStatic(g,t){this._emitStatic(g),this._lastCharIndex=t}_emitStatic(g){g.length!==0&&(this._currentStaticPiece+=g)}emitMatchIndex(g,t,i){this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=L.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),this._result[this._resultLen++]=L.caseOps(g,i),this._lastCharIndex=t}finalize(){return this.emitUnchanged(this._source.length),this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=L.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),new D(this._result)}}function C(h){if(!h||h.length===0)return new D(null);const g=[],t=new b(h);for(let i=0,n=h.length;i<n;i++){const o=h.charCodeAt(i);if(o===92){if(i++,i>=n)break;const l=h.charCodeAt(i);switch(l){case 92:t.emitUnchanged(i-1),t.emitStatic("\\",i+1);break;case 110:t.emitUnchanged(i-1),t.emitStatic(`
`,i+1);break;case 116:t.emitUnchanged(i-1),t.emitStatic("	",i+1);break;case 117:case 85:case 108:case 76:t.emitUnchanged(i-1),t.emitStatic("",i+1),g.push(String.fromCharCode(l));break}continue}if(o===36){if(i++,i>=n)break;const l=h.charCodeAt(i);if(l===36){t.emitUnchanged(i-1),t.emitStatic("$",i+1);continue}if(l===48||l===38){t.emitUnchanged(i-1),t.emitMatchIndex(0,i+1,g),g.length=0;continue}if(49<=l&&l<=57){let c=l-48;if(i+1<n){const d=h.charCodeAt(i+1);if(48<=d&&d<=57){i++,c=c*10+(d-48),t.emitUnchanged(i-2),t.emitMatchIndex(c,i+1,g),g.length=0;continue}}t.emitUnchanged(i-1),t.emitMatchIndex(c,i+1,g),g.length=0;continue}}}return t.finalize()}e.parseReplaceString=C}),define(se[161],re([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FoldingRegion=e.FoldingRegions=e.MAX_LINE_NUMBER=e.MAX_FOLDING_REGIONS=void 0,e.MAX_FOLDING_REGIONS=65535,e.MAX_LINE_NUMBER=16777215;const w=4278190080;class m{constructor(b){const C=Math.ceil(b/32);this._states=new Uint32Array(C)}get(b){const C=b/32|0,h=b%32;return(this._states[C]&1<<h)!==0}set(b,C){const h=b/32|0,g=b%32,t=this._states[h];C?this._states[h]=t|1<<g:this._states[h]=t&~(1<<g)}}class k{constructor(b,C,h){if(this.sourceAbbr={[0]:" ",[1]:"u",[2]:"r"},b.length!==C.length||b.length>e.MAX_FOLDING_REGIONS)throw new Error("invalid startIndexes or endIndexes size");this._startIndexes=b,this._endIndexes=C,this._collapseStates=new m(b.length),this._userDefinedStates=new m(b.length),this._recoveredStates=new m(b.length),this._types=h,this._parentsComputed=!1}ensureParentIndices(){if(!this._parentsComputed){this._parentsComputed=!0;const b=[],C=(h,g)=>{const t=b[b.length-1];return this.getStartLineNumber(t)<=h&&this.getEndLineNumber(t)>=g};for(let h=0,g=this._startIndexes.length;h<g;h++){const t=this._startIndexes[h],i=this._endIndexes[h];if(t>e.MAX_LINE_NUMBER||i>e.MAX_LINE_NUMBER)throw new Error("startLineNumber or endLineNumber must not exceed "+e.MAX_LINE_NUMBER);for(;b.length>0&&!C(t,i);)b.pop();const n=b.length>0?b[b.length-1]:-1;b.push(h),this._startIndexes[h]=t+((n&255)<<24),this._endIndexes[h]=i+((n&65280)<<16)}}}get length(){return this._startIndexes.length}getStartLineNumber(b){return this._startIndexes[b]&e.MAX_LINE_NUMBER}getEndLineNumber(b){return this._endIndexes[b]&e.MAX_LINE_NUMBER}getType(b){return this._types?this._types[b]:void 0}hasTypes(){return!!this._types}isCollapsed(b){return this._collapseStates.get(b)}setCollapsed(b,C){this._collapseStates.set(b,C)}isUserDefined(b){return this._userDefinedStates.get(b)}setUserDefined(b,C){return this._userDefinedStates.set(b,C)}isRecovered(b){return this._recoveredStates.get(b)}setRecovered(b,C){return this._recoveredStates.set(b,C)}getSource(b){return this.isUserDefined(b)?1:this.isRecovered(b)?2:0}setSource(b,C){C===1?(this.setUserDefined(b,!0),this.setRecovered(b,!1)):C===2?(this.setUserDefined(b,!1),this.setRecovered(b,!0)):(this.setUserDefined(b,!1),this.setRecovered(b,!1))}setCollapsedAllOfType(b,C){let h=!1;if(this._types)for(let g=0;g<this._types.length;g++)this._types[g]===b&&(this.setCollapsed(g,C),h=!0);return h}toRegion(b){return new D(this,b)}getParentIndex(b){this.ensureParentIndices();const C=((this._startIndexes[b]&w)>>>24)+((this._endIndexes[b]&w)>>>16);return C===e.MAX_FOLDING_REGIONS?-1:C}contains(b,C){return this.getStartLineNumber(b)<=C&&this.getEndLineNumber(b)>=C}findIndex(b){let C=0,h=this._startIndexes.length;if(h===0)return-1;for(;C<h;){const g=Math.floor((C+h)/2);b<this.getStartLineNumber(g)?h=g:C=g+1}return C-1}findRange(b){let C=this.findIndex(b);if(C>=0){if(this.getEndLineNumber(C)>=b)return C;for(C=this.getParentIndex(C);C!==-1;){if(this.contains(C,b))return C;C=this.getParentIndex(C)}}return-1}toString(){const b=[];for(let C=0;C<this.length;C++)b[C]=`[${this.sourceAbbr[this.getSource(C)]}${this.isCollapsed(C)?"+":"-"}] ${this.getStartLineNumber(C)}/${this.getEndLineNumber(C)}`;return b.join(", ")}toFoldRange(b){return{startLineNumber:this._startIndexes[b]&e.MAX_LINE_NUMBER,endLineNumber:this._endIndexes[b]&e.MAX_LINE_NUMBER,type:this._types?this._types[b]:void 0,isCollapsed:this.isCollapsed(b),source:this.getSource(b)}}static fromFoldRanges(b){const C=b.length,h=new Uint32Array(C),g=new Uint32Array(C);let t=[],i=!1;for(let o=0;o<C;o++){const l=b[o];h[o]=l.startLineNumber,g[o]=l.endLineNumber,t.push(l.type),l.type&&(i=!0)}i||(t=void 0);const n=new k(h,g,t);for(let o=0;o<C;o++)b[o].isCollapsed&&n.setCollapsed(o,!0),n.setSource(o,b[o].source);return n}static sanitizeAndMerge(b,C,h){h=h??Number.MAX_VALUE;const g=(u,p)=>Array.isArray(u)?S=>S<p?u[S]:void 0:S=>S<p?u.toFoldRange(S):void 0,t=g(b,b.length),i=g(C,C.length);let n=0,o=0,l=t(0),c=i(0);const d=[];let r,s=0;const a=[];for(;l||c;){let u;if(c&&(!l||l.startLineNumber>=c.startLineNumber))l&&l.startLineNumber===c.startLineNumber?(c.source===1?u=c:(u=l,u.isCollapsed=c.isCollapsed&&l.endLineNumber===c.endLineNumber,u.source=0),l=t(++n)):(u=c,c.isCollapsed&&c.source===0&&(u.source=2)),c=i(++o);else{let p=o,S=c;for(;;){if(!S||S.startLineNumber>l.endLineNumber){u=l;break}if(S.source===1&&S.endLineNumber>l.endLineNumber)break;S=i(++p)}l=t(++n)}if(u){for(;r&&r.endLineNumber<u.startLineNumber;)r=d.pop();u.endLineNumber>u.startLineNumber&&u.startLineNumber>s&&u.endLineNumber<=h&&(!r||r.endLineNumber>=u.endLineNumber)&&(a.push(u),s=u.startLineNumber,r&&d.push(r),r=u)}}return a}}e.FoldingRegions=k;class D{constructor(b,C){this.ranges=b,this.index=C}get startLineNumber(){return this.ranges.getStartLineNumber(this.index)}get endLineNumber(){return this.ranges.getEndLineNumber(this.index)}get regionIndex(){return this.index}get parentIndex(){return this.ranges.getParentIndex(this.index)}get isCollapsed(){return this.ranges.isCollapsed(this.index)}containedBy(b){return b.startLineNumber<=this.startLineNumber&&b.endLineNumber>=this.endLineNumber}containsLine(b){return this.startLineNumber<=b&&b<=this.endLineNumber}}e.FoldingRegion=D}),define(se[468],re([1,0,190,161]),function(q,e,w,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.computeRanges=e.RangesCollector=e.IndentRangeProvider=e.ID_INDENT_PROVIDER=void 0;const k=5e3;e.ID_INDENT_PROVIDER="indent";class D{constructor(g,t,i){this.editorModel=g,this.languageConfigurationService=t,this.foldingRangesLimit=i,this.id=e.ID_INDENT_PROVIDER}dispose(){}compute(g){const t=this.languageConfigurationService.getLanguageConfiguration(this.editorModel.getLanguageId()).foldingRules,i=t&&!!t.offSide,n=t&&t.markers;return Promise.resolve(C(this.editorModel,i,n,this.foldingRangesLimit))}}e.IndentRangeProvider=D;class L{constructor(g){this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0,this._foldingRangesLimit=g}insertFirst(g,t,i){if(g>m.MAX_LINE_NUMBER||t>m.MAX_LINE_NUMBER)return;const n=this._length;this._startIndexes[n]=g,this._endIndexes[n]=t,this._length++,i<1e3&&(this._indentOccurrences[i]=(this._indentOccurrences[i]||0)+1)}toIndentRanges(g){const t=this._foldingRangesLimit.limit;if(this._length<=t){this._foldingRangesLimit.report({limited:!1,computed:this._length});const i=new Uint32Array(this._length),n=new Uint32Array(this._length);for(let o=this._length-1,l=0;o>=0;o--,l++)i[l]=this._startIndexes[o],n[l]=this._endIndexes[o];return new m.FoldingRegions(i,n)}else{this._foldingRangesLimit.report({limited:t,computed:this._length});let i=0,n=this._indentOccurrences.length;for(let d=0;d<this._indentOccurrences.length;d++){const r=this._indentOccurrences[d];if(r){if(r+i>t){n=d;break}i+=r}}const o=g.getOptions().tabSize,l=new Uint32Array(t),c=new Uint32Array(t);for(let d=this._length-1,r=0;d>=0;d--){const s=this._startIndexes[d],a=g.getLineContent(s),u=(0,w.computeIndentLevel)(a,o);(u<n||u===n&&i++<t)&&(l[r]=s,c[r]=this._endIndexes[d],r++)}return new m.FoldingRegions(l,c)}}}e.RangesCollector=L;const b={limit:k,report:()=>{}};function C(h,g,t,i=b){const n=h.getOptions().tabSize,o=new L(i);let l;t&&(l=new RegExp(`(${t.start.source})|(?:${t.end.source})`));const c=[],d=h.getLineCount()+1;c.push({indent:-1,endAbove:d,line:d});for(let r=h.getLineCount();r>0;r--){const s=h.getLineContent(r),a=(0,w.computeIndentLevel)(s,n);let u=c[c.length-1];if(a===-1){g&&(u.endAbove=r);continue}let p;if(l&&(p=s.match(l)))if(p[1]){let S=c.length-1;for(;S>0&&c[S].indent!==-2;)S--;if(S>0){c.length=S+1,u=c[S],o.insertFirst(r,u.line,a),u.line=r,u.indent=a,u.endAbove=r;continue}}else{c.push({indent:-2,endAbove:r,line:r});continue}if(u.indent>a){do c.pop(),u=c[c.length-1];while(u.indent>a);const S=u.endAbove-1;S-r>=1&&o.insertFirst(r,S,a)}u.indent===a?u.endAbove=r:c.push({indent:a,endAbove:r,line:r})}return o.toIndentRanges(h)}e.computeRanges=C}),define(se[469],re([1,0,14,2,161]),function(q,e,w,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sanitizeRanges=e.RangesCollector=e.SyntaxRangeProvider=e.ID_SYNTAX_PROVIDER=void 0;const D={};e.ID_SYNTAX_PROVIDER="syntax";class L{constructor(t,i,n,o){this.editorModel=t,this.providers=i,this.handleFoldingRangesChange=n,this.foldingRangesLimit=o,this.id=e.ID_SYNTAX_PROVIDER;for(const l of i)typeof l.onDidChange=="function"&&(this.disposables||(this.disposables=new m.DisposableStore),this.disposables.add(l.onDidChange(n)))}compute(t){return b(this.providers,this.editorModel,t).then(i=>i?h(i,this.foldingRangesLimit):null)}dispose(){var t;(t=this.disposables)===null||t===void 0||t.dispose()}}e.SyntaxRangeProvider=L;function b(g,t,i){let n=null;const o=g.map((l,c)=>Promise.resolve(l.provideFoldingRanges(t,D,i)).then(d=>{if(!i.isCancellationRequested&&Array.isArray(d)){Array.isArray(n)||(n=[]);const r=t.getLineCount();for(const s of d)s.start>0&&s.end>s.start&&s.end<=r&&n.push({start:s.start,end:s.end,rank:c,kind:s.kind})}},w.onUnexpectedExternalError));return Promise.all(o).then(l=>n)}class C{constructor(t){this._startIndexes=[],this._endIndexes=[],this._nestingLevels=[],this._nestingLevelCounts=[],this._types=[],this._length=0,this._foldingRangesLimit=t}add(t,i,n,o){if(t>k.MAX_LINE_NUMBER||i>k.MAX_LINE_NUMBER)return;const l=this._length;this._startIndexes[l]=t,this._endIndexes[l]=i,this._nestingLevels[l]=o,this._types[l]=n,this._length++,o<30&&(this._nestingLevelCounts[o]=(this._nestingLevelCounts[o]||0)+1)}toIndentRanges(){const t=this._foldingRangesLimit.limit;if(this._length<=t){this._foldingRangesLimit.report({limited:!1,computed:this._length});const i=new Uint32Array(this._length),n=new Uint32Array(this._length);for(let o=0;o<this._length;o++)i[o]=this._startIndexes[o],n[o]=this._endIndexes[o];return new k.FoldingRegions(i,n,this._types)}else{this._foldingRangesLimit.report({limited:t,computed:this._length});let i=0,n=this._nestingLevelCounts.length;for(let d=0;d<this._nestingLevelCounts.length;d++){const r=this._nestingLevelCounts[d];if(r){if(r+i>t){n=d;break}i+=r}}const o=new Uint32Array(t),l=new Uint32Array(t),c=[];for(let d=0,r=0;d<this._length;d++){const s=this._nestingLevels[d];(s<n||s===n&&i++<t)&&(o[r]=this._startIndexes[d],l[r]=this._endIndexes[d],c[r]=this._types[d],r++)}return new k.FoldingRegions(o,l,c)}}}e.RangesCollector=C;function h(g,t){const i=g.sort((c,d)=>{let r=c.start-d.start;return r===0&&(r=c.rank-d.rank),r}),n=new C(t);let o;const l=[];for(const c of i)if(!o)o=c,n.add(c.start,c.end,c.kind&&c.kind.value,l.length);else if(c.start>o.start)if(c.end<=o.end)l.push(o),o=c,n.add(c.start,c.end,c.kind&&c.kind.value,l.length);else{if(c.start>o.end){do o=l.pop();while(o&&c.start>o.end);o&&l.push(o),o=c}n.add(c.start,c.end,c.kind&&c.kind.value,l.length)}return n.toIndentRanges()}e.sanitizeRanges=h}),define(se[252],re([1,0,63,3]),function(q,e,w,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FormattingEdit=void 0;class k{static _handleEolEdits(L,b){let C;const h=[];for(const g of b)typeof g.eol=="number"&&(C=g.eol),g.range&&typeof g.text=="string"&&h.push(g);return typeof C=="number"&&L.hasModel()&&L.getModel().pushEOL(C),h}static _isFullModelReplaceEdit(L,b){if(!L.hasModel())return!1;const C=L.getModel(),h=C.validateRange(b.range);return C.getFullModelRange().equalsRange(h)}static execute(L,b,C){C&&L.pushUndoStop();const h=k._handleEolEdits(L,b);h.length===1&&k._isFullModelReplaceEdit(L,h[0])?L.executeEdits("formatEditsCommand",h.map(g=>w.EditOperation.replace(m.Range.lift(g.range),g.text))):L.executeEdits("formatEditsCommand",h.map(g=>w.EditOperation.replaceMove(m.Range.lift(g.range),g.text))),C&&L.pushUndoStop()}}e.FormattingEdit=k}),define(se[92],re([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HoverParticipantRegistry=e.HoverForeignElementAnchor=e.HoverRangeAnchor=void 0;class w{constructor(D,L,b,C){this.priority=D,this.range=L,this.initialMousePosX=b,this.initialMousePosY=C,this.type=1}equals(D){return D.type===1&&this.range.equalsRange(D.range)}canAdoptVisibleHover(D,L){return D.type===1&&L.lineNumber===this.range.startLineNumber}}e.HoverRangeAnchor=w;class m{constructor(D,L,b,C,h){this.priority=D,this.owner=L,this.range=b,this.initialMousePosX=C,this.initialMousePosY=h,this.type=2}equals(D){return D.type===2&&this.owner===D.owner}canAdoptVisibleHover(D,L){return D.type===2&&this.owner===D.owner}}e.HoverForeignElementAnchor=m,e.HoverParticipantRegistry=new class{constructor(){this._participants=[]}register(D){this._participants.push(D)}getAll(){return this._participants}}}),define(se[470],re([1,0,24]),function(q,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InPlaceReplaceCommand=void 0;class m{constructor(D,L,b){this._editRange=D,this._originalSelection=L,this._text=b}getEditOperations(D,L){L.addTrackedEditOperation(this._editRange,this._text)}computeCursorState(D,L){const C=L.getInverseEditOperations()[0].range;return this._originalSelection.isEmpty()?new w.Selection(C.endLineNumber,Math.min(this._originalSelection.positionColumn,C.endColumn),C.endLineNumber,Math.min(this._originalSelection.positionColumn,C.endColumn)):new w.Selection(C.endLineNumber,C.endColumn-this._text.length,C.endLineNumber,C.endColumn)}}e.InPlaceReplaceCommand=m}),define(se[253],re([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateIndent=e.getSpaceCnt=void 0;function w(k,D){let L=0;for(let b=0;b<k.length;b++)k.charAt(b)==="	"?L+=D:L++;return L}e.getSpaceCnt=w;function m(k,D,L){k=k<0?0:k;let b="";if(!L){const C=Math.floor(k/D);k=k%D;for(let h=0;h<C;h++)b+="	"}for(let C=0;C<k;C++)b+=" ";return b}e.generateIndent=m}),define(se[194],re([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.inlineSuggestCommitId=void 0,e.inlineSuggestCommitId="editor.action.inlineSuggest.commit"}),define(se[195],re([1,0,3]),function(q,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getReadonlyEmptyArray=e.applyEdits=e.createDisposableRef=void 0;function m(C,h){return{object:C,dispose:()=>h?.dispose()}}e.createDisposableRef=m;function k(C,h){const g=new D(C),t=h.map(i=>{const n=w.Range.lift(i.range);return{startOffset:g.getOffset(n.getStartPosition()),endOffset:g.getOffset(n.getEndPosition()),text:i.text}});t.sort((i,n)=>n.startOffset-i.startOffset);for(const i of t)C=C.substring(0,i.startOffset)+i.text+C.substring(i.endOffset);return C}e.applyEdits=k;class D{constructor(h){this.lineStartOffsetByLineIdx=[],this.lineStartOffsetByLineIdx.push(0);for(let g=0;g<h.length;g++)h.charAt(g)===`
`&&this.lineStartOffsetByLineIdx.push(g+1)}getOffset(h){return this.lineStartOffsetByLineIdx[h.lineNumber-1]+h.column-1}}const L=[];function b(){return L}e.getReadonlyEmptyArray=b}),define(se[471],re([1,0,3,24]),function(q,e,w,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CopyLinesCommand=void 0;class k{constructor(L,b,C){this._selection=L,this._isCopyingDown=b,this._noop=C||!1,this._selectionDirection=0,this._selectionId=null,this._startLineNumberDelta=0,this._endLineNumberDelta=0}getEditOperations(L,b){let C=this._selection;this._startLineNumberDelta=0,this._endLineNumberDelta=0,C.startLineNumber<C.endLineNumber&&C.endColumn===1&&(this._endLineNumberDelta=1,C=C.setEndPosition(C.endLineNumber-1,L.getLineMaxColumn(C.endLineNumber-1)));const h=[];for(let t=C.startLineNumber;t<=C.endLineNumber;t++)h.push(L.getLineContent(t));const g=h.join(`
`);g===""&&this._isCopyingDown&&(this._startLineNumberDelta++,this._endLineNumberDelta++),this._noop?b.addEditOperation(new w.Range(C.endLineNumber,L.getLineMaxColumn(C.endLineNumber),C.endLineNumber+1,1),C.endLineNumber===L.getLineCount()?"":`
`):this._isCopyingDown?b.addEditOperation(new w.Range(C.startLineNumber,1,C.startLineNumber,1),g+`
`):b.addEditOperation(new w.Range(C.endLineNumber,L.getLineMaxColumn(C.endLineNumber),C.endLineNumber,L.getLineMaxColumn(C.endLineNumber)),`
`+g),this._selectionId=b.trackSelection(C),this._selectionDirection=this._selection.getDirection()}computeCursorState(L,b){let C=b.getTrackedSelection(this._selectionId);if(this._startLineNumberDelta!==0||this._endLineNumberDelta!==0){let h=C.startLineNumber,g=C.startColumn,t=C.endLineNumber,i=C.endColumn;this._startLineNumberDelta!==0&&(h=h+this._startLineNumberDelta,g=1),this._endLineNumberDelta!==0&&(t=t+this._endLineNumberDelta,i=1),C=m.Selection.createWithDirection(h,g,t,i,this._selectionDirection)}return C}}e.CopyLinesCommand=k}),define(se[472],re([1,0,63,3]),function(q,e,w,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SortLinesCommand=void 0;class k{static getCollator(){return k._COLLATOR||(k._COLLATOR=new Intl.Collator),k._COLLATOR}constructor(C,h){this.selection=C,this.descending=h,this.selectionId=null}getEditOperations(C,h){const g=L(C,this.selection,this.descending);g&&h.addEditOperation(g.range,g.text),this.selectionId=h.trackSelection(this.selection)}computeCursorState(C,h){return h.getTrackedSelection(this.selectionId)}static canRun(C,h,g){if(C===null)return!1;const t=D(C,h,g);if(!t)return!1;for(let i=0,n=t.before.length;i<n;i++)if(t.before[i]!==t.after[i])return!0;return!1}}e.SortLinesCommand=k,k._COLLATOR=null;function D(b,C,h){const g=C.startLineNumber;let t=C.endLineNumber;if(C.endColumn===1&&t--,g>=t)return null;const i=[];for(let o=g;o<=t;o++)i.push(b.getLineContent(o));let n=i.slice(0);return n.sort(k.getCollator().compare),h===!0&&(n=n.reverse()),{startLineNumber:g,endLineNumber:t,before:i,after:n}}function L(b,C,h){const g=D(b,C,h);return g?w.EditOperation.replace(new m.Range(g.startLineNumber,1,g.endLineNumber,b.getLineMaxColumn(g.endLineNumber)),g.after.join(`
`)):null}}),define(se[254],re([1,0,58,11,3]),function(q,e,w,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketSelectionRangeProvider=void 0;class D{provideSelectionRanges(b,C){return Se(this,void 0,void 0,function*(){const h=[];for(const g of C){const t=[];h.push(t);const i=new Map;yield new Promise(n=>D._bracketsRightYield(n,0,b,g,i)),yield new Promise(n=>D._bracketsLeftYield(n,0,b,g,i,t))}return h})}static _bracketsRightYield(b,C,h,g,t){const i=new Map,n=Date.now();for(;;){if(C>=D._maxRounds){b();break}if(!g){b();break}const o=h.bracketPairs.findNextBracket(g);if(!o){b();break}if(Date.now()-n>D._maxDuration){setTimeout(()=>D._bracketsRightYield(b,C+1,h,g,t));break}if(o.bracketInfo.isOpeningBracket){const c=o.bracketInfo.bracketText,d=i.has(c)?i.get(c):0;i.set(c,d+1)}else{const c=o.bracketInfo.getClosedBrackets()[0].bracketText;let d=i.has(c)?i.get(c):0;if(d-=1,i.set(c,Math.max(0,d)),d<0){let r=t.get(c);r||(r=new w.LinkedList,t.set(c,r)),r.push(o.range)}}g=o.range.getEndPosition()}}static _bracketsLeftYield(b,C,h,g,t,i){const n=new Map,o=Date.now();for(;;){if(C>=D._maxRounds&&t.size===0){b();break}if(!g){b();break}const l=h.bracketPairs.findPrevBracket(g);if(!l){b();break}if(Date.now()-o>D._maxDuration){setTimeout(()=>D._bracketsLeftYield(b,C+1,h,g,t,i));break}if(l.bracketInfo.isOpeningBracket){const d=l.bracketInfo.bracketText;let r=n.has(d)?n.get(d):0;if(r-=1,n.set(d,Math.max(0,r)),r<0){const s=t.get(d);if(s){const a=s.shift();s.size===0&&t.delete(d);const u=k.Range.fromPositions(l.range.getEndPosition(),a.getStartPosition()),p=k.Range.fromPositions(l.range.getStartPosition(),a.getEndPosition());i.push({range:u}),i.push({range:p}),D._addBracketLeading(h,p,i)}}}else{const d=l.bracketInfo.getClosedBrackets()[0].bracketText,r=n.has(d)?n.get(d):0;n.set(d,r+1)}g=l.range.getStartPosition()}}static _addBracketLeading(b,C,h){if(C.startLineNumber===C.endLineNumber)return;const g=C.startLineNumber,t=b.getLineFirstNonWhitespaceColumn(g);t!==0&&t!==C.startColumn&&(h.push({range:k.Range.fromPositions(new m.Position(g,t),C.getEndPosition())}),h.push({range:k.Range.fromPositions(new m.Position(g,1),C.getEndPosition())}));const i=g-1;if(i>0){const n=b.getLineFirstNonWhitespaceColumn(i);n===C.startColumn&&n!==b.getLineLastNonWhitespaceColumn(i)&&(h.push({range:k.Range.fromPositions(new m.Position(i,n),C.getEndPosition())}),h.push({range:k.Range.fromPositions(new m.Position(i,1),C.getEndPosition())}))}}}e.BracketSelectionRangeProvider=D,D._maxDuration=30,D._maxRounds=2}),define(se[473],re([1,0,8,3]),function(q,e,w,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordSelectionRangeProvider=void 0;class k{provideSelectionRanges(L,b){const C=[];for(const h of b){const g=[];C.push(g),this._addInWordRanges(g,L,h),this._addWordRanges(g,L,h),this._addWhitespaceLine(g,L,h),g.push({range:L.getFullModelRange()})}return C}_addInWordRanges(L,b,C){const h=b.getWordAtPosition(C);if(!h)return;const{word:g,startColumn:t}=h,i=C.column-t;let n=i,o=i,l=0;for(;n>=0;n--){const c=g.charCodeAt(n);if(n!==i&&(c===95||c===45))break;if((0,w.isLowerAsciiLetter)(c)&&(0,w.isUpperAsciiLetter)(l))break;l=c}for(n+=1;o<g.length;o++){const c=g.charCodeAt(o);if((0,w.isUpperAsciiLetter)(c)&&(0,w.isLowerAsciiLetter)(l))break;if(c===95||c===45)break;l=c}n<o&&L.push({range:new m.Range(C.lineNumber,t+n,C.lineNumber,t+o)})}_addWordRanges(L,b,C){const h=b.getWordAtPosition(C);h&&L.push({range:new m.Range(C.lineNumber,h.startColumn,C.lineNumber,h.endColumn)})}_addWhitespaceLine(L,b,C){b.getLineLength(C.lineNumber)>0&&b.getLineFirstNonWhitespaceColumn(C.lineNumber)===0&&b.getLineLastNonWhitespaceColumn(C.lineNumber)===0&&L.push({range:new m.Range(C.lineNumber,1,C.lineNumber,b.getLineMaxColumn(C.lineNumber))})}}e.WordSelectionRangeProvider=k}),define(se[93],re([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SnippetParser=e.TextmateSnippet=e.Variable=e.FormatString=e.Transform=e.Choice=e.Placeholder=e.TransformableMarker=e.Text=e.Marker=e.Scanner=void 0;class w{constructor(){this.value="",this.pos=0}static isDigitCharacter(l){return l>=48&&l<=57}static isVariableCharacter(l){return l===95||l>=97&&l<=122||l>=65&&l<=90}text(l){this.value=l,this.pos=0}tokenText(l){return this.value.substr(l.pos,l.len)}next(){if(this.pos>=this.value.length)return{type:14,pos:this.pos,len:0};const l=this.pos;let c=0,d=this.value.charCodeAt(l),r;if(r=w._table[d],typeof r=="number")return this.pos+=1,{type:r,pos:l,len:1};if(w.isDigitCharacter(d)){r=8;do c+=1,d=this.value.charCodeAt(l+c);while(w.isDigitCharacter(d));return this.pos+=c,{type:r,pos:l,len:c}}if(w.isVariableCharacter(d)){r=9;do d=this.value.charCodeAt(l+ ++c);while(w.isVariableCharacter(d)||w.isDigitCharacter(d));return this.pos+=c,{type:r,pos:l,len:c}}r=10;do c+=1,d=this.value.charCodeAt(l+c);while(!isNaN(d)&&typeof w._table[d]>"u"&&!w.isDigitCharacter(d)&&!w.isVariableCharacter(d));return this.pos+=c,{type:r,pos:l,len:c}}}e.Scanner=w,w._table={[36]:0,[58]:1,[44]:2,[123]:3,[125]:4,[92]:5,[47]:6,[124]:7,[43]:11,[45]:12,[63]:13};class m{constructor(){this._children=[]}appendChild(l){return l instanceof k&&this._children[this._children.length-1]instanceof k?this._children[this._children.length-1].value+=l.value:(l.parent=this,this._children.push(l)),this}replace(l,c){const{parent:d}=l,r=d.children.indexOf(l),s=d.children.slice(0);s.splice(r,1,...c),d._children=s,function a(u,p){for(const S of u)S.parent=p,a(S.children,S)}(c,d)}get children(){return this._children}get snippet(){let l=this;for(;;){if(!l)return;if(l instanceof i)return l;l=l.parent}}toString(){return this.children.reduce((l,c)=>l+c.toString(),"")}len(){return 0}}e.Marker=m;class k extends m{constructor(l){super(),this.value=l}toString(){return this.value}len(){return this.value.length}clone(){return new k(this.value)}}e.Text=k;class D extends m{}e.TransformableMarker=D;class L extends D{static compareByIndex(l,c){return l.index===c.index?0:l.isFinalTabstop?1:c.isFinalTabstop||l.index<c.index?-1:l.index>c.index?1:0}constructor(l){super(),this.index=l}get isFinalTabstop(){return this.index===0}get choice(){return this._children.length===1&&this._children[0]instanceof b?this._children[0]:void 0}clone(){const l=new L(this.index);return this.transform&&(l.transform=this.transform.clone()),l._children=this.children.map(c=>c.clone()),l}}e.Placeholder=L;class b extends m{constructor(){super(...arguments),this.options=[]}appendChild(l){return l instanceof k&&(l.parent=this,this.options.push(l)),this}toString(){return this.options[0].value}len(){return this.options[0].len()}clone(){const l=new b;return this.options.forEach(l.appendChild,l),l}}e.Choice=b;class C extends m{constructor(){super(...arguments),this.regexp=new RegExp("")}resolve(l){const c=this;let d=!1,r=l.replace(this.regexp,function(){return d=!0,c._replace(Array.prototype.slice.call(arguments,0,-2))});return!d&&this._children.some(s=>s instanceof h&&Boolean(s.elseValue))&&(r=this._replace([])),r}_replace(l){let c="";for(const d of this._children)if(d instanceof h){let r=l[d.index]||"";r=d.resolve(r),c+=r}else c+=d.toString();return c}toString(){return""}clone(){const l=new C;return l.regexp=new RegExp(this.regexp.source,(this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":"")),l._children=this.children.map(c=>c.clone()),l}}e.Transform=C;class h extends m{constructor(l,c,d,r){super(),this.index=l,this.shorthandName=c,this.ifValue=d,this.elseValue=r}resolve(l){return this.shorthandName==="upcase"?l?l.toLocaleUpperCase():"":this.shorthandName==="downcase"?l?l.toLocaleLowerCase():"":this.shorthandName==="capitalize"?l?l[0].toLocaleUpperCase()+l.substr(1):"":this.shorthandName==="pascalcase"?l?this._toPascalCase(l):"":this.shorthandName==="camelcase"?l?this._toCamelCase(l):"":Boolean(l)&&typeof this.ifValue=="string"?this.ifValue:!Boolean(l)&&typeof this.elseValue=="string"?this.elseValue:l||""}_toPascalCase(l){const c=l.match(/[a-z0-9]+/gi);return c?c.map(d=>d.charAt(0).toUpperCase()+d.substr(1)).join(""):l}_toCamelCase(l){const c=l.match(/[a-z0-9]+/gi);return c?c.map((d,r)=>r===0?d.charAt(0).toLowerCase()+d.substr(1):d.charAt(0).toUpperCase()+d.substr(1)).join(""):l}clone(){return new h(this.index,this.shorthandName,this.ifValue,this.elseValue)}}e.FormatString=h;class g extends D{constructor(l){super(),this.name=l}resolve(l){let c=l.resolve(this);return this.transform&&(c=this.transform.resolve(c||"")),c!==void 0?(this._children=[new k(c)],!0):!1}clone(){const l=new g(this.name);return this.transform&&(l.transform=this.transform.clone()),l._children=this.children.map(c=>c.clone()),l}}e.Variable=g;function t(o,l){const c=[...o];for(;c.length>0;){const d=c.shift();if(!l(d))break;c.unshift(...d.children)}}class i extends m{get placeholderInfo(){if(!this._placeholders){const l=[];let c;this.walk(function(d){return d instanceof L&&(l.push(d),c=!c||c.index<d.index?d:c),!0}),this._placeholders={all:l,last:c}}return this._placeholders}get placeholders(){const{all:l}=this.placeholderInfo;return l}offset(l){let c=0,d=!1;return this.walk(r=>r===l?(d=!0,!1):(c+=r.len(),!0)),d?c:-1}fullLen(l){let c=0;return t([l],d=>(c+=d.len(),!0)),c}enclosingPlaceholders(l){const c=[];let{parent:d}=l;for(;d;)d instanceof L&&c.push(d),d=d.parent;return c}resolveVariables(l){return this.walk(c=>(c instanceof g&&c.resolve(l)&&(this._placeholders=void 0),!0)),this}appendChild(l){return this._placeholders=void 0,super.appendChild(l)}replace(l,c){return this._placeholders=void 0,super.replace(l,c)}clone(){const l=new i;return this._children=this.children.map(c=>c.clone()),l}walk(l){t(this.children,l)}}e.TextmateSnippet=i;class n{constructor(){this._scanner=new w,this._token={type:14,pos:0,len:0}}static escape(l){return l.replace(/\$|}|\\/g,"\\$&")}static guessNeedsClipboard(l){return/\${?CLIPBOARD/.test(l)}parse(l,c,d){const r=new i;return this.parseFragment(l,r),this.ensureFinalTabstop(r,d??!1,c??!1),r}parseFragment(l,c){const d=c.children.length;for(this._scanner.text(l),this._token=this._scanner.next();this._parse(c););const r=new Map,s=[];c.walk(a=>(a instanceof L&&(a.isFinalTabstop?r.set(0,void 0):!r.has(a.index)&&a.children.length>0?r.set(a.index,a.children):s.push(a)),!0));for(const a of s){const u=r.get(a.index);if(u){const p=new L(a.index);p.transform=a.transform;for(const S of u)p.appendChild(S.clone());c.replace(a,[p])}}return c.children.slice(d)}ensureFinalTabstop(l,c,d){(c||d&&l.placeholders.length>0)&&(l.placeholders.find(s=>s.index===0)||l.appendChild(new L(0)))}_accept(l,c){if(l===void 0||this._token.type===l){const d=c?this._scanner.tokenText(this._token):!0;return this._token=this._scanner.next(),d}return!1}_backTo(l){return this._scanner.pos=l.pos+l.len,this._token=l,!1}_until(l){const c=this._token;for(;this._token.type!==l;){if(this._token.type===14)return!1;if(this._token.type===5){const r=this._scanner.next();if(r.type!==0&&r.type!==4&&r.type!==5)return!1}this._token=this._scanner.next()}const d=this._scanner.value.substring(c.pos,this._token.pos).replace(/\\(\$|}|\\)/g,"$1");return this._token=this._scanner.next(),d}_parse(l){return this._parseEscaped(l)||this._parseTabstopOrVariableName(l)||this._parseComplexPlaceholder(l)||this._parseComplexVariable(l)||this._parseAnything(l)}_parseEscaped(l){let c;return(c=this._accept(5,!0))?(c=this._accept(0,!0)||this._accept(4,!0)||this._accept(5,!0)||c,l.appendChild(new k(c)),!0):!1}_parseTabstopOrVariableName(l){let c;const d=this._token;return this._accept(0)&&(c=this._accept(9,!0)||this._accept(8,!0))?(l.appendChild(/^\d+$/.test(c)?new L(Number(c)):new g(c)),!0):this._backTo(d)}_parseComplexPlaceholder(l){let c;const d=this._token;if(!(this._accept(0)&&this._accept(3)&&(c=this._accept(8,!0))))return this._backTo(d);const s=new L(Number(c));if(this._accept(1))for(;;){if(this._accept(4))return l.appendChild(s),!0;if(!this._parse(s))return l.appendChild(new k("${"+c+":")),s.children.forEach(l.appendChild,l),!0}else if(s.index>0&&this._accept(7)){const a=new b;for(;;){if(this._parseChoiceElement(a)){if(this._accept(2))continue;if(this._accept(7)&&(s.appendChild(a),this._accept(4)))return l.appendChild(s),!0}return this._backTo(d),!1}}else return this._accept(6)?this._parseTransform(s)?(l.appendChild(s),!0):(this._backTo(d),!1):this._accept(4)?(l.appendChild(s),!0):this._backTo(d)}_parseChoiceElement(l){const c=this._token,d=[];for(;!(this._token.type===2||this._token.type===7);){let r;if((r=this._accept(5,!0))?r=this._accept(2,!0)||this._accept(7,!0)||this._accept(5,!0)||r:r=this._accept(void 0,!0),!r)return this._backTo(c),!1;d.push(r)}return d.length===0?(this._backTo(c),!1):(l.appendChild(new k(d.join(""))),!0)}_parseComplexVariable(l){let c;const d=this._token;if(!(this._accept(0)&&this._accept(3)&&(c=this._accept(9,!0))))return this._backTo(d);const s=new g(c);if(this._accept(1))for(;;){if(this._accept(4))return l.appendChild(s),!0;if(!this._parse(s))return l.appendChild(new k("${"+c+":")),s.children.forEach(l.appendChild,l),!0}else return this._accept(6)?this._parseTransform(s)?(l.appendChild(s),!0):(this._backTo(d),!1):this._accept(4)?(l.appendChild(s),!0):this._backTo(d)}_parseTransform(l){const c=new C;let d="",r="";for(;!this._accept(6);){let s;if(s=this._accept(5,!0)){s=this._accept(6,!0)||s,d+=s;continue}if(this._token.type!==14){d+=this._accept(void 0,!0);continue}return!1}for(;!this._accept(6);){let s;if(s=this._accept(5,!0)){s=this._accept(5,!0)||this._accept(6,!0)||s,c.appendChild(new k(s));continue}if(!(this._parseFormatString(c)||this._parseAnything(c)))return!1}for(;!this._accept(4);){if(this._token.type!==14){r+=this._accept(void 0,!0);continue}return!1}try{c.regexp=new RegExp(d,r)}catch{return!1}return l.transform=c,!0}_parseFormatString(l){const c=this._token;if(!this._accept(0))return!1;let d=!1;this._accept(3)&&(d=!0);const r=this._accept(8,!0);if(r)if(d){if(this._accept(4))return l.appendChild(new h(Number(r))),!0;if(!this._accept(1))return this._backTo(c),!1}else return l.appendChild(new h(Number(r))),!0;else return this._backTo(c),!1;if(this._accept(6)){const s=this._accept(9,!0);return!s||!this._accept(4)?(this._backTo(c),!1):(l.appendChild(new h(Number(r),s)),!0)}else if(this._accept(11)){const s=this._until(4);if(s)return l.appendChild(new h(Number(r),void 0,s,void 0)),!0}else if(this._accept(12)){const s=this._until(4);if(s)return l.appendChild(new h(Number(r),void 0,void 0,s)),!0}else if(this._accept(13)){const s=this._until(1);if(s){const a=this._until(4);if(a)return l.appendChild(new h(Number(r),void 0,s,a)),!0}}else{const s=this._until(4);if(s)return l.appendChild(new h(Number(r),void 0,void 0,s)),!0}return this._backTo(c),!1}_parseAnything(l){return this._token.type!==14?(l.appendChild(new k(this._scanner.tokenText(this._token))),this._accept(void 0),!0):!1}}e.SnippetParser=n}),define(se[255],re([1,0,18,62,8]),function(q,e,w,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompletionModel=e.LineContext=void 0;class D{constructor(C,h){this.leadingLineContent=C,this.characterCountDelta=h}}e.LineContext=D;class L{constructor(C,h,g,t,i,n,o=m.FuzzyScoreOptions.default,l=void 0){this.clipboardText=l,this._snippetCompareFn=L._compareCompletionItems,this._items=C,this._column=h,this._wordDistance=t,this._options=i,this._refilterKind=1,this._lineContext=g,this._fuzzyScoreOptions=o,n==="top"?this._snippetCompareFn=L._compareCompletionItemsSnippetsUp:n==="bottom"&&(this._snippetCompareFn=L._compareCompletionItemsSnippetsDown)}get lineContext(){return this._lineContext}set lineContext(C){(this._lineContext.leadingLineContent!==C.leadingLineContent||this._lineContext.characterCountDelta!==C.characterCountDelta)&&(this._refilterKind=this._lineContext.characterCountDelta<C.characterCountDelta&&this._filteredItems?2:1,this._lineContext=C)}get items(){return this._ensureCachedState(),this._filteredItems}get allProvider(){return this._ensureCachedState(),this._providerInfo.keys()}get incomplete(){this._ensureCachedState();const C=new Set;for(const[h,g]of this._providerInfo)g&&C.add(h);return C}adopt(C){const h=[];for(let g=0;g<this._items.length;)C.has(this._items[g].provider)?g++:(h.push(this._items[g]),this._items[g]=this._items[this._items.length-1],this._items.pop());return this._refilterKind=1,h}get stats(){return this._ensureCachedState(),this._stats}_ensureCachedState(){this._refilterKind!==0&&this._createCachedState()}_createCachedState(){this._providerInfo=new Map;const C=[],{leadingLineContent:h,characterCountDelta:g}=this._lineContext;let t="",i="";const n=this._refilterKind===1?this._items:this._filteredItems,o=[],l=!this._options.filterGraceful||n.length>2e3?m.fuzzyScore:m.fuzzyScoreGracefulAggressive;for(let c=0;c<n.length;c++){const d=n[c];if(d.isInvalid)continue;this._providerInfo.set(d.provider,Boolean(d.container.incomplete));const r=d.position.column-d.editStart.column,s=r+g-(d.position.column-this._column);if(t.length!==s&&(t=s===0?"":h.slice(-s),i=t.toLowerCase()),d.word=t,s===0)d.score=m.FuzzyScore.Default;else{let a=0;for(;a<r;){const u=t.charCodeAt(a);if(u===32||u===9)a+=1;else break}if(a>=s)d.score=m.FuzzyScore.Default;else if(typeof d.completion.filterText=="string"){const u=l(t,i,a,d.completion.filterText,d.filterTextLow,0,this._fuzzyScoreOptions);if(!u)continue;(0,k.compareIgnoreCase)(d.completion.filterText,d.textLabel)===0?d.score=u:(d.score=(0,m.anyScore)(t,i,a,d.textLabel,d.labelLow,0),d.score[0]=u[0])}else{const u=l(t,i,a,d.textLabel,d.labelLow,0,this._fuzzyScoreOptions);if(!u)continue;d.score=u}}d.idx=c,d.distance=this._wordDistance.distance(d.position,d.completion),o.push(d),C.push(d.textLabel.length)}this._filteredItems=o.sort(this._snippetCompareFn),this._refilterKind=0,this._stats={pLabelLen:C.length?(0,w.quickSelect)(C.length-.85,C,(c,d)=>c-d):0}}static _compareCompletionItems(C,h){return C.score[0]>h.score[0]?-1:C.score[0]<h.score[0]?1:C.distance<h.distance?-1:C.distance>h.distance?1:C.idx<h.idx?-1:C.idx>h.idx?1:0}static _compareCompletionItemsSnippetsDown(C,h){if(C.completion.kind!==h.completion.kind){if(C.completion.kind===27)return 1;if(h.completion.kind===27)return-1}return L._compareCompletionItems(C,h)}static _compareCompletionItemsSnippetsUp(C,h){if(C.completion.kind!==h.completion.kind){if(C.completion.kind===27)return-1;if(h.completion.kind===27)return 1}return L._compareCompletionItems(C,h)}}e.CompletionModel=L}),define(se[474],re([1,0,18,2,109]),function(q,e,w,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CommitCharacterController=void 0;class D{constructor(b,C,h,g){this._disposables=new m.DisposableStore,this._disposables.add(h.onDidSuggest(t=>{t.completionModel.items.length===0&&this.reset()})),this._disposables.add(h.onDidCancel(t=>{this.reset()})),this._disposables.add(C.onDidShow(()=>this._onItem(C.getFocusedItem()))),this._disposables.add(C.onDidFocus(this._onItem,this)),this._disposables.add(C.onDidHide(this.reset,this)),this._disposables.add(b.onWillType(t=>{if(this._active&&!C.isFrozen()&&h.state!==0){const i=t.charCodeAt(t.length-1);this._active.acceptCharacters.has(i)&&b.getOption(0)&&g(this._active.item)}}))}_onItem(b){if(!b||!(0,w.isNonEmptyArray)(b.item.completion.commitCharacters)){this.reset();return}if(this._active&&this._active.item.item===b.item)return;const C=new k.CharacterSet;for(const h of b.item.completion.commitCharacters)h.length>0&&C.add(h.charCodeAt(0));this._active={acceptCharacters:C,item:b}}reset(){this._active=void 0}dispose(){this._disposables.dispose()}}e.CommitCharacterController=D}),define(se[475],re([1,0,2]),function(q,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OvertypingCapturer=void 0;class m{constructor(D,L){this._disposables=new w.DisposableStore,this._lastOvertyped=[],this._empty=!0,this._disposables.add(D.onWillType(()=>{if(!this._empty||!D.hasModel())return;const b=D.getSelections(),C=b.length;let h=!1;for(let t=0;t<C;t++)if(!b[t].isEmpty()){h=!0;break}if(!h)return;this._lastOvertyped=[];const g=D.getModel();for(let t=0;t<C;t++){const i=b[t];if(g.getValueLengthInRange(i)>m._maxSelectionLength)return;this._lastOvertyped[t]={value:g.getValueInRange(i),multiline:i.startLineNumber!==i.endLineNumber}}this._empty=!1})),this._disposables.add(L.onDidCancel(b=>{!this._empty&&!b.retrigger&&(this._empty=!0)}))}getLastOvertypedInfo(D){if(!this._empty&&D>=0&&D<this._lastOvertyped.length)return this._lastOvertyped[D]}dispose(){this._disposables.dispose()}}e.OvertypingCapturer=m,m._maxSelectionLength=51200}),define(se[256],re([1,0,18,3,254]),function(q,e,w,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordDistance=void 0;class D{static create(b,C){return Se(this,void 0,void 0,function*(){if(!C.getOption(108).localityBonus||!C.hasModel())return D.None;const h=C.getModel(),g=C.getPosition();if(!b.canComputeWordRanges(h.uri))return D.None;const[t]=yield new k.BracketSelectionRangeProvider().provideSelectionRanges(h,[g]);if(t.length===0)return D.None;const i=yield b.computeWordRanges(h.uri,t[0].range);if(!i)return D.None;const n=h.getWordUntilPosition(g);return delete i[n.word],new class extends D{distance(o,l){if(!g.equals(C.getPosition()))return 0;if(l.kind===17)return 2<<20;const c=typeof l.label=="string"?l.label:l.label.label,d=i[c];if((0,w.isFalsyOrEmpty)(d))return 2<<20;const r=(0,w.binarySearch)(d,m.Range.fromPositions(o),m.Range.compareRangesUsingStarts),s=r>=0?d[r]:d[Math.max(0,~r-1)];let a=t.length;for(const u of t){if(!m.Range.containsRange(u.range,s))break;a-=1}return a}}})}}e.WordDistance=D,D.None=new class extends D{distance(){return 0}}}),define(se[257],re([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.stateExists=e.findRules=e.substituteMatches=e.createError=e.log=e.sanitize=e.fixCase=e.empty=e.isIAction=e.isString=e.isFuzzyAction=e.isFuzzyActionArr=void 0;function w(o){return Array.isArray(o)}e.isFuzzyActionArr=w;function m(o){return!w(o)}e.isFuzzyAction=m;function k(o){return typeof o=="string"}e.isString=k;function D(o){return!k(o)}e.isIAction=D;function L(o){return!o}e.empty=L;function b(o,l){return o.ignoreCase&&l?l.toLowerCase():l}e.fixCase=b;function C(o){return o.replace(/[&<>'"_]/g,"-")}e.sanitize=C;function h(o,l){console.log(`${o.languageId}: ${l}`)}e.log=h;function g(o,l){return new Error(`${o.languageId}: ${l}`)}e.createError=g;function t(o,l,c,d,r){const s=/\$((\$)|(#)|(\d\d?)|[sS](\d\d?)|@(\w+))/g;let a=null;return l.replace(s,function(u,p,S,f,v,_,y,E,T){return L(S)?L(f)?!L(v)&&v<d.length?b(o,d[v]):!L(y)&&o&&typeof o[y]=="string"?o[y]:(a===null&&(a=r.split("."),a.unshift(r)),!L(_)&&_<a.length?b(o,a[_]):""):b(o,c):"$"})}e.substituteMatches=t;function i(o,l){let c=l;for(;c&&c.length>0;){const d=o.tokenizer[c];if(d)return d;const r=c.lastIndexOf(".");r<0?c=null:c=c.substr(0,r)}return null}e.findRules=i;function n(o,l){let c=l;for(;c&&c.length>0;){if(o.stateNames[c])return!0;const r=c.lastIndexOf(".");r<0?c=null:c=c.substr(0,r)}return!1}e.stateExists=n}),define(se[476],re([1,0,257]),function(q,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compile=void 0;function m(o,l){if(!l||!Array.isArray(l))return!1;for(const c of l)if(!o(c))return!1;return!0}function k(o,l){return typeof o=="boolean"?o:l}function D(o,l){return typeof o=="string"?o:l}function L(o){const l={};for(const c of o)l[c]=!0;return l}function b(o,l=!1){l&&(o=o.map(function(d){return d.toLowerCase()}));const c=L(o);return l?function(d){return c[d.toLowerCase()]!==void 0&&c.hasOwnProperty(d.toLowerCase())}:function(d){return c[d]!==void 0&&c.hasOwnProperty(d)}}function C(o,l){l=l.replace(/@@/g,"");let c=0,d;do d=!1,l=l.replace(/@(\w+)/g,function(s,a){d=!0;let u="";if(typeof o[a]=="string")u=o[a];else if(o[a]&&o[a]instanceof RegExp)u=o[a].source;else throw o[a]===void 0?w.createError(o,"language definition does not contain attribute '"+a+"', used at: "+l):w.createError(o,"attribute reference '"+a+"' must be a string, used at: "+l);return w.empty(u)?"":"(?:"+u+")"}),c++;while(d&&c<5);l=l.replace(/\x01/g,"@");const r=(o.ignoreCase?"i":"")+(o.unicode?"u":"");return new RegExp(l,r)}function h(o,l,c,d){if(d<0)return o;if(d<l.length)return l[d];if(d>=100){d=d-100;const r=c.split(".");if(r.unshift(c),d<r.length)return r[d]}return null}function g(o,l,c,d){let r=-1,s=c,a=c.match(/^\$(([sS]?)(\d\d?)|#)(.*)$/);a&&(a[3]&&(r=parseInt(a[3]),a[2]&&(r=r+100)),s=a[4]);let u="~",p=s;!s||s.length===0?(u="!=",p=""):/^\w*$/.test(p)?u="==":(a=s.match(/^(@|!@|~|!~|==|!=)(.*)$/),a&&(u=a[1],p=a[2]));let S;if((u==="~"||u==="!~")&&/^(\w|\|)*$/.test(p)){const f=b(p.split("|"),o.ignoreCase);S=function(v){return u==="~"?f(v):!f(v)}}else if(u==="@"||u==="!@"){const f=o[p];if(!f)throw w.createError(o,"the @ match target '"+p+"' is not defined, in rule: "+l);if(!m(function(_){return typeof _=="string"},f))throw w.createError(o,"the @ match target '"+p+"' must be an array of strings, in rule: "+l);const v=b(f,o.ignoreCase);S=function(_){return u==="@"?v(_):!v(_)}}else if(u==="~"||u==="!~")if(p.indexOf("$")<0){const f=C(o,"^"+p+"$");S=function(v){return u==="~"?f.test(v):!f.test(v)}}else S=function(f,v,_,y){return C(o,"^"+w.substituteMatches(o,p,v,_,y)+"$").test(f)};else if(p.indexOf("$")<0){const f=w.fixCase(o,p);S=function(v){return u==="=="?v===f:v!==f}}else{const f=w.fixCase(o,p);S=function(v,_,y,E,T){const I=w.substituteMatches(o,f,_,y,E);return u==="=="?v===I:v!==I}}return r===-1?{name:c,value:d,test:function(f,v,_,y){return S(f,f,v,_,y)}}:{name:c,value:d,test:function(f,v,_,y){const E=h(f,v,_,r);return S(E||"",f,v,_,y)}}}function t(o,l,c){if(c){if(typeof c=="string")return c;if(c.token||c.token===""){if(typeof c.token!="string")throw w.createError(o,"a 'token' attribute must be of type string, in rule: "+l);{const d={token:c.token};if(c.token.indexOf("$")>=0&&(d.tokenSubst=!0),typeof c.bracket=="string")if(c.bracket==="@open")d.bracket=1;else if(c.bracket==="@close")d.bracket=-1;else throw w.createError(o,"a 'bracket' attribute must be either '@open' or '@close', in rule: "+l);if(c.next){if(typeof c.next!="string")throw w.createError(o,"the next state must be a string value in rule: "+l);{let r=c.next;if(!/^(@pop|@push|@popall)$/.test(r)&&(r[0]==="@"&&(r=r.substr(1)),r.indexOf("$")<0&&!w.stateExists(o,w.substituteMatches(o,r,"",[],""))))throw w.createError(o,"the next state '"+c.next+"' is not defined in rule: "+l);d.next=r}}return typeof c.goBack=="number"&&(d.goBack=c.goBack),typeof c.switchTo=="string"&&(d.switchTo=c.switchTo),typeof c.log=="string"&&(d.log=c.log),typeof c.nextEmbedded=="string"&&(d.nextEmbedded=c.nextEmbedded,o.usesEmbedded=!0),d}}else if(Array.isArray(c)){const d=[];for(let r=0,s=c.length;r<s;r++)d[r]=t(o,l,c[r]);return{group:d}}else if(c.cases){const d=[];for(const s in c.cases)if(c.cases.hasOwnProperty(s)){const a=t(o,l,c.cases[s]);s==="@default"||s==="@"||s===""?d.push({test:void 0,value:a,name:s}):s==="@eos"?d.push({test:function(u,p,S,f){return f},value:a,name:s}):d.push(g(o,l,s,a))}const r=o.defaultToken;return{test:function(s,a,u,p){for(const S of d)if(!S.test||S.test(s,a,u,p))return S.value;return r}}}else throw w.createError(o,"an action must be a string, an object with a 'token' or 'cases' attribute, or an array of actions; in rule: "+l)}else return{token:""}}class i{constructor(l){this.regex=new RegExp(""),this.action={token:""},this.matchOnlyAtLineStart=!1,this.name="",this.name=l}setRegex(l,c){let d;if(typeof c=="string")d=c;else if(c instanceof RegExp)d=c.source;else throw w.createError(l,"rules must start with a match string or regular expression: "+this.name);this.matchOnlyAtLineStart=d.length>0&&d[0]==="^",this.name=this.name+": "+d,this.regex=C(l,"^(?:"+(this.matchOnlyAtLineStart?d.substr(1):d)+")")}setAction(l,c){this.action=t(l,this.name,c)}}function n(o,l){if(!l||typeof l!="object")throw new Error("Monarch: expecting a language definition object");const c={};c.languageId=o,c.includeLF=k(l.includeLF,!1),c.noThrow=!1,c.maxStack=100,c.start=typeof l.start=="string"?l.start:null,c.ignoreCase=k(l.ignoreCase,!1),c.unicode=k(l.unicode,!1),c.tokenPostfix=D(l.tokenPostfix,"."+c.languageId),c.defaultToken=D(l.defaultToken,"source"),c.usesEmbedded=!1;const d=l;d.languageId=o,d.includeLF=c.includeLF,d.ignoreCase=c.ignoreCase,d.unicode=c.unicode,d.noThrow=c.noThrow,d.usesEmbedded=c.usesEmbedded,d.stateNames=l.tokenizer,d.defaultToken=c.defaultToken;function r(a,u,p){for(const S of p){let f=S.include;if(f){if(typeof f!="string")throw w.createError(c,"an 'include' attribute must be a string at: "+a);if(f[0]==="@"&&(f=f.substr(1)),!l.tokenizer[f])throw w.createError(c,"include target '"+f+"' is not defined at: "+a);r(a+"."+f,u,l.tokenizer[f])}else{const v=new i(a);if(Array.isArray(S)&&S.length>=1&&S.length<=3)if(v.setRegex(d,S[0]),S.length>=3)if(typeof S[1]=="string")v.setAction(d,{token:S[1],next:S[2]});else if(typeof S[1]=="object"){const _=S[1];_.next=S[2],v.setAction(d,_)}else throw w.createError(c,"a next state as the last element of a rule can only be given if the action is either an object or a string, at: "+a);else v.setAction(d,S[1]);else{if(!S.regex)throw w.createError(c,"a rule must either be an array, or an object with a 'regex' or 'include' field at: "+a);S.name&&typeof S.name=="string"&&(v.name=S.name),S.matchOnlyAtStart&&(v.matchOnlyAtLineStart=k(S.matchOnlyAtLineStart,!1)),v.setRegex(d,S.regex),v.setAction(d,S.action)}u.push(v)}}}if(!l.tokenizer||typeof l.tokenizer!="object")throw w.createError(c,"a language definition must define the 'tokenizer' attribute as an object");c.tokenizer=[];for(const a in l.tokenizer)if(l.tokenizer.hasOwnProperty(a)){c.start||(c.start=a);const u=l.tokenizer[a];c.tokenizer[a]=new Array,r("tokenizer."+a,c.tokenizer[a],u)}if(c.usesEmbedded=d.usesEmbedded,l.brackets){if(!Array.isArray(l.brackets))throw w.createError(c,"the 'brackets' attribute must be defined as an array")}else l.brackets=[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}];const s=[];for(const a of l.brackets){let u=a;if(u&&Array.isArray(u)&&u.length===3&&(u={token:u[2],open:u[0],close:u[1]}),u.open===u.close)throw w.createError(c,"open and close brackets in a 'brackets' attribute must be different: "+u.open+`
 hint: use the 'bracket' attribute if matching on equal brackets is required.`);if(typeof u.open=="string"&&typeof u.token=="string"&&typeof u.close=="string")s.push({token:u.token+c.tokenPostfix,open:w.fixCase(c,u.open),close:w.fixCase(c,u.close)});else throw w.createError(c,"every element in the 'brackets' array must be a '{open,close,token}' object or array")}return c.brackets=s,c.noThrow=!0,c}e.compile=n}),define(se[477],re([4,5]),function(q,e){return q.create("vs/base/browser/ui/actionbar/actionViewItems",e)}),define(se[478],re([4,5]),function(q,e){return q.create("vs/base/browser/ui/findinput/findInput",e)}),define(se[479],re([4,5]),function(q,e){return q.create("vs/base/browser/ui/findinput/findInputToggles",e)}),define(se[480],re([4,5]),function(q,e){return q.create("vs/base/browser/ui/findinput/replaceInput",e)}),define(se[481],re([4,5]),function(q,e){return q.create("vs/base/browser/ui/iconLabel/iconLabelHover",e)}),define(se[482],re([4,5]),function(q,e){return q.create("vs/base/browser/ui/inputbox/inputBox",e)}),define(se[483],re([4,5]),function(q,e){return q.create("vs/base/browser/ui/keybindingLabel/keybindingLabel",e)}),define(se[484],re([4,5]),function(q,e){return q.create("vs/base/browser/ui/selectBox/selectBoxCustom",e)}),define(se[485],re([4,5]),function(q,e){return q.create("vs/base/browser/ui/tree/abstractTree",e)}),define(se[486],re([4,5]),function(q,e){return q.create("vs/base/common/actions",e)}),define(se[487],re([4,5]),function(q,e){return q.create("vs/base/common/errorMessage",e)}),define(se[488],re([1,0,18,19,487]),function(q,e,w,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toErrorMessage=void 0;function D(h,g){return g&&(h.stack||h.stacktrace)?k.localize(0,null,b(h),L(h.stack)||L(h.stacktrace)):b(h)}function L(h){return Array.isArray(h)?h.join(`
`):h}function b(h){return typeof h.code=="string"&&typeof h.errno=="number"&&typeof h.syscall=="string"?k.localize(1,null,h.message):h.message||k.localize(2,null)}function C(h=null,g=!1){if(!h)return k.localize(3,null);if(Array.isArray(h)){const t=w.coalesce(h),i=C(t[0],g);return t.length>1?k.localize(4,null,i,t.length):i}if(m.isString(h))return h;if(h.detail){const t=h.detail;if(t.error)return D(t.error,g);if(t.exception)return D(t.exception,g)}return h.stack?D(h,g):h.message?h.message:k.localize(5,null)}e.toErrorMessage=C}),define(se[489],re([4,5]),function(q,e){return q.create("vs/base/common/keybindingLabels",e)}),define(se[196],re([1,0,489]),function(q,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UserSettingsLabelProvider=e.ElectronAcceleratorLabelProvider=e.AriaLabelProvider=e.UILabelProvider=e.ModifierLabelProvider=void 0;class m{constructor(L,b,C=b){this.modifierLabels=[null],this.modifierLabels[2]=L,this.modifierLabels[1]=b,this.modifierLabels[3]=C}toLabel(L,b,C){if(b.length===0)return null;const h=[];for(let g=0,t=b.length;g<t;g++){const i=b[g],n=C(i);if(n===null)return null;h[g]=k(i,n,this.modifierLabels[L])}return h.join(" ")}}e.ModifierLabelProvider=m,e.UILabelProvider=new m({ctrlKey:"\u2303",shiftKey:"\u21E7",altKey:"\u2325",metaKey:"\u2318",separator:""},{ctrlKey:w.localize(0,null),shiftKey:w.localize(1,null),altKey:w.localize(2,null),metaKey:w.localize(3,null),separator:"+"},{ctrlKey:w.localize(4,null),shiftKey:w.localize(5,null),altKey:w.localize(6,null),metaKey:w.localize(7,null),separator:"+"}),e.AriaLabelProvider=new m({ctrlKey:w.localize(8,null),shiftKey:w.localize(9,null),altKey:w.localize(10,null),metaKey:w.localize(11,null),separator:"+"},{ctrlKey:w.localize(12,null),shiftKey:w.localize(13,null),altKey:w.localize(14,null),metaKey:w.localize(15,null),separator:"+"},{ctrlKey:w.localize(16,null),shiftKey:w.localize(17,null),altKey:w.localize(18,null),metaKey:w.localize(19,null),separator:"+"}),e.ElectronAcceleratorLabelProvider=new m({ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Cmd",separator:"+"},{ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Super",separator:"+"}),e.UserSettingsLabelProvider=new m({ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"cmd",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"win",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"meta",separator:"+"});function k(D,L,b){if(L===null)return"";const C=[];return D.ctrlKey&&C.push(b.ctrlKey),D.shiftKey&&C.push(b.shiftKey),D.altKey&&C.push(b.altKey),D.metaKey&&C.push(b.metaKey),L!==""&&C.push(L),C.join(b.separator)}}),define(se[490],re([4,5]),function(q,e){return q.create("vs/base/common/platform",e)}),define(se[17],re([1,0,490]),function(q,e,w){"use strict";var m;Object.defineProperty(e,"__esModule",{value:!0}),e.isAndroid=e.isEdge=e.isSafari=e.isFirefox=e.isChrome=e.isLittleEndian=e.OS=e.setTimeout0=e.setTimeout0IsFaster=e.language=e.userAgent=e.isMobile=e.isIOS=e.isWebWorker=e.isWeb=e.isNative=e.isLinux=e.isMacintosh=e.isWindows=e.globals=e.LANGUAGE_DEFAULT=void 0,e.LANGUAGE_DEFAULT="en";let k=!1,D=!1,L=!1,b=!1,C=!1,h=!1,g=!1,t=!1,i=!1,n=!1,o,l=e.LANGUAGE_DEFAULT,c,d;e.globals=typeof self=="object"?self:typeof global=="object"?global:{};let r;typeof e.globals.vscode<"u"&&typeof e.globals.vscode.process<"u"?r=e.globals.vscode.process:typeof process<"u"&&(r=process);const s=typeof((m=r?.versions)===null||m===void 0?void 0:m.electron)=="string",a=s&&r?.type==="renderer";if(typeof navigator=="object"&&!a)d=navigator.userAgent,k=d.indexOf("Windows")>=0,D=d.indexOf("Macintosh")>=0,t=(d.indexOf("Macintosh")>=0||d.indexOf("iPad")>=0||d.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,L=d.indexOf("Linux")>=0,n=d?.indexOf("Mobi")>=0,h=!0,o=w.getConfiguredDefaultLocale(w.localize(0,null))||e.LANGUAGE_DEFAULT,l=o;else if(typeof r=="object"){k=r.platform==="win32",D=r.platform==="darwin",L=r.platform==="linux",b=L&&!!r.env.SNAP&&!!r.env.SNAP_REVISION,g=s,i=!!r.env.CI||!!r.env.BUILD_ARTIFACTSTAGINGDIRECTORY,o=e.LANGUAGE_DEFAULT,l=e.LANGUAGE_DEFAULT;const v=r.env.VSCODE_NLS_CONFIG;if(v)try{const _=JSON.parse(v),y=_.availableLanguages["*"];o=_.locale,l=y||e.LANGUAGE_DEFAULT,c=_._translationsConfigFile}catch{}C=!0}else console.error("Unable to resolve platform.");let u=0;D?u=1:k?u=3:L&&(u=2),e.isWindows=k,e.isMacintosh=D,e.isLinux=L,e.isNative=C,e.isWeb=h,e.isWebWorker=h&&typeof e.globals.importScripts=="function",e.isIOS=t,e.isMobile=n,e.userAgent=d,e.language=l,e.setTimeout0IsFaster=typeof e.globals.postMessage=="function"&&!e.globals.importScripts,e.setTimeout0=(()=>{if(e.setTimeout0IsFaster){const v=[];e.globals.addEventListener("message",y=>{if(y.data&&y.data.vscodeScheduleAsyncWork)for(let E=0,T=v.length;E<T;E++){const I=v[E];if(I.id===y.data.vscodeScheduleAsyncWork){v.splice(E,1),I.callback();return}}});let _=0;return y=>{const E=++_;v.push({id:E,callback:y}),e.globals.postMessage({vscodeScheduleAsyncWork:E},"*")}}return v=>setTimeout(v)})(),e.OS=D||t?2:k?1:3;let p=!0,S=!1;function f(){if(!S){S=!0;const v=new Uint8Array(2);v[0]=1,v[1]=2,p=new Uint16Array(v.buffer)[0]===(2<<8)+1}return p}e.isLittleEndian=f,e.isChrome=!!(e.userAgent&&e.userAgent.indexOf("Chrome")>=0),e.isFirefox=!!(e.userAgent&&e.userAgent.indexOf("Firefox")>=0),e.isSafari=!!(!e.isChrome&&e.userAgent&&e.userAgent.indexOf("Safari")>=0),e.isEdge=!!(e.userAgent&&e.userAgent.indexOf("Edg/")>=0),e.isAndroid=!!(e.userAgent&&e.userAgent.indexOf("Android")>=0)}),define(se[491],re([1,0,17]),function(q,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.platform=e.env=e.cwd=void 0;let m;if(typeof w.globals.vscode<"u"&&typeof w.globals.vscode.process<"u"){const k=w.globals.vscode.process;m={get platform(){return k.platform},get arch(){return k.arch},get env(){return k.env},cwd(){return k.cwd()}}}else typeof process<"u"?m={get platform(){return process.platform},get arch(){return process.arch},get env(){return process.env},cwd(){return process.env.VSCODE_CWD||process.cwd()}}:m={get platform(){return w.isWindows?"win32":w.isMacintosh?"darwin":"linux"},get arch(){},get env(){return{}},cwd(){return"/"}};e.cwd=m.cwd,e.env=m.env,e.platform=m.platform}),define(se[85],re([1,0,491]),function(q,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sep=e.extname=e.basename=e.dirname=e.relative=e.resolve=e.normalize=e.posix=e.win32=void 0;const m=65,k=97,D=90,L=122,b=46,C=47,h=92,g=58,t=63;class i extends Error{constructor(a,u,p){let S;typeof u=="string"&&u.indexOf("not ")===0?(S="must not be",u=u.replace(/^not /,"")):S="must be";const f=a.indexOf(".")!==-1?"property":"argument";let v=`The "${a}" ${f} ${S} of type ${u}`;v+=`. Received type ${typeof p}`,super(v),this.code="ERR_INVALID_ARG_TYPE"}}function n(s,a){if(typeof s!="string")throw new i(a,"string",s)}function o(s){return s===C||s===h}function l(s){return s===C}function c(s){return s>=m&&s<=D||s>=k&&s<=L}function d(s,a,u,p){let S="",f=0,v=-1,_=0,y=0;for(let E=0;E<=s.length;++E){if(E<s.length)y=s.charCodeAt(E);else{if(p(y))break;y=C}if(p(y)){if(!(v===E-1||_===1))if(_===2){if(S.length<2||f!==2||S.charCodeAt(S.length-1)!==b||S.charCodeAt(S.length-2)!==b){if(S.length>2){const T=S.lastIndexOf(u);T===-1?(S="",f=0):(S=S.slice(0,T),f=S.length-1-S.lastIndexOf(u)),v=E,_=0;continue}else if(S.length!==0){S="",f=0,v=E,_=0;continue}}a&&(S+=S.length>0?`${u}..`:"..",f=2)}else S.length>0?S+=`${u}${s.slice(v+1,E)}`:S=s.slice(v+1,E),f=E-v-1;v=E,_=0}else y===b&&_!==-1?++_:_=-1}return S}function r(s,a){if(a===null||typeof a!="object")throw new i("pathObject","Object",a);const u=a.dir||a.root,p=a.base||`${a.name||""}${a.ext||""}`;return u?u===a.root?`${u}${p}`:`${u}${s}${p}`:p}e.win32={resolve(...s){let a="",u="",p=!1;for(let S=s.length-1;S>=-1;S--){let f;if(S>=0){if(f=s[S],n(f,"path"),f.length===0)continue}else a.length===0?f=w.cwd():(f=w.env[`=${a}`]||w.cwd(),(f===void 0||f.slice(0,2).toLowerCase()!==a.toLowerCase()&&f.charCodeAt(2)===h)&&(f=`${a}\\`));const v=f.length;let _=0,y="",E=!1;const T=f.charCodeAt(0);if(v===1)o(T)&&(_=1,E=!0);else if(o(T))if(E=!0,o(f.charCodeAt(1))){let I=2,R=I;for(;I<v&&!o(f.charCodeAt(I));)I++;if(I<v&&I!==R){const F=f.slice(R,I);for(R=I;I<v&&o(f.charCodeAt(I));)I++;if(I<v&&I!==R){for(R=I;I<v&&!o(f.charCodeAt(I));)I++;(I===v||I!==R)&&(y=`\\\\${F}\\${f.slice(R,I)}`,_=I)}}}else _=1;else c(T)&&f.charCodeAt(1)===g&&(y=f.slice(0,2),_=2,v>2&&o(f.charCodeAt(2))&&(E=!0,_=3));if(y.length>0)if(a.length>0){if(y.toLowerCase()!==a.toLowerCase())continue}else a=y;if(p){if(a.length>0)break}else if(u=`${f.slice(_)}\\${u}`,p=E,E&&a.length>0)break}return u=d(u,!p,"\\",o),p?`${a}\\${u}`:`${a}${u}`||"."},normalize(s){n(s,"path");const a=s.length;if(a===0)return".";let u=0,p,S=!1;const f=s.charCodeAt(0);if(a===1)return l(f)?"\\":s;if(o(f))if(S=!0,o(s.charCodeAt(1))){let _=2,y=_;for(;_<a&&!o(s.charCodeAt(_));)_++;if(_<a&&_!==y){const E=s.slice(y,_);for(y=_;_<a&&o(s.charCodeAt(_));)_++;if(_<a&&_!==y){for(y=_;_<a&&!o(s.charCodeAt(_));)_++;if(_===a)return`\\\\${E}\\${s.slice(y)}\\`;_!==y&&(p=`\\\\${E}\\${s.slice(y,_)}`,u=_)}}}else u=1;else c(f)&&s.charCodeAt(1)===g&&(p=s.slice(0,2),u=2,a>2&&o(s.charCodeAt(2))&&(S=!0,u=3));let v=u<a?d(s.slice(u),!S,"\\",o):"";return v.length===0&&!S&&(v="."),v.length>0&&o(s.charCodeAt(a-1))&&(v+="\\"),p===void 0?S?`\\${v}`:v:S?`${p}\\${v}`:`${p}${v}`},isAbsolute(s){n(s,"path");const a=s.length;if(a===0)return!1;const u=s.charCodeAt(0);return o(u)||a>2&&c(u)&&s.charCodeAt(1)===g&&o(s.charCodeAt(2))},join(...s){if(s.length===0)return".";let a,u;for(let f=0;f<s.length;++f){const v=s[f];n(v,"path"),v.length>0&&(a===void 0?a=u=v:a+=`\\${v}`)}if(a===void 0)return".";let p=!0,S=0;if(typeof u=="string"&&o(u.charCodeAt(0))){++S;const f=u.length;f>1&&o(u.charCodeAt(1))&&(++S,f>2&&(o(u.charCodeAt(2))?++S:p=!1))}if(p){for(;S<a.length&&o(a.charCodeAt(S));)S++;S>=2&&(a=`\\${a.slice(S)}`)}return e.win32.normalize(a)},relative(s,a){if(n(s,"from"),n(a,"to"),s===a)return"";const u=e.win32.resolve(s),p=e.win32.resolve(a);if(u===p||(s=u.toLowerCase(),a=p.toLowerCase(),s===a))return"";let S=0;for(;S<s.length&&s.charCodeAt(S)===h;)S++;let f=s.length;for(;f-1>S&&s.charCodeAt(f-1)===h;)f--;const v=f-S;let _=0;for(;_<a.length&&a.charCodeAt(_)===h;)_++;let y=a.length;for(;y-1>_&&a.charCodeAt(y-1)===h;)y--;const E=y-_,T=v<E?v:E;let I=-1,R=0;for(;R<T;R++){const O=s.charCodeAt(S+R);if(O!==a.charCodeAt(_+R))break;O===h&&(I=R)}if(R!==T){if(I===-1)return p}else{if(E>T){if(a.charCodeAt(_+R)===h)return p.slice(_+R+1);if(R===2)return p.slice(_+R)}v>T&&(s.charCodeAt(S+R)===h?I=R:R===2&&(I=3)),I===-1&&(I=0)}let F="";for(R=S+I+1;R<=f;++R)(R===f||s.charCodeAt(R)===h)&&(F+=F.length===0?"..":"\\..");return _+=I,F.length>0?`${F}${p.slice(_,y)}`:(p.charCodeAt(_)===h&&++_,p.slice(_,y))},toNamespacedPath(s){if(typeof s!="string")return s;if(s.length===0)return"";const a=e.win32.resolve(s);if(a.length<=2)return s;if(a.charCodeAt(0)===h){if(a.charCodeAt(1)===h){const u=a.charCodeAt(2);if(u!==t&&u!==b)return`\\\\?\\UNC\\${a.slice(2)}`}}else if(c(a.charCodeAt(0))&&a.charCodeAt(1)===g&&a.charCodeAt(2)===h)return`\\\\?\\${a}`;return s},dirname(s){n(s,"path");const a=s.length;if(a===0)return".";let u=-1,p=0;const S=s.charCodeAt(0);if(a===1)return o(S)?s:".";if(o(S)){if(u=p=1,o(s.charCodeAt(1))){let _=2,y=_;for(;_<a&&!o(s.charCodeAt(_));)_++;if(_<a&&_!==y){for(y=_;_<a&&o(s.charCodeAt(_));)_++;if(_<a&&_!==y){for(y=_;_<a&&!o(s.charCodeAt(_));)_++;if(_===a)return s;_!==y&&(u=p=_+1)}}}}else c(S)&&s.charCodeAt(1)===g&&(u=a>2&&o(s.charCodeAt(2))?3:2,p=u);let f=-1,v=!0;for(let _=a-1;_>=p;--_)if(o(s.charCodeAt(_))){if(!v){f=_;break}}else v=!1;if(f===-1){if(u===-1)return".";f=u}return s.slice(0,f)},basename(s,a){a!==void 0&&n(a,"ext"),n(s,"path");let u=0,p=-1,S=!0,f;if(s.length>=2&&c(s.charCodeAt(0))&&s.charCodeAt(1)===g&&(u=2),a!==void 0&&a.length>0&&a.length<=s.length){if(a===s)return"";let v=a.length-1,_=-1;for(f=s.length-1;f>=u;--f){const y=s.charCodeAt(f);if(o(y)){if(!S){u=f+1;break}}else _===-1&&(S=!1,_=f+1),v>=0&&(y===a.charCodeAt(v)?--v===-1&&(p=f):(v=-1,p=_))}return u===p?p=_:p===-1&&(p=s.length),s.slice(u,p)}for(f=s.length-1;f>=u;--f)if(o(s.charCodeAt(f))){if(!S){u=f+1;break}}else p===-1&&(S=!1,p=f+1);return p===-1?"":s.slice(u,p)},extname(s){n(s,"path");let a=0,u=-1,p=0,S=-1,f=!0,v=0;s.length>=2&&s.charCodeAt(1)===g&&c(s.charCodeAt(0))&&(a=p=2);for(let _=s.length-1;_>=a;--_){const y=s.charCodeAt(_);if(o(y)){if(!f){p=_+1;break}continue}S===-1&&(f=!1,S=_+1),y===b?u===-1?u=_:v!==1&&(v=1):u!==-1&&(v=-1)}return u===-1||S===-1||v===0||v===1&&u===S-1&&u===p+1?"":s.slice(u,S)},format:r.bind(null,"\\"),parse(s){n(s,"path");const a={root:"",dir:"",base:"",ext:"",name:""};if(s.length===0)return a;const u=s.length;let p=0,S=s.charCodeAt(0);if(u===1)return o(S)?(a.root=a.dir=s,a):(a.base=a.name=s,a);if(o(S)){if(p=1,o(s.charCodeAt(1))){let I=2,R=I;for(;I<u&&!o(s.charCodeAt(I));)I++;if(I<u&&I!==R){for(R=I;I<u&&o(s.charCodeAt(I));)I++;if(I<u&&I!==R){for(R=I;I<u&&!o(s.charCodeAt(I));)I++;I===u?p=I:I!==R&&(p=I+1)}}}}else if(c(S)&&s.charCodeAt(1)===g){if(u<=2)return a.root=a.dir=s,a;if(p=2,o(s.charCodeAt(2))){if(u===3)return a.root=a.dir=s,a;p=3}}p>0&&(a.root=s.slice(0,p));let f=-1,v=p,_=-1,y=!0,E=s.length-1,T=0;for(;E>=p;--E){if(S=s.charCodeAt(E),o(S)){if(!y){v=E+1;break}continue}_===-1&&(y=!1,_=E+1),S===b?f===-1?f=E:T!==1&&(T=1):f!==-1&&(T=-1)}return _!==-1&&(f===-1||T===0||T===1&&f===_-1&&f===v+1?a.base=a.name=s.slice(v,_):(a.name=s.slice(v,f),a.base=s.slice(v,_),a.ext=s.slice(f,_))),v>0&&v!==p?a.dir=s.slice(0,v-1):a.dir=a.root,a},sep:"\\",delimiter:";",win32:null,posix:null},e.posix={resolve(...s){let a="",u=!1;for(let p=s.length-1;p>=-1&&!u;p--){const S=p>=0?s[p]:w.cwd();n(S,"path"),S.length!==0&&(a=`${S}/${a}`,u=S.charCodeAt(0)===C)}return a=d(a,!u,"/",l),u?`/${a}`:a.length>0?a:"."},normalize(s){if(n(s,"path"),s.length===0)return".";const a=s.charCodeAt(0)===C,u=s.charCodeAt(s.length-1)===C;return s=d(s,!a,"/",l),s.length===0?a?"/":u?"./":".":(u&&(s+="/"),a?`/${s}`:s)},isAbsolute(s){return n(s,"path"),s.length>0&&s.charCodeAt(0)===C},join(...s){if(s.length===0)return".";let a;for(let u=0;u<s.length;++u){const p=s[u];n(p,"path"),p.length>0&&(a===void 0?a=p:a+=`/${p}`)}return a===void 0?".":e.posix.normalize(a)},relative(s,a){if(n(s,"from"),n(a,"to"),s===a||(s=e.posix.resolve(s),a=e.posix.resolve(a),s===a))return"";const u=1,p=s.length,S=p-u,f=1,v=a.length-f,_=S<v?S:v;let y=-1,E=0;for(;E<_;E++){const I=s.charCodeAt(u+E);if(I!==a.charCodeAt(f+E))break;I===C&&(y=E)}if(E===_)if(v>_){if(a.charCodeAt(f+E)===C)return a.slice(f+E+1);if(E===0)return a.slice(f+E)}else S>_&&(s.charCodeAt(u+E)===C?y=E:E===0&&(y=0));let T="";for(E=u+y+1;E<=p;++E)(E===p||s.charCodeAt(E)===C)&&(T+=T.length===0?"..":"/..");return`${T}${a.slice(f+y)}`},toNamespacedPath(s){return s},dirname(s){if(n(s,"path"),s.length===0)return".";const a=s.charCodeAt(0)===C;let u=-1,p=!0;for(let S=s.length-1;S>=1;--S)if(s.charCodeAt(S)===C){if(!p){u=S;break}}else p=!1;return u===-1?a?"/":".":a&&u===1?"//":s.slice(0,u)},basename(s,a){a!==void 0&&n(a,"ext"),n(s,"path");let u=0,p=-1,S=!0,f;if(a!==void 0&&a.length>0&&a.length<=s.length){if(a===s)return"";let v=a.length-1,_=-1;for(f=s.length-1;f>=0;--f){const y=s.charCodeAt(f);if(y===C){if(!S){u=f+1;break}}else _===-1&&(S=!1,_=f+1),v>=0&&(y===a.charCodeAt(v)?--v===-1&&(p=f):(v=-1,p=_))}return u===p?p=_:p===-1&&(p=s.length),s.slice(u,p)}for(f=s.length-1;f>=0;--f)if(s.charCodeAt(f)===C){if(!S){u=f+1;break}}else p===-1&&(S=!1,p=f+1);return p===-1?"":s.slice(u,p)},extname(s){n(s,"path");let a=-1,u=0,p=-1,S=!0,f=0;for(let v=s.length-1;v>=0;--v){const _=s.charCodeAt(v);if(_===C){if(!S){u=v+1;break}continue}p===-1&&(S=!1,p=v+1),_===b?a===-1?a=v:f!==1&&(f=1):a!==-1&&(f=-1)}return a===-1||p===-1||f===0||f===1&&a===p-1&&a===u+1?"":s.slice(a,p)},format:r.bind(null,"/"),parse(s){n(s,"path");const a={root:"",dir:"",base:"",ext:"",name:""};if(s.length===0)return a;const u=s.charCodeAt(0)===C;let p;u?(a.root="/",p=1):p=0;let S=-1,f=0,v=-1,_=!0,y=s.length-1,E=0;for(;y>=p;--y){const T=s.charCodeAt(y);if(T===C){if(!_){f=y+1;break}continue}v===-1&&(_=!1,v=y+1),T===b?S===-1?S=y:E!==1&&(E=1):S!==-1&&(E=-1)}if(v!==-1){const T=f===0&&u?1:f;S===-1||E===0||E===1&&S===v-1&&S===f+1?a.base=a.name=s.slice(T,v):(a.name=s.slice(T,S),a.base=s.slice(T,v),a.ext=s.slice(S,v))}return f>0?a.dir=s.slice(0,f-1):u&&(a.dir="/"),a},sep:"/",delimiter:":",win32:null,posix:null},e.posix.win32=e.win32.win32=e.win32,e.posix.posix=e.win32.posix=e.posix,e.normalize=w.platform==="win32"?e.win32.normalize:e.posix.normalize,e.resolve=w.platform==="win32"?e.win32.resolve:e.posix.resolve,e.relative=w.platform==="win32"?e.win32.relative:e.posix.relative,e.dirname=w.platform==="win32"?e.win32.dirname:e.posix.dirname,e.basename=w.platform==="win32"?e.win32.basename:e.posix.basename,e.extname=w.platform==="win32"?e.win32.extname:e.posix.extname,e.sep=w.platform==="win32"?e.win32.sep:e.posix.sep}),define(se[197],re([1,0,85,17,8]),function(q,e,w,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hasDriveLetter=e.isWindowsDriveLetter=e.isEqualOrParent=e.getRoot=e.toPosixPath=e.toSlashes=e.isPathSeparator=void 0;function D(i){return i===47||i===92}e.isPathSeparator=D;function L(i){return i.replace(/[\\/]/g,w.posix.sep)}e.toSlashes=L;function b(i){return i.indexOf("/")===-1&&(i=L(i)),/^[a-zA-Z]:(\/|$)/.test(i)&&(i="/"+i),i}e.toPosixPath=b;function C(i,n=w.posix.sep){if(!i)return"";const o=i.length,l=i.charCodeAt(0);if(D(l)){if(D(i.charCodeAt(1))&&!D(i.charCodeAt(2))){let d=3;const r=d;for(;d<o&&!D(i.charCodeAt(d));d++);if(r!==d&&!D(i.charCodeAt(d+1))){for(d+=1;d<o;d++)if(D(i.charCodeAt(d)))return i.slice(0,d+1).replace(/[\\/]/g,n)}}return n}else if(g(l)&&i.charCodeAt(1)===58)return D(i.charCodeAt(2))?i.slice(0,2)+n:i.slice(0,2);let c=i.indexOf("://");if(c!==-1){for(c+=3;c<o;c++)if(D(i.charCodeAt(c)))return i.slice(0,c+1)}return""}e.getRoot=C;function h(i,n,o,l=w.sep){if(i===n)return!0;if(!i||!n||n.length>i.length)return!1;if(o){if(!(0,k.startsWithIgnoreCase)(i,n))return!1;if(n.length===i.length)return!0;let d=n.length;return n.charAt(n.length-1)===l&&d--,i.charAt(d)===l}return n.charAt(n.length-1)!==l&&(n+=l),i.indexOf(n)===0}e.isEqualOrParent=h;function g(i){return i>=65&&i<=90||i>=97&&i<=122}e.isWindowsDriveLetter=g;function t(i,n=m.isWindows){return n?g(i.charCodeAt(0))&&i.charCodeAt(1)===58:!1}e.hasDriveLetter=t}),define(se[492],re([1,0,62,85,17,8]),function(q,e,w,m,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.pieceToQuery=e.prepareQuery=e.scoreFuzzy2=void 0;const L=[void 0,[]];function b(r,s,a=0,u=0){const p=s;return p.values&&p.values.length>1?C(r,p.values,a,u):h(r,s,a,u)}e.scoreFuzzy2=b;function C(r,s,a,u){let p=0;const S=[];for(const f of s){const[v,_]=h(r,f,a,u);if(typeof v!="number")return L;p+=v,S.push(..._)}return[p,t(S)]}function h(r,s,a,u){const p=(0,w.fuzzyScore)(s.original,s.originalLowercase,a,r,r.toLowerCase(),u,{firstMatchCanBeWeak:!0,boostFullMatch:!0});return p?[p[0],(0,w.createMatches)(p)]:L}const g=Object.freeze({score:0});function t(r){const s=r.sort((p,S)=>p.start-S.start),a=[];let u;for(const p of s)!u||!i(u,p)?(u=p,a.push(p)):(u.start=Math.min(u.start,p.start),u.end=Math.max(u.end,p.end));return a}function i(r,s){return!(r.end<s.start||s.end<r.start)}function n(r){return r.startsWith('"')&&r.endsWith('"')}const o=" ";function l(r){typeof r!="string"&&(r="");const s=r.toLowerCase(),{pathNormalized:a,normalized:u,normalizedLowercase:p}=c(r),S=a.indexOf(m.sep)>=0,f=n(r);let v;const _=r.split(o);if(_.length>1)for(const y of _){const E=n(y),{pathNormalized:T,normalized:I,normalizedLowercase:R}=c(y);I&&(v||(v=[]),v.push({original:y,originalLowercase:y.toLowerCase(),pathNormalized:T,normalized:I,normalizedLowercase:R,expectContiguousMatch:E}))}return{original:r,originalLowercase:s,pathNormalized:a,normalized:u,normalizedLowercase:p,values:v,containsPathSeparator:S,expectContiguousMatch:f}}e.prepareQuery=l;function c(r){let s;k.isWindows?s=r.replace(/\//g,m.sep):s=r.replace(/\\/g,m.sep);const a=(0,D.stripWildcards)(s).replace(/\s|"/g,"");return{pathNormalized:s,normalized:a,normalizedLowercase:a.toLowerCase()}}function d(r){return Array.isArray(r)?l(r.map(s=>s.original).join(o)):l(r.original)}e.pieceToQuery=d}),define(se[493],re([1,0,197,17]),function(q,e,w,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.normalizeDriveLetter=void 0;function k(L,b=m.isWindows){return(0,w.hasDriveLetter)(L,b)?L.charAt(0).toUpperCase()+L.slice(1):L}e.normalizeDriveLetter=k;let D=Object.create(null)}),define(se[56],re([1,0,17]),function(q,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StopWatch=void 0;const m=w.globals.performance&&typeof w.globals.performance.now=="function";class k{static create(L=!0){return new k(L)}constructor(L){this._highResolution=m&&L,this._startTime=this._now(),this._stopTime=-1}stop(){this._stopTime=this._now()}elapsed(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}_now(){return this._highResolution?w.globals.performance.now():Date.now()}}e.StopWatch=k}),define(se[6],re([1,0,14,2,58,56]),function(q,e,w,m,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Relay=e.EventBufferer=e.MicrotaskEmitter=e.DebounceEmitter=e.PauseableEmitter=e.EventDeliveryQueue=e.Emitter=e.EventProfiling=e.Event=void 0;const L=!1,b=!1;var C;(function(S){S.None=()=>m.Disposable.None;function f(ne){if(b){const{onListenerDidAdd:Z}=ne,ee=i.create();let le=0;ne.onListenerDidAdd=()=>{++le===2&&(console.warn("snapshotted emitter LIKELY used public and SHOULD HAVE BEEN created with DisposableStore. snapshotted here"),ee.print()),Z?.()}}}function v(ne){return(Z,ee=null,le)=>{let V=!1,$;return $=ne(oe=>{if(!V)return $?$.dispose():V=!0,Z.call(ee,oe)},null,le),V&&$.dispose(),$}}S.once=v;function _(ne,Z,ee){return F((le,V=null,$)=>ne(oe=>le.call(V,Z(oe)),null,$),ee)}S.map=_;function y(ne,Z,ee){return F((le,V=null,$)=>ne(oe=>{Z(oe),le.call(V,oe)},null,$),ee)}S.forEach=y;function E(ne,Z,ee){return F((le,V=null,$)=>ne(oe=>Z(oe)&&le.call(V,oe),null,$),ee)}S.filter=E;function T(ne){return ne}S.signal=T;function I(...ne){return(Z,ee=null,le)=>(0,m.combinedDisposable)(...ne.map(V=>V($=>Z.call(ee,$),null,le)))}S.any=I;function R(ne,Z,ee,le){let V=ee;return _(ne,$=>(V=Z(V,$),V),le)}S.reduce=R;function F(ne,Z){let ee;const le={onFirstListenerAdd(){ee=ne(V.fire,V)},onLastListenerRemove(){ee?.dispose()}};Z||f(le);const V=new o(le);return Z?.add(V),V.event}function O(ne,Z,ee=100,le=!1,V,$){let oe,U,ae,z=0;const J={leakWarningThreshold:V,onFirstListenerAdd(){oe=ne(H=>{z++,U=Z(U,H),le&&!ae&&(Y.fire(U),U=void 0),clearTimeout(ae),ae=setTimeout(()=>{const j=U;U=void 0,ae=void 0,(!le||z>1)&&Y.fire(j),z=0},ee)})},onLastListenerRemove(){oe.dispose()}};$||f(J);const Y=new o(J);return $?.add(Y),Y.event}S.debounce=O;function M(ne,Z=(le,V)=>le===V,ee){let le=!0,V;return E(ne,$=>{const oe=le||!Z($,V);return le=!1,V=$,oe},ee)}S.latch=M;function N(ne,Z,ee){return[S.filter(ne,Z,ee),S.filter(ne,le=>!Z(le),ee)]}S.split=N;function A(ne,Z=!1,ee=[]){let le=ee.slice(),V=ne(U=>{le?le.push(U):oe.fire(U)});const $=()=>{le?.forEach(U=>oe.fire(U)),le=null},oe=new o({onFirstListenerAdd(){V||(V=ne(U=>oe.fire(U)))},onFirstListenerDidAdd(){le&&(Z?setTimeout($):$())},onLastListenerRemove(){V&&V.dispose(),V=null}});return oe.event}S.buffer=A;class B{constructor(Z){this.event=Z,this.disposables=new m.DisposableStore}map(Z){return new B(_(this.event,Z,this.disposables))}forEach(Z){return new B(y(this.event,Z,this.disposables))}filter(Z){return new B(E(this.event,Z,this.disposables))}reduce(Z,ee){return new B(R(this.event,Z,ee,this.disposables))}latch(){return new B(M(this.event,void 0,this.disposables))}debounce(Z,ee=100,le=!1,V){return new B(O(this.event,Z,ee,le,V,this.disposables))}on(Z,ee,le){return this.event(Z,ee,le)}once(Z,ee,le){return v(this.event)(Z,ee,le)}dispose(){this.disposables.dispose()}}function W(ne){return new B(ne)}S.chain=W;function x(ne,Z,ee=le=>le){const le=(...U)=>oe.fire(ee(...U)),V=()=>ne.on(Z,le),$=()=>ne.removeListener(Z,le),oe=new o({onFirstListenerAdd:V,onLastListenerRemove:$});return oe.event}S.fromNodeEventEmitter=x;function P(ne,Z,ee=le=>le){const le=(...U)=>oe.fire(ee(...U)),V=()=>ne.addEventListener(Z,le),$=()=>ne.removeEventListener(Z,le),oe=new o({onFirstListenerAdd:V,onLastListenerRemove:$});return oe.event}S.fromDOMEventEmitter=P;function X(ne){return new Promise(Z=>v(ne)(Z))}S.toPromise=X;function ie(ne,Z){return Z(void 0),ne(ee=>Z(ee))}S.runAndSubscribe=ie;function K(ne,Z){let ee=null;function le($){ee?.dispose(),ee=new m.DisposableStore,Z($,ee)}le(void 0);const V=ne($=>le($));return(0,m.toDisposable)(()=>{V.dispose(),ee?.dispose()})}S.runAndSubscribeWithStore=K;class G{constructor(Z,ee){this.obs=Z,this._counter=0,this._hasChanged=!1;const le={onFirstListenerAdd:()=>{Z.addObserver(this)},onLastListenerRemove:()=>{Z.removeObserver(this)}};ee||f(le),this.emitter=new o(le),ee&&ee.add(this.emitter)}beginUpdate(Z){this._counter++}handleChange(Z,ee){this._hasChanged=!0}endUpdate(Z){--this._counter===0&&this._hasChanged&&(this._hasChanged=!1,this.emitter.fire(this.obs.get()))}}function Q(ne,Z){return new G(ne,Z).emitter.event}S.fromObservable=Q})(C=e.Event||(e.Event={}));class h{constructor(f){this.listenerCount=0,this.invocationCount=0,this.elapsedOverall=0,this.durations=[],this.name=`${f}_${h._idPool++}`,h.all.add(this)}start(f){this._stopWatch=new D.StopWatch(!0),this.listenerCount=f}stop(){if(this._stopWatch){const f=this._stopWatch.elapsed();this.durations.push(f),this.elapsedOverall+=f,this.invocationCount+=1,this._stopWatch=void 0}}}e.EventProfiling=h,h.all=new Set,h._idPool=0;let g=-1;class t{constructor(f,v=Math.random().toString(18).slice(2,5)){this.customThreshold=f,this.name=v,this._warnCountdown=0}dispose(){this._stacks&&this._stacks.clear()}check(f,v){let _=g;if(typeof this.customThreshold=="number"&&(_=this.customThreshold),_<=0||v<_)return;this._stacks||(this._stacks=new Map);const y=this._stacks.get(f.value)||0;if(this._stacks.set(f.value,y+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=_*.5;let E,T=0;for(const[I,R]of this._stacks)(!E||T<R)&&(E=I,T=R);console.warn(`[${this.name}] potential listener LEAK detected, having ${v} listeners already. MOST frequent listener (${T}):`),console.warn(E)}return()=>{const E=this._stacks.get(f.value)||0;this._stacks.set(f.value,E-1)}}}class i{static create(){var f;return new i((f=new Error().stack)!==null&&f!==void 0?f:"")}constructor(f){this.value=f}print(){console.warn(this.value.split(`
`).slice(2).join(`
`))}}class n{constructor(f,v,_){this.callback=f,this.callbackThis=v,this.stack=_,this.subscription=new m.SafeDisposable}invoke(f){this.callback.call(this.callbackThis,f)}}class o{constructor(f){var v,_;this._disposed=!1,this._options=f,this._leakageMon=g>0?new t(this._options&&this._options.leakWarningThreshold):void 0,this._perfMon=!((v=this._options)===null||v===void 0)&&v._profName?new h(this._options._profName):void 0,this._deliveryQueue=(_=this._options)===null||_===void 0?void 0:_.deliveryQueue}dispose(){var f,v,_,y;if(!this._disposed){if(this._disposed=!0,this._listeners){if(L){const E=Array.from(this._listeners);queueMicrotask(()=>{var T;for(const I of E)I.subscription.isset()&&(I.subscription.unset(),(T=I.stack)===null||T===void 0||T.print())})}this._listeners.clear()}(f=this._deliveryQueue)===null||f===void 0||f.clear(this),(_=(v=this._options)===null||v===void 0?void 0:v.onLastListenerRemove)===null||_===void 0||_.call(v),(y=this._leakageMon)===null||y===void 0||y.dispose()}}get event(){return this._event||(this._event=(f,v,_)=>{var y,E,T;this._listeners||(this._listeners=new k.LinkedList);const I=this._listeners.isEmpty();I&&((y=this._options)===null||y===void 0?void 0:y.onFirstListenerAdd)&&this._options.onFirstListenerAdd(this);let R,F;this._leakageMon&&this._listeners.size>=30&&(F=i.create(),R=this._leakageMon.check(F,this._listeners.size+1)),L&&(F=F??i.create());const O=new n(f,v,F),M=this._listeners.push(O);I&&((E=this._options)===null||E===void 0?void 0:E.onFirstListenerDidAdd)&&this._options.onFirstListenerDidAdd(this),!((T=this._options)===null||T===void 0)&&T.onListenerDidAdd&&this._options.onListenerDidAdd(this,f,v);const N=O.subscription.set(()=>{R?.(),this._disposed||(M(),this._options&&this._options.onLastListenerRemove&&(this._listeners&&!this._listeners.isEmpty()||this._options.onLastListenerRemove(this)))});return _ instanceof m.DisposableStore?_.add(N):Array.isArray(_)&&_.push(N),N}),this._event}fire(f){var v,_;if(this._listeners){this._deliveryQueue||(this._deliveryQueue=new c);for(const y of this._listeners)this._deliveryQueue.push(this,y,f);(v=this._perfMon)===null||v===void 0||v.start(this._deliveryQueue.size),this._deliveryQueue.deliver(),(_=this._perfMon)===null||_===void 0||_.stop()}}hasListeners(){return this._listeners?!this._listeners.isEmpty():!1}}e.Emitter=o;class l{constructor(){this._queue=new k.LinkedList}get size(){return this._queue.size}push(f,v,_){this._queue.push(new d(f,v,_))}clear(f){const v=new k.LinkedList;for(const _ of this._queue)_.emitter!==f&&v.push(_);this._queue=v}deliver(){for(;this._queue.size>0;){const f=this._queue.shift();try{f.listener.invoke(f.event)}catch(v){(0,w.onUnexpectedError)(v)}}}}e.EventDeliveryQueue=l;class c extends l{clear(f){this._queue.clear()}}class d{constructor(f,v,_){this.emitter=f,this.listener=v,this.event=_}}class r extends o{constructor(f){super(f),this._isPaused=0,this._eventQueue=new k.LinkedList,this._mergeFn=f?.merge}pause(){this._isPaused++}resume(){if(this._isPaused!==0&&--this._isPaused===0)if(this._mergeFn){if(this._eventQueue.size>0){const f=Array.from(this._eventQueue);this._eventQueue.clear(),super.fire(this._mergeFn(f))}}else for(;!this._isPaused&&this._eventQueue.size!==0;)super.fire(this._eventQueue.shift())}fire(f){this._listeners&&(this._isPaused!==0?this._eventQueue.push(f):super.fire(f))}}e.PauseableEmitter=r;class s extends r{constructor(f){var v;super(f),this._delay=(v=f.delay)!==null&&v!==void 0?v:100}fire(f){this._handle||(this.pause(),this._handle=setTimeout(()=>{this._handle=void 0,this.resume()},this._delay)),super.fire(f)}}e.DebounceEmitter=s;class a extends o{constructor(f){super(f),this._queuedEvents=[],this._mergeFn=f?.merge}fire(f){!this.hasListeners()||(this._queuedEvents.push(f),this._queuedEvents.length===1&&queueMicrotask(()=>{this._mergeFn?super.fire(this._mergeFn(this._queuedEvents)):this._queuedEvents.forEach(v=>super.fire(v)),this._queuedEvents=[]}))}}e.MicrotaskEmitter=a;class u{constructor(){this.buffers=[]}wrapEvent(f){return(v,_,y)=>f(E=>{const T=this.buffers[this.buffers.length-1];T?T.push(()=>v.call(_,E)):v.call(_,E)},void 0,y)}bufferEvents(f){const v=[];this.buffers.push(v);const _=f();return this.buffers.pop(),v.forEach(y=>y()),_}}e.EventBufferer=u;class p{constructor(){this.listening=!1,this.inputEvent=C.None,this.inputEventListener=m.Disposable.None,this.emitter=new o({onFirstListenerDidAdd:()=>{this.listening=!0,this.inputEventListener=this.inputEvent(this.emitter.fire,this.emitter)},onLastListenerRemove:()=>{this.listening=!1,this.inputEventListener.dispose()}}),this.event=this.emitter.event}set input(f){this.inputEvent=f,this.listening&&(this.inputEventListener.dispose(),this.inputEventListener=f(this.emitter.fire,this.emitter))}dispose(){this.inputEventListener.dispose(),this.emitter.dispose()}}e.Relay=p}),define(se[42],re([1,0,6,2]),function(q,e,w,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isStandalone=e.isAndroid=e.isElectron=e.isWebkitWebView=e.isSafari=e.isChrome=e.isWebKit=e.isFirefox=e.getZoomFactor=e.PixelRatio=e.addMatchMediaChangeListener=void 0;class k{constructor(){this._zoomFactor=1}getZoomFactor(){return this._zoomFactor}}k.INSTANCE=new k;class D extends m.Disposable{constructor(){super(),this._onDidChange=this._register(new w.Emitter),this.onDidChange=this._onDidChange.event,this._listener=()=>this._handleChange(!0),this._mediaQueryList=null,this._handleChange(!1)}_handleChange(o){var l;(l=this._mediaQueryList)===null||l===void 0||l.removeEventListener("change",this._listener),this._mediaQueryList=matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`),this._mediaQueryList.addEventListener("change",this._listener),o&&this._onDidChange.fire()}}class L extends m.Disposable{get value(){return this._value}constructor(){super(),this._onDidChange=this._register(new w.Emitter),this.onDidChange=this._onDidChange.event,this._value=this._getPixelRatio();const o=this._register(new D);this._register(o.onDidChange(()=>{this._value=this._getPixelRatio(),this._onDidChange.fire(this._value)}))}_getPixelRatio(){const o=document.createElement("canvas").getContext("2d"),l=window.devicePixelRatio||1,c=o.webkitBackingStorePixelRatio||o.mozBackingStorePixelRatio||o.msBackingStorePixelRatio||o.oBackingStorePixelRatio||o.backingStorePixelRatio||1;return l/c}}class b{constructor(){this._pixelRatioMonitor=null}_getOrCreatePixelRatioMonitor(){return this._pixelRatioMonitor||(this._pixelRatioMonitor=(0,m.markAsSingleton)(new L)),this._pixelRatioMonitor}get value(){return this._getOrCreatePixelRatioMonitor().value}get onDidChange(){return this._getOrCreatePixelRatioMonitor().onDidChange}}function C(n,o){typeof n=="string"&&(n=window.matchMedia(n)),n.addEventListener("change",o)}e.addMatchMediaChangeListener=C,e.PixelRatio=new b;function h(){return k.INSTANCE.getZoomFactor()}e.getZoomFactor=h;const g=navigator.userAgent;e.isFirefox=g.indexOf("Firefox")>=0,e.isWebKit=g.indexOf("AppleWebKit")>=0,e.isChrome=g.indexOf("Chrome")>=0,e.isSafari=!e.isChrome&&g.indexOf("Safari")>=0,e.isWebkitWebView=!e.isChrome&&!e.isSafari&&e.isWebKit,e.isElectron=g.indexOf("Electron/")>=0,e.isAndroid=g.indexOf("Android")>=0;let t=!1;if(window.matchMedia){const n=window.matchMedia("(display-mode: standalone) or (display-mode: window-controls-overlay)"),o=window.matchMedia("(display-mode: fullscreen)");t=n.matches,C(n,({matches:l})=>{t&&o.matches||(t=l)})}function i(){return t}e.isStandalone=i}),define(se[198],re([1,0,42,17]),function(q,e,w,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserFeatures=void 0,e.BrowserFeatures={clipboard:{writeText:m.isNative||document.queryCommandSupported&&document.queryCommandSupported("copy")||!!(navigator&&navigator.clipboard&&navigator.clipboard.writeText),readText:m.isNative||!!(navigator&&navigator.clipboard&&navigator.clipboard.readText)},keyboard:(()=>m.isNative||w.isStandalone()?0:navigator.keyboard||w.isSafari?1:2)(),touch:"ontouchstart"in window||navigator.maxTouchPoints>0,pointerEvents:window.PointerEvent&&("ontouchstart"in window||window.navigator.maxTouchPoints>0||navigator.maxTouchPoints>0)}}),define(se[86],re([1,0,6]),function(q,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DomEmitter=void 0;class m{get event(){return this.emitter.event}constructor(D,L,b){const C=h=>this.emitter.fire(h);this.emitter=new w.Emitter({onFirstListenerAdd:()=>D.addEventListener(L,C,b),onLastListenerRemove:()=>D.removeEventListener(L,C,b)})}dispose(){this.emitter.dispose()}}e.DomEmitter=m}),define(se[45],re([1,0,42,57,106,17]),function(q,e,w,m,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandardKeyboardEvent=void 0;function L(i){if(i.charCode){const o=String.fromCharCode(i.charCode).toUpperCase();return m.KeyCodeUtils.fromString(o)}const n=i.keyCode;if(n===3)return 7;if(w.isFirefox){if(n===59)return 80;if(n===107)return 81;if(n===109)return 83;if(D.isMacintosh&&n===224)return 57}else if(w.isWebKit){if(n===91)return 57;if(D.isMacintosh&&n===93)return 57;if(!D.isMacintosh&&n===92)return 57}return m.EVENT_KEY_CODE_MAP[n]||0}const b=D.isMacintosh?256:2048,C=512,h=1024,g=D.isMacintosh?2048:256;class t{constructor(n){this._standardKeyboardEventBrand=!0;const o=n;this.browserEvent=o,this.target=o.target,this.ctrlKey=o.ctrlKey,this.shiftKey=o.shiftKey,this.altKey=o.altKey,this.metaKey=o.metaKey,this.keyCode=L(o),this.code=o.code,this.ctrlKey=this.ctrlKey||this.keyCode===5,this.altKey=this.altKey||this.keyCode===6,this.shiftKey=this.shiftKey||this.keyCode===4,this.metaKey=this.metaKey||this.keyCode===57,this._asKeybinding=this._computeKeybinding(),this._asRuntimeKeybinding=this._computeRuntimeKeybinding()}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()}toKeybinding(){return this._asRuntimeKeybinding}equals(n){return this._asKeybinding===n}_computeKeybinding(){let n=0;this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(n=this.keyCode);let o=0;return this.ctrlKey&&(o|=b),this.altKey&&(o|=C),this.shiftKey&&(o|=h),this.metaKey&&(o|=g),o|=n,o}_computeRuntimeKeybinding(){let n=0;return this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(n=this.keyCode),new k.SimpleKeybinding(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,n)}}e.StandardKeyboardEvent=t}),define(se[65],re([1,0,42,331,17]),function(q,e,w,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandardWheelEvent=e.StandardMouseEvent=void 0;class D{constructor(C){this.timestamp=Date.now(),this.browserEvent=C,this.leftButton=C.button===0,this.middleButton=C.button===1,this.rightButton=C.button===2,this.buttons=C.buttons,this.target=C.target,this.detail=C.detail||1,C.type==="dblclick"&&(this.detail=2),this.ctrlKey=C.ctrlKey,this.shiftKey=C.shiftKey,this.altKey=C.altKey,this.metaKey=C.metaKey,typeof C.pageX=="number"?(this.posx=C.pageX,this.posy=C.pageY):(this.posx=C.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,this.posy=C.clientY+document.body.scrollTop+document.documentElement.scrollTop);const h=m.IframeUtils.getPositionOfChildWindowRelativeToAncestorWindow(self,C.view);this.posx-=h.left,this.posy-=h.top}preventDefault(){this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent.stopPropagation()}}e.StandardMouseEvent=D;class L{constructor(C,h=0,g=0){if(this.browserEvent=C||null,this.target=C?C.target||C.targetNode||C.srcElement:null,this.deltaY=g,this.deltaX=h,C){const t=C,i=C;if(typeof t.wheelDeltaY<"u")this.deltaY=t.wheelDeltaY/120;else if(typeof i.VERTICAL_AXIS<"u"&&i.axis===i.VERTICAL_AXIS)this.deltaY=-i.detail/3;else if(C.type==="wheel"){const n=C;n.deltaMode===n.DOM_DELTA_LINE?w.isFirefox&&!k.isMacintosh?this.deltaY=-C.deltaY/3:this.deltaY=-C.deltaY:this.deltaY=-C.deltaY/40}if(typeof t.wheelDeltaX<"u")w.isSafari&&k.isWindows?this.deltaX=-(t.wheelDeltaX/120):this.deltaX=t.wheelDeltaX/120;else if(typeof i.HORIZONTAL_AXIS<"u"&&i.axis===i.HORIZONTAL_AXIS)this.deltaX=-C.detail/3;else if(C.type==="wheel"){const n=C;n.deltaMode===n.DOM_DELTA_LINE?w.isFirefox&&!k.isMacintosh?this.deltaX=-C.deltaX/3:this.deltaX=-C.deltaX:this.deltaX=-C.deltaX/40}this.deltaY===0&&this.deltaX===0&&C.wheelDelta&&(this.deltaY=C.wheelDelta/120)}}preventDefault(){var C;(C=this.browserEvent)===null||C===void 0||C.preventDefault()}stopPropagation(){var C;(C=this.browserEvent)===null||C===void 0||C.stopPropagation()}}e.StandardWheelEvent=L}),define(se[43],re([1,0,6,2,486]),function(q,e,w,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toAction=e.EmptySubmenuAction=e.SubmenuAction=e.Separator=e.ActionRunner=e.Action=void 0;class D extends m.Disposable{constructor(i,n="",o="",l=!0,c){super(),this._onDidChange=this._register(new w.Emitter),this.onDidChange=this._onDidChange.event,this._enabled=!0,this._id=i,this._label=n,this._cssClass=o,this._enabled=l,this._actionCallback=c}get id(){return this._id}get label(){return this._label}set label(i){this._setLabel(i)}_setLabel(i){this._label!==i&&(this._label=i,this._onDidChange.fire({label:i}))}get tooltip(){return this._tooltip||""}set tooltip(i){this._setTooltip(i)}_setTooltip(i){this._tooltip!==i&&(this._tooltip=i,this._onDidChange.fire({tooltip:i}))}get class(){return this._cssClass}set class(i){this._setClass(i)}_setClass(i){this._cssClass!==i&&(this._cssClass=i,this._onDidChange.fire({class:i}))}get enabled(){return this._enabled}set enabled(i){this._setEnabled(i)}_setEnabled(i){this._enabled!==i&&(this._enabled=i,this._onDidChange.fire({enabled:i}))}get checked(){return this._checked}set checked(i){this._setChecked(i)}_setChecked(i){this._checked!==i&&(this._checked=i,this._onDidChange.fire({checked:i}))}run(i,n){return Se(this,void 0,void 0,function*(){this._actionCallback&&(yield this._actionCallback(i))})}}e.Action=D;class L extends m.Disposable{constructor(){super(...arguments),this._onWillRun=this._register(new w.Emitter),this.onWillRun=this._onWillRun.event,this._onDidRun=this._register(new w.Emitter),this.onDidRun=this._onDidRun.event}run(i,n){return Se(this,void 0,void 0,function*(){if(!i.enabled)return;this._onWillRun.fire({action:i});let o;try{yield this.runAction(i,n)}catch(l){o=l}this._onDidRun.fire({action:i,error:o})})}runAction(i,n){return Se(this,void 0,void 0,function*(){yield i.run(n)})}}e.ActionRunner=L;class b{constructor(){this.id=b.ID,this.label="",this.tooltip="",this.class="separator",this.enabled=!1,this.checked=!1}static join(...i){let n=[];for(const o of i)o.length&&(n.length?n=[...n,new b,...o]:n=o);return n}run(){return Se(this,void 0,void 0,function*(){})}}e.Separator=b,b.ID="vs.actions.separator";class C{get actions(){return this._actions}constructor(i,n,o,l){this.tooltip="",this.enabled=!0,this.checked=void 0,this.id=i,this.label=n,this.class=l,this._actions=o}run(){return Se(this,void 0,void 0,function*(){})}}e.SubmenuAction=C;class h extends D{constructor(){super(h.ID,k.localize(0,null),void 0,!1)}}e.EmptySubmenuAction=h,h.ID="vs.actions.empty";function g(t){var i,n;return{id:t.id,label:t.label,class:void 0,enabled:(i=t.enabled)!==null&&i!==void 0?i:!0,checked:(n=t.checked)!==null&&n!==void 0?n:!1,run:()=>Se(this,void 0,void 0,function*(){return t.run()}),tooltip:t.label}}e.toAction=g}),define(se[21],re([1,0,6]),function(q,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CancellationTokenSource=e.CancellationToken=void 0;const m=Object.freeze(function(b,C){const h=setTimeout(b.bind(C),0);return{dispose(){clearTimeout(h)}}});var k;(function(b){function C(h){return h===b.None||h===b.Cancelled||h instanceof D?!0:!h||typeof h!="object"?!1:typeof h.isCancellationRequested=="boolean"&&typeof h.onCancellationRequested=="function"}b.isCancellationToken=C,b.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:w.Event.None}),b.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:m})})(k=e.CancellationToken||(e.CancellationToken={}));class D{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?m:(this._emitter||(this._emitter=new w.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}}class L{constructor(C){this._token=void 0,this._parentListener=void 0,this._parentListener=C&&C.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new D),this._token}cancel(){this._token?this._token instanceof D&&this._token.cancel():this._token=k.Cancelled}dispose(C=!1){var h;C&&this.cancel(),(h=this._parentListener)===null||h===void 0||h.dispose(),this._token?this._token instanceof D&&this._token.dispose():this._token=k.None}}e.CancellationTokenSource=L});var _t=this&&this.__asyncValues||function(q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=q[Symbol.asyncIterator],w;return e?e.call(q):(q=typeof __values=="function"?__values(q):q[Symbol.iterator](),w={},m("next"),m("throw"),m("return"),w[Symbol.asyncIterator]=function(){return this},w);function m(D){w[D]=q[D]&&function(L){return new Promise(function(b,C){L=q[D](L),k(b,C,L.done,L.value)})}}function k(D,L,b,C){Promise.resolve(C).then(function(h){D({value:h,done:b})},L)}};define(se[10],re([1,0,21,14,6,2,17]),function(q,e,w,m,k,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createCancelableAsyncIterable=e.CancelableAsyncIterableObject=e.AsyncIterableObject=e.Promises=e.DeferredPromise=e.IdleValue=e.runWhenIdle=e.RunOnceScheduler=e.IntervalTimer=e.TimeoutTimer=e.first=e.disposableTimeout=e.timeout=e.ThrottledDelayer=e.Delayer=e.MicrotaskDelay=e.Throttler=e.raceCancellation=e.createCancelablePromise=e.isThenable=void 0;function b(y){return!!y&&typeof y.then=="function"}e.isThenable=b;function C(y){const E=new w.CancellationTokenSource,T=y(E.token),I=new Promise((R,F)=>{const O=E.token.onCancellationRequested(()=>{O.dispose(),E.dispose(),F(new m.CancellationError)});Promise.resolve(T).then(M=>{O.dispose(),E.dispose(),R(M)},M=>{O.dispose(),E.dispose(),F(M)})});return new class{cancel(){E.cancel()}then(R,F){return I.then(R,F)}catch(R){return this.then(void 0,R)}finally(R){return I.finally(R)}}}e.createCancelablePromise=C;function h(y,E,T){return new Promise((I,R)=>{const F=E.onCancellationRequested(()=>{F.dispose(),I(T)});y.then(I,R).finally(()=>F.dispose())})}e.raceCancellation=h;class g{constructor(){this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}queue(E){if(this.activePromise){if(this.queuedPromiseFactory=E,!this.queuedPromise){const T=()=>{this.queuedPromise=null;const I=this.queue(this.queuedPromiseFactory);return this.queuedPromiseFactory=null,I};this.queuedPromise=new Promise(I=>{this.activePromise.then(T,T).then(I)})}return new Promise((T,I)=>{this.queuedPromise.then(T,I)})}return this.activePromise=E(),new Promise((T,I)=>{this.activePromise.then(R=>{this.activePromise=null,T(R)},R=>{this.activePromise=null,I(R)})})}}e.Throttler=g;const t=(y,E)=>{let T=!0;const I=setTimeout(()=>{T=!1,E()},y);return{isTriggered:()=>T,dispose:()=>{clearTimeout(I),T=!1}}},i=y=>{let E=!0;return queueMicrotask(()=>{E&&(E=!1,y())}),{isTriggered:()=>E,dispose:()=>{E=!1}}};e.MicrotaskDelay=Symbol("MicrotaskDelay");class n{constructor(E){this.defaultDelay=E,this.deferred=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}trigger(E,T=this.defaultDelay){this.task=E,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((R,F)=>{this.doResolve=R,this.doReject=F}).then(()=>{if(this.completionPromise=null,this.doResolve=null,this.task){const R=this.task;return this.task=null,R()}}));const I=()=>{var R;this.deferred=null,(R=this.doResolve)===null||R===void 0||R.call(this,null)};return this.deferred=T===e.MicrotaskDelay?i(I):t(T,I),this.completionPromise}isTriggered(){var E;return!!(!((E=this.deferred)===null||E===void 0)&&E.isTriggered())}cancel(){var E;this.cancelTimeout(),this.completionPromise&&((E=this.doReject)===null||E===void 0||E.call(this,new m.CancellationError),this.completionPromise=null)}cancelTimeout(){var E;(E=this.deferred)===null||E===void 0||E.dispose(),this.deferred=null}dispose(){this.cancel()}}e.Delayer=n;class o{constructor(E){this.delayer=new n(E),this.throttler=new g}trigger(E,T){return this.delayer.trigger(()=>this.throttler.queue(E),T)}dispose(){this.delayer.dispose()}}e.ThrottledDelayer=o;function l(y,E){return E?new Promise((T,I)=>{const R=setTimeout(()=>{F.dispose(),T()},y),F=E.onCancellationRequested(()=>{clearTimeout(R),F.dispose(),I(new m.CancellationError)})}):C(T=>l(y,T))}e.timeout=l;function c(y,E=0){const T=setTimeout(y,E);return(0,D.toDisposable)(()=>clearTimeout(T))}e.disposableTimeout=c;function d(y,E=I=>!!I,T=null){let I=0;const R=y.length,F=()=>{if(I>=R)return Promise.resolve(T);const O=y[I++];return Promise.resolve(O()).then(N=>E(N)?Promise.resolve(N):F())};return F()}e.first=d;class r{constructor(E,T){this._token=-1,typeof E=="function"&&typeof T=="number"&&this.setIfNotSet(E,T)}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(E,T){this.cancel(),this._token=setTimeout(()=>{this._token=-1,E()},T)}setIfNotSet(E,T){this._token===-1&&(this._token=setTimeout(()=>{this._token=-1,E()},T))}}e.TimeoutTimer=r;class s{constructor(){this._token=-1}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearInterval(this._token),this._token=-1)}cancelAndSet(E,T){this.cancel(),this._token=setInterval(()=>{E()},T)}}e.IntervalTimer=s;class a{constructor(E,T){this.timeoutToken=-1,this.runner=E,this.timeout=T,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}schedule(E=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,E)}get delay(){return this.timeout}set delay(E){this.timeout=E}isScheduled(){return this.timeoutToken!==-1}onTimeout(){this.timeoutToken=-1,this.runner&&this.doRun()}doRun(){var E;(E=this.runner)===null||E===void 0||E.call(this)}}e.RunOnceScheduler=a,function(){typeof requestIdleCallback!="function"||typeof cancelIdleCallback!="function"?e.runWhenIdle=y=>{(0,L.setTimeout0)(()=>{if(E)return;const T=Date.now()+15;y(Object.freeze({didTimeout:!0,timeRemaining(){return Math.max(0,T-Date.now())}}))});let E=!1;return{dispose(){E||(E=!0)}}}:e.runWhenIdle=(y,E)=>{const T=requestIdleCallback(y,typeof E=="number"?{timeout:E}:void 0);let I=!1;return{dispose(){I||(I=!0,cancelIdleCallback(T))}}}}();class u{constructor(E){this._didRun=!1,this._executor=()=>{try{this._value=E()}catch(T){this._error=T}finally{this._didRun=!0}},this._handle=(0,e.runWhenIdle)(()=>this._executor())}dispose(){this._handle.dispose()}get value(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value}get isInitialized(){return this._didRun}}e.IdleValue=u;class p{get isRejected(){return this.rejected}get isSettled(){return this.rejected||this.resolved}constructor(){this.rejected=!1,this.resolved=!1,this.p=new Promise((E,T)=>{this.completeCallback=E,this.errorCallback=T})}complete(E){return new Promise(T=>{this.completeCallback(E),this.resolved=!0,T()})}cancel(){new Promise(E=>{this.errorCallback(new m.CancellationError),this.rejected=!0,E()})}}e.DeferredPromise=p;var S;(function(y){function E(I){return Se(this,void 0,void 0,function*(){let R;const F=yield Promise.all(I.map(O=>O.then(M=>M,M=>{R||(R=M)})));if(typeof R<"u")throw R;return F})}y.settled=E;function T(I){return new Promise((R,F)=>Se(this,void 0,void 0,function*(){try{yield I(R,F)}catch(O){F(O)}}))}y.withAsyncBody=T})(S=e.Promises||(e.Promises={}));class f{static fromArray(E){return new f(T=>{T.emitMany(E)})}static fromPromise(E){return new f(T=>Se(this,void 0,void 0,function*(){T.emitMany(yield E)}))}static fromPromises(E){return new f(T=>Se(this,void 0,void 0,function*(){yield Promise.all(E.map(I=>Se(this,void 0,void 0,function*(){return T.emitOne(yield I)})))}))}static merge(E){return new f(T=>Se(this,void 0,void 0,function*(){yield Promise.all(E.map(I=>{var R,F;return Se(this,void 0,void 0,function*(){var O,M;try{for(R=_t(I);F=yield R.next(),!F.done;){const N=F.value;T.emitOne(N)}}catch(N){O={error:N}}finally{try{F&&!F.done&&(M=R.return)&&(yield M.call(R))}finally{if(O)throw O.error}}})}))}))}constructor(E){this._state=0,this._results=[],this._error=null,this._onStateChanged=new k.Emitter,queueMicrotask(()=>Se(this,void 0,void 0,function*(){const T={emitOne:I=>this.emitOne(I),emitMany:I=>this.emitMany(I),reject:I=>this.reject(I)};try{yield Promise.resolve(E(T)),this.resolve()}catch(I){this.reject(I)}finally{T.emitOne=void 0,T.emitMany=void 0,T.reject=void 0}}))}[Symbol.asyncIterator](){let E=0;return{next:()=>Se(this,void 0,void 0,function*(){do{if(this._state===2)throw this._error;if(E<this._results.length)return{done:!1,value:this._results[E++]};if(this._state===1)return{done:!0,value:void 0};yield k.Event.toPromise(this._onStateChanged.event)}while(!0)})}}static map(E,T){return new f(I=>Se(this,void 0,void 0,function*(){var R,F;try{for(var O=_t(E),M;M=yield O.next(),!M.done;){const N=M.value;I.emitOne(T(N))}}catch(N){R={error:N}}finally{try{M&&!M.done&&(F=O.return)&&(yield F.call(O))}finally{if(R)throw R.error}}}))}map(E){return f.map(this,E)}static filter(E,T){return new f(I=>Se(this,void 0,void 0,function*(){var R,F;try{for(var O=_t(E),M;M=yield O.next(),!M.done;){const N=M.value;T(N)&&I.emitOne(N)}}catch(N){R={error:N}}finally{try{M&&!M.done&&(F=O.return)&&(yield F.call(O))}finally{if(R)throw R.error}}}))}filter(E){return f.filter(this,E)}static coalesce(E){return f.filter(E,T=>!!T)}coalesce(){return f.coalesce(this)}static toPromise(E){var T,I,R,F;return Se(this,void 0,void 0,function*(){const O=[];try{for(T=_t(E);I=yield T.next(),!I.done;){const M=I.value;O.push(M)}}catch(M){R={error:M}}finally{try{I&&!I.done&&(F=T.return)&&(yield F.call(T))}finally{if(R)throw R.error}}return O})}toPromise(){return f.toPromise(this)}emitOne(E){this._state===0&&(this._results.push(E),this._onStateChanged.fire())}emitMany(E){this._state===0&&(this._results=this._results.concat(E),this._onStateChanged.fire())}resolve(){this._state===0&&(this._state=1,this._onStateChanged.fire())}reject(E){this._state===0&&(this._state=2,this._error=E,this._onStateChanged.fire())}}e.AsyncIterableObject=f,f.EMPTY=f.fromArray([]);class v extends f{constructor(E,T){super(T),this._source=E}cancel(){this._source.cancel()}}e.CancelableAsyncIterableObject=v;function _(y){const E=new w.CancellationTokenSource,T=y(E.token);return new v(E,I=>Se(this,void 0,void 0,function*(){var R,F;const O=E.token.onCancellationRequested(()=>{O.dispose(),E.dispose(),I.reject(new m.CancellationError)});try{try{for(var M=_t(T),N;N=yield M.next(),!N.done;){const A=N.value;if(E.token.isCancellationRequested)return;I.emitOne(A)}}catch(A){R={error:A}}finally{try{N&&!N.done&&(F=M.return)&&(yield F.call(M))}finally{if(R)throw R.error}}O.dispose(),E.dispose()}catch(A){O.dispose(),E.dispose(),I.reject(A)}}))}e.createCancelableAsyncIterable=_}),define(se[494],re([1,0,10,2]),function(q,e,w,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollbarVisibilityController=void 0;class k extends m.Disposable{constructor(L,b,C){super(),this._visibility=L,this._visibleClassName=b,this._invisibleClassName=C,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._rawShouldBeVisible=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new w.TimeoutTimer)}setVisibility(L){this._visibility!==L&&(this._visibility=L,this._updateShouldBeVisible())}setShouldBeVisible(L){this._rawShouldBeVisible=L,this._updateShouldBeVisible()}_applyVisibilitySetting(){return this._visibility===2?!1:this._visibility===3?!0:this._rawShouldBeVisible}_updateShouldBeVisible(){const L=this._applyVisibilitySetting();this._shouldBeVisible!==L&&(this._shouldBeVisible=L,this.ensureVisibility())}setIsNeeded(L){this._isNeeded!==L&&(this._isNeeded=L,this.ensureVisibility())}setDomNode(L){this._domNode=L,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}ensureVisibility(){if(!this._isNeeded){this._hide(!1);return}this._shouldBeVisible?this._reveal():this._hide(!0)}_reveal(){this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet(()=>{var L;(L=this._domNode)===null||L===void 0||L.setClassName(this._visibleClassName)},0))}_hide(L){var b;this._revealTimer.cancel(),this._isVisible&&(this._isVisible=!1,(b=this._domNode)===null||b===void 0||b.setClassName(this._invisibleClassName+(L?" fade":"")))}}e.ScrollbarVisibilityController=k}),define(se[199],re([1,0,123,18,10,149,6,55]),function(q,e,w,m,k,D,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndexTreeModel=e.getVisibleState=e.isFilterResult=void 0;function C(i){return typeof i=="object"&&"visibility"in i&&"data"in i}e.isFilterResult=C;function h(i){switch(i){case!0:return 1;case!1:return 0;default:return i}}e.getVisibleState=h;function g(i){return typeof i.collapsible=="boolean"}class t{constructor(n,o,l,c={}){this.user=n,this.list=o,this.rootRef=[],this.eventBufferer=new L.EventBufferer,this._onDidChangeCollapseState=new L.Emitter,this.onDidChangeCollapseState=this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event),this._onDidChangeRenderNodeCount=new L.Emitter,this.onDidChangeRenderNodeCount=this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event),this._onDidSplice=new L.Emitter,this.onDidSplice=this._onDidSplice.event,this.refilterDelayer=new k.Delayer(k.MicrotaskDelay),this.collapseByDefault=typeof c.collapseByDefault>"u"?!1:c.collapseByDefault,this.filter=c.filter,this.autoExpandSingleChildren=typeof c.autoExpandSingleChildren>"u"?!1:c.autoExpandSingleChildren,this.root={parent:void 0,element:l,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visibility:1,visible:!0,filterData:void 0}}splice(n,o,l=b.Iterable.empty(),c={}){if(n.length===0)throw new w.TreeError(this.user,"Invalid tree location");c.diffIdentityProvider?this.spliceSmart(c.diffIdentityProvider,n,o,l,c):this.spliceSimple(n,o,l,c)}spliceSmart(n,o,l,c,d,r){var s;c===void 0&&(c=b.Iterable.empty()),r===void 0&&(r=(s=d.diffDepth)!==null&&s!==void 0?s:0);const{parentNode:a}=this.getParentNodeWithListIndex(o);if(!a.lastDiffIds)return this.spliceSimple(o,l,c,d);const u=[...c],p=o[o.length-1],S=new D.LcsDiff({getElements:()=>a.lastDiffIds},{getElements:()=>[...a.children.slice(0,p),...u,...a.children.slice(p+l)].map(E=>n.getId(E.element).toString())}).ComputeDiff(!1);if(S.quitEarly)return a.lastDiffIds=void 0,this.spliceSimple(o,l,u,d);const f=o.slice(0,-1),v=(E,T,I)=>{if(r>0)for(let R=0;R<I;R++)E--,T--,this.spliceSmart(n,[...f,E,0],Number.MAX_SAFE_INTEGER,u[T].children,d,r-1)};let _=Math.min(a.children.length,p+l),y=u.length;for(const E of S.changes.sort((T,I)=>I.originalStart-T.originalStart))v(_,y,_-(E.originalStart+E.originalLength)),_=E.originalStart,y=E.modifiedStart-p,this.spliceSimple([...f,_],E.originalLength,b.Iterable.slice(u,y,y+E.modifiedLength),d);v(_,y,_)}spliceSimple(n,o,l=b.Iterable.empty(),{onDidCreateNode:c,onDidDeleteNode:d,diffIdentityProvider:r}){const{parentNode:s,listIndex:a,revealed:u,visible:p}=this.getParentNodeWithListIndex(n),S=[],f=b.Iterable.map(l,N=>this.createTreeNode(N,s,s.visible?1:0,u,S,c)),v=n[n.length-1],_=s.children.length>0;let y=0;for(let N=v;N>=0&&N<s.children.length;N--){const A=s.children[N];if(A.visible){y=A.visibleChildIndex;break}}const E=[];let T=0,I=0;for(const N of f)E.push(N),I+=N.renderNodeCount,N.visible&&(N.visibleChildIndex=y+T++);const R=(0,m.splice)(s.children,v,o,E);r?s.lastDiffIds?(0,m.splice)(s.lastDiffIds,v,o,E.map(N=>r.getId(N.element).toString())):s.lastDiffIds=s.children.map(N=>r.getId(N.element).toString()):s.lastDiffIds=void 0;let F=0;for(const N of R)N.visible&&F++;if(F!==0)for(let N=v+E.length;N<s.children.length;N++){const A=s.children[N];A.visible&&(A.visibleChildIndex-=F)}if(s.visibleChildrenCount+=T-F,u&&p){const N=R.reduce((A,B)=>A+(B.visible?B.renderNodeCount:0),0);this._updateAncestorsRenderNodeCount(s,I-N),this.list.splice(a,N,S)}if(R.length>0&&d){const N=A=>{d(A),A.children.forEach(N)};R.forEach(N)}this._onDidSplice.fire({insertedNodes:E,deletedNodes:R});const O=s.children.length>0;_!==O&&this.setCollapsible(n.slice(0,-1),O);let M=s;for(;M;){if(M.visibility===2){this.refilterDelayer.trigger(()=>this.refilter());break}M=M.parent}}rerender(n){if(n.length===0)throw new w.TreeError(this.user,"Invalid tree location");const{node:o,listIndex:l,revealed:c}=this.getTreeNodeWithListIndex(n);o.visible&&c&&this.list.splice(l,1,[o])}has(n){return this.hasTreeNode(n)}getListIndex(n){const{listIndex:o,visible:l,revealed:c}=this.getTreeNodeWithListIndex(n);return l&&c?o:-1}getListRenderCount(n){return this.getTreeNode(n).renderNodeCount}isCollapsible(n){return this.getTreeNode(n).collapsible}setCollapsible(n,o){const l=this.getTreeNode(n);typeof o>"u"&&(o=!l.collapsible);const c={collapsible:o};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(n,c))}isCollapsed(n){return this.getTreeNode(n).collapsed}setCollapsed(n,o,l){const c=this.getTreeNode(n);typeof o>"u"&&(o=!c.collapsed);const d={collapsed:o,recursive:l||!1};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(n,d))}_setCollapseState(n,o){const{node:l,listIndex:c,revealed:d}=this.getTreeNodeWithListIndex(n),r=this._setListNodeCollapseState(l,c,d,o);if(l!==this.root&&this.autoExpandSingleChildren&&r&&!g(o)&&l.collapsible&&!l.collapsed&&!o.recursive){let s=-1;for(let a=0;a<l.children.length;a++)if(l.children[a].visible)if(s>-1){s=-1;break}else s=a;s>-1&&this._setCollapseState([...n,s],o)}return r}_setListNodeCollapseState(n,o,l,c){const d=this._setNodeCollapseState(n,c,!1);if(!l||!n.visible||!d)return d;const r=n.renderNodeCount,s=this.updateNodeAfterCollapseChange(n),a=r-(o===-1?0:1);return this.list.splice(o+1,a,s.slice(1)),d}_setNodeCollapseState(n,o,l){let c;if(n===this.root?c=!1:(g(o)?(c=n.collapsible!==o.collapsible,n.collapsible=o.collapsible):n.collapsible?(c=n.collapsed!==o.collapsed,n.collapsed=o.collapsed):c=!1,c&&this._onDidChangeCollapseState.fire({node:n,deep:l})),!g(o)&&o.recursive)for(const d of n.children)c=this._setNodeCollapseState(d,o,!0)||c;return c}expandTo(n){this.eventBufferer.bufferEvents(()=>{let o=this.getTreeNode(n);for(;o.parent;)o=o.parent,n=n.slice(0,n.length-1),o.collapsed&&this._setCollapseState(n,{collapsed:!1,recursive:!1})})}refilter(){const n=this.root.renderNodeCount,o=this.updateNodeAfterFilterChange(this.root);this.list.splice(0,n,o),this.refilterDelayer.cancel()}createTreeNode(n,o,l,c,d,r){const s={parent:o,element:n.element,children:[],depth:o.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:typeof n.collapsible=="boolean"?n.collapsible:typeof n.collapsed<"u",collapsed:typeof n.collapsed>"u"?this.collapseByDefault:n.collapsed,renderNodeCount:1,visibility:1,visible:!0,filterData:void 0},a=this._filterNode(s,l);s.visibility=a,c&&d.push(s);const u=n.children||b.Iterable.empty(),p=c&&a!==0&&!s.collapsed;let S=0,f=1;for(const v of u){const _=this.createTreeNode(v,s,a,p,d,r);s.children.push(_),f+=_.renderNodeCount,_.visible&&(_.visibleChildIndex=S++)}return s.collapsible=s.collapsible||s.children.length>0,s.visibleChildrenCount=S,s.visible=a===2?S>0:a===1,s.visible?s.collapsed||(s.renderNodeCount=f):(s.renderNodeCount=0,c&&d.pop()),r?.(s),s}updateNodeAfterCollapseChange(n){const o=n.renderNodeCount,l=[];return this._updateNodeAfterCollapseChange(n,l),this._updateAncestorsRenderNodeCount(n.parent,l.length-o),l}_updateNodeAfterCollapseChange(n,o){if(n.visible===!1)return 0;if(o.push(n),n.renderNodeCount=1,!n.collapsed)for(const l of n.children)n.renderNodeCount+=this._updateNodeAfterCollapseChange(l,o);return this._onDidChangeRenderNodeCount.fire(n),n.renderNodeCount}updateNodeAfterFilterChange(n){const o=n.renderNodeCount,l=[];return this._updateNodeAfterFilterChange(n,n.visible?1:0,l),this._updateAncestorsRenderNodeCount(n.parent,l.length-o),l}_updateNodeAfterFilterChange(n,o,l,c=!0){let d;if(n!==this.root){if(d=this._filterNode(n,o),d===0)return n.visible=!1,n.renderNodeCount=0,!1;c&&l.push(n)}const r=l.length;n.renderNodeCount=n===this.root?0:1;let s=!1;if(!n.collapsed||d!==0){let a=0;for(const u of n.children)s=this._updateNodeAfterFilterChange(u,d,l,c&&!n.collapsed)||s,u.visible&&(u.visibleChildIndex=a++);n.visibleChildrenCount=a}else n.visibleChildrenCount=0;return n!==this.root&&(n.visible=d===2?s:d===1,n.visibility=d),n.visible?n.collapsed||(n.renderNodeCount+=l.length-r):(n.renderNodeCount=0,c&&l.pop()),this._onDidChangeRenderNodeCount.fire(n),n.visible}_updateAncestorsRenderNodeCount(n,o){if(o!==0)for(;n;)n.renderNodeCount+=o,this._onDidChangeRenderNodeCount.fire(n),n=n.parent}_filterNode(n,o){const l=this.filter?this.filter.filter(n.element,o):1;return typeof l=="boolean"?(n.filterData=void 0,l?1:0):C(l)?(n.filterData=l.data,h(l.visibility)):(n.filterData=void 0,h(l))}hasTreeNode(n,o=this.root){if(!n||n.length===0)return!0;const[l,...c]=n;return l<0||l>o.children.length?!1:this.hasTreeNode(c,o.children[l])}getTreeNode(n,o=this.root){if(!n||n.length===0)return o;const[l,...c]=n;if(l<0||l>o.children.length)throw new w.TreeError(this.user,"Invalid tree location");return this.getTreeNode(c,o.children[l])}getTreeNodeWithListIndex(n){if(n.length===0)return{node:this.root,listIndex:-1,revealed:!0,visible:!1};const{parentNode:o,listIndex:l,revealed:c,visible:d}=this.getParentNodeWithListIndex(n),r=n[n.length-1];if(r<0||r>o.children.length)throw new w.TreeError(this.user,"Invalid tree location");const s=o.children[r];return{node:s,listIndex:l,revealed:c,visible:d&&s.visible}}getParentNodeWithListIndex(n,o=this.root,l=0,c=!0,d=!0){const[r,...s]=n;if(r<0||r>o.children.length)throw new w.TreeError(this.user,"Invalid tree location");for(let a=0;a<r;a++)l+=o.children[a].renderNodeCount;return c=c&&!o.collapsed,d=d&&o.visible,s.length===0?{parentNode:o,listIndex:l,revealed:c,visible:d}:this.getParentNodeWithListIndex(s,o.children[r],l+1,c,d)}getNode(n=[]){return this.getTreeNode(n)}getNodeLocation(n){const o=[];let l=n;for(;l.parent;)o.push(l.parent.children.indexOf(l)),l=l.parent;return o.reverse()}getParentNodeLocation(n){if(n.length!==0)return n.length===1?[]:(0,m.tail2)(n)[0]}getFirstElementChild(n){const o=this.getTreeNode(n);if(o.children.length!==0)return o.children[0].element}}e.IndexTreeModel=t}),define(se[200],re([1,0,199,123,55]),function(q,e,w,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ObjectTreeModel=void 0;class D{constructor(b,C,h={}){this.user=b,this.rootRef=null,this.nodes=new Map,this.nodesByIdentity=new Map,this.model=new w.IndexTreeModel(b,C,null,h),this.onDidSplice=this.model.onDidSplice,this.onDidChangeCollapseState=this.model.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.model.onDidChangeRenderNodeCount,h.sorter&&(this.sorter={compare(g,t){return h.sorter.compare(g.element,t.element)}}),this.identityProvider=h.identityProvider}setChildren(b,C=k.Iterable.empty(),h={}){const g=this.getElementLocation(b);this._setChildren(g,this.preserveCollapseState(C),h)}_setChildren(b,C=k.Iterable.empty(),h){const g=new Set,t=new Set,i=o=>{var l;if(o.element===null)return;const c=o;if(g.add(c.element),this.nodes.set(c.element,c),this.identityProvider){const d=this.identityProvider.getId(c.element).toString();t.add(d),this.nodesByIdentity.set(d,c)}(l=h.onDidCreateNode)===null||l===void 0||l.call(h,c)},n=o=>{var l;if(o.element===null)return;const c=o;if(g.has(c.element)||this.nodes.delete(c.element),this.identityProvider){const d=this.identityProvider.getId(c.element).toString();t.has(d)||this.nodesByIdentity.delete(d)}(l=h.onDidDeleteNode)===null||l===void 0||l.call(h,c)};this.model.splice([...b,0],Number.MAX_VALUE,C,Object.assign(Object.assign({},h),{onDidCreateNode:i,onDidDeleteNode:n}))}preserveCollapseState(b=k.Iterable.empty()){return this.sorter&&(b=[...b].sort(this.sorter.compare.bind(this.sorter))),k.Iterable.map(b,C=>{let h=this.nodes.get(C.element);if(!h&&this.identityProvider){const i=this.identityProvider.getId(C.element).toString();h=this.nodesByIdentity.get(i)}if(!h)return Object.assign(Object.assign({},C),{children:this.preserveCollapseState(C.children)});const g=typeof C.collapsible=="boolean"?C.collapsible:h.collapsible,t=typeof C.collapsed<"u"?C.collapsed:h.collapsed;return Object.assign(Object.assign({},C),{collapsible:g,collapsed:t,children:this.preserveCollapseState(C.children)})})}rerender(b){const C=this.getElementLocation(b);this.model.rerender(C)}getFirstElementChild(b=null){const C=this.getElementLocation(b);return this.model.getFirstElementChild(C)}has(b){return this.nodes.has(b)}getListIndex(b){const C=this.getElementLocation(b);return this.model.getListIndex(C)}getListRenderCount(b){const C=this.getElementLocation(b);return this.model.getListRenderCount(C)}isCollapsible(b){const C=this.getElementLocation(b);return this.model.isCollapsible(C)}setCollapsible(b,C){const h=this.getElementLocation(b);return this.model.setCollapsible(h,C)}isCollapsed(b){const C=this.getElementLocation(b);return this.model.isCollapsed(C)}setCollapsed(b,C,h){const g=this.getElementLocation(b);return this.model.setCollapsed(g,C,h)}expandTo(b){const C=this.getElementLocation(b);this.model.expandTo(C)}refilter(){this.model.refilter()}getNode(b=null){if(b===null)return this.model.getNode(this.model.rootRef);const C=this.nodes.get(b);if(!C)throw new m.TreeError(this.user,`Tree element not found: ${b}`);return C}getNodeLocation(b){return b.element}getParentNodeLocation(b){if(b===null)throw new m.TreeError(this.user,"Invalid getParentNodeLocation call");const C=this.nodes.get(b);if(!C)throw new m.TreeError(this.user,`Tree element not found: ${b}`);const h=this.model.getNodeLocation(C),g=this.model.getParentNodeLocation(h);return this.model.getNode(g).element}getElementLocation(b){if(b===null)return[];const C=this.nodes.get(b);if(!C)throw new m.TreeError(this.user,`Tree element not found: ${b}`);return this.model.getNodeLocation(C)}}e.ObjectTreeModel=D}),define(se[495],re([1,0,200,123,6,55]),function(q,e,w,m,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompressibleObjectTreeModel=e.DefaultElementMapper=e.CompressedObjectTreeModel=e.decompress=e.compress=void 0;function L(r){const s=[r.element],a=r.incompressible||!1;return{element:{elements:s,incompressible:a},children:D.Iterable.map(D.Iterable.from(r.children),L),collapsible:r.collapsible,collapsed:r.collapsed}}function b(r){const s=[r.element],a=r.incompressible||!1;let u,p;for(;[p,u]=D.Iterable.consume(D.Iterable.from(r.children),2),!(p.length!==1||p[0].incompressible);)r=p[0],s.push(r.element);return{element:{elements:s,incompressible:a},children:D.Iterable.map(D.Iterable.concat(p,u),b),collapsible:r.collapsible,collapsed:r.collapsed}}e.compress=b;function C(r,s=0){let a;return s<r.element.elements.length-1?a=[C(r,s+1)]:a=D.Iterable.map(D.Iterable.from(r.children),u=>C(u,0)),s===0&&r.element.incompressible?{element:r.element.elements[s],children:a,incompressible:!0,collapsible:r.collapsible,collapsed:r.collapsed}:{element:r.element.elements[s],children:a,collapsible:r.collapsible,collapsed:r.collapsed}}function h(r){return C(r,0)}e.decompress=h;function g(r,s,a){return r.element===s?Object.assign(Object.assign({},r),{children:a}):Object.assign(Object.assign({},r),{children:D.Iterable.map(D.Iterable.from(r.children),u=>g(u,s,a))})}const t=r=>({getId(s){return s.elements.map(a=>r.getId(a).toString()).join("\0")}});class i{get onDidSplice(){return this.model.onDidSplice}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get onDidChangeRenderNodeCount(){return this.model.onDidChangeRenderNodeCount}constructor(s,a,u={}){this.user=s,this.rootRef=null,this.nodes=new Map,this.model=new w.ObjectTreeModel(s,a,u),this.enabled=typeof u.compressionEnabled>"u"?!0:u.compressionEnabled,this.identityProvider=u.identityProvider}setChildren(s,a=D.Iterable.empty(),u){const p=u.diffIdentityProvider&&t(u.diffIdentityProvider);if(s===null){const R=D.Iterable.map(a,this.enabled?b:L);this._setChildren(null,R,{diffIdentityProvider:p,diffDepth:1/0});return}const S=this.nodes.get(s);if(!S)throw new Error("Unknown compressed tree node");const f=this.model.getNode(S),v=this.model.getParentNodeLocation(S),_=this.model.getNode(v),y=h(f),E=g(y,s,a),T=(this.enabled?b:L)(E),I=_.children.map(R=>R===f?T:R);this._setChildren(_.element,I,{diffIdentityProvider:p,diffDepth:f.depth-_.depth})}setCompressionEnabled(s){if(s===this.enabled)return;this.enabled=s;const u=this.model.getNode().children,p=D.Iterable.map(u,h),S=D.Iterable.map(p,s?b:L);this._setChildren(null,S,{diffIdentityProvider:this.identityProvider,diffDepth:1/0})}_setChildren(s,a,u){const p=new Set,S=v=>{for(const _ of v.element.elements)p.add(_),this.nodes.set(_,v.element)},f=v=>{for(const _ of v.element.elements)p.has(_)||this.nodes.delete(_)};this.model.setChildren(s,a,Object.assign(Object.assign({},u),{onDidCreateNode:S,onDidDeleteNode:f}))}has(s){return this.nodes.has(s)}getListIndex(s){const a=this.getCompressedNode(s);return this.model.getListIndex(a)}getListRenderCount(s){const a=this.getCompressedNode(s);return this.model.getListRenderCount(a)}getNode(s){if(typeof s>"u")return this.model.getNode();const a=this.getCompressedNode(s);return this.model.getNode(a)}getNodeLocation(s){const a=this.model.getNodeLocation(s);return a===null?null:a.elements[a.elements.length-1]}getParentNodeLocation(s){const a=this.getCompressedNode(s),u=this.model.getParentNodeLocation(a);return u===null?null:u.elements[u.elements.length-1]}getFirstElementChild(s){const a=this.getCompressedNode(s);return this.model.getFirstElementChild(a)}isCollapsible(s){const a=this.getCompressedNode(s);return this.model.isCollapsible(a)}setCollapsible(s,a){const u=this.getCompressedNode(s);return this.model.setCollapsible(u,a)}isCollapsed(s){const a=this.getCompressedNode(s);return this.model.isCollapsed(a)}setCollapsed(s,a,u){const p=this.getCompressedNode(s);return this.model.setCollapsed(p,a,u)}expandTo(s){const a=this.getCompressedNode(s);this.model.expandTo(a)}rerender(s){const a=this.getCompressedNode(s);this.model.rerender(a)}refilter(){this.model.refilter()}getCompressedNode(s){if(s===null)return null;const a=this.nodes.get(s);if(!a)throw new m.TreeError(this.user,`Tree element not found: ${s}`);return a}}e.CompressedObjectTreeModel=i;const n=r=>r[r.length-1];e.DefaultElementMapper=n;class o{get element(){return this.node.element===null?null:this.unwrapper(this.node.element)}get children(){return this.node.children.map(s=>new o(this.unwrapper,s))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}constructor(s,a){this.unwrapper=s,this.node=a}}function l(r,s){return{splice(a,u,p){s.splice(a,u,p.map(S=>r.map(S)))},updateElementHeight(a,u){s.updateElementHeight(a,u)}}}function c(r,s){return Object.assign(Object.assign({},s),{identityProvider:s.identityProvider&&{getId(a){return s.identityProvider.getId(r(a))}},sorter:s.sorter&&{compare(a,u){return s.sorter.compare(a.elements[0],u.elements[0])}},filter:s.filter&&{filter(a,u){return s.filter.filter(r(a),u)}}})}class d{get onDidSplice(){return k.Event.map(this.model.onDidSplice,({insertedNodes:s,deletedNodes:a})=>({insertedNodes:s.map(u=>this.nodeMapper.map(u)),deletedNodes:a.map(u=>this.nodeMapper.map(u))}))}get onDidChangeCollapseState(){return k.Event.map(this.model.onDidChangeCollapseState,({node:s,deep:a})=>({node:this.nodeMapper.map(s),deep:a}))}get onDidChangeRenderNodeCount(){return k.Event.map(this.model.onDidChangeRenderNodeCount,s=>this.nodeMapper.map(s))}constructor(s,a,u={}){this.rootRef=null,this.elementMapper=u.elementMapper||e.DefaultElementMapper;const p=S=>this.elementMapper(S.elements);this.nodeMapper=new m.WeakMapper(S=>new o(p,S)),this.model=new i(s,l(this.nodeMapper,a),c(p,u))}setChildren(s,a=D.Iterable.empty(),u={}){this.model.setChildren(s,a,u)}setCompressionEnabled(s){this.model.setCompressionEnabled(s)}has(s){return this.model.has(s)}getListIndex(s){return this.model.getListIndex(s)}getListRenderCount(s){return this.model.getListRenderCount(s)}getNode(s){return this.nodeMapper.map(this.model.getNode(s))}getNodeLocation(s){return s.element}getParentNodeLocation(s){return this.model.getParentNodeLocation(s)}getFirstElementChild(s){const a=this.model.getFirstElementChild(s);return a===null||typeof a>"u"?a:this.elementMapper(a.elements)}isCollapsible(s){return this.model.isCollapsible(s)}setCollapsible(s,a){return this.model.setCollapsible(s,a)}isCollapsed(s){return this.model.isCollapsed(s)}setCollapsed(s,a,u){return this.model.setCollapsed(s,a,u)}expandTo(s){return this.model.expandTo(s)}rerender(s){return this.model.rerender(s)}refilter(){return this.model.refilter()}getCompressedTreeNode(s=null){return this.model.getNode(s)}}e.CompressibleObjectTreeModel=d}),define(se[496],re([1,0,10]),function(q,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compareByPrefix=e.compareAnything=e.compareFileNames=void 0;const m=new w.IdleValue(()=>{const h=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});return{collator:h,collatorIsNumeric:h.resolvedOptions().numeric}}),k=new w.IdleValue(()=>({collator:new Intl.Collator(void 0,{numeric:!0})})),D=new w.IdleValue(()=>({collator:new Intl.Collator(void 0,{numeric:!0,sensitivity:"accent"})}));function L(h,g,t=!1){const i=h||"",n=g||"",o=m.value.collator.compare(i,n);return m.value.collatorIsNumeric&&o===0&&i!==n?i<n?-1:1:o}e.compareFileNames=L;function b(h,g,t){const i=h.toLowerCase(),n=g.toLowerCase(),o=C(h,g,t);if(o)return o;const l=i.endsWith(t),c=n.endsWith(t);if(l!==c)return l?-1:1;const d=L(i,n);return d!==0?d:i.localeCompare(n)}e.compareAnything=b;function C(h,g,t){const i=h.toLowerCase(),n=g.toLowerCase(),o=i.startsWith(t),l=n.startsWith(t);if(o!==l)return o?-1:1;if(o&&l){if(i.length<n.length)return-1;if(i.length>n.length)return 1}return 0}e.compareByPrefix=C}),define(se[258],re([1,0,10,197,59,85,17,8]),function(q,e,w,m,k,D,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isRelativePattern=e.parse=e.match=e.splitGlobAware=e.GLOB_SPLIT=e.GLOBSTAR=void 0,e.GLOBSTAR="**",e.GLOB_SPLIT="/";const C="[/\\\\]",h="[^/\\\\]",g=/\//g;function t(B,W){switch(B){case 0:return"";case 1:return`${h}*?`;default:return`(?:${C}|${h}+${C}${W?`|${C}${h}+`:""})*?`}}function i(B,W){if(!B)return[];const x=[];let P=!1,X=!1,ie="";for(const K of B){switch(K){case W:if(!P&&!X){x.push(ie),ie="";continue}break;case"{":P=!0;break;case"}":P=!1;break;case"[":X=!0;break;case"]":X=!1;break}ie+=K}return ie&&x.push(ie),x}e.splitGlobAware=i;function n(B){if(!B)return"";let W="";const x=i(B,e.GLOB_SPLIT);if(x.every(P=>P===e.GLOBSTAR))W=".*";else{let P=!1;x.forEach((X,ie)=>{if(X===e.GLOBSTAR){if(P)return;W+=t(2,ie===x.length-1)}else{let K=!1,G="",Q=!1,ne="";for(const Z of X){if(Z!=="}"&&K){G+=Z;continue}if(Q&&(Z!=="]"||!ne)){let ee;Z==="-"?ee=Z:(Z==="^"||Z==="!")&&!ne?ee="^":Z===e.GLOB_SPLIT?ee="":ee=(0,b.escapeRegExpCharacters)(Z),ne+=ee;continue}switch(Z){case"{":K=!0;continue;case"[":Q=!0;continue;case"}":{W+=`(?:${i(G,",").map(V=>n(V)).join("|")})`,K=!1,G="";break}case"]":{W+="["+ne+"]",Q=!1,ne="";break}case"?":W+=h;continue;case"*":W+=t(1);continue;default:W+=(0,b.escapeRegExpCharacters)(Z)}}ie<x.length-1&&(x[ie+1]!==e.GLOBSTAR||ie+2<x.length)&&(W+=C)}P=X===e.GLOBSTAR})}return W}const o=/^\*\*\/\*\.[\w\.-]+$/,l=/^\*\*\/([\w\.-]+)\/?$/,c=/^{\*\*\/\*?[\w\.-]+\/?(,\*\*\/\*?[\w\.-]+\/?)*}$/,d=/^{\*\*\/\*?[\w\.-]+(\/(\*\*)?)?(,\*\*\/\*?[\w\.-]+(\/(\*\*)?)?)*}$/,r=/^\*\*((\/[\w\.-]+)+)\/?$/,s=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,a=new k.LRUCache(1e4),u=function(){return!1},p=function(){return null};function S(B,W){if(!B)return p;let x;typeof B!="string"?x=B.pattern:x=B,x=x.trim();const P=`${x}_${!!W.trimForExclusions}`;let X=a.get(P);if(X)return f(X,B);let ie;return o.test(x)?X=_(x.substr(4),x):(ie=l.exec(v(x,W)))?X=y(ie[1],x):(W.trimForExclusions?d:c).test(x)?X=E(x,W):(ie=r.exec(v(x,W)))?X=T(ie[1].substr(1),x,!0):(ie=s.exec(v(x,W)))?X=T(ie[1],x,!1):X=I(x),a.set(P,X),f(X,B)}function f(B,W){if(typeof W=="string")return B;const x=function(P,X){return(0,m.isEqualOrParent)(P,W.base,!L.isLinux)?B(P.substr(W.base.length+1),X):null};return x.allBasenames=B.allBasenames,x.allPaths=B.allPaths,x.basenames=B.basenames,x.patterns=B.patterns,x}function v(B,W){return W.trimForExclusions&&B.endsWith("/**")?B.substr(0,B.length-2):B}function _(B,W){return function(x,P){return typeof x=="string"&&x.endsWith(B)?W:null}}function y(B,W){const x=`/${B}`,P=`\\${B}`,X=function(K,G){return typeof K!="string"?null:G?G===B?W:null:K===B||K.endsWith(x)||K.endsWith(P)?W:null},ie=[B];return X.basenames=ie,X.patterns=[W],X.allBasenames=ie,X}function E(B,W){const x=A(B.slice(1,-1).split(",").map(G=>S(G,W)).filter(G=>G!==p),B),P=x.length;if(!P)return p;if(P===1)return x[0];const X=function(G,Q){for(let ne=0,Z=x.length;ne<Z;ne++)if(x[ne](G,Q))return B;return null},ie=x.find(G=>!!G.allBasenames);ie&&(X.allBasenames=ie.allBasenames);const K=x.reduce((G,Q)=>Q.allPaths?G.concat(Q.allPaths):G,[]);return K.length&&(X.allPaths=K),X}function T(B,W,x){const P=D.sep===D.posix.sep,X=P?B:B.replace(g,D.sep),ie=D.sep+X,K=D.posix.sep+B;let G;return x?G=function(Q,ne){return typeof Q=="string"&&(Q===X||Q.endsWith(ie)||!P&&(Q===B||Q.endsWith(K)))?W:null}:G=function(Q,ne){return typeof Q=="string"&&(Q===X||!P&&Q===B)?W:null},G.allPaths=[(x?"*/":"./")+B],G}function I(B){try{const W=new RegExp(`^${n(B)}$`);return function(x){return W.lastIndex=0,typeof x=="string"&&W.test(x)?B:null}}catch{return p}}function R(B,W,x){return!B||typeof W!="string"?!1:F(B)(W,void 0,x)}e.match=R;function F(B,W={}){if(!B)return u;if(typeof B=="string"||O(B)){const x=S(B,W);if(x===p)return u;const P=function(X,ie){return!!x(X,ie)};return x.allBasenames&&(P.allBasenames=x.allBasenames),x.allPaths&&(P.allPaths=x.allPaths),P}return M(B,W)}e.parse=F;function O(B){const W=B;return W?typeof W.base=="string"&&typeof W.pattern=="string":!1}e.isRelativePattern=O;function M(B,W){const x=A(Object.getOwnPropertyNames(B).map(G=>N(G,B[G],W)).filter(G=>G!==p)),P=x.length;if(!P)return p;if(!x.some(G=>!!G.requiresSiblings)){if(P===1)return x[0];const G=function(Z,ee){let le;for(let V=0,$=x.length;V<$;V++){const oe=x[V](Z,ee);if(typeof oe=="string")return oe;(0,w.isThenable)(oe)&&(le||(le=[]),le.push(oe))}return le?(()=>Se(this,void 0,void 0,function*(){for(const V of le){const $=yield V;if(typeof $=="string")return $}return null}))():null},Q=x.find(Z=>!!Z.allBasenames);Q&&(G.allBasenames=Q.allBasenames);const ne=x.reduce((Z,ee)=>ee.allPaths?Z.concat(ee.allPaths):Z,[]);return ne.length&&(G.allPaths=ne),G}const X=function(G,Q,ne){let Z,ee;for(let le=0,V=x.length;le<V;le++){const $=x[le];$.requiresSiblings&&ne&&(Q||(Q=(0,D.basename)(G)),Z||(Z=Q.substr(0,Q.length-(0,D.extname)(G).length)));const oe=$(G,Q,Z,ne);if(typeof oe=="string")return oe;(0,w.isThenable)(oe)&&(ee||(ee=[]),ee.push(oe))}return ee?(()=>Se(this,void 0,void 0,function*(){for(const le of ee){const V=yield le;if(typeof V=="string")return V}return null}))():null},ie=x.find(G=>!!G.allBasenames);ie&&(X.allBasenames=ie.allBasenames);const K=x.reduce((G,Q)=>Q.allPaths?G.concat(Q.allPaths):G,[]);return K.length&&(X.allPaths=K),X}function N(B,W,x){if(W===!1)return p;const P=S(B,x);if(P===p)return p;if(typeof W=="boolean")return P;if(W){const X=W.when;if(typeof X=="string"){const ie=(K,G,Q,ne)=>{if(!ne||!P(K,G))return null;const Z=X.replace("$(basename)",Q),ee=ne(Z);return(0,w.isThenable)(ee)?ee.then(le=>le?B:null):ee?B:null};return ie.requiresSiblings=!0,ie}}return P}function A(B,W){const x=B.filter(G=>!!G.basenames);if(x.length<2)return B;const P=x.reduce((G,Q)=>{const ne=Q.basenames;return ne?G.concat(ne):G},[]);let X;if(W){X=[];for(let G=0,Q=P.length;G<Q;G++)X.push(W)}else X=x.reduce((G,Q)=>{const ne=Q.patterns;return ne?G.concat(ne):G},[]);const ie=function(G,Q){if(typeof G!="string")return null;if(!Q){let Z;for(Z=G.length;Z>0;Z--){const ee=G.charCodeAt(Z-1);if(ee===47||ee===92)break}Q=G.substr(Z)}const ne=P.indexOf(Q);return ne!==-1?X[ne]:null};ie.basenames=P,ie.patterns=X,ie.allBasenames=P;const K=B.filter(G=>!G.basenames);return K.push(ie),K}}),define(se[162],re([1,0,6,2]),function(q,e,w,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SmoothScrollingOperation=e.SmoothScrollingUpdate=e.Scrollable=e.ScrollState=void 0;class k{constructor(n,o,l,c,d,r,s){this._forceIntegerValues=n,this._scrollStateBrand=void 0,this._forceIntegerValues&&(o=o|0,l=l|0,c=c|0,d=d|0,r=r|0,s=s|0),this.rawScrollLeft=c,this.rawScrollTop=s,o<0&&(o=0),c+o>l&&(c=l-o),c<0&&(c=0),d<0&&(d=0),s+d>r&&(s=r-d),s<0&&(s=0),this.width=o,this.scrollWidth=l,this.scrollLeft=c,this.height=d,this.scrollHeight=r,this.scrollTop=s}equals(n){return this.rawScrollLeft===n.rawScrollLeft&&this.rawScrollTop===n.rawScrollTop&&this.width===n.width&&this.scrollWidth===n.scrollWidth&&this.scrollLeft===n.scrollLeft&&this.height===n.height&&this.scrollHeight===n.scrollHeight&&this.scrollTop===n.scrollTop}withScrollDimensions(n,o){return new k(this._forceIntegerValues,typeof n.width<"u"?n.width:this.width,typeof n.scrollWidth<"u"?n.scrollWidth:this.scrollWidth,o?this.rawScrollLeft:this.scrollLeft,typeof n.height<"u"?n.height:this.height,typeof n.scrollHeight<"u"?n.scrollHeight:this.scrollHeight,o?this.rawScrollTop:this.scrollTop)}withScrollPosition(n){return new k(this._forceIntegerValues,this.width,this.scrollWidth,typeof n.scrollLeft<"u"?n.scrollLeft:this.rawScrollLeft,this.height,this.scrollHeight,typeof n.scrollTop<"u"?n.scrollTop:this.rawScrollTop)}createScrollEvent(n,o){const l=this.width!==n.width,c=this.scrollWidth!==n.scrollWidth,d=this.scrollLeft!==n.scrollLeft,r=this.height!==n.height,s=this.scrollHeight!==n.scrollHeight,a=this.scrollTop!==n.scrollTop;return{inSmoothScrolling:o,oldWidth:n.width,oldScrollWidth:n.scrollWidth,oldScrollLeft:n.scrollLeft,width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,oldHeight:n.height,oldScrollHeight:n.scrollHeight,oldScrollTop:n.scrollTop,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:l,scrollWidthChanged:c,scrollLeftChanged:d,heightChanged:r,scrollHeightChanged:s,scrollTopChanged:a}}}e.ScrollState=k;class D extends m.Disposable{constructor(n){super(),this._scrollableBrand=void 0,this._onScroll=this._register(new w.Emitter),this.onScroll=this._onScroll.event,this._smoothScrollDuration=n.smoothScrollDuration,this._scheduleAtNextAnimationFrame=n.scheduleAtNextAnimationFrame,this._state=new k(n.forceIntegerValues,0,0,0,0,0,0),this._smoothScrolling=null}dispose(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),super.dispose()}setSmoothScrollDuration(n){this._smoothScrollDuration=n}validateScrollPosition(n){return this._state.withScrollPosition(n)}getScrollDimensions(){return this._state}setScrollDimensions(n,o){var l;const c=this._state.withScrollDimensions(n,o);this._setState(c,Boolean(this._smoothScrolling)),(l=this._smoothScrolling)===null||l===void 0||l.acceptScrollDimensions(this._state)}getFutureScrollPosition(){return this._smoothScrolling?this._smoothScrolling.to:this._state}getCurrentScrollPosition(){return this._state}setScrollPositionNow(n){const o=this._state.withScrollPosition(n);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(o,!1)}setScrollPositionSmooth(n,o){if(this._smoothScrollDuration===0)return this.setScrollPositionNow(n);if(this._smoothScrolling){n={scrollLeft:typeof n.scrollLeft>"u"?this._smoothScrolling.to.scrollLeft:n.scrollLeft,scrollTop:typeof n.scrollTop>"u"?this._smoothScrolling.to.scrollTop:n.scrollTop};const l=this._state.withScrollPosition(n);if(this._smoothScrolling.to.scrollLeft===l.scrollLeft&&this._smoothScrolling.to.scrollTop===l.scrollTop)return;let c;o?c=new h(this._smoothScrolling.from,l,this._smoothScrolling.startTime,this._smoothScrolling.duration):c=this._smoothScrolling.combine(this._state,l,this._smoothScrollDuration),this._smoothScrolling.dispose(),this._smoothScrolling=c}else{const l=this._state.withScrollPosition(n);this._smoothScrolling=h.start(this._state,l,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{!this._smoothScrolling||(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}_performSmoothScrolling(){if(!this._smoothScrolling)return;const n=this._smoothScrolling.tick(),o=this._state.withScrollPosition(n);if(this._setState(o,!0),!!this._smoothScrolling){if(n.isDone){this._smoothScrolling.dispose(),this._smoothScrolling=null;return}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{!this._smoothScrolling||(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}}_setState(n,o){const l=this._state;l.equals(n)||(this._state=n,this._onScroll.fire(this._state.createScrollEvent(l,o)))}}e.Scrollable=D;class L{constructor(n,o,l){this.scrollLeft=n,this.scrollTop=o,this.isDone=l}}e.SmoothScrollingUpdate=L;function b(i,n){const o=n-i;return function(l){return i+o*t(l)}}function C(i,n,o){return function(l){return l<o?i(l/o):n((l-o)/(1-o))}}class h{constructor(n,o,l,c){this.from=n,this.to=o,this.duration=c,this.startTime=l,this.animationFrameDisposable=null,this._initAnimations()}_initAnimations(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)}_initAnimation(n,o,l){if(Math.abs(n-o)>2.5*l){let d,r;return n<o?(d=n+.75*l,r=o-.75*l):(d=n-.75*l,r=o+.75*l),C(b(n,d),b(r,o),.33)}return b(n,o)}dispose(){this.animationFrameDisposable!==null&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)}acceptScrollDimensions(n){this.to=n.withScrollPosition(this.to),this._initAnimations()}tick(){return this._tick(Date.now())}_tick(n){const o=(n-this.startTime)/this.duration;if(o<1){const l=this.scrollLeft(o),c=this.scrollTop(o);return new L(l,c,!1)}return new L(this.to.scrollLeft,this.to.scrollTop,!0)}combine(n,o,l){return h.start(n,o,l)}static start(n,o,l){l=l+10;const c=Date.now()-10;return new h(n,o,c,l)}}e.SmoothScrollingOperation=h;function g(i){return Math.pow(i,3)}function t(i){return 1-g(1-i)}}),define(se[22],re([1,0,85,17]),function(q,e,w,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.uriToFsPath=e.URI=void 0;const k=/^\w[\w\d+.-]*$/,D=/^\//,L=/^\/\//;function b(f,v){if(!f.scheme&&v)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${f.authority}", path: "${f.path}", query: "${f.query}", fragment: "${f.fragment}"}`);if(f.scheme&&!k.test(f.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(f.path){if(f.authority){if(!D.test(f.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(L.test(f.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}function C(f,v){return!f&&!v?"file":f}function h(f,v){switch(f){case"https":case"http":case"file":v?v[0]!==t&&(v=t+v):v=t;break}return v}const g="",t="/",i=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class n{static isUri(v){return v instanceof n?!0:v?typeof v.authority=="string"&&typeof v.fragment=="string"&&typeof v.path=="string"&&typeof v.query=="string"&&typeof v.scheme=="string"&&typeof v.fsPath=="string"&&typeof v.with=="function"&&typeof v.toString=="function":!1}constructor(v,_,y,E,T,I=!1){typeof v=="object"?(this.scheme=v.scheme||g,this.authority=v.authority||g,this.path=v.path||g,this.query=v.query||g,this.fragment=v.fragment||g):(this.scheme=C(v,I),this.authority=_||g,this.path=h(this.scheme,y||g),this.query=E||g,this.fragment=T||g,b(this,I))}get fsPath(){return s(this,!1)}with(v){if(!v)return this;let{scheme:_,authority:y,path:E,query:T,fragment:I}=v;return _===void 0?_=this.scheme:_===null&&(_=g),y===void 0?y=this.authority:y===null&&(y=g),E===void 0?E=this.path:E===null&&(E=g),T===void 0?T=this.query:T===null&&(T=g),I===void 0?I=this.fragment:I===null&&(I=g),_===this.scheme&&y===this.authority&&E===this.path&&T===this.query&&I===this.fragment?this:new l(_,y,E,T,I)}static parse(v,_=!1){const y=i.exec(v);return y?new l(y[2]||g,S(y[4]||g),S(y[5]||g),S(y[7]||g),S(y[9]||g),_):new l(g,g,g,g,g)}static file(v){let _=g;if(m.isWindows&&(v=v.replace(/\\/g,t)),v[0]===t&&v[1]===t){const y=v.indexOf(t,2);y===-1?(_=v.substring(2),v=t):(_=v.substring(2,y),v=v.substring(y)||t)}return new l("file",_,v,g,g)}static from(v){const _=new l(v.scheme,v.authority,v.path,v.query,v.fragment);return b(_,!0),_}static joinPath(v,..._){if(!v.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let y;return m.isWindows&&v.scheme==="file"?y=n.file(w.win32.join(s(v,!0),..._)).path:y=w.posix.join(v.path,..._),v.with({path:y})}toString(v=!1){return a(this,v)}toJSON(){return this}static revive(v){if(v){if(v instanceof n)return v;{const _=new l(v);return _._formatted=v.external,_._fsPath=v._sep===o?v.fsPath:null,_}}else return v}}e.URI=n;const o=m.isWindows?1:void 0;class l extends n{constructor(){super(...arguments),this._formatted=null,this._fsPath=null}get fsPath(){return this._fsPath||(this._fsPath=s(this,!1)),this._fsPath}toString(v=!1){return v?a(this,!0):(this._formatted||(this._formatted=a(this,!1)),this._formatted)}toJSON(){const v={$mid:1};return this._fsPath&&(v.fsPath=this._fsPath,v._sep=o),this._formatted&&(v.external=this._formatted),this.path&&(v.path=this.path),this.scheme&&(v.scheme=this.scheme),this.authority&&(v.authority=this.authority),this.query&&(v.query=this.query),this.fragment&&(v.fragment=this.fragment),v}}const c={[58]:"%3A",[47]:"%2F",[63]:"%3F",[35]:"%23",[91]:"%5B",[93]:"%5D",[64]:"%40",[33]:"%21",[36]:"%24",[38]:"%26",[39]:"%27",[40]:"%28",[41]:"%29",[42]:"%2A",[43]:"%2B",[44]:"%2C",[59]:"%3B",[61]:"%3D",[32]:"%20"};function d(f,v){let _,y=-1;for(let E=0;E<f.length;E++){const T=f.charCodeAt(E);if(T>=97&&T<=122||T>=65&&T<=90||T>=48&&T<=57||T===45||T===46||T===95||T===126||v&&T===47)y!==-1&&(_+=encodeURIComponent(f.substring(y,E)),y=-1),_!==void 0&&(_+=f.charAt(E));else{_===void 0&&(_=f.substr(0,E));const I=c[T];I!==void 0?(y!==-1&&(_+=encodeURIComponent(f.substring(y,E)),y=-1),_+=I):y===-1&&(y=E)}}return y!==-1&&(_+=encodeURIComponent(f.substring(y))),_!==void 0?_:f}function r(f){let v;for(let _=0;_<f.length;_++){const y=f.charCodeAt(_);y===35||y===63?(v===void 0&&(v=f.substr(0,_)),v+=c[y]):v!==void 0&&(v+=f[_])}return v!==void 0?v:f}function s(f,v){let _;return f.authority&&f.path.length>1&&f.scheme==="file"?_=`//${f.authority}${f.path}`:f.path.charCodeAt(0)===47&&(f.path.charCodeAt(1)>=65&&f.path.charCodeAt(1)<=90||f.path.charCodeAt(1)>=97&&f.path.charCodeAt(1)<=122)&&f.path.charCodeAt(2)===58?v?_=f.path.substr(1):_=f.path[1].toLowerCase()+f.path.substr(2):_=f.path,m.isWindows&&(_=_.replace(/\//g,"\\")),_}e.uriToFsPath=s;function a(f,v){const _=v?r:d;let y="",{scheme:E,authority:T,path:I,query:R,fragment:F}=f;if(E&&(y+=E,y+=":"),(T||E==="file")&&(y+=t,y+=t),T){let O=T.indexOf("@");if(O!==-1){const M=T.substr(0,O);T=T.substr(O+1),O=M.indexOf(":"),O===-1?y+=_(M,!1):(y+=_(M.substr(0,O),!1),y+=":",y+=_(M.substr(O+1),!1)),y+="@"}T=T.toLowerCase(),O=T.indexOf(":"),O===-1?y+=_(T,!1):(y+=_(T.substr(0,O),!1),y+=T.substr(O))}if(I){if(I.length>=3&&I.charCodeAt(0)===47&&I.charCodeAt(2)===58){const O=I.charCodeAt(1);O>=65&&O<=90&&(I=`/${String.fromCharCode(O+32)}:${I.substr(3)}`)}else if(I.length>=2&&I.charCodeAt(1)===58){const O=I.charCodeAt(0);O>=65&&O<=90&&(I=`${String.fromCharCode(O+32)}:${I.substr(2)}`)}y+=_(I,!0)}return R&&(y+="?",y+=_(R,!1)),F&&(y+="#",y+=v?F:d(F,!1)),y}function u(f){try{return decodeURIComponent(f)}catch{return f.length>3?f.substr(0,3)+u(f.substr(3)):f}}const p=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function S(f){return f.match(p)?f.replace(p,v=>u(v)):f}}),define(se[201],re([1,0,124,22]),function(q,e,w,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.revive=e.parse=void 0;function k(L){let b=JSON.parse(L);return b=D(b),b}e.parse=k;function D(L,b=0){if(!L||b>200)return L;if(typeof L=="object"){switch(L.$mid){case 1:return m.URI.revive(L);case 2:return new RegExp(L.source,L.flags);case 15:return new Date(L.source)}if(L instanceof w.VSBuffer||L instanceof Uint8Array)return L;if(Array.isArray(L))for(let C=0;C<L.length;++C)L[C]=D(L[C],b+1);else for(const C in L)Object.hasOwnProperty.call(L,C)&&(L[C]=D(L[C],b+1))}return L}e.revive=D}),define(se[49],re([1,0,17,22]),function(q,e,w,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.COI=e.FileAccess=e.RemoteAuthorities=e.connectionTokenQueryName=e.Schemas=void 0;var k;(function(C){C.inMemory="inmemory",C.vscode="vscode",C.internal="private",C.walkThrough="walkThrough",C.walkThroughSnippet="walkThroughSnippet",C.http="http",C.https="https",C.file="file",C.mailto="mailto",C.untitled="untitled",C.data="data",C.command="command",C.vscodeRemote="vscode-remote",C.vscodeRemoteResource="vscode-remote-resource",C.vscodeUserData="vscode-userdata",C.vscodeCustomEditor="vscode-custom-editor",C.vscodeNotebook="vscode-notebook",C.vscodeNotebookCell="vscode-notebook-cell",C.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",C.vscodeNotebookCellOutput="vscode-notebook-cell-output",C.vscodeInteractive="vscode-interactive",C.vscodeInteractiveInput="vscode-interactive-input",C.vscodeSettings="vscode-settings",C.vscodeWorkspaceTrust="vscode-workspace-trust",C.vscodeTerminal="vscode-terminal",C.webviewPanel="webview-panel",C.vscodeWebview="vscode-webview",C.extension="extension",C.vscodeFileResource="vscode-file",C.tmp="tmp",C.vsls="vsls",C.vscodeSourceControl="vscode-scm"})(k=e.Schemas||(e.Schemas={})),e.connectionTokenQueryName="tkn";class D{constructor(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null,this._remoteResourcesPath=`/${k.vscodeRemoteResource}`}setPreferredWebSchema(h){this._preferredWebSchema=h}rewrite(h){if(this._delegate)return this._delegate(h);const g=h.authority;let t=this._hosts[g];t&&t.indexOf(":")!==-1&&t.indexOf("[")===-1&&(t=`[${t}]`);const i=this._ports[g],n=this._connectionTokens[g];let o=`path=${encodeURIComponent(h.path)}`;return typeof n=="string"&&(o+=`&${e.connectionTokenQueryName}=${encodeURIComponent(n)}`),m.URI.from({scheme:w.isWeb?this._preferredWebSchema:k.vscodeRemoteResource,authority:`${t}:${i}`,path:this._remoteResourcesPath,query:o})}}e.RemoteAuthorities=new D;class L{asBrowserUri(h,g){const t=this.toUri(h,g);return t.scheme===k.vscodeRemote?e.RemoteAuthorities.rewrite(t):t.scheme===k.file&&(w.isNative||w.isWebWorker&&w.globals.origin===`${k.vscodeFileResource}://${L.FALLBACK_AUTHORITY}`)?t.with({scheme:k.vscodeFileResource,authority:t.authority||L.FALLBACK_AUTHORITY,query:null,fragment:null}):t}toUri(h,g){return m.URI.isUri(h)?h:m.URI.parse(g.toUrl(h))}}L.FALLBACK_AUTHORITY="vscode-app",e.FileAccess=new L;var b;(function(C){const h=new Map([["1",{"Cross-Origin-Opener-Policy":"same-origin"}],["2",{"Cross-Origin-Embedder-Policy":"require-corp"}],["3",{"Cross-Origin-Opener-Policy":"same-origin","Cross-Origin-Embedder-Policy":"require-corp"}]]);C.CoopAndCoep=Object.freeze(h.get("3"));const g="vscode-coi";function t(n){let o;typeof n=="string"?o=new URL(n).searchParams:n instanceof URL?o=n.searchParams:m.URI.isUri(n)&&(o=new URL(n.toString(!0)).searchParams);const l=o?.get(g);if(!!l)return h.get(l)}C.getHeadersFromQuery=t;function i(n,o,l){if(!globalThis.crossOriginIsolated)return;const c=o&&l?"3":l?"2":"1";n instanceof URLSearchParams?n.set(g,c):n[g]=c}C.addSearchParam=i})(b=e.COI||(e.COI={}))}),define(se[7],re([1,0,42,198,45,65,14,6,497,2,49,17]),function(q,e,w,m,k,D,L,b,C,h,g,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.h=e.DragAndDropObserver=e.ModifierKeyEmitter=e.basicMarkupHtmlTags=e.hookDomPurifyHrefAndSrcSanitizer=e.asCSSPropertyValue=e.asCSSUrl=e.animate=e.windowOpenNoOpener=e.computeScreenAwareSize=e.hide=e.show=e.$=e.Namespace=e.reset=e.prepend=e.append=e.trackFocus=e.restoreParentsScrollTop=e.saveParentsScrollTop=e.EventHelper=e.EventType=e.isHTMLElement=e.removeCSSRulesContainingSelector=e.createCSSRule=e.createStyleSheet=e.getActiveElement=e.getShadowRoot=e.isInShadowDOM=e.isShadowRoot=e.hasParentWithClass=e.findParentWithClass=e.isAncestor=e.getTotalHeight=e.getContentHeight=e.getContentWidth=e.getTotalWidth=e.getDomNodeZoomLevel=e.getDomNodePagePosition=e.size=e.getTopLeftOffset=e.Dimension=e.getClientArea=e.getComputedStyle=e.scheduleAtNextAnimationFrame=e.runAtThisOrScheduleAtNextAnimationFrame=e.addDisposableGenericMouseUpListener=e.addDisposableGenericMouseDownListener=e.addStandardDisposableGenericMouseUpListener=e.addStandardDisposableGenericMouseDownListener=e.addStandardDisposableListener=e.addDisposableListener=e.isInDOM=e.clearNode=void 0;function i(me){for(;me.firstChild;)me.firstChild.remove()}e.clearNode=i;function n(me){var pe;return(pe=me?.isConnected)!==null&&pe!==void 0?pe:!1}e.isInDOM=n;class o{constructor(pe,Le,Ie,Ne){this._node=pe,this._type=Le,this._handler=Ie,this._options=Ne||!1,this._node.addEventListener(this._type,this._handler,this._options)}dispose(){!this._handler||(this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null)}}function l(me,pe,Le,Ie){return new o(me,pe,Le,Ie)}e.addDisposableListener=l;function c(me){return function(pe){return me(new D.StandardMouseEvent(pe))}}function d(me){return function(pe){return me(new k.StandardKeyboardEvent(pe))}}const r=function(pe,Le,Ie,Ne){let Pe=Ie;return Le==="click"||Le==="mousedown"?Pe=c(Ie):(Le==="keydown"||Le==="keypress"||Le==="keyup")&&(Pe=d(Ie)),l(pe,Le,Pe,Ne)};e.addStandardDisposableListener=r;const s=function(pe,Le,Ie){const Ne=c(Le);return u(pe,Ne,Ie)};e.addStandardDisposableGenericMouseDownListener=s;const a=function(pe,Le,Ie){const Ne=c(Le);return p(pe,Ne,Ie)};e.addStandardDisposableGenericMouseUpListener=a;function u(me,pe,Le){return l(me,t.isIOS&&m.BrowserFeatures.pointerEvents?e.EventType.POINTER_DOWN:e.EventType.MOUSE_DOWN,pe,Le)}e.addDisposableGenericMouseDownListener=u;function p(me,pe,Le){return l(me,t.isIOS&&m.BrowserFeatures.pointerEvents?e.EventType.POINTER_UP:e.EventType.MOUSE_UP,pe,Le)}e.addDisposableGenericMouseUpListener=p;class S{constructor(pe,Le=0){this._runner=pe,this.priority=Le,this._canceled=!1}dispose(){this._canceled=!0}execute(){if(!this._canceled)try{this._runner()}catch(pe){(0,L.onUnexpectedError)(pe)}}static sort(pe,Le){return Le.priority-pe.priority}}(function(){let me=[],pe=null,Le=!1,Ie=!1;const Ne=()=>{for(Le=!1,pe=me,me=[],Ie=!0;pe.length>0;)pe.sort(S.sort),pe.shift().execute();Ie=!1};e.scheduleAtNextAnimationFrame=(Pe,Re=0)=>{const Ae=new S(Pe,Re);return me.push(Ae),Le||(Le=!0,requestAnimationFrame(Ne)),Ae},e.runAtThisOrScheduleAtNextAnimationFrame=(Pe,Re)=>{if(Ie){const Ae=new S(Pe,Re);return pe.push(Ae),Ae}else return(0,e.scheduleAtNextAnimationFrame)(Pe,Re)}})();function f(me){return document.defaultView.getComputedStyle(me,null)}e.getComputedStyle=f;function v(me){if(me!==document.body)return new y(me.clientWidth,me.clientHeight);if(t.isIOS&&window.visualViewport)return new y(window.visualViewport.width,window.visualViewport.height);if(window.innerWidth&&window.innerHeight)return new y(window.innerWidth,window.innerHeight);if(document.body&&document.body.clientWidth&&document.body.clientHeight)return new y(document.body.clientWidth,document.body.clientHeight);if(document.documentElement&&document.documentElement.clientWidth&&document.documentElement.clientHeight)return new y(document.documentElement.clientWidth,document.documentElement.clientHeight);throw new Error("Unable to figure out browser width and height")}e.getClientArea=v;class _{static convertToPixels(pe,Le){return parseFloat(Le)||0}static getDimension(pe,Le,Ie){const Ne=f(pe),Pe=Ne?Ne.getPropertyValue(Le):"0";return _.convertToPixels(pe,Pe)}static getBorderLeftWidth(pe){return _.getDimension(pe,"border-left-width","borderLeftWidth")}static getBorderRightWidth(pe){return _.getDimension(pe,"border-right-width","borderRightWidth")}static getBorderTopWidth(pe){return _.getDimension(pe,"border-top-width","borderTopWidth")}static getBorderBottomWidth(pe){return _.getDimension(pe,"border-bottom-width","borderBottomWidth")}static getPaddingLeft(pe){return _.getDimension(pe,"padding-left","paddingLeft")}static getPaddingRight(pe){return _.getDimension(pe,"padding-right","paddingRight")}static getPaddingTop(pe){return _.getDimension(pe,"padding-top","paddingTop")}static getPaddingBottom(pe){return _.getDimension(pe,"padding-bottom","paddingBottom")}static getMarginLeft(pe){return _.getDimension(pe,"margin-left","marginLeft")}static getMarginTop(pe){return _.getDimension(pe,"margin-top","marginTop")}static getMarginRight(pe){return _.getDimension(pe,"margin-right","marginRight")}static getMarginBottom(pe){return _.getDimension(pe,"margin-bottom","marginBottom")}}class y{constructor(pe,Le){this.width=pe,this.height=Le}with(pe=this.width,Le=this.height){return pe!==this.width||Le!==this.height?new y(pe,Le):this}static is(pe){return typeof pe=="object"&&typeof pe.height=="number"&&typeof pe.width=="number"}static lift(pe){return pe instanceof y?pe:new y(pe.width,pe.height)}static equals(pe,Le){return pe===Le?!0:!pe||!Le?!1:pe.width===Le.width&&pe.height===Le.height}}e.Dimension=y,y.None=new y(0,0);function E(me){let pe=me.offsetParent,Le=me.offsetTop,Ie=me.offsetLeft;for(;(me=me.parentNode)!==null&&me!==document.body&&me!==document.documentElement;){Le-=me.scrollTop;const Ne=x(me)?null:f(me);Ne&&(Ie-=Ne.direction!=="rtl"?me.scrollLeft:-me.scrollLeft),me===pe&&(Ie+=_.getBorderLeftWidth(me),Le+=_.getBorderTopWidth(me),Le+=me.offsetTop,Ie+=me.offsetLeft,pe=me.offsetParent)}return{left:Ie,top:Le}}e.getTopLeftOffset=E;function T(me,pe,Le){typeof pe=="number"&&(me.style.width=`${pe}px`),typeof Le=="number"&&(me.style.height=`${Le}px`)}e.size=T;function I(me){const pe=me.getBoundingClientRect();return{left:pe.left+window.scrollX,top:pe.top+window.scrollY,width:pe.width,height:pe.height}}e.getDomNodePagePosition=I;function R(me){let pe=me,Le=1;do{const Ie=f(pe).zoom;Ie!=null&&Ie!=="1"&&(Le*=Ie),pe=pe.parentElement}while(pe!==null&&pe!==document.documentElement);return Le}e.getDomNodeZoomLevel=R;function F(me){const pe=_.getMarginLeft(me)+_.getMarginRight(me);return me.offsetWidth+pe}e.getTotalWidth=F;function O(me){const pe=_.getBorderLeftWidth(me)+_.getBorderRightWidth(me),Le=_.getPaddingLeft(me)+_.getPaddingRight(me);return me.offsetWidth-pe-Le}e.getContentWidth=O;function M(me){const pe=_.getBorderTopWidth(me)+_.getBorderBottomWidth(me),Le=_.getPaddingTop(me)+_.getPaddingBottom(me);return me.offsetHeight-pe-Le}e.getContentHeight=M;function N(me){const pe=_.getMarginTop(me)+_.getMarginBottom(me);return me.offsetHeight+pe}e.getTotalHeight=N;function A(me,pe){for(;me;){if(me===pe)return!0;me=me.parentNode}return!1}e.isAncestor=A;function B(me,pe,Le){for(;me&&me.nodeType===me.ELEMENT_NODE;){if(me.classList.contains(pe))return me;if(Le){if(typeof Le=="string"){if(me.classList.contains(Le))return null}else if(me===Le)return null}me=me.parentNode}return null}e.findParentWithClass=B;function W(me,pe,Le){return!!B(me,pe,Le)}e.hasParentWithClass=W;function x(me){return me&&!!me.host&&!!me.mode}e.isShadowRoot=x;function P(me){return!!X(me)}e.isInShadowDOM=P;function X(me){for(;me.parentNode;){if(me===document.body)return null;me=me.parentNode}return x(me)?me:null}e.getShadowRoot=X;function ie(){let me=document.activeElement;for(;me?.shadowRoot;)me=me.shadowRoot.activeElement;return me}e.getActiveElement=ie;function K(me=document.getElementsByTagName("head")[0]){const pe=document.createElement("style");return pe.type="text/css",pe.media="screen",me.appendChild(pe),pe}e.createStyleSheet=K;let G=null;function Q(){return G||(G=K()),G}function ne(me){var pe,Le;return!((pe=me?.sheet)===null||pe===void 0)&&pe.rules?me.sheet.rules:!((Le=me?.sheet)===null||Le===void 0)&&Le.cssRules?me.sheet.cssRules:[]}function Z(me,pe,Le=Q()){!Le||!pe||Le.sheet.insertRule(me+"{"+pe+"}",0)}e.createCSSRule=Z;function ee(me,pe=Q()){if(!pe)return;const Le=ne(pe),Ie=[];for(let Ne=0;Ne<Le.length;Ne++)Le[Ne].selectorText.indexOf(me)!==-1&&Ie.push(Ne);for(let Ne=Ie.length-1;Ne>=0;Ne--)pe.sheet.deleteRule(Ie[Ne])}e.removeCSSRulesContainingSelector=ee;function le(me){return typeof HTMLElement=="object"?me instanceof HTMLElement:me&&typeof me=="object"&&me.nodeType===1&&typeof me.nodeName=="string"}e.isHTMLElement=le,e.EventType={CLICK:"click",AUXCLICK:"auxclick",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",POINTER_LEAVE:"pointerleave",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",BEFORE_UNLOAD:"beforeunload",UNLOAD:"unload",PAGE_SHOW:"pageshow",PAGE_HIDE:"pagehide",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_CHANGE:"fullscreenchange",WK_FULLSCREEN_CHANGE:"webkitfullscreenchange",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:w.isWebKit?"webkitAnimationStart":"animationstart",ANIMATION_END:w.isWebKit?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:w.isWebKit?"webkitAnimationIteration":"animationiteration"},e.EventHelper={stop:(me,pe)=>(me.preventDefault(),pe&&me.stopPropagation(),me)};function V(me){const pe=[];for(let Le=0;me&&me.nodeType===me.ELEMENT_NODE;Le++)pe[Le]=me.scrollTop,me=me.parentNode;return pe}e.saveParentsScrollTop=V;function $(me,pe){for(let Le=0;me&&me.nodeType===me.ELEMENT_NODE;Le++)me.scrollTop!==pe[Le]&&(me.scrollTop=pe[Le]),me=me.parentNode}e.restoreParentsScrollTop=$;class oe extends h.Disposable{static hasFocusWithin(pe){const Le=X(pe),Ie=Le?Le.activeElement:document.activeElement;return A(Ie,pe)}constructor(pe){super(),this._onDidFocus=this._register(new b.Emitter),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new b.Emitter),this.onDidBlur=this._onDidBlur.event;let Le=oe.hasFocusWithin(pe),Ie=!1;const Ne=()=>{Ie=!1,Le||(Le=!0,this._onDidFocus.fire())},Pe=()=>{Le&&(Ie=!0,window.setTimeout(()=>{Ie&&(Ie=!1,Le=!1,this._onDidBlur.fire())},0))};this._refreshStateHandler=()=>{oe.hasFocusWithin(pe)!==Le&&(Le?Pe():Ne())},this._register(l(pe,e.EventType.FOCUS,Ne,!0)),this._register(l(pe,e.EventType.BLUR,Pe,!0)),this._register(l(pe,e.EventType.FOCUS_IN,()=>this._refreshStateHandler())),this._register(l(pe,e.EventType.FOCUS_OUT,()=>this._refreshStateHandler()))}}function U(me){return new oe(me)}e.trackFocus=U;function ae(me,...pe){if(me.append(...pe),pe.length===1&&typeof pe[0]!="string")return pe[0]}e.append=ae;function z(me,pe){return me.insertBefore(pe,me.firstChild),pe}e.prepend=z;function J(me,...pe){me.innerText="",ae(me,...pe)}e.reset=J;const Y=/([\w\-]+)?(#([\w\-]+))?((\.([\w\-]+))*)/;var H;(function(me){me.HTML="http://www.w3.org/1999/xhtml",me.SVG="http://www.w3.org/2000/svg"})(H=e.Namespace||(e.Namespace={}));function j(me,pe,Le,...Ie){const Ne=Y.exec(pe);if(!Ne)throw new Error("Bad use of emmet");Le=Object.assign({},Le||{});const Pe=Ne[1]||"div";let Re;return me!==H.HTML?Re=document.createElementNS(me,Pe):Re=document.createElement(Pe),Ne[3]&&(Re.id=Ne[3]),Ne[4]&&(Re.className=Ne[4].replace(/\./g," ").trim()),Object.keys(Le).forEach(Ae=>{const Be=Le[Ae];typeof Be>"u"||(/^on\w+$/.test(Ae)?Re[Ae]=Be:Ae==="selected"?Be&&Re.setAttribute(Ae,"true"):Re.setAttribute(Ae,Be))}),Re.append(...Ie),Re}function de(me,pe,...Le){return j(H.HTML,me,pe,...Le)}e.$=de,de.SVG=function(me,pe,...Le){return j(H.SVG,me,pe,...Le)};function ue(...me){for(const pe of me)pe.style.display="",pe.removeAttribute("aria-hidden")}e.show=ue;function ce(...me){for(const pe of me)pe.style.display="none",pe.setAttribute("aria-hidden","true")}e.hide=ce;function ge(me){const pe=window.devicePixelRatio*me;return Math.max(1,Math.floor(pe))/window.devicePixelRatio}e.computeScreenAwareSize=ge;function ve(me){window.open(me,"_blank","noopener")}e.windowOpenNoOpener=ve;function _e(me){const pe=()=>{me(),Le=(0,e.scheduleAtNextAnimationFrame)(pe)};let Le=(0,e.scheduleAtNextAnimationFrame)(pe);return(0,h.toDisposable)(()=>Le.dispose())}e.animate=_e,g.RemoteAuthorities.setPreferredWebSchema(/^https:/.test(window.location.href)?"https":"http");function ye(me){return me?`url('${g.FileAccess.asBrowserUri(me).toString(!0).replace(/'/g,"%27")}')`:"url('')"}e.asCSSUrl=ye;function Ee(me){return`'${me.replace(/'/g,"%27")}'`}e.asCSSPropertyValue=Ee;function Te(me,pe=!1){const Le=document.createElement("a");return C.addHook("afterSanitizeAttributes",Ie=>{for(const Ne of["href","src"])if(Ie.hasAttribute(Ne)){const Pe=Ie.getAttribute(Ne);if(Ne==="href"&&Pe.startsWith("#"))continue;if(Le.href=Pe,!me.includes(Le.protocol.replace(/:$/,""))){if(pe&&Ne==="src"&&Le.href.startsWith("data:"))continue;Ie.removeAttribute(Ne)}}}),(0,h.toDisposable)(()=>{C.removeHook("afterSanitizeAttributes")})}e.hookDomPurifyHrefAndSrcSanitizer=Te,e.basicMarkupHtmlTags=Object.freeze(["a","abbr","b","bdo","blockquote","br","caption","cite","code","col","colgroup","dd","del","details","dfn","div","dl","dt","em","figcaption","figure","h1","h2","h3","h4","h5","h6","hr","i","img","ins","kbd","label","li","mark","ol","p","pre","q","rp","rt","ruby","samp","small","small","span","strike","strong","sub","summary","sup","table","tbody","td","tfoot","th","thead","time","tr","tt","u","ul","var","video","wbr"]);class we extends b.Emitter{constructor(){super(),this._subscriptions=new h.DisposableStore,this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1},this._subscriptions.add(l(window,"keydown",pe=>{if(pe.defaultPrevented)return;const Le=new k.StandardKeyboardEvent(pe);if(!(Le.keyCode===6&&pe.repeat)){if(pe.altKey&&!this._keyStatus.altKey)this._keyStatus.lastKeyPressed="alt";else if(pe.ctrlKey&&!this._keyStatus.ctrlKey)this._keyStatus.lastKeyPressed="ctrl";else if(pe.metaKey&&!this._keyStatus.metaKey)this._keyStatus.lastKeyPressed="meta";else if(pe.shiftKey&&!this._keyStatus.shiftKey)this._keyStatus.lastKeyPressed="shift";else if(Le.keyCode!==6)this._keyStatus.lastKeyPressed=void 0;else return;this._keyStatus.altKey=pe.altKey,this._keyStatus.ctrlKey=pe.ctrlKey,this._keyStatus.metaKey=pe.metaKey,this._keyStatus.shiftKey=pe.shiftKey,this._keyStatus.lastKeyPressed&&(this._keyStatus.event=pe,this.fire(this._keyStatus))}},!0)),this._subscriptions.add(l(window,"keyup",pe=>{pe.defaultPrevented||(!pe.altKey&&this._keyStatus.altKey?this._keyStatus.lastKeyReleased="alt":!pe.ctrlKey&&this._keyStatus.ctrlKey?this._keyStatus.lastKeyReleased="ctrl":!pe.metaKey&&this._keyStatus.metaKey?this._keyStatus.lastKeyReleased="meta":!pe.shiftKey&&this._keyStatus.shiftKey?this._keyStatus.lastKeyReleased="shift":this._keyStatus.lastKeyReleased=void 0,this._keyStatus.lastKeyPressed!==this._keyStatus.lastKeyReleased&&(this._keyStatus.lastKeyPressed=void 0),this._keyStatus.altKey=pe.altKey,this._keyStatus.ctrlKey=pe.ctrlKey,this._keyStatus.metaKey=pe.metaKey,this._keyStatus.shiftKey=pe.shiftKey,this._keyStatus.lastKeyReleased&&(this._keyStatus.event=pe,this.fire(this._keyStatus)))},!0)),this._subscriptions.add(l(document.body,"mousedown",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),this._subscriptions.add(l(document.body,"mouseup",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),this._subscriptions.add(l(document.body,"mousemove",pe=>{pe.buttons&&(this._keyStatus.lastKeyPressed=void 0)},!0)),this._subscriptions.add(l(window,"blur",()=>{this.resetKeyStatus()}))}get keyStatus(){return this._keyStatus}resetKeyStatus(){this.doResetKeyStatus(),this.fire(this._keyStatus)}doResetKeyStatus(){this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1}}static getInstance(){return we.instance||(we.instance=new we),we.instance}dispose(){super.dispose(),this._subscriptions.dispose()}}e.ModifierKeyEmitter=we;class Ce extends h.Disposable{constructor(pe,Le){super(),this.element=pe,this.callbacks=Le,this.counter=0,this.dragStartTime=0,this.registerListeners()}registerListeners(){this._register(l(this.element,e.EventType.DRAG_ENTER,pe=>{this.counter++,this.dragStartTime=pe.timeStamp,this.callbacks.onDragEnter(pe)})),this._register(l(this.element,e.EventType.DRAG_OVER,pe=>{var Le,Ie;pe.preventDefault(),(Ie=(Le=this.callbacks).onDragOver)===null||Ie===void 0||Ie.call(Le,pe,pe.timeStamp-this.dragStartTime)})),this._register(l(this.element,e.EventType.DRAG_LEAVE,pe=>{this.counter--,this.counter===0&&(this.dragStartTime=0,this.callbacks.onDragLeave(pe))})),this._register(l(this.element,e.EventType.DRAG_END,pe=>{this.counter=0,this.dragStartTime=0,this.callbacks.onDragEnd(pe)})),this._register(l(this.element,e.EventType.DROP,pe=>{this.counter=0,this.dragStartTime=0,this.callbacks.onDrop(pe)}))}}e.DragAndDropObserver=Ce;const te=/(?<tag>[\w\-]+)?(?:#(?<id>[\w\-]+))?(?<class>(?:\.(?:[\w\-]+))*)(?:@(?<name>(?:[\w\_])+))?/;function he(me,...pe){let Le,Ie;Array.isArray(pe[0])?(Le={},Ie=pe[0]):(Le=pe[0]||{},Ie=pe[1]);const Ne=te.exec(me);if(!Ne||!Ne.groups)throw new Error("Bad use of h");const Pe=Ne.groups.tag||"div",Re=document.createElement(Pe);Ne.groups.id&&(Re.id=Ne.groups.id),Ne.groups.class&&(Re.className=Ne.groups.class.replace(/\./g," ").trim());const Ae={};if(Ne.groups.name&&(Ae[Ne.groups.name]=Re),Ie)for(const Be of Ie)Be instanceof HTMLElement?Re.appendChild(Be):typeof Be=="string"?Re.append(Be):(Object.assign(Ae,Be),Re.appendChild(Be.root));for(const[Be,Fe]of Object.entries(Le))if(Be==="style")for(const[He,$e]of Object.entries(Fe))Re.style.setProperty(be(He),typeof $e=="number"?$e+"px":""+$e);else Be==="tabIndex"?Re.tabIndex=Fe:Re.setAttribute(be(Be),Fe.toString());return Ae.root=Re,Ae}e.h=he;function be(me){return me.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}}),define(se[202],re([1,0,7]),function(q,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createElement=e.renderFormattedText=e.renderText=void 0;function m(t,i={}){const n=D(i);return n.textContent=t,n}e.renderText=m;function k(t,i={}){const n=D(i);return b(n,C(t,!!i.renderCodeSegments),i.actionHandler,i.renderCodeSegments),n}e.renderFormattedText=k;function D(t){const i=t.inline?"span":"div",n=document.createElement(i);return t.className&&(n.className=t.className),n}e.createElement=D;class L{constructor(i){this.source=i,this.index=0}eos(){return this.index>=this.source.length}next(){const i=this.peek();return this.advance(),i}peek(){return this.source[this.index]}advance(){this.index++}}function b(t,i,n,o){let l;if(i.type===2)l=document.createTextNode(i.content||"");else if(i.type===3)l=document.createElement("b");else if(i.type===4)l=document.createElement("i");else if(i.type===7&&o)l=document.createElement("code");else if(i.type===5&&n){const c=document.createElement("a");n.disposables.add(w.addStandardDisposableListener(c,"click",d=>{n.callback(String(i.index),d)})),l=c}else i.type===8?l=document.createElement("br"):i.type===1&&(l=t);l&&t!==l&&t.appendChild(l),l&&Array.isArray(i.children)&&i.children.forEach(c=>{b(l,c,n,o)})}function C(t,i){const n={type:1,children:[]};let o=0,l=n;const c=[],d=new L(t);for(;!d.eos();){let r=d.next();const s=r==="\\"&&g(d.peek(),i)!==0;if(s&&(r=d.next()),!s&&h(r,i)&&r===d.peek()){d.advance(),l.type===2&&(l=c.pop());const a=g(r,i);if(l.type===a||l.type===5&&a===6)l=c.pop();else{const u={type:a,children:[]};a===5&&(u.index=o,o++),l.children.push(u),c.push(l),l=u}}else if(r===`
`)l.type===2&&(l=c.pop()),l.children.push({type:8});else if(l.type!==2){const a={type:2,content:r};l.children.push(a),c.push(l),l=a}else l.content+=r}return l.type===2&&(l=c.pop()),c.length,n}function h(t,i){return g(t,i)!==0}function g(t,i){switch(t){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;case"`":return i?7:0;default:return 0}}}),define(se[135],re([1,0,7,2]),function(q,e,w,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalPointerMoveMonitor=void 0;class k{constructor(){this._hooks=new m.DisposableStore,this._pointerMoveCallback=null,this._onStopCallback=null}dispose(){this.stopMonitoring(!1),this._hooks.dispose()}stopMonitoring(L,b){if(!this.isMonitoring())return;this._hooks.clear(),this._pointerMoveCallback=null;const C=this._onStopCallback;this._onStopCallback=null,L&&C&&C(b)}isMonitoring(){return!!this._pointerMoveCallback}startMonitoring(L,b,C,h,g){this.isMonitoring()&&this.stopMonitoring(!1),this._pointerMoveCallback=h,this._onStopCallback=g;let t=L;try{L.setPointerCapture(b),this._hooks.add((0,m.toDisposable)(()=>{try{L.releasePointerCapture(b)}catch{}}))}catch{t=window}this._hooks.add(w.addDisposableListener(t,w.EventType.POINTER_MOVE,i=>{if(i.buttons!==C){this.stopMonitoring(!0);return}i.preventDefault(),this._pointerMoveCallback(i)})),this._hooks.add(w.addDisposableListener(t,w.EventType.POINTER_UP,i=>this.stopMonitoring(!0)))}}e.GlobalPointerMoveMonitor=k});var De=this&&this.__decorate||function(q,e,w,m){var k=arguments.length,D=k<3?e:m===null?m=Object.getOwnPropertyDescriptor(e,w):m,L;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")D=Reflect.decorate(q,e,w,m);else for(var b=q.length-1;b>=0;b--)(L=q[b])&&(D=(k<3?L(D):k>3?L(e,w,D):L(e,w))||D);return k>3&&D&&Object.defineProperty(e,w,D),D};define(se[60],re([1,0,7,18,105,2,58]),function(q,e,w,m,k,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Gesture=e.EventType=void 0;var b;(function(h){h.Tap="-monaco-gesturetap",h.Change="-monaco-gesturechange",h.Start="-monaco-gesturestart",h.End="-monaco-gesturesend",h.Contextmenu="-monaco-gesturecontextmenu"})(b=e.EventType||(e.EventType={}));class C extends D.Disposable{constructor(){super(),this.dispatched=!1,this.targets=new L.LinkedList,this.ignoreTargets=new L.LinkedList,this.activeTouches={},this.handle=null,this._lastSetTapCountTime=0,this._register(w.addDisposableListener(document,"touchstart",g=>this.onTouchStart(g),{passive:!1})),this._register(w.addDisposableListener(document,"touchend",g=>this.onTouchEnd(g))),this._register(w.addDisposableListener(document,"touchmove",g=>this.onTouchMove(g),{passive:!1}))}static addTarget(g){if(!C.isTouchDevice())return D.Disposable.None;C.INSTANCE||(C.INSTANCE=new C);const t=C.INSTANCE.targets.push(g);return(0,D.toDisposable)(t)}static ignoreTarget(g){if(!C.isTouchDevice())return D.Disposable.None;C.INSTANCE||(C.INSTANCE=new C);const t=C.INSTANCE.ignoreTargets.push(g);return(0,D.toDisposable)(t)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}dispose(){this.handle&&(this.handle.dispose(),this.handle=null),super.dispose()}onTouchStart(g){const t=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(let i=0,n=g.targetTouches.length;i<n;i++){const o=g.targetTouches.item(i);this.activeTouches[o.identifier]={id:o.identifier,initialTarget:o.target,initialTimeStamp:t,initialPageX:o.pageX,initialPageY:o.pageY,rollingTimestamps:[t],rollingPageX:[o.pageX],rollingPageY:[o.pageY]};const l=this.newGestureEvent(b.Start,o.target);l.pageX=o.pageX,l.pageY=o.pageY,this.dispatchEvent(l)}this.dispatched&&(g.preventDefault(),g.stopPropagation(),this.dispatched=!1)}onTouchEnd(g){const t=Date.now(),i=Object.keys(this.activeTouches).length;for(let n=0,o=g.changedTouches.length;n<o;n++){const l=g.changedTouches.item(n);if(!this.activeTouches.hasOwnProperty(String(l.identifier))){console.warn("move of an UNKNOWN touch",l);continue}const c=this.activeTouches[l.identifier],d=Date.now()-c.initialTimeStamp;if(d<C.HOLD_DELAY&&Math.abs(c.initialPageX-m.tail(c.rollingPageX))<30&&Math.abs(c.initialPageY-m.tail(c.rollingPageY))<30){const r=this.newGestureEvent(b.Tap,c.initialTarget);r.pageX=m.tail(c.rollingPageX),r.pageY=m.tail(c.rollingPageY),this.dispatchEvent(r)}else if(d>=C.HOLD_DELAY&&Math.abs(c.initialPageX-m.tail(c.rollingPageX))<30&&Math.abs(c.initialPageY-m.tail(c.rollingPageY))<30){const r=this.newGestureEvent(b.Contextmenu,c.initialTarget);r.pageX=m.tail(c.rollingPageX),r.pageY=m.tail(c.rollingPageY),this.dispatchEvent(r)}else if(i===1){const r=m.tail(c.rollingPageX),s=m.tail(c.rollingPageY),a=m.tail(c.rollingTimestamps)-c.rollingTimestamps[0],u=r-c.rollingPageX[0],p=s-c.rollingPageY[0],S=[...this.targets].filter(f=>c.initialTarget instanceof Node&&f.contains(c.initialTarget));this.inertia(S,t,Math.abs(u)/a,u>0?1:-1,r,Math.abs(p)/a,p>0?1:-1,s)}this.dispatchEvent(this.newGestureEvent(b.End,c.initialTarget)),delete this.activeTouches[l.identifier]}this.dispatched&&(g.preventDefault(),g.stopPropagation(),this.dispatched=!1)}newGestureEvent(g,t){const i=document.createEvent("CustomEvent");return i.initEvent(g,!1,!0),i.initialTarget=t,i.tapCount=0,i}dispatchEvent(g){if(g.type===b.Tap){const t=new Date().getTime();let i=0;t-this._lastSetTapCountTime>C.CLEAR_TAP_COUNT_TIME?i=1:i=2,this._lastSetTapCountTime=t,g.tapCount=i}else(g.type===b.Change||g.type===b.Contextmenu)&&(this._lastSetTapCountTime=0);if(g.initialTarget instanceof Node){for(const t of this.ignoreTargets)if(t.contains(g.initialTarget))return;for(const t of this.targets)t.contains(g.initialTarget)&&(t.dispatchEvent(g),this.dispatched=!0)}}inertia(g,t,i,n,o,l,c,d){this.handle=w.scheduleAtNextAnimationFrame(()=>{const r=Date.now(),s=r-t;let a=0,u=0,p=!0;i+=C.SCROLL_FRICTION*s,l+=C.SCROLL_FRICTION*s,i>0&&(p=!1,a=n*i*s),l>0&&(p=!1,u=c*l*s);const S=this.newGestureEvent(b.Change);S.translationX=a,S.translationY=u,g.forEach(f=>f.dispatchEvent(S)),p||this.inertia(g,r,i,n,o+a,l,c,d+u)})}onTouchMove(g){const t=Date.now();for(let i=0,n=g.changedTouches.length;i<n;i++){const o=g.changedTouches.item(i);if(!this.activeTouches.hasOwnProperty(String(o.identifier))){console.warn("end of an UNKNOWN touch",o);continue}const l=this.activeTouches[o.identifier],c=this.newGestureEvent(b.Change,l.initialTarget);c.translationX=o.pageX-m.tail(l.rollingPageX),c.translationY=o.pageY-m.tail(l.rollingPageY),c.pageX=o.pageX,c.pageY=o.pageY,this.dispatchEvent(c),l.rollingPageX.length>3&&(l.rollingPageX.shift(),l.rollingPageY.shift(),l.rollingTimestamps.shift()),l.rollingPageX.push(o.pageX),l.rollingPageY.push(o.pageY),l.rollingTimestamps.push(t)}this.dispatched&&(g.preventDefault(),g.stopPropagation(),this.dispatched=!1)}}C.SCROLL_FRICTION=-.005,C.HOLD_DELAY=700,C.CLEAR_TAP_COUNT_TIME=400,De([k.memoize],C,"isTouchDevice",null),e.Gesture=C}),define(se[50],re([1,0,7,17,341]),function(q,e,w,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.status=e.alert=e.setARIAContainer=void 0;const k=2e4;let D,L,b,C,h;function g(o){D=document.createElement("div"),D.className="monaco-aria-container";const l=()=>{const d=document.createElement("div");return d.className="monaco-alert",d.setAttribute("role","alert"),d.setAttribute("aria-atomic","true"),D.appendChild(d),d};L=l(),b=l();const c=()=>{const d=document.createElement("div");return d.className="monaco-status",d.setAttribute("role","complementary"),d.setAttribute("aria-live","polite"),d.setAttribute("aria-atomic","true"),D.appendChild(d),d};C=c(),h=c(),o.appendChild(D)}e.setARIAContainer=g;function t(o){!D||(L.textContent!==o?(w.clearNode(b),n(L,o)):(w.clearNode(L),n(b,o)))}e.alert=t;function i(o){!D||(m.isMacintosh?t(o):C.textContent!==o?(w.clearNode(h),n(C,o)):(w.clearNode(C),n(h,o)))}e.status=i;function n(o,l){w.clearNode(o),l.length>k&&(l=l.substr(0,k)),o.textContent=l,o.style.visibility="hidden",o.style.visibility="visible"}}),define(se[259],re([1,0,198,7,2,17,148,345]),function(q,e,w,m,k,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextView=e.layout=e.LayoutAnchorMode=void 0;var b;(function(t){t[t.AVOID=0]="AVOID",t[t.ALIGN=1]="ALIGN"})(b=e.LayoutAnchorMode||(e.LayoutAnchorMode={}));function C(t,i,n){const o=n.mode===b.ALIGN?n.offset:n.offset+n.size,l=n.mode===b.ALIGN?n.offset+n.size:n.offset;return n.position===0?i<=t-o?o:i<=l?l-i:Math.max(t-i,0):i<=l?l-i:i<=t-o?o:0}e.layout=C;class h extends k.Disposable{constructor(i,n){super(),this.container=null,this.delegate=null,this.toDisposeOnClean=k.Disposable.None,this.toDisposeOnSetContainer=k.Disposable.None,this.shadowRoot=null,this.shadowRootHostElement=null,this.view=m.$(".context-view"),this.useFixedPosition=!1,this.useShadowDOM=!1,m.hide(this.view),this.setContainer(i,n),this._register((0,k.toDisposable)(()=>this.setContainer(null,1)))}setContainer(i,n){var o;if(this.container&&(this.toDisposeOnSetContainer.dispose(),this.shadowRoot?(this.shadowRoot.removeChild(this.view),this.shadowRoot=null,(o=this.shadowRootHostElement)===null||o===void 0||o.remove(),this.shadowRootHostElement=null):this.container.removeChild(this.view),this.container=null),i){if(this.container=i,this.useFixedPosition=n!==1,this.useShadowDOM=n===3,this.useShadowDOM){this.shadowRootHostElement=m.$(".shadow-root-host"),this.container.appendChild(this.shadowRootHostElement),this.shadowRoot=this.shadowRootHostElement.attachShadow({mode:"open"});const c=document.createElement("style");c.textContent=g,this.shadowRoot.appendChild(c),this.shadowRoot.appendChild(this.view),this.shadowRoot.appendChild(m.$("slot"))}else this.container.appendChild(this.view);const l=new k.DisposableStore;h.BUBBLE_UP_EVENTS.forEach(c=>{l.add(m.addStandardDisposableListener(this.container,c,d=>{this.onDOMEvent(d,!1)}))}),h.BUBBLE_DOWN_EVENTS.forEach(c=>{l.add(m.addStandardDisposableListener(this.container,c,d=>{this.onDOMEvent(d,!0)},!0))}),this.toDisposeOnSetContainer=l}}show(i){var n,o;this.isVisible()&&this.hide(),m.clearNode(this.view),this.view.className="context-view",this.view.style.top="0px",this.view.style.left="0px",this.view.style.zIndex="2575",this.view.style.position=this.useFixedPosition?"fixed":"absolute",m.show(this.view),this.toDisposeOnClean=i.render(this.view)||k.Disposable.None,this.delegate=i,this.doLayout(),(o=(n=this.delegate).focus)===null||o===void 0||o.call(n)}getViewElement(){return this.view}layout(){if(!!this.isVisible()){if(this.delegate.canRelayout===!1&&!(D.isIOS&&w.BrowserFeatures.pointerEvents)){this.hide();return}this.delegate.layout&&this.delegate.layout(),this.doLayout()}}doLayout(){if(!this.isVisible())return;const i=this.delegate.getAnchor();let n;if(m.isHTMLElement(i)){const p=m.getDomNodePagePosition(i),S=m.getDomNodeZoomLevel(i);n={top:p.top*S,left:p.left*S,width:p.width*S,height:p.height*S}}else n={top:i.y,left:i.x,width:i.width||1,height:i.height||2};const o=m.getTotalWidth(this.view),l=m.getTotalHeight(this.view),c=this.delegate.anchorPosition||0,d=this.delegate.anchorAlignment||0,r=this.delegate.anchorAxisAlignment||0;let s,a;if(r===0){const p={offset:n.top-window.pageYOffset,size:n.height,position:c===0?0:1},S={offset:n.left,size:n.width,position:d===0?0:1,mode:b.ALIGN};s=C(window.innerHeight,l,p)+window.pageYOffset,L.Range.intersects({start:s,end:s+l},{start:p.offset,end:p.offset+p.size})&&(S.mode=b.AVOID),a=C(window.innerWidth,o,S)}else{const p={offset:n.left,size:n.width,position:d===0?0:1},S={offset:n.top,size:n.height,position:c===0?0:1,mode:b.ALIGN};a=C(window.innerWidth,o,p),L.Range.intersects({start:a,end:a+o},{start:p.offset,end:p.offset+p.size})&&(S.mode=b.AVOID),s=C(window.innerHeight,l,S)+window.pageYOffset}this.view.classList.remove("top","bottom","left","right"),this.view.classList.add(c===0?"bottom":"top"),this.view.classList.add(d===0?"left":"right"),this.view.classList.toggle("fixed",this.useFixedPosition);const u=m.getDomNodePagePosition(this.container);this.view.style.top=`${s-(this.useFixedPosition?m.getDomNodePagePosition(this.view).top:u.top)}px`,this.view.style.left=`${a-(this.useFixedPosition?m.getDomNodePagePosition(this.view).left:u.left)}px`,this.view.style.width="initial"}hide(i){const n=this.delegate;this.delegate=null,n?.onHide&&n.onHide(i),this.toDisposeOnClean.dispose(),m.hide(this.view)}isVisible(){return!!this.delegate}onDOMEvent(i,n){this.delegate&&(this.delegate.onDOMEvent?this.delegate.onDOMEvent(i,document.activeElement):n&&!m.isAncestor(i.target,this.container)&&this.hide())}dispose(){this.hide(),super.dispose()}}e.ContextView=h,h.BUBBLE_UP_EVENTS=["click","keydown","focus","blur"],h.BUBBLE_DOWN_EVENTS=["click"];const g=`
	:host {
		all: initial; /* 1st rule so subsequent properties are reset. */
	}

	@font-face {
		font-family: "codicon";
		font-display: block;
		src: url("./codicon.ttf?5d4d76ab2ce5108968ad644d591a16a6") format("truetype");
	}

	.codicon[class*='codicon-'] {
		font: normal normal normal 16px/1 codicon;
		display: inline-block;
		text-decoration: none;
		text-rendering: auto;
		text-align: center;
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
		user-select: none;
		-webkit-user-select: none;
		-ms-user-select: none;
	}

	:host {
		font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", system-ui, "Ubuntu", "Droid Sans", sans-serif;
	}

	:host-context(.mac) { font-family: -apple-system, BlinkMacSystemFont, sans-serif; }
	:host-context(.mac:lang(zh-Hans)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Hiragino Sans GB", sans-serif; }
	:host-context(.mac:lang(zh-Hant)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang TC", sans-serif; }
	:host-context(.mac:lang(ja)) { font-family: -apple-system, BlinkMacSystemFont, "Hiragino Kaku Gothic Pro", sans-serif; }
	:host-context(.mac:lang(ko)) { font-family: -apple-system, BlinkMacSystemFont, "Nanum Gothic", "Apple SD Gothic Neo", "AppleGothic", sans-serif; }

	:host-context(.windows) { font-family: "Segoe WPC", "Segoe UI", sans-serif; }
	:host-context(.windows:lang(zh-Hans)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft YaHei", sans-serif; }
	:host-context(.windows:lang(zh-Hant)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft Jhenghei", sans-serif; }
	:host-context(.windows:lang(ja)) { font-family: "Segoe WPC", "Segoe UI", "Yu Gothic UI", "Meiryo UI", sans-serif; }
	:host-context(.windows:lang(ko)) { font-family: "Segoe WPC", "Segoe UI", "Malgun Gothic", "Dotom", sans-serif; }

	:host-context(.linux) { font-family: system-ui, "Ubuntu", "Droid Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hans)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans SC", "Source Han Sans CN", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hant)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans TC", "Source Han Sans TW", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ja)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans J", "Source Han Sans JP", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ko)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans K", "Source Han Sans JR", "Source Han Sans", "UnDotum", "FBaekmuk Gulim", sans-serif; }
`}),define(se[260],re([1,0,7,31,36,8,346]),function(q,e,w,m,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CountBadge=void 0;const L={badgeBackground:m.Color.fromHex("#4D4D4D"),badgeForeground:m.Color.fromHex("#FFFFFF")};class b{constructor(h,g){this.count=0,this.options=g||Object.create(null),(0,k.mixin)(this.options,L,!1),this.badgeBackground=this.options.badgeBackground,this.badgeForeground=this.options.badgeForeground,this.badgeBorder=this.options.badgeBorder,this.element=(0,w.append)(h,(0,w.$)(".monaco-count-badge")),this.countFormat=this.options.countFormat||"{0}",this.titleFormat=this.options.titleFormat||"",this.setCount(this.options.count||0)}setCount(h){this.count=h,this.render()}setTitleFormat(h){this.titleFormat=h,this.render()}render(){this.element.textContent=(0,D.format)(this.countFormat,this.count),this.element.title=(0,D.format)(this.titleFormat,this.count),this.applyStyles()}style(h){this.badgeBackground=h.badgeBackground,this.badgeForeground=h.badgeForeground,this.badgeBorder=h.badgeBorder,this.applyStyles()}applyStyles(){if(this.element){const h=this.badgeBackground?this.badgeBackground.toString():"",g=this.badgeForeground?this.badgeForeground.toString():"",t=this.badgeBorder?this.badgeBorder.toString():"";this.element.style.backgroundColor=h,this.element.style.color=g,this.element.style.borderWidth=t?"1px":"",this.element.style.borderStyle=t?"solid":"",this.element.style.borderColor=t}}}e.CountBadge=b}),define(se[498],re([1,0,7,45,60,43,6,231]),function(q,e,w,m,k,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DropdownMenu=e.BaseDropdown=void 0;class b extends D.ActionRunner{constructor(g,t){super(),this._onDidChangeVisibility=this._register(new L.Emitter),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this._element=(0,w.append)(g,(0,w.$)(".monaco-dropdown")),this._label=(0,w.append)(this._element,(0,w.$)(".dropdown-label"));let i=t.labelRenderer;i||(i=o=>(o.textContent=t.label||"",null));for(const o of[w.EventType.CLICK,w.EventType.MOUSE_DOWN,k.EventType.Tap])this._register((0,w.addDisposableListener)(this.element,o,l=>w.EventHelper.stop(l,!0)));for(const o of[w.EventType.MOUSE_DOWN,k.EventType.Tap])this._register((0,w.addDisposableListener)(this._label,o,l=>{l instanceof MouseEvent&&(l.detail>1||l.button!==0)||(this.visible?this.hide():this.show())}));this._register((0,w.addDisposableListener)(this._label,w.EventType.KEY_UP,o=>{const l=new m.StandardKeyboardEvent(o);(l.equals(3)||l.equals(10))&&(w.EventHelper.stop(o,!0),this.visible?this.hide():this.show())}));const n=i(this._label);n&&this._register(n),this._register(k.Gesture.addTarget(this._label))}get element(){return this._element}show(){this.visible||(this.visible=!0,this._onDidChangeVisibility.fire(!0))}hide(){this.visible&&(this.visible=!1,this._onDidChangeVisibility.fire(!1))}dispose(){super.dispose(),this.hide(),this.boxContainer&&(this.boxContainer.remove(),this.boxContainer=void 0),this.contents&&(this.contents.remove(),this.contents=void 0),this._label&&(this._label.remove(),this._label=void 0)}}e.BaseDropdown=b;class C extends b{constructor(g,t){super(g,t),this._actions=[],this._contextMenuProvider=t.contextMenuProvider,this.actions=t.actions||[],this.actionProvider=t.actionProvider,this.menuClassName=t.menuClassName||"",this.menuAsChild=!!t.menuAsChild}set menuOptions(g){this._menuOptions=g}get menuOptions(){return this._menuOptions}get actions(){return this.actionProvider?this.actionProvider.getActions():this._actions}set actions(g){this._actions=g}show(){super.show(),this.element.classList.add("active"),this._contextMenuProvider.showContextMenu({getAnchor:()=>this.element,getActions:()=>this.actions,getActionsContext:()=>this.menuOptions?this.menuOptions.context:null,getActionViewItem:g=>this.menuOptions&&this.menuOptions.actionViewItemProvider?this.menuOptions.actionViewItemProvider(g):void 0,getKeyBinding:g=>this.menuOptions&&this.menuOptions.getKeyBinding?this.menuOptions.getKeyBinding(g):void 0,getMenuClassName:()=>this.menuClassName,onHide:()=>this.onHide(),actionRunner:this.menuOptions?this.menuOptions.actionRunner:void 0,anchorAlignment:this.menuOptions?this.menuOptions.anchorAlignment:0,domForShadowRoot:this.menuAsChild?this.element:void 0})}hide(){super.hide()}onHide(){this.hide(),this.element.classList.remove("active")}}e.DropdownMenu=C}),define(se[261],re([1,0,7,10,21,68,108,2,19,481]),function(q,e,w,m,k,D,L,b,C,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setupCustomHover=e.setupNativeHover=void 0;function g(n,o){(0,C.isString)(o)?n.title=(0,L.stripIcons)(o):o?.markdownNotSupportedFallback?n.title=o.markdownNotSupportedFallback:n.removeAttribute("title")}e.setupNativeHover=g;class t{constructor(o,l,c){this.hoverDelegate=o,this.target=l,this.fadeInAnimation=c}update(o,l,c){var d;return Se(this,void 0,void 0,function*(){if(this._cancellationTokenSource&&(this._cancellationTokenSource.dispose(!0),this._cancellationTokenSource=void 0),this.isDisposed)return;let r;if(o===void 0||(0,C.isString)(o)||o instanceof HTMLElement)r=o;else if(!(0,C.isFunction)(o.markdown))r=(d=o.markdown)!==null&&d!==void 0?d:o.markdownNotSupportedFallback;else{this._hoverWidget||this.show((0,h.localize)(0,null),l),this._cancellationTokenSource=new k.CancellationTokenSource;const s=this._cancellationTokenSource.token;if(r=yield o.markdown(s),r===void 0&&(r=o.markdownNotSupportedFallback),this.isDisposed||s.isCancellationRequested)return}this.show(r,l,c)})}show(o,l,c){const d=this._hoverWidget;if(this.hasContent(o)){const r=Object.assign({content:o,target:this.target,showPointer:this.hoverDelegate.placement==="element",hoverPosition:2,skipFadeInAnimation:!this.fadeInAnimation||!!d},c);this._hoverWidget=this.hoverDelegate.showHover(r,l)}d?.dispose()}hasContent(o){return o?(0,D.isMarkdownString)(o)?!!o.value:!0:!1}get isDisposed(){var o;return(o=this._hoverWidget)===null||o===void 0?void 0:o.isDisposed}dispose(){var o,l;(o=this._hoverWidget)===null||o===void 0||o.dispose(),(l=this._cancellationTokenSource)===null||l===void 0||l.dispose(!0),this._cancellationTokenSource=void 0}}function i(n,o,l,c){let d,r;const s=(f,v)=>{var _;f&&(r?.dispose(),r=void 0),v&&(d?.dispose(),d=void 0),(_=n.onDidHideHover)===null||_===void 0||_.call(n)},a=(f,v,_)=>new m.TimeoutTimer(()=>Se(this,void 0,void 0,function*(){(!r||r.isDisposed)&&(r=new t(n,_||o,f>0),yield r.update(l,v,c))}),f),u=()=>{if(d)return;const f=new b.DisposableStore,v=E=>s(!1,E.fromElement===o);f.add(w.addDisposableListener(o,w.EventType.MOUSE_LEAVE,v,!0));const _=()=>s(!0,!0);f.add(w.addDisposableListener(o,w.EventType.MOUSE_DOWN,_,!0));const y={targetElements:[o],dispose:()=>{}};if(n.placement===void 0||n.placement==="mouse"){const E=T=>{y.x=T.x+10,T.target instanceof HTMLElement&&T.target.classList.contains("action-label")&&s(!0,!0)};f.add(w.addDisposableListener(o,w.EventType.MOUSE_MOVE,E,!0))}f.add(a(n.delay,!1,y)),d=f},p=w.addDisposableListener(o,w.EventType.MOUSE_OVER,u,!0);return{show:f=>{s(!1,!0),a(0,f)},hide:()=>{s(!0,!0)},update:(f,v)=>Se(this,void 0,void 0,function*(){l=f,yield r?.update(l,void 0,v)}),dispose:()=>{p.dispose(),s(!0,!0)}}}e.setupCustomHover=i}),define(se[136],re([1,0,7,27]),function(q,e,w,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderIcon=e.renderLabelWithIcons=void 0;const k=new RegExp(`(\\\\)?\\$\\((${m.CSSIcon.iconNameExpression}(?:${m.CSSIcon.iconModifierExpression})?)\\)`,"g");function D(b){const C=new Array;let h,g=0,t=0;for(;(h=k.exec(b))!==null;){t=h.index||0,g<t&&C.push(b.substring(g,t)),g=(h.index||0)+h[0].length;const[,i,n]=h;C.push(i?`$(${n})`:L({id:n}))}return g<b.length&&C.push(b.substring(g)),C}e.renderLabelWithIcons=D;function L(b){const C=w.$("span");return C.classList.add(...m.CSSIcon.asClassNameArray(b)),C}e.renderIcon=L}),define(se[499],re([1,0,7,45,60,136,31,6,2,36,342]),function(q,e,w,m,k,D,L,b,C,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Button=void 0;const g={buttonBackground:L.Color.fromHex("#0E639C"),buttonHoverBackground:L.Color.fromHex("#006BB3"),buttonSeparator:L.Color.white,buttonForeground:L.Color.white};class t extends C.Disposable{get onDidClick(){return this._onDidClick.event}constructor(n,o){super(),this._onDidClick=this._register(new b.Emitter),this.options=o||Object.create(null),(0,h.mixin)(this.options,g,!1),this.buttonForeground=this.options.buttonForeground,this.buttonBackground=this.options.buttonBackground,this.buttonHoverBackground=this.options.buttonHoverBackground,this.buttonSecondaryForeground=this.options.buttonSecondaryForeground,this.buttonSecondaryBackground=this.options.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=this.options.buttonSecondaryHoverBackground,this.buttonBorder=this.options.buttonBorder,this._element=document.createElement("a"),this._element.classList.add("monaco-button"),this._element.tabIndex=0,this._element.setAttribute("role","button"),n.appendChild(this._element),this._register(k.Gesture.addTarget(this._element)),[w.EventType.CLICK,k.EventType.Tap].forEach(l=>{this._register((0,w.addDisposableListener)(this._element,l,c=>{if(!this.enabled){w.EventHelper.stop(c);return}this._onDidClick.fire(c)}))}),this._register((0,w.addDisposableListener)(this._element,w.EventType.KEY_DOWN,l=>{const c=new m.StandardKeyboardEvent(l);let d=!1;this.enabled&&(c.equals(3)||c.equals(10))?(this._onDidClick.fire(l),d=!0):c.equals(9)&&(this._element.blur(),d=!0),d&&w.EventHelper.stop(c,!0)})),this._register((0,w.addDisposableListener)(this._element,w.EventType.MOUSE_OVER,l=>{this._element.classList.contains("disabled")||this.setHoverBackground()})),this._register((0,w.addDisposableListener)(this._element,w.EventType.MOUSE_OUT,l=>{this.applyStyles()})),this.focusTracker=this._register((0,w.trackFocus)(this._element)),this._register(this.focusTracker.onDidFocus(()=>{this.enabled&&this.setHoverBackground()})),this._register(this.focusTracker.onDidBlur(()=>{this.enabled&&this.applyStyles()})),this.applyStyles()}setHoverBackground(){let n;this.options.secondary?n=this.buttonSecondaryHoverBackground?this.buttonSecondaryHoverBackground.toString():null:n=this.buttonHoverBackground?this.buttonHoverBackground.toString():null,n&&(this._element.style.backgroundColor=n)}style(n){this.buttonForeground=n.buttonForeground,this.buttonBackground=n.buttonBackground,this.buttonHoverBackground=n.buttonHoverBackground,this.buttonSecondaryForeground=n.buttonSecondaryForeground,this.buttonSecondaryBackground=n.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=n.buttonSecondaryHoverBackground,this.buttonBorder=n.buttonBorder,this.applyStyles()}applyStyles(){if(this._element){let n,o;this.options.secondary?(o=this.buttonSecondaryForeground?this.buttonSecondaryForeground.toString():"",n=this.buttonSecondaryBackground?this.buttonSecondaryBackground.toString():""):(o=this.buttonForeground?this.buttonForeground.toString():"",n=this.buttonBackground?this.buttonBackground.toString():"");const l=this.buttonBorder?this.buttonBorder.toString():"";this._element.style.color=o,this._element.style.backgroundColor=n,this._element.style.borderWidth=l?"1px":"",this._element.style.borderStyle=l?"solid":"",this._element.style.borderColor=l}}get element(){return this._element}set label(n){if(this._element.classList.add("monaco-text-button"),this.options.supportIcons){const o=[];for(let l of(0,D.renderLabelWithIcons)(n))if(typeof l=="string"){if(l=l.trim(),l==="")continue;const c=document.createElement("span");c.textContent=l,o.push(c)}else o.push(l);(0,w.reset)(this._element,...o)}else this._element.textContent=n;typeof this.options.title=="string"?this._element.title=this.options.title:this.options.title&&(this._element.title=n)}set enabled(n){n?(this._element.classList.remove("disabled"),this._element.setAttribute("aria-disabled",String(!1)),this._element.tabIndex=0):(this._element.classList.add("disabled"),this._element.setAttribute("aria-disabled",String(!0)))}get enabled(){return!this._element.classList.contains("disabled")}}e.Button=t}),define(se[262],re([1,0,7,136,36]),function(q,e,w,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HighlightedLabel=void 0;class D{constructor(b,C){var h;this.text="",this.title="",this.highlights=[],this.didEverRender=!1,this.supportIcons=(h=C?.supportIcons)!==null&&h!==void 0?h:!1,this.domNode=w.append(b,w.$("span.monaco-highlighted-label"))}get element(){return this.domNode}set(b,C=[],h="",g){b||(b=""),g&&(b=D.escapeNewLines(b,C)),!(this.didEverRender&&this.text===b&&this.title===h&&k.equals(this.highlights,C))&&(this.text=b,this.title=h,this.highlights=C,this.render())}render(){const b=[];let C=0;for(const h of this.highlights){if(h.end===h.start)continue;if(C<h.start){const i=this.text.substring(C,h.start);b.push(w.$("span",void 0,...this.supportIcons?(0,m.renderLabelWithIcons)(i):[i])),C=h.start}const g=this.text.substring(C,h.end),t=w.$("span.highlight",void 0,...this.supportIcons?(0,m.renderLabelWithIcons)(g):[g]);h.extraClasses&&t.classList.add(...h.extraClasses),b.push(t),C=h.end}if(C<this.text.length){const h=this.text.substring(C);b.push(w.$("span",void 0,...this.supportIcons?(0,m.renderLabelWithIcons)(h):[h]))}w.reset(this.domNode,...b),this.title?this.domNode.title=this.title:this.domNode.removeAttribute("title"),this.didEverRender=!0}static escapeNewLines(b,C){let h=0,g=0;return b.replace(/\r\n|\r|\n/g,(t,i)=>{g=t===`\r
`?-1:0,i+=h;for(const n of C)n.end<=i||(n.start>=i&&(n.start+=g),n.end>=i&&(n.end+=g));return h+=g,"\u23CE"})}}e.HighlightedLabel=D}),define(se[203],re([1,0,7,262,261,2,36,148,348]),function(q,e,w,m,k,D,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IconLabel=void 0;class C{constructor(o){this._element=o}get element(){return this._element}set textContent(o){this.disposed||o===this._textContent||(this._textContent=o,this._element.textContent=o)}set className(o){this.disposed||o===this._className||(this._className=o,this._element.className=o)}set empty(o){this.disposed||o===this._empty||(this._empty=o,this._element.style.marginLeft=o?"0":"")}dispose(){this.disposed=!0}}class h extends D.Disposable{constructor(o,l){super(),this.customHovers=new Map,this.domNode=this._register(new C(w.append(o,w.$(".monaco-icon-label")))),this.labelContainer=w.append(this.domNode.element,w.$(".monaco-icon-label-container"));const c=w.append(this.labelContainer,w.$("span.monaco-icon-name-container"));this.descriptionContainer=this._register(new C(w.append(this.labelContainer,w.$("span.monaco-icon-description-container")))),l?.supportHighlights||l?.supportIcons?this.nameNode=new i(c,!!l.supportIcons):this.nameNode=new g(c),l?.supportDescriptionHighlights?this.descriptionNodeFactory=()=>new m.HighlightedLabel(w.append(this.descriptionContainer.element,w.$("span.label-description")),{supportIcons:!!l.supportIcons}):this.descriptionNodeFactory=()=>this._register(new C(w.append(this.descriptionContainer.element,w.$("span.label-description")))),this.hoverDelegate=l?.hoverDelegate}get element(){return this.domNode.element}setLabel(o,l,c){const d=["monaco-icon-label"],r=["monaco-icon-label-container"];c&&(c.extraClasses&&d.push(...c.extraClasses),c.italic&&d.push("italic"),c.strikethrough&&d.push("strikethrough"),c.disabledCommand&&r.push("disabled")),this.domNode.className=d.join(" "),this.labelContainer.className=r.join(" "),this.setupHover(c?.descriptionTitle?this.labelContainer:this.element,c?.title),this.nameNode.setLabel(o,c),(l||this.descriptionNode)&&(this.descriptionNode||(this.descriptionNode=this.descriptionNodeFactory()),this.descriptionNode instanceof m.HighlightedLabel?(this.descriptionNode.set(l||"",c?c.descriptionMatches:void 0),this.setupHover(this.descriptionNode.element,c?.descriptionTitle)):(this.descriptionNode.textContent=l||"",this.setupHover(this.descriptionNode.element,c?.descriptionTitle||""),this.descriptionNode.empty=!l))}setupHover(o,l){const c=this.customHovers.get(o);if(c&&(c.dispose(),this.customHovers.delete(o)),!l){o.removeAttribute("title");return}if(!this.hoverDelegate)(0,k.setupNativeHover)(o,l);else{const d=(0,k.setupCustomHover)(this.hoverDelegate,o,l);d&&this.customHovers.set(o,d)}}dispose(){super.dispose();for(const o of this.customHovers.values())o.dispose();this.customHovers.clear()}}e.IconLabel=h;class g{constructor(o){this.container=o,this.label=void 0,this.singleLabel=void 0}setLabel(o,l){if(!(this.label===o&&(0,L.equals)(this.options,l)))if(this.label=o,this.options=l,typeof o=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=w.append(this.container,w.$("a.label-name",{id:l?.domId}))),this.singleLabel.textContent=o;else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;for(let c=0;c<o.length;c++){const d=o[c],r=l?.domId&&`${l?.domId}_${c}`;w.append(this.container,w.$("a.label-name",{id:r,"data-icon-label-count":o.length,"data-icon-label-index":c,role:"treeitem"},d)),c<o.length-1&&w.append(this.container,w.$("span.label-separator",void 0,l?.separator||"/"))}}}}function t(n,o,l){if(!l)return;let c=0;return n.map(d=>{const r={start:c,end:c+d.length},s=l.map(a=>b.Range.intersect(r,a)).filter(a=>!b.Range.isEmpty(a)).map(({start:a,end:u})=>({start:a-c,end:u-c}));return c=r.end+o.length,s})}class i{constructor(o,l){this.container=o,this.supportIcons=l,this.label=void 0,this.singleLabel=void 0}setLabel(o,l){if(!(this.label===o&&(0,L.equals)(this.options,l)))if(this.label=o,this.options=l,typeof o=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=new m.HighlightedLabel(w.append(this.container,w.$("a.label-name",{id:l?.domId})),{supportIcons:this.supportIcons})),this.singleLabel.set(o,l?.matches,void 0,l?.labelEscapeNewLines);else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;const c=l?.separator||"/",d=t(o,c,l?.matches);for(let r=0;r<o.length;r++){const s=o[r],a=d?d[r]:void 0,u=l?.domId&&`${l?.domId}_${r}`,p=w.$("a.label-name",{id:u,"data-icon-label-count":o.length,"data-icon-label-index":r,role:"treeitem"});new m.HighlightedLabel(w.append(this.container,p),{supportIcons:this.supportIcons}).set(s,a,void 0,l?.labelEscapeNewLines),r<o.length-1&&w.append(p,w.$("span.label-separator",void 0,c))}}}}}),define(se[263],re([1,0,7,196,36,483,350]),function(q,e,w,m,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeybindingLabel=void 0;const L=w.$;class b{constructor(h,g,t){this.os=g,this.keyElements=new Set,this.options=t||Object.create(null),this.labelBackground=this.options.keybindingLabelBackground,this.labelForeground=this.options.keybindingLabelForeground,this.labelBorder=this.options.keybindingLabelBorder,this.labelBottomBorder=this.options.keybindingLabelBottomBorder,this.labelShadow=this.options.keybindingLabelShadow,this.domNode=w.append(h,L(".monaco-keybinding")),this.didEverRender=!1,h.appendChild(this.domNode)}get element(){return this.domNode}set(h,g){this.didEverRender&&this.keybinding===h&&b.areSame(this.matches,g)||(this.keybinding=h,this.matches=g,this.render())}render(){if(this.clear(),this.keybinding){const[h,g]=this.keybinding.getParts();h&&this.renderPart(this.domNode,h,this.matches?this.matches.firstPart:null),g&&(w.append(this.domNode,L("span.monaco-keybinding-key-chord-separator",void 0," ")),this.renderPart(this.domNode,g,this.matches?this.matches.chordPart:null)),this.domNode.title=this.keybinding.getAriaLabel()||""}else this.options&&this.options.renderUnboundKeybindings&&this.renderUnbound(this.domNode);this.applyStyles(),this.didEverRender=!0}clear(){w.clearNode(this.domNode),this.keyElements.clear()}renderPart(h,g,t){const i=m.UILabelProvider.modifierLabels[this.os];g.ctrlKey&&this.renderKey(h,i.ctrlKey,Boolean(t?.ctrlKey),i.separator),g.shiftKey&&this.renderKey(h,i.shiftKey,Boolean(t?.shiftKey),i.separator),g.altKey&&this.renderKey(h,i.altKey,Boolean(t?.altKey),i.separator),g.metaKey&&this.renderKey(h,i.metaKey,Boolean(t?.metaKey),i.separator);const n=g.keyLabel;n&&this.renderKey(h,n,Boolean(t?.keyCode),"")}renderKey(h,g,t,i){w.append(h,this.createKeyElement(g,t?".highlight":"")),i&&w.append(h,L("span.monaco-keybinding-key-separator",void 0,i))}renderUnbound(h){w.append(h,this.createKeyElement((0,D.localize)(0,null)))}createKeyElement(h,g=""){const t=L("span.monaco-keybinding-key"+g,void 0,h);return this.keyElements.add(t),t}style(h){this.labelBackground=h.keybindingLabelBackground,this.labelForeground=h.keybindingLabelForeground,this.labelBorder=h.keybindingLabelBorder,this.labelBottomBorder=h.keybindingLabelBottomBorder,this.labelShadow=h.keybindingLabelShadow,this.applyStyles()}applyStyles(){var h;if(this.element){for(const g of this.keyElements)this.labelBackground&&(g.style.backgroundColor=(h=this.labelBackground)===null||h===void 0?void 0:h.toString()),this.labelBorder&&(g.style.borderColor=this.labelBorder.toString()),this.labelBottomBorder&&(g.style.borderBottomColor=this.labelBottomBorder.toString()),this.labelShadow&&(g.style.boxShadow=`inset 0 -1px 0 ${this.labelShadow}`);this.labelForeground&&(this.element.style.color=this.labelForeground.toString())}}static areSame(h,g){return h===g||!h&&!g?!0:!!h&&!!g&&(0,k.equals)(h.firstPart,g.firstPart)&&(0,k.equals)(h.chordPart,g.chordPart)}}e.KeybindingLabel=b}),define(se[500],re([1,0,7]),function(q,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RowCache=void 0;function m(D){var L;try{(L=D.parentElement)===null||L===void 0||L.removeChild(D)}catch{}}class k{constructor(L){this.renderers=L,this.cache=new Map}alloc(L){let b=this.getTemplateCache(L).pop();if(!b){const C=(0,w.$)(".monaco-list-row"),g=this.getRenderer(L).renderTemplate(C);b={domNode:C,templateId:L,templateData:g}}return b}release(L){!L||this.releaseRow(L)}releaseRow(L){const{domNode:b,templateId:C}=L;b&&(b.classList.remove("scrolling"),m(b)),this.getTemplateCache(C).push(L)}getTemplateCache(L){let b=this.cache.get(L);return b||(b=[],this.cache.set(L,b)),b}dispose(){this.cache.forEach((L,b)=>{for(const C of L)this.getRenderer(b).disposeTemplate(C.templateData),C.templateData=null}),this.cache.clear()}getRenderer(L){const b=this.renderers.get(L);if(!b)throw new Error(`No renderer found for ${L}`);return b}}e.RowCache=k}),define(se[501],re([1,0,7,10,31,2,36,352]),function(q,e,w,m,k,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ProgressBar=void 0;const b="done",C="active",h="infinite",g="infinite-long-running",t="discrete",i={progressBarBackground:k.Color.fromHex("#0E70C0")};class n extends D.Disposable{constructor(l,c){super(),this.options=c||Object.create(null),(0,L.mixin)(this.options,i,!1),this.workedVal=0,this.progressBarBackground=this.options.progressBarBackground,this.showDelayedScheduler=this._register(new m.RunOnceScheduler(()=>(0,w.show)(this.element),0)),this.longRunningScheduler=this._register(new m.RunOnceScheduler(()=>this.infiniteLongRunning(),n.LONG_RUNNING_INFINITE_THRESHOLD)),this.create(l)}create(l){this.element=document.createElement("div"),this.element.classList.add("monaco-progress-container"),this.element.setAttribute("role","progressbar"),this.element.setAttribute("aria-valuemin","0"),l.appendChild(this.element),this.bit=document.createElement("div"),this.bit.classList.add("progress-bit"),this.element.appendChild(this.bit),this.applyStyles()}off(){this.bit.style.width="inherit",this.bit.style.opacity="1",this.element.classList.remove(C,h,g,t),this.workedVal=0,this.totalWork=void 0,this.longRunningScheduler.cancel()}stop(){return this.doDone(!1)}doDone(l){return this.element.classList.add(b),this.element.classList.contains(h)?(this.bit.style.opacity="0",l?setTimeout(()=>this.off(),200):this.off()):(this.bit.style.width="inherit",l?setTimeout(()=>this.off(),200):this.off()),this}infinite(){return this.bit.style.width="2%",this.bit.style.opacity="1",this.element.classList.remove(t,b,g),this.element.classList.add(C,h),this.longRunningScheduler.schedule(),this}infiniteLongRunning(){this.element.classList.add(g)}getContainer(){return this.element}style(l){this.progressBarBackground=l.progressBarBackground,this.applyStyles()}applyStyles(){if(this.bit){const l=this.progressBarBackground?this.progressBarBackground.toString():"";this.bit.style.backgroundColor=l}}}e.ProgressBar=n,n.LONG_RUNNING_INFINITE_THRESHOLD=1e4}),define(se[137],re([1,0,7,86,60,10,105,6,2,17,353]),function(q,e,w,m,k,D,L,b,C,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Sash=e.OrthogonalEdge=void 0;const g=!1;var t;(function(u){u.North="north",u.South="south",u.East="east",u.West="west"})(t=e.OrthogonalEdge||(e.OrthogonalEdge={}));let i=4;const n=new b.Emitter;let o=300;const l=new b.Emitter;class c{constructor(){this.disposables=new C.DisposableStore}get onPointerMove(){return this.disposables.add(new m.DomEmitter(window,"mousemove")).event}get onPointerUp(){return this.disposables.add(new m.DomEmitter(window,"mouseup")).event}dispose(){this.disposables.dispose()}}De([L.memoize],c.prototype,"onPointerMove",null),De([L.memoize],c.prototype,"onPointerUp",null);class d{get onPointerMove(){return this.disposables.add(new m.DomEmitter(this.el,k.EventType.Change)).event}get onPointerUp(){return this.disposables.add(new m.DomEmitter(this.el,k.EventType.End)).event}constructor(p){this.el=p,this.disposables=new C.DisposableStore}dispose(){this.disposables.dispose()}}De([L.memoize],d.prototype,"onPointerMove",null),De([L.memoize],d.prototype,"onPointerUp",null);class r{get onPointerMove(){return this.factory.onPointerMove}get onPointerUp(){return this.factory.onPointerUp}constructor(p){this.factory=p}dispose(){}}De([L.memoize],r.prototype,"onPointerMove",null),De([L.memoize],r.prototype,"onPointerUp",null);const s="pointer-events-disabled";class a extends C.Disposable{get state(){return this._state}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}set state(p){this._state!==p&&(this.el.classList.toggle("disabled",p===0),this.el.classList.toggle("minimum",p===1),this.el.classList.toggle("maximum",p===2),this._state=p,this.onDidEnablementChange.fire(p))}set orthogonalStartSash(p){if(this.orthogonalStartDragHandleDisposables.clear(),this.orthogonalStartSashDisposables.clear(),p){const S=f=>{this.orthogonalStartDragHandleDisposables.clear(),f!==0&&(this._orthogonalStartDragHandle=(0,w.append)(this.el,(0,w.$)(".orthogonal-drag-handle.start")),this.orthogonalStartDragHandleDisposables.add((0,C.toDisposable)(()=>this._orthogonalStartDragHandle.remove())),this.orthogonalStartDragHandleDisposables.add(new m.DomEmitter(this._orthogonalStartDragHandle,"mouseenter")).event(()=>a.onMouseEnter(p),void 0,this.orthogonalStartDragHandleDisposables),this.orthogonalStartDragHandleDisposables.add(new m.DomEmitter(this._orthogonalStartDragHandle,"mouseleave")).event(()=>a.onMouseLeave(p),void 0,this.orthogonalStartDragHandleDisposables))};this.orthogonalStartSashDisposables.add(p.onDidEnablementChange.event(S,this)),S(p.state)}this._orthogonalStartSash=p}set orthogonalEndSash(p){if(this.orthogonalEndDragHandleDisposables.clear(),this.orthogonalEndSashDisposables.clear(),p){const S=f=>{this.orthogonalEndDragHandleDisposables.clear(),f!==0&&(this._orthogonalEndDragHandle=(0,w.append)(this.el,(0,w.$)(".orthogonal-drag-handle.end")),this.orthogonalEndDragHandleDisposables.add((0,C.toDisposable)(()=>this._orthogonalEndDragHandle.remove())),this.orthogonalEndDragHandleDisposables.add(new m.DomEmitter(this._orthogonalEndDragHandle,"mouseenter")).event(()=>a.onMouseEnter(p),void 0,this.orthogonalEndDragHandleDisposables),this.orthogonalEndDragHandleDisposables.add(new m.DomEmitter(this._orthogonalEndDragHandle,"mouseleave")).event(()=>a.onMouseLeave(p),void 0,this.orthogonalEndDragHandleDisposables))};this.orthogonalEndSashDisposables.add(p.onDidEnablementChange.event(S,this)),S(p.state)}this._orthogonalEndSash=p}constructor(p,S,f){super(),this.hoverDelay=o,this.hoverDelayer=this._register(new D.Delayer(this.hoverDelay)),this._state=3,this.onDidEnablementChange=this._register(new b.Emitter),this._onDidStart=this._register(new b.Emitter),this._onDidChange=this._register(new b.Emitter),this._onDidReset=this._register(new b.Emitter),this._onDidEnd=this._register(new b.Emitter),this.orthogonalStartSashDisposables=this._register(new C.DisposableStore),this.orthogonalStartDragHandleDisposables=this._register(new C.DisposableStore),this.orthogonalEndSashDisposables=this._register(new C.DisposableStore),this.orthogonalEndDragHandleDisposables=this._register(new C.DisposableStore),this.onDidStart=this._onDidStart.event,this.onDidChange=this._onDidChange.event,this.onDidReset=this._onDidReset.event,this.onDidEnd=this._onDidEnd.event,this.linkedSash=void 0,this.el=(0,w.append)(p,(0,w.$)(".monaco-sash")),f.orthogonalEdge&&this.el.classList.add(`orthogonal-edge-${f.orthogonalEdge}`),h.isMacintosh&&this.el.classList.add("mac");const v=this._register(new m.DomEmitter(this.el,"mousedown")).event;this._register(v(F=>this.onPointerStart(F,new c),this));const _=this._register(new m.DomEmitter(this.el,"dblclick")).event;this._register(_(this.onPointerDoublePress,this));const y=this._register(new m.DomEmitter(this.el,"mouseenter")).event;this._register(y(()=>a.onMouseEnter(this)));const E=this._register(new m.DomEmitter(this.el,"mouseleave")).event;this._register(E(()=>a.onMouseLeave(this))),this._register(k.Gesture.addTarget(this.el));const T=this._register(new m.DomEmitter(this.el,k.EventType.Start)).event;this._register(T(F=>this.onPointerStart(F,new d(this.el)),this));const I=this._register(new m.DomEmitter(this.el,k.EventType.Tap)).event;let R;this._register(I(F=>{if(R){clearTimeout(R),R=void 0,this.onPointerDoublePress(F);return}clearTimeout(R),R=setTimeout(()=>R=void 0,250)},this)),typeof f.size=="number"?(this.size=f.size,f.orientation===0?this.el.style.width=`${this.size}px`:this.el.style.height=`${this.size}px`):(this.size=i,this._register(n.event(F=>{this.size=F,this.layout()}))),this._register(l.event(F=>this.hoverDelay=F)),this.layoutProvider=S,this.orthogonalStartSash=f.orthogonalStartSash,this.orthogonalEndSash=f.orthogonalEndSash,this.orientation=f.orientation||0,this.orientation===1?(this.el.classList.add("horizontal"),this.el.classList.remove("vertical")):(this.el.classList.remove("horizontal"),this.el.classList.add("vertical")),this.el.classList.toggle("debug",g),this.layout()}onPointerStart(p,S){w.EventHelper.stop(p);let f=!1;if(!p.__orthogonalSashEvent){const N=this.getOrthogonalSash(p);N&&(f=!0,p.__orthogonalSashEvent=!0,N.onPointerStart(p,new r(S)))}if(this.linkedSash&&!p.__linkedSashEvent&&(p.__linkedSashEvent=!0,this.linkedSash.onPointerStart(p,new r(S))),!this.state)return;const v=document.getElementsByTagName("iframe");for(const N of v)N.classList.add(s);const _=p.pageX,y=p.pageY,E=p.altKey,T={startX:_,currentX:_,startY:y,currentY:y,altKey:E};this.el.classList.add("active"),this._onDidStart.fire(T);const I=(0,w.createStyleSheet)(this.el),R=()=>{let N="";f?N="all-scroll":this.orientation===1?this.state===1?N="s-resize":this.state===2?N="n-resize":N=h.isMacintosh?"row-resize":"ns-resize":this.state===1?N="e-resize":this.state===2?N="w-resize":N=h.isMacintosh?"col-resize":"ew-resize",I.textContent=`* { cursor: ${N} !important; }`},F=new C.DisposableStore;R(),f||this.onDidEnablementChange.event(R,null,F);const O=N=>{w.EventHelper.stop(N,!1);const A={startX:_,currentX:N.pageX,startY:y,currentY:N.pageY,altKey:E};this._onDidChange.fire(A)},M=N=>{w.EventHelper.stop(N,!1),this.el.removeChild(I),this.el.classList.remove("active"),this._onDidEnd.fire(),F.dispose();for(const A of v)A.classList.remove(s)};S.onPointerMove(O,null,F),S.onPointerUp(M,null,F),F.add(S)}onPointerDoublePress(p){const S=this.getOrthogonalSash(p);S&&S._onDidReset.fire(),this.linkedSash&&this.linkedSash._onDidReset.fire(),this._onDidReset.fire()}static onMouseEnter(p,S=!1){p.el.classList.contains("active")?(p.hoverDelayer.cancel(),p.el.classList.add("hover")):p.hoverDelayer.trigger(()=>p.el.classList.add("hover"),p.hoverDelay).then(void 0,()=>{}),!S&&p.linkedSash&&a.onMouseEnter(p.linkedSash,!0)}static onMouseLeave(p,S=!1){p.hoverDelayer.cancel(),p.el.classList.remove("hover"),!S&&p.linkedSash&&a.onMouseLeave(p.linkedSash,!0)}clearSashHoverState(){a.onMouseLeave(this)}layout(){if(this.orientation===0){const p=this.layoutProvider;this.el.style.left=p.getVerticalSashLeft(this)-this.size/2+"px",p.getVerticalSashTop&&(this.el.style.top=p.getVerticalSashTop(this)+"px"),p.getVerticalSashHeight&&(this.el.style.height=p.getVerticalSashHeight(this)+"px")}else{const p=this.layoutProvider;this.el.style.top=p.getHorizontalSashTop(this)-this.size/2+"px",p.getHorizontalSashLeft&&(this.el.style.left=p.getHorizontalSashLeft(this)+"px"),p.getHorizontalSashWidth&&(this.el.style.width=p.getHorizontalSashWidth(this)+"px")}}getOrthogonalSash(p){var S;const f=(S=p.initialTarget)!==null&&S!==void 0?S:p.target;if(!(!f||!(f instanceof HTMLElement))&&f.classList.contains("orthogonal-drag-handle"))return f.classList.contains("start")?this.orthogonalStartSash:this.orthogonalEndSash}dispose(){super.dispose(),this.el.remove()}}e.Sash=a}),define(se[264],re([1,0,7,137,6,2]),function(q,e,w,m,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResizableHTMLElement=void 0;class L{constructor(){this._onDidWillResize=new k.Emitter,this.onDidWillResize=this._onDidWillResize.event,this._onDidResize=new k.Emitter,this.onDidResize=this._onDidResize.event,this._sashListener=new D.DisposableStore,this._size=new w.Dimension(0,0),this._minSize=new w.Dimension(0,0),this._maxSize=new w.Dimension(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),this.domNode=document.createElement("div"),this._eastSash=new m.Sash(this.domNode,{getVerticalSashLeft:()=>this._size.width},{orientation:0}),this._westSash=new m.Sash(this.domNode,{getVerticalSashLeft:()=>0},{orientation:0}),this._northSash=new m.Sash(this.domNode,{getHorizontalSashTop:()=>0},{orientation:1,orthogonalEdge:m.OrthogonalEdge.North}),this._southSash=new m.Sash(this.domNode,{getHorizontalSashTop:()=>this._size.height},{orientation:1,orthogonalEdge:m.OrthogonalEdge.South}),this._northSash.orthogonalStartSash=this._westSash,this._northSash.orthogonalEndSash=this._eastSash,this._southSash.orthogonalStartSash=this._westSash,this._southSash.orthogonalEndSash=this._eastSash;let C,h=0,g=0;this._sashListener.add(k.Event.any(this._northSash.onDidStart,this._eastSash.onDidStart,this._southSash.onDidStart,this._westSash.onDidStart)(()=>{C===void 0&&(this._onDidWillResize.fire(),C=this._size,h=0,g=0)})),this._sashListener.add(k.Event.any(this._northSash.onDidEnd,this._eastSash.onDidEnd,this._southSash.onDidEnd,this._westSash.onDidEnd)(()=>{C!==void 0&&(C=void 0,h=0,g=0,this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(this._eastSash.onDidChange(t=>{C&&(g=t.currentX-t.startX,this.layout(C.height+h,C.width+g),this._onDidResize.fire({dimension:this._size,done:!1,east:!0}))})),this._sashListener.add(this._westSash.onDidChange(t=>{C&&(g=-(t.currentX-t.startX),this.layout(C.height+h,C.width+g),this._onDidResize.fire({dimension:this._size,done:!1,west:!0}))})),this._sashListener.add(this._northSash.onDidChange(t=>{C&&(h=-(t.currentY-t.startY),this.layout(C.height+h,C.width+g),this._onDidResize.fire({dimension:this._size,done:!1,north:!0}))})),this._sashListener.add(this._southSash.onDidChange(t=>{C&&(h=t.currentY-t.startY,this.layout(C.height+h,C.width+g),this._onDidResize.fire({dimension:this._size,done:!1,south:!0}))})),this._sashListener.add(k.Event.any(this._eastSash.onDidReset,this._westSash.onDidReset)(t=>{this._preferredSize&&(this.layout(this._size.height,this._preferredSize.width),this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(k.Event.any(this._northSash.onDidReset,this._southSash.onDidReset)(t=>{this._preferredSize&&(this.layout(this._preferredSize.height,this._size.width),this._onDidResize.fire({dimension:this._size,done:!0}))}))}dispose(){this._northSash.dispose(),this._southSash.dispose(),this._eastSash.dispose(),this._westSash.dispose(),this._sashListener.dispose(),this._onDidResize.dispose(),this._onDidWillResize.dispose(),this.domNode.remove()}enableSashes(C,h,g,t){this._northSash.state=C?3:0,this._eastSash.state=h?3:0,this._southSash.state=g?3:0,this._westSash.state=t?3:0}layout(C=this.size.height,h=this.size.width){const{height:g,width:t}=this._minSize,{height:i,width:n}=this._maxSize;C=Math.max(g,Math.min(i,C)),h=Math.max(t,Math.min(n,h));const o=new w.Dimension(h,C);w.Dimension.equals(o,this._size)||(this.domNode.style.height=C+"px",this.domNode.style.width=h+"px",this._size=o,this._northSash.layout(),this._eastSash.layout(),this._southSash.layout(),this._westSash.layout())}clearSashHoverState(){this._eastSash.clearSashHoverState(),this._westSash.clearSashHoverState(),this._northSash.clearSashHoverState(),this._southSash.clearSashHoverState()}get size(){return this._size}set maxSize(C){this._maxSize=C}get maxSize(){return this._maxSize}set minSize(C){this._minSize=C}get minSize(){return this._minSize}set preferredSize(C){this._preferredSize=C}get preferredSize(){return this._preferredSize}}e.ResizableHTMLElement=L}),define(se[502],re([1,0,7,60,18,6,2,17]),function(q,e,w,m,k,D,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectBoxNative=void 0;class C extends L.Disposable{constructor(g,t,i,n){super(),this.selected=0,this.selectBoxOptions=n||Object.create(null),this.options=[],this.selectElement=document.createElement("select"),this.selectElement.className="monaco-select-box",typeof this.selectBoxOptions.ariaLabel=="string"&&this.selectElement.setAttribute("aria-label",this.selectBoxOptions.ariaLabel),typeof this.selectBoxOptions.ariaDescription=="string"&&this.selectElement.setAttribute("aria-description",this.selectBoxOptions.ariaDescription),this._onDidSelect=this._register(new D.Emitter),this.styles=i,this.registerListeners(),this.setOptions(g,t)}registerListeners(){this._register(m.Gesture.addTarget(this.selectElement)),[m.EventType.Tap].forEach(g=>{this._register(w.addDisposableListener(this.selectElement,g,t=>{this.selectElement.focus()}))}),this._register(w.addStandardDisposableListener(this.selectElement,"click",g=>{w.EventHelper.stop(g,!0)})),this._register(w.addStandardDisposableListener(this.selectElement,"change",g=>{this.selectElement.title=g.target.value,this._onDidSelect.fire({index:g.target.selectedIndex,selected:g.target.value})})),this._register(w.addStandardDisposableListener(this.selectElement,"keydown",g=>{let t=!1;b.isMacintosh?(g.keyCode===18||g.keyCode===16||g.keyCode===10)&&(t=!0):(g.keyCode===18&&g.altKey||g.keyCode===10||g.keyCode===3)&&(t=!0),t&&g.stopPropagation()}))}get onDidSelect(){return this._onDidSelect.event}setOptions(g,t){(!this.options||!k.equals(this.options,g))&&(this.options=g,this.selectElement.options.length=0,this.options.forEach((i,n)=>{this.selectElement.add(this.createOption(i.text,n,i.isDisabled))})),t!==void 0&&this.select(t)}select(g){this.options.length===0?this.selected=0:g>=0&&g<this.options.length?this.selected=g:g>this.options.length-1?this.select(this.options.length-1):this.selected<0&&(this.selected=0),this.selectElement.selectedIndex=this.selected,this.selected<this.options.length&&typeof this.options[this.selected].text=="string"?this.selectElement.title=this.options[this.selected].text:this.selectElement.title=""}focus(){this.selectElement&&(this.selectElement.tabIndex=0,this.selectElement.focus())}blur(){this.selectElement&&(this.selectElement.tabIndex=-1,this.selectElement.blur())}setFocusable(g){this.selectElement.tabIndex=g?0:-1}render(g){g.classList.add("select-container"),g.appendChild(this.selectElement),this.setOptions(this.options,this.selected),this.applyStyles()}style(g){this.styles=g,this.applyStyles()}applyStyles(){if(this.selectElement){const g=this.styles.selectBackground?this.styles.selectBackground.toString():"",t=this.styles.selectForeground?this.styles.selectForeground.toString():"",i=this.styles.selectBorder?this.styles.selectBorder.toString():"";this.selectElement.style.backgroundColor=g,this.selectElement.style.color=t,this.selectElement.style.borderColor=i}}createOption(g,t,i){const n=document.createElement("option");return n.value=g,n.text=g,n.disabled=!!i,n}}e.SelectBoxNative=C}),define(se[66],re([1,0,7,45,65,60,2]),function(q,e,w,m,k,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Widget=void 0;class b extends L.Disposable{onclick(h,g){this._register(w.addDisposableListener(h,w.EventType.CLICK,t=>g(new k.StandardMouseEvent(t))))}onmousedown(h,g){this._register(w.addDisposableListener(h,w.EventType.MOUSE_DOWN,t=>g(new k.StandardMouseEvent(t))))}onmouseover(h,g){this._register(w.addDisposableListener(h,w.EventType.MOUSE_OVER,t=>g(new k.StandardMouseEvent(t))))}onmouseleave(h,g){this._register(w.addDisposableListener(h,w.EventType.MOUSE_LEAVE,t=>g(new k.StandardMouseEvent(t))))}onkeydown(h,g){this._register(w.addDisposableListener(h,w.EventType.KEY_DOWN,t=>g(new m.StandardKeyboardEvent(t))))}onkeyup(h,g){this._register(w.addDisposableListener(h,w.EventType.KEY_UP,t=>g(new m.StandardKeyboardEvent(t))))}oninput(h,g){this._register(w.addDisposableListener(h,w.EventType.INPUT,g))}onblur(h,g){this._register(w.addDisposableListener(h,w.EventType.BLUR,g))}onfocus(h,g){this._register(w.addDisposableListener(h,w.EventType.FOCUS,g))}ignoreGesture(h){return D.Gesture.ignoreTarget(h)}}e.Widget=b}),define(se[204],re([1,0,135,66,10,7]),function(q,e,w,m,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollbarArrow=e.ARROW_IMG_SIZE=void 0,e.ARROW_IMG_SIZE=11;class L extends m.Widget{constructor(C){super(),this._onActivate=C.onActivate,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",this.bgDomNode.style.width=C.bgWidth+"px",this.bgDomNode.style.height=C.bgHeight+"px",typeof C.top<"u"&&(this.bgDomNode.style.top="0px"),typeof C.left<"u"&&(this.bgDomNode.style.left="0px"),typeof C.bottom<"u"&&(this.bgDomNode.style.bottom="0px"),typeof C.right<"u"&&(this.bgDomNode.style.right="0px"),this.domNode=document.createElement("div"),this.domNode.className=C.className,this.domNode.classList.add(...C.icon.classNamesArray),this.domNode.style.position="absolute",this.domNode.style.width=e.ARROW_IMG_SIZE+"px",this.domNode.style.height=e.ARROW_IMG_SIZE+"px",typeof C.top<"u"&&(this.domNode.style.top=C.top+"px"),typeof C.left<"u"&&(this.domNode.style.left=C.left+"px"),typeof C.bottom<"u"&&(this.domNode.style.bottom=C.bottom+"px"),typeof C.right<"u"&&(this.domNode.style.right=C.right+"px"),this._pointerMoveMonitor=this._register(new w.GlobalPointerMoveMonitor),this._register(D.addStandardDisposableListener(this.bgDomNode,D.EventType.POINTER_DOWN,h=>this._arrowPointerDown(h))),this._register(D.addStandardDisposableListener(this.domNode,D.EventType.POINTER_DOWN,h=>this._arrowPointerDown(h))),this._pointerdownRepeatTimer=this._register(new k.IntervalTimer),this._pointerdownScheduleRepeatTimer=this._register(new k.TimeoutTimer)}_arrowPointerDown(C){if(!C.target||!(C.target instanceof Element))return;const h=()=>{this._pointerdownRepeatTimer.cancelAndSet(()=>this._onActivate(),1e3/24)};this._onActivate(),this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancelAndSet(h,200),this._pointerMoveMonitor.startMonitoring(C.target,C.pointerId,C.buttons,g=>{},()=>{this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancel()}),C.preventDefault()}}e.ScrollbarArrow=L}),define(se[265],re([1,0,7,35,135,204,494,66,17]),function(q,e,w,m,k,D,L,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractScrollbar=void 0;const h=140;class g extends b.Widget{constructor(i){super(),this._lazyRender=i.lazyRender,this._host=i.host,this._scrollable=i.scrollable,this._scrollByPage=i.scrollByPage,this._scrollbarState=i.scrollbarState,this._visibilityController=this._register(new L.ScrollbarVisibilityController(i.visibility,"visible scrollbar "+i.extraScrollbarClassName,"invisible scrollbar "+i.extraScrollbarClassName)),this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._pointerMoveMonitor=this._register(new k.GlobalPointerMoveMonitor),this._shouldRender=!0,this.domNode=(0,m.createFastDomNode)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._visibilityController.setDomNode(this.domNode),this.domNode.setPosition("absolute"),this._register(w.addDisposableListener(this.domNode.domNode,w.EventType.POINTER_DOWN,n=>this._domNodePointerDown(n)))}_createArrow(i){const n=this._register(new D.ScrollbarArrow(i));this.domNode.domNode.appendChild(n.bgDomNode),this.domNode.domNode.appendChild(n.domNode)}_createSlider(i,n,o,l){this.slider=(0,m.createFastDomNode)(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(i),this.slider.setLeft(n),typeof o=="number"&&this.slider.setWidth(o),typeof l=="number"&&this.slider.setHeight(l),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this._register(w.addDisposableListener(this.slider.domNode,w.EventType.POINTER_DOWN,c=>{c.button===0&&(c.preventDefault(),this._sliderPointerDown(c))})),this.onclick(this.slider.domNode,c=>{c.leftButton&&c.stopPropagation()})}_onElementSize(i){return this._scrollbarState.setVisibleSize(i)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollSize(i){return this._scrollbarState.setScrollSize(i)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollPosition(i){return this._scrollbarState.setScrollPosition(i)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}beginReveal(){this._visibilityController.setShouldBeVisible(!0)}beginHide(){this._visibilityController.setShouldBeVisible(!1)}render(){!this._shouldRender||(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))}_domNodePointerDown(i){i.target===this.domNode.domNode&&this._onPointerDown(i)}delegatePointerDown(i){const n=this.domNode.domNode.getClientRects()[0].top,o=n+this._scrollbarState.getSliderPosition(),l=n+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),c=this._sliderPointerPosition(i);o<=c&&c<=l?i.button===0&&(i.preventDefault(),this._sliderPointerDown(i)):this._onPointerDown(i)}_onPointerDown(i){let n,o;if(i.target===this.domNode.domNode&&typeof i.offsetX=="number"&&typeof i.offsetY=="number")n=i.offsetX,o=i.offsetY;else{const c=w.getDomNodePagePosition(this.domNode.domNode);n=i.pageX-c.left,o=i.pageY-c.top}const l=this._pointerDownRelativePosition(n,o);this._setDesiredScrollPositionNow(this._scrollByPage?this._scrollbarState.getDesiredScrollPositionFromOffsetPaged(l):this._scrollbarState.getDesiredScrollPositionFromOffset(l)),i.button===0&&(i.preventDefault(),this._sliderPointerDown(i))}_sliderPointerDown(i){if(!i.target||!(i.target instanceof Element))return;const n=this._sliderPointerPosition(i),o=this._sliderOrthogonalPointerPosition(i),l=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._pointerMoveMonitor.startMonitoring(i.target,i.pointerId,i.buttons,c=>{const d=this._sliderOrthogonalPointerPosition(c),r=Math.abs(d-o);if(C.isWindows&&r>h){this._setDesiredScrollPositionNow(l.getScrollPosition());return}const a=this._sliderPointerPosition(c)-n;this._setDesiredScrollPositionNow(l.getDesiredScrollPositionFromDelta(a))},()=>{this.slider.toggleClassName("active",!1),this._host.onDragEnd()}),this._host.onDragStart()}_setDesiredScrollPositionNow(i){const n={};this.writeScrollPosition(n,i),this._scrollable.setScrollPositionNow(n)}updateScrollbarSize(i){this._updateScrollbarSize(i),this._scrollbarState.setScrollbarSize(i),this._shouldRender=!0,this._lazyRender||this.render()}isNeeded(){return this._scrollbarState.isNeeded()}}e.AbstractScrollbar=g}),define(se[503],re([1,0,65,265,204,227,27]),function(q,e,w,m,k,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HorizontalScrollbar=void 0;class b extends m.AbstractScrollbar{constructor(h,g,t){const i=h.getScrollDimensions(),n=h.getCurrentScrollPosition();if(super({lazyRender:g.lazyRender,host:t,scrollbarState:new D.ScrollbarState(g.horizontalHasArrows?g.arrowSize:0,g.horizontal===2?0:g.horizontalScrollbarSize,g.vertical===2?0:g.verticalScrollbarSize,i.width,i.scrollWidth,n.scrollLeft),visibility:g.horizontal,extraScrollbarClassName:"horizontal",scrollable:h,scrollByPage:g.scrollByPage}),g.horizontalHasArrows){const o=(g.arrowSize-k.ARROW_IMG_SIZE)/2,l=(g.horizontalScrollbarSize-k.ARROW_IMG_SIZE)/2;this._createArrow({className:"scra",icon:L.Codicon.scrollbarButtonLeft,top:l,left:o,bottom:void 0,right:void 0,bgWidth:g.arrowSize,bgHeight:g.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new w.StandardWheelEvent(null,1,0))}),this._createArrow({className:"scra",icon:L.Codicon.scrollbarButtonRight,top:l,left:void 0,bottom:void 0,right:o,bgWidth:g.arrowSize,bgHeight:g.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new w.StandardWheelEvent(null,-1,0))})}this._createSlider(Math.floor((g.horizontalScrollbarSize-g.horizontalSliderSize)/2),0,void 0,g.horizontalSliderSize)}_updateSlider(h,g){this.slider.setWidth(h),this.slider.setLeft(g)}_renderDomNode(h,g){this.domNode.setWidth(h),this.domNode.setHeight(g),this.domNode.setLeft(0),this.domNode.setBottom(0)}onDidScroll(h){return this._shouldRender=this._onElementScrollSize(h.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(h.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(h.width)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(h,g){return h}_sliderPointerPosition(h){return h.pageX}_sliderOrthogonalPointerPosition(h){return h.pageY}_updateScrollbarSize(h){this.slider.setHeight(h)}writeScrollPosition(h,g){h.scrollLeft=g}updateOptions(h){this.updateScrollbarSize(h.horizontal===2?0:h.horizontalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(h.vertical===2?0:h.verticalScrollbarSize),this._visibilityController.setVisibility(h.horizontal),this._scrollByPage=h.scrollByPage}}e.HorizontalScrollbar=b}),define(se[504],re([1,0,65,265,204,227,27]),function(q,e,w,m,k,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VerticalScrollbar=void 0;class b extends m.AbstractScrollbar{constructor(h,g,t){const i=h.getScrollDimensions(),n=h.getCurrentScrollPosition();if(super({lazyRender:g.lazyRender,host:t,scrollbarState:new D.ScrollbarState(g.verticalHasArrows?g.arrowSize:0,g.vertical===2?0:g.verticalScrollbarSize,0,i.height,i.scrollHeight,n.scrollTop),visibility:g.vertical,extraScrollbarClassName:"vertical",scrollable:h,scrollByPage:g.scrollByPage}),g.verticalHasArrows){const o=(g.arrowSize-k.ARROW_IMG_SIZE)/2,l=(g.verticalScrollbarSize-k.ARROW_IMG_SIZE)/2;this._createArrow({className:"scra",icon:L.Codicon.scrollbarButtonUp,top:o,left:l,bottom:void 0,right:void 0,bgWidth:g.verticalScrollbarSize,bgHeight:g.arrowSize,onActivate:()=>this._host.onMouseWheel(new w.StandardWheelEvent(null,0,1))}),this._createArrow({className:"scra",icon:L.Codicon.scrollbarButtonDown,top:void 0,left:l,bottom:o,right:void 0,bgWidth:g.verticalScrollbarSize,bgHeight:g.arrowSize,onActivate:()=>this._host.onMouseWheel(new w.StandardWheelEvent(null,0,-1))})}this._createSlider(0,Math.floor((g.verticalScrollbarSize-g.verticalSliderSize)/2),g.verticalSliderSize,void 0)}_updateSlider(h,g){this.slider.setHeight(h),this.slider.setTop(g)}_renderDomNode(h,g){this.domNode.setWidth(g),this.domNode.setHeight(h),this.domNode.setRight(0),this.domNode.setTop(0)}onDidScroll(h){return this._shouldRender=this._onElementScrollSize(h.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(h.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(h.height)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(h,g){return g}_sliderPointerPosition(h){return h.pageY}_sliderOrthogonalPointerPosition(h){return h.pageX}_updateScrollbarSize(h){this.slider.setWidth(h)}writeScrollPosition(h,g){h.scrollTop=g}updateOptions(h){this.updateScrollbarSize(h.vertical===2?0:h.verticalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(0),this._visibilityController.setVisibility(h.vertical),this._scrollByPage=h.scrollByPage}}e.VerticalScrollbar=b}),define(se[76],re([1,0,42,7,35,65,503,504,66,10,6,2,17,162,354]),function(q,e,w,m,k,D,L,b,C,h,g,t,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DomScrollableElement=e.SmoothScrollableElement=e.ScrollableElement=e.AbstractScrollableElement=e.MouseWheelClassifier=void 0;const o=500,l=50,c=!0;class d{constructor(v,_,y){this.timestamp=v,this.deltaX=_,this.deltaY=y,this.score=0}}class r{constructor(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}isPhysicalMouseWheel(){if(this._front===-1&&this._rear===-1)return!1;let v=1,_=0,y=1,E=this._rear;do{const T=E===this._front?v:Math.pow(2,-y);if(v-=T,_+=this._memory[E].score*T,E===this._front)break;E=(this._capacity+E-1)%this._capacity,y++}while(!0);return _<=.5}accept(v,_,y){const E=new d(v,_,y);E.score=this._computeScore(E),this._front===-1&&this._rear===-1?(this._memory[0]=E,this._front=0,this._rear=0):(this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=E)}_computeScore(v){if(Math.abs(v.deltaX)>0&&Math.abs(v.deltaY)>0)return 1;let _=.5;const y=this._front===-1&&this._rear===-1?null:this._memory[this._rear];return(!this._isAlmostInt(v.deltaX)||!this._isAlmostInt(v.deltaY))&&(_+=.25),Math.min(Math.max(_,0),1)}_isAlmostInt(v){return Math.abs(Math.round(v)-v)<.01}}e.MouseWheelClassifier=r,r.INSTANCE=new r;class s extends C.Widget{get options(){return this._options}constructor(v,_,y){super(),this._onScroll=this._register(new g.Emitter),this.onScroll=this._onScroll.event,this._onWillScroll=this._register(new g.Emitter),v.style.overflow="hidden",this._options=S(_),this._scrollable=y,this._register(this._scrollable.onScroll(T=>{this._onWillScroll.fire(T),this._onDidScroll(T),this._onScroll.fire(T)}));const E={onMouseWheel:T=>this._onMouseWheel(T),onDragStart:()=>this._onDragStart(),onDragEnd:()=>this._onDragEnd()};this._verticalScrollbar=this._register(new b.VerticalScrollbar(this._scrollable,this._options,E)),this._horizontalScrollbar=this._register(new L.HorizontalScrollbar(this._scrollable,this._options,E)),this._domNode=document.createElement("div"),this._domNode.className="monaco-scrollable-element "+this._options.className,this._domNode.setAttribute("role","presentation"),this._domNode.style.position="relative",this._domNode.style.overflow="hidden",this._domNode.appendChild(v),this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode),this._domNode.appendChild(this._verticalScrollbar.domNode.domNode),this._options.useShadows?(this._leftShadowDomNode=(0,k.createFastDomNode)(document.createElement("div")),this._leftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._leftShadowDomNode.domNode),this._topShadowDomNode=(0,k.createFastDomNode)(document.createElement("div")),this._topShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topShadowDomNode.domNode),this._topLeftShadowDomNode=(0,k.createFastDomNode)(document.createElement("div")),this._topLeftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topLeftShadowDomNode.domNode)):(this._leftShadowDomNode=null,this._topShadowDomNode=null,this._topLeftShadowDomNode=null),this._listenOnDomNode=this._options.listenOnDomNode||this._domNode,this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this._options.handleMouseWheel),this.onmouseover(this._listenOnDomNode,T=>this._onMouseOver(T)),this.onmouseleave(this._listenOnDomNode,T=>this._onMouseLeave(T)),this._hideTimeout=this._register(new h.TimeoutTimer),this._isDragging=!1,this._mouseIsOver=!1,this._shouldRender=!0,this._revealOnScroll=!0}dispose(){this._mouseWheelToDispose=(0,t.dispose)(this._mouseWheelToDispose),super.dispose()}getDomNode(){return this._domNode}getOverviewRulerLayoutInfo(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}delegateVerticalScrollbarPointerDown(v){this._verticalScrollbar.delegatePointerDown(v)}getScrollDimensions(){return this._scrollable.getScrollDimensions()}setScrollDimensions(v){this._scrollable.setScrollDimensions(v,!1)}updateClassName(v){this._options.className=v,i.isMacintosh&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className}updateOptions(v){typeof v.handleMouseWheel<"u"&&(this._options.handleMouseWheel=v.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel)),typeof v.mouseWheelScrollSensitivity<"u"&&(this._options.mouseWheelScrollSensitivity=v.mouseWheelScrollSensitivity),typeof v.fastScrollSensitivity<"u"&&(this._options.fastScrollSensitivity=v.fastScrollSensitivity),typeof v.scrollPredominantAxis<"u"&&(this._options.scrollPredominantAxis=v.scrollPredominantAxis),typeof v.horizontal<"u"&&(this._options.horizontal=v.horizontal),typeof v.vertical<"u"&&(this._options.vertical=v.vertical),typeof v.horizontalScrollbarSize<"u"&&(this._options.horizontalScrollbarSize=v.horizontalScrollbarSize),typeof v.verticalScrollbarSize<"u"&&(this._options.verticalScrollbarSize=v.verticalScrollbarSize),typeof v.scrollByPage<"u"&&(this._options.scrollByPage=v.scrollByPage),this._horizontalScrollbar.updateOptions(this._options),this._verticalScrollbar.updateOptions(this._options),this._options.lazyRender||this._render()}_setListeningToMouseWheel(v){if(this._mouseWheelToDispose.length>0!==v&&(this._mouseWheelToDispose=(0,t.dispose)(this._mouseWheelToDispose),v)){const y=E=>{this._onMouseWheel(new D.StandardWheelEvent(E))};this._mouseWheelToDispose.push(m.addDisposableListener(this._listenOnDomNode,m.EventType.MOUSE_WHEEL,y,{passive:!1}))}}_onMouseWheel(v){const _=r.INSTANCE;if(c){const T=window.devicePixelRatio/(0,w.getZoomFactor)();i.isWindows||i.isLinux?_.accept(Date.now(),v.deltaX/T,v.deltaY/T):_.accept(Date.now(),v.deltaX,v.deltaY)}let y=!1;if(v.deltaY||v.deltaX){let T=v.deltaY*this._options.mouseWheelScrollSensitivity,I=v.deltaX*this._options.mouseWheelScrollSensitivity;this._options.scrollPredominantAxis&&(Math.abs(T)>=Math.abs(I)?I=0:T=0),this._options.flipAxes&&([T,I]=[I,T]);const R=!i.isMacintosh&&v.browserEvent&&v.browserEvent.shiftKey;(this._options.scrollYToX||R)&&!I&&(I=T,T=0),v.browserEvent&&v.browserEvent.altKey&&(I=I*this._options.fastScrollSensitivity,T=T*this._options.fastScrollSensitivity);const F=this._scrollable.getFutureScrollPosition();let O={};if(T){const M=l*T,N=F.scrollTop-(M<0?Math.floor(M):Math.ceil(M));this._verticalScrollbar.writeScrollPosition(O,N)}if(I){const M=l*I,N=F.scrollLeft-(M<0?Math.floor(M):Math.ceil(M));this._horizontalScrollbar.writeScrollPosition(O,N)}O=this._scrollable.validateScrollPosition(O),(F.scrollLeft!==O.scrollLeft||F.scrollTop!==O.scrollTop)&&(c&&this._options.mouseWheelSmoothScroll&&_.isPhysicalMouseWheel()?this._scrollable.setScrollPositionSmooth(O):this._scrollable.setScrollPositionNow(O),y=!0)}let E=y;!E&&this._options.alwaysConsumeMouseWheel&&(E=!0),!E&&this._options.consumeMouseWheelIfScrollbarIsNeeded&&(this._verticalScrollbar.isNeeded()||this._horizontalScrollbar.isNeeded())&&(E=!0),E&&(v.preventDefault(),v.stopPropagation())}_onDidScroll(v){this._shouldRender=this._horizontalScrollbar.onDidScroll(v)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(v)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()}renderNow(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}_render(){if(!!this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){const v=this._scrollable.getCurrentScrollPosition(),_=v.scrollTop>0,y=v.scrollLeft>0,E=y?" left":"",T=_?" top":"",I=y||_?" top-left-corner":"";this._leftShadowDomNode.setClassName(`shadow${E}`),this._topShadowDomNode.setClassName(`shadow${T}`),this._topLeftShadowDomNode.setClassName(`shadow${I}${T}${E}`)}}_onDragStart(){this._isDragging=!0,this._reveal()}_onDragEnd(){this._isDragging=!1,this._hide()}_onMouseLeave(v){this._mouseIsOver=!1,this._hide()}_onMouseOver(v){this._mouseIsOver=!0,this._reveal()}_reveal(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}_hide(){!this._mouseIsOver&&!this._isDragging&&(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())}_scheduleHide(){!this._mouseIsOver&&!this._isDragging&&this._hideTimeout.cancelAndSet(()=>this._hide(),o)}}e.AbstractScrollableElement=s;class a extends s{constructor(v,_){_=_||{},_.mouseWheelSmoothScroll=!1;const y=new n.Scrollable({forceIntegerValues:!0,smoothScrollDuration:0,scheduleAtNextAnimationFrame:E=>m.scheduleAtNextAnimationFrame(E)});super(v,_,y),this._register(y)}setScrollPosition(v){this._scrollable.setScrollPositionNow(v)}}e.ScrollableElement=a;class u extends s{constructor(v,_,y){super(v,_,y)}setScrollPosition(v){v.reuseAnimation?this._scrollable.setScrollPositionSmooth(v,v.reuseAnimation):this._scrollable.setScrollPositionNow(v)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}}e.SmoothScrollableElement=u;class p extends s{constructor(v,_){_=_||{},_.mouseWheelSmoothScroll=!1;const y=new n.Scrollable({forceIntegerValues:!1,smoothScrollDuration:0,scheduleAtNextAnimationFrame:E=>m.scheduleAtNextAnimationFrame(E)});super(v,_,y),this._register(y),this._element=v,this.onScroll(E=>{E.scrollTopChanged&&(this._element.scrollTop=E.scrollTop),E.scrollLeftChanged&&(this._element.scrollLeft=E.scrollLeft)}),this.scanDomNode()}setScrollPosition(v){this._scrollable.setScrollPositionNow(v)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}scanDomNode(){this.setScrollDimensions({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight}),this.setScrollPosition({scrollLeft:this._element.scrollLeft,scrollTop:this._element.scrollTop})}}e.DomScrollableElement=p;function S(f){const v={lazyRender:typeof f.lazyRender<"u"?f.lazyRender:!1,className:typeof f.className<"u"?f.className:"",useShadows:typeof f.useShadows<"u"?f.useShadows:!0,handleMouseWheel:typeof f.handleMouseWheel<"u"?f.handleMouseWheel:!0,flipAxes:typeof f.flipAxes<"u"?f.flipAxes:!1,consumeMouseWheelIfScrollbarIsNeeded:typeof f.consumeMouseWheelIfScrollbarIsNeeded<"u"?f.consumeMouseWheelIfScrollbarIsNeeded:!1,alwaysConsumeMouseWheel:typeof f.alwaysConsumeMouseWheel<"u"?f.alwaysConsumeMouseWheel:!1,scrollYToX:typeof f.scrollYToX<"u"?f.scrollYToX:!1,mouseWheelScrollSensitivity:typeof f.mouseWheelScrollSensitivity<"u"?f.mouseWheelScrollSensitivity:1,fastScrollSensitivity:typeof f.fastScrollSensitivity<"u"?f.fastScrollSensitivity:5,scrollPredominantAxis:typeof f.scrollPredominantAxis<"u"?f.scrollPredominantAxis:!0,mouseWheelSmoothScroll:typeof f.mouseWheelSmoothScroll<"u"?f.mouseWheelSmoothScroll:!0,arrowSize:typeof f.arrowSize<"u"?f.arrowSize:11,listenOnDomNode:typeof f.listenOnDomNode<"u"?f.listenOnDomNode:null,horizontal:typeof f.horizontal<"u"?f.horizontal:1,horizontalScrollbarSize:typeof f.horizontalScrollbarSize<"u"?f.horizontalScrollbarSize:10,horizontalSliderSize:typeof f.horizontalSliderSize<"u"?f.horizontalSliderSize:0,horizontalHasArrows:typeof f.horizontalHasArrows<"u"?f.horizontalHasArrows:!1,vertical:typeof f.vertical<"u"?f.vertical:1,verticalScrollbarSize:typeof f.verticalScrollbarSize<"u"?f.verticalScrollbarSize:10,verticalHasArrows:typeof f.verticalHasArrows<"u"?f.verticalHasArrows:!1,verticalSliderSize:typeof f.verticalSliderSize<"u"?f.verticalSliderSize:0,scrollByPage:typeof f.scrollByPage<"u"?f.scrollByPage:!1};return v.horizontalSliderSize=typeof f.horizontalSliderSize<"u"?f.horizontalSliderSize:v.horizontalScrollbarSize,v.verticalSliderSize=typeof f.verticalSliderSize<"u"?f.verticalSliderSize:v.verticalScrollbarSize,i.isMacintosh&&(v.className+=" mac"),v}}),define(se[266],re([1,0,7,45,76,2,347]),function(q,e,w,m,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HoverAction=e.HoverWidget=void 0;const L=w.$;class b extends D.Disposable{constructor(){super(),this.containerDomNode=document.createElement("div"),this.containerDomNode.className="monaco-hover",this.containerDomNode.tabIndex=0,this.containerDomNode.setAttribute("role","tooltip"),this.contentsDomNode=document.createElement("div"),this.contentsDomNode.className="monaco-hover-content",this.scrollbar=this._register(new k.DomScrollableElement(this.contentsDomNode,{consumeMouseWheelIfScrollbarIsNeeded:!0})),this.containerDomNode.appendChild(this.scrollbar.getDomNode())}onContentsChanged(){this.scrollbar.scanDomNode()}}e.HoverWidget=b;class C extends D.Disposable{static render(g,t,i){return new C(g,t,i)}constructor(g,t,i){super(),this.actionContainer=w.append(g,L("div.action-container")),this.actionContainer.setAttribute("tabindex","0"),this.action=w.append(this.actionContainer,L("a.action")),this.action.setAttribute("role","button"),t.iconClass&&w.append(this.action,L(`span.icon.${t.iconClass}`));const n=w.append(this.action,L("span"));n.textContent=i?`${t.label} (${i})`:t.label,this._register(w.addDisposableListener(this.actionContainer,w.EventType.CLICK,o=>{o.stopPropagation(),o.preventDefault(),t.run(this.actionContainer)})),this._register(w.addDisposableListener(this.actionContainer,w.EventType.KEY_UP,o=>{new m.StandardKeyboardEvent(o).equals(3)&&(o.stopPropagation(),o.preventDefault(),t.run(this.actionContainer))})),this.setEnabled(!0)}setEnabled(g){g?(this.actionContainer.classList.remove("disabled"),this.actionContainer.removeAttribute("aria-disabled")):(this.actionContainer.classList.add("disabled"),this.actionContainer.setAttribute("aria-disabled","true"))}}e.HoverAction=C}),define(se[205],re([1,0,126,7,86,60,76,18,10,105,6,2,148,162,339,500,14]),function(q,e,w,m,k,D,L,b,C,h,g,t,i,n,o,l,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ListView=e.NativeDragAndDropData=e.ExternalElementsDragAndDropData=e.ElementsDragAndDropData=void 0;const d={CurrentDragAndDropData:void 0},r={useShadows:!0,verticalScrollMode:1,setRowLineHeight:!0,setRowHeight:!0,supportDynamicHeights:!1,dnd:{getDragElements(v){return[v]},getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){}},horizontalScrolling:!1,transformOptimization:!0,alwaysConsumeMouseWheel:!0};class s{constructor(_){this.elements=_}update(){}getData(){return this.elements}}e.ElementsDragAndDropData=s;class a{constructor(_){this.elements=_}update(){}getData(){return this.elements}}e.ExternalElementsDragAndDropData=a;class u{constructor(){this.types=[],this.files=[]}update(_){if(_.types&&this.types.splice(0,this.types.length,..._.types),_.files){this.files.splice(0,this.files.length);for(let y=0;y<_.files.length;y++){const E=_.files.item(y);E&&(E.size||E.type)&&this.files.push(E)}}}getData(){return{types:this.types,files:this.files}}}e.NativeDragAndDropData=u;function p(v,_){return Array.isArray(v)&&Array.isArray(_)?(0,b.equals)(v,_):v===_}class S{constructor(_){_?.getSetSize?this.getSetSize=_.getSetSize.bind(_):this.getSetSize=(y,E,T)=>T,_?.getPosInSet?this.getPosInSet=_.getPosInSet.bind(_):this.getPosInSet=(y,E)=>E+1,_?.getRole?this.getRole=_.getRole.bind(_):this.getRole=y=>"listitem",_?.isChecked?this.isChecked=_.isChecked.bind(_):this.isChecked=y=>{}}}class f{get contentHeight(){return this.rangeMap.size}get horizontalScrolling(){return this._horizontalScrolling}set horizontalScrolling(_){if(_!==this._horizontalScrolling){if(_&&this.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");if(this._horizontalScrolling=_,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this._horizontalScrolling){for(const y of this.items)this.measureItemWidth(y);this.updateScrollWidth(),this.scrollableElement.setScrollDimensions({width:(0,m.getContentWidth)(this.domNode)}),this.rowsContainer.style.width=`${Math.max(this.scrollWidth||0,this.renderWidth)}px`}else this.scrollableElementWidthDelayer.cancel(),this.scrollableElement.setScrollDimensions({width:this.renderWidth,scrollWidth:this.renderWidth}),this.rowsContainer.style.width=""}}constructor(_,y,E,T=r){var I,R,F,O,M,N,A,B,W,x;if(this.virtualDelegate=y,this.domId=`list_id_${++f.InstanceCount}`,this.renderers=new Map,this.renderWidth=0,this._scrollHeight=0,this.scrollableElementUpdateDisposable=null,this.scrollableElementWidthDelayer=new C.Delayer(50),this.splicing=!1,this.dragOverAnimationStopDisposable=t.Disposable.None,this.dragOverMouseY=0,this.canDrop=!1,this.currentDragFeedbackDisposable=t.Disposable.None,this.onDragLeaveTimeout=t.Disposable.None,this.disposables=new t.DisposableStore,this._onDidChangeContentHeight=new g.Emitter,this._horizontalScrolling=!1,T.horizontalScrolling&&T.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");this.items=[],this.itemId=0,this.rangeMap=new o.RangeMap;for(const X of E)this.renderers.set(X.templateId,X);this.cache=this.disposables.add(new l.RowCache(this.renderers)),this.lastRenderTop=0,this.lastRenderHeight=0,this.domNode=document.createElement("div"),this.domNode.className="monaco-list",this.domNode.classList.add(this.domId),this.domNode.tabIndex=0,this.domNode.classList.toggle("mouse-support",typeof T.mouseSupport=="boolean"?T.mouseSupport:!0),this._horizontalScrolling=(I=T.horizontalScrolling)!==null&&I!==void 0?I:r.horizontalScrolling,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this.additionalScrollHeight=typeof T.additionalScrollHeight>"u"?0:T.additionalScrollHeight,this.accessibilityProvider=new S(T.accessibilityProvider),this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows",((R=T.transformOptimization)!==null&&R!==void 0?R:r.transformOptimization)&&(this.rowsContainer.style.transform="translate3d(0px, 0px, 0px)",this.rowsContainer.style.overflow="hidden",this.rowsContainer.style.contain="strict"),this.disposables.add(D.Gesture.addTarget(this.rowsContainer)),this.scrollable=new n.Scrollable({forceIntegerValues:!0,smoothScrollDuration:(F=T.smoothScrolling)!==null&&F!==void 0&&F?125:0,scheduleAtNextAnimationFrame:X=>(0,m.scheduleAtNextAnimationFrame)(X)}),this.scrollableElement=this.disposables.add(new L.SmoothScrollableElement(this.rowsContainer,{alwaysConsumeMouseWheel:(O=T.alwaysConsumeMouseWheel)!==null&&O!==void 0?O:r.alwaysConsumeMouseWheel,horizontal:1,vertical:(M=T.verticalScrollMode)!==null&&M!==void 0?M:r.verticalScrollMode,useShadows:(N=T.useShadows)!==null&&N!==void 0?N:r.useShadows,mouseWheelScrollSensitivity:T.mouseWheelScrollSensitivity,fastScrollSensitivity:T.fastScrollSensitivity},this.scrollable)),this.domNode.appendChild(this.scrollableElement.getDomNode()),_.appendChild(this.domNode),this.scrollableElement.onScroll(this.onScroll,this,this.disposables),this.disposables.add((0,m.addDisposableListener)(this.rowsContainer,D.EventType.Change,X=>this.onTouchChange(X))),this.disposables.add((0,m.addDisposableListener)(this.scrollableElement.getDomNode(),"scroll",X=>X.target.scrollTop=0)),this.disposables.add((0,m.addDisposableListener)(this.domNode,"dragover",X=>this.onDragOver(this.toDragEvent(X)))),this.disposables.add((0,m.addDisposableListener)(this.domNode,"drop",X=>this.onDrop(this.toDragEvent(X)))),this.disposables.add((0,m.addDisposableListener)(this.domNode,"dragleave",X=>this.onDragLeave(this.toDragEvent(X)))),this.disposables.add((0,m.addDisposableListener)(this.domNode,"dragend",X=>this.onDragEnd(X))),this.setRowLineHeight=(A=T.setRowLineHeight)!==null&&A!==void 0?A:r.setRowLineHeight,this.setRowHeight=(B=T.setRowHeight)!==null&&B!==void 0?B:r.setRowHeight,this.supportDynamicHeights=(W=T.supportDynamicHeights)!==null&&W!==void 0?W:r.supportDynamicHeights,this.dnd=(x=T.dnd)!==null&&x!==void 0?x:r.dnd,this.layout()}updateOptions(_){_.additionalScrollHeight!==void 0&&(this.additionalScrollHeight=_.additionalScrollHeight,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),_.smoothScrolling!==void 0&&this.scrollable.setSmoothScrollDuration(_.smoothScrolling?125:0),_.horizontalScrolling!==void 0&&(this.horizontalScrolling=_.horizontalScrolling),_.mouseWheelScrollSensitivity!==void 0&&this.scrollableElement.updateOptions({mouseWheelScrollSensitivity:_.mouseWheelScrollSensitivity}),_.fastScrollSensitivity!==void 0&&this.scrollableElement.updateOptions({fastScrollSensitivity:_.fastScrollSensitivity})}splice(_,y,E=[]){if(this.splicing)throw new Error("Can't run recursive splices.");this.splicing=!0;try{return this._splice(_,y,E)}finally{this.splicing=!1,this._onDidChangeContentHeight.fire(this.contentHeight)}}_splice(_,y,E=[]){const T=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),I={start:_,end:_+y},R=i.Range.intersect(T,I),F=new Map;for(let Z=R.end-1;Z>=R.start;Z--){const ee=this.items[Z];if(ee.dragStartDisposable.dispose(),ee.checkedDisposable.dispose(),ee.row){let le=F.get(ee.templateId);le||(le=[],F.set(ee.templateId,le));const V=this.renderers.get(ee.templateId);V&&V.disposeElement&&V.disposeElement(ee.element,Z,ee.row.templateData,ee.size),le.push(ee.row)}ee.row=null}const O={start:_+y,end:this.items.length},M=i.Range.intersect(O,T),N=i.Range.relativeComplement(O,T),A=E.map(Z=>({id:String(this.itemId++),element:Z,templateId:this.virtualDelegate.getTemplateId(Z),size:this.virtualDelegate.getHeight(Z),width:void 0,hasDynamicHeight:!!this.virtualDelegate.hasDynamicHeight&&this.virtualDelegate.hasDynamicHeight(Z),lastDynamicHeightWidth:void 0,row:null,uri:void 0,dropTarget:!1,dragStartDisposable:t.Disposable.None,checkedDisposable:t.Disposable.None}));let B;_===0&&y>=this.items.length?(this.rangeMap=new o.RangeMap,this.rangeMap.splice(0,0,A),B=this.items,this.items=A):(this.rangeMap.splice(_,y,A),B=this.items.splice(_,y,...A));const W=E.length-y,x=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),P=(0,o.shift)(M,W),X=i.Range.intersect(x,P);for(let Z=X.start;Z<X.end;Z++)this.updateItemInDOM(this.items[Z],Z);const ie=i.Range.relativeComplement(P,x);for(const Z of ie)for(let ee=Z.start;ee<Z.end;ee++)this.removeItemFromDOM(ee);const K=N.map(Z=>(0,o.shift)(Z,W)),Q=[{start:_,end:_+E.length},...K].map(Z=>i.Range.intersect(x,Z)),ne=this.getNextToLastElement(Q);for(const Z of Q)for(let ee=Z.start;ee<Z.end;ee++){const le=this.items[ee],V=F.get(le.templateId),$=V?.pop();this.insertItemInDOM(ee,ne,$)}for(const Z of F.values())for(const ee of Z)this.cache.release(ee);return this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),B.map(Z=>Z.element)}eventuallyUpdateScrollDimensions(){this._scrollHeight=this.contentHeight,this.rowsContainer.style.height=`${this._scrollHeight}px`,this.scrollableElementUpdateDisposable||(this.scrollableElementUpdateDisposable=(0,m.scheduleAtNextAnimationFrame)(()=>{this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight}),this.updateScrollWidth(),this.scrollableElementUpdateDisposable=null}))}eventuallyUpdateScrollWidth(){if(!this.horizontalScrolling){this.scrollableElementWidthDelayer.cancel();return}this.scrollableElementWidthDelayer.trigger(()=>this.updateScrollWidth())}updateScrollWidth(){if(!this.horizontalScrolling)return;let _=0;for(const y of this.items)typeof y.width<"u"&&(_=Math.max(_,y.width));this.scrollWidth=_,this.scrollableElement.setScrollDimensions({scrollWidth:_===0?0:_+10})}rerender(){if(!!this.supportDynamicHeights){for(const _ of this.items)_.lastDynamicHeightWidth=void 0;this._rerender(this.lastRenderTop,this.lastRenderHeight)}}get length(){return this.items.length}get renderHeight(){return this.scrollableElement.getScrollDimensions().height}get firstVisibleIndex(){const _=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),y=this.rangeMap.positionAt(_.start),E=this.rangeMap.positionAt(_.start+1);return E!==-1&&(E-y)/2+y<this.scrollTop?_.start+1:_.start}element(_){return this.items[_].element}domElement(_){const y=this.items[_].row;return y&&y.domNode}elementHeight(_){return this.items[_].size}elementTop(_){return this.rangeMap.positionAt(_)}indexAt(_){return this.rangeMap.indexAt(_)}indexAfter(_){return this.rangeMap.indexAfter(_)}layout(_,y){const E={height:typeof _=="number"?_:(0,m.getContentHeight)(this.domNode)};this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,E.scrollHeight=this.scrollHeight),this.scrollableElement.setScrollDimensions(E),typeof y<"u"&&(this.renderWidth=y,this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight)),this.horizontalScrolling&&this.scrollableElement.setScrollDimensions({width:typeof y=="number"?y:(0,m.getContentWidth)(this.domNode)})}render(_,y,E,T,I,R=!1){const F=this.getRenderRange(y,E),O=i.Range.relativeComplement(F,_),M=i.Range.relativeComplement(_,F),N=this.getNextToLastElement(O);if(R){const A=i.Range.intersect(_,F);for(let B=A.start;B<A.end;B++)this.updateItemInDOM(this.items[B],B)}for(const A of O)for(let B=A.start;B<A.end;B++)this.insertItemInDOM(B,N);for(const A of M)for(let B=A.start;B<A.end;B++)this.removeItemFromDOM(B);T!==void 0&&(this.rowsContainer.style.left=`-${T}px`),this.rowsContainer.style.top=`-${y}px`,this.horizontalScrolling&&I!==void 0&&(this.rowsContainer.style.width=`${Math.max(I,this.renderWidth)}px`),this.lastRenderTop=y,this.lastRenderHeight=E}insertItemInDOM(_,y,E){const T=this.items[_];T.row||(T.row=E??this.cache.alloc(T.templateId));const I=this.accessibilityProvider.getRole(T.element)||"listitem";T.row.domNode.setAttribute("role",I);const R=this.accessibilityProvider.isChecked(T.element);if(typeof R=="boolean")T.row.domNode.setAttribute("aria-checked",String(!!R));else if(R){const M=N=>T.row.domNode.setAttribute("aria-checked",String(!!N));M(R.value),T.checkedDisposable=R.onDidChange(M)}T.row.domNode.parentElement||(y?this.rowsContainer.insertBefore(T.row.domNode,y):this.rowsContainer.appendChild(T.row.domNode)),this.updateItemInDOM(T,_);const F=this.renderers.get(T.templateId);if(!F)throw new Error(`No renderer found for template id ${T.templateId}`);F?.renderElement(T.element,_,T.row.templateData,T.size);const O=this.dnd.getDragURI(T.element);T.dragStartDisposable.dispose(),T.row.domNode.draggable=!!O,O&&(T.dragStartDisposable=(0,m.addDisposableListener)(T.row.domNode,"dragstart",M=>this.onDragStart(T.element,O,M))),this.horizontalScrolling&&(this.measureItemWidth(T),this.eventuallyUpdateScrollWidth())}measureItemWidth(_){if(!_.row||!_.row.domNode)return;_.row.domNode.style.width="fit-content",_.width=(0,m.getContentWidth)(_.row.domNode);const y=window.getComputedStyle(_.row.domNode);y.paddingLeft&&(_.width+=parseFloat(y.paddingLeft)),y.paddingRight&&(_.width+=parseFloat(y.paddingRight)),_.row.domNode.style.width=""}updateItemInDOM(_,y){_.row.domNode.style.top=`${this.elementTop(y)}px`,this.setRowHeight&&(_.row.domNode.style.height=`${_.size}px`),this.setRowLineHeight&&(_.row.domNode.style.lineHeight=`${_.size}px`),_.row.domNode.setAttribute("data-index",`${y}`),_.row.domNode.setAttribute("data-last-element",y===this.length-1?"true":"false"),_.row.domNode.setAttribute("data-parity",y%2===0?"even":"odd"),_.row.domNode.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(_.element,y,this.length))),_.row.domNode.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(_.element,y))),_.row.domNode.setAttribute("id",this.getElementDomId(y)),_.row.domNode.classList.toggle("drop-target",_.dropTarget)}removeItemFromDOM(_){const y=this.items[_];if(y.dragStartDisposable.dispose(),y.checkedDisposable.dispose(),y.row){const E=this.renderers.get(y.templateId);E&&E.disposeElement&&E.disposeElement(y.element,_,y.row.templateData,y.size),this.cache.release(y.row),y.row=null}this.horizontalScrolling&&this.eventuallyUpdateScrollWidth()}getScrollTop(){return this.scrollableElement.getScrollPosition().scrollTop}setScrollTop(_,y){this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),this.scrollableElement.setScrollPosition({scrollTop:_,reuseAnimation:y})}get scrollTop(){return this.getScrollTop()}set scrollTop(_){this.setScrollTop(_)}get scrollHeight(){return this._scrollHeight+(this.horizontalScrolling?10:0)+this.additionalScrollHeight}get onMouseClick(){return g.Event.map(this.disposables.add(new k.DomEmitter(this.domNode,"click")).event,_=>this.toMouseEvent(_),this.disposables)}get onMouseDblClick(){return g.Event.map(this.disposables.add(new k.DomEmitter(this.domNode,"dblclick")).event,_=>this.toMouseEvent(_),this.disposables)}get onMouseMiddleClick(){return g.Event.filter(g.Event.map(this.disposables.add(new k.DomEmitter(this.domNode,"auxclick")).event,_=>this.toMouseEvent(_),this.disposables),_=>_.browserEvent.button===1,this.disposables)}get onMouseDown(){return g.Event.map(this.disposables.add(new k.DomEmitter(this.domNode,"mousedown")).event,_=>this.toMouseEvent(_),this.disposables)}get onMouseOver(){return g.Event.map(this.disposables.add(new k.DomEmitter(this.domNode,"mouseover")).event,_=>this.toMouseEvent(_),this.disposables)}get onContextMenu(){return g.Event.any(g.Event.map(this.disposables.add(new k.DomEmitter(this.domNode,"contextmenu")).event,_=>this.toMouseEvent(_),this.disposables),g.Event.map(this.disposables.add(new k.DomEmitter(this.domNode,D.EventType.Contextmenu)).event,_=>this.toGestureEvent(_),this.disposables))}get onTouchStart(){return g.Event.map(this.disposables.add(new k.DomEmitter(this.domNode,"touchstart")).event,_=>this.toTouchEvent(_),this.disposables)}get onTap(){return g.Event.map(this.disposables.add(new k.DomEmitter(this.rowsContainer,D.EventType.Tap)).event,_=>this.toGestureEvent(_),this.disposables)}toMouseEvent(_){const y=this.getItemIndexFromEventTarget(_.target||null),E=typeof y>"u"?void 0:this.items[y],T=E&&E.element;return{browserEvent:_,index:y,element:T}}toTouchEvent(_){const y=this.getItemIndexFromEventTarget(_.target||null),E=typeof y>"u"?void 0:this.items[y],T=E&&E.element;return{browserEvent:_,index:y,element:T}}toGestureEvent(_){const y=this.getItemIndexFromEventTarget(_.initialTarget||null),E=typeof y>"u"?void 0:this.items[y],T=E&&E.element;return{browserEvent:_,index:y,element:T}}toDragEvent(_){const y=this.getItemIndexFromEventTarget(_.target||null),E=typeof y>"u"?void 0:this.items[y],T=E&&E.element;return{browserEvent:_,index:y,element:T}}onScroll(_){try{const y=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);this.render(y,_.scrollTop,_.height,_.scrollLeft,_.scrollWidth),this.supportDynamicHeights&&this._rerender(_.scrollTop,_.height,_.inSmoothScrolling)}catch(y){throw console.error("Got bad scroll event:",_),y}}onTouchChange(_){_.preventDefault(),_.stopPropagation(),this.scrollTop-=_.translationY}onDragStart(_,y,E){var T,I;if(!E.dataTransfer)return;const R=this.dnd.getDragElements(_);if(E.dataTransfer.effectAllowed="copyMove",E.dataTransfer.setData(w.DataTransfers.TEXT,y),E.dataTransfer.setDragImage){let F;this.dnd.getDragLabel&&(F=this.dnd.getDragLabel(R,E)),typeof F>"u"&&(F=String(R.length));const O=(0,m.$)(".monaco-drag-image");O.textContent=F,document.body.appendChild(O),E.dataTransfer.setDragImage(O,-10,-10),setTimeout(()=>document.body.removeChild(O),0)}this.domNode.classList.add("dragging"),this.currentDragData=new s(R),d.CurrentDragAndDropData=new a(R),(I=(T=this.dnd).onDragStart)===null||I===void 0||I.call(T,this.currentDragData,E)}onDragOver(_){var y;if(_.browserEvent.preventDefault(),this.onDragLeaveTimeout.dispose(),d.CurrentDragAndDropData&&d.CurrentDragAndDropData.getData()==="vscode-ui"||(this.setupDragAndDropScrollTopAnimation(_.browserEvent),!_.browserEvent.dataTransfer))return!1;if(!this.currentDragData)if(d.CurrentDragAndDropData)this.currentDragData=d.CurrentDragAndDropData;else{if(!_.browserEvent.dataTransfer.types)return!1;this.currentDragData=new u}const E=this.dnd.onDragOver(this.currentDragData,_.element,_.index,_.browserEvent);if(this.canDrop=typeof E=="boolean"?E:E.accept,!this.canDrop)return this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),!1;_.browserEvent.dataTransfer.dropEffect=typeof E!="boolean"&&E.effect===0?"copy":"move";let T;if(typeof E!="boolean"&&E.feedback?T=E.feedback:typeof _.index>"u"?T=[-1]:T=[_.index],T=(0,b.distinct)(T).filter(I=>I>=-1&&I<this.length).sort((I,R)=>I-R),T=T[0]===-1?[-1]:T,p(this.currentDragFeedback,T))return!0;if(this.currentDragFeedback=T,this.currentDragFeedbackDisposable.dispose(),T[0]===-1)this.domNode.classList.add("drop-target"),this.rowsContainer.classList.add("drop-target"),this.currentDragFeedbackDisposable=(0,t.toDisposable)(()=>{this.domNode.classList.remove("drop-target"),this.rowsContainer.classList.remove("drop-target")});else{for(const I of T){const R=this.items[I];R.dropTarget=!0,(y=R.row)===null||y===void 0||y.domNode.classList.add("drop-target")}this.currentDragFeedbackDisposable=(0,t.toDisposable)(()=>{var I;for(const R of T){const F=this.items[R];F.dropTarget=!1,(I=F.row)===null||I===void 0||I.domNode.classList.remove("drop-target")}})}return!0}onDragLeave(_){var y,E;this.onDragLeaveTimeout.dispose(),this.onDragLeaveTimeout=(0,C.disposableTimeout)(()=>this.clearDragOverFeedback(),100),this.currentDragData&&((E=(y=this.dnd).onDragLeave)===null||E===void 0||E.call(y,this.currentDragData,_.element,_.index,_.browserEvent))}onDrop(_){if(!this.canDrop)return;const y=this.currentDragData;this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.domNode.classList.remove("dragging"),this.currentDragData=void 0,d.CurrentDragAndDropData=void 0,!(!y||!_.browserEvent.dataTransfer)&&(_.browserEvent.preventDefault(),y.update(_.browserEvent.dataTransfer),this.dnd.drop(y,_.element,_.index,_.browserEvent))}onDragEnd(_){var y,E;this.canDrop=!1,this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.domNode.classList.remove("dragging"),this.currentDragData=void 0,d.CurrentDragAndDropData=void 0,(E=(y=this.dnd).onDragEnd)===null||E===void 0||E.call(y,_)}clearDragOverFeedback(){this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),this.currentDragFeedbackDisposable=t.Disposable.None}setupDragAndDropScrollTopAnimation(_){if(!this.dragOverAnimationDisposable){const y=(0,m.getTopLeftOffset)(this.domNode).top;this.dragOverAnimationDisposable=(0,m.animate)(this.animateDragAndDropScrollTop.bind(this,y))}this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationStopDisposable=(0,C.disposableTimeout)(()=>{this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)},1e3),this.dragOverMouseY=_.pageY}animateDragAndDropScrollTop(_){if(this.dragOverMouseY===void 0)return;const y=this.dragOverMouseY-_,E=this.renderHeight-35;y<35?this.scrollTop+=Math.max(-14,Math.floor(.3*(y-35))):y>E&&(this.scrollTop+=Math.min(14,Math.floor(.3*(y-E))))}teardownDragAndDropScrollTopAnimation(){this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)}getItemIndexFromEventTarget(_){const y=this.scrollableElement.getDomNode();let E=_;for(;E instanceof HTMLElement&&E!==this.rowsContainer&&y.contains(E);){const T=E.getAttribute("data-index");if(T){const I=Number(T);if(!isNaN(I))return I}E=E.parentElement}}getRenderRange(_,y){return{start:this.rangeMap.indexAt(_),end:this.rangeMap.indexAfter(_+y-1)}}_rerender(_,y,E){const T=this.getRenderRange(_,y);let I,R;_===this.elementTop(T.start)?(I=T.start,R=0):T.end-T.start>1&&(I=T.start+1,R=this.elementTop(I)-_);let F=0;for(;;){const O=this.getRenderRange(_,y);let M=!1;for(let N=O.start;N<O.end;N++){const A=this.probeDynamicHeight(N);A!==0&&this.rangeMap.splice(N,1,[this.items[N]]),F+=A,M=M||A!==0}if(!M){F!==0&&this.eventuallyUpdateScrollDimensions();const N=i.Range.relativeComplement(T,O);for(const B of N)for(let W=B.start;W<B.end;W++)this.items[W].row&&this.removeItemFromDOM(W);const A=i.Range.relativeComplement(O,T);for(const B of A)for(let W=B.start;W<B.end;W++){const x=W+1,P=x<this.items.length?this.items[x].row:null,X=P?P.domNode:null;this.insertItemInDOM(W,X)}for(let B=O.start;B<O.end;B++)this.items[B].row&&this.updateItemInDOM(this.items[B],B);if(typeof I=="number"){const B=this.scrollable.getFutureScrollPosition().scrollTop-_,W=this.elementTop(I)-R+B;this.setScrollTop(W,E)}this._onDidChangeContentHeight.fire(this.contentHeight);return}}}probeDynamicHeight(_){var y,E,T;const I=this.items[_];if(this.virtualDelegate.getDynamicHeight){const M=this.virtualDelegate.getDynamicHeight(I.element);if(M!==null){const N=I.size;return I.size=M,I.lastDynamicHeightWidth=this.renderWidth,M-N}}if(!I.hasDynamicHeight||I.lastDynamicHeightWidth===this.renderWidth||!!this.virtualDelegate.hasDynamicHeight&&!this.virtualDelegate.hasDynamicHeight(I.element))return 0;const R=I.size;if(I.row)return I.row.domNode.style.height="",I.size=I.row.domNode.offsetHeight,I.lastDynamicHeightWidth=this.renderWidth,I.size-R;const F=this.cache.alloc(I.templateId);F.domNode.style.height="",this.rowsContainer.appendChild(F.domNode);const O=this.renderers.get(I.templateId);if(!O)throw new c.BugIndicatingError("Missing renderer for templateId: "+I.templateId);return O.renderElement(I.element,_,F.templateData,void 0),I.size=F.domNode.offsetHeight,(y=O.disposeElement)===null||y===void 0||y.call(O,I.element,_,F.templateData,void 0),(T=(E=this.virtualDelegate).setDynamicHeight)===null||T===void 0||T.call(E,I.element,I.size),I.lastDynamicHeightWidth=this.renderWidth,this.rowsContainer.removeChild(F.domNode),this.cache.release(F),I.size-R}getNextToLastElement(_){const y=_[_.length-1];if(!y)return null;const E=this.items[y.end];return!E||!E.row?null:E.row.domNode}getElementDomId(_){return`${this.domId}_${_}`}dispose(){var _;if(this.items){for(const y of this.items)if(y.row){const E=this.renderers.get(y.row.templateId);E&&((_=E.disposeElement)===null||_===void 0||_.call(E,y.element,-1,y.row.templateData,void 0),E.disposeTemplate(y.row.templateData))}this.items=[]}this.domNode&&this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),(0,t.dispose)(this.disposables)}}f.InstanceCount=0,De([h.memoize],f.prototype,"onMouseClick",null),De([h.memoize],f.prototype,"onMouseDblClick",null),De([h.memoize],f.prototype,"onMouseMiddleClick",null),De([h.memoize],f.prototype,"onMouseDown",null),De([h.memoize],f.prototype,"onMouseOver",null),De([h.memoize],f.prototype,"onContextMenu",null),De([h.memoize],f.prototype,"onTouchStart",null),De([h.memoize],f.prototype,"onTap",null),e.ListView=f}),define(se[102],re([1,0,7,86,45,60,50,333,18,10,31,105,6,62,2,127,36,17,19,332,205,233]),function(q,e,w,m,k,D,L,b,C,h,g,t,i,n,o,l,c,d,r,s,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.List=e.DefaultStyleController=e.MouseController=e.isSelectionRangeChangeEvent=e.isSelectionSingleChangeEvent=e.DefaultKeyboardNavigationDelegate=e.TypeNavigationMode=e.isButton=e.isMonacoEditor=e.isInputElement=void 0;class u{constructor(V){this.trait=V,this.renderedElements=[]}get templateId(){return`template:${this.trait.name}`}renderTemplate(V){return V}renderElement(V,$,oe){const U=this.renderedElements.findIndex(ae=>ae.templateData===oe);if(U>=0){const ae=this.renderedElements[U];this.trait.unrender(oe),ae.index=$}else{const ae={index:$,templateData:oe};this.renderedElements.push(ae)}this.trait.renderIndex($,oe)}splice(V,$,oe){const U=[];for(const ae of this.renderedElements)ae.index<V?U.push(ae):ae.index>=V+$&&U.push({index:ae.index+oe-$,templateData:ae.templateData});this.renderedElements=U}renderIndexes(V){for(const{index:$,templateData:oe}of this.renderedElements)V.indexOf($)>-1&&this.trait.renderIndex($,oe)}disposeTemplate(V){const $=this.renderedElements.findIndex(oe=>oe.templateData===V);$<0||this.renderedElements.splice($,1)}}class p{get name(){return this._trait}get renderer(){return new u(this)}constructor(V){this._trait=V,this.length=0,this.indexes=[],this.sortedIndexes=[],this._onChange=new i.Emitter,this.onChange=this._onChange.event}splice(V,$,oe){var U;$=Math.max(0,Math.min($,this.length-V));const ae=oe.length-$,z=V+$,J=[...this.sortedIndexes.filter(H=>H<V),...oe.map((H,j)=>H?j+V:-1).filter(H=>H!==-1),...this.sortedIndexes.filter(H=>H>=z).map(H=>H+ae)],Y=this.length+ae;if(this.sortedIndexes.length>0&&J.length===0&&Y>0){const H=(U=this.sortedIndexes.find(j=>j>=V))!==null&&U!==void 0?U:Y-1;J.push(Math.min(H,Y-1))}this.renderer.splice(V,$,oe.length),this._set(J,J),this.length=Y}renderIndex(V,$){$.classList.toggle(this._trait,this.contains(V))}unrender(V){V.classList.remove(this._trait)}set(V,$){return this._set(V,[...V].sort(G),$)}_set(V,$,oe){const U=this.indexes,ae=this.sortedIndexes;this.indexes=V,this.sortedIndexes=$;const z=ie(ae,V);return this.renderer.renderIndexes(z),this._onChange.fire({indexes:V,browserEvent:oe}),U}get(){return this.indexes}contains(V){return(0,C.binarySearch)(this.sortedIndexes,V,G)>=0}dispose(){(0,o.dispose)(this._onChange)}}De([t.memoize],p.prototype,"renderer",null);class S extends p{constructor(V){super("selected"),this.setAriaSelected=V}renderIndex(V,$){super.renderIndex(V,$),this.setAriaSelected&&(this.contains(V)?$.setAttribute("aria-selected","true"):$.setAttribute("aria-selected","false"))}}class f{constructor(V,$,oe){this.trait=V,this.view=$,this.identityProvider=oe}splice(V,$,oe){if(!this.identityProvider)return this.trait.splice(V,$,oe.map(()=>!1));const U=this.trait.get().map(z=>this.identityProvider.getId(this.view.element(z)).toString()),ae=oe.map(z=>U.indexOf(this.identityProvider.getId(z).toString())>-1);this.trait.splice(V,$,ae)}}function v(le){return le.tagName==="INPUT"||le.tagName==="TEXTAREA"}e.isInputElement=v;function _(le){return le.classList.contains("monaco-editor")?!0:le.classList.contains("monaco-list")||!le.parentElement?!1:_(le.parentElement)}e.isMonacoEditor=_;function y(le){return le.tagName==="A"&&le.classList.contains("monaco-button")||le.tagName==="DIV"&&le.classList.contains("monaco-button-dropdown")?!0:le.classList.contains("monaco-list")||!le.parentElement?!1:y(le.parentElement)}e.isButton=y;class E{get onKeyDown(){return this.disposables.add(i.Event.chain(this.disposables.add(new m.DomEmitter(this.view.domNode,"keydown")).event).filter(V=>!v(V.target)).map(V=>new k.StandardKeyboardEvent(V)))}constructor(V,$,oe){this.list=V,this.view=$,this.disposables=new o.DisposableStore,this.multipleSelectionDisposables=new o.DisposableStore,this.onKeyDown.filter(U=>U.keyCode===3).on(this.onEnter,this,this.disposables),this.onKeyDown.filter(U=>U.keyCode===16).on(this.onUpArrow,this,this.disposables),this.onKeyDown.filter(U=>U.keyCode===18).on(this.onDownArrow,this,this.disposables),this.onKeyDown.filter(U=>U.keyCode===11).on(this.onPageUpArrow,this,this.disposables),this.onKeyDown.filter(U=>U.keyCode===12).on(this.onPageDownArrow,this,this.disposables),this.onKeyDown.filter(U=>U.keyCode===9).on(this.onEscape,this,this.disposables),oe.multipleSelectionSupport!==!1&&this.onKeyDown.filter(U=>(d.isMacintosh?U.metaKey:U.ctrlKey)&&U.keyCode===31).on(this.onCtrlA,this,this.multipleSelectionDisposables)}updateOptions(V){V.multipleSelectionSupport!==void 0&&(this.multipleSelectionDisposables.clear(),V.multipleSelectionSupport&&this.onKeyDown.filter($=>(d.isMacintosh?$.metaKey:$.ctrlKey)&&$.keyCode===31).on(this.onCtrlA,this,this.multipleSelectionDisposables))}onEnter(V){V.preventDefault(),V.stopPropagation(),this.list.setSelection(this.list.getFocus(),V.browserEvent)}onUpArrow(V){V.preventDefault(),V.stopPropagation(),this.list.focusPrevious(1,!1,V.browserEvent);const $=this.list.getFocus()[0];this.list.setAnchor($),this.list.reveal($),this.view.domNode.focus()}onDownArrow(V){V.preventDefault(),V.stopPropagation(),this.list.focusNext(1,!1,V.browserEvent);const $=this.list.getFocus()[0];this.list.setAnchor($),this.list.reveal($),this.view.domNode.focus()}onPageUpArrow(V){V.preventDefault(),V.stopPropagation(),this.list.focusPreviousPage(V.browserEvent);const $=this.list.getFocus()[0];this.list.setAnchor($),this.list.reveal($),this.view.domNode.focus()}onPageDownArrow(V){V.preventDefault(),V.stopPropagation(),this.list.focusNextPage(V.browserEvent);const $=this.list.getFocus()[0];this.list.setAnchor($),this.list.reveal($),this.view.domNode.focus()}onCtrlA(V){V.preventDefault(),V.stopPropagation(),this.list.setSelection((0,C.range)(this.list.length),V.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus()}onEscape(V){this.list.getSelection().length&&(V.preventDefault(),V.stopPropagation(),this.list.setSelection([],V.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus())}dispose(){this.disposables.dispose(),this.multipleSelectionDisposables.dispose()}}De([t.memoize],E.prototype,"onKeyDown",null);var T;(function(le){le[le.Automatic=0]="Automatic",le[le.Trigger=1]="Trigger"})(T=e.TypeNavigationMode||(e.TypeNavigationMode={}));var I;(function(le){le[le.Idle=0]="Idle",le[le.Typing=1]="Typing"})(I||(I={})),e.DefaultKeyboardNavigationDelegate=new class{mightProducePrintableCharacter(le){return le.ctrlKey||le.metaKey||le.altKey?!1:le.keyCode>=31&&le.keyCode<=56||le.keyCode>=21&&le.keyCode<=30||le.keyCode>=93&&le.keyCode<=102||le.keyCode>=80&&le.keyCode<=90}};class R{constructor(V,$,oe,U,ae){this.list=V,this.view=$,this.keyboardNavigationLabelProvider=oe,this.keyboardNavigationEventFilter=U,this.delegate=ae,this.enabled=!1,this.state=I.Idle,this.mode=T.Automatic,this.triggered=!1,this.previouslyFocused=-1,this.enabledDisposables=new o.DisposableStore,this.disposables=new o.DisposableStore,this.updateOptions(V.options)}updateOptions(V){var $,oe;!(($=V.typeNavigationEnabled)!==null&&$!==void 0)||$?this.enable():this.disable(),this.mode=(oe=V.typeNavigationMode)!==null&&oe!==void 0?oe:T.Automatic}enable(){if(this.enabled)return;let V=!1;const $=this.enabledDisposables.add(i.Event.chain(this.enabledDisposables.add(new m.DomEmitter(this.view.domNode,"keydown")).event)).filter(ae=>!v(ae.target)).filter(()=>this.mode===T.Automatic||this.triggered).map(ae=>new k.StandardKeyboardEvent(ae)).filter(ae=>V||this.keyboardNavigationEventFilter(ae)).filter(ae=>this.delegate.mightProducePrintableCharacter(ae)).forEach(ae=>w.EventHelper.stop(ae,!0)).map(ae=>ae.browserEvent.key).event,oe=i.Event.debounce($,()=>null,800,void 0,void 0,this.enabledDisposables);i.Event.reduce(i.Event.any($,oe),(ae,z)=>z===null?null:(ae||"")+z,void 0,this.enabledDisposables)(this.onInput,this,this.enabledDisposables),oe(this.onClear,this,this.enabledDisposables),$(()=>V=!0,void 0,this.enabledDisposables),oe(()=>V=!1,void 0,this.enabledDisposables),this.enabled=!0,this.triggered=!1}disable(){!this.enabled||(this.enabledDisposables.clear(),this.enabled=!1,this.triggered=!1)}onClear(){var V;const $=this.list.getFocus();if($.length>0&&$[0]===this.previouslyFocused){const oe=(V=this.list.options.accessibilityProvider)===null||V===void 0?void 0:V.getAriaLabel(this.list.element($[0]));oe&&(0,L.alert)(oe)}this.previouslyFocused=-1}onInput(V){if(!V){this.state=I.Idle,this.triggered=!1;return}const $=this.list.getFocus(),oe=$.length>0?$[0]:0,U=this.state===I.Idle?1:0;this.state=I.Typing;for(let ae=0;ae<this.list.length;ae++){const z=(oe+ae+U)%this.list.length,J=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(z)),Y=J&&J.toString();if(typeof Y>"u"||(0,n.matchesPrefix)(V,Y)){this.previouslyFocused=oe,this.list.setFocus([z]),this.list.reveal(z);return}}}dispose(){this.disable(),this.enabledDisposables.dispose(),this.disposables.dispose()}}class F{constructor(V,$){this.list=V,this.view=$,this.disposables=new o.DisposableStore,this.disposables.add(i.Event.chain(this.disposables.add(new m.DomEmitter($.domNode,"keydown")).event)).filter(U=>!v(U.target)).map(U=>new k.StandardKeyboardEvent(U)).filter(U=>U.keyCode===2&&!U.ctrlKey&&!U.metaKey&&!U.shiftKey&&!U.altKey).on(this.onTab,this,this.disposables)}onTab(V){if(V.target!==this.view.domNode)return;const $=this.list.getFocus();if($.length===0)return;const oe=this.view.domElement($[0]);if(!oe)return;const U=oe.querySelector("[tabIndex]");if(!U||!(U instanceof HTMLElement)||U.tabIndex===-1)return;const ae=window.getComputedStyle(U);ae.visibility==="hidden"||ae.display==="none"||(V.preventDefault(),V.stopPropagation(),U.focus())}dispose(){this.disposables.dispose()}}function O(le){return d.isMacintosh?le.browserEvent.metaKey:le.browserEvent.ctrlKey}e.isSelectionSingleChangeEvent=O;function M(le){return le.browserEvent.shiftKey}e.isSelectionRangeChangeEvent=M;function N(le){return le instanceof MouseEvent&&le.button===2}const A={isSelectionSingleChangeEvent:O,isSelectionRangeChangeEvent:M};class B{constructor(V){this.list=V,this.disposables=new o.DisposableStore,this._onPointer=new i.Emitter,this.onPointer=this._onPointer.event,V.options.multipleSelectionSupport!==!1&&(this.multipleSelectionController=this.list.options.multipleSelectionController||A),this.mouseSupport=typeof V.options.mouseSupport>"u"||!!V.options.mouseSupport,this.mouseSupport&&(V.onMouseDown(this.onMouseDown,this,this.disposables),V.onContextMenu(this.onContextMenu,this,this.disposables),V.onMouseDblClick(this.onDoubleClick,this,this.disposables),V.onTouchStart(this.onMouseDown,this,this.disposables),this.disposables.add(D.Gesture.addTarget(V.getHTMLElement()))),i.Event.any(V.onMouseClick,V.onMouseMiddleClick,V.onTap)(this.onViewPointer,this,this.disposables)}updateOptions(V){V.multipleSelectionSupport!==void 0&&(this.multipleSelectionController=void 0,V.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||A))}isSelectionSingleChangeEvent(V){return this.multipleSelectionController?this.multipleSelectionController.isSelectionSingleChangeEvent(V):!1}isSelectionRangeChangeEvent(V){return this.multipleSelectionController?this.multipleSelectionController.isSelectionRangeChangeEvent(V):!1}isSelectionChangeEvent(V){return this.isSelectionSingleChangeEvent(V)||this.isSelectionRangeChangeEvent(V)}onMouseDown(V){_(V.browserEvent.target)||document.activeElement!==V.browserEvent.target&&this.list.domFocus()}onContextMenu(V){if(_(V.browserEvent.target))return;const $=typeof V.index>"u"?[]:[V.index];this.list.setFocus($,V.browserEvent)}onViewPointer(V){if(!this.mouseSupport||v(V.browserEvent.target)||_(V.browserEvent.target))return;const $=V.index;if(typeof $>"u"){this.list.setFocus([],V.browserEvent),this.list.setSelection([],V.browserEvent),this.list.setAnchor(void 0);return}if(this.isSelectionRangeChangeEvent(V))return this.changeSelection(V);if(this.isSelectionChangeEvent(V))return this.changeSelection(V);this.list.setFocus([$],V.browserEvent),this.list.setAnchor($),N(V.browserEvent)||this.list.setSelection([$],V.browserEvent),this._onPointer.fire(V)}onDoubleClick(V){if(v(V.browserEvent.target)||_(V.browserEvent.target)||this.isSelectionChangeEvent(V))return;const $=this.list.getFocus();this.list.setSelection($,V.browserEvent)}changeSelection(V){const $=V.index;let oe=this.list.getAnchor();if(this.isSelectionRangeChangeEvent(V)){if(typeof oe>"u"){const j=this.list.getFocus()[0];oe=j??$,this.list.setAnchor(oe)}const U=Math.min(oe,$),ae=Math.max(oe,$),z=(0,C.range)(U,ae+1),J=this.list.getSelection(),Y=X(ie(J,[oe]),oe);if(Y.length===0)return;const H=ie(z,K(J,Y));this.list.setSelection(H,V.browserEvent),this.list.setFocus([$],V.browserEvent)}else if(this.isSelectionSingleChangeEvent(V)){const U=this.list.getSelection(),ae=U.filter(z=>z!==$);this.list.setFocus([$]),this.list.setAnchor($),U.length===ae.length?this.list.setSelection([...ae,$],V.browserEvent):this.list.setSelection(ae,V.browserEvent)}}dispose(){this.disposables.dispose()}}e.MouseController=B;class W{constructor(V,$){this.styleElement=V,this.selectorSuffix=$}style(V){const $=this.selectorSuffix&&`.${this.selectorSuffix}`,oe=[];V.listBackground&&(V.listBackground.isOpaque()?oe.push(`.monaco-list${$} .monaco-list-rows { background: ${V.listBackground}; }`):d.isMacintosh||console.warn(`List with id '${this.selectorSuffix}' was styled with a non-opaque background color. This will break sub-pixel antialiasing.`)),V.listFocusBackground&&(oe.push(`.monaco-list${$}:focus .monaco-list-row.focused { background-color: ${V.listFocusBackground}; }`),oe.push(`.monaco-list${$}:focus .monaco-list-row.focused:hover { background-color: ${V.listFocusBackground}; }`)),V.listFocusForeground&&oe.push(`.monaco-list${$}:focus .monaco-list-row.focused { color: ${V.listFocusForeground}; }`),V.listActiveSelectionBackground&&(oe.push(`.monaco-list${$}:focus .monaco-list-row.selected { background-color: ${V.listActiveSelectionBackground}; }`),oe.push(`.monaco-list${$}:focus .monaco-list-row.selected:hover { background-color: ${V.listActiveSelectionBackground}; }`)),V.listActiveSelectionForeground&&oe.push(`.monaco-list${$}:focus .monaco-list-row.selected { color: ${V.listActiveSelectionForeground}; }`),V.listActiveSelectionIconForeground&&oe.push(`.monaco-list${$}:focus .monaco-list-row.selected .codicon { color: ${V.listActiveSelectionIconForeground}; }`),V.listFocusAndSelectionOutline&&oe.push(`.monaco-list${$}:focus .monaco-list-row.selected { outline-color: ${V.listFocusAndSelectionOutline} !important; }`),V.listFocusAndSelectionBackground&&oe.push(`
				.monaco-drag-image,
				.monaco-list${$}:focus .monaco-list-row.selected.focused { background-color: ${V.listFocusAndSelectionBackground}; }
			`),V.listFocusAndSelectionForeground&&oe.push(`
				.monaco-drag-image,
				.monaco-list${$}:focus .monaco-list-row.selected.focused { color: ${V.listFocusAndSelectionForeground}; }
			`),V.listInactiveFocusForeground&&(oe.push(`.monaco-list${$} .monaco-list-row.focused { color:  ${V.listInactiveFocusForeground}; }`),oe.push(`.monaco-list${$} .monaco-list-row.focused:hover { color:  ${V.listInactiveFocusForeground}; }`)),V.listInactiveSelectionIconForeground&&oe.push(`.monaco-list${$} .monaco-list-row.focused .codicon { color:  ${V.listInactiveSelectionIconForeground}; }`),V.listInactiveFocusBackground&&(oe.push(`.monaco-list${$} .monaco-list-row.focused { background-color:  ${V.listInactiveFocusBackground}; }`),oe.push(`.monaco-list${$} .monaco-list-row.focused:hover { background-color:  ${V.listInactiveFocusBackground}; }`)),V.listInactiveSelectionBackground&&(oe.push(`.monaco-list${$} .monaco-list-row.selected { background-color:  ${V.listInactiveSelectionBackground}; }`),oe.push(`.monaco-list${$} .monaco-list-row.selected:hover { background-color:  ${V.listInactiveSelectionBackground}; }`)),V.listInactiveSelectionForeground&&oe.push(`.monaco-list${$} .monaco-list-row.selected { color: ${V.listInactiveSelectionForeground}; }`),V.listHoverBackground&&oe.push(`.monaco-list${$}:not(.drop-target):not(.dragging) .monaco-list-row:hover:not(.selected):not(.focused) { background-color: ${V.listHoverBackground}; }`),V.listHoverForeground&&oe.push(`.monaco-list${$}:not(.drop-target):not(.dragging) .monaco-list-row:hover:not(.selected):not(.focused) { color:  ${V.listHoverForeground}; }`),V.listSelectionOutline&&oe.push(`.monaco-list${$} .monaco-list-row.selected { outline: 1px dotted ${V.listSelectionOutline}; outline-offset: -1px; }`),V.listFocusOutline&&oe.push(`
				.monaco-drag-image,
				.monaco-list${$}:focus .monaco-list-row.focused { outline: 1px solid ${V.listFocusOutline}; outline-offset: -1px; }
				.monaco-workbench.context-menu-visible .monaco-list${$}.last-focused .monaco-list-row.focused { outline: 1px solid ${V.listFocusOutline}; outline-offset: -1px; }
			`),V.listInactiveFocusOutline&&oe.push(`.monaco-list${$} .monaco-list-row.focused { outline: 1px dotted ${V.listInactiveFocusOutline}; outline-offset: -1px; }`),V.listHoverOutline&&oe.push(`.monaco-list${$} .monaco-list-row:hover { outline: 1px dashed ${V.listHoverOutline}; outline-offset: -1px; }`),V.listDropBackground&&oe.push(`
				.monaco-list${$}.drop-target,
				.monaco-list${$} .monaco-list-rows.drop-target,
				.monaco-list${$} .monaco-list-row.drop-target { background-color: ${V.listDropBackground} !important; color: inherit !important; }
			`),V.tableColumnsBorder&&oe.push(`
				.monaco-table:hover > .monaco-split-view2,
				.monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {
					border-color: ${V.tableColumnsBorder};
			}`),V.tableOddRowsBackgroundColor&&oe.push(`
				.monaco-table .monaco-list-row[data-parity=odd]:not(.focused):not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(:focus) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(.focused) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr {
					background-color: ${V.tableOddRowsBackgroundColor};
				}
			`),this.styleElement.textContent=oe.join(`
`)}}e.DefaultStyleController=W;const x={listFocusBackground:g.Color.fromHex("#7FB0D0"),listActiveSelectionBackground:g.Color.fromHex("#0E639C"),listActiveSelectionForeground:g.Color.fromHex("#FFFFFF"),listActiveSelectionIconForeground:g.Color.fromHex("#FFFFFF"),listFocusAndSelectionOutline:g.Color.fromHex("#90C2F9"),listFocusAndSelectionBackground:g.Color.fromHex("#094771"),listFocusAndSelectionForeground:g.Color.fromHex("#FFFFFF"),listInactiveSelectionBackground:g.Color.fromHex("#3F3F46"),listInactiveSelectionIconForeground:g.Color.fromHex("#FFFFFF"),listHoverBackground:g.Color.fromHex("#2A2D2E"),listDropBackground:g.Color.fromHex("#383B3D"),treeIndentGuidesStroke:g.Color.fromHex("#a9a9a9"),tableColumnsBorder:g.Color.fromHex("#cccccc").transparent(.2),tableOddRowsBackgroundColor:g.Color.fromHex("#cccccc").transparent(.04)},P={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){}}};function X(le,V){const $=le.indexOf(V);if($===-1)return[];const oe=[];let U=$-1;for(;U>=0&&le[U]===V-($-U);)oe.push(le[U--]);for(oe.reverse(),U=$;U<le.length&&le[U]===V+(U-$);)oe.push(le[U++]);return oe}function ie(le,V){const $=[];let oe=0,U=0;for(;oe<le.length||U<V.length;)if(oe>=le.length)$.push(V[U++]);else if(U>=V.length)$.push(le[oe++]);else if(le[oe]===V[U]){$.push(le[oe]),oe++,U++;continue}else le[oe]<V[U]?$.push(le[oe++]):$.push(V[U++]);return $}function K(le,V){const $=[];let oe=0,U=0;for(;oe<le.length||U<V.length;)if(oe>=le.length)$.push(V[U++]);else if(U>=V.length)$.push(le[oe++]);else if(le[oe]===V[U]){oe++,U++;continue}else le[oe]<V[U]?$.push(le[oe++]):U++;return $}const G=(le,V)=>le-V;class Q{constructor(V,$){this._templateId=V,this.renderers=$}get templateId(){return this._templateId}renderTemplate(V){return this.renderers.map($=>$.renderTemplate(V))}renderElement(V,$,oe,U){let ae=0;for(const z of this.renderers)z.renderElement(V,$,oe[ae++],U)}disposeElement(V,$,oe,U){var ae;let z=0;for(const J of this.renderers)(ae=J.disposeElement)===null||ae===void 0||ae.call(J,V,$,oe[z],U),z+=1}disposeTemplate(V){let $=0;for(const oe of this.renderers)oe.disposeTemplate(V[$++])}}class ne{constructor(V){this.accessibilityProvider=V,this.templateId="a18n"}renderTemplate(V){return V}renderElement(V,$,oe){const U=this.accessibilityProvider.getAriaLabel(V);U?oe.setAttribute("aria-label",U):oe.removeAttribute("aria-label");const ae=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(V);typeof ae=="number"?oe.setAttribute("aria-level",`${ae}`):oe.removeAttribute("aria-level")}disposeTemplate(V){}}class Z{constructor(V,$){this.list=V,this.dnd=$}getDragElements(V){const $=this.list.getSelectedElements();return $.indexOf(V)>-1?$:[V]}getDragURI(V){return this.dnd.getDragURI(V)}getDragLabel(V,$){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(V,$)}onDragStart(V,$){var oe,U;(U=(oe=this.dnd).onDragStart)===null||U===void 0||U.call(oe,V,$)}onDragOver(V,$,oe,U){return this.dnd.onDragOver(V,$,oe,U)}onDragLeave(V,$,oe,U){var ae,z;(z=(ae=this.dnd).onDragLeave)===null||z===void 0||z.call(ae,V,$,oe,U)}onDragEnd(V){var $,oe;(oe=($=this.dnd).onDragEnd)===null||oe===void 0||oe.call($,V)}drop(V,$,oe,U){this.dnd.drop(V,$,oe,U)}}class ee{get onDidChangeFocus(){return i.Event.map(this.eventBufferer.wrapEvent(this.focus.onChange),V=>this.toListEvent(V),this.disposables)}get onDidChangeSelection(){return i.Event.map(this.eventBufferer.wrapEvent(this.selection.onChange),V=>this.toListEvent(V),this.disposables)}get domId(){return this.view.domId}get onMouseClick(){return this.view.onMouseClick}get onMouseDblClick(){return this.view.onMouseDblClick}get onMouseMiddleClick(){return this.view.onMouseMiddleClick}get onPointer(){return this.mouseController.onPointer}get onMouseDown(){return this.view.onMouseDown}get onMouseOver(){return this.view.onMouseOver}get onTouchStart(){return this.view.onTouchStart}get onTap(){return this.view.onTap}get onContextMenu(){let V=!1;const $=this.disposables.add(i.Event.chain(this.disposables.add(new m.DomEmitter(this.view.domNode,"keydown")).event)).map(ae=>new k.StandardKeyboardEvent(ae)).filter(ae=>V=ae.keyCode===58||ae.shiftKey&&ae.keyCode===68).map(ae=>w.EventHelper.stop(ae,!0)).filter(()=>!1).event,oe=this.disposables.add(i.Event.chain(this.disposables.add(new m.DomEmitter(this.view.domNode,"keyup")).event)).forEach(()=>V=!1).map(ae=>new k.StandardKeyboardEvent(ae)).filter(ae=>ae.keyCode===58||ae.shiftKey&&ae.keyCode===68).map(ae=>w.EventHelper.stop(ae,!0)).map(({browserEvent:ae})=>{const z=this.getFocus(),J=z.length?z[0]:void 0,Y=typeof J<"u"?this.view.element(J):void 0,H=typeof J<"u"?this.view.domElement(J):this.view.domNode;return{index:J,element:Y,anchor:H,browserEvent:ae}}).event,U=this.disposables.add(i.Event.chain(this.view.onContextMenu)).filter(ae=>!V).map(({element:ae,index:z,browserEvent:J})=>({element:ae,index:z,anchor:{x:J.pageX+1,y:J.pageY},browserEvent:J})).event;return i.Event.any($,oe,U)}get onKeyDown(){return this.disposables.add(new m.DomEmitter(this.view.domNode,"keydown")).event}get onDidFocus(){return i.Event.signal(this.disposables.add(new m.DomEmitter(this.view.domNode,"focus",!0)).event)}constructor(V,$,oe,U,ae=P){var z,J,Y,H;this.user=V,this._options=ae,this.focus=new p("focused"),this.anchor=new p("anchor"),this.eventBufferer=new i.EventBufferer,this._ariaLabel="",this.disposables=new o.DisposableStore,this._onDidDispose=new i.Emitter,this.onDidDispose=this._onDidDispose.event;const j=this._options.accessibilityProvider&&this._options.accessibilityProvider.getWidgetRole?(z=this._options.accessibilityProvider)===null||z===void 0?void 0:z.getWidgetRole():"list";this.selection=new S(j!=="listbox"),(0,c.mixin)(ae,x,!1);const de=[this.focus.renderer,this.selection.renderer];this.accessibilityProvider=ae.accessibilityProvider,this.accessibilityProvider&&(de.push(new ne(this.accessibilityProvider)),(Y=(J=this.accessibilityProvider).onDidChangeActiveDescendant)===null||Y===void 0||Y.call(J,this.onDidChangeActiveDescendant,this,this.disposables)),U=U.map(ce=>new Q(ce.templateId,[...de,ce]));const ue=Object.assign(Object.assign({},ae),{dnd:ae.dnd&&new Z(this,ae.dnd)});if(this.view=new a.ListView($,oe,U,ue),this.view.domNode.setAttribute("role",j),ae.styleController)this.styleController=ae.styleController(this.view.domId);else{const ce=(0,w.createStyleSheet)(this.view.domNode);this.styleController=new W(ce,this.view.domId)}if(this.spliceable=new b.CombinedSpliceable([new f(this.focus,this.view,ae.identityProvider),new f(this.selection,this.view,ae.identityProvider),new f(this.anchor,this.view,ae.identityProvider),this.view]),this.disposables.add(this.focus),this.disposables.add(this.selection),this.disposables.add(this.anchor),this.disposables.add(this.view),this.disposables.add(this._onDidDispose),this.disposables.add(new F(this,this.view)),(typeof ae.keyboardSupport!="boolean"||ae.keyboardSupport)&&(this.keyboardController=new E(this,this.view,ae),this.disposables.add(this.keyboardController)),ae.keyboardNavigationLabelProvider){const ce=ae.keyboardNavigationDelegate||e.DefaultKeyboardNavigationDelegate;this.typeNavigationController=new R(this,this.view,ae.keyboardNavigationLabelProvider,(H=ae.keyboardNavigationEventFilter)!==null&&H!==void 0?H:()=>!0,ce),this.disposables.add(this.typeNavigationController)}this.mouseController=this.createMouseController(ae),this.disposables.add(this.mouseController),this.onDidChangeFocus(this._onFocusChange,this,this.disposables),this.onDidChangeSelection(this._onSelectionChange,this,this.disposables),this.accessibilityProvider&&(this.ariaLabel=this.accessibilityProvider.getWidgetAriaLabel()),this._options.multipleSelectionSupport!==!1&&this.view.domNode.setAttribute("aria-multiselectable","true")}createMouseController(V){return new B(this)}updateOptions(V={}){var $,oe;this._options=Object.assign(Object.assign({},this._options),V),($=this.typeNavigationController)===null||$===void 0||$.updateOptions(this._options),this._options.multipleSelectionController!==void 0&&(this._options.multipleSelectionSupport?this.view.domNode.setAttribute("aria-multiselectable","true"):this.view.domNode.removeAttribute("aria-multiselectable")),this.mouseController.updateOptions(V),(oe=this.keyboardController)===null||oe===void 0||oe.updateOptions(V),this.view.updateOptions(V)}get options(){return this._options}splice(V,$,oe=[]){if(V<0||V>this.view.length)throw new s.ListError(this.user,`Invalid start index: ${V}`);if($<0)throw new s.ListError(this.user,`Invalid delete count: ${$}`);$===0&&oe.length===0||this.eventBufferer.bufferEvents(()=>this.spliceable.splice(V,$,oe))}rerender(){this.view.rerender()}element(V){return this.view.element(V)}get length(){return this.view.length}get contentHeight(){return this.view.contentHeight}get scrollTop(){return this.view.getScrollTop()}set scrollTop(V){this.view.setScrollTop(V)}get scrollHeight(){return this.view.scrollHeight}get firstVisibleIndex(){return this.view.firstVisibleIndex}get ariaLabel(){return this._ariaLabel}set ariaLabel(V){this._ariaLabel=V,this.view.domNode.setAttribute("aria-label",V)}domFocus(){this.view.domNode.focus({preventScroll:!0})}layout(V,$){this.view.layout(V,$)}setSelection(V,$){for(const oe of V)if(oe<0||oe>=this.length)throw new s.ListError(this.user,`Invalid index ${oe}`);this.selection.set(V,$)}getSelection(){return this.selection.get()}getSelectedElements(){return this.getSelection().map(V=>this.view.element(V))}setAnchor(V){if(typeof V>"u"){this.anchor.set([]);return}if(V<0||V>=this.length)throw new s.ListError(this.user,`Invalid index ${V}`);this.anchor.set([V])}getAnchor(){return(0,C.firstOrDefault)(this.anchor.get(),void 0)}getAnchorElement(){const V=this.getAnchor();return typeof V>"u"?void 0:this.element(V)}setFocus(V,$){for(const oe of V)if(oe<0||oe>=this.length)throw new s.ListError(this.user,`Invalid index ${oe}`);this.focus.set(V,$)}focusNext(V=1,$=!1,oe,U){if(this.length===0)return;const ae=this.focus.get(),z=this.findNextIndex(ae.length>0?ae[0]+V:0,$,U);z>-1&&this.setFocus([z],oe)}focusPrevious(V=1,$=!1,oe,U){if(this.length===0)return;const ae=this.focus.get(),z=this.findPreviousIndex(ae.length>0?ae[0]-V:0,$,U);z>-1&&this.setFocus([z],oe)}focusNextPage(V,$){return Se(this,void 0,void 0,function*(){let oe=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);oe=oe===0?0:oe-1;const U=this.getFocus()[0];if(U!==oe&&(U===void 0||oe>U)){const ae=this.findPreviousIndex(oe,!1,$);ae>-1&&U!==ae?this.setFocus([ae],V):this.setFocus([oe],V)}else{const ae=this.view.getScrollTop();let z=ae+this.view.renderHeight;oe>U&&(z-=this.view.elementHeight(oe)),this.view.setScrollTop(z),this.view.getScrollTop()!==ae&&(this.setFocus([]),yield(0,h.timeout)(0),yield this.focusNextPage(V,$))}})}focusPreviousPage(V,$){return Se(this,void 0,void 0,function*(){let oe;const U=this.view.getScrollTop();U===0?oe=this.view.indexAt(U):oe=this.view.indexAfter(U-1);const ae=this.getFocus()[0];if(ae!==oe&&(ae===void 0||ae>=oe)){const z=this.findNextIndex(oe,!1,$);z>-1&&ae!==z?this.setFocus([z],V):this.setFocus([oe],V)}else{const z=U;this.view.setScrollTop(U-this.view.renderHeight),this.view.getScrollTop()!==z&&(this.setFocus([]),yield(0,h.timeout)(0),yield this.focusPreviousPage(V,$))}})}focusLast(V,$){if(this.length===0)return;const oe=this.findPreviousIndex(this.length-1,!1,$);oe>-1&&this.setFocus([oe],V)}focusFirst(V,$){this.focusNth(0,V,$)}focusNth(V,$,oe){if(this.length===0)return;const U=this.findNextIndex(V,!1,oe);U>-1&&this.setFocus([U],$)}findNextIndex(V,$=!1,oe){for(let U=0;U<this.length;U++){if(V>=this.length&&!$)return-1;if(V=V%this.length,!oe||oe(this.element(V)))return V;V++}return-1}findPreviousIndex(V,$=!1,oe){for(let U=0;U<this.length;U++){if(V<0&&!$)return-1;if(V=(this.length+V%this.length)%this.length,!oe||oe(this.element(V)))return V;V--}return-1}getFocus(){return this.focus.get()}getFocusedElements(){return this.getFocus().map(V=>this.view.element(V))}reveal(V,$){if(V<0||V>=this.length)throw new s.ListError(this.user,`Invalid index ${V}`);const oe=this.view.getScrollTop(),U=this.view.elementTop(V),ae=this.view.elementHeight(V);if((0,r.isNumber)($)){const z=ae-this.view.renderHeight;this.view.setScrollTop(z*(0,l.clamp)($,0,1)+U)}else{const z=U+ae,J=oe+this.view.renderHeight;U<oe&&z>=J||(U<oe||z>=J&&ae>=this.view.renderHeight?this.view.setScrollTop(U):z>=J&&this.view.setScrollTop(z-this.view.renderHeight))}}getHTMLElement(){return this.view.domNode}getElementID(V){return this.view.getElementDomId(V)}style(V){this.styleController.style(V)}toListEvent({indexes:V,browserEvent:$}){return{indexes:V,elements:V.map(oe=>this.view.element(oe)),browserEvent:$}}_onFocusChange(){const V=this.focus.get();this.view.domNode.classList.toggle("element-focused",V.length>0),this.onDidChangeActiveDescendant()}onDidChangeActiveDescendant(){var V;const $=this.focus.get();if($.length>0){let oe;!((V=this.accessibilityProvider)===null||V===void 0)&&V.getActiveDescendantId&&(oe=this.accessibilityProvider.getActiveDescendantId(this.view.element($[0]))),this.view.domNode.setAttribute("aria-activedescendant",oe||this.view.getElementDomId($[0]))}else this.view.domNode.removeAttribute("aria-activedescendant")}_onSelectionChange(){const V=this.selection.get();this.view.domNode.classList.toggle("selection-none",V.length===0),this.view.domNode.classList.toggle("selection-single",V.length===1),this.view.domNode.classList.toggle("selection-multiple",V.length>1)}dispose(){this._onDidDispose.fire(),this.disposables.dispose(),this._onDidDispose.dispose()}}De([t.memoize],ee.prototype,"onDidChangeFocus",null),De([t.memoize],ee.prototype,"onDidChangeSelection",null),De([t.memoize],ee.prototype,"onContextMenu",null),De([t.memoize],ee.prototype,"onKeyDown",null),De([t.memoize],ee.prototype,"onDidFocus",null),e.List=ee}),define(se[505],re([1,0,18,21,6,2,102,233]),function(q,e,w,m,k,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PagedList=void 0;class b{get templateId(){return this.renderer.templateId}constructor(i,n){this.renderer=i,this.modelProvider=n}renderTemplate(i){return{data:this.renderer.renderTemplate(i),disposable:D.Disposable.None}}renderElement(i,n,o,l){var c;if((c=o.disposable)===null||c===void 0||c.dispose(),!o.data)return;const d=this.modelProvider();if(d.isResolved(i))return this.renderer.renderElement(d.get(i),i,o.data,l);const r=new m.CancellationTokenSource,s=d.resolve(i,r.token);o.disposable={dispose:()=>r.cancel()},this.renderer.renderPlaceholder(i,o.data),s.then(a=>this.renderer.renderElement(a,i,o.data,l))}disposeTemplate(i){i.disposable&&(i.disposable.dispose(),i.disposable=void 0),i.data&&(this.renderer.disposeTemplate(i.data),i.data=void 0)}}class C{constructor(i,n){this.modelProvider=i,this.accessibilityProvider=n}getWidgetAriaLabel(){return this.accessibilityProvider.getWidgetAriaLabel()}getAriaLabel(i){const n=this.modelProvider();return n.isResolved(i)?this.accessibilityProvider.getAriaLabel(n.get(i)):null}}function h(t,i){return Object.assign(Object.assign({},i),{accessibilityProvider:i.accessibilityProvider&&new C(t,i.accessibilityProvider)})}class g{constructor(i,n,o,l,c={}){const d=()=>this.model,r=l.map(s=>new b(s,d));this.list=new L.List(i,n,o,r,h(d,c))}updateOptions(i){this.list.updateOptions(i)}getHTMLElement(){return this.list.getHTMLElement()}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}get onMouseDblClick(){return k.Event.map(this.list.onMouseDblClick,({element:i,index:n,browserEvent:o})=>({element:i===void 0?void 0:this._model.get(i),index:n,browserEvent:o}))}get onPointer(){return k.Event.map(this.list.onPointer,({element:i,index:n,browserEvent:o})=>({element:i===void 0?void 0:this._model.get(i),index:n,browserEvent:o}))}get onDidChangeSelection(){return k.Event.map(this.list.onDidChangeSelection,({elements:i,indexes:n,browserEvent:o})=>({elements:i.map(l=>this._model.get(l)),indexes:n,browserEvent:o}))}get model(){return this._model}set model(i){this._model=i,this.list.splice(0,this.list.length,(0,w.range)(i.length))}getFocus(){return this.list.getFocus()}getSelection(){return this.list.getSelection()}getSelectedElements(){return this.getSelection().map(i=>this.model.get(i))}style(i){this.list.style(i)}dispose(){this.list.dispose()}}e.PagedList=g}),define(se[267],re([1,0,7,137,76,18,31,6,2,127,162,19,357]),function(q,e,w,m,k,D,L,b,C,h,g,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SplitView=e.Sizing=void 0;const i={separatorBorder:L.Color.transparent};class n{set size(a){this._size=a}get size(){return this._size}get visible(){return typeof this._cachedVisibleSize>"u"}setVisible(a,u){var p,S;a!==this.visible&&(a?(this.size=(0,h.clamp)(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize=typeof u=="number"?u:this.size,this.size=0),this.container.classList.toggle("visible",a),(S=(p=this.view).setVisible)===null||S===void 0||S.call(p,a))}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}get priority(){return this.view.priority}get snap(){return!!this.view.snap}set enabled(a){this.container.style.pointerEvents=a?"":"none"}constructor(a,u,p,S){this.container=a,this.view=u,this.disposable=S,this._cachedVisibleSize=void 0,typeof p=="number"?(this._size=p,this._cachedVisibleSize=void 0,a.classList.add("visible")):(this._size=0,this._cachedVisibleSize=p.cachedVisibleSize)}layout(a,u){this.layoutContainer(a),this.view.layout(this.size,a,u)}dispose(){return this.disposable.dispose(),this.view}}class o extends n{layoutContainer(a){this.container.style.top=`${a}px`,this.container.style.height=`${this.size}px`}}class l extends n{layoutContainer(a){this.container.style.left=`${a}px`,this.container.style.width=`${this.size}px`}}var c;(function(s){s[s.Idle=0]="Idle",s[s.Busy=1]="Busy"})(c||(c={}));var d;(function(s){s.Distribute={type:"distribute"};function a(p){return{type:"split",index:p}}s.Split=a;function u(p){return{type:"invisible",cachedVisibleSize:p}}s.Invisible=u})(d=e.Sizing||(e.Sizing={}));class r extends C.Disposable{get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}get startSnappingEnabled(){return this._startSnappingEnabled}get endSnappingEnabled(){return this._endSnappingEnabled}set orthogonalStartSash(a){for(const u of this.sashItems)u.sash.orthogonalStartSash=a;this._orthogonalStartSash=a}set orthogonalEndSash(a){for(const u of this.sashItems)u.sash.orthogonalEndSash=a;this._orthogonalEndSash=a}set startSnappingEnabled(a){this._startSnappingEnabled!==a&&(this._startSnappingEnabled=a,this.updateSashEnablement())}set endSnappingEnabled(a){this._endSnappingEnabled!==a&&(this._endSnappingEnabled=a,this.updateSashEnablement())}constructor(a,u={}){var p,S,f,v,_;super(),this.size=0,this.contentSize=0,this.proportions=void 0,this.viewItems=[],this.sashItems=[],this.state=c.Idle,this._onDidSashChange=this._register(new b.Emitter),this._onDidSashReset=this._register(new b.Emitter),this._startSnappingEnabled=!0,this._endSnappingEnabled=!0,this.onDidSashChange=this._onDidSashChange.event,this.onDidSashReset=this._onDidSashReset.event,this.orientation=(p=u.orientation)!==null&&p!==void 0?p:0,this.inverseAltBehavior=(S=u.inverseAltBehavior)!==null&&S!==void 0?S:!1,this.proportionalLayout=(f=u.proportionalLayout)!==null&&f!==void 0?f:!0,this.getSashOrthogonalSize=u.getSashOrthogonalSize,this.el=document.createElement("div"),this.el.classList.add("monaco-split-view2"),this.el.classList.add(this.orientation===0?"vertical":"horizontal"),a.appendChild(this.el),this.sashContainer=(0,w.append)(this.el,(0,w.$)(".sash-container")),this.viewContainer=(0,w.$)(".split-view-container"),this.scrollable=new g.Scrollable({forceIntegerValues:!0,smoothScrollDuration:125,scheduleAtNextAnimationFrame:w.scheduleAtNextAnimationFrame}),this.scrollableElement=this._register(new k.SmoothScrollableElement(this.viewContainer,{vertical:this.orientation===0?(v=u.scrollbarVisibility)!==null&&v!==void 0?v:1:2,horizontal:this.orientation===1?(_=u.scrollbarVisibility)!==null&&_!==void 0?_:1:2},this.scrollable)),this.onDidScroll=this.scrollableElement.onScroll,this._register(this.onDidScroll(y=>{y.scrollTopChanged&&(this.viewContainer.scrollTop=y.scrollTop),y.scrollLeftChanged&&(this.viewContainer.scrollLeft=y.scrollLeft)})),(0,w.append)(this.el,this.scrollableElement.getDomNode()),this.style(u.styles||i),u.descriptor&&(this.size=u.descriptor.size,u.descriptor.views.forEach((y,E)=>{const T=t.isUndefined(y.visible)||y.visible?y.size:{type:"invisible",cachedVisibleSize:y.size},I=y.view;this.doAddView(I,T,E,!0)}),this.contentSize=this.viewItems.reduce((y,E)=>y+E.size,0),this.saveProportions())}style(a){a.separatorBorder.isTransparent()?(this.el.classList.remove("separator-border"),this.el.style.removeProperty("--separator-border")):(this.el.classList.add("separator-border"),this.el.style.setProperty("--separator-border",a.separatorBorder.toString()))}addView(a,u,p=this.viewItems.length,S){this.doAddView(a,u,p,S)}layout(a,u){const p=Math.max(this.size,this.contentSize);if(this.size=a,this.layoutContext=u,this.proportions)for(let S=0;S<this.viewItems.length;S++){const f=this.viewItems[S];f.size=(0,h.clamp)(Math.round(this.proportions[S]*a),f.minimumSize,f.maximumSize)}else{const S=(0,D.range)(this.viewItems.length),f=S.filter(_=>this.viewItems[_].priority===1),v=S.filter(_=>this.viewItems[_].priority===2);this.resize(this.viewItems.length-1,a-p,void 0,f,v)}this.distributeEmptySpace(),this.layoutViews()}saveProportions(){this.proportionalLayout&&this.contentSize>0&&(this.proportions=this.viewItems.map(a=>a.size/this.contentSize))}onSashStart({sash:a,start:u,alt:p}){for(const _ of this.viewItems)_.enabled=!1;const S=this.sashItems.findIndex(_=>_.sash===a),f=(0,C.combinedDisposable)((0,w.addDisposableListener)(document.body,"keydown",_=>v(this.sashDragState.current,_.altKey)),(0,w.addDisposableListener)(document.body,"keyup",()=>v(this.sashDragState.current,!1))),v=(_,y)=>{const E=this.viewItems.map(O=>O.size);let T=Number.NEGATIVE_INFINITY,I=Number.POSITIVE_INFINITY;if(this.inverseAltBehavior&&(y=!y),y)if(S===this.sashItems.length-1){const M=this.viewItems[S];T=(M.minimumSize-M.size)/2,I=(M.maximumSize-M.size)/2}else{const M=this.viewItems[S+1];T=(M.size-M.maximumSize)/2,I=(M.size-M.minimumSize)/2}let R,F;if(!y){const O=(0,D.range)(S,-1),M=(0,D.range)(S+1,this.viewItems.length),N=O.reduce((K,G)=>K+(this.viewItems[G].minimumSize-E[G]),0),A=O.reduce((K,G)=>K+(this.viewItems[G].viewMaximumSize-E[G]),0),B=M.length===0?Number.POSITIVE_INFINITY:M.reduce((K,G)=>K+(E[G]-this.viewItems[G].minimumSize),0),W=M.length===0?Number.NEGATIVE_INFINITY:M.reduce((K,G)=>K+(E[G]-this.viewItems[G].viewMaximumSize),0),x=Math.max(N,W),P=Math.min(B,A),X=this.findFirstSnapIndex(O),ie=this.findFirstSnapIndex(M);if(typeof X=="number"){const K=this.viewItems[X],G=Math.floor(K.viewMinimumSize/2);R={index:X,limitDelta:K.visible?x-G:x+G,size:K.size}}if(typeof ie=="number"){const K=this.viewItems[ie],G=Math.floor(K.viewMinimumSize/2);F={index:ie,limitDelta:K.visible?P+G:P-G,size:K.size}}}this.sashDragState={start:_,current:_,index:S,sizes:E,minDelta:T,maxDelta:I,alt:y,snapBefore:R,snapAfter:F,disposable:f}};v(u,p)}onSashChange({current:a}){const{index:u,start:p,sizes:S,alt:f,minDelta:v,maxDelta:_,snapBefore:y,snapAfter:E}=this.sashDragState;this.sashDragState.current=a;const T=a-p,I=this.resize(u,T,S,void 0,void 0,v,_,y,E);if(f){const R=u===this.sashItems.length-1,F=this.viewItems.map(W=>W.size),O=R?u:u+1,M=this.viewItems[O],N=M.size-M.maximumSize,A=M.size-M.minimumSize,B=R?u-1:u+1;this.resize(B,-I,F,void 0,void 0,N,A)}this.distributeEmptySpace(),this.layoutViews()}onSashEnd(a){this._onDidSashChange.fire(a),this.sashDragState.disposable.dispose(),this.saveProportions();for(const u of this.viewItems)u.enabled=!0}onViewChange(a,u){const p=this.viewItems.indexOf(a);p<0||p>=this.viewItems.length||(u=typeof u=="number"?u:a.size,u=(0,h.clamp)(u,a.minimumSize,a.maximumSize),this.inverseAltBehavior&&p>0?(this.resize(p-1,Math.floor((a.size-u)/2)),this.distributeEmptySpace(),this.layoutViews()):(a.size=u,this.relayout([p],void 0)))}resizeView(a,u){if(this.state!==c.Idle)throw new Error("Cant modify splitview");if(this.state=c.Busy,a<0||a>=this.viewItems.length)return;const p=(0,D.range)(this.viewItems.length).filter(_=>_!==a),S=[...p.filter(_=>this.viewItems[_].priority===1),a],f=p.filter(_=>this.viewItems[_].priority===2),v=this.viewItems[a];u=Math.round(u),u=(0,h.clamp)(u,v.minimumSize,Math.min(v.maximumSize,this.size)),v.size=u,this.relayout(S,f),this.state=c.Idle}distributeViewSizes(){const a=[];let u=0;for(const _ of this.viewItems)_.maximumSize-_.minimumSize>0&&(a.push(_),u+=_.size);const p=Math.floor(u/a.length);for(const _ of a)_.size=(0,h.clamp)(p,_.minimumSize,_.maximumSize);const S=(0,D.range)(this.viewItems.length),f=S.filter(_=>this.viewItems[_].priority===1),v=S.filter(_=>this.viewItems[_].priority===2);this.relayout(f,v)}getViewSize(a){return a<0||a>=this.viewItems.length?-1:this.viewItems[a].size}doAddView(a,u,p=this.viewItems.length,S){if(this.state!==c.Idle)throw new Error("Cant modify splitview");this.state=c.Busy;const f=(0,w.$)(".split-view-view");p===this.viewItems.length?this.viewContainer.appendChild(f):this.viewContainer.insertBefore(f,this.viewContainer.children.item(p));const v=a.onDidChange(R=>this.onViewChange(T,R)),_=(0,C.toDisposable)(()=>this.viewContainer.removeChild(f)),y=(0,C.combinedDisposable)(v,_);let E;typeof u=="number"?E=u:u.type==="split"?E=this.getViewSize(u.index)/2:u.type==="invisible"?E={cachedVisibleSize:u.cachedVisibleSize}:E=a.minimumSize;const T=this.orientation===0?new o(f,a,E,y):new l(f,a,E,y);if(this.viewItems.splice(p,0,T),this.viewItems.length>1){const R={orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash},F=this.orientation===0?new m.Sash(this.sashContainer,{getHorizontalSashTop:K=>this.getSashPosition(K),getHorizontalSashWidth:this.getSashOrthogonalSize},Object.assign(Object.assign({},R),{orientation:1})):new m.Sash(this.sashContainer,{getVerticalSashLeft:K=>this.getSashPosition(K),getVerticalSashHeight:this.getSashOrthogonalSize},Object.assign(Object.assign({},R),{orientation:0})),O=this.orientation===0?K=>({sash:F,start:K.startY,current:K.currentY,alt:K.altKey}):K=>({sash:F,start:K.startX,current:K.currentX,alt:K.altKey}),N=b.Event.map(F.onDidStart,O)(this.onSashStart,this),B=b.Event.map(F.onDidChange,O)(this.onSashChange,this),x=b.Event.map(F.onDidEnd,()=>this.sashItems.findIndex(K=>K.sash===F))(this.onSashEnd,this),P=F.onDidReset(()=>{const K=this.sashItems.findIndex(ee=>ee.sash===F),G=(0,D.range)(K,-1),Q=(0,D.range)(K+1,this.viewItems.length),ne=this.findFirstSnapIndex(G),Z=this.findFirstSnapIndex(Q);typeof ne=="number"&&!this.viewItems[ne].visible||typeof Z=="number"&&!this.viewItems[Z].visible||this._onDidSashReset.fire(K)}),X=(0,C.combinedDisposable)(N,B,x,P,F),ie={sash:F,disposable:X};this.sashItems.splice(p-1,0,ie)}f.appendChild(a.element);let I;typeof u!="number"&&u.type==="split"&&(I=[u.index]),S||this.relayout([p],I),this.state=c.Idle,!S&&typeof u!="number"&&u.type==="distribute"&&this.distributeViewSizes()}relayout(a,u){const p=this.viewItems.reduce((S,f)=>S+f.size,0);this.resize(this.viewItems.length-1,this.size-p,void 0,a,u),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}resize(a,u,p=this.viewItems.map(T=>T.size),S,f,v=Number.NEGATIVE_INFINITY,_=Number.POSITIVE_INFINITY,y,E){if(a<0||a>=this.viewItems.length)return 0;const T=(0,D.range)(a,-1),I=(0,D.range)(a+1,this.viewItems.length);if(f)for(const ie of f)(0,D.pushToStart)(T,ie),(0,D.pushToStart)(I,ie);if(S)for(const ie of S)(0,D.pushToEnd)(T,ie),(0,D.pushToEnd)(I,ie);const R=T.map(ie=>this.viewItems[ie]),F=T.map(ie=>p[ie]),O=I.map(ie=>this.viewItems[ie]),M=I.map(ie=>p[ie]),N=T.reduce((ie,K)=>ie+(this.viewItems[K].minimumSize-p[K]),0),A=T.reduce((ie,K)=>ie+(this.viewItems[K].maximumSize-p[K]),0),B=I.length===0?Number.POSITIVE_INFINITY:I.reduce((ie,K)=>ie+(p[K]-this.viewItems[K].minimumSize),0),W=I.length===0?Number.NEGATIVE_INFINITY:I.reduce((ie,K)=>ie+(p[K]-this.viewItems[K].maximumSize),0),x=Math.max(N,W,v),P=Math.min(B,A,_);let X=!1;if(y){const ie=this.viewItems[y.index],K=u>=y.limitDelta;X=K!==ie.visible,ie.setVisible(K,y.size)}if(!X&&E){const ie=this.viewItems[E.index],K=u<E.limitDelta;X=K!==ie.visible,ie.setVisible(K,E.size)}if(X)return this.resize(a,u,p,S,f,v,_);u=(0,h.clamp)(u,x,P);for(let ie=0,K=u;ie<R.length;ie++){const G=R[ie],Q=(0,h.clamp)(F[ie]+K,G.minimumSize,G.maximumSize);K-=Q-F[ie],G.size=Q}for(let ie=0,K=u;ie<O.length;ie++){const G=O[ie],Q=(0,h.clamp)(M[ie]-K,G.minimumSize,G.maximumSize);K+=Q-M[ie],G.size=Q}return u}distributeEmptySpace(a){const u=this.viewItems.reduce((_,y)=>_+y.size,0);let p=this.size-u;const S=(0,D.range)(this.viewItems.length-1,-1),f=S.filter(_=>this.viewItems[_].priority===1),v=S.filter(_=>this.viewItems[_].priority===2);for(const _ of v)(0,D.pushToStart)(S,_);for(const _ of f)(0,D.pushToEnd)(S,_);typeof a=="number"&&(0,D.pushToEnd)(S,a);for(let _=0;p!==0&&_<S.length;_++){const y=this.viewItems[S[_]],E=(0,h.clamp)(y.size+p,y.minimumSize,y.maximumSize);p-=E-y.size,y.size=E}}layoutViews(){this.contentSize=this.viewItems.reduce((u,p)=>u+p.size,0);let a=0;for(const u of this.viewItems)u.layout(a,this.layoutContext),a+=u.size;this.sashItems.forEach(u=>u.sash.layout()),this.updateSashEnablement(),this.updateScrollableElement()}updateScrollableElement(){this.orientation===0?this.scrollableElement.setScrollDimensions({height:this.size,scrollHeight:this.contentSize}):this.scrollableElement.setScrollDimensions({width:this.size,scrollWidth:this.contentSize})}updateSashEnablement(){let a=!1;const u=this.viewItems.map(y=>a=y.size-y.minimumSize>0||a);a=!1;const p=this.viewItems.map(y=>a=y.maximumSize-y.size>0||a),S=[...this.viewItems].reverse();a=!1;const f=S.map(y=>a=y.size-y.minimumSize>0||a).reverse();a=!1;const v=S.map(y=>a=y.maximumSize-y.size>0||a).reverse();let _=0;for(let y=0;y<this.sashItems.length;y++){const{sash:E}=this.sashItems[y];_+=this.viewItems[y].size;const I=!(u[y]&&v[y+1]),R=!(p[y]&&f[y+1]);if(I&&R){const F=(0,D.range)(y,-1),O=(0,D.range)(y+1,this.viewItems.length),M=this.findFirstSnapIndex(F),N=this.findFirstSnapIndex(O),A=typeof M=="number"&&!this.viewItems[M].visible,B=typeof N=="number"&&!this.viewItems[N].visible;A&&f[y]&&(_>0||this.startSnappingEnabled)?E.state=1:B&&u[y]&&(_<this.contentSize||this.endSnappingEnabled)?E.state=2:E.state=0}else I&&!R?E.state=1:!I&&R?E.state=2:E.state=3}}getSashPosition(a){let u=0;for(let p=0;p<this.sashItems.length;p++)if(u+=this.viewItems[p].size,this.sashItems[p].sash===a)return u;return 0}findFirstSnapIndex(a){for(const u of a){const p=this.viewItems[u];if(!!p.visible&&p.snap)return u}for(const u of a){const p=this.viewItems[u];if(p.visible&&p.maximumSize-p.minimumSize>0)return;if(!p.visible&&p.snap)return u}}dispose(){super.dispose(),(0,C.dispose)(this.viewItems),this.viewItems=[],this.sashItems.forEach(a=>a.disposable.dispose()),this.sashItems=[]}}e.SplitView=r}),define(se[506],re([1,0,7,102,267,6,2,358]),function(q,e,w,m,k,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Table=void 0;class b{constructor(i,n,o){this.columns=i,this.getColumnSize=o,this.templateId=b.TemplateId,this.renderedTemplates=new Set;const l=new Map(n.map(c=>[c.templateId,c]));this.renderers=[];for(const c of i){const d=l.get(c.templateId);if(!d)throw new Error(`Table cell renderer for template id ${c.templateId} not found.`);this.renderers.push(d)}}renderTemplate(i){const n=(0,w.append)(i,(0,w.$)(".monaco-table-tr")),o=[],l=[];for(let d=0;d<this.columns.length;d++){const r=this.renderers[d],s=(0,w.append)(n,(0,w.$)(".monaco-table-td",{"data-col-index":d}));s.style.width=`${this.getColumnSize(d)}px`,o.push(s),l.push(r.renderTemplate(s))}const c={container:i,cellContainers:o,cellTemplateData:l};return this.renderedTemplates.add(c),c}renderElement(i,n,o,l){for(let c=0;c<this.columns.length;c++){const r=this.columns[c].project(i);this.renderers[c].renderElement(r,n,o.cellTemplateData[c],l)}}disposeElement(i,n,o,l){for(let c=0;c<this.columns.length;c++){const d=this.renderers[c];if(d.disposeElement){const s=this.columns[c].project(i);d.disposeElement(s,n,o.cellTemplateData[c],l)}}}disposeTemplate(i){for(let n=0;n<this.columns.length;n++)this.renderers[n].disposeTemplate(i.cellTemplateData[n]);(0,w.clearNode)(i.container),this.renderedTemplates.delete(i)}layoutColumn(i,n){for(const{cellContainers:o}of this.renderedTemplates)o[i].style.width=`${n}px`}}b.TemplateId="row";function C(t){return{getHeight(i){return t.getHeight(i)},getTemplateId(){return b.TemplateId}}}class h{get minimumSize(){var i;return(i=this.column.minimumWidth)!==null&&i!==void 0?i:120}get maximumSize(){var i;return(i=this.column.maximumWidth)!==null&&i!==void 0?i:Number.POSITIVE_INFINITY}get onDidChange(){var i;return(i=this.column.onDidChangeWidthConstraints)!==null&&i!==void 0?i:D.Event.None}constructor(i,n){this.column=i,this.index=n,this._onDidLayout=new D.Emitter,this.onDidLayout=this._onDidLayout.event,this.element=(0,w.$)(".monaco-table-th",{"data-col-index":n,title:i.tooltip},i.label)}layout(i){this._onDidLayout.fire([this.index,i])}}class g{get onDidChangeFocus(){return this.list.onDidChangeFocus}get onDidChangeSelection(){return this.list.onDidChangeSelection}get onMouseDblClick(){return this.list.onMouseDblClick}get onPointer(){return this.list.onPointer}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}constructor(i,n,o,l,c,d){this.virtualDelegate=o,this.domId=`table_id_${++g.InstanceCount}`,this.disposables=new L.DisposableStore,this.cachedWidth=0,this.cachedHeight=0,this.domNode=(0,w.append)(n,(0,w.$)(`.monaco-table.${this.domId}`));const r=l.map((u,p)=>new h(u,p)),s={size:r.reduce((u,p)=>u+p.column.weight,0),views:r.map(u=>({size:u.column.weight,view:u}))};this.splitview=this.disposables.add(new k.SplitView(this.domNode,{orientation:1,scrollbarVisibility:2,getSashOrthogonalSize:()=>this.cachedHeight,descriptor:s})),this.splitview.el.style.height=`${o.headerRowHeight}px`,this.splitview.el.style.lineHeight=`${o.headerRowHeight}px`;const a=new b(l,c,u=>this.splitview.getViewSize(u));this.list=this.disposables.add(new m.List(i,this.domNode,C(o),[a],d)),D.Event.any(...r.map(u=>u.onDidLayout))(([u,p])=>a.layoutColumn(u,p),null,this.disposables),this.splitview.onDidSashReset(u=>{const p=l.reduce((f,v)=>f+v.weight,0),S=l[u].weight/p*this.cachedWidth;this.splitview.resizeView(u,S)},null,this.disposables),this.styleElement=(0,w.createStyleSheet)(this.domNode),this.style({})}updateOptions(i){this.list.updateOptions(i)}splice(i,n,o=[]){this.list.splice(i,n,o)}getHTMLElement(){return this.domNode}style(i){const n=[];n.push(`.monaco-table.${this.domId} > .monaco-split-view2 .monaco-sash.vertical::before {
			top: ${this.virtualDelegate.headerRowHeight+1}px;
			height: calc(100% - ${this.virtualDelegate.headerRowHeight}px);
		}`),this.styleElement.textContent=n.join(`
`),this.list.style(i)}getSelectedElements(){return this.list.getSelectedElements()}getSelection(){return this.list.getSelection()}getFocus(){return this.list.getFocus()}dispose(){this.disposables.dispose()}}e.Table=g,g.InstanceCount=0}),define(se[163],re([1,0,66,27,31,6,359]),function(q,e,w,m,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Toggle=void 0;const L={inputActiveOptionBorder:k.Color.fromHex("#007ACC00"),inputActiveOptionForeground:k.Color.fromHex("#FFFFFF"),inputActiveOptionBackground:k.Color.fromHex("#0E639C50")};class b extends w.Widget{constructor(h){super(),this._onChange=this._register(new D.Emitter),this.onChange=this._onChange.event,this._onKeyDown=this._register(new D.Emitter),this.onKeyDown=this._onKeyDown.event,this._opts=Object.assign(Object.assign({},L),h),this._checked=this._opts.isChecked;const g=["monaco-custom-toggle"];this._opts.icon&&(this._icon=this._opts.icon,g.push(...m.CSSIcon.asClassNameArray(this._icon))),this._opts.actionClassName&&g.push(...this._opts.actionClassName.split(" ")),this._checked&&g.push("checked"),this.domNode=document.createElement("div"),this.domNode.title=this._opts.title,this.domNode.classList.add(...g),this._opts.notFocusable||(this.domNode.tabIndex=0),this.domNode.setAttribute("role","checkbox"),this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.setAttribute("aria-label",this._opts.title),this.applyStyles(),this.onclick(this.domNode,t=>{this.enabled&&(this.checked=!this._checked,this._onChange.fire(!1),t.preventDefault())}),this._register(this.ignoreGesture(this.domNode)),this.onkeydown(this.domNode,t=>{if(t.keyCode===10||t.keyCode===3){this.checked=!this._checked,this._onChange.fire(!0),t.preventDefault(),t.stopPropagation();return}this._onKeyDown.fire(t)})}get enabled(){return this.domNode.getAttribute("aria-disabled")!=="true"}focus(){this.domNode.focus()}get checked(){return this._checked}set checked(h){this._checked=h,this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.classList.toggle("checked",this._checked),this.applyStyles()}width(){return 2+2+2+16}style(h){h.inputActiveOptionBorder&&(this._opts.inputActiveOptionBorder=h.inputActiveOptionBorder),h.inputActiveOptionForeground&&(this._opts.inputActiveOptionForeground=h.inputActiveOptionForeground),h.inputActiveOptionBackground&&(this._opts.inputActiveOptionBackground=h.inputActiveOptionBackground),this.applyStyles()}applyStyles(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder?this._opts.inputActiveOptionBorder.toString():"",this.domNode.style.color=this._checked&&this._opts.inputActiveOptionForeground?this._opts.inputActiveOptionForeground.toString():"inherit",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground?this._opts.inputActiveOptionBackground.toString():"")}enable(){this.domNode.setAttribute("aria-disabled",String(!1))}disable(){this.domNode.setAttribute("aria-disabled",String(!0))}}e.Toggle=b}),define(se[268],re([1,0,163,27,479]),function(q,e,w,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RegexToggle=e.WholeWordsToggle=e.CaseSensitiveToggle=void 0;const D=k.localize(0,null),L=k.localize(1,null),b=k.localize(2,null);class C extends w.Toggle{constructor(i){super({icon:m.Codicon.caseSensitive,title:D+i.appendTitle,isChecked:i.isChecked,inputActiveOptionBorder:i.inputActiveOptionBorder,inputActiveOptionForeground:i.inputActiveOptionForeground,inputActiveOptionBackground:i.inputActiveOptionBackground})}}e.CaseSensitiveToggle=C;class h extends w.Toggle{constructor(i){super({icon:m.Codicon.wholeWord,title:L+i.appendTitle,isChecked:i.isChecked,inputActiveOptionBorder:i.inputActiveOptionBorder,inputActiveOptionForeground:i.inputActiveOptionForeground,inputActiveOptionBackground:i.inputActiveOptionBackground})}}e.WholeWordsToggle=h;class g extends w.Toggle{constructor(i){super({icon:m.Codicon.regex,title:b+i.appendTitle,isChecked:i.isChecked,inputActiveOptionBorder:i.inputActiveOptionBorder,inputActiveOptionForeground:i.inputActiveOptionForeground,inputActiveOptionBackground:i.inputActiveOptionBackground})}}e.RegexToggle=g}),define(se[44],re([1,0,197,49,85,17,8,22]),function(q,e,w,m,k,D,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DataUri=e.addTrailingPathSeparator=e.removeTrailingPathSeparator=e.hasTrailingPathSeparator=e.isEqualAuthority=e.isAbsolutePath=e.resolvePath=e.relativePath=e.normalizePath=e.joinPath=e.dirname=e.extname=e.basename=e.basenameOrAuthority=e.getComparisonKey=e.isEqualOrParent=e.isEqual=e.extUriIgnorePathCase=e.extUriBiasedIgnorePathCase=e.extUri=e.ExtUri=e.originalFSPath=void 0;function C(t){return(0,b.uriToFsPath)(t,!0)}e.originalFSPath=C;class h{constructor(i){this._ignorePathCasing=i}compare(i,n,o=!1){return i===n?0:(0,L.compare)(this.getComparisonKey(i,o),this.getComparisonKey(n,o))}isEqual(i,n,o=!1){return i===n?!0:!i||!n?!1:this.getComparisonKey(i,o)===this.getComparisonKey(n,o)}getComparisonKey(i,n=!1){return i.with({path:this._ignorePathCasing(i)?i.path.toLowerCase():void 0,fragment:n?null:void 0}).toString()}isEqualOrParent(i,n,o=!1){if(i.scheme===n.scheme){if(i.scheme===m.Schemas.file)return w.isEqualOrParent(C(i),C(n),this._ignorePathCasing(i))&&i.query===n.query&&(o||i.fragment===n.fragment);if((0,e.isEqualAuthority)(i.authority,n.authority))return w.isEqualOrParent(i.path,n.path,this._ignorePathCasing(i),"/")&&i.query===n.query&&(o||i.fragment===n.fragment)}return!1}joinPath(i,...n){return b.URI.joinPath(i,...n)}basenameOrAuthority(i){return(0,e.basename)(i)||i.authority}basename(i){return k.posix.basename(i.path)}extname(i){return k.posix.extname(i.path)}dirname(i){if(i.path.length===0)return i;let n;return i.scheme===m.Schemas.file?n=b.URI.file(k.dirname(C(i))).path:(n=k.posix.dirname(i.path),i.authority&&n.length&&n.charCodeAt(0)!==47&&(console.error(`dirname("${i.toString})) resulted in a relative path`),n="/")),i.with({path:n})}normalizePath(i){if(!i.path.length)return i;let n;return i.scheme===m.Schemas.file?n=b.URI.file(k.normalize(C(i))).path:n=k.posix.normalize(i.path),i.with({path:n})}relativePath(i,n){if(i.scheme!==n.scheme||!(0,e.isEqualAuthority)(i.authority,n.authority))return;if(i.scheme===m.Schemas.file){const c=k.relative(C(i),C(n));return D.isWindows?w.toSlashes(c):c}let o=i.path||"/";const l=n.path||"/";if(this._ignorePathCasing(i)){let c=0;for(const d=Math.min(o.length,l.length);c<d&&!(o.charCodeAt(c)!==l.charCodeAt(c)&&o.charAt(c).toLowerCase()!==l.charAt(c).toLowerCase());c++);o=l.substr(0,c)+o.substr(c)}return k.posix.relative(o,l)}resolvePath(i,n){if(i.scheme===m.Schemas.file){const o=b.URI.file(k.resolve(C(i),n));return i.with({authority:o.authority,path:o.path})}return n=w.toPosixPath(n),i.with({path:k.posix.resolve(i.path,n)})}isAbsolutePath(i){return!!i.path&&i.path[0]==="/"}isEqualAuthority(i,n){return i===n||i!==void 0&&n!==void 0&&(0,L.equalsIgnoreCase)(i,n)}hasTrailingPathSeparator(i,n=k.sep){if(i.scheme===m.Schemas.file){const o=C(i);return o.length>w.getRoot(o).length&&o[o.length-1]===n}else{const o=i.path;return o.length>1&&o.charCodeAt(o.length-1)===47&&!/^[a-zA-Z]:(\/$|\\$)/.test(i.fsPath)}}removeTrailingPathSeparator(i,n=k.sep){return(0,e.hasTrailingPathSeparator)(i,n)?i.with({path:i.path.substr(0,i.path.length-1)}):i}addTrailingPathSeparator(i,n=k.sep){let o=!1;if(i.scheme===m.Schemas.file){const l=C(i);o=l!==void 0&&l.length===w.getRoot(l).length&&l[l.length-1]===n}else{n="/";const l=i.path;o=l.length===1&&l.charCodeAt(l.length-1)===47}return!o&&!(0,e.hasTrailingPathSeparator)(i,n)?i.with({path:i.path+"/"}):i}}e.ExtUri=h,e.extUri=new h(()=>!1),e.extUriBiasedIgnorePathCase=new h(t=>t.scheme===m.Schemas.file?!D.isLinux:!0),e.extUriIgnorePathCase=new h(t=>!0),e.isEqual=e.extUri.isEqual.bind(e.extUri),e.isEqualOrParent=e.extUri.isEqualOrParent.bind(e.extUri),e.getComparisonKey=e.extUri.getComparisonKey.bind(e.extUri),e.basenameOrAuthority=e.extUri.basenameOrAuthority.bind(e.extUri),e.basename=e.extUri.basename.bind(e.extUri),e.extname=e.extUri.extname.bind(e.extUri),e.dirname=e.extUri.dirname.bind(e.extUri),e.joinPath=e.extUri.joinPath.bind(e.extUri),e.normalizePath=e.extUri.normalizePath.bind(e.extUri),e.relativePath=e.extUri.relativePath.bind(e.extUri),e.resolvePath=e.extUri.resolvePath.bind(e.extUri),e.isAbsolutePath=e.extUri.isAbsolutePath.bind(e.extUri),e.isEqualAuthority=e.extUri.isEqualAuthority.bind(e.extUri),e.hasTrailingPathSeparator=e.extUri.hasTrailingPathSeparator.bind(e.extUri),e.removeTrailingPathSeparator=e.extUri.removeTrailingPathSeparator.bind(e.extUri),e.addTrailingPathSeparator=e.extUri.addTrailingPathSeparator.bind(e.extUri);var g;(function(t){t.META_DATA_LABEL="label",t.META_DATA_DESCRIPTION="description",t.META_DATA_SIZE="size",t.META_DATA_MIME="mime";function i(n){const o=new Map;n.path.substring(n.path.indexOf(";")+1,n.path.lastIndexOf(";")).split(";").forEach(d=>{const[r,s]=d.split(":");r&&s&&o.set(r,s)});const c=n.path.substring(0,n.path.indexOf(";"));return c&&o.set(t.META_DATA_MIME,c),o}t.parseMetaData=i})(g=e.DataUri||(e.DataUri={}))}),define(se[269],re([1,0,7,497,86,202,65,136,14,6,68,108,147,125,2,336,201,49,36,44,8,22]),function(q,e,w,m,k,D,L,b,C,h,g,t,i,n,o,l,c,d,r,s,a,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.allowedMarkdownAttr=e.renderMarkdown=void 0;const p=Object.freeze({image:(I,R,F)=>{let O=[],M=[];return I&&({href:I,dimensions:O}=(0,g.parseHrefAndDimensions)(I),M.push(`src="${(0,g.escapeDoubleQuotes)(I)}"`)),F&&M.push(`alt="${(0,g.escapeDoubleQuotes)(F)}"`),R&&M.push(`title="${(0,g.escapeDoubleQuotes)(R)}"`),O.length&&(M=M.concat(O)),"<img "+M.join(" ")+">"},paragraph:I=>`<p>${I}</p>`,link:(I,R,F)=>typeof I!="string"?"":(I===F&&(F=(0,g.removeMarkdownEscapes)(F)),R=typeof R=="string"?(0,g.escapeDoubleQuotes)((0,g.removeMarkdownEscapes)(R)):"",I=(0,g.removeMarkdownEscapes)(I),I=I.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),`<a href="${I}" title="${R||I}">${F}</a>`)});function S(I,R={},F={}){var O;const M=new o.DisposableStore;let N=!1;const A=(0,D.createElement)(R),B=function(Q){let ne;try{ne=(0,c.parse)(decodeURIComponent(Q))}catch{}return ne?(ne=(0,r.cloneAndChange)(ne,Z=>{if(I.uris&&I.uris[Z])return u.URI.revive(I.uris[Z])}),encodeURIComponent(JSON.stringify(ne))):Q},W=function(Q,ne){const Z=I.uris&&I.uris[Q];let ee=u.URI.revive(Z);return ne?Q.startsWith(d.Schemas.data+":")?Q:(ee||(ee=u.URI.parse(Q)),d.FileAccess.asBrowserUri(ee).toString(!0)):!ee||u.URI.parse(Q).toString()===ee.toString()?Q:(ee.query&&(ee=ee.with({query:B(ee.query)})),ee.toString())},x=new l.marked.Renderer;x.image=p.image,x.link=p.link,x.paragraph=p.paragraph;const P=[];if(R.codeBlockRenderer&&(x.code=(Q,ne)=>{const Z=i.defaultGenerator.nextId(),ee=R.codeBlockRenderer(f(ne),Q);return P.push(ee.then(le=>[Z,le])),`<div class="code" data-code="${Z}">${(0,a.escape)(Q)}</div>`}),R.actionHandler){const Q=R.actionHandler.disposables.add(new k.DomEmitter(A,"click")),ne=R.actionHandler.disposables.add(new k.DomEmitter(A,"auxclick"));R.actionHandler.disposables.add(h.Event.any(Q.event,ne.event)(Z=>{const ee=new L.StandardMouseEvent(Z);if(!ee.leftButton&&!ee.middleButton)return;let le=ee.target;if(!(le.tagName!=="A"&&(le=le.parentElement,!le||le.tagName!=="A")))try{let V=le.dataset.href;V&&(I.baseUri&&(V=v(u.URI.from(I.baseUri),V)),R.actionHandler.callback(V,ee))}catch(V){(0,C.onUnexpectedError)(V)}finally{ee.preventDefault()}}))}I.supportHtml||(F.sanitizer=Q=>(I.isTrusted?Q.match(/^(<span[^>]+>)|(<\/\s*span>)$/):void 0)?Q:"",F.sanitize=!0,F.silent=!0),F.renderer=x;let X=(O=I.value)!==null&&O!==void 0?O:"";X.length>1e5&&(X=`${X.substr(0,1e5)}\u2026`),I.supportThemeIcons&&(X=(0,t.markdownEscapeEscapedIcons)(X));let ie=l.marked.parse(X,F);I.supportThemeIcons&&(ie=(0,b.renderLabelWithIcons)(ie).map(ne=>typeof ne=="string"?ne:ne.outerHTML).join(""));const G=new DOMParser().parseFromString(_(I,ie),"text/html");if(G.body.querySelectorAll("img").forEach(Q=>{const ne=Q.getAttribute("src");if(ne){let Z=ne;try{I.baseUri&&(Z=v(u.URI.from(I.baseUri),Z))}catch{}Q.src=W(Z,!0)}}),G.body.querySelectorAll("a").forEach(Q=>{const ne=Q.getAttribute("href");if(Q.setAttribute("href",""),!ne||/^data:|javascript:/i.test(ne)||/^command:/i.test(ne)&&!I.isTrusted||/^command:(\/\/\/)?_workbench\.downloadResource/i.test(ne))Q.replaceWith(...Q.childNodes);else{let Z=W(ne,!1);I.baseUri&&(Z=v(u.URI.from(I.baseUri),ne)),Q.dataset.href=Z}}),A.innerHTML=_(I,G.body.innerHTML),P.length>0&&Promise.all(P).then(Q=>{var ne,Z;if(N)return;const ee=new Map(Q),le=A.querySelectorAll("div[data-code]");for(const V of le){const $=ee.get((ne=V.dataset.code)!==null&&ne!==void 0?ne:"");$&&w.reset(V,$)}(Z=R.asyncRenderCallback)===null||Z===void 0||Z.call(R)}),R.asyncRenderCallback)for(const Q of A.getElementsByTagName("img")){const ne=M.add(w.addDisposableListener(Q,"load",()=>{ne.dispose(),R.asyncRenderCallback()}))}return{element:A,dispose:()=>{N=!0,M.dispose()}}}e.renderMarkdown=S;function f(I){if(!I)return"";const R=I.split(/[\s+|:|,|\{|\?]/,1);return R.length?R[0]:I}function v(I,R){return/^\w[\w\d+.-]*:/.test(R)?R:I.path.endsWith("/")?(0,s.resolvePath)(I,R).toString():(0,s.resolvePath)((0,s.dirname)(I),R).toString()}function _(I,R){const{config:F,allowedSchemes:O}=y(I);m.addHook("uponSanitizeAttribute",(N,A)=>{if(A.attrName==="style"||A.attrName==="class"){if(N.tagName==="SPAN"){if(A.attrName==="style"){A.keepAttr=/^(color\:#[0-9a-fA-F]+;)?(background-color\:#[0-9a-fA-F]+;)?$/.test(A.attrValue);return}else if(A.attrName==="class"){A.keepAttr=/^codicon codicon-[a-z\-]+( codicon-modifier-[a-z\-]+)?$/.test(A.attrValue);return}}A.keepAttr=!1;return}});const M=w.hookDomPurifyHrefAndSrcSanitizer(O);try{return m.sanitize(R,Object.assign(Object.assign({},F),{RETURN_TRUSTED_TYPE:!0}))}finally{m.removeHook("uponSanitizeAttribute"),M.dispose()}}e.allowedMarkdownAttr=["align","alt","class","controls","data-code","data-href","height","href","loop","muted","playsinline","poster","src","style","target","title","width"];function y(I){const R=[d.Schemas.http,d.Schemas.https,d.Schemas.mailto,d.Schemas.data,d.Schemas.file,d.Schemas.vscodeFileResource,d.Schemas.vscodeRemote,d.Schemas.vscodeRemoteResource];return I.isTrusted&&R.push(d.Schemas.command),{config:{ALLOWED_TAGS:[...w.basicMarkupHtmlTags],ALLOWED_ATTR:e.allowedMarkdownAttr,ALLOW_UNKNOWN_PROTOCOLS:!0},allowedSchemes:R}}const E=new Map([["&quot;",'"'],["&nbsp;"," "],["&amp;","&"],["&#39;","'"],["&lt;","<"],["&gt;",">"]]),T=new n.Lazy(()=>{const I=new l.marked.Renderer;return I.code=R=>R,I.blockquote=R=>R,I.html=R=>"",I.heading=(R,F,O)=>R+`
`,I.hr=()=>"",I.list=(R,F)=>R,I.listitem=R=>R+`
`,I.paragraph=R=>R+`
`,I.table=(R,F)=>R+F+`
`,I.tablerow=R=>R,I.tablecell=(R,F)=>R+" ",I.strong=R=>R,I.em=R=>R,I.codespan=R=>R,I.br=()=>`
`,I.del=R=>R,I.image=(R,F,O)=>"",I.text=R=>R,I.link=(R,F,O)=>O,I})}),define(se[507],re([1,0,7,86,45,269,102,18,6,57,2,17,484,356]),function(q,e,w,m,k,D,L,b,C,h,g,t,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectBoxList=void 0;const n=w.$,o="selectOption.entry.template";class l{get templateId(){return o}renderTemplate(r){const s=Object.create(null);return s.root=r,s.text=w.append(r,n(".option-text")),s.detail=w.append(r,n(".option-detail")),s.decoratorRight=w.append(r,n(".option-decorator-right")),s}renderElement(r,s,a){const u=a,p=r.text,S=r.detail,f=r.decoratorRight,v=r.isDisabled;u.text.textContent=p,u.detail.textContent=S||"",u.decoratorRight.innerText=f||"",v?u.root.classList.add("option-disabled"):u.root.classList.remove("option-disabled")}disposeTemplate(r){}}class c extends g.Disposable{constructor(r,s,a,u,p){super(),this.options=[],this._currentSelection=0,this._hasDetails=!1,this._skipLayout=!1,this._sticky=!1,this._isVisible=!1,this.selectBoxOptions=p||Object.create(null),typeof this.selectBoxOptions.minBottomMargin!="number"?this.selectBoxOptions.minBottomMargin=c.DEFAULT_DROPDOWN_MINIMUM_BOTTOM_MARGIN:this.selectBoxOptions.minBottomMargin<0&&(this.selectBoxOptions.minBottomMargin=0),this.selectElement=document.createElement("select"),this.selectElement.className="monaco-select-box monaco-select-box-dropdown-padding",typeof this.selectBoxOptions.ariaLabel=="string"&&this.selectElement.setAttribute("aria-label",this.selectBoxOptions.ariaLabel),typeof this.selectBoxOptions.ariaDescription=="string"&&this.selectElement.setAttribute("aria-description",this.selectBoxOptions.ariaDescription),this._onDidSelect=new C.Emitter,this._register(this._onDidSelect),this.styles=u,this.registerListeners(),this.constructSelectDropDown(a),this.selected=s||0,r&&this.setOptions(r,s)}getHeight(){return 18}getTemplateId(){return o}constructSelectDropDown(r){this.contextViewProvider=r,this.selectDropDownContainer=w.$(".monaco-select-box-dropdown-container"),this.selectDropDownContainer.classList.add("monaco-select-box-dropdown-padding"),this.selectionDetailsPane=w.append(this.selectDropDownContainer,n(".select-box-details-pane"));const s=w.append(this.selectDropDownContainer,n(".select-box-dropdown-container-width-control")),a=w.append(s,n(".width-control-div"));this.widthControlElement=document.createElement("span"),this.widthControlElement.className="option-text-width-control",w.append(a,this.widthControlElement),this._dropDownPosition=0,this.styleElement=w.createStyleSheet(this.selectDropDownContainer),this.selectDropDownContainer.setAttribute("draggable","true"),this._register(w.addDisposableListener(this.selectDropDownContainer,w.EventType.DRAG_START,u=>{w.EventHelper.stop(u,!0)}))}registerListeners(){this._register(w.addStandardDisposableListener(this.selectElement,"change",s=>{this.selected=s.target.selectedIndex,this._onDidSelect.fire({index:s.target.selectedIndex,selected:s.target.value}),!!this.options[this.selected]&&!!this.options[this.selected].text&&(this.selectElement.title=this.options[this.selected].text)})),this._register(w.addDisposableListener(this.selectElement,w.EventType.CLICK,s=>{w.EventHelper.stop(s),this._isVisible?this.hideSelectDropDown(!0):this.showSelectDropDown()})),this._register(w.addDisposableListener(this.selectElement,w.EventType.MOUSE_DOWN,s=>{w.EventHelper.stop(s)}));let r;this._register(w.addDisposableListener(this.selectElement,"touchstart",s=>{r=this._isVisible})),this._register(w.addDisposableListener(this.selectElement,"touchend",s=>{w.EventHelper.stop(s),r?this.hideSelectDropDown(!0):this.showSelectDropDown()})),this._register(w.addDisposableListener(this.selectElement,w.EventType.KEY_DOWN,s=>{const a=new k.StandardKeyboardEvent(s);let u=!1;t.isMacintosh?(a.keyCode===18||a.keyCode===16||a.keyCode===10||a.keyCode===3)&&(u=!0):(a.keyCode===18&&a.altKey||a.keyCode===16&&a.altKey||a.keyCode===10||a.keyCode===3)&&(u=!0),u&&(this.showSelectDropDown(),w.EventHelper.stop(s,!0))}))}get onDidSelect(){return this._onDidSelect.event}setOptions(r,s){b.equals(this.options,r)||(this.options=r,this.selectElement.options.length=0,this._hasDetails=!1,this.options.forEach((a,u)=>{this.selectElement.add(this.createOption(a.text,u,a.isDisabled)),typeof a.description=="string"&&(this._hasDetails=!0)})),s!==void 0&&(this.select(s),this._currentSelection=this.selected)}setOptionsList(){var r;(r=this.selectList)===null||r===void 0||r.splice(0,this.selectList.length,this.options)}select(r){r>=0&&r<this.options.length?this.selected=r:r>this.options.length-1?this.select(this.options.length-1):this.selected<0&&(this.selected=0),this.selectElement.selectedIndex=this.selected,!!this.options[this.selected]&&!!this.options[this.selected].text&&(this.selectElement.title=this.options[this.selected].text)}focus(){this.selectElement&&(this.selectElement.tabIndex=0,this.selectElement.focus())}blur(){this.selectElement&&(this.selectElement.tabIndex=-1,this.selectElement.blur())}setFocusable(r){this.selectElement.tabIndex=r?0:-1}render(r){this.container=r,r.classList.add("select-container"),r.appendChild(this.selectElement),this.applyStyles()}style(r){const s=[];this.styles=r,this.styles.listFocusBackground&&s.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { background-color: ${this.styles.listFocusBackground} !important; }`),this.styles.listFocusForeground&&s.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { color: ${this.styles.listFocusForeground} !important; }`),this.styles.decoratorRightForeground&&s.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.focused) .option-decorator-right { color: ${this.styles.decoratorRightForeground}; }`),this.styles.selectBackground&&this.styles.selectBorder&&!this.styles.selectBorder.equals(this.styles.selectBackground)?(s.push(`.monaco-select-box-dropdown-container { border: 1px solid ${this.styles.selectBorder} } `),s.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-top { border-top: 1px solid ${this.styles.selectBorder} } `),s.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-bottom { border-bottom: 1px solid ${this.styles.selectBorder} } `)):this.styles.selectListBorder&&(s.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-top { border-top: 1px solid ${this.styles.selectListBorder} } `),s.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-bottom { border-bottom: 1px solid ${this.styles.selectListBorder} } `)),this.styles.listHoverForeground&&s.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { color: ${this.styles.listHoverForeground} !important; }`),this.styles.listHoverBackground&&s.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { background-color: ${this.styles.listHoverBackground} !important; }`),this.styles.listFocusOutline&&s.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { outline: 1.6px dotted ${this.styles.listFocusOutline} !important; outline-offset: -1.6px !important; }`),this.styles.listHoverOutline&&s.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { outline: 1.6px dashed ${this.styles.listHoverOutline} !important; outline-offset: -1.6px !important; }`),s.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.option-disabled.focused { background-color: transparent !important; color: inherit !important; outline: none !important; }"),s.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.option-disabled:hover { background-color: transparent !important; color: inherit !important; outline: none !important; }"),this.styleElement.textContent=s.join(`
`),this.applyStyles()}applyStyles(){if(this.selectElement){const r=this.styles.selectBackground?this.styles.selectBackground.toString():"",s=this.styles.selectForeground?this.styles.selectForeground.toString():"",a=this.styles.selectBorder?this.styles.selectBorder.toString():"";this.selectElement.style.backgroundColor=r,this.selectElement.style.color=s,this.selectElement.style.borderColor=a}this.selectList&&this.styleList()}styleList(){if(this.selectList){const r=this.styles.selectBackground?this.styles.selectBackground.toString():"";this.selectList.style({});const s=this.styles.selectListBackground?this.styles.selectListBackground.toString():r;this.selectDropDownListContainer.style.backgroundColor=s,this.selectionDetailsPane.style.backgroundColor=s;const a=this.styles.focusBorder?this.styles.focusBorder.toString():"";this.selectDropDownContainer.style.outlineColor=a,this.selectDropDownContainer.style.outlineOffset="-1px"}}createOption(r,s,a){const u=document.createElement("option");return u.value=r,u.text=r,u.disabled=!!a,u}showSelectDropDown(){this.selectionDetailsPane.innerText="",!(!this.contextViewProvider||this._isVisible)&&(this.createSelectList(this.selectDropDownContainer),this.setOptionsList(),this.contextViewProvider.showContextView({getAnchor:()=>this.selectElement,render:r=>this.renderSelectDropDown(r,!0),layout:()=>{this.layoutSelectDropDown()},onHide:()=>{this.selectDropDownContainer.classList.remove("visible"),this.selectElement.classList.remove("synthetic-focus")},anchorPosition:this._dropDownPosition},this.selectBoxOptions.optionsAsChildren?this.container:void 0),this._isVisible=!0,this.hideSelectDropDown(!1),this.contextViewProvider.showContextView({getAnchor:()=>this.selectElement,render:r=>this.renderSelectDropDown(r),layout:()=>this.layoutSelectDropDown(),onHide:()=>{this.selectDropDownContainer.classList.remove("visible"),this.selectElement.classList.remove("synthetic-focus")},anchorPosition:this._dropDownPosition},this.selectBoxOptions.optionsAsChildren?this.container:void 0),this._currentSelection=this.selected,this._isVisible=!0,this.selectElement.setAttribute("aria-expanded","true"))}hideSelectDropDown(r){!this.contextViewProvider||!this._isVisible||(this._isVisible=!1,this.selectElement.setAttribute("aria-expanded","false"),r&&this.selectElement.focus(),this.contextViewProvider.hideContextView())}renderSelectDropDown(r,s){return r.appendChild(this.selectDropDownContainer),this.layoutSelectDropDown(s),{dispose:()=>{try{r.removeChild(this.selectDropDownContainer)}catch{}}}}measureMaxDetailsHeight(){let r=0;return this.options.forEach((s,a)=>{this.updateDetail(a),this.selectionDetailsPane.offsetHeight>r&&(r=this.selectionDetailsPane.offsetHeight)}),r}layoutSelectDropDown(r){if(this._skipLayout)return!1;if(this.selectList){this.selectDropDownContainer.classList.add("visible");const s=w.getDomNodePagePosition(this.selectElement),a=getComputedStyle(this.selectElement),u=parseFloat(a.getPropertyValue("--dropdown-padding-top"))+parseFloat(a.getPropertyValue("--dropdown-padding-bottom")),p=window.innerHeight-s.top-s.height-(this.selectBoxOptions.minBottomMargin||0),S=s.top-c.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN,f=this.selectElement.offsetWidth,v=this.setWidthControlElement(this.widthControlElement),_=Math.max(v,Math.round(f)).toString()+"px";this.selectDropDownContainer.style.width=_,this.selectList.getHTMLElement().style.height="",this.selectList.layout();let y=this.selectList.contentHeight;const E=this._hasDetails?this.measureMaxDetailsHeight():0,T=y+u+E,I=Math.floor((p-u-E)/this.getHeight()),R=Math.floor((S-u-E)/this.getHeight());if(r)return s.top+s.height>window.innerHeight-22||s.top<c.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN||I<1&&R<1?!1:(I<c.DEFAULT_MINIMUM_VISIBLE_OPTIONS&&R>I&&this.options.length>I?(this._dropDownPosition=1,this.selectDropDownContainer.removeChild(this.selectDropDownListContainer),this.selectDropDownContainer.removeChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectDropDownListContainer),this.selectionDetailsPane.classList.remove("border-top"),this.selectionDetailsPane.classList.add("border-bottom")):(this._dropDownPosition=0,this.selectDropDownContainer.removeChild(this.selectDropDownListContainer),this.selectDropDownContainer.removeChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectDropDownListContainer),this.selectDropDownContainer.appendChild(this.selectionDetailsPane),this.selectionDetailsPane.classList.remove("border-bottom"),this.selectionDetailsPane.classList.add("border-top")),!0);if(s.top+s.height>window.innerHeight-22||s.top<c.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN||this._dropDownPosition===0&&I<1||this._dropDownPosition===1&&R<1)return this.hideSelectDropDown(!0),!1;if(this._dropDownPosition===0){if(this._isVisible&&I+R<1)return this.hideSelectDropDown(!0),!1;T>p&&(y=I*this.getHeight())}else T>S&&(y=R*this.getHeight());return this.selectList.layout(y),this.selectList.domFocus(),this.selectList.length>0&&(this.selectList.setFocus([this.selected||0]),this.selectList.reveal(this.selectList.getFocus()[0]||0)),this._hasDetails?(this.selectList.getHTMLElement().style.height=y+u+"px",this.selectDropDownContainer.style.height=""):this.selectDropDownContainer.style.height=y+u+"px",this.updateDetail(this.selected),this.selectDropDownContainer.style.width=_,this.selectDropDownListContainer.setAttribute("tabindex","0"),this.selectElement.classList.add("synthetic-focus"),this.selectDropDownContainer.classList.add("synthetic-focus"),!0}else return!1}setWidthControlElement(r){let s=0;if(r){let a=0,u=0;this.options.forEach((p,S)=>{const f=p.detail?p.detail.length:0,v=p.decoratorRight?p.decoratorRight.length:0,_=p.text.length+f+v;_>u&&(a=S,u=_)}),r.textContent=this.options[a].text+(this.options[a].decoratorRight?this.options[a].decoratorRight+" ":""),s=w.getTotalWidth(r)}return s}createSelectList(r){if(this.selectList)return;this.selectDropDownListContainer=w.append(r,n(".select-box-dropdown-list-container")),this.listRenderer=new l,this.selectList=new L.List("SelectBoxCustom",this.selectDropDownListContainer,this,[this.listRenderer],{useShadows:!1,verticalScrollMode:3,keyboardSupport:!1,mouseSupport:!1,accessibilityProvider:{getAriaLabel:u=>{let p=u.text;return u.detail&&(p+=`. ${u.detail}`),u.decoratorRight&&(p+=`. ${u.decoratorRight}`),u.description&&(p+=`. ${u.description}`),p},getWidgetAriaLabel:()=>(0,i.localize)(0,null),getRole:()=>"option",getWidgetRole:()=>"listbox"}}),this.selectBoxOptions.ariaLabel&&(this.selectList.ariaLabel=this.selectBoxOptions.ariaLabel);const s=this._register(new m.DomEmitter(this.selectDropDownListContainer,"keydown")),a=C.Event.chain(s.event).filter(()=>this.selectList.length>0).map(u=>new k.StandardKeyboardEvent(u));this._register(a.filter(u=>u.keyCode===3).on(u=>this.onEnter(u),this)),this._register(a.filter(u=>u.keyCode===2).on(u=>this.onEnter(u),this)),this._register(a.filter(u=>u.keyCode===9).on(u=>this.onEscape(u),this)),this._register(a.filter(u=>u.keyCode===16).on(u=>this.onUpArrow(u),this)),this._register(a.filter(u=>u.keyCode===18).on(u=>this.onDownArrow(u),this)),this._register(a.filter(u=>u.keyCode===12).on(this.onPageDown,this)),this._register(a.filter(u=>u.keyCode===11).on(this.onPageUp,this)),this._register(a.filter(u=>u.keyCode===14).on(this.onHome,this)),this._register(a.filter(u=>u.keyCode===13).on(this.onEnd,this)),this._register(a.filter(u=>u.keyCode>=21&&u.keyCode<=56||u.keyCode>=80&&u.keyCode<=108).on(this.onCharacter,this)),this._register(w.addDisposableListener(this.selectList.getHTMLElement(),w.EventType.POINTER_UP,u=>this.onPointerUp(u))),this._register(this.selectList.onMouseOver(u=>typeof u.index<"u"&&this.selectList.setFocus([u.index]))),this._register(this.selectList.onDidChangeFocus(u=>this.onListFocus(u))),this._register(w.addDisposableListener(this.selectDropDownContainer,w.EventType.FOCUS_OUT,u=>{!this._isVisible||w.isAncestor(u.relatedTarget,this.selectDropDownContainer)||this.onListBlur()})),this.selectList.getHTMLElement().setAttribute("aria-label",this.selectBoxOptions.ariaLabel||""),this.selectList.getHTMLElement().setAttribute("aria-expanded","true"),this.styleList()}onPointerUp(r){if(!this.selectList.length)return;w.EventHelper.stop(r);const s=r.target;if(!s||s.classList.contains("slider"))return;const a=s.closest(".monaco-list-row");if(!a)return;const u=Number(a.getAttribute("data-index")),p=a.classList.contains("option-disabled");u>=0&&u<this.options.length&&!p&&(this.selected=u,this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0]),this.selected!==this._currentSelection&&(this._currentSelection=this.selected,this._onDidSelect.fire({index:this.selectElement.selectedIndex,selected:this.options[this.selected].text}),!!this.options[this.selected]&&!!this.options[this.selected].text&&(this.selectElement.title=this.options[this.selected].text)),this.hideSelectDropDown(!0))}onListBlur(){this._sticky||(this.selected!==this._currentSelection&&this.select(this._currentSelection),this.hideSelectDropDown(!1))}renderDescriptionMarkdown(r,s){const a=p=>{for(let S=0;S<p.childNodes.length;S++){const f=p.childNodes.item(S);(f.tagName&&f.tagName.toLowerCase())==="img"?p.removeChild(f):a(f)}},u=(0,D.renderMarkdown)({value:r,supportThemeIcons:!0},{actionHandler:s});return u.element.classList.add("select-box-description-markdown"),a(u.element),u.element}onListFocus(r){!this._isVisible||!this._hasDetails||this.updateDetail(r.indexes[0])}updateDetail(r){var s,a;this.selectionDetailsPane.innerText="";const u=this.options[r],p=(s=u?.description)!==null&&s!==void 0?s:"",S=(a=u?.descriptionIsMarkdown)!==null&&a!==void 0?a:!1;if(p){if(S){const f=u.descriptionMarkdownActionHandler;this.selectionDetailsPane.appendChild(this.renderDescriptionMarkdown(p,f))}else this.selectionDetailsPane.innerText=p;this.selectionDetailsPane.style.display="block"}else this.selectionDetailsPane.style.display="none";this._skipLayout=!0,this.contextViewProvider.layout(),this._skipLayout=!1}onEscape(r){w.EventHelper.stop(r),this.select(this._currentSelection),this.hideSelectDropDown(!0)}onEnter(r){w.EventHelper.stop(r),this.selected!==this._currentSelection&&(this._currentSelection=this.selected,this._onDidSelect.fire({index:this.selectElement.selectedIndex,selected:this.options[this.selected].text}),!!this.options[this.selected]&&!!this.options[this.selected].text&&(this.selectElement.title=this.options[this.selected].text)),this.hideSelectDropDown(!0)}onDownArrow(r){if(this.selected<this.options.length-1){w.EventHelper.stop(r,!0);const s=this.options[this.selected+1].isDisabled;if(s&&this.options.length>this.selected+2)this.selected+=2;else{if(s)return;this.selected++}this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0])}}onUpArrow(r){this.selected>0&&(w.EventHelper.stop(r,!0),this.options[this.selected-1].isDisabled&&this.selected>1?this.selected-=2:this.selected--,this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0]))}onPageUp(r){w.EventHelper.stop(r),this.selectList.focusPreviousPage(),setTimeout(()=>{this.selected=this.selectList.getFocus()[0],this.options[this.selected].isDisabled&&this.selected<this.options.length-1&&(this.selected++,this.selectList.setFocus([this.selected])),this.selectList.reveal(this.selected),this.select(this.selected)},1)}onPageDown(r){w.EventHelper.stop(r),this.selectList.focusNextPage(),setTimeout(()=>{this.selected=this.selectList.getFocus()[0],this.options[this.selected].isDisabled&&this.selected>0&&(this.selected--,this.selectList.setFocus([this.selected])),this.selectList.reveal(this.selected),this.select(this.selected)},1)}onHome(r){w.EventHelper.stop(r),!(this.options.length<2)&&(this.selected=0,this.options[this.selected].isDisabled&&this.selected>1&&this.selected++,this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selected),this.select(this.selected))}onEnd(r){w.EventHelper.stop(r),!(this.options.length<2)&&(this.selected=this.options.length-1,this.options[this.selected].isDisabled&&this.selected>1&&this.selected--,this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selected),this.select(this.selected))}onCharacter(r){const s=h.KeyCodeUtils.toString(r.keyCode);let a=-1;for(let u=0;u<this.options.length-1;u++)if(a=(u+this.selected+1)%this.options.length,this.options[a].text.charAt(0).toUpperCase()===s&&!this.options[a].isDisabled){this.select(a),this.selectList.setFocus([a]),this.selectList.reveal(this.selectList.getFocus()[0]),w.EventHelper.stop(r);break}}dispose(){this.hideSelectDropDown(!1),super.dispose()}}e.SelectBoxList=c,c.DEFAULT_DROPDOWN_MINIMUM_BOTTOM_MARGIN=32,c.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN=2,c.DEFAULT_MINIMUM_VISIBLE_OPTIONS=3}),define(se[508],re([1,0,507,502,66,31,36,17,355]),function(q,e,w,m,k,D,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectBox=e.defaultStyles=void 0,e.defaultStyles={selectBackground:D.Color.fromHex("#3C3C3C"),selectForeground:D.Color.fromHex("#F0F0F0"),selectBorder:D.Color.fromHex("#3C3C3C")};class C extends k.Widget{constructor(g,t,i,n=(0,L.deepClone)(e.defaultStyles),o){super(),b.isMacintosh&&!o?.useCustomDrawn?this.selectBoxDelegate=new m.SelectBoxNative(g,t,n,o):this.selectBoxDelegate=new w.SelectBoxList(g,t,i,n,o),this._register(this.selectBoxDelegate)}get onDidSelect(){return this.selectBoxDelegate.onDidSelect}setOptions(g,t){this.selectBoxDelegate.setOptions(g,t)}select(g){this.selectBoxDelegate.select(g)}focus(){this.selectBoxDelegate.focus()}blur(){this.selectBoxDelegate.blur()}setFocusable(g){this.selectBoxDelegate.setFocusable(g)}render(g){this.selectBoxDelegate.render(g)}style(g){this.selectBoxDelegate.style(g)}applyStyles(){this.selectBoxDelegate.applyStyles()}}e.SelectBox=C}),define(se[138],re([1,0,42,126,7,60,261,508,43,2,17,19,477,230]),function(q,e,w,m,k,D,L,b,C,h,g,t,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectActionViewItem=e.ActionViewItem=e.BaseActionViewItem=void 0;class n extends h.Disposable{get action(){return this._action}constructor(d,r,s={}){super(),this.options=s,this._context=d||this,this._action=r,r instanceof C.Action&&this._register(r.onDidChange(a=>{!this.element||this.handleActionChangeEvent(a)}))}handleActionChangeEvent(d){d.enabled!==void 0&&this.updateEnabled(),d.checked!==void 0&&this.updateChecked(),d.class!==void 0&&this.updateClass(),d.label!==void 0&&(this.updateLabel(),this.updateTooltip()),d.tooltip!==void 0&&this.updateTooltip()}get actionRunner(){return this._actionRunner||(this._actionRunner=this._register(new C.ActionRunner)),this._actionRunner}set actionRunner(d){this._actionRunner=d}isEnabled(){return this._action.enabled}setActionContext(d){this._context=d}render(d){const r=this.element=d;this._register(D.Gesture.addTarget(d));const s=this.options&&this.options.draggable;s&&(d.draggable=!0,w.isFirefox&&this._register((0,k.addDisposableListener)(d,k.EventType.DRAG_START,a=>{var u;return(u=a.dataTransfer)===null||u===void 0?void 0:u.setData(m.DataTransfers.TEXT,this._action.label)}))),this._register((0,k.addDisposableListener)(r,D.EventType.Tap,a=>this.onClick(a,!0))),this._register((0,k.addDisposableListener)(r,k.EventType.MOUSE_DOWN,a=>{s||k.EventHelper.stop(a,!0),this._action.enabled&&a.button===0&&r.classList.add("active")})),g.isMacintosh&&this._register((0,k.addDisposableListener)(r,k.EventType.CONTEXT_MENU,a=>{a.button===0&&a.ctrlKey===!0&&this.onClick(a)})),this._register((0,k.addDisposableListener)(r,k.EventType.CLICK,a=>{k.EventHelper.stop(a,!0),this.options&&this.options.isMenu||this.onClick(a)})),this._register((0,k.addDisposableListener)(r,k.EventType.DBLCLICK,a=>{k.EventHelper.stop(a,!0)})),[k.EventType.MOUSE_UP,k.EventType.MOUSE_OUT].forEach(a=>{this._register((0,k.addDisposableListener)(r,a,u=>{k.EventHelper.stop(u),r.classList.remove("active")}))})}onClick(d,r=!1){var s;k.EventHelper.stop(d,!0);const a=t.isUndefinedOrNull(this._context)?!((s=this.options)===null||s===void 0)&&s.useEventAsContext?d:{preserveFocus:r}:this._context;this.actionRunner.run(this._action,a)}focus(){this.element&&(this.element.tabIndex=0,this.element.focus(),this.element.classList.add("focused"))}blur(){this.element&&(this.element.blur(),this.element.tabIndex=-1,this.element.classList.remove("focused"))}setFocusable(d){this.element&&(this.element.tabIndex=d?0:-1)}get trapsArrowNavigation(){return!1}updateEnabled(){}updateLabel(){}getTooltip(){return this.action.tooltip}updateTooltip(){var d;if(!this.element)return;const r=(d=this.getTooltip())!==null&&d!==void 0?d:"";this.updateAriaLabel(),this.options.hoverDelegate?(this.element.title="",this.customHover?this.customHover.update(r):(this.customHover=(0,L.setupCustomHover)(this.options.hoverDelegate,this.element,r),this._store.add(this.customHover))):this.element.title=r}updateAriaLabel(){var d;if(this.element){const r=(d=this.getTooltip())!==null&&d!==void 0?d:"";this.element.setAttribute("aria-label",r)}}updateClass(){}updateChecked(){}dispose(){this.element&&(this.element.remove(),this.element=void 0),super.dispose()}}e.BaseActionViewItem=n;class o extends n{constructor(d,r,s={}){super(d,r,s),this.options=s,this.options.icon=s.icon!==void 0?s.icon:!1,this.options.label=s.label!==void 0?s.label:!0,this.cssClass=""}render(d){super.render(d),this.element&&(this.label=(0,k.append)(this.element,(0,k.$)("a.action-label"))),this.label&&(this._action.id===C.Separator.ID?this.label.setAttribute("role","presentation"):this.options.isMenu?this.label.setAttribute("role","menuitem"):this.label.setAttribute("role","button")),this.options.label&&this.options.keybinding&&this.element&&((0,k.append)(this.element,(0,k.$)("span.keybinding")).textContent=this.options.keybinding),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked()}focus(){this.label&&(this.label.tabIndex=0,this.label.focus())}blur(){this.label&&(this.label.tabIndex=-1)}setFocusable(d){this.label&&(this.label.tabIndex=d?0:-1)}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this.action.label)}getTooltip(){let d=null;return this.action.tooltip?d=this.action.tooltip:!this.options.label&&this.action.label&&this.options.icon&&(d=this.action.label,this.options.keybinding&&(d=i.localize(0,null,d,this.options.keybinding))),d??void 0}updateClass(){var d;this.cssClass&&this.label&&this.label.classList.remove(...this.cssClass.split(" ")),this.options.icon?(this.cssClass=this.action.class,this.label&&(this.label.classList.add("codicon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" "))),this.updateEnabled()):(d=this.label)===null||d===void 0||d.classList.remove("codicon")}updateEnabled(){var d,r;this.action.enabled?(this.label&&(this.label.removeAttribute("aria-disabled"),this.label.classList.remove("disabled")),(d=this.element)===null||d===void 0||d.classList.remove("disabled")):(this.label&&(this.label.setAttribute("aria-disabled","true"),this.label.classList.add("disabled")),(r=this.element)===null||r===void 0||r.classList.add("disabled"))}updateAriaLabel(){var d;if(this.label){const r=(d=this.getTooltip())!==null&&d!==void 0?d:"";this.label.setAttribute("aria-label",r)}}updateChecked(){this.label&&(this.action.checked?this.label.classList.add("checked"):this.label.classList.remove("checked"))}}e.ActionViewItem=o;class l extends n{constructor(d,r,s,a,u,p){super(d,r),this.selectBox=new b.SelectBox(s,a,u,void 0,p),this.selectBox.setFocusable(!1),this._register(this.selectBox),this.registerListeners()}select(d){this.selectBox.select(d)}registerListeners(){this._register(this.selectBox.onDidSelect(d=>this.runAction(d.selected,d.index)))}runAction(d,r){this.actionRunner.run(this._action,this.getActionContext(d,r))}getActionContext(d,r){return d}setFocusable(d){this.selectBox.setFocusable(d)}focus(){var d;(d=this.selectBox)===null||d===void 0||d.focus()}blur(){var d;(d=this.selectBox)===null||d===void 0||d.blur()}render(d){this.selectBox.render(d)}}e.SelectActionViewItem=l}),define(se[77],re([1,0,7,45,138,43,6,2,19,230]),function(q,e,w,m,k,D,L,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ActionBar=void 0;class h extends b.Disposable{constructor(t,i={}){var n,o,l,c,d,r;super(),this._actionRunnerDisposables=this._register(new b.DisposableStore),this.viewItemDisposables=this._register(new b.DisposableMap),this.triggerKeyDown=!1,this.focusable=!0,this._onDidBlur=this._register(new L.Emitter),this.onDidBlur=this._onDidBlur.event,this._onDidCancel=this._register(new L.Emitter({onFirstListenerAdd:()=>this.cancelHasListener=!0})),this.onDidCancel=this._onDidCancel.event,this.cancelHasListener=!1,this._onDidRun=this._register(new L.Emitter),this.onDidRun=this._onDidRun.event,this._onWillRun=this._register(new L.Emitter),this.onWillRun=this._onWillRun.event,this.options=i,this._context=(n=i.context)!==null&&n!==void 0?n:null,this._orientation=(o=this.options.orientation)!==null&&o!==void 0?o:0,this._triggerKeys={keyDown:(c=(l=this.options.triggerKeys)===null||l===void 0?void 0:l.keyDown)!==null&&c!==void 0?c:!1,keys:(r=(d=this.options.triggerKeys)===null||d===void 0?void 0:d.keys)!==null&&r!==void 0?r:[3,10]},this.options.actionRunner?this._actionRunner=this.options.actionRunner:(this._actionRunner=new D.ActionRunner,this._actionRunnerDisposables.add(this._actionRunner)),this._actionRunnerDisposables.add(this._actionRunner.onDidRun(u=>this._onDidRun.fire(u))),this._actionRunnerDisposables.add(this._actionRunner.onWillRun(u=>this._onWillRun.fire(u))),this.viewItems=[],this.focusedItem=void 0,this.domNode=document.createElement("div"),this.domNode.className="monaco-action-bar",i.animated!==!1&&this.domNode.classList.add("animated");let s,a;switch(this._orientation){case 0:s=[15],a=[17];break;case 1:s=[16],a=[18],this.domNode.className+=" vertical";break}this._register(w.addDisposableListener(this.domNode,w.EventType.KEY_DOWN,u=>{const p=new m.StandardKeyboardEvent(u);let S=!0;const f=typeof this.focusedItem=="number"?this.viewItems[this.focusedItem]:void 0;s&&(p.equals(s[0])||p.equals(s[1]))?S=this.focusPrevious():a&&(p.equals(a[0])||p.equals(a[1]))?S=this.focusNext():p.equals(9)&&this.cancelHasListener?this._onDidCancel.fire():p.equals(14)?S=this.focusFirst():p.equals(13)?S=this.focusLast():p.equals(2)&&f instanceof k.BaseActionViewItem&&f.trapsArrowNavigation?S=this.focusNext():this.isTriggerKeyEvent(p)?this._triggerKeys.keyDown?this.doTrigger(p):this.triggerKeyDown=!0:S=!1,S&&(p.preventDefault(),p.stopPropagation())})),this._register(w.addDisposableListener(this.domNode,w.EventType.KEY_UP,u=>{const p=new m.StandardKeyboardEvent(u);this.isTriggerKeyEvent(p)?(!this._triggerKeys.keyDown&&this.triggerKeyDown&&(this.triggerKeyDown=!1,this.doTrigger(p)),p.preventDefault(),p.stopPropagation()):(p.equals(2)||p.equals(1026))&&this.updateFocusedItem()})),this.focusTracker=this._register(w.trackFocus(this.domNode)),this._register(this.focusTracker.onDidBlur(()=>{(w.getActiveElement()===this.domNode||!w.isAncestor(w.getActiveElement(),this.domNode))&&(this._onDidBlur.fire(),this.focusedItem=void 0,this.previouslyFocusedItem=void 0,this.triggerKeyDown=!1)})),this._register(this.focusTracker.onDidFocus(()=>this.updateFocusedItem())),this.actionsList=document.createElement("ul"),this.actionsList.className="actions-container",this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"),this.options.ariaLabel&&this.actionsList.setAttribute("aria-label",this.options.ariaLabel),this.domNode.appendChild(this.actionsList),t.appendChild(this.domNode)}refreshRole(){this.length()>=2?this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"):this.actionsList.setAttribute("role","presentation")}setFocusable(t){if(this.focusable=t,this.focusable){const i=this.viewItems.find(n=>n instanceof k.BaseActionViewItem&&n.isEnabled());i instanceof k.BaseActionViewItem&&i.setFocusable(!0)}else this.viewItems.forEach(i=>{i instanceof k.BaseActionViewItem&&i.setFocusable(!1)})}isTriggerKeyEvent(t){let i=!1;return this._triggerKeys.keys.forEach(n=>{i=i||t.equals(n)}),i}updateFocusedItem(){for(let t=0;t<this.actionsList.children.length;t++){const i=this.actionsList.children[t];if(w.isAncestor(w.getActiveElement(),i)){this.focusedItem=t;break}}}get context(){return this._context}set context(t){this._context=t,this.viewItems.forEach(i=>i.setActionContext(t))}get actionRunner(){return this._actionRunner}set actionRunner(t){this._actionRunner=t,this._actionRunnerDisposables.clear(),this._actionRunnerDisposables.add(this._actionRunner.onDidRun(i=>this._onDidRun.fire(i))),this._actionRunnerDisposables.add(this._actionRunner.onWillRun(i=>this._onWillRun.fire(i))),this.viewItems.forEach(i=>i.actionRunner=t)}getContainer(){return this.domNode}push(t,i={}){const n=Array.isArray(t)?t:[t];let o=C.isNumber(i.index)?i.index:null;n.forEach(l=>{const c=document.createElement("li");c.className="action-item",c.setAttribute("role","presentation");let d;this.options.actionViewItemProvider&&(d=this.options.actionViewItemProvider(l)),d||(d=new k.ActionViewItem(this.context,l,Object.assign({hoverDelegate:this.options.hoverDelegate},i))),this.options.allowContextMenu||this.viewItemDisposables.set(d,w.addDisposableListener(c,w.EventType.CONTEXT_MENU,r=>{w.EventHelper.stop(r,!0)})),d.actionRunner=this._actionRunner,d.setActionContext(this.context),d.render(c),this.focusable&&d instanceof k.BaseActionViewItem&&this.viewItems.length===0&&d.setFocusable(!0),o===null||o<0||o>=this.actionsList.children.length?(this.actionsList.appendChild(c),this.viewItems.push(d)):(this.actionsList.insertBefore(c,this.actionsList.children[o]),this.viewItems.splice(o,0,d),o++)}),typeof this.focusedItem=="number"&&this.focus(this.focusedItem),this.refreshRole()}clear(){this.viewItems=(0,b.dispose)(this.viewItems),this.viewItemDisposables.clearAndDisposeAll(),w.clearNode(this.actionsList),this.refreshRole()}length(){return this.viewItems.length}focus(t){let i=!1,n;if(t===void 0?i=!0:typeof t=="number"?n=t:typeof t=="boolean"&&(i=t),i&&typeof this.focusedItem>"u"){const o=this.viewItems.findIndex(l=>l.isEnabled());this.focusedItem=o===-1?void 0:o,this.updateFocus(void 0,void 0,!0)}else n!==void 0&&(this.focusedItem=n),this.updateFocus(void 0,void 0,!0)}focusFirst(){return this.focusedItem=this.length()-1,this.focusNext(!0)}focusLast(){return this.focusedItem=0,this.focusPrevious(!0)}focusNext(t){if(typeof this.focusedItem>"u")this.focusedItem=this.viewItems.length-1;else if(this.viewItems.length<=1)return!1;const i=this.focusedItem;let n;do{if(!t&&this.options.preventLoopNavigation&&this.focusedItem+1>=this.viewItems.length)return this.focusedItem=i,!1;this.focusedItem=(this.focusedItem+1)%this.viewItems.length,n=this.viewItems[this.focusedItem]}while(this.focusedItem!==i&&(this.options.focusOnlyEnabledItems&&!n.isEnabled()||n.action.id===D.Separator.ID));return this.updateFocus(),!0}focusPrevious(t){if(typeof this.focusedItem>"u")this.focusedItem=0;else if(this.viewItems.length<=1)return!1;const i=this.focusedItem;let n;do{if(this.focusedItem=this.focusedItem-1,this.focusedItem<0){if(!t&&this.options.preventLoopNavigation)return this.focusedItem=i,!1;this.focusedItem=this.viewItems.length-1}n=this.viewItems[this.focusedItem]}while(this.focusedItem!==i&&(this.options.focusOnlyEnabledItems&&!n.isEnabled()||n.action.id===D.Separator.ID));return this.updateFocus(!0),!0}updateFocus(t,i,n=!1){var o;typeof this.focusedItem>"u"&&this.actionsList.focus({preventScroll:i}),this.previouslyFocusedItem!==void 0&&this.previouslyFocusedItem!==this.focusedItem&&((o=this.viewItems[this.previouslyFocusedItem])===null||o===void 0||o.blur());const l=this.focusedItem!==void 0&&this.viewItems[this.focusedItem];if(l){let c=!0;C.isFunction(l.focus)||(c=!1),this.options.focusOnlyEnabledItems&&C.isFunction(l.isEnabled)&&!l.isEnabled()&&(c=!1),l.action.id===D.Separator.ID&&(c=!1),c?(n||this.previouslyFocusedItem!==this.focusedItem)&&(l.focus(t),this.previouslyFocusedItem=this.focusedItem):(this.actionsList.focus({preventScroll:i}),this.previouslyFocusedItem=void 0)}}doTrigger(t){if(typeof this.focusedItem>"u")return;const i=this.viewItems[this.focusedItem];if(i instanceof k.BaseActionViewItem){const n=i._context===null||i._context===void 0?t:i._context;this.run(i._action,n)}}run(t,i){return Se(this,void 0,void 0,function*(){yield this._actionRunner.run(t,i)})}dispose(){this.viewItems=(0,b.dispose)(this.viewItems),this.getContainer().remove(),super.dispose()}}e.ActionBar=h}),define(se[509],re([1,0,7,138,498,6,231]),function(q,e,w,m,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DropdownMenuActionViewItem=void 0;class L extends m.BaseActionViewItem{constructor(C,h,g,t=Object.create(null)){super(null,C,t),this.actionItem=null,this._onDidChangeVisibility=this._register(new D.Emitter),this.menuActionsOrProvider=h,this.contextMenuProvider=g,this.options=t,this.options.actionRunner&&(this.actionRunner=this.options.actionRunner)}render(C){this.actionItem=C;const h=i=>{this.element=(0,w.append)(i,(0,w.$)("a.action-label"));let n=[];return typeof this.options.classNames=="string"?n=this.options.classNames.split(/\s+/g).filter(o=>!!o):this.options.classNames&&(n=this.options.classNames),n.find(o=>o==="icon")||n.push("codicon"),this.element.classList.add(...n),this.element.setAttribute("role","button"),this.element.setAttribute("aria-haspopup","true"),this.element.setAttribute("aria-expanded","false"),this.element.title=this._action.label||"",this.element.ariaLabel=this._action.label||"",null},g=Array.isArray(this.menuActionsOrProvider),t={contextMenuProvider:this.contextMenuProvider,labelRenderer:h,menuAsChild:this.options.menuAsChild,actions:g?this.menuActionsOrProvider:void 0,actionProvider:g?void 0:this.menuActionsOrProvider};if(this.dropdownMenu=this._register(new k.DropdownMenu(C,t)),this._register(this.dropdownMenu.onDidChangeVisibility(i=>{var n;(n=this.element)===null||n===void 0||n.setAttribute("aria-expanded",`${i}`),this._onDidChangeVisibility.fire(i)})),this.dropdownMenu.menuOptions={actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,getKeyBinding:this.options.keybindingProvider,context:this._context},this.options.anchorAlignmentProvider){const i=this;this.dropdownMenu.menuOptions=Object.assign(Object.assign({},this.dropdownMenu.menuOptions),{get anchorAlignment(){return i.options.anchorAlignmentProvider()}})}this.updateTooltip(),this.updateEnabled()}getTooltip(){let C=null;return this.action.tooltip?C=this.action.tooltip:this.action.label&&(C=this.action.label),C??void 0}setActionContext(C){super.setActionContext(C),this.dropdownMenu&&(this.dropdownMenu.menuOptions?this.dropdownMenu.menuOptions.context=C:this.dropdownMenu.menuOptions={context:C})}updateEnabled(){var C,h;const g=!this.action.enabled;(C=this.actionItem)===null||C===void 0||C.classList.toggle("disabled",g),(h=this.element)===null||h===void 0||h.classList.toggle("disabled",g)}}e.DropdownMenuActionViewItem=L}),define(se[270],re([1,0,7,86,202,77,50,76,66,31,6,338,36,482,349]),function(q,e,w,m,k,D,L,b,C,h,g,t,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HistoryInputBox=e.InputBox=void 0;const o=w.$,l={inputBackground:h.Color.fromHex("#3C3C3C"),inputForeground:h.Color.fromHex("#CCCCCC"),inputValidationInfoBorder:h.Color.fromHex("#55AAFF"),inputValidationInfoBackground:h.Color.fromHex("#063B49"),inputValidationWarningBorder:h.Color.fromHex("#B89500"),inputValidationWarningBackground:h.Color.fromHex("#352A05"),inputValidationErrorBorder:h.Color.fromHex("#BE1100"),inputValidationErrorBackground:h.Color.fromHex("#5A1D1D")};class c extends C.Widget{constructor(s,a,u){var p;super(),this.state="idle",this.maxHeight=Number.POSITIVE_INFINITY,this._onDidChange=this._register(new g.Emitter),this.onDidChange=this._onDidChange.event,this._onDidHeightChange=this._register(new g.Emitter),this.onDidHeightChange=this._onDidHeightChange.event,this.contextViewProvider=a,this.options=u||Object.create(null),(0,i.mixin)(this.options,l,!1),this.message=null,this.placeholder=this.options.placeholder||"",this.tooltip=(p=this.options.tooltip)!==null&&p!==void 0?p:this.placeholder||"",this.ariaLabel=this.options.ariaLabel||"",this.inputBackground=this.options.inputBackground,this.inputForeground=this.options.inputForeground,this.inputBorder=this.options.inputBorder,this.inputValidationInfoBorder=this.options.inputValidationInfoBorder,this.inputValidationInfoBackground=this.options.inputValidationInfoBackground,this.inputValidationInfoForeground=this.options.inputValidationInfoForeground,this.inputValidationWarningBorder=this.options.inputValidationWarningBorder,this.inputValidationWarningBackground=this.options.inputValidationWarningBackground,this.inputValidationWarningForeground=this.options.inputValidationWarningForeground,this.inputValidationErrorBorder=this.options.inputValidationErrorBorder,this.inputValidationErrorBackground=this.options.inputValidationErrorBackground,this.inputValidationErrorForeground=this.options.inputValidationErrorForeground,this.options.validationOptions&&(this.validation=this.options.validationOptions.validation),this.element=w.append(s,o(".monaco-inputbox.idle"));const S=this.options.flexibleHeight?"textarea":"input",f=w.append(this.element,o(".ibwrapper"));if(this.input=w.append(f,o(S+".input.empty")),this.input.setAttribute("autocorrect","off"),this.input.setAttribute("autocapitalize","off"),this.input.setAttribute("spellcheck","false"),this.onfocus(this.input,()=>this.element.classList.add("synthetic-focus")),this.onblur(this.input,()=>this.element.classList.remove("synthetic-focus")),this.options.flexibleHeight){this.maxHeight=typeof this.options.flexibleMaxHeight=="number"?this.options.flexibleMaxHeight:Number.POSITIVE_INFINITY,this.mirror=w.append(f,o("div.mirror")),this.mirror.innerText="\xA0",this.scrollableElement=new b.ScrollableElement(this.element,{vertical:1}),this.options.flexibleWidth&&(this.input.setAttribute("wrap","off"),this.mirror.style.whiteSpace="pre",this.mirror.style.wordWrap="initial"),w.append(s,this.scrollableElement.getDomNode()),this._register(this.scrollableElement),this._register(this.scrollableElement.onScroll(y=>this.input.scrollTop=y.scrollTop));const v=this._register(new m.DomEmitter(document,"selectionchange")),_=g.Event.filter(v.event,()=>{const y=document.getSelection();return y?.anchorNode===f});this._register(_(this.updateScrollDimensions,this)),this._register(this.onDidHeightChange(this.updateScrollDimensions,this))}else this.input.type=this.options.type||"text",this.input.setAttribute("wrap","off");this.ariaLabel&&this.input.setAttribute("aria-label",this.ariaLabel),this.placeholder&&!this.options.showPlaceholderOnFocus&&this.setPlaceHolder(this.placeholder),this.tooltip&&this.setTooltip(this.tooltip),this.oninput(this.input,()=>this.onValueChange()),this.onblur(this.input,()=>this.onBlur()),this.onfocus(this.input,()=>this.onFocus()),this._register(this.ignoreGesture(this.input)),setTimeout(()=>this.updateMirror(),0),this.options.actions&&(this.actionbar=this._register(new D.ActionBar(this.element)),this.actionbar.push(this.options.actions,{icon:!0,label:!1})),this.applyStyles()}onBlur(){this._hideMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder","")}onFocus(){this._showMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder",this.placeholder||"")}setPlaceHolder(s){this.placeholder=s,this.input.setAttribute("placeholder",s)}setTooltip(s){this.tooltip=s,this.input.title=s}setAriaLabel(s){this.ariaLabel=s,s?this.input.setAttribute("aria-label",this.ariaLabel):this.input.removeAttribute("aria-label")}getAriaLabel(){return this.ariaLabel}get inputElement(){return this.input}get value(){return this.input.value}set value(s){this.input.value!==s&&(this.input.value=s,this.onValueChange())}get height(){return typeof this.cachedHeight=="number"?this.cachedHeight:w.getTotalHeight(this.element)}focus(){this.input.focus()}blur(){this.input.blur()}hasFocus(){return document.activeElement===this.input}select(s=null){this.input.select(),s&&(this.input.setSelectionRange(s.start,s.end),s.end===this.input.value.length&&(this.input.scrollLeft=this.input.scrollWidth))}isSelectionAtEnd(){return this.input.selectionEnd===this.input.value.length&&this.input.selectionStart===this.input.selectionEnd}enable(){this.input.removeAttribute("disabled")}disable(){this.blur(),this.input.disabled=!0,this._hideMessage()}get width(){return w.getTotalWidth(this.input)}set width(s){if(this.options.flexibleHeight&&this.options.flexibleWidth){let a=0;if(this.mirror){const u=parseFloat(this.mirror.style.paddingLeft||"")||0,p=parseFloat(this.mirror.style.paddingRight||"")||0;a=u+p}this.input.style.width=s-a+"px"}else this.input.style.width=s+"px";this.mirror&&(this.mirror.style.width=s+"px")}set paddingRight(s){this.input.style.width=`calc(100% - ${s}px)`,this.mirror&&(this.mirror.style.paddingRight=s+"px")}updateScrollDimensions(){if(typeof this.cachedContentHeight!="number"||typeof this.cachedHeight!="number"||!this.scrollableElement)return;const s=this.cachedContentHeight,a=this.cachedHeight,u=this.input.scrollTop;this.scrollableElement.setScrollDimensions({scrollHeight:s,height:a}),this.scrollableElement.setScrollPosition({scrollTop:u})}showMessage(s,a){this.message=s,this.element.classList.remove("idle"),this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add(this.classForType(s.type));const u=this.stylesForType(this.message.type);this.element.style.border=u.border?`1px solid ${u.border}`:"",this.message.content&&(this.hasFocus()||a)&&this._showMessage()}hideMessage(){this.message=null,this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add("idle"),this._hideMessage(),this.applyStyles()}validate(){let s=null;return this.validation&&(s=this.validation(this.value),s?(this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(s)):this.inputElement.hasAttribute("aria-invalid")&&(this.inputElement.removeAttribute("aria-invalid"),this.hideMessage())),s?.type}stylesForType(s){switch(s){case 1:return{border:this.inputValidationInfoBorder,background:this.inputValidationInfoBackground,foreground:this.inputValidationInfoForeground};case 2:return{border:this.inputValidationWarningBorder,background:this.inputValidationWarningBackground,foreground:this.inputValidationWarningForeground};default:return{border:this.inputValidationErrorBorder,background:this.inputValidationErrorBackground,foreground:this.inputValidationErrorForeground}}}classForType(s){switch(s){case 1:return"info";case 2:return"warning";default:return"error"}}_showMessage(){if(!this.contextViewProvider||!this.message)return;let s;const a=()=>s.style.width=w.getTotalWidth(this.element)+"px";this.contextViewProvider.showContextView({getAnchor:()=>this.element,anchorAlignment:1,render:p=>{if(!this.message)return null;s=w.append(p,o(".monaco-inputbox-container")),a();const S={inline:!0,className:"monaco-inputbox-message"},f=this.message.formatContent?(0,k.renderFormattedText)(this.message.content,S):(0,k.renderText)(this.message.content,S);f.classList.add(this.classForType(this.message.type));const v=this.stylesForType(this.message.type);return f.style.backgroundColor=v.background?v.background.toString():"",f.style.color=v.foreground?v.foreground.toString():"",f.style.border=v.border?`1px solid ${v.border}`:"",w.append(s,f),null},onHide:()=>{this.state="closed"},layout:a});let u;this.message.type===3?u=n.localize(0,null,this.message.content):this.message.type===2?u=n.localize(1,null,this.message.content):u=n.localize(2,null,this.message.content),L.alert(u),this.state="open"}_hideMessage(){!this.contextViewProvider||(this.state==="open"&&this.contextViewProvider.hideContextView(),this.state="idle")}onValueChange(){this._onDidChange.fire(this.value),this.validate(),this.updateMirror(),this.input.classList.toggle("empty",!this.value),this.state==="open"&&this.contextViewProvider&&this.contextViewProvider.layout()}updateMirror(){if(!this.mirror)return;const s=this.value,u=s.charCodeAt(s.length-1)===10?" ":"";(s+u).replace(/\u000c/g,"")?this.mirror.textContent=s+u:this.mirror.innerText="\xA0",this.layout()}style(s){this.inputBackground=s.inputBackground,this.inputForeground=s.inputForeground,this.inputBorder=s.inputBorder,this.inputValidationInfoBackground=s.inputValidationInfoBackground,this.inputValidationInfoForeground=s.inputValidationInfoForeground,this.inputValidationInfoBorder=s.inputValidationInfoBorder,this.inputValidationWarningBackground=s.inputValidationWarningBackground,this.inputValidationWarningForeground=s.inputValidationWarningForeground,this.inputValidationWarningBorder=s.inputValidationWarningBorder,this.inputValidationErrorBackground=s.inputValidationErrorBackground,this.inputValidationErrorForeground=s.inputValidationErrorForeground,this.inputValidationErrorBorder=s.inputValidationErrorBorder,this.applyStyles()}applyStyles(){const s=this.inputBackground?this.inputBackground.toString():"",a=this.inputForeground?this.inputForeground.toString():"",u=this.inputBorder?this.inputBorder.toString():"";this.element.style.backgroundColor=s,this.element.style.color=a,this.input.style.backgroundColor="inherit",this.input.style.color=a,this.element.style.borderWidth=u?"1px":"",this.element.style.borderStyle=u?"solid":"",this.element.style.borderColor=u}layout(){if(!this.mirror)return;const s=this.cachedContentHeight;this.cachedContentHeight=w.getTotalHeight(this.mirror),s!==this.cachedContentHeight&&(this.cachedHeight=Math.min(this.cachedContentHeight,this.maxHeight),this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedContentHeight))}insertAtCursor(s){const a=this.inputElement,u=a.selectionStart,p=a.selectionEnd,S=a.value;u!==null&&p!==null&&(this.value=S.substr(0,u)+s+S.substr(p),a.setSelectionRange(u+1,u+1),this.layout())}dispose(){var s;this._hideMessage(),this.message=null,(s=this.actionbar)===null||s===void 0||s.dispose(),super.dispose()}}e.InputBox=c;class d extends c{constructor(s,a,u){const p=n.localize(3,null),S=` or \u21C5 ${p}`,f=` (\u21C5 ${p})`;super(s,a,u),this._onDidFocus=this._register(new g.Emitter),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new g.Emitter),this.onDidBlur=this._onDidBlur.event,this.history=new t.HistoryNavigator(u.history,100);const v=()=>{if(u.showHistoryHint&&u.showHistoryHint()&&!this.placeholder.endsWith(S)&&!this.placeholder.endsWith(f)&&this.history.getHistory().length){const _=this.placeholder.endsWith(")")?S:f,y=this.placeholder+_;u.showPlaceholderOnFocus&&document.activeElement!==this.input?this.placeholder=y:this.setPlaceHolder(y)}};this.observer=new MutationObserver((_,y)=>{_.forEach(E=>{E.target.textContent||v()})}),this.observer.observe(this.input,{attributeFilter:["class"]}),this.onfocus(this.input,()=>v()),this.onblur(this.input,()=>{const _=y=>{if(this.placeholder.endsWith(y)){const E=this.placeholder.slice(0,this.placeholder.length-y.length);return u.showPlaceholderOnFocus?this.placeholder=E:this.setPlaceHolder(E),!0}else return!1};_(f)||_(S)})}dispose(){super.dispose(),this.observer&&(this.observer.disconnect(),this.observer=void 0)}addToHistory(){this.value&&this.value!==this.getCurrentValue()&&this.history.add(this.value)}showNextValue(){this.history.has(this.value)||this.addToHistory();let s=this.getNextValue();s&&(s=s===this.value?this.getNextValue():s),s&&(this.value=s,L.status(this.value))}showPreviousValue(){this.history.has(this.value)||this.addToHistory();let s=this.getPreviousValue();s&&(s=s===this.value?this.getPreviousValue():s),s&&(this.value=s,L.status(this.value))}onBlur(){super.onBlur(),this._onDidBlur.fire()}onFocus(){super.onFocus(),this._onDidFocus.fire()}getCurrentValue(){let s=this.history.current();return s||(s=this.history.last(),this.history.next()),s}getPreviousValue(){return this.history.previous()||this.history.first()}getNextValue(){return this.history.next()||this.history.last()}}e.HistoryInputBox=d}),define(se[206],re([1,0,7,268,270,66,6,478,2,232]),function(q,e,w,m,k,D,L,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindInput=void 0;const h=b.localize(0,null);class g extends D.Widget{constructor(i,n,o){super(),this.fixFocusOnOptionClickEnabled=!0,this.imeSessionInProgress=!1,this.additionalTogglesDisposables=new C.DisposableStore,this.additionalToggles=[],this._onDidOptionChange=this._register(new L.Emitter),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new L.Emitter),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new L.Emitter),this.onMouseDown=this._onMouseDown.event,this._onInput=this._register(new L.Emitter),this._onKeyUp=this._register(new L.Emitter),this._onCaseSensitiveKeyDown=this._register(new L.Emitter),this.onCaseSensitiveKeyDown=this._onCaseSensitiveKeyDown.event,this._onRegexKeyDown=this._register(new L.Emitter),this.onRegexKeyDown=this._onRegexKeyDown.event,this._lastHighlightFindOptions=0,this.placeholder=o.placeholder||"",this.validation=o.validation,this.label=o.label||h,this.showCommonFindToggles=!!o.showCommonFindToggles,this.inputActiveOptionBorder=o.inputActiveOptionBorder,this.inputActiveOptionForeground=o.inputActiveOptionForeground,this.inputActiveOptionBackground=o.inputActiveOptionBackground,this.inputBackground=o.inputBackground,this.inputForeground=o.inputForeground,this.inputBorder=o.inputBorder,this.inputValidationInfoBorder=o.inputValidationInfoBorder,this.inputValidationInfoBackground=o.inputValidationInfoBackground,this.inputValidationInfoForeground=o.inputValidationInfoForeground,this.inputValidationWarningBorder=o.inputValidationWarningBorder,this.inputValidationWarningBackground=o.inputValidationWarningBackground,this.inputValidationWarningForeground=o.inputValidationWarningForeground,this.inputValidationErrorBorder=o.inputValidationErrorBorder,this.inputValidationErrorBackground=o.inputValidationErrorBackground,this.inputValidationErrorForeground=o.inputValidationErrorForeground;const l=o.appendCaseSensitiveLabel||"",c=o.appendWholeWordsLabel||"",d=o.appendRegexLabel||"",r=o.history||[],s=!!o.flexibleHeight,a=!!o.flexibleWidth,u=o.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new k.HistoryInputBox(this.domNode,n,{placeholder:this.placeholder||"",ariaLabel:this.label||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:r,showHistoryHint:o.showHistoryHint,flexibleHeight:s,flexibleWidth:a,flexibleMaxHeight:u})),this.regex=this._register(new m.RegexToggle({appendTitle:d,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.regex.onChange(S=>{this._onDidOptionChange.fire(S),!S&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.regex.onKeyDown(S=>{this._onRegexKeyDown.fire(S)})),this.wholeWords=this._register(new m.WholeWordsToggle({appendTitle:c,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.wholeWords.onChange(S=>{this._onDidOptionChange.fire(S),!S&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this.caseSensitive=this._register(new m.CaseSensitiveToggle({appendTitle:l,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.caseSensitive.onChange(S=>{this._onDidOptionChange.fire(S),!S&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.caseSensitive.onKeyDown(S=>{this._onCaseSensitiveKeyDown.fire(S)}));const p=[this.caseSensitive.domNode,this.wholeWords.domNode,this.regex.domNode];this.onkeydown(this.domNode,S=>{if(S.equals(15)||S.equals(17)||S.equals(9)){const f=p.indexOf(document.activeElement);if(f>=0){let v=-1;S.equals(17)?v=(f+1)%p.length:S.equals(15)&&(f===0?v=p.length-1:v=f-1),S.equals(9)?(p[f].blur(),this.inputBox.focus()):v>=0&&p[v].focus(),w.EventHelper.stop(S,!0)}}}),this.controls=document.createElement("div"),this.controls.className="controls",this.controls.style.display=this.showCommonFindToggles?"block":"none",this.controls.appendChild(this.caseSensitive.domNode),this.controls.appendChild(this.wholeWords.domNode),this.controls.appendChild(this.regex.domNode),this.showCommonFindToggles||(this.caseSensitive.domNode.style.display="none",this.wholeWords.domNode.style.display="none",this.regex.domNode.style.display="none"),this.setAdditionalToggles(o?.additionalToggles),this.domNode.appendChild(this.controls),i?.appendChild(this.domNode),this._register(w.addDisposableListener(this.inputBox.inputElement,"compositionstart",S=>{this.imeSessionInProgress=!0})),this._register(w.addDisposableListener(this.inputBox.inputElement,"compositionend",S=>{this.imeSessionInProgress=!1,this._onInput.fire()})),this.onkeydown(this.inputBox.inputElement,S=>this._onKeyDown.fire(S)),this.onkeyup(this.inputBox.inputElement,S=>this._onKeyUp.fire(S)),this.oninput(this.inputBox.inputElement,S=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,S=>this._onMouseDown.fire(S))}get onDidChange(){return this.inputBox.onDidChange}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.regex.enable(),this.wholeWords.enable(),this.caseSensitive.enable();for(const i of this.additionalToggles)i.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.regex.disable(),this.wholeWords.disable(),this.caseSensitive.disable();for(const i of this.additionalToggles)i.disable()}setFocusInputOnOptionClick(i){this.fixFocusOnOptionClickEnabled=i}setEnabled(i){i?this.enable():this.disable()}setAdditionalToggles(i){for(const n of this.additionalToggles)n.domNode.remove();this.additionalToggles=[],this.additionalTogglesDisposables.dispose(),this.additionalTogglesDisposables=new C.DisposableStore;for(const n of i??[])this.additionalTogglesDisposables.add(n),this.controls.appendChild(n.domNode),this.additionalTogglesDisposables.add(n.onChange(o=>{this._onDidOptionChange.fire(o),!o&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus()})),this.additionalToggles.push(n);this.additionalToggles.length>0&&(this.controls.style.display="block"),this.inputBox.paddingRight=(this.showCommonFindToggles?this.caseSensitive.width()+this.wholeWords.width()+this.regex.width():0)+this.additionalToggles.reduce((n,o)=>n+o.width(),0)}getValue(){return this.inputBox.value}setValue(i){this.inputBox.value!==i&&(this.inputBox.value=i)}style(i){this.inputActiveOptionBorder=i.inputActiveOptionBorder,this.inputActiveOptionForeground=i.inputActiveOptionForeground,this.inputActiveOptionBackground=i.inputActiveOptionBackground,this.inputBackground=i.inputBackground,this.inputForeground=i.inputForeground,this.inputBorder=i.inputBorder,this.inputValidationInfoBackground=i.inputValidationInfoBackground,this.inputValidationInfoForeground=i.inputValidationInfoForeground,this.inputValidationInfoBorder=i.inputValidationInfoBorder,this.inputValidationWarningBackground=i.inputValidationWarningBackground,this.inputValidationWarningForeground=i.inputValidationWarningForeground,this.inputValidationWarningBorder=i.inputValidationWarningBorder,this.inputValidationErrorBackground=i.inputValidationErrorBackground,this.inputValidationErrorForeground=i.inputValidationErrorForeground,this.inputValidationErrorBorder=i.inputValidationErrorBorder,this.applyStyles()}applyStyles(){if(this.domNode){const i={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground};this.regex.style(i),this.wholeWords.style(i),this.caseSensitive.style(i);for(const o of this.additionalToggles)o.style(i);const n={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder};this.inputBox.style(n)}}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getCaseSensitive(){return this.caseSensitive.checked}setCaseSensitive(i){this.caseSensitive.checked=i}getWholeWords(){return this.wholeWords.checked}setWholeWords(i){this.wholeWords.checked=i}getRegex(){return this.regex.checked}setRegex(i){this.regex.checked=i,this.validate()}focusOnCaseSensitive(){this.caseSensitive.focus()}highlightFindOptions(){this.domNode.classList.remove("highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,this.domNode.classList.add("highlight-"+this._lastHighlightFindOptions)}validate(){this.inputBox.validate()}showMessage(i){this.inputBox.showMessage(i)}clearMessage(){this.inputBox.hideMessage()}}e.FindInput=g}),define(se[510],re([1,0,7,163,270,66,27,6,480,232]),function(q,e,w,m,k,D,L,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReplaceInput=e.PreserveCaseToggle=void 0;const h=C.localize(0,null),g=C.localize(1,null);class t extends m.Toggle{constructor(o){super({icon:L.Codicon.preserveCase,title:g+o.appendTitle,isChecked:o.isChecked,inputActiveOptionBorder:o.inputActiveOptionBorder,inputActiveOptionForeground:o.inputActiveOptionForeground,inputActiveOptionBackground:o.inputActiveOptionBackground})}}e.PreserveCaseToggle=t;class i extends D.Widget{constructor(o,l,c,d){super(),this._showOptionButtons=c,this.fixFocusOnOptionClickEnabled=!0,this.cachedOptionsWidth=0,this._onDidOptionChange=this._register(new b.Emitter),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new b.Emitter),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new b.Emitter),this._onInput=this._register(new b.Emitter),this._onKeyUp=this._register(new b.Emitter),this._onPreserveCaseKeyDown=this._register(new b.Emitter),this.onPreserveCaseKeyDown=this._onPreserveCaseKeyDown.event,this.contextViewProvider=l,this.placeholder=d.placeholder||"",this.validation=d.validation,this.label=d.label||h,this.inputActiveOptionBorder=d.inputActiveOptionBorder,this.inputActiveOptionForeground=d.inputActiveOptionForeground,this.inputActiveOptionBackground=d.inputActiveOptionBackground,this.inputBackground=d.inputBackground,this.inputForeground=d.inputForeground,this.inputBorder=d.inputBorder,this.inputValidationInfoBorder=d.inputValidationInfoBorder,this.inputValidationInfoBackground=d.inputValidationInfoBackground,this.inputValidationInfoForeground=d.inputValidationInfoForeground,this.inputValidationWarningBorder=d.inputValidationWarningBorder,this.inputValidationWarningBackground=d.inputValidationWarningBackground,this.inputValidationWarningForeground=d.inputValidationWarningForeground,this.inputValidationErrorBorder=d.inputValidationErrorBorder,this.inputValidationErrorBackground=d.inputValidationErrorBackground,this.inputValidationErrorForeground=d.inputValidationErrorForeground;const r=d.appendPreserveCaseLabel||"",s=d.history||[],a=!!d.flexibleHeight,u=!!d.flexibleWidth,p=d.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new k.HistoryInputBox(this.domNode,this.contextViewProvider,{ariaLabel:this.label||"",placeholder:this.placeholder||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:s,showHistoryHint:d.showHistoryHint,flexibleHeight:a,flexibleWidth:u,flexibleMaxHeight:p})),this.preserveCase=this._register(new t({appendTitle:r,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.preserveCase.onChange(v=>{this._onDidOptionChange.fire(v),!v&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.preserveCase.onKeyDown(v=>{this._onPreserveCaseKeyDown.fire(v)})),this._showOptionButtons?this.cachedOptionsWidth=this.preserveCase.width():this.cachedOptionsWidth=0;const S=[this.preserveCase.domNode];this.onkeydown(this.domNode,v=>{if(v.equals(15)||v.equals(17)||v.equals(9)){const _=S.indexOf(document.activeElement);if(_>=0){let y=-1;v.equals(17)?y=(_+1)%S.length:v.equals(15)&&(_===0?y=S.length-1:y=_-1),v.equals(9)?(S[_].blur(),this.inputBox.focus()):y>=0&&S[y].focus(),w.EventHelper.stop(v,!0)}}});const f=document.createElement("div");f.className="controls",f.style.display=this._showOptionButtons?"block":"none",f.appendChild(this.preserveCase.domNode),this.domNode.appendChild(f),o?.appendChild(this.domNode),this.onkeydown(this.inputBox.inputElement,v=>this._onKeyDown.fire(v)),this.onkeyup(this.inputBox.inputElement,v=>this._onKeyUp.fire(v)),this.oninput(this.inputBox.inputElement,v=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,v=>this._onMouseDown.fire(v))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.preserveCase.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.preserveCase.disable()}setEnabled(o){o?this.enable():this.disable()}style(o){this.inputActiveOptionBorder=o.inputActiveOptionBorder,this.inputActiveOptionForeground=o.inputActiveOptionForeground,this.inputActiveOptionBackground=o.inputActiveOptionBackground,this.inputBackground=o.inputBackground,this.inputForeground=o.inputForeground,this.inputBorder=o.inputBorder,this.inputValidationInfoBackground=o.inputValidationInfoBackground,this.inputValidationInfoForeground=o.inputValidationInfoForeground,this.inputValidationInfoBorder=o.inputValidationInfoBorder,this.inputValidationWarningBackground=o.inputValidationWarningBackground,this.inputValidationWarningForeground=o.inputValidationWarningForeground,this.inputValidationWarningBorder=o.inputValidationWarningBorder,this.inputValidationErrorBackground=o.inputValidationErrorBackground,this.inputValidationErrorForeground=o.inputValidationErrorForeground,this.inputValidationErrorBorder=o.inputValidationErrorBorder,this.applyStyles()}applyStyles(){if(this.domNode){const o={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground};this.preserveCase.style(o);const l={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder};this.inputBox.style(l)}}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getPreserveCase(){return this.preserveCase.checked}setPreserveCase(o){this.preserveCase.checked=o}focusOnPreserve(){this.preserveCase.focus()}validate(){var o;(o=this.inputBox)===null||o===void 0||o.validate()}set width(o){this.inputBox.paddingRight=this.cachedOptionsWidth,this.inputBox.width=o,this.domNode.style.width=o+"px"}dispose(){super.dispose()}}e.ReplaceInput=i}),define(se[511],re([1,0,42,60,7,45,65,77,138,128,259,76,43,10,27,108,2,17,8]),function(q,e,w,m,k,D,L,b,C,h,g,t,i,n,o,l,c,d,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.cleanMnemonic=e.Menu=e.Direction=e.MENU_ESCAPED_MNEMONIC_REGEX=e.MENU_MNEMONIC_REGEX=void 0,e.MENU_MNEMONIC_REGEX=/\(&([^\s&])\)|(^|[^&])&([^\s&])/,e.MENU_ESCAPED_MNEMONIC_REGEX=/(&amp;)?(&amp;)([^\s&])/g;var s;(function(_){_[_.Right=0]="Right",_[_.Left=1]="Left"})(s=e.Direction||(e.Direction={}));class a extends b.ActionBar{constructor(y,E,T={}){y.classList.add("monaco-menu-container"),y.setAttribute("role","presentation");const I=document.createElement("div");I.classList.add("monaco-menu"),I.setAttribute("role","presentation"),super(I,{orientation:1,actionViewItemProvider:O=>this.doGetActionViewItem(O,T,R),context:T.context,actionRunner:T.actionRunner,ariaLabel:T.ariaLabel,ariaRole:"menu",focusOnlyEnabledItems:!0,triggerKeys:{keys:[3,...d.isMacintosh||d.isLinux?[10]:[]],keyDown:!0}}),this.menuElement=I,this.actionsList.tabIndex=0,this.menuDisposables=this._register(new c.DisposableStore),this.initializeOrUpdateStyleSheet(y,{}),this._register(m.Gesture.addTarget(I)),(0,k.addDisposableListener)(I,k.EventType.KEY_DOWN,O=>{new D.StandardKeyboardEvent(O).equals(2)&&O.preventDefault()}),T.enableMnemonics&&this.menuDisposables.add((0,k.addDisposableListener)(I,k.EventType.KEY_DOWN,O=>{const M=O.key.toLocaleLowerCase();if(this.mnemonics.has(M)){k.EventHelper.stop(O,!0);const N=this.mnemonics.get(M);if(N.length===1&&(N[0]instanceof p&&N[0].container&&this.focusItemByElement(N[0].container),N[0].onClick(O)),N.length>1){const A=N.shift();A&&A.container&&(this.focusItemByElement(A.container),N.push(A)),this.mnemonics.set(M,N)}}})),d.isLinux&&this._register((0,k.addDisposableListener)(I,k.EventType.KEY_DOWN,O=>{const M=new D.StandardKeyboardEvent(O);M.equals(14)||M.equals(11)?(this.focusedItem=this.viewItems.length-1,this.focusNext(),k.EventHelper.stop(O,!0)):(M.equals(13)||M.equals(12))&&(this.focusedItem=0,this.focusPrevious(),k.EventHelper.stop(O,!0))})),this._register((0,k.addDisposableListener)(this.domNode,k.EventType.MOUSE_OUT,O=>{const M=O.relatedTarget;(0,k.isAncestor)(M,this.domNode)||(this.focusedItem=void 0,this.updateFocus(),O.stopPropagation())})),this._register((0,k.addDisposableListener)(this.actionsList,k.EventType.MOUSE_OVER,O=>{let M=O.target;if(!(!M||!(0,k.isAncestor)(M,this.actionsList)||M===this.actionsList)){for(;M.parentElement!==this.actionsList&&M.parentElement!==null;)M=M.parentElement;if(M.classList.contains("action-item")){const N=this.focusedItem;this.setFocusedItem(M),N!==this.focusedItem&&this.updateFocus()}}})),this._register(m.Gesture.addTarget(this.actionsList)),this._register((0,k.addDisposableListener)(this.actionsList,m.EventType.Tap,O=>{let M=O.initialTarget;if(!(!M||!(0,k.isAncestor)(M,this.actionsList)||M===this.actionsList)){for(;M.parentElement!==this.actionsList&&M.parentElement!==null;)M=M.parentElement;if(M.classList.contains("action-item")){const N=this.focusedItem;this.setFocusedItem(M),N!==this.focusedItem&&this.updateFocus()}}}));const R={parent:this};this.mnemonics=new Map,this.scrollableElement=this._register(new t.DomScrollableElement(I,{alwaysConsumeMouseWheel:!0,horizontal:2,vertical:3,verticalScrollbarSize:7,handleMouseWheel:!0,useShadows:!0}));const F=this.scrollableElement.getDomNode();F.style.position="",this._register((0,k.addDisposableListener)(I,m.EventType.Change,O=>{k.EventHelper.stop(O,!0);const M=this.scrollableElement.getScrollPosition().scrollTop;this.scrollableElement.setScrollPosition({scrollTop:M-O.translationY})})),this._register((0,k.addDisposableListener)(F,k.EventType.MOUSE_UP,O=>{O.preventDefault()})),I.style.maxHeight=`${Math.max(10,window.innerHeight-y.getBoundingClientRect().top-35)}px`,E=E.filter(O=>{var M;return!((M=T.submenuIds)===null||M===void 0)&&M.has(O.id)?(console.warn(`Found submenu cycle: ${O.id}`),!1):!0}),this.push(E,{icon:!0,label:!0,isMenu:!0}),y.appendChild(this.scrollableElement.getDomNode()),this.scrollableElement.scanDomNode(),this.viewItems.filter(O=>!(O instanceof S)).forEach((O,M,N)=>{O.updatePositionInSet(M+1,N.length)})}initializeOrUpdateStyleSheet(y,E){this.styleSheet||((0,k.isInShadowDOM)(y)?this.styleSheet=(0,k.createStyleSheet)(y):(a.globalStyleSheet||(a.globalStyleSheet=(0,k.createStyleSheet)()),this.styleSheet=a.globalStyleSheet)),this.styleSheet.textContent=v(E,(0,k.isInShadowDOM)(y))}style(y){const E=this.getContainer();this.initializeOrUpdateStyleSheet(E,y);const T=y.foregroundColor?`${y.foregroundColor}`:"",I=y.backgroundColor?`${y.backgroundColor}`:"",R=y.borderColor?`1px solid ${y.borderColor}`:"",F="5px",O=y.shadowColor?`0 2px 8px ${y.shadowColor}`:"";E.style.outline=R,E.style.borderRadius=F,E.style.color=T,E.style.backgroundColor=I,E.style.boxShadow=O,this.viewItems&&this.viewItems.forEach(M=>{(M instanceof u||M instanceof S)&&M.style(y)})}getContainer(){return this.scrollableElement.getDomNode()}get onScroll(){return this.scrollableElement.onScroll}focusItemByElement(y){const E=this.focusedItem;this.setFocusedItem(y),E!==this.focusedItem&&this.updateFocus()}setFocusedItem(y){for(let E=0;E<this.actionsList.children.length;E++){const T=this.actionsList.children[E];if(y===T){this.focusedItem=E;break}}}updateFocus(y){super.updateFocus(y,!0,!0),typeof this.focusedItem<"u"&&this.scrollableElement.setScrollPosition({scrollTop:Math.round(this.menuElement.scrollTop)})}doGetActionViewItem(y,E,T){if(y instanceof i.Separator)return new S(E.context,y,{icon:!0});if(y instanceof i.SubmenuAction){const I=new p(y,y.actions,T,Object.assign(Object.assign({},E),{submenuIds:new Set([...E.submenuIds||[],y.id])}));if(E.enableMnemonics){const R=I.getMnemonic();if(R&&I.isEnabled()){let F=[];this.mnemonics.has(R)&&(F=this.mnemonics.get(R)),F.push(I),this.mnemonics.set(R,F)}}return I}else{const I={enableMnemonics:E.enableMnemonics,useEventAsContext:E.useEventAsContext};if(E.getKeyBinding){const F=E.getKeyBinding(y);if(F){const O=F.getLabel();O&&(I.keybinding=O)}}const R=new u(E.context,y,I);if(E.enableMnemonics){const F=R.getMnemonic();if(F&&R.isEnabled()){let O=[];this.mnemonics.has(F)&&(O=this.mnemonics.get(F)),O.push(R),this.mnemonics.set(F,O)}}return R}}}e.Menu=a;class u extends C.BaseActionViewItem{constructor(y,E,T={}){if(T.isMenu=!0,super(E,E,T),this.options=T,this.options.icon=T.icon!==void 0?T.icon:!1,this.options.label=T.label!==void 0?T.label:!0,this.cssClass="",this.options.label&&T.enableMnemonics){const I=this.action.label;if(I){const R=e.MENU_MNEMONIC_REGEX.exec(I);R&&(this.mnemonic=(R[1]?R[1]:R[3]).toLocaleLowerCase())}}this.runOnceToEnableMouseUp=new n.RunOnceScheduler(()=>{!this.element||(this._register((0,k.addDisposableListener)(this.element,k.EventType.MOUSE_UP,I=>{if(k.EventHelper.stop(I,!0),w.isFirefox){if(new L.StandardMouseEvent(I).rightButton)return;this.onClick(I)}else setTimeout(()=>{this.onClick(I)},0)})),this._register((0,k.addDisposableListener)(this.element,k.EventType.CONTEXT_MENU,I=>{k.EventHelper.stop(I,!0)})))},100),this._register(this.runOnceToEnableMouseUp)}render(y){super.render(y),this.element&&(this.container=y,this.item=(0,k.append)(this.element,(0,k.$)("a.action-menu-item")),this._action.id===i.Separator.ID?this.item.setAttribute("role","presentation"):(this.item.setAttribute("role","menuitem"),this.mnemonic&&this.item.setAttribute("aria-keyshortcuts",`${this.mnemonic}`)),this.check=(0,k.append)(this.item,(0,k.$)("span.menu-item-check"+o.Codicon.menuSelection.cssSelector)),this.check.setAttribute("role","none"),this.label=(0,k.append)(this.item,(0,k.$)("span.action-label")),this.options.label&&this.options.keybinding&&((0,k.append)(this.item,(0,k.$)("span.keybinding")).textContent=this.options.keybinding),this.runOnceToEnableMouseUp.schedule(),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked())}blur(){super.blur(),this.applyStyle()}focus(){var y;super.focus(),(y=this.item)===null||y===void 0||y.focus(),this.applyStyle()}updatePositionInSet(y,E){this.item&&(this.item.setAttribute("aria-posinset",`${y}`),this.item.setAttribute("aria-setsize",`${E}`))}updateLabel(){var y;if(!!this.label&&this.options.label){(0,k.clearNode)(this.label);let E=(0,l.stripIcons)(this.action.label);if(E){const T=f(E);this.options.enableMnemonics||(E=T),this.label.setAttribute("aria-label",T.replace(/&&/g,"&"));const I=e.MENU_MNEMONIC_REGEX.exec(E);if(I){E=r.escape(E),e.MENU_ESCAPED_MNEMONIC_REGEX.lastIndex=0;let R=e.MENU_ESCAPED_MNEMONIC_REGEX.exec(E);for(;R&&R[1];)R=e.MENU_ESCAPED_MNEMONIC_REGEX.exec(E);const F=O=>O.replace(/&amp;&amp;/g,"&amp;");R?this.label.append(r.ltrim(F(E.substr(0,R.index))," "),(0,k.$)("u",{"aria-hidden":"true"},R[3]),r.rtrim(F(E.substr(R.index+R[0].length))," ")):this.label.innerText=F(E).trim(),(y=this.item)===null||y===void 0||y.setAttribute("aria-keyshortcuts",(I[1]?I[1]:I[3]).toLocaleLowerCase())}else this.label.innerText=E.replace(/&&/g,"&").trim()}}}updateTooltip(){}updateClass(){this.cssClass&&this.item&&this.item.classList.remove(...this.cssClass.split(" ")),this.options.icon&&this.label?(this.cssClass=this.action.class||"",this.label.classList.add("icon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" ")),this.updateEnabled()):this.label&&this.label.classList.remove("icon")}updateEnabled(){this.action.enabled?(this.element&&(this.element.classList.remove("disabled"),this.element.removeAttribute("aria-disabled")),this.item&&(this.item.classList.remove("disabled"),this.item.removeAttribute("aria-disabled"),this.item.tabIndex=0)):(this.element&&(this.element.classList.add("disabled"),this.element.setAttribute("aria-disabled","true")),this.item&&(this.item.classList.add("disabled"),this.item.setAttribute("aria-disabled","true")))}updateChecked(){if(!this.item)return;const y=this.action.checked;this.item.classList.toggle("checked",!!y),y!==void 0?(this.item.setAttribute("role","menuitemcheckbox"),this.item.setAttribute("aria-checked",y?"true":"false")):(this.item.setAttribute("role","menuitem"),this.item.setAttribute("aria-checked",""))}getMnemonic(){return this.mnemonic}applyStyle(){if(!this.menuStyle)return;const y=this.element&&this.element.classList.contains("focused"),E=y&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor,T=y&&this.menuStyle.selectionBackgroundColor?this.menuStyle.selectionBackgroundColor:void 0,I=y&&this.menuStyle.selectionBorderColor?`1px solid ${this.menuStyle.selectionBorderColor}`:"",R=y&&this.menuStyle.selectionBorderColor?"-1px":"";this.item&&(this.item.style.color=E?E.toString():"",this.item.style.backgroundColor=T?T.toString():"",this.item.style.outline=I,this.item.style.outlineOffset=R),this.check&&(this.check.style.color=E?E.toString():"")}style(y){this.menuStyle=y,this.applyStyle()}}class p extends u{constructor(y,E,T,I){super(y,y,I),this.submenuActions=E,this.parentData=T,this.submenuOptions=I,this.mysubmenu=null,this.submenuDisposables=this._register(new c.DisposableStore),this.mouseOver=!1,this.expandDirection=I&&I.expandDirection!==void 0?I.expandDirection:s.Right,this.showScheduler=new n.RunOnceScheduler(()=>{this.mouseOver&&(this.cleanupExistingSubmenu(!1),this.createSubmenu(!1))},250),this.hideScheduler=new n.RunOnceScheduler(()=>{this.element&&!(0,k.isAncestor)((0,k.getActiveElement)(),this.element)&&this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))},750)}render(y){super.render(y),this.element&&(this.item&&(this.item.classList.add("monaco-submenu-item"),this.item.tabIndex=0,this.item.setAttribute("aria-haspopup","true"),this.updateAriaExpanded("false"),this.submenuIndicator=(0,k.append)(this.item,(0,k.$)("span.submenu-indicator"+o.Codicon.menuSubmenu.cssSelector)),this.submenuIndicator.setAttribute("aria-hidden","true")),this._register((0,k.addDisposableListener)(this.element,k.EventType.KEY_UP,E=>{const T=new D.StandardKeyboardEvent(E);(T.equals(17)||T.equals(3))&&(k.EventHelper.stop(E,!0),this.createSubmenu(!0))})),this._register((0,k.addDisposableListener)(this.element,k.EventType.KEY_DOWN,E=>{const T=new D.StandardKeyboardEvent(E);(0,k.getActiveElement)()===this.item&&(T.equals(17)||T.equals(3))&&k.EventHelper.stop(E,!0)})),this._register((0,k.addDisposableListener)(this.element,k.EventType.MOUSE_OVER,E=>{this.mouseOver||(this.mouseOver=!0,this.showScheduler.schedule())})),this._register((0,k.addDisposableListener)(this.element,k.EventType.MOUSE_LEAVE,E=>{this.mouseOver=!1})),this._register((0,k.addDisposableListener)(this.element,k.EventType.FOCUS_OUT,E=>{this.element&&!(0,k.isAncestor)((0,k.getActiveElement)(),this.element)&&this.hideScheduler.schedule()})),this._register(this.parentData.parent.onScroll(()=>{this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))})))}updateEnabled(){}onClick(y){k.EventHelper.stop(y,!0),this.cleanupExistingSubmenu(!1),this.createSubmenu(!0)}cleanupExistingSubmenu(y){if(this.parentData.submenu&&(y||this.parentData.submenu!==this.mysubmenu)){try{this.parentData.submenu.dispose()}catch{}this.parentData.submenu=void 0,this.updateAriaExpanded("false"),this.submenuContainer&&(this.submenuDisposables.clear(),this.submenuContainer=void 0)}}calculateSubmenuMenuLayout(y,E,T,I){const R={top:0,left:0};return R.left=(0,g.layout)(y.width,E.width,{position:I===s.Right?0:1,offset:T.left,size:T.width}),R.left>=T.left&&R.left<T.left+T.width&&(T.left+10+E.width<=y.width&&(R.left=T.left+10),T.top+=10,T.height=0),R.top=(0,g.layout)(y.height,E.height,{position:0,offset:T.top,size:0}),R.top+E.height===T.top&&R.top+T.height+E.height<=y.height&&(R.top+=T.height),R}createSubmenu(y=!0){if(!!this.element)if(this.parentData.submenu)this.parentData.submenu.focus(!1);else{this.updateAriaExpanded("true"),this.submenuContainer=(0,k.append)(this.element,(0,k.$)("div.monaco-submenu")),this.submenuContainer.classList.add("menubar-menu-items-holder","context-view");const E=getComputedStyle(this.parentData.parent.domNode),T=parseFloat(E.paddingTop||"0")||0;this.submenuContainer.style.zIndex="1",this.submenuContainer.style.position="fixed",this.submenuContainer.style.top="0",this.submenuContainer.style.left="0",this.parentData.submenu=new a(this.submenuContainer,this.submenuActions.length?this.submenuActions:[new i.EmptySubmenuAction],this.submenuOptions),this.menuStyle&&this.parentData.submenu.style(this.menuStyle);const I=this.element.getBoundingClientRect(),R={top:I.top-T,left:I.left,height:I.height+2*T,width:I.width},F=this.submenuContainer.getBoundingClientRect(),{top:O,left:M}=this.calculateSubmenuMenuLayout(new k.Dimension(window.innerWidth,window.innerHeight),k.Dimension.lift(F),R,this.expandDirection);this.submenuContainer.style.left=`${M-F.left}px`,this.submenuContainer.style.top=`${O-F.top}px`,this.submenuDisposables.add((0,k.addDisposableListener)(this.submenuContainer,k.EventType.KEY_UP,N=>{new D.StandardKeyboardEvent(N).equals(15)&&(k.EventHelper.stop(N,!0),this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0))})),this.submenuDisposables.add((0,k.addDisposableListener)(this.submenuContainer,k.EventType.KEY_DOWN,N=>{new D.StandardKeyboardEvent(N).equals(15)&&k.EventHelper.stop(N,!0)})),this.submenuDisposables.add(this.parentData.submenu.onDidCancel(()=>{this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0)})),this.parentData.submenu.focus(y),this.mysubmenu=this.parentData.submenu}}updateAriaExpanded(y){var E;this.item&&((E=this.item)===null||E===void 0||E.setAttribute("aria-expanded",y))}applyStyle(){var y;if(super.applyStyle(),!this.menuStyle)return;const T=this.element&&this.element.classList.contains("focused")&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor;this.submenuIndicator&&(this.submenuIndicator.style.color=T?`${T}`:""),(y=this.parentData.submenu)===null||y===void 0||y.style(this.menuStyle)}dispose(){super.dispose(),this.hideScheduler.dispose(),this.mysubmenu&&(this.mysubmenu.dispose(),this.mysubmenu=null),this.submenuContainer&&(this.submenuContainer=void 0)}}class S extends C.ActionViewItem{style(y){this.label&&(this.label.style.borderBottomColor=y.separatorColor?`${y.separatorColor}`:"")}}function f(_){const y=e.MENU_MNEMONIC_REGEX,E=y.exec(_);if(!E)return _;const T=!E[1];return _.replace(y,T?"$2$3":"").trim()}e.cleanMnemonic=f;function v(_,y){let E=`
.monaco-menu {
	font-size: 13px;
	border-radius: 5px;
	min-width: 160px;
}

${(0,h.formatRule)(o.Codicon.menuSelection)}
${(0,h.formatRule)(o.Codicon.menuSubmenu)}

.monaco-menu .monaco-action-bar {
	text-align: right;
	overflow: hidden;
	white-space: nowrap;
}

.monaco-menu .monaco-action-bar .actions-container {
	display: flex;
	margin: 0 auto;
	padding: 0;
	width: 100%;
	justify-content: flex-end;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: inline-block;
}

.monaco-menu .monaco-action-bar.reverse .actions-container {
	flex-direction: row-reverse;
}

.monaco-menu .monaco-action-bar .action-item {
	cursor: pointer;
	display: inline-block;
	transition: transform 50ms ease;
	position: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */
}

.monaco-menu .monaco-action-bar .action-item.disabled {
	cursor: default;
}

.monaco-menu .monaco-action-bar.animated .action-item.active {
	transform: scale(1.272019649, 1.272019649); /* 1.272019649 = \u221A\u03C6 */
}

.monaco-menu .monaco-action-bar .action-item .icon,
.monaco-menu .monaco-action-bar .action-item .codicon {
	display: inline-block;
}

.monaco-menu .monaco-action-bar .action-item .codicon {
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar .action-label {
	font-size: 11px;
	margin-right: 4px;
}

.monaco-menu .monaco-action-bar .action-item.disabled .action-label,
.monaco-menu .monaco-action-bar .action-item.disabled .action-label:hover {
	color: var(--vscode-disabledForeground);
}

/* Vertical actions */

.monaco-menu .monaco-action-bar.vertical {
	text-align: left;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	display: block;
	border-bottom: 1px solid var(--vscode-menu-separatorBackground);
	padding-top: 1px;
	padding: 30px;
}

.monaco-menu .secondary-actions .monaco-action-bar .action-label {
	margin-left: 6px;
}

/* Action Items */
.monaco-menu .monaco-action-bar .action-item.select-container {
	overflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */
	flex: 1;
	max-width: 170px;
	min-width: 60px;
	display: flex;
	align-items: center;
	justify-content: center;
	margin-right: 10px;
}

.monaco-menu .monaco-action-bar.vertical {
	margin-left: 0;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	padding: 0;
	transform: none;
	display: flex;
}

.monaco-menu .monaco-action-bar.vertical .action-item.active {
	transform: none;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	flex: 1 1 auto;
	display: flex;
	height: 2em;
	align-items: center;
	position: relative;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item:hover .keybinding,
.monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .keybinding {
	opacity: unset;
}

.monaco-menu .monaco-action-bar.vertical .action-label {
	flex: 1 1 auto;
	text-decoration: none;
	padding: 0 1em;
	background: none;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .keybinding,
.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	display: inline-block;
	flex: 2 1 auto;
	padding: 0 1em;
	text-align: right;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon {
	font-size: 16px !important;
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon::before {
	margin-left: auto;
	margin-right: -20px;
}

.monaco-menu .monaco-action-bar.vertical .action-item.disabled .keybinding,
.monaco-menu .monaco-action-bar.vertical .action-item.disabled .submenu-indicator {
	opacity: 0.4;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator) {
	display: inline-block;
	box-sizing: border-box;
	margin: 0;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	position: static;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .action-item .monaco-submenu {
	position: absolute;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	width: 100%;
	height: 0px !important;
	opacity: 1;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator.text {
	padding: 0.7em 1em 0.1em 1em;
	font-weight: bold;
	opacity: 1;
}

.monaco-menu .monaco-action-bar.vertical .action-label:hover {
	color: inherit;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	position: absolute;
	visibility: hidden;
	width: 1em;
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item.checked .menu-item-check {
	visibility: visible;
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Context Menu */

.context-view.monaco-menu-container {
	outline: 0;
	border: none;
	animation: fadeIn 0.083s linear;
	-webkit-app-region: no-drag;
}

.context-view.monaco-menu-container :focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical:focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical :focus {
	outline: 0;
}

.hc-black .context-view.monaco-menu-container,
.hc-light .context-view.monaco-menu-container,
:host-context(.hc-black) .context-view.monaco-menu-container,
:host-context(.hc-light) .context-view.monaco-menu-container {
	box-shadow: none;
}

.hc-black .monaco-menu .monaco-action-bar.vertical .action-item.focused,
.hc-light .monaco-menu .monaco-action-bar.vertical .action-item.focused,
:host-context(.hc-black) .monaco-menu .monaco-action-bar.vertical .action-item.focused,
:host-context(.hc-light) .monaco-menu .monaco-action-bar.vertical .action-item.focused {
	background: none;
}

/* Vertical Action Bar Styles */

.monaco-menu .monaco-action-bar.vertical {
	padding: .6em 0;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	height: 2em;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator),
.monaco-menu .monaco-action-bar.vertical .keybinding {
	font-size: inherit;
	padding: 0 2em;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	font-size: inherit;
	width: 2em;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	font-size: inherit;
	margin: 5px 0 !important;
	padding: 0;
	border-radius: 0;
}

.linux .monaco-menu .monaco-action-bar.vertical .action-label.separator,
:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .action-label.separator {
	margin-left: 0;
	margin-right: 0;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	font-size: 60%;
	padding: 0 1.8em;
}

.linux .monaco-menu .monaco-action-bar.vertical .submenu-indicator {
:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
	mask-size: 10px 10px;
	-webkit-mask-size: 10px 10px;
}

.monaco-menu .action-item {
	cursor: default;
}`;if(y){E+=`
			/* Arrows */
			.monaco-scrollable-element > .scrollbar > .scra {
				cursor: pointer;
				font-size: 11px !important;
			}

			.monaco-scrollable-element > .visible {
				opacity: 1;

				/* Background rule added for IE9 - to allow clicks on dom node */
				background:rgba(0,0,0,0);

				transition: opacity 100ms linear;
			}
			.monaco-scrollable-element > .invisible {
				opacity: 0;
				pointer-events: none;
			}
			.monaco-scrollable-element > .invisible.fade {
				transition: opacity 800ms linear;
			}

			/* Scrollable Content Inset Shadow */
			.monaco-scrollable-element > .shadow {
				position: absolute;
				display: none;
			}
			.monaco-scrollable-element > .shadow.top {
				display: block;
				top: 0;
				left: 3px;
				height: 3px;
				width: 100%;
			}
			.monaco-scrollable-element > .shadow.left {
				display: block;
				top: 3px;
				left: 0;
				height: 100%;
				width: 3px;
			}
			.monaco-scrollable-element > .shadow.top-left-corner {
				display: block;
				top: 0;
				left: 0;
				height: 3px;
				width: 3px;
			}
		`;const T=_.scrollbarShadow;T&&(E+=`
				.monaco-scrollable-element > .shadow.top {
					box-shadow: ${T} 0 6px 6px -6px inset;
				}

				.monaco-scrollable-element > .shadow.left {
					box-shadow: ${T} 6px 0 6px -6px inset;
				}

				.monaco-scrollable-element > .shadow.top.left {
					box-shadow: ${T} 6px 6px 6px -6px inset;
				}
			`);const I=_.scrollbarSliderBackground;I&&(E+=`
				.monaco-scrollable-element > .scrollbar > .slider {
					background: ${I};
				}
			`);const R=_.scrollbarSliderHoverBackground;R&&(E+=`
				.monaco-scrollable-element > .scrollbar > .slider:hover {
					background: ${R};
				}
			`);const F=_.scrollbarSliderActiveBackground;F&&(E+=`
				.monaco-scrollable-element > .scrollbar > .slider.active {
					background: ${F};
				}
			`)}return E}}),define(se[164],re([1,0,7,86,45,77,206,205,102,163,199,123,43,18,10,27,334,6,62,2,127,19,485,360]),function(q,e,w,m,k,D,L,b,C,h,g,t,i,n,o,l,c,d,r,s,a,u,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractTree=e.TreeFindMode=e.ModeToggle=e.RenderIndentGuides=e.ComposedTreeDelegate=void 0;class S extends b.ElementsDragAndDropData{constructor(K){super(K.elements.map(G=>G.element)),this.data=K}}function f(ie){return ie instanceof b.ElementsDragAndDropData?new S(ie):ie}class v{constructor(K,G){this.modelProvider=K,this.dnd=G,this.autoExpandDisposable=s.Disposable.None}getDragURI(K){return this.dnd.getDragURI(K.element)}getDragLabel(K,G){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(K.map(Q=>Q.element),G)}onDragStart(K,G){var Q,ne;(ne=(Q=this.dnd).onDragStart)===null||ne===void 0||ne.call(Q,f(K),G)}onDragOver(K,G,Q,ne,Z=!0){const ee=this.dnd.onDragOver(f(K),G&&G.element,Q,ne),le=this.autoExpandNode!==G;if(le&&(this.autoExpandDisposable.dispose(),this.autoExpandNode=G),typeof G>"u")return ee;if(le&&typeof ee!="boolean"&&ee.autoExpand&&(this.autoExpandDisposable=(0,o.disposableTimeout)(()=>{const ae=this.modelProvider(),z=ae.getNodeLocation(G);ae.isCollapsed(z)&&ae.setCollapsed(z,!1),this.autoExpandNode=void 0},500)),typeof ee=="boolean"||!ee.accept||typeof ee.bubble>"u"||ee.feedback){if(!Z){const ae=typeof ee=="boolean"?ee:ee.accept,z=typeof ee=="boolean"?void 0:ee.effect;return{accept:ae,effect:z,feedback:[Q]}}return ee}if(ee.bubble===1){const ae=this.modelProvider(),z=ae.getNodeLocation(G),J=ae.getParentNodeLocation(z),Y=ae.getNode(J),H=J&&ae.getListIndex(J);return this.onDragOver(K,Y,H,ne,!1)}const V=this.modelProvider(),$=V.getNodeLocation(G),oe=V.getListIndex($),U=V.getListRenderCount($);return Object.assign(Object.assign({},ee),{feedback:(0,n.range)(oe,oe+U)})}drop(K,G,Q,ne){this.autoExpandDisposable.dispose(),this.autoExpandNode=void 0,this.dnd.drop(f(K),G&&G.element,Q,ne)}onDragEnd(K){var G,Q;(Q=(G=this.dnd).onDragEnd)===null||Q===void 0||Q.call(G,K)}}function _(ie,K){return K&&Object.assign(Object.assign({},K),{identityProvider:K.identityProvider&&{getId(G){return K.identityProvider.getId(G.element)}},dnd:K.dnd&&new v(ie,K.dnd),multipleSelectionController:K.multipleSelectionController&&{isSelectionSingleChangeEvent(G){return K.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},G),{element:G.element}))},isSelectionRangeChangeEvent(G){return K.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},G),{element:G.element}))}},accessibilityProvider:K.accessibilityProvider&&Object.assign(Object.assign({},K.accessibilityProvider),{getSetSize(G){const Q=ie(),ne=Q.getNodeLocation(G),Z=Q.getParentNodeLocation(ne);return Q.getNode(Z).visibleChildrenCount},getPosInSet(G){return G.visibleChildIndex+1},isChecked:K.accessibilityProvider&&K.accessibilityProvider.isChecked?G=>K.accessibilityProvider.isChecked(G.element):void 0,getRole:K.accessibilityProvider&&K.accessibilityProvider.getRole?G=>K.accessibilityProvider.getRole(G.element):()=>"treeitem",getAriaLabel(G){return K.accessibilityProvider.getAriaLabel(G.element)},getWidgetAriaLabel(){return K.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:K.accessibilityProvider&&K.accessibilityProvider.getWidgetRole?()=>K.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:K.accessibilityProvider&&K.accessibilityProvider.getAriaLevel?G=>K.accessibilityProvider.getAriaLevel(G.element):G=>G.depth,getActiveDescendantId:K.accessibilityProvider.getActiveDescendantId&&(G=>K.accessibilityProvider.getActiveDescendantId(G.element))}),keyboardNavigationLabelProvider:K.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},K.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel(G){return K.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(G.element)}})})}class y{constructor(K){this.delegate=K}getHeight(K){return this.delegate.getHeight(K.element)}getTemplateId(K){return this.delegate.getTemplateId(K.element)}hasDynamicHeight(K){return!!this.delegate.hasDynamicHeight&&this.delegate.hasDynamicHeight(K.element)}setDynamicHeight(K,G){var Q,ne;(ne=(Q=this.delegate).setDynamicHeight)===null||ne===void 0||ne.call(Q,K.element,G)}}e.ComposedTreeDelegate=y;var E;(function(ie){ie.None="none",ie.OnHover="onHover",ie.Always="always"})(E=e.RenderIndentGuides||(e.RenderIndentGuides={}));class T{get elements(){return this._elements}constructor(K,G=[]){this._elements=G,this.disposables=new s.DisposableStore,this.onDidChange=d.Event.forEach(K,Q=>this._elements=Q,this.disposables)}dispose(){this.disposables.dispose()}}class I{constructor(K,G,Q,ne,Z,ee={}){var le;this.renderer=K,this.modelProvider=G,this.activeNodes=ne,this.renderedIndentGuides=Z,this.renderedElements=new Map,this.renderedNodes=new Map,this.indent=I.DefaultIndent,this.hideTwistiesOfChildlessElements=!1,this.shouldRenderIndentGuides=!1,this.activeIndentNodes=new Set,this.indentGuidesDisposable=s.Disposable.None,this.disposables=new s.DisposableStore,this.templateId=K.templateId,this.updateOptions(ee),d.Event.map(Q,V=>V.node)(this.onDidChangeNodeTwistieState,this,this.disposables),(le=K.onDidChangeTwistieState)===null||le===void 0||le.call(K,this.onDidChangeTwistieState,this,this.disposables)}updateOptions(K={}){if(typeof K.indent<"u"){const G=(0,a.clamp)(K.indent,0,40);if(G!==this.indent){this.indent=G;for(const[Q,ne]of this.renderedNodes)this.renderTreeElement(Q,ne)}}if(typeof K.renderIndentGuides<"u"){const G=K.renderIndentGuides!==E.None;if(G!==this.shouldRenderIndentGuides&&(this.shouldRenderIndentGuides=G,this.indentGuidesDisposable.dispose(),G)){const Q=new s.DisposableStore;this.activeNodes.onDidChange(this._onDidChangeActiveNodes,this,Q),this.indentGuidesDisposable=Q,this._onDidChangeActiveNodes(this.activeNodes.elements)}}typeof K.hideTwistiesOfChildlessElements<"u"&&(this.hideTwistiesOfChildlessElements=K.hideTwistiesOfChildlessElements)}renderTemplate(K){const G=(0,w.append)(K,(0,w.$)(".monaco-tl-row")),Q=(0,w.append)(G,(0,w.$)(".monaco-tl-indent")),ne=(0,w.append)(G,(0,w.$)(".monaco-tl-twistie")),Z=(0,w.append)(G,(0,w.$)(".monaco-tl-contents")),ee=this.renderer.renderTemplate(Z);return{container:K,indent:Q,twistie:ne,indentGuidesDisposable:s.Disposable.None,templateData:ee}}renderElement(K,G,Q,ne){this.renderedNodes.set(K,Q),this.renderedElements.set(K.element,K),this.renderTreeElement(K,Q),this.renderer.renderElement(K,G,Q.templateData,ne)}disposeElement(K,G,Q,ne){var Z,ee;Q.indentGuidesDisposable.dispose(),(ee=(Z=this.renderer).disposeElement)===null||ee===void 0||ee.call(Z,K,G,Q.templateData,ne),typeof ne=="number"&&(this.renderedNodes.delete(K),this.renderedElements.delete(K.element))}disposeTemplate(K){this.renderer.disposeTemplate(K.templateData)}onDidChangeTwistieState(K){const G=this.renderedElements.get(K);!G||this.onDidChangeNodeTwistieState(G)}onDidChangeNodeTwistieState(K){const G=this.renderedNodes.get(K);!G||(this._onDidChangeActiveNodes(this.activeNodes.elements),this.renderTreeElement(K,G))}renderTreeElement(K,G){const Q=I.DefaultIndent+(K.depth-1)*this.indent;G.twistie.style.paddingLeft=`${Q}px`,G.indent.style.width=`${Q+this.indent-16}px`,K.collapsible?G.container.setAttribute("aria-expanded",String(!K.collapsed)):G.container.removeAttribute("aria-expanded"),G.twistie.classList.remove(...l.Codicon.treeItemExpanded.classNamesArray);let ne=!1;if(this.renderer.renderTwistie&&(ne=this.renderer.renderTwistie(K.element,G.twistie)),K.collapsible&&(!this.hideTwistiesOfChildlessElements||K.visibleChildrenCount>0)?(ne||G.twistie.classList.add(...l.Codicon.treeItemExpanded.classNamesArray),G.twistie.classList.add("collapsible"),G.twistie.classList.toggle("collapsed",K.collapsed)):G.twistie.classList.remove("collapsible","collapsed"),(0,w.clearNode)(G.indent),G.indentGuidesDisposable.dispose(),!this.shouldRenderIndentGuides)return;const Z=new s.DisposableStore,ee=this.modelProvider();for(;;){const le=ee.getNodeLocation(K),V=ee.getParentNodeLocation(le);if(!V)break;const $=ee.getNode(V),oe=(0,w.$)(".indent-guide",{style:`width: ${this.indent}px`});this.activeIndentNodes.has($)&&oe.classList.add("active"),G.indent.childElementCount===0?G.indent.appendChild(oe):G.indent.insertBefore(oe,G.indent.firstElementChild),this.renderedIndentGuides.add($,oe),Z.add((0,s.toDisposable)(()=>this.renderedIndentGuides.delete($,oe))),K=$}G.indentGuidesDisposable=Z}_onDidChangeActiveNodes(K){if(!this.shouldRenderIndentGuides)return;const G=new Set,Q=this.modelProvider();K.forEach(ne=>{const Z=Q.getNodeLocation(ne);try{const ee=Q.getParentNodeLocation(Z);ne.collapsible&&ne.children.length>0&&!ne.collapsed?G.add(ne):ee&&G.add(Q.getNode(ee))}catch{}}),this.activeIndentNodes.forEach(ne=>{G.has(ne)||this.renderedIndentGuides.forEach(ne,Z=>Z.classList.remove("active"))}),G.forEach(ne=>{this.activeIndentNodes.has(ne)||this.renderedIndentGuides.forEach(ne,Z=>Z.classList.add("active"))}),this.activeIndentNodes=G}dispose(){this.renderedNodes.clear(),this.renderedElements.clear(),this.indentGuidesDisposable.dispose(),(0,s.dispose)(this.disposables)}}I.DefaultIndent=8;class R{get totalCount(){return this._totalCount}get matchCount(){return this._matchCount}constructor(K,G,Q){this.tree=K,this.keyboardNavigationLabelProvider=G,this._filter=Q,this._totalCount=0,this._matchCount=0,this._pattern="",this._lowercasePattern="",this.disposables=new s.DisposableStore,K.onWillRefilter(this.reset,this,this.disposables)}filter(K,G){let Q=1;if(this._filter){const ee=this._filter.filter(K,G);if(typeof ee=="boolean"?Q=ee?1:0:(0,g.isFilterResult)(ee)?Q=(0,g.getVisibleState)(ee.visibility):Q=ee,Q===0)return!1}if(this._totalCount++,!this._pattern)return this._matchCount++,{data:r.FuzzyScore.Default,visibility:Q};const ne=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(K),Z=Array.isArray(ne)?ne:[ne];for(const ee of Z){const le=ee&&ee.toString();if(typeof le>"u")return{data:r.FuzzyScore.Default,visibility:Q};const V=(0,r.fuzzyScore)(this._pattern,this._lowercasePattern,0,le,le.toLowerCase(),0,{firstMatchCanBeWeak:!0,boostFullMatch:!0});if(V)return this._matchCount++,Z.length===1?{data:V,visibility:Q}:{data:{label:le,score:V},visibility:Q}}return this.tree.findMode===O.Filter?2:{data:r.FuzzyScore.Default,visibility:Q}}reset(){this._totalCount=0,this._matchCount=0}dispose(){(0,s.dispose)(this.disposables)}}class F extends h.Toggle{constructor(K){var G;super({icon:l.Codicon.listFilter,title:(0,p.localize)(0,null),isChecked:(G=K?.isChecked)!==null&&G!==void 0?G:!1,inputActiveOptionBorder:K?.inputActiveOptionBorder,inputActiveOptionForeground:K?.inputActiveOptionForeground,inputActiveOptionBackground:K?.inputActiveOptionBackground})}}e.ModeToggle=F;var O;(function(ie){ie[ie.Highlight=0]="Highlight",ie[ie.Filter=1]="Filter"})(O=e.TreeFindMode||(e.TreeFindMode={}));class M extends s.Disposable{set mode(K){this.modeToggle.checked=K===O.Filter,this.findInput.inputBox.setPlaceHolder(K===O.Filter?(0,p.localize)(1,null):(0,p.localize)(2,null))}constructor(K,G,Q,ne,Z){super(),this.tree=G,this.elements=(0,w.h)(".monaco-tree-type-filter",[(0,w.h)(".monaco-tree-type-filter-grab.codicon.codicon-debug-gripper@grab",{tabIndex:0}),(0,w.h)(".monaco-tree-type-filter-input@findInput"),(0,w.h)(".monaco-tree-type-filter-actionbar@actionbar")]),this.width=0,this.right=0,this.top=0,this._onDidDisable=new d.Emitter,K.appendChild(this.elements.root),this._register((0,s.toDisposable)(()=>K.removeChild(this.elements.root))),this.modeToggle=this._register(new F(Object.assign(Object.assign({},Z),{isChecked:ne===O.Filter}))),this.onDidChangeMode=d.Event.map(this.modeToggle.onChange,()=>this.modeToggle.checked?O.Filter:O.Highlight,this._store),this.findInput=this._register(new L.FindInput(this.elements.findInput,Q,{label:(0,p.localize)(3,null),additionalToggles:[this.modeToggle],showCommonFindToggles:!1})),this.actionbar=this._register(new D.ActionBar(this.elements.actionbar)),this.mode=ne;const ee=this._register(new m.DomEmitter(this.findInput.inputBox.inputElement,"keydown")),le=this._register(d.Event.chain(ee.event)).map(U=>new k.StandardKeyboardEvent(U)).event;this._register(le(U=>{switch(U.keyCode){case 18:U.preventDefault(),U.stopPropagation(),this.tree.domFocus();return}}));const V=this._register(new i.Action("close",(0,p.localize)(4,null),"codicon codicon-close",!0,()=>this.dispose()));this.actionbar.push(V,{icon:!0,label:!1});const $=this._register(new m.DomEmitter(this.elements.grab,"mousedown"));this._register($.event(U=>{const ae=new s.DisposableStore,z=ae.add(new m.DomEmitter(window,"mousemove")),J=ae.add(new m.DomEmitter(window,"mouseup")),Y=this.right,H=U.pageX,j=this.top,de=U.pageY;this.elements.grab.classList.add("grabbing");const ue=this.elements.root.style.transition;this.elements.root.style.transition="unset";const ce=ge=>{const ve=ge.pageX-H;this.right=Y-ve;const _e=ge.pageY-de;this.top=j+_e,this.layout()};ae.add(z.event(ce)),ae.add(J.event(ge=>{ce(ge),this.elements.grab.classList.remove("grabbing"),this.elements.root.style.transition=ue,ae.dispose()}))}));const oe=this._register(d.Event.chain(this._register(new m.DomEmitter(this.elements.grab,"keydown")).event)).map(U=>new k.StandardKeyboardEvent(U)).event;this._register(oe(U=>{let ae,z;if(U.keyCode===15?ae=Number.POSITIVE_INFINITY:U.keyCode===17?ae=0:U.keyCode===10&&(ae=this.right===0?Number.POSITIVE_INFINITY:0),U.keyCode===16?z=0:U.keyCode===18&&(z=Number.POSITIVE_INFINITY),ae!==void 0&&(U.preventDefault(),U.stopPropagation(),this.right=ae,this.layout()),z!==void 0){U.preventDefault(),U.stopPropagation(),this.top=z;const J=this.elements.root.style.transition;this.elements.root.style.transition="unset",this.layout(),setTimeout(()=>{this.elements.root.style.transition=J},0)}})),this.onDidChangeValue=this.findInput.onDidChange,this.style(Z??{})}style(K){this.findInput.style(K),K.listFilterWidgetBackground&&(this.elements.root.style.backgroundColor=K.listFilterWidgetBackground.toString()),K.listFilterWidgetShadow&&(this.elements.root.style.boxShadow=`0 0 8px 2px ${K.listFilterWidgetShadow}`)}layout(K=this.width){this.width=K,this.right=(0,a.clamp)(this.right,0,Math.max(0,K-212)),this.elements.root.style.right=`${this.right}px`,this.top=(0,a.clamp)(this.top,0,24),this.elements.root.style.top=`${this.top}px`}showMessage(K){this.findInput.showMessage(K)}clearMessage(){this.findInput.clearMessage()}dispose(){const K=Object.create(null,{dispose:{get:()=>super.dispose}});return Se(this,void 0,void 0,function*(){this._onDidDisable.fire(),this.elements.root.classList.add("disabled"),yield(0,o.timeout)(300),K.dispose.call(this)})}}class N{get pattern(){return this._pattern}get mode(){return this._mode}set mode(K){K!==this._mode&&(this._mode=K,this.widget&&(this.widget.mode=this._mode),this.tree.refilter(),this.render(),this._onDidChangeMode.fire(K))}constructor(K,G,Q,ne,Z){var ee;this.tree=K,this.view=Q,this.filter=ne,this.contextViewProvider=Z,this._pattern="",this.width=0,this._onDidChangeMode=new d.Emitter,this.onDidChangeMode=this._onDidChangeMode.event,this._onDidChangePattern=new d.Emitter,this._onDidChangeOpenState=new d.Emitter,this.onDidChangeOpenState=this._onDidChangeOpenState.event,this.enabledDisposables=new s.DisposableStore,this.disposables=new s.DisposableStore,this._mode=(ee=K.options.defaultFindMode)!==null&&ee!==void 0?ee:O.Highlight,G.onDidSplice(this.onDidSpliceModel,this,this.disposables)}onDidSpliceModel(){!this.widget||this.pattern.length===0||(this.tree.refilter(),this.render())}render(){var K,G,Q,ne;const Z=this.filter.totalCount>0&&this.filter.matchCount===0;this.pattern&&Z?!((K=this.tree.options.showNotFoundMessage)!==null&&K!==void 0)||K?(G=this.widget)===null||G===void 0||G.showMessage({type:2,content:(0,p.localize)(5,null)}):(Q=this.widget)===null||Q===void 0||Q.showMessage({type:2}):(ne=this.widget)===null||ne===void 0||ne.clearMessage()}shouldAllowFocus(K){return!this.widget||!this.pattern||this._mode===O.Filter||this.filter.totalCount>0&&this.filter.matchCount<=1?!0:!r.FuzzyScore.isDefault(K.filterData)}style(K){var G;this.styles=K,(G=this.widget)===null||G===void 0||G.style(K)}layout(K){var G;this.width=K,(G=this.widget)===null||G===void 0||G.layout(K)}dispose(){this._onDidChangePattern.dispose(),this.enabledDisposables.dispose(),this.disposables.dispose()}}function A(ie){let K=t.TreeMouseEventTarget.Unknown;return(0,w.hasParentWithClass)(ie.browserEvent.target,"monaco-tl-twistie","monaco-tl-row")?K=t.TreeMouseEventTarget.Twistie:(0,w.hasParentWithClass)(ie.browserEvent.target,"monaco-tl-contents","monaco-tl-row")?K=t.TreeMouseEventTarget.Element:(0,w.hasParentWithClass)(ie.browserEvent.target,"monaco-tree-type-filter","monaco-list")&&(K=t.TreeMouseEventTarget.Filter),{browserEvent:ie.browserEvent,element:ie.element?ie.element.element:null,target:K}}function B(ie,K){K(ie),ie.children.forEach(G=>B(G,K))}class W{get nodeSet(){return this._nodeSet||(this._nodeSet=this.createNodeSet()),this._nodeSet}constructor(K,G){this.getFirstViewElementWithTrait=K,this.identityProvider=G,this.nodes=[],this._onDidChange=new d.Emitter,this.onDidChange=this._onDidChange.event}set(K,G){!G?.__forceEvent&&(0,n.equals)(this.nodes,K)||this._set(K,!1,G)}_set(K,G,Q){if(this.nodes=[...K],this.elements=void 0,this._nodeSet=void 0,!G){const ne=this;this._onDidChange.fire({get elements(){return ne.get()},browserEvent:Q})}}get(){return this.elements||(this.elements=this.nodes.map(K=>K.element)),[...this.elements]}getNodes(){return this.nodes}has(K){return this.nodeSet.has(K)}onDidModelSplice({insertedNodes:K,deletedNodes:G}){if(!this.identityProvider){const V=this.createNodeSet(),$=oe=>V.delete(oe);G.forEach(oe=>B(oe,$)),this.set([...V.values()]);return}const Q=new Set,ne=V=>Q.add(this.identityProvider.getId(V.element).toString());G.forEach(V=>B(V,ne));const Z=new Map,ee=V=>Z.set(this.identityProvider.getId(V.element).toString(),V);K.forEach(V=>B(V,ee));const le=[];for(const V of this.nodes){const $=this.identityProvider.getId(V.element).toString();if(!Q.has($))le.push(V);else{const U=Z.get($);U&&le.push(U)}}if(this.nodes.length>0&&le.length===0){const V=this.getFirstViewElementWithTrait();V&&le.push(V)}this._set(le,!0)}createNodeSet(){const K=new Set;for(const G of this.nodes)K.add(G);return K}}class x extends C.MouseController{constructor(K,G){super(K),this.tree=G}onViewPointer(K){if((0,C.isButton)(K.browserEvent.target)||(0,C.isInputElement)(K.browserEvent.target)||(0,C.isMonacoEditor)(K.browserEvent.target))return;const G=K.element;if(!G)return super.onViewPointer(K);if(this.isSelectionRangeChangeEvent(K)||this.isSelectionSingleChangeEvent(K))return super.onViewPointer(K);const Q=K.browserEvent.target,ne=Q.classList.contains("monaco-tl-twistie")||Q.classList.contains("monaco-icon-label")&&Q.classList.contains("folder-icon")&&K.browserEvent.offsetX<16;let Z=!1;if(typeof this.tree.expandOnlyOnTwistieClick=="function"?Z=this.tree.expandOnlyOnTwistieClick(G.element):Z=!!this.tree.expandOnlyOnTwistieClick,Z&&!ne&&K.browserEvent.detail!==2)return super.onViewPointer(K);if(!this.tree.expandOnDoubleClick&&K.browserEvent.detail===2)return super.onViewPointer(K);if(G.collapsible){const ee=this.tree.model,le=ee.getNodeLocation(G),V=K.browserEvent.altKey;if(this.tree.setFocus([le]),ee.setCollapsed(le,void 0,V),Z&&ne)return}super.onViewPointer(K)}onDoubleClick(K){K.browserEvent.target.classList.contains("monaco-tl-twistie")||!this.tree.expandOnDoubleClick||super.onDoubleClick(K)}}class P extends C.List{constructor(K,G,Q,ne,Z,ee,le,V){super(K,G,Q,ne,V),this.focusTrait=Z,this.selectionTrait=ee,this.anchorTrait=le}createMouseController(K){return new x(this,K.tree)}splice(K,G,Q=[]){if(super.splice(K,G,Q),Q.length===0)return;const ne=[],Z=[];let ee;Q.forEach((le,V)=>{this.focusTrait.has(le)&&ne.push(K+V),this.selectionTrait.has(le)&&Z.push(K+V),this.anchorTrait.has(le)&&(ee=K+V)}),ne.length>0&&super.setFocus((0,n.distinct)([...super.getFocus(),...ne])),Z.length>0&&super.setSelection((0,n.distinct)([...super.getSelection(),...Z])),typeof ee=="number"&&super.setAnchor(ee)}setFocus(K,G,Q=!1){super.setFocus(K,G),Q||this.focusTrait.set(K.map(ne=>this.element(ne)),G)}setSelection(K,G,Q=!1){super.setSelection(K,G),Q||this.selectionTrait.set(K.map(ne=>this.element(ne)),G)}setAnchor(K,G=!1){super.setAnchor(K),G||(typeof K>"u"?this.anchorTrait.set([]):this.anchorTrait.set([this.element(K)]))}}class X{get onDidChangeFocus(){return this.eventBufferer.wrapEvent(this.focus.onDidChange)}get onDidChangeSelection(){return this.eventBufferer.wrapEvent(this.selection.onDidChange)}get onMouseDblClick(){return d.Event.filter(d.Event.map(this.view.onMouseDblClick,A),K=>K.target!==t.TreeMouseEventTarget.Filter)}get onPointer(){return d.Event.map(this.view.onPointer,A)}get onDidFocus(){return this.view.onDidFocus}get onDidChangeModel(){return d.Event.signal(this.model.onDidSplice)}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get findMode(){var K,G;return(G=(K=this.findController)===null||K===void 0?void 0:K.mode)!==null&&G!==void 0?G:O.Highlight}set findMode(K){this.findController&&(this.findController.mode=K)}get expandOnDoubleClick(){return typeof this._options.expandOnDoubleClick>"u"?!0:this._options.expandOnDoubleClick}get expandOnlyOnTwistieClick(){return typeof this._options.expandOnlyOnTwistieClick>"u"?!0:this._options.expandOnlyOnTwistieClick}get onDidDispose(){return this.view.onDidDispose}constructor(K,G,Q,ne,Z={}){var ee;this._user=K,this._options=Z,this.eventBufferer=new d.EventBufferer,this.onDidChangeFindOpenState=d.Event.None,this.disposables=new s.DisposableStore,this._onWillRefilter=new d.Emitter,this.onWillRefilter=this._onWillRefilter.event,this._onDidUpdateOptions=new d.Emitter;const le=new y(Q),V=new d.Relay,$=new d.Relay,oe=this.disposables.add(new T($.event)),U=new c.SetMap;this.renderers=ne.map(J=>new I(J,()=>this.model,V.event,oe,U,Z));for(const J of this.renderers)this.disposables.add(J);let ae;Z.keyboardNavigationLabelProvider&&(ae=new R(this,Z.keyboardNavigationLabelProvider,Z.filter),Z=Object.assign(Object.assign({},Z),{filter:ae}),this.disposables.add(ae)),this.focus=new W(()=>this.view.getFocusedElements()[0],Z.identityProvider),this.selection=new W(()=>this.view.getSelectedElements()[0],Z.identityProvider),this.anchor=new W(()=>this.view.getAnchorElement(),Z.identityProvider),this.view=new P(K,G,le,this.renderers,this.focus,this.selection,this.anchor,Object.assign(Object.assign({},_(()=>this.model,Z)),{tree:this})),this.model=this.createModel(K,this.view,Z),V.input=this.model.onDidChangeCollapseState;const z=d.Event.forEach(this.model.onDidSplice,J=>{this.eventBufferer.bufferEvents(()=>{this.focus.onDidModelSplice(J),this.selection.onDidModelSplice(J)})},this.disposables);if(z(()=>null,null,this.disposables),$.input=d.Event.chain(d.Event.any(z,this.focus.onDidChange,this.selection.onDidChange)).debounce(()=>null,0).map(()=>{const J=new Set;for(const Y of this.focus.getNodes())J.add(Y);for(const Y of this.selection.getNodes())J.add(Y);return[...J.values()]}).event,Z.keyboardSupport!==!1){const J=d.Event.chain(this.view.onKeyDown).filter(Y=>!(0,C.isInputElement)(Y.target)).map(Y=>new k.StandardKeyboardEvent(Y));J.filter(Y=>Y.keyCode===15).on(this.onLeftArrow,this,this.disposables),J.filter(Y=>Y.keyCode===17).on(this.onRightArrow,this,this.disposables),J.filter(Y=>Y.keyCode===10).on(this.onSpace,this,this.disposables)}((ee=Z.findWidgetEnabled)!==null&&ee!==void 0?ee:!0)&&Z.keyboardNavigationLabelProvider&&Z.contextViewProvider?(this.findController=new N(this,this.model,this.view,ae,Z.contextViewProvider),this.focusNavigationFilter=J=>this.findController.shouldAllowFocus(J),this.onDidChangeFindOpenState=this.findController.onDidChangeOpenState,this.disposables.add(this.findController),this.onDidChangeFindMode=this.findController.onDidChangeMode):this.onDidChangeFindMode=d.Event.None,this.styleElement=(0,w.createStyleSheet)(this.view.getHTMLElement()),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===E.Always)}updateOptions(K={}){this._options=Object.assign(Object.assign({},this._options),K);for(const G of this.renderers)G.updateOptions(K);this.view.updateOptions(this._options),this._onDidUpdateOptions.fire(this._options),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===E.Always)}get options(){return this._options}getHTMLElement(){return this.view.getHTMLElement()}get scrollTop(){return this.view.scrollTop}set scrollTop(K){this.view.scrollTop=K}domFocus(){this.view.domFocus()}layout(K,G){var Q;this.view.layout(K,G),(0,u.isNumber)(G)&&((Q=this.findController)===null||Q===void 0||Q.layout(G))}style(K){var G;const Q=`.${this.view.domId}`,ne=[];K.treeIndentGuidesStroke&&(ne.push(`.monaco-list${Q}:hover .monaco-tl-indent > .indent-guide, .monaco-list${Q}.always .monaco-tl-indent > .indent-guide  { border-color: ${K.treeIndentGuidesStroke.transparent(.4)}; }`),ne.push(`.monaco-list${Q} .monaco-tl-indent > .indent-guide.active { border-color: ${K.treeIndentGuidesStroke}; }`)),this.styleElement.textContent=ne.join(`
`),(G=this.findController)===null||G===void 0||G.style(K),this.view.style(K)}getParentElement(K){const G=this.model.getParentNodeLocation(K);return this.model.getNode(G).element}getFirstElementChild(K){return this.model.getFirstElementChild(K)}getNode(K){return this.model.getNode(K)}collapse(K,G=!1){return this.model.setCollapsed(K,!0,G)}expand(K,G=!1){return this.model.setCollapsed(K,!1,G)}isCollapsible(K){return this.model.isCollapsible(K)}setCollapsible(K,G){return this.model.setCollapsible(K,G)}isCollapsed(K){return this.model.isCollapsed(K)}refilter(){this._onWillRefilter.fire(void 0),this.model.refilter()}setSelection(K,G){const Q=K.map(Z=>this.model.getNode(Z));this.selection.set(Q,G);const ne=K.map(Z=>this.model.getListIndex(Z)).filter(Z=>Z>-1);this.view.setSelection(ne,G,!0)}getSelection(){return this.selection.get()}setFocus(K,G){const Q=K.map(Z=>this.model.getNode(Z));this.focus.set(Q,G);const ne=K.map(Z=>this.model.getListIndex(Z)).filter(Z=>Z>-1);this.view.setFocus(ne,G,!0)}getFocus(){return this.focus.get()}reveal(K,G){this.model.expandTo(K);const Q=this.model.getListIndex(K);Q!==-1&&this.view.reveal(Q,G)}onLeftArrow(K){K.preventDefault(),K.stopPropagation();const G=this.view.getFocusedElements();if(G.length===0)return;const Q=G[0],ne=this.model.getNodeLocation(Q);if(!this.model.setCollapsed(ne,!0)){const ee=this.model.getParentNodeLocation(ne);if(!ee)return;const le=this.model.getListIndex(ee);this.view.reveal(le),this.view.setFocus([le])}}onRightArrow(K){K.preventDefault(),K.stopPropagation();const G=this.view.getFocusedElements();if(G.length===0)return;const Q=G[0],ne=this.model.getNodeLocation(Q);if(!this.model.setCollapsed(ne,!1)){if(!Q.children.some(V=>V.visible))return;const[ee]=this.view.getFocus(),le=ee+1;this.view.reveal(le),this.view.setFocus([le])}}onSpace(K){K.preventDefault(),K.stopPropagation();const G=this.view.getFocusedElements();if(G.length===0)return;const Q=G[0],ne=this.model.getNodeLocation(Q),Z=K.browserEvent.altKey;this.model.setCollapsed(ne,void 0,Z)}dispose(){(0,s.dispose)(this.disposables),this.view.dispose()}}e.AbstractTree=X}),define(se[512],re([1,0,164,200]),function(q,e,w,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DataTree=void 0;class k extends w.AbstractTree{constructor(L,b,C,h,g,t={}){super(L,b,C,h,t),this.user=L,this.dataSource=g,this.identityProvider=t.identityProvider}createModel(L,b,C){return new m.ObjectTreeModel(L,b,C)}}e.DataTree=k}),define(se[271],re([1,0,164,495,200,105,55]),function(q,e,w,m,k,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompressibleObjectTree=e.ObjectTree=void 0;class b extends w.AbstractTree{get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}constructor(i,n,o,l,c={}){super(i,n,o,l,c),this.user=i}setChildren(i,n=L.Iterable.empty(),o){this.model.setChildren(i,n,o)}rerender(i){if(i===void 0){this.view.rerender();return}this.model.rerender(i)}hasElement(i){return this.model.has(i)}createModel(i,n,o){return new k.ObjectTreeModel(i,n,o)}}e.ObjectTree=b;class C{get compressedTreeNodeProvider(){return this._compressedTreeNodeProvider()}constructor(i,n){this._compressedTreeNodeProvider=i,this.renderer=n,this.templateId=n.templateId,n.onDidChangeTwistieState&&(this.onDidChangeTwistieState=n.onDidChangeTwistieState)}renderTemplate(i){const n=this.renderer.renderTemplate(i);return{compressedTreeNode:void 0,data:n}}renderElement(i,n,o,l){const c=this.compressedTreeNodeProvider.getCompressedTreeNode(i.element);c.element.elements.length===1?(o.compressedTreeNode=void 0,this.renderer.renderElement(i,n,o.data,l)):(o.compressedTreeNode=c,this.renderer.renderCompressedElements(c,n,o.data,l))}disposeElement(i,n,o,l){var c,d,r,s;o.compressedTreeNode?(d=(c=this.renderer).disposeCompressedElements)===null||d===void 0||d.call(c,o.compressedTreeNode,n,o.data,l):(s=(r=this.renderer).disposeElement)===null||s===void 0||s.call(r,i,n,o.data,l)}disposeTemplate(i){this.renderer.disposeTemplate(i.data)}renderTwistie(i,n){return this.renderer.renderTwistie?this.renderer.renderTwistie(i,n):!1}}De([D.memoize],C.prototype,"compressedTreeNodeProvider",null);function h(t,i){return i&&Object.assign(Object.assign({},i),{keyboardNavigationLabelProvider:i.keyboardNavigationLabelProvider&&{getKeyboardNavigationLabel(n){let o;try{o=t().getCompressedTreeNode(n)}catch{return i.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(n)}return o.element.elements.length===1?i.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(n):i.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(o.element.elements)}}})}class g extends b{constructor(i,n,o,l,c={}){const d=()=>this,r=l.map(s=>new C(d,s));super(i,n,o,r,h(d,c))}setChildren(i,n=L.Iterable.empty(),o){this.model.setChildren(i,n,o)}createModel(i,n,o){return new m.CompressibleObjectTreeModel(i,n,o)}updateOptions(i={}){super.updateOptions(i),typeof i.compressionEnabled<"u"&&this.model.setCompressionEnabled(i.compressionEnabled)}getCompressedTreeNode(i=null){return this.model.getCompressedTreeNode(i)}}e.CompressibleObjectTree=g}),define(se[513],re([1,0,205,164,199,271,123,10,27,14,6,55,2,19]),function(q,e,w,m,k,D,L,b,C,h,g,t,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompressibleAsyncDataTree=e.AsyncDataTree=void 0;function o(F){return Object.assign(Object.assign({},F),{children:[],refreshPromise:void 0,stale:!0,slow:!1,collapsedByDefault:void 0})}function l(F,O){return O.parent?O.parent===F?!0:l(F,O.parent):!1}function c(F,O){return F===O||l(F,O)||l(O,F)}class d{get element(){return this.node.element.element}get children(){return this.node.children.map(O=>new d(O))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}constructor(O){this.node=O}}class r{constructor(O,M,N){this.renderer=O,this.nodeMapper=M,this.onDidChangeTwistieState=N,this.renderedNodes=new Map,this.templateId=O.templateId}renderTemplate(O){return{templateData:this.renderer.renderTemplate(O)}}renderElement(O,M,N,A){this.renderer.renderElement(this.nodeMapper.map(O),M,N.templateData,A)}renderTwistie(O,M){return O.slow?(M.classList.add(...C.Codicon.treeItemLoading.classNamesArray),!0):(M.classList.remove(...C.Codicon.treeItemLoading.classNamesArray),!1)}disposeElement(O,M,N,A){var B,W;(W=(B=this.renderer).disposeElement)===null||W===void 0||W.call(B,this.nodeMapper.map(O),M,N.templateData,A)}disposeTemplate(O){this.renderer.disposeTemplate(O.templateData)}dispose(){this.renderedNodes.clear()}}function s(F){return{browserEvent:F.browserEvent,elements:F.elements.map(O=>O.element)}}function a(F){return{browserEvent:F.browserEvent,element:F.element&&F.element.element,target:F.target}}class u extends w.ElementsDragAndDropData{constructor(O){super(O.elements.map(M=>M.element)),this.data=O}}function p(F){return F instanceof w.ElementsDragAndDropData?new u(F):F}class S{constructor(O){this.dnd=O}getDragURI(O){return this.dnd.getDragURI(O.element)}getDragLabel(O,M){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(O.map(N=>N.element),M)}onDragStart(O,M){var N,A;(A=(N=this.dnd).onDragStart)===null||A===void 0||A.call(N,p(O),M)}onDragOver(O,M,N,A,B=!0){return this.dnd.onDragOver(p(O),M&&M.element,N,A)}drop(O,M,N,A){this.dnd.drop(p(O),M&&M.element,N,A)}onDragEnd(O){var M,N;(N=(M=this.dnd).onDragEnd)===null||N===void 0||N.call(M,O)}}function f(F){return F&&Object.assign(Object.assign({},F),{collapseByDefault:!0,identityProvider:F.identityProvider&&{getId(O){return F.identityProvider.getId(O.element)}},dnd:F.dnd&&new S(F.dnd),multipleSelectionController:F.multipleSelectionController&&{isSelectionSingleChangeEvent(O){return F.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},O),{element:O.element}))},isSelectionRangeChangeEvent(O){return F.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},O),{element:O.element}))}},accessibilityProvider:F.accessibilityProvider&&Object.assign(Object.assign({},F.accessibilityProvider),{getPosInSet:void 0,getSetSize:void 0,getRole:F.accessibilityProvider.getRole?O=>F.accessibilityProvider.getRole(O.element):()=>"treeitem",isChecked:F.accessibilityProvider.isChecked?O=>{var M;return!!(!((M=F.accessibilityProvider)===null||M===void 0)&&M.isChecked(O.element))}:void 0,getAriaLabel(O){return F.accessibilityProvider.getAriaLabel(O.element)},getWidgetAriaLabel(){return F.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:F.accessibilityProvider.getWidgetRole?()=>F.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:F.accessibilityProvider.getAriaLevel&&(O=>F.accessibilityProvider.getAriaLevel(O.element)),getActiveDescendantId:F.accessibilityProvider.getActiveDescendantId&&(O=>F.accessibilityProvider.getActiveDescendantId(O.element))}),filter:F.filter&&{filter(O,M){return F.filter.filter(O.element,M)}},keyboardNavigationLabelProvider:F.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},F.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel(O){return F.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(O.element)}}),sorter:void 0,expandOnlyOnTwistieClick:typeof F.expandOnlyOnTwistieClick>"u"?void 0:typeof F.expandOnlyOnTwistieClick!="function"?F.expandOnlyOnTwistieClick:O=>F.expandOnlyOnTwistieClick(O.element),additionalScrollHeight:F.additionalScrollHeight})}function v(F,O){O(F),F.children.forEach(M=>v(M,O))}class _{get onDidChangeFocus(){return g.Event.map(this.tree.onDidChangeFocus,s)}get onDidChangeSelection(){return g.Event.map(this.tree.onDidChangeSelection,s)}get onMouseDblClick(){return g.Event.map(this.tree.onMouseDblClick,a)}get onPointer(){return g.Event.map(this.tree.onPointer,a)}get onDidFocus(){return this.tree.onDidFocus}get onDidChangeModel(){return this.tree.onDidChangeModel}get onDidChangeCollapseState(){return this.tree.onDidChangeCollapseState}get onDidChangeFindOpenState(){return this.tree.onDidChangeFindOpenState}get onDidDispose(){return this.tree.onDidDispose}constructor(O,M,N,A,B,W={}){this.user=O,this.dataSource=B,this.nodes=new Map,this.subTreeRefreshPromises=new Map,this.refreshPromises=new Map,this._onDidRender=new g.Emitter,this._onDidChangeNodeSlowState=new g.Emitter,this.nodeMapper=new L.WeakMapper(x=>new d(x)),this.disposables=new i.DisposableStore,this.identityProvider=W.identityProvider,this.autoExpandSingleChildren=typeof W.autoExpandSingleChildren>"u"?!1:W.autoExpandSingleChildren,this.sorter=W.sorter,this.collapseByDefault=W.collapseByDefault,this.tree=this.createTree(O,M,N,A,W),this.onDidChangeFindMode=this.tree.onDidChangeFindMode,this.root=o({element:void 0,parent:null,hasChildren:!0}),this.identityProvider&&(this.root=Object.assign(Object.assign({},this.root),{id:null})),this.nodes.set(null,this.root),this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState,this,this.disposables)}createTree(O,M,N,A,B){const W=new m.ComposedTreeDelegate(N),x=A.map(X=>new r(X,this.nodeMapper,this._onDidChangeNodeSlowState.event)),P=f(B)||{};return new D.ObjectTree(O,M,W,x,P)}updateOptions(O={}){this.tree.updateOptions(O)}getHTMLElement(){return this.tree.getHTMLElement()}get scrollTop(){return this.tree.scrollTop}set scrollTop(O){this.tree.scrollTop=O}domFocus(){this.tree.domFocus()}layout(O,M){this.tree.layout(O,M)}style(O){this.tree.style(O)}getInput(){return this.root.element}setInput(O,M){return Se(this,void 0,void 0,function*(){this.refreshPromises.forEach(A=>A.cancel()),this.refreshPromises.clear(),this.root.element=O;const N=M&&{viewState:M,focus:[],selection:[]};yield this._updateChildren(O,!0,!1,N),N&&(this.tree.setFocus(N.focus),this.tree.setSelection(N.selection)),M&&typeof M.scrollTop=="number"&&(this.scrollTop=M.scrollTop)})}_updateChildren(O=this.root.element,M=!0,N=!1,A,B){return Se(this,void 0,void 0,function*(){if(typeof this.root.element>"u")throw new L.TreeError(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield g.Event.toPromise(this._onDidRender.event));const W=this.getDataNode(O);if(yield this.refreshAndRenderNode(W,M,A,B),N)try{this.tree.rerender(W)}catch{}})}rerender(O){if(O===void 0||O===this.root.element){this.tree.rerender();return}const M=this.getDataNode(O);this.tree.rerender(M)}getNode(O=this.root.element){const M=this.getDataNode(O),N=this.tree.getNode(M===this.root?null:M);return this.nodeMapper.map(N)}collapse(O,M=!1){const N=this.getDataNode(O);return this.tree.collapse(N===this.root?null:N,M)}expand(O,M=!1){return Se(this,void 0,void 0,function*(){if(typeof this.root.element>"u")throw new L.TreeError(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield g.Event.toPromise(this._onDidRender.event));const N=this.getDataNode(O);if(this.tree.hasElement(N)&&!this.tree.isCollapsible(N)||(N.refreshPromise&&(yield this.root.refreshPromise,yield g.Event.toPromise(this._onDidRender.event)),N!==this.root&&!N.refreshPromise&&!this.tree.isCollapsed(N)))return!1;const A=this.tree.expand(N===this.root?null:N,M);return N.refreshPromise&&(yield this.root.refreshPromise,yield g.Event.toPromise(this._onDidRender.event)),A})}setSelection(O,M){const N=O.map(A=>this.getDataNode(A));this.tree.setSelection(N,M)}getSelection(){return this.tree.getSelection().map(M=>M.element)}setFocus(O,M){const N=O.map(A=>this.getDataNode(A));this.tree.setFocus(N,M)}getFocus(){return this.tree.getFocus().map(M=>M.element)}reveal(O,M){this.tree.reveal(this.getDataNode(O),M)}getParentElement(O){const M=this.tree.getParentElement(this.getDataNode(O));return M&&M.element}getFirstElementChild(O=this.root.element){const M=this.getDataNode(O),N=this.tree.getFirstElementChild(M===this.root?null:M);return N&&N.element}getDataNode(O){const M=this.nodes.get(O===this.root.element?null:O);if(!M)throw new L.TreeError(this.user,`Data tree node not found: ${O}`);return M}refreshAndRenderNode(O,M,N,A){return Se(this,void 0,void 0,function*(){yield this.refreshNode(O,M,N),this.render(O,N,A)})}refreshNode(O,M,N){return Se(this,void 0,void 0,function*(){let A;if(this.subTreeRefreshPromises.forEach((B,W)=>{!A&&c(W,O)&&(A=B.then(()=>this.refreshNode(O,M,N)))}),A)return A;if(O!==this.root&&this.tree.getNode(O).collapsed){O.hasChildren=!!this.dataSource.hasChildren(O.element),O.stale=!0;return}return this.doRefreshSubTree(O,M,N)})}doRefreshSubTree(O,M,N){return Se(this,void 0,void 0,function*(){let A;O.refreshPromise=new Promise(B=>A=B),this.subTreeRefreshPromises.set(O,O.refreshPromise),O.refreshPromise.finally(()=>{O.refreshPromise=void 0,this.subTreeRefreshPromises.delete(O)});try{const B=yield this.doRefreshNode(O,M,N);O.stale=!1,yield b.Promises.settled(B.map(W=>this.doRefreshSubTree(W,M,N)))}finally{A()}})}doRefreshNode(O,M,N){return Se(this,void 0,void 0,function*(){O.hasChildren=!!this.dataSource.hasChildren(O.element);let A;if(!O.hasChildren)A=Promise.resolve(t.Iterable.empty());else{const B=this.doGetChildren(O);if((0,n.isIterable)(B))A=Promise.resolve(B);else{const W=(0,b.timeout)(800);W.then(()=>{O.slow=!0,this._onDidChangeNodeSlowState.fire(O)},x=>null),A=B.finally(()=>W.cancel())}}try{const B=yield A;return this.setChildren(O,B,M,N)}catch(B){if(O!==this.root&&this.tree.hasElement(O)&&this.tree.collapse(O),(0,h.isCancellationError)(B))return[];throw B}finally{O.slow&&(O.slow=!1,this._onDidChangeNodeSlowState.fire(O))}})}doGetChildren(O){let M=this.refreshPromises.get(O);if(M)return M;const N=this.dataSource.getChildren(O.element);return(0,n.isIterable)(N)?this.processChildren(N):(M=(0,b.createCancelablePromise)(()=>Se(this,void 0,void 0,function*(){return this.processChildren(yield N)})),this.refreshPromises.set(O,M),M.finally(()=>{this.refreshPromises.delete(O)}))}_onDidChangeCollapseState({node:O,deep:M}){O.element!==null&&!O.collapsed&&O.element.stale&&(M?this.collapse(O.element.element):this.refreshAndRenderNode(O.element,!1).catch(h.onUnexpectedError))}setChildren(O,M,N,A){const B=[...M];if(O.children.length===0&&B.length===0)return[];const W=new Map,x=new Map;for(const ie of O.children)if(W.set(ie.element,ie),this.identityProvider){const K=this.tree.isCollapsed(ie);x.set(ie.id,{node:ie,collapsed:K})}const P=[],X=B.map(ie=>{const K=!!this.dataSource.hasChildren(ie);if(!this.identityProvider){const Z=o({element:ie,parent:O,hasChildren:K});return K&&this.collapseByDefault&&!this.collapseByDefault(ie)&&(Z.collapsedByDefault=!1,P.push(Z)),Z}const G=this.identityProvider.getId(ie).toString(),Q=x.get(G);if(Q){const Z=Q.node;return W.delete(Z.element),this.nodes.delete(Z.element),this.nodes.set(ie,Z),Z.element=ie,Z.hasChildren=K,N?Q.collapsed?(Z.children.forEach(ee=>v(ee,le=>this.nodes.delete(le.element))),Z.children.splice(0,Z.children.length),Z.stale=!0):P.push(Z):K&&this.collapseByDefault&&!this.collapseByDefault(ie)&&(Z.collapsedByDefault=!1,P.push(Z)),Z}const ne=o({element:ie,parent:O,id:G,hasChildren:K});return A&&A.viewState.focus&&A.viewState.focus.indexOf(G)>-1&&A.focus.push(ne),A&&A.viewState.selection&&A.viewState.selection.indexOf(G)>-1&&A.selection.push(ne),A&&A.viewState.expanded&&A.viewState.expanded.indexOf(G)>-1?P.push(ne):K&&this.collapseByDefault&&!this.collapseByDefault(ie)&&(ne.collapsedByDefault=!1,P.push(ne)),ne});for(const ie of W.values())v(ie,K=>this.nodes.delete(K.element));for(const ie of X)this.nodes.set(ie.element,ie);return O.children.splice(0,O.children.length,...X),O!==this.root&&this.autoExpandSingleChildren&&X.length===1&&P.length===0&&(X[0].collapsedByDefault=!1,P.push(X[0])),P}render(O,M,N){const A=O.children.map(W=>this.asTreeElement(W,M)),B=N&&Object.assign(Object.assign({},N),{diffIdentityProvider:N.diffIdentityProvider&&{getId(W){return N.diffIdentityProvider.getId(W.element)}}});this.tree.setChildren(O===this.root?null:O,A,B),O!==this.root&&this.tree.setCollapsible(O,O.hasChildren),this._onDidRender.fire()}asTreeElement(O,M){if(O.stale)return{element:O,collapsible:O.hasChildren,collapsed:!0};let N;return M&&M.viewState.expanded&&O.id&&M.viewState.expanded.indexOf(O.id)>-1?N=!1:N=O.collapsedByDefault,O.collapsedByDefault=void 0,{element:O,children:O.hasChildren?t.Iterable.map(O.children,A=>this.asTreeElement(A,M)):[],collapsible:O.hasChildren,collapsed:N}}processChildren(O){return this.sorter&&(O=[...O].sort(this.sorter.compare.bind(this.sorter))),O}dispose(){this.disposables.dispose()}}e.AsyncDataTree=_;class y{get element(){return{elements:this.node.element.elements.map(O=>O.element),incompressible:this.node.element.incompressible}}get children(){return this.node.children.map(O=>new y(O))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}constructor(O){this.node=O}}class E{constructor(O,M,N,A){this.renderer=O,this.nodeMapper=M,this.compressibleNodeMapperProvider=N,this.onDidChangeTwistieState=A,this.renderedNodes=new Map,this.disposables=[],this.templateId=O.templateId}renderTemplate(O){return{templateData:this.renderer.renderTemplate(O)}}renderElement(O,M,N,A){this.renderer.renderElement(this.nodeMapper.map(O),M,N.templateData,A)}renderCompressedElements(O,M,N,A){this.renderer.renderCompressedElements(this.compressibleNodeMapperProvider().map(O),M,N.templateData,A)}renderTwistie(O,M){return O.slow?(M.classList.add(...C.Codicon.treeItemLoading.classNamesArray),!0):(M.classList.remove(...C.Codicon.treeItemLoading.classNamesArray),!1)}disposeElement(O,M,N,A){var B,W;(W=(B=this.renderer).disposeElement)===null||W===void 0||W.call(B,this.nodeMapper.map(O),M,N.templateData,A)}disposeCompressedElements(O,M,N,A){var B,W;(W=(B=this.renderer).disposeCompressedElements)===null||W===void 0||W.call(B,this.compressibleNodeMapperProvider().map(O),M,N.templateData,A)}disposeTemplate(O){this.renderer.disposeTemplate(O.templateData)}dispose(){this.renderedNodes.clear(),this.disposables=(0,i.dispose)(this.disposables)}}function T(F){const O=F&&f(F);return O&&Object.assign(Object.assign({},O),{keyboardNavigationLabelProvider:O.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},O.keyboardNavigationLabelProvider),{getCompressedNodeKeyboardNavigationLabel(M){return F.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(M.map(N=>N.element))}})})}class I extends _{constructor(O,M,N,A,B,W,x={}){super(O,M,N,B,W,x),this.compressionDelegate=A,this.compressibleNodeMapper=new L.WeakMapper(P=>new y(P)),this.filter=x.filter}createTree(O,M,N,A,B){const W=new m.ComposedTreeDelegate(N),x=A.map(X=>new E(X,this.nodeMapper,()=>this.compressibleNodeMapper,this._onDidChangeNodeSlowState.event)),P=T(B)||{};return new D.CompressibleObjectTree(O,M,W,x,P)}asTreeElement(O,M){return Object.assign({incompressible:this.compressionDelegate.isIncompressible(O.element)},super.asTreeElement(O,M))}updateOptions(O={}){this.tree.updateOptions(O)}render(O,M){if(!this.identityProvider)return super.render(O,M);const N=G=>this.identityProvider.getId(G).toString(),A=G=>{const Q=new Set;for(const ne of G){const Z=this.tree.getCompressedTreeNode(ne===this.root?null:ne);if(!!Z.element)for(const ee of Z.element.elements)Q.add(N(ee.element))}return Q},B=A(this.tree.getSelection()),W=A(this.tree.getFocus());super.render(O,M);const x=this.getSelection();let P=!1;const X=this.getFocus();let ie=!1;const K=G=>{const Q=G.element;if(Q)for(let ne=0;ne<Q.elements.length;ne++){const Z=N(Q.elements[ne].element),ee=Q.elements[Q.elements.length-1].element;B.has(Z)&&x.indexOf(ee)===-1&&(x.push(ee),P=!0),W.has(Z)&&X.indexOf(ee)===-1&&(X.push(ee),ie=!0)}G.children.forEach(K)};K(this.tree.getCompressedTreeNode(O===this.root?null:O)),P&&this.setSelection(x),ie&&this.setFocus(X)}processChildren(O){return this.filter&&(O=t.Iterable.filter(O,M=>{const N=this.filter.filter(M,1),A=R(N);if(A===2)throw new Error("Recursive tree visibility not supported in async data compressed trees");return A===1})),super.processChildren(O)}}e.CompressibleAsyncDataTree=I;function R(F){return typeof F=="boolean"?F?1:0:(0,k.isFilterResult)(F)?(0,k.getVisibleState)(F.visibility):(0,k.getVisibleState)(F)}}),define(se[272],re([1,0,14,6,2,36,17,8]),function(q,e,w,m,k,D,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=e.SimpleWorkerServer=e.SimpleWorkerClient=e.logOnceWebWorkerWarning=void 0;const C="$initialize";let h=!1;function g(S){!L.isWeb||(h||(h=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/microsoft/monaco-editor#faq")),console.warn(S.message))}e.logOnceWebWorkerWarning=g;class t{constructor(f,v,_,y){this.vsWorker=f,this.req=v,this.method=_,this.args=y,this.type=0}}class i{constructor(f,v,_,y){this.vsWorker=f,this.seq=v,this.res=_,this.err=y,this.type=1}}class n{constructor(f,v,_,y){this.vsWorker=f,this.req=v,this.eventName=_,this.arg=y,this.type=2}}class o{constructor(f,v,_){this.vsWorker=f,this.req=v,this.event=_,this.type=3}}class l{constructor(f,v){this.vsWorker=f,this.req=v,this.type=4}}class c{constructor(f){this._workerId=-1,this._handler=f,this._lastSentReq=0,this._pendingReplies=Object.create(null),this._pendingEmitters=new Map,this._pendingEvents=new Map}setWorkerId(f){this._workerId=f}sendMessage(f,v){const _=String(++this._lastSentReq);return new Promise((y,E)=>{this._pendingReplies[_]={resolve:y,reject:E},this._send(new t(this._workerId,_,f,v))})}listen(f,v){let _=null;const y=new m.Emitter({onFirstListenerAdd:()=>{_=String(++this._lastSentReq),this._pendingEmitters.set(_,y),this._send(new n(this._workerId,_,f,v))},onLastListenerRemove:()=>{this._pendingEmitters.delete(_),this._send(new l(this._workerId,_)),_=null}});return y.event}handleMessage(f){!f||!f.vsWorker||this._workerId!==-1&&f.vsWorker!==this._workerId||this._handleMessage(f)}_handleMessage(f){switch(f.type){case 1:return this._handleReplyMessage(f);case 0:return this._handleRequestMessage(f);case 2:return this._handleSubscribeEventMessage(f);case 3:return this._handleEventMessage(f);case 4:return this._handleUnsubscribeEventMessage(f)}}_handleReplyMessage(f){if(!this._pendingReplies[f.seq]){console.warn("Got reply to unknown seq");return}const v=this._pendingReplies[f.seq];if(delete this._pendingReplies[f.seq],f.err){let _=f.err;f.err.$isError&&(_=new Error,_.name=f.err.name,_.message=f.err.message,_.stack=f.err.stack),v.reject(_);return}v.resolve(f.res)}_handleRequestMessage(f){const v=f.req;this._handler.handleMessage(f.method,f.args).then(y=>{this._send(new i(this._workerId,v,y,void 0))},y=>{y.detail instanceof Error&&(y.detail=(0,w.transformErrorForSerialization)(y.detail)),this._send(new i(this._workerId,v,void 0,(0,w.transformErrorForSerialization)(y)))})}_handleSubscribeEventMessage(f){const v=f.req,_=this._handler.handleEvent(f.eventName,f.arg)(y=>{this._send(new o(this._workerId,v,y))});this._pendingEvents.set(v,_)}_handleEventMessage(f){if(!this._pendingEmitters.has(f.req)){console.warn("Got event for unknown req");return}this._pendingEmitters.get(f.req).fire(f.event)}_handleUnsubscribeEventMessage(f){if(!this._pendingEvents.has(f.req)){console.warn("Got unsubscribe for unknown req");return}this._pendingEvents.get(f.req).dispose(),this._pendingEvents.delete(f.req)}_send(f){const v=[];if(f.type===0)for(let _=0;_<f.args.length;_++)f.args[_]instanceof ArrayBuffer&&v.push(f.args[_]);else f.type===1&&f.res instanceof ArrayBuffer&&v.push(f.res);this._handler.sendMessage(f,v)}}class d extends k.Disposable{constructor(f,v,_){super();let y=null;this._worker=this._register(f.create("vs/base/common/worker/simpleWorker",F=>{this._protocol.handleMessage(F)},F=>{y?.(F)})),this._protocol=new c({sendMessage:(F,O)=>{this._worker.postMessage(F,O)},handleMessage:(F,O)=>{if(typeof _[F]!="function")return Promise.reject(new Error("Missing method "+F+" on main thread host."));try{return Promise.resolve(_[F].apply(_,O))}catch(M){return Promise.reject(M)}},handleEvent:(F,O)=>{if(s(F)){const M=_[F].call(_,O);if(typeof M!="function")throw new Error(`Missing dynamic event ${F} on main thread host.`);return M}if(r(F)){const M=_[F];if(typeof M!="function")throw new Error(`Missing event ${F} on main thread host.`);return M}throw new Error(`Malformed event name ${F}`)}}),this._protocol.setWorkerId(this._worker.getId());let E=null;typeof L.globals.require<"u"&&typeof L.globals.require.getConfig=="function"?E=L.globals.require.getConfig():typeof L.globals.requirejs<"u"&&(E=L.globals.requirejs.s.contexts._.config);const T=(0,D.getAllMethodNames)(_);this._onModuleLoaded=this._protocol.sendMessage(C,[this._worker.getId(),JSON.parse(JSON.stringify(E)),v,T]);const I=(F,O)=>this._request(F,O),R=(F,O)=>this._protocol.listen(F,O);this._lazyProxy=new Promise((F,O)=>{y=O,this._onModuleLoaded.then(M=>{F(a(M,I,R))},M=>{O(M),this._onError("Worker failed to load "+v,M)})})}getProxyObject(){return this._lazyProxy}_request(f,v){return new Promise((_,y)=>{this._onModuleLoaded.then(()=>{this._protocol.sendMessage(f,v).then(_,y)},y)})}_onError(f,v){console.error(f),console.info(v)}}e.SimpleWorkerClient=d;function r(S){return S[0]==="o"&&S[1]==="n"&&b.isUpperAsciiLetter(S.charCodeAt(2))}function s(S){return/^onDynamic/.test(S)&&b.isUpperAsciiLetter(S.charCodeAt(9))}function a(S,f,v){const _=T=>function(){const I=Array.prototype.slice.call(arguments,0);return f(T,I)},y=T=>function(I){return v(T,I)},E={};for(const T of S){if(s(T)){E[T]=y(T);continue}if(r(T)){E[T]=v(T,void 0);continue}E[T]=_(T)}return E}class u{constructor(f,v){this._requestHandlerFactory=v,this._requestHandler=null,this._protocol=new c({sendMessage:(_,y)=>{f(_,y)},handleMessage:(_,y)=>this._handleMessage(_,y),handleEvent:(_,y)=>this._handleEvent(_,y)})}onmessage(f){this._protocol.handleMessage(f)}_handleMessage(f,v){if(f===C)return this.initialize(v[0],v[1],v[2],v[3]);if(!this._requestHandler||typeof this._requestHandler[f]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+f));try{return Promise.resolve(this._requestHandler[f].apply(this._requestHandler,v))}catch(_){return Promise.reject(_)}}_handleEvent(f,v){if(!this._requestHandler)throw new Error("Missing requestHandler");if(s(f)){const _=this._requestHandler[f].call(this._requestHandler,v);if(typeof _!="function")throw new Error(`Missing dynamic event ${f} on request handler.`);return _}if(r(f)){const _=this._requestHandler[f];if(typeof _!="function")throw new Error(`Missing event ${f} on request handler.`);return _}throw new Error(`Malformed event name ${f}`)}initialize(f,v,_,y){this._protocol.setWorkerId(f);const I=a(y,(R,F)=>this._protocol.sendMessage(R,F),(R,F)=>this._protocol.listen(R,F));return this._requestHandlerFactory?(this._requestHandler=this._requestHandlerFactory(I),Promise.resolve((0,D.getAllMethodNames)(this._requestHandler))):(v&&(typeof v.baseUrl<"u"&&delete v.baseUrl,typeof v.paths<"u"&&typeof v.paths.vs<"u"&&delete v.paths.vs,typeof v.trustedTypesPolicy!==void 0&&delete v.trustedTypesPolicy,v.catchError=!0,L.globals.require.config(v)),new Promise((R,F)=>{(L.globals.require||q)([_],M=>{if(this._requestHandler=M.create(I),!this._requestHandler){F(new Error("No RequestHandler!"));return}R((0,D.getAllMethodNames)(this._requestHandler))},F)}))}}e.SimpleWorkerServer=u;function p(S){return new u(S,null)}e.create=p}),define(se[514],re([1,0,49,17,272]),function(q,e,w,m,k){"use strict";var D;Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultWorkerFactory=e.getWorkerBootstrapUrl=void 0;const L=(D=window.trustedTypes)===null||D===void 0?void 0:D.createPolicy("defaultWorkerFactory",{createScriptURL:i=>i});function b(i){if(m.globals.MonacoEnvironment){if(typeof m.globals.MonacoEnvironment.getWorker=="function")return m.globals.MonacoEnvironment.getWorker("workerMain.js",i);if(typeof m.globals.MonacoEnvironment.getWorkerUrl=="function"){const n=m.globals.MonacoEnvironment.getWorkerUrl("workerMain.js",i);return new Worker(L?L.createScriptURL(n):n,{name:i})}}if(typeof q=="function"){const n=q.toUrl("vs/base/worker/workerMain.js"),o=C(n,i);return new Worker(L?L.createScriptURL(o):o,{name:i})}throw new Error("You must define a function MonacoEnvironment.getWorkerUrl or MonacoEnvironment.getWorker")}function C(i,n){if(/^((http:)|(https:)|(file:))/.test(i)&&i.substring(0,self.origin.length)!==self.origin){const r="vs/base/worker/defaultWorkerFactory.js",s=q.toUrl(r).slice(0,-r.length),a=`/*${n}*/self.MonacoEnvironment={baseUrl: '${s}'};const ttPolicy = self.trustedTypes?.createPolicy('defaultWorkerFactory', { createScriptURL: value => value });importScripts(ttPolicy?.createScriptURL('${i}') ?? '${i}');/*${n}*/`,u=new Blob([a],{type:"application/javascript"});return URL.createObjectURL(u)}const o=i.lastIndexOf("?"),l=i.lastIndexOf("#",o),c=o>0?new URLSearchParams(i.substring(o+1,~l?l:void 0)):new URLSearchParams;return w.COI.addSearchParam(c,!0,!0),c.toString()?`${i}?${c.toString()}#${n}`:`${i}#${n}`}e.getWorkerBootstrapUrl=C;function h(i){return typeof i.then=="function"}class g{constructor(n,o,l,c,d){this.id=o;const r=b(l);h(r)?this.worker=r:this.worker=Promise.resolve(r),this.postMessage(n,[]),this.worker.then(s=>{s.onmessage=function(a){c(a.data)},s.onmessageerror=d,typeof s.addEventListener=="function"&&s.addEventListener("error",d)})}getId(){return this.id}postMessage(n,o){var l;(l=this.worker)===null||l===void 0||l.then(c=>c.postMessage(n,o))}dispose(){var n;(n=this.worker)===null||n===void 0||n.then(o=>o.terminate()),this.worker=null}}class t{constructor(n){this._label=n,this._webWorkerFailedBeforeError=!1}create(n,o,l){const c=++t.LAST_WORKER_ID;if(this._webWorkerFailedBeforeError)throw this._webWorkerFailedBeforeError;return new g(n,c,this._label||"anonymous"+c,o,d=>{(0,k.logOnceWebWorkerWarning)(d),this._webWorkerFailedBeforeError=d,l(d)})}}e.DefaultWorkerFactory=t,t.LAST_WORKER_ID=0}),define(se[515],re([1,0,7,45,65,206,2,90,152]),function(q,e,w,m,k,D,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputBox=void 0;const C=w.$;class h extends L.Disposable{constructor(t){super(),this.parent=t,this.onKeyDown=i=>w.addDisposableListener(this.findInput.inputBox.inputElement,w.EventType.KEY_DOWN,n=>{i(new m.StandardKeyboardEvent(n))}),this.onMouseDown=i=>w.addDisposableListener(this.findInput.inputBox.inputElement,w.EventType.MOUSE_DOWN,n=>{i(new k.StandardMouseEvent(n))}),this.onDidChange=i=>this.findInput.onDidChange(i),this.container=w.append(this.parent,C(".quick-input-box")),this.findInput=this._register(new D.FindInput(this.container,void 0,{label:""}))}get value(){return this.findInput.getValue()}set value(t){this.findInput.setValue(t)}select(t=null){this.findInput.inputBox.select(t)}isSelectionAtEnd(){return this.findInput.inputBox.isSelectionAtEnd()}get placeholder(){return this.findInput.inputBox.inputElement.getAttribute("placeholder")||""}set placeholder(t){this.findInput.inputBox.setPlaceHolder(t)}get ariaLabel(){return this.findInput.inputBox.getAriaLabel()}set ariaLabel(t){this.findInput.inputBox.setAriaLabel(t)}get password(){return this.findInput.inputBox.inputElement.type==="password"}set password(t){this.findInput.inputBox.inputElement.type=t?"password":"text"}set enabled(t){this.findInput.setEnabled(t)}setAttribute(t,i){this.findInput.inputBox.inputElement.setAttribute(t,i)}removeAttribute(t){this.findInput.inputBox.inputElement.removeAttribute(t)}showDecoration(t){t===b.default.Ignore?this.findInput.clearMessage():this.findInput.showMessage({type:t===b.default.Info?1:t===b.default.Warning?2:3,content:""})}stylesForType(t){return this.findInput.inputBox.stylesForType(t===b.default.Info?1:t===b.default.Warning?2:3)}setFocus(){this.findInput.focus()}layout(){this.findInput.inputBox.layout()}style(t){this.findInput.style(t)}}e.QuickInputBox=h}),define(se[273],re([1,0,7,147,152]),function(q,e,w,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getIconClass=void 0;const k={},D=new m.IdGenerator("quick-input-button-icon-");function L(b){if(!b)return;let C;const h=b.dark.toString();return k[h]?C=k[h]:(C=D.nextId(),w.createCSSRule(`.${C}, .hc-light .${C}`,`background-image: ${w.asCSSUrl(b.light||b.dark)}`),w.createCSSRule(`.vs-dark .${C}, .hc-black .${C}`,`background-image: ${w.asCSSUrl(b.dark)}`),k[h]=C),C}e.getIconClass=L}),define(se[516],re([1,0,10,6,2,19]),function(q,e,w,m,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InMemoryStorageDatabase=e.Storage=e.StorageState=void 0;var L;(function(h){h[h.None=0]="None",h[h.Initialized=1]="Initialized",h[h.Closed=2]="Closed"})(L=e.StorageState||(e.StorageState={}));class b extends k.Disposable{constructor(g,t=Object.create(null)){super(),this.database=g,this.options=t,this._onDidChangeStorage=this._register(new m.Emitter),this.onDidChangeStorage=this._onDidChangeStorage.event,this.state=L.None,this.cache=new Map,this.flushDelayer=new w.ThrottledDelayer(b.DEFAULT_FLUSH_DELAY),this.pendingDeletes=new Set,this.pendingInserts=new Map,this.whenFlushedCallbacks=[],this.registerListeners()}registerListeners(){this._register(this.database.onDidChangeItemsExternal(g=>this.onDidChangeItemsExternal(g)))}onDidChangeItemsExternal(g){var t,i;(t=g.changed)===null||t===void 0||t.forEach((n,o)=>this.accept(o,n)),(i=g.deleted)===null||i===void 0||i.forEach(n=>this.accept(n,void 0))}accept(g,t){if(this.state===L.Closed)return;let i=!1;(0,D.isUndefinedOrNull)(t)?i=this.cache.delete(g):this.cache.get(g)!==t&&(this.cache.set(g,t),i=!0),i&&this._onDidChangeStorage.fire(g)}get(g,t){const i=this.cache.get(g);return(0,D.isUndefinedOrNull)(i)?t:i}getBoolean(g,t){const i=this.get(g);return(0,D.isUndefinedOrNull)(i)?t:i==="true"}getNumber(g,t){const i=this.get(g);return(0,D.isUndefinedOrNull)(i)?t:parseInt(i,10)}set(g,t){return Se(this,void 0,void 0,function*(){if(this.state===L.Closed)return;if((0,D.isUndefinedOrNull)(t))return this.delete(g);const i=String(t);if(this.cache.get(g)!==i)return this.cache.set(g,i),this.pendingInserts.set(g,i),this.pendingDeletes.delete(g),this._onDidChangeStorage.fire(g),this.doFlush()})}delete(g){return Se(this,void 0,void 0,function*(){if(!(this.state===L.Closed||!this.cache.delete(g)))return this.pendingDeletes.has(g)||this.pendingDeletes.add(g),this.pendingInserts.delete(g),this._onDidChangeStorage.fire(g),this.doFlush()})}get hasPending(){return this.pendingInserts.size>0||this.pendingDeletes.size>0}flushPending(){return Se(this,void 0,void 0,function*(){if(!this.hasPending)return;const g={insert:this.pendingInserts,delete:this.pendingDeletes};return this.pendingDeletes=new Set,this.pendingInserts=new Map,this.database.updateItems(g).finally(()=>{var t;if(!this.hasPending)for(;this.whenFlushedCallbacks.length;)(t=this.whenFlushedCallbacks.pop())===null||t===void 0||t()})})}doFlush(g){return Se(this,void 0,void 0,function*(){return this.flushDelayer.trigger(()=>this.flushPending(),g)})}dispose(){this.flushDelayer.dispose(),super.dispose()}}e.Storage=b,b.DEFAULT_FLUSH_DELAY=100;class C{constructor(){this.onDidChangeItemsExternal=m.Event.None,this.items=new Map}updateItems(g){var t,i;return Se(this,void 0,void 0,function*(){(t=g.insert)===null||t===void 0||t.forEach((n,o)=>this.items.set(o,n)),(i=g.delete)===null||i===void 0||i.forEach(n=>this.items.delete(n))})}}e.InMemoryStorageDatabase=C}),define(se[274],re([1,0,2,6]),function(q,e,w,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ElementSizeObserver=void 0;class k extends w.Disposable{constructor(L,b){super(),this._onDidChange=this._register(new m.Emitter),this.onDidChange=this._onDidChange.event,this._referenceDomElement=L,this._width=-1,this._height=-1,this._resizeObserver=null,this.measureReferenceDomElement(!1,b)}dispose(){this.stopObserving(),super.dispose()}getWidth(){return this._width}getHeight(){return this._height}startObserving(){!this._resizeObserver&&this._referenceDomElement&&(this._resizeObserver=new ResizeObserver(L=>{L&&L[0]&&L[0].contentRect?this.observe({width:L[0].contentRect.width,height:L[0].contentRect.height}):this.observe()}),this._resizeObserver.observe(this._referenceDomElement))}stopObserving(){this._resizeObserver&&(this._resizeObserver.disconnect(),this._resizeObserver=null)}observe(L){this.measureReferenceDomElement(!0,L)}measureReferenceDomElement(L,b){let C=0,h=0;b?(C=b.width,h=b.height):this._referenceDomElement&&(C=this._referenceDomElement.clientWidth,h=this._referenceDomElement.clientHeight),C=Math.max(5,C),h=Math.max(5,h),(this._width!==C||this._height!==h)&&(this._width=C,this._height=h,L&&this._onDidChange.fire())}}e.ElementSizeObserver=k}),define(se[275],re([1,0,6]),function(q,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TabFocus=void 0;class m{constructor(){this._tabFocus=!1,this._onDidChangeTabFocus=new w.Emitter,this.onDidChangeTabFocus=this._onDidChangeTabFocus.event}getTabFocusMode(){return this._tabFocus}setTabFocusMode(D){this._tabFocus!==D&&(this._tabFocus=D,this._onDidChangeTabFocus.fire(this._tabFocus))}}e.TabFocus=new m}),define(se[207],re([1,0,42,7,86,45,10,6,2,99,8,236,24]),function(q,e,w,m,k,D,L,b,C,h,g,t,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextAreaWrapper=e.TextAreaInput=e.InMemoryClipboardMetadataManager=e.CopyOptions=e.TextAreaSyntethicEvents=void 0;var n;(function(s){s.Tap="-monaco-textarea-synthetic-tap"})(n=e.TextAreaSyntethicEvents||(e.TextAreaSyntethicEvents={})),e.CopyOptions={forceCopyWithSyntaxHighlighting:!1};class o{constructor(){this._lastState=null}set(a,u){this._lastState={lastCopiedValue:a,data:u}}get(a){return this._lastState&&this._lastState.lastCopiedValue===a?this._lastState.data:(this._lastState=null,null)}}e.InMemoryClipboardMetadataManager=o,o.INSTANCE=new o;class l{constructor(){this._lastTypeTextLength=0}handleCompositionUpdate(a){a=a||"";const u={text:a,replacePrevCharCnt:this._lastTypeTextLength,replaceNextCharCnt:0,positionDelta:0};return this._lastTypeTextLength=a.length,u}}class c extends C.Disposable{constructor(a,u,p,S){super(),this._host=a,this._textArea=u,this._OS=p,this._browser=S,this._onFocus=this._register(new b.Emitter),this.onFocus=this._onFocus.event,this._onBlur=this._register(new b.Emitter),this.onBlur=this._onBlur.event,this._onKeyDown=this._register(new b.Emitter),this.onKeyDown=this._onKeyDown.event,this._onKeyUp=this._register(new b.Emitter),this.onKeyUp=this._onKeyUp.event,this._onCut=this._register(new b.Emitter),this.onCut=this._onCut.event,this._onPaste=this._register(new b.Emitter),this.onPaste=this._onPaste.event,this._onType=this._register(new b.Emitter),this.onType=this._onType.event,this._onCompositionStart=this._register(new b.Emitter),this.onCompositionStart=this._onCompositionStart.event,this._onCompositionUpdate=this._register(new b.Emitter),this.onCompositionUpdate=this._onCompositionUpdate.event,this._onCompositionEnd=this._register(new b.Emitter),this.onCompositionEnd=this._onCompositionEnd.event,this._onSelectionChangeRequest=this._register(new b.Emitter),this.onSelectionChangeRequest=this._onSelectionChangeRequest.event,this._asyncTriggerCut=this._register(new L.RunOnceScheduler(()=>this._onCut.fire(),0)),this._asyncFocusGainWriteScreenReaderContent=this._register(new L.RunOnceScheduler(()=>this.writeScreenReaderContent("asyncFocusGain"),0)),this._textAreaState=t.TextAreaState.EMPTY,this._selectionChangeListener=null,this.writeScreenReaderContent("ctor"),this._hasFocus=!1,this._currentComposition=null;let f=null;this._register(this._textArea.onKeyDown(v=>{const _=new D.StandardKeyboardEvent(v);(_.keyCode===109||this._currentComposition&&_.keyCode===1)&&_.stopPropagation(),_.equals(9)&&_.preventDefault(),f=_,this._onKeyDown.fire(_)})),this._register(this._textArea.onKeyUp(v=>{const _=new D.StandardKeyboardEvent(v);this._onKeyUp.fire(_)})),this._register(this._textArea.onCompositionStart(v=>{t._debugComposition&&console.log("[compositionstart]",v);const _=new l;if(this._currentComposition){this._currentComposition=_;return}if(this._currentComposition=_,this._OS===2&&f&&f.equals(109)&&this._textAreaState.selectionStart===this._textAreaState.selectionEnd&&this._textAreaState.selectionStart>0&&this._textAreaState.value.substr(this._textAreaState.selectionStart-1,1)===v.data&&(f.code==="ArrowRight"||f.code==="ArrowLeft")){t._debugComposition&&console.log("[compositionstart] Handling long press case on macOS + arrow key",v),_.handleCompositionUpdate("x"),this._onCompositionStart.fire({data:v.data});return}if(this._browser.isAndroid){this._onCompositionStart.fire({data:v.data});return}this._onCompositionStart.fire({data:v.data})})),this._register(this._textArea.onCompositionUpdate(v=>{t._debugComposition&&console.log("[compositionupdate]",v);const _=this._currentComposition;if(!_)return;if(this._browser.isAndroid){const E=t.TextAreaState.readFromTextArea(this._textArea),T=t.TextAreaState.deduceAndroidCompositionInput(this._textAreaState,E);this._textAreaState=E,this._onType.fire(T),this._onCompositionUpdate.fire(v);return}const y=_.handleCompositionUpdate(v.data);this._textAreaState=t.TextAreaState.readFromTextArea(this._textArea),this._onType.fire(y),this._onCompositionUpdate.fire(v)})),this._register(this._textArea.onCompositionEnd(v=>{t._debugComposition&&console.log("[compositionend]",v);const _=this._currentComposition;if(!_)return;if(this._currentComposition=null,this._browser.isAndroid){const E=t.TextAreaState.readFromTextArea(this._textArea),T=t.TextAreaState.deduceAndroidCompositionInput(this._textAreaState,E);this._textAreaState=E,this._onType.fire(T),this._onCompositionEnd.fire();return}const y=_.handleCompositionUpdate(v.data);this._textAreaState=t.TextAreaState.readFromTextArea(this._textArea),this._onType.fire(y),this._onCompositionEnd.fire()})),this._register(this._textArea.onInput(v=>{if(t._debugComposition&&console.log("[input]",v),this._textArea.setIgnoreSelectionChangeTime("received input event"),this._currentComposition)return;const _=t.TextAreaState.readFromTextArea(this._textArea),y=t.TextAreaState.deduceInput(this._textAreaState,_,this._OS===2);y.replacePrevCharCnt===0&&y.text.length===1&&g.isHighSurrogate(y.text.charCodeAt(0))||(this._textAreaState=_,(y.text!==""||y.replacePrevCharCnt!==0||y.replaceNextCharCnt!==0||y.positionDelta!==0)&&this._onType.fire(y))})),this._register(this._textArea.onCut(v=>{this._textArea.setIgnoreSelectionChangeTime("received cut event"),this._ensureClipboardGetsEditorSelection(v),this._asyncTriggerCut.schedule()})),this._register(this._textArea.onCopy(v=>{this._ensureClipboardGetsEditorSelection(v)})),this._register(this._textArea.onPaste(v=>{if(this._textArea.setIgnoreSelectionChangeTime("received paste event"),v.preventDefault(),!v.clipboardData)return;let[_,y]=d.getTextData(v.clipboardData);!_||(y=y||o.INSTANCE.get(_),this._onPaste.fire({text:_,metadata:y}))})),this._register(this._textArea.onFocus(()=>{const v=this._hasFocus;this._setHasFocus(!0),this._browser.isSafari&&!v&&this._hasFocus&&this._asyncFocusGainWriteScreenReaderContent.schedule()})),this._register(this._textArea.onBlur(()=>{this._currentComposition&&(this._currentComposition=null,this.writeScreenReaderContent("blurWithoutCompositionEnd"),this._onCompositionEnd.fire()),this._setHasFocus(!1)})),this._register(this._textArea.onSyntheticTap(()=>{this._browser.isAndroid&&this._currentComposition&&(this._currentComposition=null,this.writeScreenReaderContent("tapWithoutCompositionEnd"),this._onCompositionEnd.fire())}))}_installSelectionChangeListener(){let a=0;return m.addDisposableListener(document,"selectionchange",u=>{if(!this._hasFocus||this._currentComposition||!this._browser.isChrome)return;const p=Date.now(),S=p-a;if(a=p,S<5)return;const f=p-this._textArea.getIgnoreSelectionChangeTime();if(this._textArea.resetSelectionChangeTime(),f<100||!this._textAreaState.selectionStartPosition||!this._textAreaState.selectionEndPosition)return;const v=this._textArea.getValue();if(this._textAreaState.value!==v)return;const _=this._textArea.getSelectionStart(),y=this._textArea.getSelectionEnd();if(this._textAreaState.selectionStart===_&&this._textAreaState.selectionEnd===y)return;const E=this._textAreaState.deduceEditorPosition(_),T=this._host.deduceModelPosition(E[0],E[1],E[2]),I=this._textAreaState.deduceEditorPosition(y),R=this._host.deduceModelPosition(I[0],I[1],I[2]),F=new i.Selection(T.lineNumber,T.column,R.lineNumber,R.column);this._onSelectionChangeRequest.fire(F)})}dispose(){super.dispose(),this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null)}focusTextArea(){this._setHasFocus(!0),this.refreshFocusState()}isFocused(){return this._hasFocus}refreshFocusState(){this._setHasFocus(this._textArea.hasFocus())}_setHasFocus(a){this._hasFocus!==a&&(this._hasFocus=a,this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null),this._hasFocus&&(this._selectionChangeListener=this._installSelectionChangeListener()),this._hasFocus&&this.writeScreenReaderContent("focusgain"),this._hasFocus?this._onFocus.fire():this._onBlur.fire())}_setAndWriteTextAreaState(a,u){this._hasFocus||(u=u.collapseSelection()),u.writeToTextArea(a,this._textArea,this._hasFocus),this._textAreaState=u}writeScreenReaderContent(a){this._currentComposition||this._setAndWriteTextAreaState(a,this._host.getScreenReaderContent(this._textAreaState))}_ensureClipboardGetsEditorSelection(a){const u=this._host.getDataToCopy(),p={version:1,isFromEmptySelection:u.isFromEmptySelection,multicursorText:u.multicursorText,mode:u.mode};o.INSTANCE.set(this._browser.isFirefox?u.text.replace(/\r\n/g,`
`):u.text,p),a.preventDefault(),a.clipboardData&&d.setTextData(a.clipboardData,u.text,u.html,p)}}e.TextAreaInput=c;class d{static getTextData(a){const u=a.getData(h.Mimes.text);let p=null;const S=a.getData("vscode-editor-data");if(typeof S=="string")try{p=JSON.parse(S),p.version!==1&&(p=null)}catch{}return u.length===0&&p===null&&a.files.length>0?[Array.prototype.slice.call(a.files,0).map(v=>v.name).join(`
`),null]:[u,p]}static setTextData(a,u,p,S){a.setData(h.Mimes.text,u),typeof p=="string"&&a.setData("text/html",p),a.setData("vscode-editor-data",JSON.stringify(S))}}class r extends C.Disposable{constructor(a){super(),this._actual=a,this.onKeyDown=this._register(new k.DomEmitter(this._actual,"keydown")).event,this.onKeyUp=this._register(new k.DomEmitter(this._actual,"keyup")).event,this.onCompositionStart=this._register(new k.DomEmitter(this._actual,"compositionstart")).event,this.onCompositionUpdate=this._register(new k.DomEmitter(this._actual,"compositionupdate")).event,this.onCompositionEnd=this._register(new k.DomEmitter(this._actual,"compositionend")).event,this.onInput=this._register(new k.DomEmitter(this._actual,"input")).event,this.onCut=this._register(new k.DomEmitter(this._actual,"cut")).event,this.onCopy=this._register(new k.DomEmitter(this._actual,"copy")).event,this.onPaste=this._register(new k.DomEmitter(this._actual,"paste")).event,this.onFocus=this._register(new k.DomEmitter(this._actual,"focus")).event,this.onBlur=this._register(new k.DomEmitter(this._actual,"blur")).event,this._onSyntheticTap=this._register(new b.Emitter),this.onSyntheticTap=this._onSyntheticTap.event,this._ignoreSelectionChangeTime=0,this._register(m.addDisposableListener(this._actual,n.Tap,()=>this._onSyntheticTap.fire()))}hasFocus(){const a=m.getShadowRoot(this._actual);return a?a.activeElement===this._actual:m.isInDOM(this._actual)?document.activeElement===this._actual:!1}setIgnoreSelectionChangeTime(a){this._ignoreSelectionChangeTime=Date.now()}getIgnoreSelectionChangeTime(){return this._ignoreSelectionChangeTime}resetSelectionChangeTime(){this._ignoreSelectionChangeTime=0}getValue(){return this._actual.value}setValue(a,u){const p=this._actual;p.value!==u&&(this.setIgnoreSelectionChangeTime("setValue"),p.value=u)}getSelectionStart(){return this._actual.selectionDirection==="backward"?this._actual.selectionEnd:this._actual.selectionStart}getSelectionEnd(){return this._actual.selectionDirection==="backward"?this._actual.selectionStart:this._actual.selectionEnd}setSelectionRange(a,u,p){const S=this._actual;let f=null;const v=m.getShadowRoot(S);v?f=v.activeElement:f=document.activeElement;const _=f===S,y=S.selectionStart,E=S.selectionEnd;if(_&&y===u&&E===p){w.isFirefox&&window.parent!==window&&S.focus();return}if(_){this.setIgnoreSelectionChangeTime("setSelectionRange"),S.setSelectionRange(u,p),w.isFirefox&&window.parent!==window&&S.focus();return}try{const T=m.saveParentsScrollTop(S);this.setIgnoreSelectionChangeTime("setSelectionRange"),S.focus(),S.setSelectionRange(u,p),m.restoreParentsScrollTop(S,T)}catch{}}}e.TextAreaWrapper=r}),define(se[517],re([1,0,7,35,48]),function(q,e,w,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewContentWidgets=void 0;class D{constructor(g,t){this._coordinateBrand=void 0,this.top=g,this.left=t}}class L extends k.ViewPart{constructor(g,t){super(g),this._viewDomNode=t,this._widgets={},this.domNode=(0,m.createFastDomNode)(document.createElement("div")),k.PartFingerprints.write(this.domNode,1),this.domNode.setClassName("contentWidgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this.overflowingContentWidgetsDomNode=(0,m.createFastDomNode)(document.createElement("div")),k.PartFingerprints.write(this.overflowingContentWidgetsDomNode,2),this.overflowingContentWidgetsDomNode.setClassName("overflowingContentWidgets")}dispose(){super.dispose(),this._widgets={}}onConfigurationChanged(g){const t=Object.keys(this._widgets);for(const i of t)this._widgets[i].onConfigurationChanged(g);return!0}onDecorationsChanged(g){return!0}onFlushed(g){return!0}onLineMappingChanged(g){const t=Object.keys(this._widgets);for(const i of t)this._widgets[i].onLineMappingChanged(g);return!0}onLinesChanged(g){return!0}onLinesDeleted(g){return!0}onLinesInserted(g){return!0}onScrollChanged(g){return!0}onZonesChanged(g){return!0}addWidget(g){const t=new b(this._context,this._viewDomNode,g);this._widgets[t.id]=t,t.allowEditorOverflow?this.overflowingContentWidgetsDomNode.appendChild(t.domNode):this.domNode.appendChild(t.domNode),this.setShouldRender()}setWidgetPosition(g,t,i,n){this._widgets[g.getId()].setPosition(t,i,n),this.setShouldRender()}removeWidget(g){const t=g.getId();if(this._widgets.hasOwnProperty(t)){const i=this._widgets[t];delete this._widgets[t];const n=i.domNode.domNode;n.parentNode.removeChild(n),n.removeAttribute("monaco-visible-content-widget"),this.setShouldRender()}}shouldSuppressMouseDownOnWidget(g){return this._widgets.hasOwnProperty(g)?this._widgets[g].suppressMouseDown:!1}onBeforeRender(g){const t=Object.keys(this._widgets);for(const i of t)this._widgets[i].onBeforeRender(g)}prepareRender(g){const t=Object.keys(this._widgets);for(const i of t)this._widgets[i].prepareRender(g)}render(g){const t=Object.keys(this._widgets);for(const i of t)this._widgets[i].render(g)}}e.ViewContentWidgets=L;class b{constructor(g,t,i){this._context=g,this._viewDomNode=t,this._actual=i,this.domNode=(0,m.createFastDomNode)(this._actual.getDomNode()),this.id=this._actual.getId(),this.allowEditorOverflow=this._actual.allowEditorOverflow||!1,this.suppressMouseDown=this._actual.suppressMouseDown||!1;const n=this._context.configuration.options,o=n.get(133);this._fixedOverflowWidgets=n.get(37),this._contentWidth=o.contentWidth,this._contentLeft=o.contentLeft,this._lineHeight=n.get(60),this._range=null,this._viewRange=null,this._affinity=null,this._preference=[],this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1,this._maxWidth=this._getMaxWidth(),this._isVisible=!1,this._renderData=null,this.domNode.setPosition(this._fixedOverflowWidgets&&this.allowEditorOverflow?"fixed":"absolute"),this.domNode.setDisplay("none"),this.domNode.setVisibility("hidden"),this.domNode.setAttribute("widgetId",this.id),this.domNode.setMaxWidth(this._maxWidth)}onConfigurationChanged(g){const t=this._context.configuration.options;if(this._lineHeight=t.get(60),g.hasChanged(133)){const i=t.get(133);this._contentLeft=i.contentLeft,this._contentWidth=i.contentWidth,this._maxWidth=this._getMaxWidth()}}onLineMappingChanged(g){this._setPosition(this._range,this._affinity)}_setPosition(g,t){var i;if(this._range=g,this._viewRange=null,this._affinity=t,this._range){const n=this._context.viewModel.model.validateRange(this._range);(this._context.viewModel.coordinatesConverter.modelPositionIsVisible(n.getStartPosition())||this._context.viewModel.coordinatesConverter.modelPositionIsVisible(n.getEndPosition()))&&(this._viewRange=this._context.viewModel.coordinatesConverter.convertModelRangeToViewRange(n,(i=this._affinity)!==null&&i!==void 0?i:void 0))}}_getMaxWidth(){return this.allowEditorOverflow?window.innerWidth||document.documentElement.offsetWidth||document.body.offsetWidth:this._contentWidth}setPosition(g,t,i){this._setPosition(g,i),this._preference=t,this._viewRange&&this._preference&&this._preference.length>0?this.domNode.setDisplay("block"):this.domNode.setDisplay("none"),this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1}_layoutBoxInViewport(g,t,i,n,o){const l=g.top,c=l,d=t.top+this._lineHeight,r=o.viewportHeight-d,s=l-n,a=c>=n,u=d,p=r>=n;let S=g.left,f=t.left;return S+i>o.scrollLeft+o.viewportWidth&&(S=o.scrollLeft+o.viewportWidth-i),f+i>o.scrollLeft+o.viewportWidth&&(f=o.scrollLeft+o.viewportWidth-i),S<o.scrollLeft&&(S=o.scrollLeft),f<o.scrollLeft&&(f=o.scrollLeft),{fitsAbove:a,aboveTop:s,aboveLeft:S,fitsBelow:p,belowTop:u,belowLeft:f}}_layoutHorizontalSegmentInPage(g,t,i,n){const o=Math.max(0,t.left-n),l=Math.min(t.left+t.width+n,g.width);let c=t.left+i-window.scrollX;if(c+n>l){const d=c-(l-n);c-=d,i-=d}if(c<o){const d=c-o;c-=d,i-=d}return[i,c]}_layoutBoxInPage(g,t,i,n,o){const l=g.top-n,c=t.top+this._lineHeight,d=w.getDomNodePagePosition(this._viewDomNode.domNode),r=d.top+l-window.scrollY,s=d.top+c-window.scrollY,a=w.getClientArea(document.body),[u,p]=this._layoutHorizontalSegmentInPage(a,d,g.left-o.scrollLeft+this._contentLeft,i),[S,f]=this._layoutHorizontalSegmentInPage(a,d,t.left-o.scrollLeft+this._contentLeft,i),v=22,_=22,y=r>=v,E=s+n<=a.height-_;return this._fixedOverflowWidgets?{fitsAbove:y,aboveTop:Math.max(r,v),aboveLeft:p,fitsBelow:E,belowTop:s,belowLeft:f}:{fitsAbove:y,aboveTop:l,aboveLeft:u,fitsBelow:E,belowTop:c,belowLeft:S}}_prepareRenderWidgetAtExactPositionOverflowing(g){return new D(g.top,g.left+this._contentLeft)}_getTopAndBottomLeft(g){if(!this._viewRange)return[null,null];const t=g.linesVisibleRangesForRange(this._viewRange,!1);if(!t||t.length===0)return[null,null];let i=t[0],n=t[0];for(const a of t)a.lineNumber<i.lineNumber&&(i=a),a.lineNumber>n.lineNumber&&(n=a);let o=1073741824;for(const a of i.ranges)a.left<o&&(o=a.left);this._affinity===3&&this._viewRange.startColumn===1&&(o=0);let l=1073741824;for(const a of n.ranges)a.left<l&&(l=a.left);const c=g.getVerticalOffsetForLineNumber(i.lineNumber)-g.scrollTop,d=new D(c,o),r=g.getVerticalOffsetForLineNumber(n.lineNumber)-g.scrollTop,s=new D(r,l);return[d,s]}_prepareRenderWidget(g){if(!this._preference||this._preference.length===0)return null;const[t,i]=this._getTopAndBottomLeft(g);if(!t||!i)return null;if(this._cachedDomNodeOffsetWidth===-1||this._cachedDomNodeOffsetHeight===-1){let o=null;if(typeof this._actual.beforeRender=="function"&&(o=C(this._actual.beforeRender,this._actual)),o)this._cachedDomNodeOffsetWidth=o.width,this._cachedDomNodeOffsetHeight=o.height;else{const c=this.domNode.domNode.getBoundingClientRect();this._cachedDomNodeOffsetWidth=Math.round(c.width),this._cachedDomNodeOffsetHeight=Math.round(c.height)}}let n;this.allowEditorOverflow?n=this._layoutBoxInPage(t,i,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,g):n=this._layoutBoxInViewport(t,i,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,g);for(let o=1;o<=2;o++)for(const l of this._preference)if(l===1){if(!n)return null;if(o===2||n.fitsAbove)return{coordinate:new D(n.aboveTop,n.aboveLeft),position:1}}else if(l===2){if(!n)return null;if(o===2||n.fitsBelow)return{coordinate:new D(n.belowTop,n.belowLeft),position:2}}else return this.allowEditorOverflow?{coordinate:this._prepareRenderWidgetAtExactPositionOverflowing(t),position:0}:{coordinate:t,position:0};return null}onBeforeRender(g){!this._viewRange||!this._preference||this._viewRange.endLineNumber<g.startLineNumber||this._viewRange.startLineNumber>g.endLineNumber||this.domNode.setMaxWidth(this._maxWidth)}prepareRender(g){this._renderData=this._prepareRenderWidget(g)}render(g){if(!this._renderData){this._isVisible&&(this.domNode.removeAttribute("monaco-visible-content-widget"),this._isVisible=!1,this.domNode.setVisibility("hidden")),typeof this._actual.afterRender=="function"&&C(this._actual.afterRender,this._actual,null);return}this.allowEditorOverflow?(this.domNode.setTop(this._renderData.coordinate.top),this.domNode.setLeft(this._renderData.coordinate.left)):(this.domNode.setTop(this._renderData.coordinate.top+g.scrollTop-g.bigNumbersDelta),this.domNode.setLeft(this._renderData.coordinate.left)),this._isVisible||(this.domNode.setVisibility("inherit"),this.domNode.setAttribute("monaco-visible-content-widget","true"),this._isVisible=!0),typeof this._actual.afterRender=="function"&&C(this._actual.afterRender,this._actual,this._renderData.position)}}function C(h,g,...t){try{return h.call(g,...t)}catch{return null}}}),define(se[276],re([1,0,83,6,2,36,3]),function(q,e,w,m,k,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffNavigator=void 0;const b={followsCaret:!0,ignoreCharChanges:!0,alwaysRevealFirst:!0};class C extends k.Disposable{constructor(g,t={}){super(),this._onDidUpdate=this._register(new m.Emitter),this._editor=g,this._options=D.mixin(t,b,!1),this.disposed=!1,this.nextIdx=-1,this.ranges=[],this.ignoreSelectionChange=!1,this.revealFirst=Boolean(this._options.alwaysRevealFirst),this._register(this._editor.onDidDispose(()=>this.dispose())),this._register(this._editor.onDidUpdateDiff(()=>this._onDiffUpdated())),this._options.followsCaret&&this._register(this._editor.getModifiedEditor().onDidChangeCursorPosition(i=>{this.ignoreSelectionChange||(this.nextIdx=-1)})),this._options.alwaysRevealFirst&&this._register(this._editor.getModifiedEditor().onDidChangeModel(i=>{this.revealFirst=!0})),this._init()}_init(){this._editor.getLineChanges()}_onDiffUpdated(){this._init(),this._compute(this._editor.getLineChanges()),this.revealFirst&&this._editor.getLineChanges()!==null&&(this.revealFirst=!1,this.nextIdx=-1,this.next(1))}_compute(g){this.ranges=[],g&&g.forEach(t=>{!this._options.ignoreCharChanges&&t.charChanges?t.charChanges.forEach(i=>{this.ranges.push({rhs:!0,range:new L.Range(i.modifiedStartLineNumber,i.modifiedStartColumn,i.modifiedEndLineNumber,i.modifiedEndColumn)})}):t.modifiedEndLineNumber===0?this.ranges.push({rhs:!0,range:new L.Range(t.modifiedStartLineNumber,1,t.modifiedStartLineNumber+1,1)}):this.ranges.push({rhs:!0,range:new L.Range(t.modifiedStartLineNumber,1,t.modifiedEndLineNumber+1,1)})}),this.ranges.sort((t,i)=>L.Range.compareRangesUsingStarts(t.range,i.range)),this._onDidUpdate.fire(this)}_initIdx(g){let t=!1;const i=this._editor.getPosition();if(!i){this.nextIdx=0;return}for(let n=0,o=this.ranges.length;n<o&&!t;n++){const l=this.ranges[n].range;i.isBeforeOrEqual(l.getStartPosition())&&(this.nextIdx=n+(g?0:-1),t=!0)}t||(this.nextIdx=g?0:this.ranges.length-1),this.nextIdx<0&&(this.nextIdx=this.ranges.length-1)}_move(g,t){if(w.ok(!this.disposed,"Illegal State - diff navigator has been disposed"),!this.canNavigate())return;this.nextIdx===-1?this._initIdx(g):g?(this.nextIdx+=1,this.nextIdx>=this.ranges.length&&(this.nextIdx=0)):(this.nextIdx-=1,this.nextIdx<0&&(this.nextIdx=this.ranges.length-1));const i=this.ranges[this.nextIdx];this.ignoreSelectionChange=!0;try{const n=i.range.getStartPosition();this._editor.setPosition(n),this._editor.revealRangeInCenter(i.range,t)}finally{this.ignoreSelectionChange=!1}}canNavigate(){return this.ranges&&this.ranges.length>0}next(g=0){this._move(!0,g)}previous(g=0){this._move(!1,g)}dispose(){super.dispose(),this.ranges=[],this.disposed=!0}}e.DiffNavigator=C}),define(se[165],re([1,0,6]),function(q,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorZoom=void 0,e.EditorZoom=new class{constructor(){this._zoomLevel=0,this._onDidChangeZoomLevel=new w.Emitter,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}getZoomLevel(){return this._zoomLevel}setZoomLevel(m){m=Math.min(Math.max(-5,m),20),this._zoomLevel!==m&&(this._zoomLevel=m,this._onDidChangeZoomLevel.fire(this._zoomLevel))}}}),define(se[94],re([1,0,8,17,124]),function(q,e,w,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StringBuilder=e.decodeUTF16LE=e.getPlatformTextDecoder=void 0;let D;function L(){return D||(D=new TextDecoder("UTF-16LE")),D}let b;function C(){return b||(b=new TextDecoder("UTF-16BE")),b}let h;function g(){return h||(h=m.isLittleEndian()?L():C()),h}e.getPlatformTextDecoder=g;function t(o,l,c){const d=new Uint16Array(o.buffer,l,c);return c>0&&(d[0]===65279||d[0]===65534)?i(o,l,c):L().decode(d)}e.decodeUTF16LE=t;function i(o,l,c){const d=[];let r=0;for(let s=0;s<c;s++){const a=k.readUInt16LE(o,l);l+=2,d[r++]=String.fromCharCode(a)}return d.join("")}class n{constructor(l){this._capacity=l|0,this._buffer=new Uint16Array(this._capacity),this._completedStrings=null,this._bufferLength=0}reset(){this._completedStrings=null,this._bufferLength=0}build(){return this._completedStrings!==null?(this._flushBuffer(),this._completedStrings.join("")):this._buildBuffer()}_buildBuffer(){if(this._bufferLength===0)return"";const l=new Uint16Array(this._buffer.buffer,0,this._bufferLength);return g().decode(l)}_flushBuffer(){const l=this._buildBuffer();this._bufferLength=0,this._completedStrings===null?this._completedStrings=[l]:this._completedStrings[this._completedStrings.length]=l}write1(l){const c=this._capacity-this._bufferLength;c<=1&&(c===0||w.isHighSurrogate(l))&&this._flushBuffer(),this._buffer[this._bufferLength++]=l}appendASCII(l){this._bufferLength===this._capacity&&this._flushBuffer(),this._buffer[this._bufferLength++]=l}appendASCIIString(l){const c=l.length;if(this._bufferLength+c>=this._capacity){this._flushBuffer(),this._completedStrings[this._completedStrings.length]=l;return}for(let d=0;d<c;d++)this._buffer[this._bufferLength++]=l.charCodeAt(d)}}e.StringBuilder=n}),define(se[518],re([1,0,94,8,69,101,246]),function(q,e,w,m,k,D,L){"use strict";var b;Object.defineProperty(e,"__esModule",{value:!0}),e.DOMLineBreaksComputerFactory=void 0;const C=(b=window.trustedTypes)===null||b===void 0?void 0:b.createPolicy("domLineBreaksComputer",{createHTML:l=>l});class h{static create(){return new h}constructor(){}createLineBreaksComputer(c,d,r,s){const a=[],u=[];return{addRequest:(p,S,f)=>{a.push(p),u.push(S)},finalize:()=>g(a,c,d,r,s,u)}}}e.DOMLineBreaksComputerFactory=h;function g(l,c,d,r,s,a){var u;function p(x){const P=a[x];if(P){const X=D.LineInjectedText.applyInjectedText(l[x],P),ie=P.map(G=>G.options),K=P.map(G=>G.column-1);return new L.ModelLineProjectionData(K,ie,[X.length],[],0)}else return null}if(r===-1){const x=[];for(let P=0,X=l.length;P<X;P++)x[P]=p(P);return x}const S=Math.round(r*c.typicalHalfwidthCharacterWidth),v=Math.round(d*(s===3?2:s===2?1:0)),_=Math.ceil(c.spaceWidth*v),y=document.createElement("div");(0,k.applyFontInfo)(y,c);const E=new w.StringBuilder(1e4),T=[],I=[],R=[],F=[],O=[];for(let x=0;x<l.length;x++){const P=D.LineInjectedText.applyInjectedText(l[x],a[x]);let X=0,ie=0,K=S;if(s!==0)if(X=m.firstNonWhitespaceIndex(P),X===-1)X=0;else{for(let Z=0;Z<X;Z++)ie+=P.charCodeAt(Z)===9?d-ie%d:1;const ne=Math.ceil(c.spaceWidth*ie);ne+c.typicalFullwidthCharacterWidth>S?(X=0,ie=0):K=S-ne}const G=P.substr(X),Q=t(G,ie,d,K,E,_);T[x]=X,I[x]=ie,R[x]=G,F[x]=Q[0],O[x]=Q[1]}const M=E.build(),N=(u=C?.createHTML(M))!==null&&u!==void 0?u:M;y.innerHTML=N,y.style.position="absolute",y.style.top="10000",y.style.wordWrap="break-word",document.body.appendChild(y);const A=document.createRange(),B=Array.prototype.slice.call(y.children,0),W=[];for(let x=0;x<l.length;x++){const P=B[x],X=i(A,P,R[x],F[x]);if(X===null){W[x]=p(x);continue}const ie=T[x],K=I[x]+v,G=O[x],Q=[];for(let le=0,V=X.length;le<V;le++)Q[le]=G[X[le]];if(ie!==0)for(let le=0,V=X.length;le<V;le++)X[le]+=ie;let ne,Z;const ee=a[x];ee?(ne=ee.map(le=>le.options),Z=ee.map(le=>le.column-1)):(ne=null,Z=null),W[x]=new L.ModelLineProjectionData(Z,ne,X,Q,K)}return document.body.removeChild(y),W}function t(l,c,d,r,s,a){if(a!==0){const y=String(a);s.appendASCIIString('<div style="text-indent: -'),s.appendASCIIString(y),s.appendASCIIString("px; padding-left: "),s.appendASCIIString(y),s.appendASCIIString("px; box-sizing: border-box; width:")}else s.appendASCIIString('<div style="width:');s.appendASCIIString(String(r)),s.appendASCIIString('px;">');const u=l.length;let p=c,S=0;const f=[],v=[];let _=0<u?l.charCodeAt(0):0;s.appendASCIIString("<span>");for(let y=0;y<u;y++){y!==0&&y%16384===0&&s.appendASCIIString("</span><span>"),f[y]=S,v[y]=p;const E=_;_=y+1<u?l.charCodeAt(y+1):0;let T=1,I=1;switch(E){case 9:T=d-p%d,I=T;for(let R=1;R<=T;R++)R<T?s.write1(160):s.appendASCII(32);break;case 32:_===32?s.write1(160):s.appendASCII(32);break;case 60:s.appendASCIIString("&lt;");break;case 62:s.appendASCIIString("&gt;");break;case 38:s.appendASCIIString("&amp;");break;case 0:s.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:s.write1(65533);break;default:m.isFullWidthCharacter(E)&&I++,E<32?s.write1(9216+E):s.write1(E)}S+=T,p+=I}return s.appendASCIIString("</span>"),f[l.length]=S,v[l.length]=p,s.appendASCIIString("</div>"),[f,v]}function i(l,c,d,r){if(d.length<=1)return null;const s=Array.prototype.slice.call(c.children,0),a=[];try{n(l,s,r,0,null,d.length-1,null,a)}catch(u){return console.log(u),null}return a.length===0?null:(a.push(d.length),a)}function n(l,c,d,r,s,a,u,p){if(r===a||(s=s||o(l,c,d[r],d[r+1]),u=u||o(l,c,d[a],d[a+1]),Math.abs(s[0].top-u[0].top)<=.1))return;if(r+1===a){p.push(a);return}const S=r+(a-r)/2|0,f=o(l,c,d[S],d[S+1]);n(l,c,d,r,s,S,f,p),n(l,c,d,S,f,a,u,p)}function o(l,c,d,r){return l.setStart(c[d/16384|0].firstChild,d%16384),l.setEnd(c[r/16384|0].firstChild,r%16384),l.getClientRects()}}),define(se[208],re([1,0,35,94]),function(q,e,w,m){"use strict";var k;Object.defineProperty(e,"__esModule",{value:!0}),e.VisibleLinesCollection=e.RenderedLinesCollection=void 0;class D{constructor(h){this._createLine=h,this._set(1,[])}flush(){this._set(1,[])}_set(h,g){this._lines=g,this._rendLineNumberStart=h}_get(){return{rendLineNumberStart:this._rendLineNumberStart,lines:this._lines}}getStartLineNumber(){return this._rendLineNumberStart}getEndLineNumber(){return this._rendLineNumberStart+this._lines.length-1}getCount(){return this._lines.length}getLine(h){const g=h-this._rendLineNumberStart;if(g<0||g>=this._lines.length)throw new Error("Illegal value for lineNumber");return this._lines[g]}onLinesDeleted(h,g){if(this.getCount()===0)return null;const t=this.getStartLineNumber(),i=this.getEndLineNumber();if(g<t){const c=g-h+1;return this._rendLineNumberStart-=c,null}if(h>i)return null;let n=0,o=0;for(let c=t;c<=i;c++){const d=c-this._rendLineNumberStart;h<=c&&c<=g&&(o===0?(n=d,o=1):o++)}if(h<t){let c=0;g<t?c=g-h+1:c=t-h,this._rendLineNumberStart-=c}return this._lines.splice(n,o)}onLinesChanged(h,g){const t=h+g-1;if(this.getCount()===0)return!1;const i=this.getStartLineNumber(),n=this.getEndLineNumber();let o=!1;for(let l=h;l<=t;l++)l>=i&&l<=n&&(this._lines[l-this._rendLineNumberStart].onContentChanged(),o=!0);return o}onLinesInserted(h,g){if(this.getCount()===0)return null;const t=g-h+1,i=this.getStartLineNumber(),n=this.getEndLineNumber();if(h<=i)return this._rendLineNumberStart+=t,null;if(h>n)return null;if(t+h>n)return this._lines.splice(h-this._rendLineNumberStart,n-h+1);const o=[];for(let s=0;s<t;s++)o[s]=this._createLine();const l=h-this._rendLineNumberStart,c=this._lines.slice(0,l),d=this._lines.slice(l,this._lines.length-t),r=this._lines.slice(this._lines.length-t,this._lines.length);return this._lines=c.concat(o).concat(d),r}onTokensChanged(h){if(this.getCount()===0)return!1;const g=this.getStartLineNumber(),t=this.getEndLineNumber();let i=!1;for(let n=0,o=h.length;n<o;n++){const l=h[n];if(l.toLineNumber<g||l.fromLineNumber>t)continue;const c=Math.max(g,l.fromLineNumber),d=Math.min(t,l.toLineNumber);for(let r=c;r<=d;r++){const s=r-this._rendLineNumberStart;this._lines[s].onTokensChanged(),i=!0}}return i}}e.RenderedLinesCollection=D;class L{constructor(h){this._host=h,this.domNode=this._createDomNode(),this._linesCollection=new D(()=>this._host.createVisibleLine())}_createDomNode(){const h=(0,w.createFastDomNode)(document.createElement("div"));return h.setClassName("view-layer"),h.setPosition("absolute"),h.domNode.setAttribute("role","presentation"),h.domNode.setAttribute("aria-hidden","true"),h}onConfigurationChanged(h){return!!h.hasChanged(133)}onFlushed(h){return this._linesCollection.flush(),!0}onLinesChanged(h){return this._linesCollection.onLinesChanged(h.fromLineNumber,h.count)}onLinesDeleted(h){const g=this._linesCollection.onLinesDeleted(h.fromLineNumber,h.toLineNumber);if(g)for(let t=0,i=g.length;t<i;t++){const n=g[t].getDomNode();n&&this.domNode.domNode.removeChild(n)}return!0}onLinesInserted(h){const g=this._linesCollection.onLinesInserted(h.fromLineNumber,h.toLineNumber);if(g)for(let t=0,i=g.length;t<i;t++){const n=g[t].getDomNode();n&&this.domNode.domNode.removeChild(n)}return!0}onScrollChanged(h){return h.scrollTopChanged}onTokensChanged(h){return this._linesCollection.onTokensChanged(h.ranges)}onZonesChanged(h){return!0}getStartLineNumber(){return this._linesCollection.getStartLineNumber()}getEndLineNumber(){return this._linesCollection.getEndLineNumber()}getVisibleLine(h){return this._linesCollection.getLine(h)}renderLines(h){const g=this._linesCollection._get(),t=new b(this.domNode.domNode,this._host,h),i={rendLineNumberStart:g.rendLineNumberStart,lines:g.lines,linesLength:g.lines.length},n=t.render(i,h.startLineNumber,h.endLineNumber,h.relativeVerticalOffset);this._linesCollection._set(n.rendLineNumberStart,n.lines)}}e.VisibleLinesCollection=L;class b{constructor(h,g,t){this.domNode=h,this.host=g,this.viewportData=t}render(h,g,t,i){const n={rendLineNumberStart:h.rendLineNumberStart,lines:h.lines.slice(0),linesLength:h.linesLength};if(n.rendLineNumberStart+n.linesLength-1<g||t<n.rendLineNumberStart){n.rendLineNumberStart=g,n.linesLength=t-g+1,n.lines=[];for(let o=g;o<=t;o++)n.lines[o-g]=this.host.createVisibleLine();return this._finishRendering(n,!0,i),n}if(this._renderUntouchedLines(n,Math.max(g-n.rendLineNumberStart,0),Math.min(t-n.rendLineNumberStart,n.linesLength-1),i,g),n.rendLineNumberStart>g){const o=g,l=Math.min(t,n.rendLineNumberStart-1);o<=l&&(this._insertLinesBefore(n,o,l,i,g),n.linesLength+=l-o+1)}else if(n.rendLineNumberStart<g){const o=Math.min(n.linesLength,g-n.rendLineNumberStart);o>0&&(this._removeLinesBefore(n,o),n.linesLength-=o)}if(n.rendLineNumberStart=g,n.rendLineNumberStart+n.linesLength-1<t){const o=n.rendLineNumberStart+n.linesLength,l=t;o<=l&&(this._insertLinesAfter(n,o,l,i,g),n.linesLength+=l-o+1)}else if(n.rendLineNumberStart+n.linesLength-1>t){const o=Math.max(0,t-n.rendLineNumberStart+1),c=n.linesLength-1-o+1;c>0&&(this._removeLinesAfter(n,c),n.linesLength-=c)}return this._finishRendering(n,!1,i),n}_renderUntouchedLines(h,g,t,i,n){const o=h.rendLineNumberStart,l=h.lines;for(let c=g;c<=t;c++){const d=o+c;l[c].layoutLine(d,i[d-n])}}_insertLinesBefore(h,g,t,i,n){const o=[];let l=0;for(let c=g;c<=t;c++)o[l++]=this.host.createVisibleLine();h.lines=o.concat(h.lines)}_removeLinesBefore(h,g){for(let t=0;t<g;t++){const i=h.lines[t].getDomNode();i&&this.domNode.removeChild(i)}h.lines.splice(0,g)}_insertLinesAfter(h,g,t,i,n){const o=[];let l=0;for(let c=g;c<=t;c++)o[l++]=this.host.createVisibleLine();h.lines=h.lines.concat(o)}_removeLinesAfter(h,g){const t=h.linesLength-g;for(let i=0;i<g;i++){const n=h.lines[t+i].getDomNode();n&&this.domNode.removeChild(n)}h.lines.splice(t,g)}_finishRenderingNewLines(h,g,t,i){b._ttPolicy&&(t=b._ttPolicy.createHTML(t));const n=this.domNode.lastChild;g||!n?this.domNode.innerHTML=t:n.insertAdjacentHTML("afterend",t);let o=this.domNode.lastChild;for(let l=h.linesLength-1;l>=0;l--){const c=h.lines[l];i[l]&&(c.setDomNode(o),o=o.previousSibling)}}_finishRenderingInvalidLines(h,g,t){const i=document.createElement("div");b._ttPolicy&&(g=b._ttPolicy.createHTML(g)),i.innerHTML=g;for(let n=0;n<h.linesLength;n++){const o=h.lines[n];if(t[n]){const l=i.firstChild,c=o.getDomNode();c.parentNode.replaceChild(l,c),o.setDomNode(l)}}}_finishRendering(h,g,t){const i=b._sb,n=h.linesLength,o=h.lines,l=h.rendLineNumberStart,c=[];{i.reset();let d=!1;for(let r=0;r<n;r++){const s=o[r];c[r]=!1,!(s.getDomNode()||!s.renderLine(r+l,t[r],this.viewportData,i))&&(c[r]=!0,d=!0)}d&&this._finishRenderingNewLines(h,g,i.build(),c)}{i.reset();let d=!1;const r=[];for(let s=0;s<n;s++){const a=o[s];r[s]=!1,!(c[s]||!a.renderLine(s+l,t[s],this.viewportData,i))&&(r[s]=!0,d=!0)}d&&this._finishRenderingInvalidLines(h,i.build(),r)}}}b._ttPolicy=(k=window.trustedTypes)===null||k===void 0?void 0:k.createPolicy("editorViewLayer",{createHTML:C=>C}),b._sb=new m.StringBuilder(1e5)}),define(se[519],re([1,0,35,69,208,48]),function(q,e,w,m,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarginViewOverlays=e.ContentViewOverlays=e.ViewOverlayLine=e.ViewOverlays=void 0;class L extends D.ViewPart{constructor(t){super(t),this._visibleLines=new k.VisibleLinesCollection(this),this.domNode=this._visibleLines.domNode,this._dynamicOverlays=[],this._isFocused=!1,this.domNode.setClassName("view-overlays")}shouldRender(){if(super.shouldRender())return!0;for(let t=0,i=this._dynamicOverlays.length;t<i;t++)if(this._dynamicOverlays[t].shouldRender())return!0;return!1}dispose(){super.dispose();for(let t=0,i=this._dynamicOverlays.length;t<i;t++)this._dynamicOverlays[t].dispose();this._dynamicOverlays=[]}getDomNode(){return this.domNode}createVisibleLine(){return new b(this._context.configuration,this._dynamicOverlays)}addDynamicOverlay(t){this._dynamicOverlays.push(t)}onConfigurationChanged(t){this._visibleLines.onConfigurationChanged(t);const i=this._visibleLines.getStartLineNumber(),n=this._visibleLines.getEndLineNumber();for(let o=i;o<=n;o++)this._visibleLines.getVisibleLine(o).onConfigurationChanged(t);return!0}onFlushed(t){return this._visibleLines.onFlushed(t)}onFocusChanged(t){return this._isFocused=t.isFocused,!0}onLinesChanged(t){return this._visibleLines.onLinesChanged(t)}onLinesDeleted(t){return this._visibleLines.onLinesDeleted(t)}onLinesInserted(t){return this._visibleLines.onLinesInserted(t)}onScrollChanged(t){return this._visibleLines.onScrollChanged(t)||!0}onTokensChanged(t){return this._visibleLines.onTokensChanged(t)}onZonesChanged(t){return this._visibleLines.onZonesChanged(t)}prepareRender(t){const i=this._dynamicOverlays.filter(n=>n.shouldRender());for(let n=0,o=i.length;n<o;n++){const l=i[n];l.prepareRender(t),l.onDidRender()}}render(t){this._viewOverlaysRender(t),this.domNode.toggleClassName("focused",this._isFocused)}_viewOverlaysRender(t){this._visibleLines.renderLines(t.viewportData)}}e.ViewOverlays=L;class b{constructor(t,i){this._configuration=t,this._lineHeight=this._configuration.options.get(60),this._dynamicOverlays=i,this._domNode=null,this._renderedContent=null}getDomNode(){return this._domNode?this._domNode.domNode:null}setDomNode(t){this._domNode=(0,w.createFastDomNode)(t)}onContentChanged(){}onTokensChanged(){}onConfigurationChanged(t){this._lineHeight=this._configuration.options.get(60)}renderLine(t,i,n,o){let l="";for(let c=0,d=this._dynamicOverlays.length;c<d;c++)l+=this._dynamicOverlays[c].render(n.startLineNumber,t);return this._renderedContent===l?!1:(this._renderedContent=l,o.appendASCIIString('<div style="position:absolute;top:'),o.appendASCIIString(String(i)),o.appendASCIIString("px;width:100%;height:"),o.appendASCIIString(String(this._lineHeight)),o.appendASCIIString('px;">'),o.appendASCIIString(l),o.appendASCIIString("</div>"),!0)}layoutLine(t,i){this._domNode&&(this._domNode.setTop(i),this._domNode.setHeight(this._lineHeight))}}e.ViewOverlayLine=b;class C extends L{constructor(t){super(t);const n=this._context.configuration.options.get(133);this._contentWidth=n.contentWidth,this.domNode.setHeight(0)}onConfigurationChanged(t){const n=this._context.configuration.options.get(133);return this._contentWidth=n.contentWidth,super.onConfigurationChanged(t)||!0}onScrollChanged(t){return super.onScrollChanged(t)||t.scrollWidthChanged}_viewOverlaysRender(t){super._viewOverlaysRender(t),this.domNode.setWidth(Math.max(t.scrollWidth,this._contentWidth))}}e.ContentViewOverlays=C;class h extends L{constructor(t){super(t);const i=this._context.configuration.options,n=i.get(133);this._contentLeft=n.contentLeft,this.domNode.setClassName("margin-view-overlays"),this.domNode.setWidth(1),(0,m.applyFontInfo)(this.domNode,i.get(45))}onConfigurationChanged(t){const i=this._context.configuration.options;(0,m.applyFontInfo)(this.domNode,i.get(45));const n=i.get(133);return this._contentLeft=n.contentLeft,super.onConfigurationChanged(t)||!0}onScrollChanged(t){return super.onScrollChanged(t)||t.scrollHeightChanged}_viewOverlaysRender(t){super._viewOverlaysRender(t);const i=Math.min(t.scrollHeight,1e6);this.domNode.setHeight(i),this.domNode.setWidth(this._contentLeft)}}e.MarginViewOverlays=h}),define(se[277],re([1,0,124,94]),function(q,e,w,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compressConsecutiveTextChanges=e.TextChange=void 0;function k(C){return C.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}class D{get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}constructor(h,g,t,i){this.oldPosition=h,this.oldText=g,this.newPosition=t,this.newText=i}toString(){return this.oldText.length===0?`(insert@${this.oldPosition} "${k(this.newText)}")`:this.newText.length===0?`(delete@${this.oldPosition} "${k(this.oldText)}")`:`(replace@${this.oldPosition} "${k(this.oldText)}" with "${k(this.newText)}")`}static _writeStringSize(h){return 4+2*h.length}static _writeString(h,g,t){const i=g.length;w.writeUInt32BE(h,i,t),t+=4;for(let n=0;n<i;n++)w.writeUInt16LE(h,g.charCodeAt(n),t),t+=2;return t}static _readString(h,g){const t=w.readUInt32BE(h,g);return g+=4,(0,m.decodeUTF16LE)(h,g,t)}writeSize(){return 4+4+D._writeStringSize(this.oldText)+D._writeStringSize(this.newText)}write(h,g){return w.writeUInt32BE(h,this.oldPosition,g),g+=4,w.writeUInt32BE(h,this.newPosition,g),g+=4,g=D._writeString(h,this.oldText,g),g=D._writeString(h,this.newText,g),g}static read(h,g,t){const i=w.readUInt32BE(h,g);g+=4;const n=w.readUInt32BE(h,g);g+=4;const o=D._readString(h,g);g+=D._writeStringSize(o);const l=D._readString(h,g);return g+=D._writeStringSize(l),t.push(new D(i,o,n,l)),g}}e.TextChange=D;function L(C,h){return C===null||C.length===0?h:new b(C,h).compress()}e.compressConsecutiveTextChanges=L;class b{constructor(h,g){this._prevEdits=h,this._currEdits=g,this._result=[],this._resultLen=0,this._prevLen=this._prevEdits.length,this._prevDeltaOffset=0,this._currLen=this._currEdits.length,this._currDeltaOffset=0}compress(){let h=0,g=0,t=this._getPrev(h),i=this._getCurr(g);for(;h<this._prevLen||g<this._currLen;){if(t===null){this._acceptCurr(i),i=this._getCurr(++g);continue}if(i===null){this._acceptPrev(t),t=this._getPrev(++h);continue}if(i.oldEnd<=t.newPosition){this._acceptCurr(i),i=this._getCurr(++g);continue}if(t.newEnd<=i.oldPosition){this._acceptPrev(t),t=this._getPrev(++h);continue}if(i.oldPosition<t.newPosition){const[d,r]=b._splitCurr(i,t.newPosition-i.oldPosition);this._acceptCurr(d),i=r;continue}if(t.newPosition<i.oldPosition){const[d,r]=b._splitPrev(t,i.oldPosition-t.newPosition);this._acceptPrev(d),t=r;continue}let l,c;if(i.oldEnd===t.newEnd)l=t,c=i,t=this._getPrev(++h),i=this._getCurr(++g);else if(i.oldEnd<t.newEnd){const[d,r]=b._splitPrev(t,i.oldLength);l=d,c=i,t=r,i=this._getCurr(++g)}else{const[d,r]=b._splitCurr(i,t.newLength);l=t,c=d,t=this._getPrev(++h),i=r}this._result[this._resultLen++]=new D(l.oldPosition,l.oldText,c.newPosition,c.newText),this._prevDeltaOffset+=l.newLength-l.oldLength,this._currDeltaOffset+=c.newLength-c.oldLength}const n=b._merge(this._result);return b._removeNoOps(n)}_acceptCurr(h){this._result[this._resultLen++]=b._rebaseCurr(this._prevDeltaOffset,h),this._currDeltaOffset+=h.newLength-h.oldLength}_getCurr(h){return h<this._currLen?this._currEdits[h]:null}_acceptPrev(h){this._result[this._resultLen++]=b._rebasePrev(this._currDeltaOffset,h),this._prevDeltaOffset+=h.newLength-h.oldLength}_getPrev(h){return h<this._prevLen?this._prevEdits[h]:null}static _rebaseCurr(h,g){return new D(g.oldPosition-h,g.oldText,g.newPosition,g.newText)}static _rebasePrev(h,g){return new D(g.oldPosition,g.oldText,g.newPosition+h,g.newText)}static _splitPrev(h,g){const t=h.newText.substr(0,g),i=h.newText.substr(g);return[new D(h.oldPosition,h.oldText,h.newPosition,t),new D(h.oldEnd,"",h.newPosition+g,i)]}static _splitCurr(h,g){const t=h.oldText.substr(0,g),i=h.oldText.substr(g);return[new D(h.oldPosition,t,h.newPosition,h.newText),new D(h.oldPosition+g,i,h.newEnd,"")]}static _merge(h){if(h.length===0)return h;const g=[];let t=0,i=h[0];for(let n=1;n<h.length;n++){const o=h[n];i.oldEnd===o.oldPosition?i=new D(i.oldPosition,i.oldText+o.oldText,i.newPosition,i.newText+o.newText):(g[t++]=i,i=o)}return g[t++]=i,g}static _removeNoOps(h){if(h.length===0)return h;const g=[];let t=0;for(let i=0;i<h.length;i++){const n=h[i];n.oldText!==n.newText&&(g[t++]=n)}return g}}}),define(se[520],re([1,0,258,85]),function(q,e,w,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.score=void 0;function k(D,L,b,C,h,g){if(Array.isArray(D)){let t=0;for(const i of D){const n=k(i,L,b,C,h,g);if(n===10)return n;n>t&&(t=n)}return t}else{if(typeof D=="string")return C?D==="*"?5:D===b?10:0:0;if(D){const{language:t,pattern:i,scheme:n,hasAccessToAllModels:o,notebookType:l}=D;if(!C&&!o)return 0;l&&h&&(L=h);let c=0;if(n)if(n===L.scheme)c=10;else if(n==="*")c=5;else return 0;if(t)if(t===b)c=10;else if(t==="*")c=Math.max(c,5);else return 0;if(l)if(l===g)c=10;else if(l==="*"&&g!==void 0)c=Math.max(c,5);else return 0;if(i){let d;if(typeof i=="string"?d=i:d=Object.assign(Object.assign({},i),{base:(0,m.normalize)(i.base)}),d===L.fsPath||(0,w.match)(d,L.fsPath))c=10;else return 0}return c}else return 0}}e.score=k}),define(se[521],re([1,0,6,2,47,520]),function(q,e,w,m,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageFeatureRegistry=void 0;function L(h){return typeof h=="string"?!1:Array.isArray(h)?h.every(L):!!h.exclusive}class b{constructor(g,t,i,n){this.uri=g,this.languageId=t,this.notebookUri=i,this.notebookType=n}equals(g){var t,i;return this.notebookType===g.notebookType&&this.languageId===g.languageId&&this.uri.toString()===g.uri.toString()&&((t=this.notebookUri)===null||t===void 0?void 0:t.toString())===((i=g.notebookUri)===null||i===void 0?void 0:i.toString())}}class C{constructor(g){this._notebookInfoResolver=g,this._clock=0,this._entries=[],this._onDidChange=new w.Emitter,this.onDidChange=this._onDidChange.event}register(g,t){let i={selector:g,provider:t,_score:-1,_time:this._clock++};return this._entries.push(i),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),(0,m.toDisposable)(()=>{if(i){const n=this._entries.indexOf(i);n>=0&&(this._entries.splice(n,1),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),i=void 0)}})}has(g){return this.all(g).length>0}all(g){if(!g)return[];this._updateScores(g);const t=[];for(const i of this._entries)i._score>0&&t.push(i.provider);return t}ordered(g){const t=[];return this._orderedForEach(g,i=>t.push(i.provider)),t}orderedGroups(g){const t=[];let i,n;return this._orderedForEach(g,o=>{i&&n===o._score?i.push(o.provider):(n=o._score,i=[o.provider],t.push(i))}),t}_orderedForEach(g,t){this._updateScores(g);for(const i of this._entries)i._score>0&&t(i)}_updateScores(g){var t,i;const n=(t=this._notebookInfoResolver)===null||t===void 0?void 0:t.call(this,g.uri),o=n?new b(g.uri,g.getLanguageId(),n.uri,n.type):new b(g.uri,g.getLanguageId(),void 0,void 0);if(!(!((i=this._lastCandidate)===null||i===void 0)&&i.equals(o))){this._lastCandidate=o;for(const l of this._entries)if(l._score=(0,D.score)(l.selector,o.uri,o.languageId,(0,k.shouldSynchronizeModel)(g),o.notebookUri,o.notebookType),L(l.selector)&&l._score>0){for(const c of this._entries)c._score=0;l._score=1e3;break}this._entries.sort(C._compareByScoreAndTime)}}static _compareByScoreAndTime(g,t){return g._score<t._score?1:g._score>t._score?-1:g._time<t._time?1:g._time>t._time?-1:0}}e.LanguageFeatureRegistry=C}),define(se[209],re([1,0,8,94,3]),function(q,e,w,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketsUtils=e.RichEditBrackets=e.RichEditBracket=void 0;class D{constructor(a,u,p,S,f,v){this._richEditBracketBrand=void 0,this.languageId=a,this.index=u,this.open=p,this.close=S,this.forwardRegex=f,this.reversedRegex=v,this._openSet=D._toSet(this.open),this._closeSet=D._toSet(this.close)}isOpen(a){return this._openSet.has(a)}isClose(a){return this._closeSet.has(a)}static _toSet(a){const u=new Set;for(const p of a)u.add(p);return u}}e.RichEditBracket=D;function L(s){const a=s.length;s=s.map(v=>[v[0].toLowerCase(),v[1].toLowerCase()]);const u=[];for(let v=0;v<a;v++)u[v]=v;const p=(v,_)=>{const[y,E]=v,[T,I]=_;return y===T||y===I||E===T||E===I},S=(v,_)=>{const y=Math.min(v,_),E=Math.max(v,_);for(let T=0;T<a;T++)u[T]===E&&(u[T]=y)};for(let v=0;v<a;v++){const _=s[v];for(let y=v+1;y<a;y++){const E=s[y];p(_,E)&&S(u[v],u[y])}}const f=[];for(let v=0;v<a;v++){const _=[],y=[];for(let E=0;E<a;E++)if(u[E]===v){const[T,I]=s[E];_.push(T),y.push(I)}_.length>0&&f.push({open:_,close:y})}return f}class b{constructor(a,u){this._richEditBracketsBrand=void 0;const p=L(u);this.brackets=p.map((S,f)=>new D(a,f,S.open,S.close,t(S.open,S.close,p,f),i(S.open,S.close,p,f))),this.forwardRegex=n(this.brackets),this.reversedRegex=o(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;for(const S of this.brackets){for(const f of S.open)this.textIsBracket[f]=S,this.textIsOpenBracket[f]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,f.length);for(const f of S.close)this.textIsBracket[f]=S,this.textIsOpenBracket[f]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,f.length)}}}e.RichEditBrackets=b;function C(s,a,u,p){for(let S=0,f=a.length;S<f;S++){if(S===u)continue;const v=a[S];for(const _ of v.open)_.indexOf(s)>=0&&p.push(_);for(const _ of v.close)_.indexOf(s)>=0&&p.push(_)}}function h(s,a){return s.length-a.length}function g(s){if(s.length<=1)return s;const a=[],u=new Set;for(const p of s)u.has(p)||(a.push(p),u.add(p));return a}function t(s,a,u,p){let S=[];S=S.concat(s),S=S.concat(a);for(let f=0,v=S.length;f<v;f++)C(S[f],u,p,S);return S=g(S),S.sort(h),S.reverse(),c(S)}function i(s,a,u,p){let S=[];S=S.concat(s),S=S.concat(a);for(let f=0,v=S.length;f<v;f++)C(S[f],u,p,S);return S=g(S),S.sort(h),S.reverse(),c(S.map(d))}function n(s){let a=[];for(const u of s){for(const p of u.open)a.push(p);for(const p of u.close)a.push(p)}return a=g(a),c(a)}function o(s){let a=[];for(const u of s){for(const p of u.open)a.push(p);for(const p of u.close)a.push(p)}return a=g(a),c(a.map(d))}function l(s){const a=/^[\w ]+$/.test(s);return s=w.escapeRegExpCharacters(s),a?`\\b${s}\\b`:s}function c(s){const a=`(${s.map(l).join(")|(")})`;return w.createRegExp(a,!0)}const d=function(){function s(p){const S=new Uint16Array(p.length);let f=0;for(let v=p.length-1;v>=0;v--)S[f++]=p.charCodeAt(v);return m.getPlatformTextDecoder().decode(S)}let a=null,u=null;return function(S){return a!==S&&(a=S,u=s(a)),u}}();class r{static _findPrevBracketInText(a,u,p,S){const f=p.match(a);if(!f)return null;const v=p.length-(f.index||0),_=f[0].length,y=S+v;return new k.Range(u,y-_+1,u,y+1)}static findPrevBracketInRange(a,u,p,S,f){const _=d(p).substring(p.length-f,p.length-S);return this._findPrevBracketInText(a,u,_,S)}static findNextBracketInText(a,u,p,S){const f=p.match(a);if(!f)return null;const v=f.index||0,_=f[0].length;if(_===0)return null;const y=S+v;return new k.Range(u,y+1,u,y+1+_)}static findNextBracketInRange(a,u,p,S,f){const v=p.substring(S,f);return this.findNextBracketInText(a,u,v,S)}}e.BracketsUtils=r}),define(se[522],re([1,0,18,112,209]),function(q,e,w,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketElectricCharacterSupport=void 0;class D{constructor(b){this._richEditBrackets=b}getElectricCharacters(){const b=[];if(this._richEditBrackets)for(const C of this._richEditBrackets.brackets)for(const h of C.close){const g=h.charAt(h.length-1);b.push(g)}return(0,w.distinct)(b)}onElectricCharacter(b,C,h){if(!this._richEditBrackets||this._richEditBrackets.brackets.length===0)return null;const g=C.findTokenIndexAtOffset(h-1);if((0,m.ignoreBracketsInToken)(C.getStandardTokenType(g)))return null;const t=this._richEditBrackets.reversedRegex,i=C.getLineContent().substring(0,h-1)+b,n=k.BracketsUtils.findPrevBracketInRange(t,1,i,0,i.length);if(!n)return null;const o=i.substring(n.startColumn-1,n.endColumn-1).toLowerCase();if(this._richEditBrackets.textIsOpenBracket[o])return null;const c=C.getActualLineContentBefore(n.startColumn-1);return/^\s*$/.test(c)?{matchOpenBracket:o}:null}}e.BracketElectricCharacterSupport=D}),define(se[523],re([1,0,6,2,3,443,240,242,91,241,113,189,18]),function(q,e,w,m,k,D,L,b,C,h,g,t,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketPairsTree=void 0;class n extends m.Disposable{didLanguageChange(a){return this.brackets.didLanguageChange(a)}constructor(a,u){if(super(),this.textModel=a,this.getLanguageConfiguration=u,this.didChangeEmitter=new w.Emitter,this.denseKeyProvider=new g.DenseKeyProvider,this.brackets=new b.LanguageAgnosticBracketTokens(this.denseKeyProvider,this.getLanguageConfiguration),this.onDidChange=this.didChangeEmitter.event,a.tokenization.backgroundTokenizationState===0){const p=this.brackets.getSingleLanguageBracketTokens(this.textModel.getLanguageId()),S=new t.FastTokenizer(this.textModel.getValue(),p);this.initialAstWithoutTokens=(0,h.parseDocument)(S,[],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens}else a.tokenization.backgroundTokenizationState===2?(this.initialAstWithoutTokens=void 0,this.astWithTokens=this.parseDocumentFromTextBuffer([],void 0,!1)):a.tokenization.backgroundTokenizationState===1&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer([],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens)}handleDidChangeBackgroundTokenizationState(){if(this.textModel.tokenization.backgroundTokenizationState===2){const a=this.initialAstWithoutTokens===void 0;this.initialAstWithoutTokens=void 0,a||this.didChangeEmitter.fire()}}handleDidChangeTokens({ranges:a}){const u=a.map(p=>new L.TextEditInfo((0,C.toLength)(p.fromLineNumber-1,0),(0,C.toLength)(p.toLineNumber,0),(0,C.toLength)(p.toLineNumber-p.fromLineNumber+1,0)));this.astWithTokens=this.parseDocumentFromTextBuffer(u,this.astWithTokens,!1),this.initialAstWithoutTokens||this.didChangeEmitter.fire()}handleContentChanged(a){const u=a.changes.map(p=>{const S=k.Range.lift(p.range);return new L.TextEditInfo((0,C.positionToLength)(S.getStartPosition()),(0,C.positionToLength)(S.getEndPosition()),(0,C.lengthOfString)(p.text))}).reverse();this.astWithTokens=this.parseDocumentFromTextBuffer(u,this.astWithTokens,!1),this.initialAstWithoutTokens&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer(u,this.initialAstWithoutTokens,!1))}parseDocumentFromTextBuffer(a,u,p){const f=u,v=new t.TextBufferTokenizer(this.textModel,this.brackets);return(0,h.parseDocument)(v,a,f,p)}getBracketsInRange(a){const u=(0,C.toLength)(a.startLineNumber-1,a.startColumn-1),p=(0,C.toLength)(a.endLineNumber-1,a.endColumn-1);return new i.CallbackIterable(S=>{const f=this.initialAstWithoutTokens||this.astWithTokens;c(f,C.lengthZero,f.length,u,p,S,0,new Map)})}getBracketPairsInRange(a,u){const p=(0,C.positionToLength)(a.getStartPosition()),S=(0,C.positionToLength)(a.getEndPosition());return new i.CallbackIterable(f=>{const v=this.initialAstWithoutTokens||this.astWithTokens,_=new d(f,u,this.textModel);r(v,C.lengthZero,v.length,p,S,_,0,new Map)})}getFirstBracketAfter(a){const u=this.initialAstWithoutTokens||this.astWithTokens;return l(u,C.lengthZero,u.length,(0,C.positionToLength)(a))}getFirstBracketBefore(a){const u=this.initialAstWithoutTokens||this.astWithTokens;return o(u,C.lengthZero,u.length,(0,C.positionToLength)(a))}}e.BracketPairsTree=n;function o(s,a,u,p){if(s.kind===4||s.kind===2){const S=[];for(const f of s.children)u=(0,C.lengthAdd)(a,f.length),S.push({nodeOffsetStart:a,nodeOffsetEnd:u}),a=u;for(let f=S.length-1;f>=0;f--){const{nodeOffsetStart:v,nodeOffsetEnd:_}=S[f];if((0,C.lengthLessThan)(v,p)){const y=o(s.children[f],v,_,p);if(y)return y}}return null}else{if(s.kind===3)return null;if(s.kind===1){const S=(0,C.lengthsToRange)(a,u);return{bracketInfo:s.bracketInfo,range:S}}}return null}function l(s,a,u,p){if(s.kind===4||s.kind===2){for(const S of s.children){if(u=(0,C.lengthAdd)(a,S.length),(0,C.lengthLessThan)(p,u)){const f=l(S,a,u,p);if(f)return f}a=u}return null}else{if(s.kind===3)return null;if(s.kind===1){const S=(0,C.lengthsToRange)(a,u);return{bracketInfo:s.bracketInfo,range:S}}}return null}function c(s,a,u,p,S,f,v,_){if(v>200)return!0;e:for(;;)switch(s.kind){case 4:{const y=s.childrenLength;for(let E=0;E<y;E++){const T=s.getChild(E);if(!!T){if(u=(0,C.lengthAdd)(a,T.length),(0,C.lengthLessThanEqual)(a,S)&&(0,C.lengthGreaterThanEqual)(u,p)){if((0,C.lengthGreaterThanEqual)(u,S)){s=T;continue e}if(!c(T,a,u,p,S,f,v,_))return!1}a=u}}return!0}case 2:{let y=0;if(_){let T=_.get(s.openingBracket.text);T===void 0&&(T=0),y=T,T++,_.set(s.openingBracket.text,T)}const E=s.childrenLength;for(let T=0;T<E;T++){const I=s.getChild(T);if(!!I){if(u=(0,C.lengthAdd)(a,I.length),(0,C.lengthLessThanEqual)(a,S)&&(0,C.lengthGreaterThanEqual)(u,p)){if((0,C.lengthGreaterThanEqual)(u,S)){s=I,v++;continue e}if(!c(I,a,u,p,S,f,v+1,_))return!1}a=u}}return _?.set(s.openingBracket.text,y),!0}case 3:{const y=(0,C.lengthsToRange)(a,u);return f(new D.BracketInfo(y,v-1,0,!0))}case 1:{const y=(0,C.lengthsToRange)(a,u);return f(new D.BracketInfo(y,v-1,0,!1))}case 0:return!0}}class d{constructor(a,u,p){this.push=a,this.includeMinIndentation=u,this.textModel=p}}function r(s,a,u,p,S,f,v,_){var y;if(v>200)return!0;let E=!0;if(s.kind===2){let T=0;if(_){let F=_.get(s.openingBracket.text);F===void 0&&(F=0),T=F,F++,_.set(s.openingBracket.text,F)}const I=(0,C.lengthAdd)(a,s.openingBracket.length);let R=-1;if(f.includeMinIndentation&&(R=s.computeMinIndentation(a,f.textModel)),E=f.push(new D.BracketPairWithMinIndentationInfo((0,C.lengthsToRange)(a,u),(0,C.lengthsToRange)(a,I),s.closingBracket?(0,C.lengthsToRange)((0,C.lengthAdd)(I,((y=s.child)===null||y===void 0?void 0:y.length)||C.lengthZero),u):void 0,v,T,s,R)),a=I,E&&s.child){const F=s.child;if(u=(0,C.lengthAdd)(a,F.length),(0,C.lengthLessThanEqual)(a,S)&&(0,C.lengthGreaterThanEqual)(u,p)&&(E=r(F,a,u,p,S,f,v+1,_),!E))return!1}_?.set(s.openingBracket.text,T)}else{let T=a;for(const I of s.children){const R=T;if(T=(0,C.lengthAdd)(T,I.length),(0,C.lengthLessThanEqual)(R,S)&&(0,C.lengthLessThanEqual)(p,T)&&(E=r(I,R,T,p,S,f,v,_),!E))return!1}}return E}}),define(se[524],re([1,0,18,6,2,3,112,209,523]),function(q,e,w,m,k,D,L,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketPairsTextModelPart=void 0;class h extends k.Disposable{get canBuildAST(){return this.textModel.getValueLength()<=5e6}constructor(l,c){super(),this.textModel=l,this.languageConfigurationService=c,this.bracketPairsTree=this._register(new k.MutableDisposable),this.onDidChangeEmitter=new m.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this.bracketsRequested=!1,this._register(this.languageConfigurationService.onDidChange(d=>{var r;(!d.languageId||((r=this.bracketPairsTree.value)===null||r===void 0?void 0:r.object.didLanguageChange(d.languageId)))&&(this.bracketPairsTree.clear(),this.updateBracketPairsTree())}))}handleDidChangeOptions(l){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeLanguage(l){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeContent(l){var c;(c=this.bracketPairsTree.value)===null||c===void 0||c.object.handleContentChanged(l)}handleDidChangeBackgroundTokenizationState(){var l;(l=this.bracketPairsTree.value)===null||l===void 0||l.object.handleDidChangeBackgroundTokenizationState()}handleDidChangeTokens(l){var c;(c=this.bracketPairsTree.value)===null||c===void 0||c.object.handleDidChangeTokens(l)}updateBracketPairsTree(){if(this.bracketsRequested&&this.canBuildAST){if(!this.bracketPairsTree.value){const l=new k.DisposableStore;this.bracketPairsTree.value=g(l.add(new C.BracketPairsTree(this.textModel,c=>this.languageConfigurationService.getLanguageConfiguration(c))),l),l.add(this.bracketPairsTree.value.object.onDidChange(c=>this.onDidChangeEmitter.fire(c))),this.onDidChangeEmitter.fire()}}else this.bracketPairsTree.value&&(this.bracketPairsTree.clear(),this.onDidChangeEmitter.fire())}getBracketPairsInRange(l){var c;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((c=this.bracketPairsTree.value)===null||c===void 0?void 0:c.object.getBracketPairsInRange(l,!1))||w.CallbackIterable.empty}getBracketPairsInRangeWithMinIndentation(l){var c;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((c=this.bracketPairsTree.value)===null||c===void 0?void 0:c.object.getBracketPairsInRange(l,!0))||w.CallbackIterable.empty}getBracketsInRange(l){var c;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((c=this.bracketPairsTree.value)===null||c===void 0?void 0:c.object.getBracketsInRange(l))||w.CallbackIterable.empty}findMatchingBracketUp(l,c,d){const r=this.textModel.validatePosition(c),s=this.textModel.getLanguageIdAtPosition(r.lineNumber,r.column);if(this.canBuildAST){const a=this.languageConfigurationService.getLanguageConfiguration(s).bracketsNew.getClosingBracketInfo(l);if(!a)return null;const u=this.getBracketPairsInRange(D.Range.fromPositions(c,c)).findLast(p=>a.closes(p.openingBracketInfo));return u?u.openingBracketRange:null}else{const a=l.toLowerCase(),u=this.languageConfigurationService.getLanguageConfiguration(s).brackets;if(!u)return null;const p=u.textIsBracket[a];return p?n(this._findMatchingBracketUp(p,r,t(d))):null}}matchBracket(l,c){if(this.canBuildAST){const d=this.getBracketPairsInRange(D.Range.fromPositions(l,l)).filter(r=>r.closingBracketRange!==void 0&&(r.openingBracketRange.containsPosition(l)||r.closingBracketRange.containsPosition(l))).findLastMaxBy((0,w.compareBy)(r=>r.openingBracketRange.containsPosition(l)?r.openingBracketRange:r.closingBracketRange,D.Range.compareRangesUsingStarts));return d?[d.openingBracketRange,d.closingBracketRange]:null}else{const d=t(c);return this._matchBracket(this.textModel.validatePosition(l),d)}}_establishBracketSearchOffsets(l,c,d,r){const s=c.getCount(),a=c.getLanguageId(r);let u=Math.max(0,l.column-1-d.maxBracketLength);for(let S=r-1;S>=0;S--){const f=c.getEndOffset(S);if(f<=u)break;if((0,L.ignoreBracketsInToken)(c.getStandardTokenType(S))||c.getLanguageId(S)!==a){u=f;break}}let p=Math.min(c.getLineContent().length,l.column-1+d.maxBracketLength);for(let S=r+1;S<s;S++){const f=c.getStartOffset(S);if(f>=p)break;if((0,L.ignoreBracketsInToken)(c.getStandardTokenType(S))||c.getLanguageId(S)!==a){p=f;break}}return{searchStartOffset:u,searchEndOffset:p}}_matchBracket(l,c){const d=l.lineNumber,r=this.textModel.tokenization.getLineTokens(d),s=this.textModel.getLineContent(d),a=r.findTokenIndexAtOffset(l.column-1);if(a<0)return null;const u=this.languageConfigurationService.getLanguageConfiguration(r.getLanguageId(a)).brackets;if(u&&!(0,L.ignoreBracketsInToken)(r.getStandardTokenType(a))){let{searchStartOffset:p,searchEndOffset:S}=this._establishBracketSearchOffsets(l,r,u,a),f=null;for(;;){const v=b.BracketsUtils.findNextBracketInRange(u.forwardRegex,d,s,p,S);if(!v)break;if(v.startColumn<=l.column&&l.column<=v.endColumn){const _=s.substring(v.startColumn-1,v.endColumn-1).toLowerCase(),y=this._matchFoundBracket(v,u.textIsBracket[_],u.textIsOpenBracket[_],c);if(y){if(y instanceof i)return null;f=y}}p=v.endColumn-1}if(f)return f}if(a>0&&r.getStartOffset(a)===l.column-1){const p=a-1,S=this.languageConfigurationService.getLanguageConfiguration(r.getLanguageId(p)).brackets;if(S&&!(0,L.ignoreBracketsInToken)(r.getStandardTokenType(p))){const{searchStartOffset:f,searchEndOffset:v}=this._establishBracketSearchOffsets(l,r,S,p),_=b.BracketsUtils.findPrevBracketInRange(S.reversedRegex,d,s,f,v);if(_&&_.startColumn<=l.column&&l.column<=_.endColumn){const y=s.substring(_.startColumn-1,_.endColumn-1).toLowerCase(),E=this._matchFoundBracket(_,S.textIsBracket[y],S.textIsOpenBracket[y],c);if(E)return E instanceof i?null:E}}}return null}_matchFoundBracket(l,c,d,r){if(!c)return null;const s=d?this._findMatchingBracketDown(c,l.getEndPosition(),r):this._findMatchingBracketUp(c,l.getStartPosition(),r);return s?s instanceof i?s:[l,s]:null}_findMatchingBracketUp(l,c,d){const r=l.languageId,s=l.reversedRegex;let a=-1,u=0;const p=(S,f,v,_)=>{for(;;){if(d&&++u%100===0&&!d())return i.INSTANCE;const y=b.BracketsUtils.findPrevBracketInRange(s,S,f,v,_);if(!y)break;const E=f.substring(y.startColumn-1,y.endColumn-1).toLowerCase();if(l.isOpen(E)?a++:l.isClose(E)&&a--,a===0)return y;_=y.startColumn-1}return null};for(let S=c.lineNumber;S>=1;S--){const f=this.textModel.tokenization.getLineTokens(S),v=f.getCount(),_=this.textModel.getLineContent(S);let y=v-1,E=_.length,T=_.length;S===c.lineNumber&&(y=f.findTokenIndexAtOffset(c.column-1),E=c.column-1,T=c.column-1);let I=!0;for(;y>=0;y--){const R=f.getLanguageId(y)===r&&!(0,L.ignoreBracketsInToken)(f.getStandardTokenType(y));if(R)I?E=f.getStartOffset(y):(E=f.getStartOffset(y),T=f.getEndOffset(y));else if(I&&E!==T){const F=p(S,_,E,T);if(F)return F}I=R}if(I&&E!==T){const R=p(S,_,E,T);if(R)return R}}return null}_findMatchingBracketDown(l,c,d){const r=l.languageId,s=l.forwardRegex;let a=1,u=0;const p=(f,v,_,y)=>{for(;;){if(d&&++u%100===0&&!d())return i.INSTANCE;const E=b.BracketsUtils.findNextBracketInRange(s,f,v,_,y);if(!E)break;const T=v.substring(E.startColumn-1,E.endColumn-1).toLowerCase();if(l.isOpen(T)?a++:l.isClose(T)&&a--,a===0)return E;_=E.endColumn-1}return null},S=this.textModel.getLineCount();for(let f=c.lineNumber;f<=S;f++){const v=this.textModel.tokenization.getLineTokens(f),_=v.getCount(),y=this.textModel.getLineContent(f);let E=0,T=0,I=0;f===c.lineNumber&&(E=v.findTokenIndexAtOffset(c.column-1),T=c.column-1,I=c.column-1);let R=!0;for(;E<_;E++){const F=v.getLanguageId(E)===r&&!(0,L.ignoreBracketsInToken)(v.getStandardTokenType(E));if(F)R||(T=v.getStartOffset(E)),I=v.getEndOffset(E);else if(R&&T!==I){const O=p(f,y,T,I);if(O)return O}R=F}if(R&&T!==I){const F=p(f,y,T,I);if(F)return F}}return null}findPrevBracket(l){var c;const d=this.textModel.validatePosition(l);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),((c=this.bracketPairsTree.value)===null||c===void 0?void 0:c.object.getFirstBracketBefore(d))||null;let r=null,s=null,a=null;for(let u=d.lineNumber;u>=1;u--){const p=this.textModel.tokenization.getLineTokens(u),S=p.getCount(),f=this.textModel.getLineContent(u);let v=S-1,_=f.length,y=f.length;if(u===d.lineNumber){v=p.findTokenIndexAtOffset(d.column-1),_=d.column-1,y=d.column-1;const T=p.getLanguageId(v);r!==T&&(r=T,s=this.languageConfigurationService.getLanguageConfiguration(r).brackets,a=this.languageConfigurationService.getLanguageConfiguration(r).bracketsNew)}let E=!0;for(;v>=0;v--){const T=p.getLanguageId(v);if(r!==T){if(s&&a&&E&&_!==y){const R=b.BracketsUtils.findPrevBracketInRange(s.reversedRegex,u,f,_,y);if(R)return this._toFoundBracket(a,R);E=!1}r=T,s=this.languageConfigurationService.getLanguageConfiguration(r).brackets,a=this.languageConfigurationService.getLanguageConfiguration(r).bracketsNew}const I=!!s&&!(0,L.ignoreBracketsInToken)(p.getStandardTokenType(v));if(I)E?_=p.getStartOffset(v):(_=p.getStartOffset(v),y=p.getEndOffset(v));else if(a&&s&&E&&_!==y){const R=b.BracketsUtils.findPrevBracketInRange(s.reversedRegex,u,f,_,y);if(R)return this._toFoundBracket(a,R)}E=I}if(a&&s&&E&&_!==y){const T=b.BracketsUtils.findPrevBracketInRange(s.reversedRegex,u,f,_,y);if(T)return this._toFoundBracket(a,T)}}return null}findNextBracket(l){var c;const d=this.textModel.validatePosition(l);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),((c=this.bracketPairsTree.value)===null||c===void 0?void 0:c.object.getFirstBracketAfter(d))||null;const r=this.textModel.getLineCount();let s=null,a=null,u=null;for(let p=d.lineNumber;p<=r;p++){const S=this.textModel.tokenization.getLineTokens(p),f=S.getCount(),v=this.textModel.getLineContent(p);let _=0,y=0,E=0;if(p===d.lineNumber){_=S.findTokenIndexAtOffset(d.column-1),y=d.column-1,E=d.column-1;const I=S.getLanguageId(_);s!==I&&(s=I,a=this.languageConfigurationService.getLanguageConfiguration(s).brackets,u=this.languageConfigurationService.getLanguageConfiguration(s).bracketsNew)}let T=!0;for(;_<f;_++){const I=S.getLanguageId(_);if(s!==I){if(u&&a&&T&&y!==E){const F=b.BracketsUtils.findNextBracketInRange(a.forwardRegex,p,v,y,E);if(F)return this._toFoundBracket(u,F);T=!1}s=I,a=this.languageConfigurationService.getLanguageConfiguration(s).brackets,u=this.languageConfigurationService.getLanguageConfiguration(s).bracketsNew}const R=!!a&&!(0,L.ignoreBracketsInToken)(S.getStandardTokenType(_));if(R)T||(y=S.getStartOffset(_)),E=S.getEndOffset(_);else if(u&&a&&T&&y!==E){const F=b.BracketsUtils.findNextBracketInRange(a.forwardRegex,p,v,y,E);if(F)return this._toFoundBracket(u,F)}T=R}if(u&&a&&T&&y!==E){const I=b.BracketsUtils.findNextBracketInRange(a.forwardRegex,p,v,y,E);if(I)return this._toFoundBracket(u,I)}}return null}findEnclosingBrackets(l,c){const d=this.textModel.validatePosition(l);if(this.canBuildAST){const y=D.Range.fromPositions(d),E=this.getBracketPairsInRange(D.Range.fromPositions(d,d)).findLast(T=>T.closingBracketRange!==void 0&&T.range.strictContainsRange(y));return E?[E.openingBracketRange,E.closingBracketRange]:null}const r=t(c),s=this.textModel.getLineCount(),a=new Map;let u=[];const p=(y,E)=>{if(!a.has(y)){const T=[];for(let I=0,R=E?E.brackets.length:0;I<R;I++)T[I]=0;a.set(y,T)}u=a.get(y)};let S=0;const f=(y,E,T,I,R)=>{for(;;){if(r&&++S%100===0&&!r())return i.INSTANCE;const F=b.BracketsUtils.findNextBracketInRange(y.forwardRegex,E,T,I,R);if(!F)break;const O=T.substring(F.startColumn-1,F.endColumn-1).toLowerCase(),M=y.textIsBracket[O];if(M&&(M.isOpen(O)?u[M.index]++:M.isClose(O)&&u[M.index]--,u[M.index]===-1))return this._matchFoundBracket(F,M,!1,r);I=F.endColumn-1}return null};let v=null,_=null;for(let y=d.lineNumber;y<=s;y++){const E=this.textModel.tokenization.getLineTokens(y),T=E.getCount(),I=this.textModel.getLineContent(y);let R=0,F=0,O=0;if(y===d.lineNumber){R=E.findTokenIndexAtOffset(d.column-1),F=d.column-1,O=d.column-1;const N=E.getLanguageId(R);v!==N&&(v=N,_=this.languageConfigurationService.getLanguageConfiguration(v).brackets,p(v,_))}let M=!0;for(;R<T;R++){const N=E.getLanguageId(R);if(v!==N){if(_&&M&&F!==O){const B=f(_,y,I,F,O);if(B)return n(B);M=!1}v=N,_=this.languageConfigurationService.getLanguageConfiguration(v).brackets,p(v,_)}const A=!!_&&!(0,L.ignoreBracketsInToken)(E.getStandardTokenType(R));if(A)M||(F=E.getStartOffset(R)),O=E.getEndOffset(R);else if(_&&M&&F!==O){const B=f(_,y,I,F,O);if(B)return n(B)}M=A}if(_&&M&&F!==O){const N=f(_,y,I,F,O);if(N)return n(N)}}return null}_toFoundBracket(l,c){if(!c)return null;let d=this.textModel.getValueInRange(c);d=d.toLowerCase();const r=l.getBracketInfo(d);return r?{range:c,bracketInfo:r}:null}}e.BracketPairsTextModelPart=h;function g(o,l){return{object:o,dispose:()=>l?.dispose()}}function t(o){if(typeof o>"u")return()=>!0;{const l=Date.now();return()=>Date.now()-l<=o}}class i{constructor(){this._searchCanceledBrand=void 0}}i.INSTANCE=new i;function n(o){return o instanceof i?null:o}}),define(se[278],re([1,0,6,8,3,47,245,130,277,2]),function(q,e,w,m,k,D,L,b,C,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PieceTreeTextBuffer=void 0;class g extends h.Disposable{constructor(i,n,o,l,c,d,r){super(),this._onDidChangeContent=this._register(new w.Emitter),this._BOM=n,this._mightContainNonBasicASCII=!d,this._mightContainRTL=l,this._mightContainUnusualLineTerminators=c,this._pieceTree=new L.PieceTreeBase(i,o,r)}mightContainRTL(){return this._mightContainRTL}mightContainUnusualLineTerminators(){return this._mightContainUnusualLineTerminators}resetMightContainUnusualLineTerminators(){this._mightContainUnusualLineTerminators=!1}mightContainNonBasicASCII(){return this._mightContainNonBasicASCII}getBOM(){return this._BOM}getEOL(){return this._pieceTree.getEOL()}createSnapshot(i){return this._pieceTree.createSnapshot(i?this._BOM:"")}getOffsetAt(i,n){return this._pieceTree.getOffsetAt(i,n)}getPositionAt(i){return this._pieceTree.getPositionAt(i)}getRangeAt(i,n){const o=i+n,l=this.getPositionAt(i),c=this.getPositionAt(o);return new k.Range(l.lineNumber,l.column,c.lineNumber,c.column)}getValueInRange(i,n=0){if(i.isEmpty())return"";const o=this._getEndOfLine(n);return this._pieceTree.getValueInRange(i,o)}getValueLengthInRange(i,n=0){if(i.isEmpty())return 0;if(i.startLineNumber===i.endLineNumber)return i.endColumn-i.startColumn;const o=this.getOffsetAt(i.startLineNumber,i.startColumn);return this.getOffsetAt(i.endLineNumber,i.endColumn)-o}getCharacterCountInRange(i,n=0){if(this._mightContainNonBasicASCII){let o=0;const l=i.startLineNumber,c=i.endLineNumber;for(let d=l;d<=c;d++){const r=this.getLineContent(d),s=d===l?i.startColumn-1:0,a=d===c?i.endColumn-1:r.length;for(let u=s;u<a;u++)m.isHighSurrogate(r.charCodeAt(u))?(o=o+1,u=u+1):o=o+1}return o+=this._getEndOfLine(n).length*(c-l),o}return this.getValueLengthInRange(i,n)}getLength(){return this._pieceTree.getLength()}getLineCount(){return this._pieceTree.getLineCount()}getLinesContent(){return this._pieceTree.getLinesContent()}getLineContent(i){return this._pieceTree.getLineContent(i)}getLineCharCode(i,n){return this._pieceTree.getLineCharCode(i,n)}getLineLength(i){return this._pieceTree.getLineLength(i)}getLineFirstNonWhitespaceColumn(i){const n=m.firstNonWhitespaceIndex(this.getLineContent(i));return n===-1?0:n+1}getLineLastNonWhitespaceColumn(i){const n=m.lastNonWhitespaceIndex(this.getLineContent(i));return n===-1?0:n+2}_getEndOfLine(i){switch(i){case 1:return`
`;case 2:return`\r
`;case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(i){this._pieceTree.setEOL(i)}applyEdits(i,n,o){let l=this._mightContainRTL,c=this._mightContainUnusualLineTerminators,d=this._mightContainNonBasicASCII,r=!0,s=[];for(let _=0;_<i.length;_++){const y=i[_];r&&y._isTracked&&(r=!1);const E=y.range;if(y.text){let O=!0;d||(O=!m.isBasicASCII(y.text),d=O),!l&&O&&(l=m.containsRTL(y.text)),!c&&O&&(c=m.containsUnusualLineTerminators(y.text))}let T="",I=0,R=0,F=0;if(y.text){let O;[I,R,F,O]=(0,b.countEOL)(y.text);const M=this.getEOL();O===0||O===(M===`\r
`?2:1)?T=y.text:T=y.text.replace(/\r\n|\r|\n/g,M)}s[_]={sortIndex:_,identifier:y.identifier||null,range:E,rangeOffset:this.getOffsetAt(E.startLineNumber,E.startColumn),rangeLength:this.getValueLengthInRange(E),text:T,eolCount:I,firstLineLength:R,lastLineLength:F,forceMoveMarkers:Boolean(y.forceMoveMarkers),isAutoWhitespaceEdit:y.isAutoWhitespaceEdit||!1}}s.sort(g._sortOpsAscending);let a=!1;for(let _=0,y=s.length-1;_<y;_++){const E=s[_].range.getEndPosition(),T=s[_+1].range.getStartPosition();if(T.isBeforeOrEqual(E)){if(T.isBefore(E))throw new Error("Overlapping ranges are not allowed!");a=!0}}r&&(s=this._reduceOperations(s));const u=o||n?g._getInverseEditRanges(s):[],p=[];if(n)for(let _=0;_<s.length;_++){const y=s[_],E=u[_];if(y.isAutoWhitespaceEdit&&y.range.isEmpty())for(let T=E.startLineNumber;T<=E.endLineNumber;T++){let I="";T===E.startLineNumber&&(I=this.getLineContent(y.range.startLineNumber),m.firstNonWhitespaceIndex(I)!==-1)||p.push({lineNumber:T,oldContent:I})}}let S=null;if(o){let _=0;S=[];for(let y=0;y<s.length;y++){const E=s[y],T=u[y],I=this.getValueInRange(E.range),R=E.rangeOffset+_;_+=E.text.length-I.length,S[y]={sortIndex:E.sortIndex,identifier:E.identifier,range:T,text:I,textChange:new C.TextChange(E.rangeOffset,I,R,E.text)}}a||S.sort((y,E)=>y.sortIndex-E.sortIndex)}this._mightContainRTL=l,this._mightContainUnusualLineTerminators=c,this._mightContainNonBasicASCII=d;const f=this._doApplyEdits(s);let v=null;if(n&&p.length>0){p.sort((_,y)=>y.lineNumber-_.lineNumber),v=[];for(let _=0,y=p.length;_<y;_++){const E=p[_].lineNumber;if(_>0&&p[_-1].lineNumber===E)continue;const T=p[_].oldContent,I=this.getLineContent(E);I.length===0||I===T||m.firstNonWhitespaceIndex(I)!==-1||v.push(E)}}return this._onDidChangeContent.fire(),new D.ApplyEditsResult(S,f,v)}_reduceOperations(i){return i.length<1e3?i:[this._toSingleEditOperation(i)]}_toSingleEditOperation(i){let n=!1;const o=i[0].range,l=i[i.length-1].range,c=new k.Range(o.startLineNumber,o.startColumn,l.endLineNumber,l.endColumn);let d=o.startLineNumber,r=o.startColumn;const s=[];for(let f=0,v=i.length;f<v;f++){const _=i[f],y=_.range;n=n||_.forceMoveMarkers,s.push(this.getValueInRange(new k.Range(d,r,y.startLineNumber,y.startColumn))),_.text.length>0&&s.push(_.text),d=y.endLineNumber,r=y.endColumn}const a=s.join(""),[u,p,S]=(0,b.countEOL)(a);return{sortIndex:0,identifier:i[0].identifier,range:c,rangeOffset:this.getOffsetAt(c.startLineNumber,c.startColumn),rangeLength:this.getValueLengthInRange(c,0),text:a,eolCount:u,firstLineLength:p,lastLineLength:S,forceMoveMarkers:n,isAutoWhitespaceEdit:!1}}_doApplyEdits(i){i.sort(g._sortOpsDescending);const n=[];for(let o=0;o<i.length;o++){const l=i[o],c=l.range.startLineNumber,d=l.range.startColumn,r=l.range.endLineNumber,s=l.range.endColumn;if(c===r&&d===s&&l.text.length===0)continue;l.text?(this._pieceTree.delete(l.rangeOffset,l.rangeLength),this._pieceTree.insert(l.rangeOffset,l.text,!0)):this._pieceTree.delete(l.rangeOffset,l.rangeLength);const a=new k.Range(c,d,r,s);n.push({range:a,rangeLength:l.rangeLength,text:l.text,rangeOffset:l.rangeOffset,forceMoveMarkers:l.forceMoveMarkers})}return n}findMatchesLineByLine(i,n,o,l){return this._pieceTree.findMatchesLineByLine(i,n,o,l)}static _getInverseEditRanges(i){const n=[];let o=0,l=0,c=null;for(let d=0,r=i.length;d<r;d++){const s=i[d];let a,u;c?c.range.endLineNumber===s.range.startLineNumber?(a=o,u=l+(s.range.startColumn-c.range.endColumn)):(a=o+(s.range.startLineNumber-c.range.endLineNumber),u=s.range.startColumn):(a=s.range.startLineNumber,u=s.range.startColumn);let p;if(s.text.length>0){const S=s.eolCount+1;S===1?p=new k.Range(a,u,a,u+s.firstLineLength):p=new k.Range(a,u,a+S-1,s.lastLineLength+1)}else p=new k.Range(a,u,a,u);o=p.endLineNumber,l=p.endColumn,n.push(p),c=s}return n}static _sortOpsAscending(i,n){const o=k.Range.compareRangesUsingEnds(i.range,n.range);return o===0?i.sortIndex-n.sortIndex:o}static _sortOpsDescending(i,n){const o=k.Range.compareRangesUsingEnds(i.range,n.range);return o===0?n.sortIndex-i.sortIndex:-o}}e.PieceTreeTextBuffer=g}),define(se[525],re([1,0,8,245,278]),function(q,e,w,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PieceTreeTextBufferBuilder=e.PieceTreeTextBufferFactory=void 0;class D{constructor(C,h,g,t,i,n,o,l,c){this._chunks=C,this._bom=h,this._cr=g,this._lf=t,this._crlf=i,this._containsRTL=n,this._containsUnusualLineTerminators=o,this._isBasicASCII=l,this._normalizeEOL=c}_getEOL(C){const h=this._cr+this._lf+this._crlf,g=this._cr+this._crlf;return h===0?C===1?`
`:`\r
`:g>h/2?`\r
`:`
`}create(C){const h=this._getEOL(C),g=this._chunks;if(this._normalizeEOL&&(h===`\r
`&&(this._cr>0||this._lf>0)||h===`
`&&(this._cr>0||this._crlf>0)))for(let i=0,n=g.length;i<n;i++){const o=g[i].buffer.replace(/\r\n|\r|\n/g,h),l=(0,m.createLineStartsFast)(o);g[i]=new m.StringBuffer(o,l)}const t=new k.PieceTreeTextBuffer(g,this._bom,h,this._containsRTL,this._containsUnusualLineTerminators,this._isBasicASCII,this._normalizeEOL);return{textBuffer:t,disposable:t}}}e.PieceTreeTextBufferFactory=D;class L{constructor(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.containsUnusualLineTerminators=!1,this.isBasicASCII=!0}acceptChunk(C){if(C.length===0)return;this.chunks.length===0&&w.startsWithUTF8BOM(C)&&(this.BOM=w.UTF8_BOM_CHARACTER,C=C.substr(1));const h=C.charCodeAt(C.length-1);h===13||h>=55296&&h<=56319?(this._acceptChunk1(C.substr(0,C.length-1),!1),this._hasPreviousChar=!0,this._previousChar=h):(this._acceptChunk1(C,!1),this._hasPreviousChar=!1,this._previousChar=h)}_acceptChunk1(C,h){!h&&C.length===0||(this._hasPreviousChar?this._acceptChunk2(String.fromCharCode(this._previousChar)+C):this._acceptChunk2(C))}_acceptChunk2(C){const h=(0,m.createLineStarts)(this._tmpLineStarts,C);this.chunks.push(new m.StringBuffer(C,h.lineStarts)),this.cr+=h.cr,this.lf+=h.lf,this.crlf+=h.crlf,this.isBasicASCII&&(this.isBasicASCII=h.isBasicASCII),!this.isBasicASCII&&!this.containsRTL&&(this.containsRTL=w.containsRTL(C)),!this.isBasicASCII&&!this.containsUnusualLineTerminators&&(this.containsUnusualLineTerminators=w.containsUnusualLineTerminators(C))}finish(C=!0){return this._finish(),new D(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.containsUnusualLineTerminators,this.isBasicASCII,C)}_finish(){if(this.chunks.length===0&&this._acceptChunk1("",!0),this._hasPreviousChar){this._hasPreviousChar=!1;const C=this.chunks[this.chunks.length-1];C.buffer+=String.fromCharCode(this._previousChar);const h=(0,m.createLineStartsFast)(C.buffer);C.lineStarts=h,this._previousChar===13&&this.cr++}}}e.PieceTreeTextBufferBuilder=L}),define(se[526],re([1,0,124,17]),function(q,e,w,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.encodeSemanticTokensDto=void 0;function k(C){for(let h=0,g=C.length;h<g;h+=4){const t=C[h+0],i=C[h+1],n=C[h+2],o=C[h+3];C[h+0]=o,C[h+1]=n,C[h+2]=i,C[h+3]=t}}function D(C){const h=new Uint8Array(C.buffer,C.byteOffset,C.length*4);return m.isLittleEndian()||k(h),w.VSBuffer.wrap(h)}function L(C){const h=new Uint32Array(b(C));let g=0;if(h[g++]=C.id,C.type==="full")h[g++]=1,h[g++]=C.data.length,h.set(C.data,g),g+=C.data.length;else{h[g++]=2,h[g++]=C.deltas.length;for(const t of C.deltas)h[g++]=t.start,h[g++]=t.deleteCount,t.data?(h[g++]=t.data.length,h.set(t.data,g),g+=t.data.length):h[g++]=0}return D(h)}e.encodeSemanticTokensDto=L;function b(C){let h=0;if(h+=1+1,C.type==="full")h+=1+C.data.length;else{h+=1,h+=(1+1+1)*C.deltas.length;for(const g of C.deltas)g.data&&(h+=g.data.length)}return h}}),define(se[527],re([1,0,6,2]),function(q,e,w,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenizationRegistry=void 0;class k{constructor(){this._map=new Map,this._factories=new Map,this._onDidChange=new w.Emitter,this.onDidChange=this._onDidChange.event,this._colorMap=null}fire(b){this._onDidChange.fire({changedLanguages:b,changedColorMap:!1})}register(b,C){return this._map.set(b,C),this.fire([b]),(0,m.toDisposable)(()=>{this._map.get(b)===C&&(this._map.delete(b),this.fire([b]))})}registerFactory(b,C){var h;(h=this._factories.get(b))===null||h===void 0||h.dispose();const g=new D(this,b,C);return this._factories.set(b,g),(0,m.toDisposable)(()=>{const t=this._factories.get(b);!t||t!==g||(this._factories.delete(b),t.dispose())})}getOrCreate(b){return Se(this,void 0,void 0,function*(){const C=this.get(b);if(C)return C;const h=this._factories.get(b);return!h||h.isResolved?null:(yield h.resolve(),this.get(b))})}get(b){return this._map.get(b)||null}isResolved(b){if(this.get(b))return!0;const h=this._factories.get(b);return!!(!h||h.isResolved)}setColorMap(b){this._colorMap=b,this._onDidChange.fire({changedLanguages:Array.from(this._map.keys()),changedColorMap:!0})}getColorMap(){return this._colorMap}getDefaultBackground(){return this._colorMap&&this._colorMap.length>2?this._colorMap[2]:null}}e.TokenizationRegistry=k;class D extends m.Disposable{get isResolved(){return this._isResolved}constructor(b,C,h){super(),this._registry=b,this._languageId=C,this._factory=h,this._isDisposed=!1,this._resolvePromise=null,this._isResolved=!1}dispose(){this._isDisposed=!0,super.dispose()}resolve(){return Se(this,void 0,void 0,function*(){return this._resolvePromise||(this._resolvePromise=this._create()),this._resolvePromise})}_create(){return Se(this,void 0,void 0,function*(){const b=yield Promise.resolve(this._factory.createTokenizationSupport());this._isResolved=!0,b&&!this._isDisposed&&this._register(this._registry.register(this._languageId,b))})}}}),define(se[28],re([1,0,27,22,3,527]),function(q,e,w,m,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenizationRegistry=e.InlayHintKind=e.Command=e.FoldingRangeKind=e.SymbolKinds=e.isLocationLink=e.DocumentHighlightKind=e.SignatureHelpTriggerKind=e.InlineCompletionTriggerKind=e.CompletionItemKinds=e.EncodedTokenizationResult=e.TokenizationResult=e.Token=void 0;class L{constructor(s,a,u){this._tokenBrand=void 0,this.offset=s,this.type=a,this.language=u}toString(){return"("+this.offset+", "+this.type+")"}}e.Token=L;class b{constructor(s,a){this._tokenizationResultBrand=void 0,this.tokens=s,this.endState=a}}e.TokenizationResult=b;class C{constructor(s,a){this._encodedTokenizationResultBrand=void 0,this.tokens=s,this.endState=a}}e.EncodedTokenizationResult=C;var h;(function(r){const s=new Map;s.set(0,w.Codicon.symbolMethod),s.set(1,w.Codicon.symbolFunction),s.set(2,w.Codicon.symbolConstructor),s.set(3,w.Codicon.symbolField),s.set(4,w.Codicon.symbolVariable),s.set(5,w.Codicon.symbolClass),s.set(6,w.Codicon.symbolStruct),s.set(7,w.Codicon.symbolInterface),s.set(8,w.Codicon.symbolModule),s.set(9,w.Codicon.symbolProperty),s.set(10,w.Codicon.symbolEvent),s.set(11,w.Codicon.symbolOperator),s.set(12,w.Codicon.symbolUnit),s.set(13,w.Codicon.symbolValue),s.set(15,w.Codicon.symbolEnum),s.set(14,w.Codicon.symbolConstant),s.set(15,w.Codicon.symbolEnum),s.set(16,w.Codicon.symbolEnumMember),s.set(17,w.Codicon.symbolKeyword),s.set(27,w.Codicon.symbolSnippet),s.set(18,w.Codicon.symbolText),s.set(19,w.Codicon.symbolColor),s.set(20,w.Codicon.symbolFile),s.set(21,w.Codicon.symbolReference),s.set(22,w.Codicon.symbolCustomColor),s.set(23,w.Codicon.symbolFolder),s.set(24,w.Codicon.symbolTypeParameter),s.set(25,w.Codicon.account),s.set(26,w.Codicon.issues);function a(S){let f=s.get(S);return f||(console.info("No codicon found for CompletionItemKind "+S),f=w.Codicon.symbolProperty),f}r.toIcon=a;const u=new Map;u.set("method",0),u.set("function",1),u.set("constructor",2),u.set("field",3),u.set("variable",4),u.set("class",5),u.set("struct",6),u.set("interface",7),u.set("module",8),u.set("property",9),u.set("event",10),u.set("operator",11),u.set("unit",12),u.set("value",13),u.set("constant",14),u.set("enum",15),u.set("enum-member",16),u.set("enumMember",16),u.set("keyword",17),u.set("snippet",27),u.set("text",18),u.set("color",19),u.set("file",20),u.set("reference",21),u.set("customcolor",22),u.set("folder",23),u.set("type-parameter",24),u.set("typeParameter",24),u.set("account",25),u.set("issue",26);function p(S,f){let v=u.get(S);return typeof v>"u"&&!f&&(v=9),v}r.fromString=p})(h=e.CompletionItemKinds||(e.CompletionItemKinds={}));var g;(function(r){r[r.Automatic=0]="Automatic",r[r.Explicit=1]="Explicit"})(g=e.InlineCompletionTriggerKind||(e.InlineCompletionTriggerKind={}));var t;(function(r){r[r.Invoke=1]="Invoke",r[r.TriggerCharacter=2]="TriggerCharacter",r[r.ContentChange=3]="ContentChange"})(t=e.SignatureHelpTriggerKind||(e.SignatureHelpTriggerKind={}));var i;(function(r){r[r.Text=0]="Text",r[r.Read=1]="Read",r[r.Write=2]="Write"})(i=e.DocumentHighlightKind||(e.DocumentHighlightKind={}));function n(r){return r&&m.URI.isUri(r.uri)&&k.Range.isIRange(r.range)&&(k.Range.isIRange(r.originSelectionRange)||k.Range.isIRange(r.targetSelectionRange))}e.isLocationLink=n;var o;(function(r){const s=new Map;s.set(0,w.Codicon.symbolFile),s.set(1,w.Codicon.symbolModule),s.set(2,w.Codicon.symbolNamespace),s.set(3,w.Codicon.symbolPackage),s.set(4,w.Codicon.symbolClass),s.set(5,w.Codicon.symbolMethod),s.set(6,w.Codicon.symbolProperty),s.set(7,w.Codicon.symbolField),s.set(8,w.Codicon.symbolConstructor),s.set(9,w.Codicon.symbolEnum),s.set(10,w.Codicon.symbolInterface),s.set(11,w.Codicon.symbolFunction),s.set(12,w.Codicon.symbolVariable),s.set(13,w.Codicon.symbolConstant),s.set(14,w.Codicon.symbolString),s.set(15,w.Codicon.symbolNumber),s.set(16,w.Codicon.symbolBoolean),s.set(17,w.Codicon.symbolArray),s.set(18,w.Codicon.symbolObject),s.set(19,w.Codicon.symbolKey),s.set(20,w.Codicon.symbolNull),s.set(21,w.Codicon.symbolEnumMember),s.set(22,w.Codicon.symbolStruct),s.set(23,w.Codicon.symbolEvent),s.set(24,w.Codicon.symbolOperator),s.set(25,w.Codicon.symbolTypeParameter);function a(u){let p=s.get(u);return p||(console.info("No codicon found for SymbolKind "+u),p=w.Codicon.symbolProperty),p}r.toIcon=a})(o=e.SymbolKinds||(e.SymbolKinds={}));class l{constructor(s){this.value=s}}e.FoldingRangeKind=l,l.Comment=new l("comment"),l.Imports=new l("imports"),l.Region=new l("region");var c;(function(r){function s(a){return!a||typeof a!="object"?!1:typeof a.id=="string"&&typeof a.title=="string"}r.is=s})(c=e.Command||(e.Command={}));var d;(function(r){r[r.Type=1]="Type",r[r.Parameter=2]="Parameter"})(d=e.InlayHintKind||(e.InlayHintKind={})),e.TokenizationRegistry=new D.TokenizationRegistry}),define(se[139],re([1,0,28]),function(q,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.nullTokenizeEncoded=e.nullTokenize=e.NullState=void 0,e.NullState=new class{clone(){return this}equals(D){return this===D}};function m(D,L){return new w.TokenizationResult([new w.Token(0,"",D)],L)}e.nullTokenize=m;function k(D,L){const b=new Uint32Array(2);return b[0]=0,b[1]=(D<<0|0<<8|0<<11|1<<15|2<<24)>>>0,new w.EncodedTokenizationResult(b,L===null?e.NullState:L)}e.nullTokenizeEncoded=k}),define(se[279],re([1,0,8,84,28,139]),function(q,e,w,m,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e._tokenizeToString=e.tokenizeLineToHTML=e.tokenizeToString=void 0;const L={getInitialState:()=>D.NullState,tokenizeEncoded:(g,t,i)=>(0,D.nullTokenizeEncoded)(0,i)};function b(g,t,i){return Se(this,void 0,void 0,function*(){if(!i)return h(t,g.languageIdCodec,L);const n=yield k.TokenizationRegistry.getOrCreate(i);return h(t,g.languageIdCodec,n||L)})}e.tokenizeToString=b;function C(g,t,i,n,o,l,c){let d="<div>",r=n,s=0,a=!0;for(let u=0,p=t.getCount();u<p;u++){const S=t.getEndOffset(u);if(S<=n)continue;let f="";for(;r<S&&r<o;r++){const v=g.charCodeAt(r);switch(v){case 9:{let _=l-(r+s)%l;for(s+=_-1;_>0;)c&&a?(f+="&#160;",a=!1):(f+=" ",a=!0),_--;break}case 60:f+="&lt;",a=!1;break;case 62:f+="&gt;",a=!1;break;case 38:f+="&amp;",a=!1;break;case 0:f+="&#00;",a=!1;break;case 65279:case 8232:case 8233:case 133:f+="\uFFFD",a=!1;break;case 13:f+="&#8203",a=!1;break;case 32:c&&a?(f+="&#160;",a=!1):(f+=" ",a=!0);break;default:f+=String.fromCharCode(v),a=!1}}if(d+=`<span style="${t.getInlineStyle(u,i)}">${f}</span>`,S>o||r>=o)break}return d+="</div>",d}e.tokenizeLineToHTML=C;function h(g,t,i){let n='<div class="monaco-tokenized-source">';const o=w.splitLines(g);let l=i.getInitialState();for(let c=0,d=o.length;c<d;c++){const r=o[c];c>0&&(n+="<br/>");const s=i.tokenizeEncoded(r,!0,l);m.LineTokens.convertToEndOffset(s.tokens,r.length);const u=new m.LineTokens(s.tokens,r,t).inflate();let p=0;for(let S=0,f=u.getCount();S<f;S++){const v=u.getClassName(S),_=u.getEndOffset(S);n+=`<span class="${v}">${w.escape(r.substring(p,_))}</span>`,p=_}l=s.endState}return n+="</div>",n}e._tokenizeToString=h}),define(se[528],re([1,0,18,14,84,28,139,2,56,130,445,10,17]),function(q,e,w,m,k,D,L,b,C,h,g,t,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextModelTokenization=e.TokenizationStateStore=void 0;class n{constructor(s){this._default=s,this._store=[]}get(s){return s<this._store.length?this._store[s]:this._default}set(s,a){for(;s>=this._store.length;)this._store[this._store.length]=this._default;this._store[s]=a}delete(s,a){a===0||s>=this._store.length||this._store.splice(s,a)}insert(s,a){if(a===0||s>=this._store.length)return;const u=[];for(let p=0;p<a;p++)u[p]=this._default;this._store=w.arrayInsert(this._store,s,u)}}class o{get invalidLineStartIndex(){return this._firstLineNeedsTokenization}constructor(s,a){this.tokenizationSupport=s,this.initialState=a,this._lineBeginState=new n(null),this._lineNeedsTokenization=new n(!0),this._firstLineNeedsTokenization=0,this._lineBeginState.set(0,this.initialState)}markMustBeTokenized(s){this._lineNeedsTokenization.set(s,!0),this._firstLineNeedsTokenization=Math.min(this._firstLineNeedsTokenization,s)}getBeginState(s){return this._lineBeginState.get(s)}setEndState(s,a,u){if(this._lineNeedsTokenization.set(a,!1),this._firstLineNeedsTokenization=a+1,a===s-1)return;const p=this._lineBeginState.get(a+1);if(p===null||!u.equals(p)){this._lineBeginState.set(a+1,u),this.markMustBeTokenized(a+1);return}let S=a+1;for(;S<s&&!this._lineNeedsTokenization.get(S);)S++;this._firstLineNeedsTokenization=S}applyEdits(s,a){this.markMustBeTokenized(s.startLineNumber-1),this._lineBeginState.delete(s.startLineNumber,s.endLineNumber-s.startLineNumber),this._lineNeedsTokenization.delete(s.startLineNumber,s.endLineNumber-s.startLineNumber),this._lineBeginState.insert(s.startLineNumber,a),this._lineNeedsTokenization.insert(s.startLineNumber,a)}}e.TokenizationStateStore=o;class l extends b.Disposable{constructor(s,a,u){super(),this._textModel=s,this._tokenizationPart=a,this._languageIdCodec=u,this._isScheduled=!1,this._isDisposed=!1,this._tokenizationStateStore=null,this._register(D.TokenizationRegistry.onDidChange(p=>{const S=this._textModel.getLanguageId();p.changedLanguages.indexOf(S)!==-1&&(this._resetTokenizationState(),this._tokenizationPart.clearTokens())})),this._resetTokenizationState()}dispose(){this._isDisposed=!0,super.dispose()}handleDidChangeContent(s){if(s.isFlush){this._resetTokenizationState();return}if(this._tokenizationStateStore)for(let a=0,u=s.changes.length;a<u;a++){const p=s.changes[a],[S]=(0,h.countEOL)(p.text);this._tokenizationStateStore.applyEdits(p.range,S)}this._beginBackgroundTokenization()}handleDidChangeAttached(){this._beginBackgroundTokenization()}handleDidChangeLanguage(s){this._resetTokenizationState(),this._tokenizationPart.clearTokens()}_resetTokenizationState(){const[s,a]=c(this._textModel,this._tokenizationPart);s&&a?this._tokenizationStateStore=new o(s,a):this._tokenizationStateStore=null,this._beginBackgroundTokenization()}_beginBackgroundTokenization(){this._isScheduled||!this._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._isScheduled=!0,(0,t.runWhenIdle)(s=>{this._isScheduled=!1,this._backgroundTokenizeWithDeadline(s)}))}_backgroundTokenizeWithDeadline(s){const a=Date.now()+s.timeRemaining(),u=()=>{this._isDisposed||!this._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._backgroundTokenizeForAtLeast1ms(),Date.now()<a?(0,i.setTimeout0)(u):this._beginBackgroundTokenization())};u()}_backgroundTokenizeForAtLeast1ms(){const s=this._textModel.getLineCount(),a=new g.ContiguousMultilineTokensBuilder,u=C.StopWatch.create(!1);do if(u.elapsed()>1||this._tokenizeOneInvalidLine(a)>=s)break;while(this._hasLinesToTokenize());this._tokenizationPart.setTokens(a.finalize(),this._isTokenizationComplete())}tokenizeViewport(s,a){const u=new g.ContiguousMultilineTokensBuilder;this._tokenizeViewport(u,s,a),this._tokenizationPart.setTokens(u.finalize(),this._isTokenizationComplete())}reset(){this._resetTokenizationState(),this._tokenizationPart.clearTokens()}forceTokenization(s){const a=new g.ContiguousMultilineTokensBuilder;this._updateTokensUntilLine(a,s),this._tokenizationPart.setTokens(a.finalize(),this._isTokenizationComplete())}getTokenTypeIfInsertingCharacter(s,a){if(!this._tokenizationStateStore)return 0;this.forceTokenization(s.lineNumber);const u=this._tokenizationStateStore.getBeginState(s.lineNumber-1);if(!u)return 0;const p=this._textModel.getLanguageId(),S=this._textModel.getLineContent(s.lineNumber),f=S.substring(0,s.column-1)+a+S.substring(s.column-1),v=d(this._languageIdCodec,p,this._tokenizationStateStore.tokenizationSupport,f,!0,u),_=new k.LineTokens(v.tokens,f,this._languageIdCodec);if(_.getCount()===0)return 0;const y=_.findTokenIndexAtOffset(s.column-1);return _.getStandardTokenType(y)}tokenizeLineWithEdit(s,a,u){const p=s.lineNumber,S=s.column;if(!this._tokenizationStateStore)return null;this.forceTokenization(p);const f=this._tokenizationStateStore.getBeginState(p-1);if(!f)return null;const v=this._textModel.getLineContent(p),_=v.substring(0,S-1)+u+v.substring(S-1+a),y=this._textModel.getLanguageIdAtPosition(p,0),E=d(this._languageIdCodec,y,this._tokenizationStateStore.tokenizationSupport,_,!0,f);return new k.LineTokens(E.tokens,_,this._languageIdCodec)}isCheapToTokenize(s){if(!this._tokenizationStateStore)return!0;const a=this._tokenizationStateStore.invalidLineStartIndex+1;return s>a?!1:s<a||this._textModel.getLineLength(s)<2048}_hasLinesToTokenize(){return this._tokenizationStateStore?this._tokenizationStateStore.invalidLineStartIndex<this._textModel.getLineCount():!1}_isTokenizationComplete(){return this._tokenizationStateStore?this._tokenizationStateStore.invalidLineStartIndex>=this._textModel.getLineCount():!1}_tokenizeOneInvalidLine(s){if(!this._tokenizationStateStore||!this._hasLinesToTokenize())return this._textModel.getLineCount()+1;const a=this._tokenizationStateStore.invalidLineStartIndex+1;return this._updateTokensUntilLine(s,a),a}_updateTokensUntilLine(s,a){if(!this._tokenizationStateStore)return;const u=this._textModel.getLanguageId(),p=this._textModel.getLineCount(),S=a-1;for(let f=this._tokenizationStateStore.invalidLineStartIndex;f<=S;f++){const v=this._textModel.getLineContent(f+1),_=this._tokenizationStateStore.getBeginState(f),y=d(this._languageIdCodec,u,this._tokenizationStateStore.tokenizationSupport,v,!0,_);s.add(f+1,y.tokens),this._tokenizationStateStore.setEndState(p,f,y.endState),f=this._tokenizationStateStore.invalidLineStartIndex-1}}_tokenizeViewport(s,a,u){if(!this._tokenizationStateStore||u<=this._tokenizationStateStore.invalidLineStartIndex)return;if(a<=this._tokenizationStateStore.invalidLineStartIndex){this._updateTokensUntilLine(s,u);return}let p=this._textModel.getLineFirstNonWhitespaceColumn(a);const S=[];let f=null;for(let y=a-1;p>1&&y>=1;y--){const E=this._textModel.getLineFirstNonWhitespaceColumn(y);if(E!==0&&E<p&&(S.push(this._textModel.getLineContent(y)),p=E,f=this._tokenizationStateStore.getBeginState(y-1),f))break}f||(f=this._tokenizationStateStore.initialState);const v=this._textModel.getLanguageId();let _=f;for(let y=S.length-1;y>=0;y--)_=d(this._languageIdCodec,v,this._tokenizationStateStore.tokenizationSupport,S[y],!1,_).endState;for(let y=a;y<=u;y++){const E=this._textModel.getLineContent(y),T=d(this._languageIdCodec,v,this._tokenizationStateStore.tokenizationSupport,E,!0,_);s.add(y,T.tokens),this._tokenizationStateStore.markMustBeTokenized(y-1),_=T.endState}}}e.TextModelTokenization=l;function c(r,s){if(r.isTooLargeForTokenization())return[null,null];const a=D.TokenizationRegistry.get(s.getLanguageId());if(!a)return[null,null];let u;try{u=a.getInitialState()}catch(p){return(0,m.onUnexpectedError)(p),[null,null]}return[a,u]}function d(r,s,a,u,p,S){let f=null;if(a)try{f=a.tokenizeEncoded(u,p,S.clone())}catch(v){(0,m.onUnexpectedError)(v)}return f||(f=(0,L.nullTokenizeEncoded)(r.encodeLanguageId(s),S)),k.LineTokens.convertToEndOffset(f.tokens,u.length),f}}),define(se[529],re([1,0,6,11,132,244,528,447,449]),function(q,e,w,m,k,D,L,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenizationTextModelPart=void 0;class h extends D.TextModelPart{constructor(t,i,n,o,l){super(),this._languageService=t,this._languageConfigurationService=i,this._textModel=n,this.bracketPairsTextModelPart=o,this._languageId=l,this._onDidChangeLanguage=this._register(new w.Emitter),this.onDidChangeLanguage=this._onDidChangeLanguage.event,this._onDidChangeLanguageConfiguration=this._register(new w.Emitter),this.onDidChangeLanguageConfiguration=this._onDidChangeLanguageConfiguration.event,this._onDidChangeTokens=this._register(new w.Emitter),this.onDidChangeTokens=this._onDidChangeTokens.event,this._backgroundTokenizationState=0,this._onBackgroundTokenizationStateChanged=this._register(new w.Emitter),this._tokens=new b.ContiguousTokensStore(this._languageService.languageIdCodec),this._semanticTokens=new C.SparseTokensStore(this._languageService.languageIdCodec),this._tokenization=new L.TextModelTokenization(n,this,this._languageService.languageIdCodec),this._languageRegistryListener=this._languageConfigurationService.onDidChange(c=>{c.affects(this._languageId)&&this._onDidChangeLanguageConfiguration.fire({})})}acceptEdit(t,i,n,o,l){this._tokens.acceptEdit(t,n,o),this._semanticTokens.acceptEdit(t,n,o,l,i.length>0?i.charCodeAt(0):0)}handleDidChangeAttached(){this._tokenization.handleDidChangeAttached()}flush(){this._tokens.flush(),this._semanticTokens.flush()}handleDidChangeContent(t){this._tokenization.handleDidChangeContent(t)}dispose(){this._languageRegistryListener.dispose(),this._tokenization.dispose(),super.dispose()}get backgroundTokenizationState(){return this._backgroundTokenizationState}handleTokenizationProgress(t){if(this._backgroundTokenizationState===2)return;const i=t?2:1;this._backgroundTokenizationState!==i&&(this._backgroundTokenizationState=i,this.bracketPairsTextModelPart.handleDidChangeBackgroundTokenizationState(),this._onBackgroundTokenizationStateChanged.fire())}setTokens(t,i=!1){if(t.length!==0){const n=[];for(let o=0,l=t.length;o<l;o++){const c=t[o];let d=0,r=0,s=!1;for(let a=c.startLineNumber;a<=c.endLineNumber;a++)s?(this._tokens.setTokens(this._languageId,a-1,this._textModel.getLineLength(a),c.getLineTokens(a),!1),r=a):this._tokens.setTokens(this._languageId,a-1,this._textModel.getLineLength(a),c.getLineTokens(a),!0)&&(s=!0,d=a,r=a);s&&n.push({fromLineNumber:d,toLineNumber:r})}n.length>0&&this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!1,ranges:n})}this.handleTokenizationProgress(i)}setSemanticTokens(t,i){this._semanticTokens.set(t,i),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:t!==null,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]})}hasCompleteSemanticTokens(){return this._semanticTokens.isComplete()}hasSomeSemanticTokens(){return!this._semanticTokens.isEmpty()}setPartialSemanticTokens(t,i){if(this.hasCompleteSemanticTokens())return;const n=this._textModel.validateRange(this._semanticTokens.setPartial(t,i));this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!0,ranges:[{fromLineNumber:n.startLineNumber,toLineNumber:n.endLineNumber}]})}tokenizeViewport(t,i){t=Math.max(1,t),i=Math.min(this._textModel.getLineCount(),i),this._tokenization.tokenizeViewport(t,i)}clearTokens(){this._tokens.flush(),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!0,semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]})}_emitModelTokensChangedEvent(t){this._textModel._isDisposing()||(this.bracketPairsTextModelPart.handleDidChangeTokens(t),this._onDidChangeTokens.fire(t))}resetTokenization(){this._tokenization.reset()}forceTokenization(t){if(t<1||t>this._textModel.getLineCount())throw new Error("Illegal value for lineNumber");this._tokenization.forceTokenization(t)}isCheapToTokenize(t){return this._tokenization.isCheapToTokenize(t)}tokenizeIfCheap(t){this.isCheapToTokenize(t)&&this.forceTokenization(t)}getLineTokens(t){if(t<1||t>this._textModel.getLineCount())throw new Error("Illegal value for lineNumber");return this._getLineTokens(t)}_getLineTokens(t){const i=this._textModel.getLineContent(t),n=this._tokens.getTokens(this._languageId,t-1,i);return this._semanticTokens.addSparseTokens(t,n)}getTokenTypeIfInsertingCharacter(t,i,n){const o=this._textModel.validatePosition(new m.Position(t,i));return this._tokenization.getTokenTypeIfInsertingCharacter(o,n)}tokenizeLineWithEdit(t,i,n){const o=this._textModel.validatePosition(t);return this._tokenization.tokenizeLineWithEdit(o,i,n)}getLanguageConfiguration(t){return this._languageConfigurationService.getLanguageConfiguration(t)}getWordAtPosition(t){this.assertNotDisposed();const i=this._textModel.validatePosition(t),n=this._textModel.getLineContent(i.lineNumber),o=this._getLineTokens(i.lineNumber),l=o.findTokenIndexAtOffset(i.column-1),[c,d]=h._findLanguageBoundaries(o,l),r=(0,k.getWordAtText)(i.column,this.getLanguageConfiguration(o.getLanguageId(l)).getWordDefinition(),n.substring(c,d),c);if(r&&r.startColumn<=t.column&&t.column<=r.endColumn)return r;if(l>0&&c===i.column-1){const[s,a]=h._findLanguageBoundaries(o,l-1),u=(0,k.getWordAtText)(i.column,this.getLanguageConfiguration(o.getLanguageId(l-1)).getWordDefinition(),n.substring(s,a),s);if(u&&u.startColumn<=t.column&&t.column<=u.endColumn)return u}return null}static _findLanguageBoundaries(t,i){const n=t.getLanguageId(i);let o=0;for(let c=i;c>=0&&t.getLanguageId(c)===n;c--)o=t.getStartOffset(c);let l=t.getLineContent().length;for(let c=i,d=t.getCount();c<d&&t.getLanguageId(c)===n;c++)l=t.getEndOffset(c);return[o,l]}getWordUntilPosition(t){const i=this.getWordAtPosition(t);return i?{word:i.word.substr(0,t.column-i.startColumn),startColumn:i.startColumn,endColumn:t.column}:{word:"",startColumn:t.column,endColumn:t.column}}getLanguageId(){return this._languageId}getLanguageIdAtPosition(t,i){const n=this._textModel.validatePosition(new m.Position(t,i)),o=this.getLineTokens(n.lineNumber);return o.getLanguageId(o.findTokenIndexAtOffset(n.column-1))}setLanguageId(t,i="api"){if(this._languageId===t)return;const n={oldLanguage:this._languageId,newLanguage:t,source:i};this._languageId=t,this.bracketPairsTextModelPart.handleDidChangeLanguage(n),this._tokenization.handleDidChangeLanguage(n),this._onDidChangeLanguage.fire(n),this._onDidChangeLanguageConfiguration.fire({})}}e.TokenizationTextModelPart=h}),define(se[280],re([1,0,21,6,57,22,11,3,24,28,160]),function(q,e,w,m,k,D,L,b,C,h,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createMonacoBaseAPI=e.KeyMod=void 0;class t{static chord(o,l){return(0,k.KeyChord)(o,l)}}e.KeyMod=t,t.CtrlCmd=2048,t.Shift=1024,t.Alt=512,t.WinCtrl=256;function i(){return{editor:void 0,languages:void 0,CancellationTokenSource:w.CancellationTokenSource,Emitter:m.Emitter,KeyCode:g.KeyCode,KeyMod:t,Position:L.Position,Range:b.Range,Selection:C.Selection,SelectionDirection:g.SelectionDirection,MarkerSeverity:g.MarkerSeverity,MarkerTag:g.MarkerTag,Uri:D.URI,Token:h.Token}}e.createMonacoBaseAPI=i}),define(se[530],re([1,0,149,17,22,11,3,442,132,426,432,280,56,247,424,36]),function(q,e,w,m,k,D,L,b,C,h,g,t,i,n,o,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=e.EditorSimpleWorker=e.MirrorModel=void 0;class c extends b.MirrorTextModel{get uri(){return this._uri}get eol(){return this._eol}getValue(){return this.getText()}getLinesContent(){return this._lines.slice(0)}getLineCount(){return this._lines.length}getLineContent(a){return this._lines[a-1]}getWordAtPosition(a,u){const p=(0,C.getWordAtText)(a.column,(0,C.ensureValidWordDefinition)(u),this._lines[a.lineNumber-1],0);return p?new L.Range(a.lineNumber,p.startColumn,a.lineNumber,p.endColumn):null}words(a){const u=this._lines,p=this._wordenize.bind(this);let S=0,f="",v=0,_=[];return{*[Symbol.iterator](){for(;;)if(v<_.length){const y=f.substring(_[v].start,_[v].end);v+=1,yield y}else if(S<u.length)f=u[S],_=p(f,a),v=0,S+=1;else break}}}getLineWords(a,u){const p=this._lines[a-1],S=this._wordenize(p,u),f=[];for(const v of S)f.push({word:p.substring(v.start,v.end),startColumn:v.start+1,endColumn:v.end+1});return f}_wordenize(a,u){const p=[];let S;for(u.lastIndex=0;(S=u.exec(a))&&S[0].length!==0;)p.push({start:S.index,end:S.index+S[0].length});return p}getValueInRange(a){if(a=this._validateRange(a),a.startLineNumber===a.endLineNumber)return this._lines[a.startLineNumber-1].substring(a.startColumn-1,a.endColumn-1);const u=this._eol,p=a.startLineNumber-1,S=a.endLineNumber-1,f=[];f.push(this._lines[p].substring(a.startColumn-1));for(let v=p+1;v<S;v++)f.push(this._lines[v]);return f.push(this._lines[S].substring(0,a.endColumn-1)),f.join(u)}offsetAt(a){return a=this._validatePosition(a),this._ensureLineStarts(),this._lineStarts.getPrefixSum(a.lineNumber-2)+(a.column-1)}positionAt(a){a=Math.floor(a),a=Math.max(0,a),this._ensureLineStarts();const u=this._lineStarts.getIndexOf(a),p=this._lines[u.index].length;return{lineNumber:1+u.index,column:1+Math.min(u.remainder,p)}}_validateRange(a){const u=this._validatePosition({lineNumber:a.startLineNumber,column:a.startColumn}),p=this._validatePosition({lineNumber:a.endLineNumber,column:a.endColumn});return u.lineNumber!==a.startLineNumber||u.column!==a.startColumn||p.lineNumber!==a.endLineNumber||p.column!==a.endColumn?{startLineNumber:u.lineNumber,startColumn:u.column,endLineNumber:p.lineNumber,endColumn:p.column}:a}_validatePosition(a){if(!D.Position.isIPosition(a))throw new Error("bad position");let{lineNumber:u,column:p}=a,S=!1;if(u<1)u=1,p=1,S=!0;else if(u>this._lines.length)u=this._lines.length,p=this._lines[u-1].length+1,S=!0;else{const f=this._lines[u-1].length+1;p<1?(p=1,S=!0):p>f&&(p=f,S=!0)}return S?{lineNumber:u,column:p}:a}}e.MirrorModel=c;class d{constructor(a,u){this._host=a,this._models=Object.create(null),this._foreignModuleFactory=u,this._foreignModule=null}dispose(){this._models=Object.create(null)}_getModel(a){return this._models[a]}_getModels(){const a=[];return Object.keys(this._models).forEach(u=>a.push(this._models[u])),a}acceptNewModel(a){this._models[a.url]=new c(k.URI.parse(a.url),a.lines,a.EOL,a.versionId)}acceptModelChanged(a,u){if(!this._models[a])return;this._models[a].onEvents(u)}acceptRemovedModel(a){!this._models[a]||delete this._models[a]}computeUnicodeHighlights(a,u,p){return Se(this,void 0,void 0,function*(){const S=this._getModel(a);return S?n.UnicodeTextModelHighlighter.computeUnicodeHighlights(S,u,p):{ranges:[],hasMore:!1,ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0}})}computeDiff(a,u,p){return Se(this,void 0,void 0,function*(){const S=this._getModel(a),f=this._getModel(u);return!S||!f?null:d.computeDiff(S,f,p)})}static computeDiff(a,u,p){const S=p.diffAlgorithm==="experimental"?o.linesDiffComputers.experimental:o.linesDiffComputers.smart,f=a.getLinesContent(),v=u.getLinesContent(),_=S.computeDiff(f,v,p);return{identical:_.changes.length>0?!1:this._modelsAreIdentical(a,u),quitEarly:_.quitEarly,changes:_.changes.map(E=>{var T;return[E.originalRange.startLineNumber,E.originalRange.endLineNumberExclusive,E.modifiedRange.startLineNumber,E.modifiedRange.endLineNumberExclusive,(T=E.innerChanges)===null||T===void 0?void 0:T.map(I=>[I.originalRange.startLineNumber,I.originalRange.startColumn,I.originalRange.endLineNumber,I.originalRange.endColumn,I.modifiedRange.startLineNumber,I.modifiedRange.startColumn,I.modifiedRange.endLineNumber,I.modifiedRange.endColumn])]})}}static _modelsAreIdentical(a,u){const p=a.getLineCount(),S=u.getLineCount();if(p!==S)return!1;for(let f=1;f<=p;f++){const v=a.getLineContent(f),_=u.getLineContent(f);if(v!==_)return!1}return!0}computeMoreMinimalEdits(a,u){return Se(this,void 0,void 0,function*(){const p=this._getModel(a);if(!p)return u;const S=[];let f;u=u.slice(0).sort((v,_)=>{if(v.range&&_.range)return L.Range.compareRangesUsingStarts(v.range,_.range);const y=v.range?0:1,E=_.range?0:1;return y-E});for(let{range:v,text:_,eol:y}of u){if(typeof y=="number"&&(f=y),L.Range.isEmpty(v)&&!_)continue;const E=p.getValueInRange(v);if(_=_.replace(/\r\n|\n|\r/g,p.eol),E===_)continue;if(Math.max(_.length,E.length)>d._diffLimit){S.push({range:v,text:_});continue}const T=(0,w.stringDiff)(E,_,!1),I=p.offsetAt(L.Range.lift(v).getStartPosition());for(const R of T){const F=p.positionAt(I+R.originalStart),O=p.positionAt(I+R.originalStart+R.originalLength),M={text:_.substr(R.modifiedStart,R.modifiedLength),range:{startLineNumber:F.lineNumber,startColumn:F.column,endLineNumber:O.lineNumber,endColumn:O.column}};p.getValueInRange(M.range)!==M.text&&S.push(M)}}return typeof f=="number"&&S.push({eol:f,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),S})}computeLinks(a){return Se(this,void 0,void 0,function*(){const u=this._getModel(a);return u?(0,h.computeLinks)(u):null})}textualSuggest(a,u,p,S){return Se(this,void 0,void 0,function*(){const f=new i.StopWatch(!0),v=new RegExp(p,S),_=new Set;e:for(const y of a){const E=this._getModel(y);if(!!E){for(const T of E.words(v))if(!(T===u||!isNaN(Number(T)))&&(_.add(T),_.size>d._suggestionsLimit))break e}}return{words:Array.from(_),duration:f.elapsed()}})}computeWordRanges(a,u,p,S){return Se(this,void 0,void 0,function*(){const f=this._getModel(a);if(!f)return Object.create(null);const v=new RegExp(p,S),_=Object.create(null);for(let y=u.startLineNumber;y<u.endLineNumber;y++){const E=f.getLineWords(y,v);for(const T of E){if(!isNaN(Number(T.word)))continue;let I=_[T.word];I||(I=[],_[T.word]=I),I.push({startLineNumber:y,startColumn:T.startColumn,endLineNumber:y,endColumn:T.endColumn})}}return _})}navigateValueSet(a,u,p,S,f){return Se(this,void 0,void 0,function*(){const v=this._getModel(a);if(!v)return null;const _=new RegExp(S,f);u.startColumn===u.endColumn&&(u={startLineNumber:u.startLineNumber,startColumn:u.startColumn,endLineNumber:u.endLineNumber,endColumn:u.endColumn+1});const y=v.getValueInRange(u),E=v.getWordAtPosition({lineNumber:u.startLineNumber,column:u.startColumn},_);if(!E)return null;const T=v.getValueInRange(E);return g.BasicInplaceReplace.INSTANCE.navigateValueSet(u,y,E,T,p)})}loadForeignModule(a,u,p){const S=(_,y)=>this._host.fhr(_,y),v={host:(0,l.createProxyObject)(p,S),getMirrorModels:()=>this._getModels()};return this._foreignModuleFactory?(this._foreignModule=this._foreignModuleFactory(v,u),Promise.resolve((0,l.getAllMethodNames)(this._foreignModule))):new Promise((_,y)=>{q([a],E=>{this._foreignModule=E.create(v,u),_((0,l.getAllMethodNames)(this._foreignModule))},y)})}fmr(a,u){if(!this._foreignModule||typeof this._foreignModule[a]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+a));try{return Promise.resolve(this._foreignModule[a].apply(this._foreignModule,u))}catch(p){return Promise.reject(p)}}}e.EditorSimpleWorker=d,d._diffLimit=1e5,d._suggestionsLimit=1e4;function r(s){return new d(s,null)}e.create=r,typeof importScripts=="function"&&(m.globals.monaco=(0,t.createMonacoBaseAPI)())}),define(se[116],re([1,0,8,94,134,456]),function(q,e,w,m,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderViewLine2=e.RenderLineOutput2=e.renderViewLine=e.RenderLineOutput=e.CharacterMapping=e.DomPosition=e.RenderLineInput=e.LineRange=void 0;class L{constructor(v,_){this.startOffset=v,this.endOffset=_}equals(v){return this.startOffset===v.startOffset&&this.endOffset===v.endOffset}}e.LineRange=L;class b{constructor(v,_,y,E,T,I,R,F,O,M,N,A,B,W,x,P,X,ie,K){this.useMonospaceOptimizations=v,this.canUseHalfwidthRightwardsArrow=_,this.lineContent=y,this.continuesWithWrappedLine=E,this.isBasicASCII=T,this.containsRTL=I,this.fauxIndentLength=R,this.lineTokens=F,this.lineDecorations=O.sort(k.LineDecoration.compare),this.tabSize=M,this.startVisibleColumn=N,this.spaceWidth=A,this.stopRenderingLineAfter=x,this.renderWhitespace=P==="all"?4:P==="boundary"?1:P==="selection"?2:P==="trailing"?3:0,this.renderControlCharacters=X,this.fontLigatures=ie,this.selectionsOnLine=K&&K.sort((ne,Z)=>ne.startOffset<Z.startOffset?-1:1);const G=Math.abs(W-A),Q=Math.abs(B-A);G<Q?(this.renderSpaceWidth=W,this.renderSpaceCharCode=11825):(this.renderSpaceWidth=B,this.renderSpaceCharCode=183)}sameSelection(v){if(this.selectionsOnLine===null)return v===null;if(v===null||v.length!==this.selectionsOnLine.length)return!1;for(let _=0;_<this.selectionsOnLine.length;_++)if(!this.selectionsOnLine[_].equals(v[_]))return!1;return!0}equals(v){return this.useMonospaceOptimizations===v.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===v.canUseHalfwidthRightwardsArrow&&this.lineContent===v.lineContent&&this.continuesWithWrappedLine===v.continuesWithWrappedLine&&this.isBasicASCII===v.isBasicASCII&&this.containsRTL===v.containsRTL&&this.fauxIndentLength===v.fauxIndentLength&&this.tabSize===v.tabSize&&this.startVisibleColumn===v.startVisibleColumn&&this.spaceWidth===v.spaceWidth&&this.renderSpaceWidth===v.renderSpaceWidth&&this.renderSpaceCharCode===v.renderSpaceCharCode&&this.stopRenderingLineAfter===v.stopRenderingLineAfter&&this.renderWhitespace===v.renderWhitespace&&this.renderControlCharacters===v.renderControlCharacters&&this.fontLigatures===v.fontLigatures&&k.LineDecoration.equalsArr(this.lineDecorations,v.lineDecorations)&&this.lineTokens.equals(v.lineTokens)&&this.sameSelection(v.selectionsOnLine)}}e.RenderLineInput=b;class C{constructor(v,_){this.partIndex=v,this.charIndex=_}}e.DomPosition=C;class h{static getPartIndex(v){return(v&4294901760)>>>16}static getCharIndex(v){return(v&65535)>>>0}constructor(v,_){this.length=v,this._data=new Uint32Array(this.length),this._horizontalOffset=new Uint32Array(this.length)}setColumnInfo(v,_,y,E){const T=(_<<16|y<<0)>>>0;this._data[v-1]=T,this._horizontalOffset[v-1]=E}getHorizontalOffset(v){return this._horizontalOffset.length===0?0:this._horizontalOffset[v-1]}charOffsetToPartData(v){return this.length===0?0:v<0?this._data[0]:v>=this.length?this._data[this.length-1]:this._data[v]}getDomPosition(v){const _=this.charOffsetToPartData(v-1),y=h.getPartIndex(_),E=h.getCharIndex(_);return new C(y,E)}getColumn(v,_){return this.partDataToCharOffset(v.partIndex,_,v.charIndex)+1}partDataToCharOffset(v,_,y){if(this.length===0)return 0;const E=(v<<16|y<<0)>>>0;let T=0,I=this.length-1;for(;T+1<I;){const x=T+I>>>1,P=this._data[x];if(P===E)return x;P>E?I=x:T=x}if(T===I)return T;const R=this._data[T],F=this._data[I];if(R===E)return T;if(F===E)return I;const O=h.getPartIndex(R),M=h.getCharIndex(R),N=h.getPartIndex(F);let A;O!==N?A=_:A=h.getCharIndex(F);const B=y-M,W=A-y;return B<=W?T:I}}e.CharacterMapping=h;class g{constructor(v,_,y){this._renderLineOutputBrand=void 0,this.characterMapping=v,this.containsRTL=_,this.containsForeignElements=y}}e.RenderLineOutput=g;function t(f,v){if(f.lineContent.length===0){if(f.lineDecorations.length>0){v.appendASCIIString("<span>");let _=0,y=0,E=0;for(const I of f.lineDecorations)(I.type===1||I.type===2)&&(v.appendASCIIString('<span class="'),v.appendASCIIString(I.className),v.appendASCIIString('"></span>'),I.type===1&&(E|=1,_++),I.type===2&&(E|=2,y++));v.appendASCIIString("</span>");const T=new h(1,_+y);return T.setColumnInfo(1,_,0,0),new g(T,!1,E)}return v.appendASCIIString("<span><span></span></span>"),new g(new h(0,0),!1,0)}return p(l(f),v)}e.renderViewLine=t;class i{constructor(v,_,y,E){this.characterMapping=v,this.html=_,this.containsRTL=y,this.containsForeignElements=E}}e.RenderLineOutput2=i;function n(f){const v=new m.StringBuilder(1e4),_=t(f,v);return new i(_.characterMapping,v.build(),_.containsRTL,_.containsForeignElements)}e.renderViewLine2=n;class o{constructor(v,_,y,E,T,I,R,F,O,M,N,A,B,W,x){this.fontIsMonospace=v,this.canUseHalfwidthRightwardsArrow=_,this.lineContent=y,this.len=E,this.isOverflowing=T,this.parts=I,this.containsForeignElements=R,this.fauxIndentLength=F,this.tabSize=O,this.startVisibleColumn=M,this.containsRTL=N,this.spaceWidth=A,this.renderSpaceCharCode=B,this.renderWhitespace=W,this.renderControlCharacters=x}}function l(f){const v=f.lineContent;let _,y;f.stopRenderingLineAfter!==-1&&f.stopRenderingLineAfter<v.length?(_=!0,y=f.stopRenderingLineAfter):(_=!1,y=v.length);let E=c(v,f.containsRTL,f.lineTokens,f.fauxIndentLength,y);f.renderControlCharacters&&!f.isBasicASCII&&(E=s(v,E)),(f.renderWhitespace===4||f.renderWhitespace===1||f.renderWhitespace===2&&!!f.selectionsOnLine||f.renderWhitespace===3)&&(E=a(f,v,y,E));let T=0;if(f.lineDecorations.length>0){for(let I=0,R=f.lineDecorations.length;I<R;I++){const F=f.lineDecorations[I];F.type===3||F.type===1?T|=1:F.type===2&&(T|=2)}E=u(v,y,E,f.lineDecorations)}return f.containsRTL||(E=d(v,E,!f.isBasicASCII||f.fontLigatures)),new o(f.useMonospaceOptimizations,f.canUseHalfwidthRightwardsArrow,v,y,_,E,T,f.fauxIndentLength,f.tabSize,f.startVisibleColumn,f.containsRTL,f.spaceWidth,f.renderSpaceCharCode,f.renderWhitespace,f.renderControlCharacters)}function c(f,v,_,y,E){const T=[];let I=0;y>0&&(T[I++]=new D.LinePart(y,"",0,!1));let R=y;for(let F=0,O=_.getCount();F<O;F++){const M=_.getEndOffset(F);if(M<=y)continue;const N=_.getClassName(F);if(M>=E){const B=v?w.containsRTL(f.substring(R,E)):!1;T[I++]=new D.LinePart(E,N,0,B);break}const A=v?w.containsRTL(f.substring(R,M)):!1;T[I++]=new D.LinePart(M,N,0,A),R=M}return T}function d(f,v,_){let y=0;const E=[];let T=0;if(_)for(let I=0,R=v.length;I<R;I++){const F=v[I],O=F.endIndex;if(y+50<O){const M=F.type,N=F.metadata,A=F.containsRTL;let B=-1,W=y;for(let x=y;x<O;x++)f.charCodeAt(x)===32&&(B=x),B!==-1&&x-W>=50&&(E[T++]=new D.LinePart(B+1,M,N,A),W=B+1,B=-1);W!==O&&(E[T++]=new D.LinePart(O,M,N,A))}else E[T++]=F;y=O}else for(let I=0,R=v.length;I<R;I++){const F=v[I],O=F.endIndex,M=O-y;if(M>50){const N=F.type,A=F.metadata,B=F.containsRTL,W=Math.ceil(M/50);for(let x=1;x<W;x++){const P=y+x*50;E[T++]=new D.LinePart(P,N,A,B)}E[T++]=new D.LinePart(O,N,A,B)}else E[T++]=F;y=O}return E}function r(f){return f<32?f!==9:f===127||f>=8234&&f<=8238||f>=8294&&f<=8297||f>=8206&&f<=8207||f===1564}function s(f,v){const _=[];let y=new D.LinePart(0,"",0,!1),E=0;for(const T of v){const I=T.endIndex;for(;E<I;E++){const R=f.charCodeAt(E);r(R)&&(E>y.endIndex&&(y=new D.LinePart(E,T.type,T.metadata,T.containsRTL),_.push(y)),y=new D.LinePart(E+1,"mtkcontrol",T.metadata,!1),_.push(y))}E>y.endIndex&&(y=new D.LinePart(I,T.type,T.metadata,T.containsRTL),_.push(y))}return _}function a(f,v,_,y){const E=f.continuesWithWrappedLine,T=f.fauxIndentLength,I=f.tabSize,R=f.startVisibleColumn,F=f.useMonospaceOptimizations,O=f.selectionsOnLine,M=f.renderWhitespace===1,N=f.renderWhitespace===3,A=f.renderSpaceWidth!==f.spaceWidth,B=[];let W=0,x=0,P=y[x].type,X=y[x].containsRTL,ie=y[x].endIndex;const K=y.length;let G=!1,Q=w.firstNonWhitespaceIndex(v),ne;Q===-1?(G=!0,Q=_,ne=_):ne=w.lastNonWhitespaceIndex(v);let Z=!1,ee=0,le=O&&O[ee],V=R%I;for(let oe=T;oe<_;oe++){const U=v.charCodeAt(oe);le&&oe>=le.endOffset&&(ee++,le=O&&O[ee]);let ae;if(oe<Q||oe>ne)ae=!0;else if(U===9)ae=!0;else if(U===32)if(M)if(Z)ae=!0;else{const z=oe+1<_?v.charCodeAt(oe+1):0;ae=z===32||z===9}else ae=!0;else ae=!1;if(ae&&O&&(ae=!!le&&le.startOffset<=oe&&le.endOffset>oe),ae&&N&&(ae=G||oe>ne),ae&&X&&oe>=Q&&oe<=ne&&(ae=!1),Z){if(!ae||!F&&V>=I){if(A){const z=W>0?B[W-1].endIndex:T;for(let J=z+1;J<=oe;J++)B[W++]=new D.LinePart(J,"mtkw",1,!1)}else B[W++]=new D.LinePart(oe,"mtkw",1,!1);V=V%I}}else(oe===ie||ae&&oe>T)&&(B[W++]=new D.LinePart(oe,P,0,X),V=V%I);for(U===9?V=I:w.isFullWidthCharacter(U)?V+=2:V++,Z=ae;oe===ie&&(x++,x<K);)P=y[x].type,X=y[x].containsRTL,ie=y[x].endIndex}let $=!1;if(Z)if(E&&M){const oe=_>0?v.charCodeAt(_-1):0,U=_>1?v.charCodeAt(_-2):0;oe===32&&U!==32&&U!==9||($=!0)}else $=!0;if($)if(A){const oe=W>0?B[W-1].endIndex:T;for(let U=oe+1;U<=_;U++)B[W++]=new D.LinePart(U,"mtkw",1,!1)}else B[W++]=new D.LinePart(_,"mtkw",1,!1);else B[W++]=new D.LinePart(_,P,0,X);return B}function u(f,v,_,y){y.sort(k.LineDecoration.compare);const E=k.LineDecorationsNormalizer.normalize(f,y),T=E.length;let I=0;const R=[];let F=0,O=0;for(let N=0,A=_.length;N<A;N++){const B=_[N],W=B.endIndex,x=B.type,P=B.metadata,X=B.containsRTL;for(;I<T&&E[I].startOffset<W;){const ie=E[I];if(ie.startOffset>O&&(O=ie.startOffset,R[F++]=new D.LinePart(O,x,P,X)),ie.endOffset+1<=W)O=ie.endOffset+1,R[F++]=new D.LinePart(O,x+" "+ie.className,P|ie.metadata,X),I++;else{O=W,R[F++]=new D.LinePart(O,x+" "+ie.className,P|ie.metadata,X);break}}W>O&&(O=W,R[F++]=new D.LinePart(O,x,P,X))}const M=_[_.length-1].endIndex;if(I<T&&E[I].startOffset===M)for(;I<T&&E[I].startOffset===M;){const N=E[I];R[F++]=new D.LinePart(O,N.className,N.metadata,!1),I++}return R}function p(f,v){const _=f.fontIsMonospace,y=f.canUseHalfwidthRightwardsArrow,E=f.containsForeignElements,T=f.lineContent,I=f.len,R=f.isOverflowing,F=f.parts,O=f.fauxIndentLength,M=f.tabSize,N=f.startVisibleColumn,A=f.containsRTL,B=f.spaceWidth,W=f.renderSpaceCharCode,x=f.renderWhitespace,P=f.renderControlCharacters,X=new h(I+1,F.length);let ie=!1,K=0,G=N,Q=0,ne=0,Z=0;A?v.appendASCIIString('<span dir="ltr">'):v.appendASCIIString("<span>");for(let ee=0,le=F.length;ee<le;ee++){const V=F[ee],$=V.endIndex,oe=V.type,U=V.containsRTL,ae=x!==0&&V.isWhitespace(),z=ae&&!_&&(oe==="mtkw"||!E),J=K===$&&V.isPseudoAfter();if(Q=0,v.appendASCIIString("<span "),U&&v.appendASCIIString('style="unicode-bidi:isolate" '),v.appendASCIIString('class="'),v.appendASCIIString(z?"mtkz":oe),v.appendASCII(34),ae){let Y=0;{let H=K,j=G;for(;H<$;H++){const ue=(T.charCodeAt(H)===9?M-j%M:1)|0;Y+=ue,H>=O&&(j+=ue)}}for(z&&(v.appendASCIIString(' style="width:'),v.appendASCIIString(String(B*Y)),v.appendASCIIString('px"')),v.appendASCII(62);K<$;K++){X.setColumnInfo(K+1,ee-Z,Q,ne),Z=0;const H=T.charCodeAt(K);let j,de;if(H===9){j=M-G%M|0,de=j,!y||de>1?v.write1(8594):v.write1(65515);for(let ue=2;ue<=de;ue++)v.write1(160)}else j=2,de=1,v.write1(W),v.write1(8204);Q+=j,ne+=de,K>=O&&(G+=de)}}else for(v.appendASCII(62);K<$;K++){X.setColumnInfo(K+1,ee-Z,Q,ne),Z=0;const Y=T.charCodeAt(K);let H=1,j=1;switch(Y){case 9:H=M-G%M,j=H;for(let de=1;de<=H;de++)v.write1(160);break;case 32:v.write1(160);break;case 60:v.appendASCIIString("&lt;");break;case 62:v.appendASCIIString("&gt;");break;case 38:v.appendASCIIString("&amp;");break;case 0:P?v.write1(9216):v.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:v.write1(65533);break;default:w.isFullWidthCharacter(Y)&&j++,P&&Y<32?v.write1(9216+Y):P&&Y===127?v.write1(9249):P&&r(Y)?(v.appendASCIIString("[U+"),v.appendASCIIString(S(Y)),v.appendASCIIString("]"),H=8,j=H):v.write1(Y)}Q+=H,ne+=j,K>=O&&(G+=j)}J?Z++:Z=0,K>=I&&!ie&&V.isPseudoAfter()&&(ie=!0,X.setColumnInfo(K+1,ee,Q,ne)),v.appendASCIIString("</span>")}return ie||X.setColumnInfo(I+1,F.length-1,Q,ne),R&&v.appendASCIIString("<span>&hellip;</span>"),v.appendASCIIString("</span>"),new g(X,A,E)}function S(f){return f.toString(16).toUpperCase().padStart(4,"0")}}),define(se[281],re([1,0,6,2,237,28]),function(q,e,w,m,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MinimapTokensColorTracker=void 0;class L extends m.Disposable{static getInstance(){return this._INSTANCE||(this._INSTANCE=(0,m.markAsSingleton)(new L)),this._INSTANCE}constructor(){super(),this._onDidChange=new w.Emitter,this.onDidChange=this._onDidChange.event,this._updateColorMap(),this._register(D.TokenizationRegistry.onDidChange(C=>{C.changedColorMap&&this._updateColorMap()}))}_updateColorMap(){const C=D.TokenizationRegistry.getColorMap();if(!C){this._colors=[k.RGBA8.Empty],this._backgroundIsLight=!0;return}this._colors=[k.RGBA8.Empty];for(let g=1;g<C.length;g++){const t=C[g].rgba;this._colors[g]=new k.RGBA8(t.r,t.g,t.b,Math.round(t.a*255))}const h=C[2].getRelativeLuminance();this._backgroundIsLight=h>=.5,this._onDidChange.fire(void 0)}getColor(C){return(C<1||C>=this._colors.length)&&(C=2),this._colors[C]}backgroundIsLight(){return this._backgroundIsLight}}e.MinimapTokensColorTracker=L,L._INSTANCE=null}),define(se[210],re([1,0,6,2]),function(q,e,w,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModelTokensChangedEvent=e.ModelOptionsChangedEvent=e.ModelContentChangedEvent=e.ModelLanguageConfigurationChangedEvent=e.ModelLanguageChangedEvent=e.ModelDecorationsChangedEvent=e.ReadOnlyEditAttemptEvent=e.CursorStateChangedEvent=e.HiddenAreasChangedEvent=e.ViewZonesChangedEvent=e.ScrollChangedEvent=e.FocusChangedEvent=e.ContentSizeChangedEvent=e.ViewModelEventsCollector=e.ViewModelEventDispatcher=void 0;class k extends m.Disposable{constructor(){super(),this._onEvent=this._register(new w.Emitter),this.onEvent=this._onEvent.event,this._eventHandlers=[],this._viewEventQueue=null,this._isConsumingViewEventQueue=!1,this._collector=null,this._collectorCnt=0,this._outgoingEvents=[]}emitOutgoingEvent(a){this._addOutgoingEvent(a),this._emitOutgoingEvents()}_addOutgoingEvent(a){for(let u=0,p=this._outgoingEvents.length;u<p;u++){const S=this._outgoingEvents[u].kind===a.kind?this._outgoingEvents[u].attemptToMerge(a):null;if(S){this._outgoingEvents[u]=S;return}}this._outgoingEvents.push(a)}_emitOutgoingEvents(){for(;this._outgoingEvents.length>0;){if(this._collector||this._isConsumingViewEventQueue)return;const a=this._outgoingEvents.shift();a.isNoOp()||this._onEvent.fire(a)}}addViewEventHandler(a){for(let u=0,p=this._eventHandlers.length;u<p;u++)this._eventHandlers[u]===a&&console.warn("Detected duplicate listener in ViewEventDispatcher",a);this._eventHandlers.push(a)}removeViewEventHandler(a){for(let u=0;u<this._eventHandlers.length;u++)if(this._eventHandlers[u]===a){this._eventHandlers.splice(u,1);break}}beginEmitViewEvents(){return this._collectorCnt++,this._collectorCnt===1&&(this._collector=new D),this._collector}endEmitViewEvents(){if(this._collectorCnt--,this._collectorCnt===0){const a=this._collector.outgoingEvents,u=this._collector.viewEvents;this._collector=null;for(const p of a)this._addOutgoingEvent(p);u.length>0&&this._emitMany(u)}this._emitOutgoingEvents()}emitSingleViewEvent(a){try{this.beginEmitViewEvents().emitViewEvent(a)}finally{this.endEmitViewEvents()}}_emitMany(a){this._viewEventQueue?this._viewEventQueue=this._viewEventQueue.concat(a):this._viewEventQueue=a,this._isConsumingViewEventQueue||this._consumeViewEventQueue()}_consumeViewEventQueue(){try{this._isConsumingViewEventQueue=!0,this._doConsumeQueue()}finally{this._isConsumingViewEventQueue=!1}}_doConsumeQueue(){for(;this._viewEventQueue;){const a=this._viewEventQueue;this._viewEventQueue=null;const u=this._eventHandlers.slice(0);for(const p of u)p.handleEvents(a)}}}e.ViewModelEventDispatcher=k;class D{constructor(){this.viewEvents=[],this.outgoingEvents=[]}emitViewEvent(a){this.viewEvents.push(a)}emitOutgoingEvent(a){this.outgoingEvents.push(a)}}e.ViewModelEventsCollector=D;class L{constructor(a,u,p,S){this.kind=0,this._oldContentWidth=a,this._oldContentHeight=u,this.contentWidth=p,this.contentHeight=S,this.contentWidthChanged=this._oldContentWidth!==this.contentWidth,this.contentHeightChanged=this._oldContentHeight!==this.contentHeight}isNoOp(){return!this.contentWidthChanged&&!this.contentHeightChanged}attemptToMerge(a){return a.kind!==this.kind?null:new L(this._oldContentWidth,this._oldContentHeight,a.contentWidth,a.contentHeight)}}e.ContentSizeChangedEvent=L;class b{constructor(a,u){this.kind=1,this.oldHasFocus=a,this.hasFocus=u}isNoOp(){return this.oldHasFocus===this.hasFocus}attemptToMerge(a){return a.kind!==this.kind?null:new b(this.oldHasFocus,a.hasFocus)}}e.FocusChangedEvent=b;class C{constructor(a,u,p,S,f,v,_,y){this.kind=2,this._oldScrollWidth=a,this._oldScrollLeft=u,this._oldScrollHeight=p,this._oldScrollTop=S,this.scrollWidth=f,this.scrollLeft=v,this.scrollHeight=_,this.scrollTop=y,this.scrollWidthChanged=this._oldScrollWidth!==this.scrollWidth,this.scrollLeftChanged=this._oldScrollLeft!==this.scrollLeft,this.scrollHeightChanged=this._oldScrollHeight!==this.scrollHeight,this.scrollTopChanged=this._oldScrollTop!==this.scrollTop}isNoOp(){return!this.scrollWidthChanged&&!this.scrollLeftChanged&&!this.scrollHeightChanged&&!this.scrollTopChanged}attemptToMerge(a){return a.kind!==this.kind?null:new C(this._oldScrollWidth,this._oldScrollLeft,this._oldScrollHeight,this._oldScrollTop,a.scrollWidth,a.scrollLeft,a.scrollHeight,a.scrollTop)}}e.ScrollChangedEvent=C;class h{constructor(){this.kind=3}isNoOp(){return!1}attemptToMerge(a){return a.kind!==this.kind?null:this}}e.ViewZonesChangedEvent=h;class g{constructor(){this.kind=4}isNoOp(){return!1}attemptToMerge(a){return a.kind!==this.kind?null:this}}e.HiddenAreasChangedEvent=g;class t{constructor(a,u,p,S,f,v,_){this.kind=6,this.oldSelections=a,this.selections=u,this.oldModelVersionId=p,this.modelVersionId=S,this.source=f,this.reason=v,this.reachedMaxCursorCount=_}static _selectionsAreEqual(a,u){if(!a&&!u)return!0;if(!a||!u)return!1;const p=a.length,S=u.length;if(p!==S)return!1;for(let f=0;f<p;f++)if(!a[f].equalsSelection(u[f]))return!1;return!0}isNoOp(){return t._selectionsAreEqual(this.oldSelections,this.selections)&&this.oldModelVersionId===this.modelVersionId}attemptToMerge(a){return a.kind!==this.kind?null:new t(this.oldSelections,a.selections,this.oldModelVersionId,a.modelVersionId,a.source,a.reason,this.reachedMaxCursorCount||a.reachedMaxCursorCount)}}e.CursorStateChangedEvent=t;class i{constructor(){this.kind=5}isNoOp(){return!1}attemptToMerge(a){return a.kind!==this.kind?null:this}}e.ReadOnlyEditAttemptEvent=i;class n{constructor(a){this.event=a,this.kind=7}isNoOp(){return!1}attemptToMerge(a){return null}}e.ModelDecorationsChangedEvent=n;class o{constructor(a){this.event=a,this.kind=8}isNoOp(){return!1}attemptToMerge(a){return null}}e.ModelLanguageChangedEvent=o;class l{constructor(a){this.event=a,this.kind=9}isNoOp(){return!1}attemptToMerge(a){return null}}e.ModelLanguageConfigurationChangedEvent=l;class c{constructor(a){this.event=a,this.kind=10}isNoOp(){return!1}attemptToMerge(a){return null}}e.ModelContentChangedEvent=c;class d{constructor(a){this.event=a,this.kind=11}isNoOp(){return!1}attemptToMerge(a){return null}}e.ModelOptionsChangedEvent=d;class r{constructor(a){this.event=a,this.kind=12}isNoOp(){return!1}attemptToMerge(a){return null}}e.ModelTokensChangedEvent=r}),define(se[531],re([1,0,6,2,162,457,75,210]),function(q,e,w,m,k,D,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewLayout=void 0;const C=125;class h{constructor(n,o,l,c){n=n|0,o=o|0,l=l|0,c=c|0,n<0&&(n=0),o<0&&(o=0),l<0&&(l=0),c<0&&(c=0),this.width=n,this.contentWidth=o,this.scrollWidth=Math.max(n,o),this.height=l,this.contentHeight=c,this.scrollHeight=Math.max(l,c)}equals(n){return this.width===n.width&&this.contentWidth===n.contentWidth&&this.height===n.height&&this.contentHeight===n.contentHeight}}class g extends m.Disposable{constructor(n,o){super(),this._onDidContentSizeChange=this._register(new w.Emitter),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._dimensions=new h(0,0,0,0),this._scrollable=this._register(new k.Scrollable({forceIntegerValues:!0,smoothScrollDuration:n,scheduleAtNextAnimationFrame:o})),this.onDidScroll=this._scrollable.onScroll}getScrollable(){return this._scrollable}setSmoothScrollDuration(n){this._scrollable.setSmoothScrollDuration(n)}validateScrollPosition(n){return this._scrollable.validateScrollPosition(n)}getScrollDimensions(){return this._dimensions}setScrollDimensions(n){if(this._dimensions.equals(n))return;const o=this._dimensions;this._dimensions=n,this._scrollable.setScrollDimensions({width:n.width,scrollWidth:n.scrollWidth,height:n.height,scrollHeight:n.scrollHeight},!0);const l=o.contentWidth!==n.contentWidth,c=o.contentHeight!==n.contentHeight;(l||c)&&this._onDidContentSizeChange.fire(new b.ContentSizeChangedEvent(o.contentWidth,o.contentHeight,n.contentWidth,n.contentHeight))}getFutureScrollPosition(){return this._scrollable.getFutureScrollPosition()}getCurrentScrollPosition(){return this._scrollable.getCurrentScrollPosition()}setScrollPositionNow(n){this._scrollable.setScrollPositionNow(n)}setScrollPositionSmooth(n){this._scrollable.setScrollPositionSmooth(n)}}class t extends m.Disposable{constructor(n,o,l){super(),this._configuration=n;const c=this._configuration.options,d=c.get(133),r=c.get(76);this._linesLayout=new D.LinesLayout(o,c.get(60),r.top,r.bottom),this._scrollable=this._register(new g(0,l)),this._configureSmoothScrollDuration(),this._scrollable.setScrollDimensions(new h(d.contentWidth,0,d.height,0)),this.onDidScroll=this._scrollable.onDidScroll,this.onDidContentSizeChange=this._scrollable.onDidContentSizeChange,this._updateHeight()}dispose(){super.dispose()}getScrollable(){return this._scrollable.getScrollable()}onHeightMaybeChanged(){this._updateHeight()}_configureSmoothScrollDuration(){this._scrollable.setSmoothScrollDuration(this._configuration.options.get(104)?C:0)}onConfigurationChanged(n){const o=this._configuration.options;if(n.hasChanged(60)&&this._linesLayout.setLineHeight(o.get(60)),n.hasChanged(76)){const l=o.get(76);this._linesLayout.setPadding(l.top,l.bottom)}if(n.hasChanged(133)){const l=o.get(133),c=l.contentWidth,d=l.height,r=this._scrollable.getScrollDimensions(),s=r.contentWidth;this._scrollable.setScrollDimensions(new h(c,r.contentWidth,d,this._getContentHeight(c,d,s)))}else this._updateHeight();n.hasChanged(104)&&this._configureSmoothScrollDuration()}onFlushed(n){this._linesLayout.onFlushed(n)}onLinesDeleted(n,o){this._linesLayout.onLinesDeleted(n,o)}onLinesInserted(n,o){this._linesLayout.onLinesInserted(n,o)}_getHorizontalScrollbarHeight(n,o){const c=this._configuration.options.get(93);return c.horizontal===2||n>=o?0:c.horizontalScrollbarSize}_getContentHeight(n,o,l){const c=this._configuration.options;let d=this._linesLayout.getLinesTotalHeight();return c.get(95)?d+=Math.max(0,o-c.get(60)-c.get(76).bottom):d+=this._getHorizontalScrollbarHeight(n,l),d}_updateHeight(){const n=this._scrollable.getScrollDimensions(),o=n.width,l=n.height,c=n.contentWidth;this._scrollable.setScrollDimensions(new h(o,n.contentWidth,l,this._getContentHeight(o,l,c)))}getCurrentViewport(){const n=this._scrollable.getScrollDimensions(),o=this._scrollable.getCurrentScrollPosition();return new L.Viewport(o.scrollTop,o.scrollLeft,n.width,n.height)}getFutureViewport(){const n=this._scrollable.getScrollDimensions(),o=this._scrollable.getFutureScrollPosition();return new L.Viewport(o.scrollTop,o.scrollLeft,n.width,n.height)}_computeContentWidth(n){const o=this._configuration.options,l=o.get(134),c=o.get(45),d=o.get(133);if(l.isViewportWrapping){const r=o.get(66);return n>d.contentWidth+c.typicalHalfwidthCharacterWidth&&r.enabled&&r.side==="right"?n+d.verticalScrollbarWidth:n}else{const r=o.get(94)*c.typicalHalfwidthCharacterWidth,s=this._linesLayout.getWhitespaceMinWidth();return Math.max(n+r+d.verticalScrollbarWidth,s)}}setMaxLineWidth(n){const o=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new h(o.width,this._computeContentWidth(n),o.height,o.contentHeight)),this._updateHeight()}saveState(){const n=this._scrollable.getFutureScrollPosition(),o=n.scrollTop,l=this._linesLayout.getLineNumberAtOrAfterVerticalOffset(o),c=this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(l);return{scrollTop:o,scrollTopWithoutViewZones:o-c,scrollLeft:n.scrollLeft}}changeWhitespace(n){const o=this._linesLayout.changeWhitespace(n);return o&&this.onHeightMaybeChanged(),o}getVerticalOffsetForLineNumber(n,o=!1){return this._linesLayout.getVerticalOffsetForLineNumber(n,o)}getVerticalOffsetAfterLineNumber(n,o=!1){return this._linesLayout.getVerticalOffsetAfterLineNumber(n,o)}isAfterLines(n){return this._linesLayout.isAfterLines(n)}isInTopPadding(n){return this._linesLayout.isInTopPadding(n)}isInBottomPadding(n){return this._linesLayout.isInBottomPadding(n)}getLineNumberAtVerticalOffset(n){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(n)}getWhitespaceAtVerticalOffset(n){return this._linesLayout.getWhitespaceAtVerticalOffset(n)}getLinesViewportData(){const n=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(n.top,n.top+n.height)}getLinesViewportDataAtScrollTop(n){const o=this._scrollable.getScrollDimensions();return n+o.height>o.scrollHeight&&(n=o.scrollHeight-o.height),n<0&&(n=0),this._linesLayout.getLinesViewportData(n,n+o.height)}getWhitespaceViewportData(){const n=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(n.top,n.top+n.height)}getWhitespaces(){return this._linesLayout.getWhitespaces()}getContentWidth(){return this._scrollable.getScrollDimensions().contentWidth}getScrollWidth(){return this._scrollable.getScrollDimensions().scrollWidth}getContentHeight(){return this._scrollable.getScrollDimensions().contentHeight}getScrollHeight(){return this._scrollable.getScrollDimensions().scrollHeight}getCurrentScrollLeft(){return this._scrollable.getCurrentScrollPosition().scrollLeft}getCurrentScrollTop(){return this._scrollable.getCurrentScrollPosition().scrollTop}validateScrollPosition(n){return this._scrollable.validateScrollPosition(n)}setScrollPosition(n,o){o===1?this._scrollable.setScrollPositionNow(n):this._scrollable.setScrollPositionSmooth(n)}deltaScrollNow(n,o){const l=this._scrollable.getCurrentScrollPosition();this._scrollable.setScrollPositionNow({scrollLeft:l.scrollLeft+n,scrollTop:l.scrollTop+o})}}e.ViewLayout=t}),define(se[532],re([1,0,6]),function(q,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorPickerModel=void 0;class m{get color(){return this._color}set color(D){this._color.equals(D)||(this._color=D,this._onDidChangeColor.fire(D))}get presentation(){return this.colorPresentations[this.presentationIndex]}get colorPresentations(){return this._colorPresentations}set colorPresentations(D){this._colorPresentations=D,this.presentationIndex>D.length-1&&(this.presentationIndex=0),this._onDidChangePresentation.fire(this.presentation)}constructor(D,L,b){this.presentationIndex=b,this._onColorFlushed=new w.Emitter,this.onColorFlushed=this._onColorFlushed.event,this._onDidChangeColor=new w.Emitter,this.onDidChangeColor=this._onDidChangeColor.event,this._onDidChangePresentation=new w.Emitter,this.onDidChangePresentation=this._onDidChangePresentation.event,this.originalColor=D,this._color=D,this._colorPresentations=L}selectNextColorPresentation(){this.presentationIndex=(this.presentationIndex+1)%this.colorPresentations.length,this.flushColor(),this._onDidChangePresentation.fire(this.presentation)}guessColorPresentation(D,L){for(let b=0;b<this.colorPresentations.length;b++)if(L.toLowerCase()===this.colorPresentations[b].label){this.presentationIndex=b,this._onDidChangePresentation.fire(this.presentation);break}}flushColor(){this._onColorFlushed.fire(this._color)}}e.ColorPickerModel=m}),define(se[533],re([1,0,6,161,107]),function(q,e,w,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getNextFoldLine=e.getPreviousFoldLine=e.getParentFoldLine=e.setCollapseStateForType=e.setCollapseStateForMatchingLines=e.setCollapseStateForRest=e.setCollapseStateAtLevel=e.setCollapseStateUp=e.setCollapseStateLevelsUp=e.setCollapseStateLevelsDown=e.toggleCollapseState=e.FoldingModel=void 0;class D{get regions(){return this._regions}get textModel(){return this._textModel}constructor(r,s){this._updateEventEmitter=new w.Emitter,this.onDidChange=this._updateEventEmitter.event,this._textModel=r,this._decorationProvider=s,this._regions=new m.FoldingRegions(new Uint32Array(0),new Uint32Array(0)),this._editorDecorationIds=[]}toggleCollapseState(r){if(!r.length)return;r=r.sort((a,u)=>a.regionIndex-u.regionIndex);const s={};this._decorationProvider.changeDecorations(a=>{let u=0,p=-1,S=-1;const f=v=>{for(;u<v;){const _=this._regions.getEndLineNumber(u),y=this._regions.isCollapsed(u);if(_<=p){const E=this.regions.getSource(u)!==0;a.changeDecorationOptions(this._editorDecorationIds[u],this._decorationProvider.getDecorationOption(y,_<=S,E))}y&&_>S&&(S=_),u++}};for(const v of r){const _=v.regionIndex,y=this._editorDecorationIds[_];if(y&&!s[y]){s[y]=!0,f(_);const E=!this._regions.isCollapsed(_);this._regions.setCollapsed(_,E),p=Math.max(p,this._regions.getEndLineNumber(_))}}f(this._regions.length)}),this._updateEventEmitter.fire({model:this,collapseStateChanged:r})}removeManualRanges(r){const s=new Array,a=u=>{for(const p of r)if(!(p.startLineNumber>u.endLineNumber||u.startLineNumber>p.endLineNumber))return!0;return!1};for(let u=0;u<this._regions.length;u++){const p=this._regions.toFoldRange(u);(p.source===0||!a(p))&&s.push(p)}this.updatePost(m.FoldingRegions.fromFoldRanges(s))}update(r,s=[]){const a=this._currentFoldedOrManualRanges(s),u=m.FoldingRegions.sanitizeAndMerge(r,a,this._textModel.getLineCount());this.updatePost(m.FoldingRegions.fromFoldRanges(u))}updatePost(r){const s=[];let a=-1;for(let u=0,p=r.length;u<p;u++){const S=r.getStartLineNumber(u),f=r.getEndLineNumber(u),v=r.isCollapsed(u),_=r.getSource(u)!==0,y={startLineNumber:S,startColumn:this._textModel.getLineMaxColumn(S),endLineNumber:f,endColumn:this._textModel.getLineMaxColumn(f)+1};s.push({range:y,options:this._decorationProvider.getDecorationOption(v,f<=a,_)}),v&&f>a&&(a=f)}this._decorationProvider.changeDecorations(u=>this._editorDecorationIds=u.deltaDecorations(this._editorDecorationIds,s)),this._regions=r,this._updateEventEmitter.fire({model:this})}_currentFoldedOrManualRanges(r=[]){const s=(u,p)=>{for(const S of r)if(u<S&&S<=p)return!0;return!1},a=[];for(let u=0,p=this._regions.length;u<p;u++){let S=this.regions.isCollapsed(u);const f=this.regions.getSource(u);if(S||f!==0){const v=this._regions.toFoldRange(u),_=this._textModel.getDecorationRange(this._editorDecorationIds[u]);_&&(S&&(s(_.startLineNumber,_.endLineNumber)||_.endLineNumber-_.startLineNumber!==v.endLineNumber-v.startLineNumber)&&(S=!1),a.push({startLineNumber:_.startLineNumber,endLineNumber:_.endLineNumber,type:v.type,isCollapsed:S,source:f}))}}return a}getMemento(){const r=this._currentFoldedOrManualRanges(),s=[];for(let a=0,u=r.length;a<u;a++){const p=r[a],S=this._getLinesChecksum(p.startLineNumber+1,p.endLineNumber);s.push({startLineNumber:p.startLineNumber,endLineNumber:p.endLineNumber,isCollapsed:p.isCollapsed,source:p.source,checksum:S})}return s.length>0?s:void 0}applyMemento(r){var s,a;if(!Array.isArray(r))return;const u=[],p=this._textModel.getLineCount();for(const f of r){if(f.startLineNumber>=f.endLineNumber||f.startLineNumber<1||f.endLineNumber>p)continue;const v=this._getLinesChecksum(f.startLineNumber+1,f.endLineNumber);(!f.checksum||v===f.checksum)&&u.push({startLineNumber:f.startLineNumber,endLineNumber:f.endLineNumber,type:void 0,isCollapsed:(s=f.isCollapsed)!==null&&s!==void 0?s:!0,source:(a=f.source)!==null&&a!==void 0?a:0})}const S=m.FoldingRegions.sanitizeAndMerge(this._regions,u,p);this.updatePost(m.FoldingRegions.fromFoldRanges(S))}_getLinesChecksum(r,s){return(0,k.hash)(this._textModel.getLineContent(r)+this._textModel.getLineContent(s))%1e6}dispose(){this._decorationProvider.removeDecorations(this._editorDecorationIds)}getAllRegionsAtLine(r,s){const a=[];if(this._regions){let u=this._regions.findRange(r),p=1;for(;u>=0;){const S=this._regions.toRegion(u);(!s||s(S,p))&&a.push(S),p++,u=S.parentIndex}}return a}getRegionAtLine(r){if(this._regions){const s=this._regions.findRange(r);if(s>=0)return this._regions.toRegion(s)}return null}getRegionsInside(r,s){const a=[],u=r?r.regionIndex+1:0,p=r?r.endLineNumber:Number.MAX_VALUE;if(s&&s.length===2){const S=[];for(let f=u,v=this._regions.length;f<v;f++){const _=this._regions.toRegion(f);if(this._regions.getStartLineNumber(f)<p){for(;S.length>0&&!_.containedBy(S[S.length-1]);)S.pop();S.push(_),s(_,S.length)&&a.push(_)}else break}}else for(let S=u,f=this._regions.length;S<f;S++){const v=this._regions.toRegion(S);if(this._regions.getStartLineNumber(S)<p)(!s||s(v))&&a.push(v);else break}return a}}e.FoldingModel=D;function L(d,r,s){const a=[];for(const u of s){const p=d.getRegionAtLine(u);if(p){const S=!p.isCollapsed;if(a.push(p),r>1){const f=d.getRegionsInside(p,(v,_)=>v.isCollapsed!==S&&_<r);a.push(...f)}}}d.toggleCollapseState(a)}e.toggleCollapseState=L;function b(d,r,s=Number.MAX_VALUE,a){const u=[];if(a&&a.length>0)for(const p of a){const S=d.getRegionAtLine(p);if(S&&(S.isCollapsed!==r&&u.push(S),s>1)){const f=d.getRegionsInside(S,(v,_)=>v.isCollapsed!==r&&_<s);u.push(...f)}}else{const p=d.getRegionsInside(null,(S,f)=>S.isCollapsed!==r&&f<s);u.push(...p)}d.toggleCollapseState(u)}e.setCollapseStateLevelsDown=b;function C(d,r,s,a){const u=[];for(const p of a){const S=d.getAllRegionsAtLine(p,(f,v)=>f.isCollapsed!==r&&v<=s);u.push(...S)}d.toggleCollapseState(u)}e.setCollapseStateLevelsUp=C;function h(d,r,s){const a=[];for(const u of s){const p=d.getAllRegionsAtLine(u,S=>S.isCollapsed!==r);p.length>0&&a.push(p[0])}d.toggleCollapseState(a)}e.setCollapseStateUp=h;function g(d,r,s,a){const u=(S,f)=>f===r&&S.isCollapsed!==s&&!a.some(v=>S.containsLine(v)),p=d.getRegionsInside(null,u);d.toggleCollapseState(p)}e.setCollapseStateAtLevel=g;function t(d,r,s){const a=[];for(const S of s){const f=d.getAllRegionsAtLine(S,void 0);f.length>0&&a.push(f[0])}const u=S=>a.every(f=>!f.containedBy(S)&&!S.containedBy(f))&&S.isCollapsed!==r,p=d.getRegionsInside(null,u);d.toggleCollapseState(p)}e.setCollapseStateForRest=t;function i(d,r,s){const a=d.textModel,u=d.regions,p=[];for(let S=u.length-1;S>=0;S--)if(s!==u.isCollapsed(S)){const f=u.getStartLineNumber(S);r.test(a.getLineContent(f))&&p.push(u.toRegion(S))}d.toggleCollapseState(p)}e.setCollapseStateForMatchingLines=i;function n(d,r,s){const a=d.regions,u=[];for(let p=a.length-1;p>=0;p--)s!==a.isCollapsed(p)&&r===a.getType(p)&&u.push(a.toRegion(p));d.toggleCollapseState(u)}e.setCollapseStateForType=n;function o(d,r){let s=null;const a=r.getRegionAtLine(d);if(a!==null&&(s=a.startLineNumber,d===s)){const u=a.parentIndex;u!==-1?s=r.regions.getStartLineNumber(u):s=null}return s}e.getParentFoldLine=o;function l(d,r){let s=r.getRegionAtLine(d);if(s!==null&&s.startLineNumber===d){if(d!==s.startLineNumber)return s.startLineNumber;{const a=s.parentIndex;let u=0;for(a!==-1&&(u=r.regions.getStartLineNumber(s.parentIndex));s!==null;)if(s.regionIndex>0){if(s=r.regions.toRegion(s.regionIndex-1),s.startLineNumber<=u)return null;if(s.parentIndex===a)return s.startLineNumber}else return null}}else if(r.regions.length>0)for(s=r.regions.toRegion(r.regions.length-1);s!==null;){if(s.startLineNumber<d)return s.startLineNumber;s.regionIndex>0?s=r.regions.toRegion(s.regionIndex-1):s=null}return null}e.getPreviousFoldLine=l;function c(d,r){let s=r.getRegionAtLine(d);if(s!==null&&s.startLineNumber===d){const a=s.parentIndex;let u=0;if(a!==-1)u=r.regions.getEndLineNumber(s.parentIndex);else{if(r.regions.length===0)return null;u=r.regions.getEndLineNumber(r.regions.length-1)}for(;s!==null;)if(s.regionIndex<r.regions.length){if(s=r.regions.toRegion(s.regionIndex+1),s.startLineNumber>=u)return null;if(s.parentIndex===a)return s.startLineNumber}else return null}else if(r.regions.length>0)for(s=r.regions.toRegion(0);s!==null;){if(s.startLineNumber>d)return s.startLineNumber;s.regionIndex<r.regions.length?s=r.regions.toRegion(s.regionIndex+1):s=null}return null}e.getNextFoldLine=c}),define(se[534],re([1,0,18,6,3,130]),function(q,e,w,m,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HiddenRangeModel=void 0;class L{get onDidChange(){return this._updateEventEmitter.event}get hiddenRanges(){return this._hiddenRanges}constructor(g){this._updateEventEmitter=new m.Emitter,this._hasLineChanges=!1,this._foldingModel=g,this._foldingModelListener=g.onDidChange(t=>this.updateHiddenRanges()),this._hiddenRanges=[],g.regions.length&&this.updateHiddenRanges()}notifyChangeModelContent(g){this._hiddenRanges.length&&!this._hasLineChanges&&(this._hasLineChanges=g.changes.some(t=>t.range.endLineNumber!==t.range.startLineNumber||(0,D.countEOL)(t.text)[0]!==0))}updateHiddenRanges(){let g=!1;const t=[];let i=0,n=0,o=Number.MAX_VALUE,l=-1;const c=this._foldingModel.regions;for(;i<c.length;i++){if(!c.isCollapsed(i))continue;const d=c.getStartLineNumber(i)+1,r=c.getEndLineNumber(i);o<=d&&r<=l||(!g&&n<this._hiddenRanges.length&&this._hiddenRanges[n].startLineNumber===d&&this._hiddenRanges[n].endLineNumber===r?(t.push(this._hiddenRanges[n]),n++):(g=!0,t.push(new k.Range(d,1,r,1))),o=d,l=r)}(this._hasLineChanges||g||n<this._hiddenRanges.length)&&this.applyHiddenRanges(t)}applyHiddenRanges(g){this._hiddenRanges=g,this._hasLineChanges=!1,this._updateEventEmitter.fire(g)}hasRanges(){return this._hiddenRanges.length>0}isHidden(g){return C(this._hiddenRanges,g)!==null}adjustSelections(g){let t=!1;const i=this._foldingModel.textModel;let n=null;const o=l=>((!n||!b(l,n))&&(n=C(this._hiddenRanges,l)),n?n.startLineNumber-1:null);for(let l=0,c=g.length;l<c;l++){let d=g[l];const r=o(d.startLineNumber);r&&(d=d.setStartPosition(r,i.getLineMaxColumn(r)),t=!0);const s=o(d.endLineNumber);s&&(d=d.setEndPosition(s,i.getLineMaxColumn(s)),t=!0),g[l]=d}return t}dispose(){this.hiddenRanges.length>0&&(this._hiddenRanges=[],this._updateEventEmitter.fire(this._hiddenRanges)),this._foldingModelListener&&(this._foldingModelListener.dispose(),this._foldingModelListener=null)}}e.HiddenRangeModel=L;function b(h,g){return h>=g.startLineNumber&&h<=g.endLineNumber}function C(h,g){const t=(0,w.findFirstInSorted)(h,i=>g<i.startLineNumber)-1;return t>=0&&h[t].endLineNumber>=g?h[t]:null}}),define(se[166],re([1,0,6,2,17]),function(q,e,w,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ClickLinkGesture=e.ClickLinkOptions=e.ClickLinkKeyboardEvent=e.ClickLinkMouseEvent=void 0;function D(t,i){return!!t[i]}class L{constructor(i,n){this.target=i.target,this.isLeftClick=i.event.leftButton,this.isMiddleClick=i.event.middleButton,this.isRightClick=i.event.rightButton,this.hasTriggerModifier=D(i.event,n.triggerModifier),this.hasSideBySideModifier=D(i.event,n.triggerSideBySideModifier),this.isNoneOrSingleMouseDown=i.event.detail<=1}}e.ClickLinkMouseEvent=L;class b{constructor(i,n){this.keyCodeIsTriggerKey=i.keyCode===n.triggerKey,this.keyCodeIsSideBySideKey=i.keyCode===n.triggerSideBySideKey,this.hasTriggerModifier=D(i,n.triggerModifier)}}e.ClickLinkKeyboardEvent=b;class C{constructor(i,n,o,l){this.triggerKey=i,this.triggerModifier=n,this.triggerSideBySideKey=o,this.triggerSideBySideModifier=l}equals(i){return this.triggerKey===i.triggerKey&&this.triggerModifier===i.triggerModifier&&this.triggerSideBySideKey===i.triggerSideBySideKey&&this.triggerSideBySideModifier===i.triggerSideBySideModifier}}e.ClickLinkOptions=C;function h(t){return t==="altKey"?k.isMacintosh?new C(57,"metaKey",6,"altKey"):new C(5,"ctrlKey",6,"altKey"):k.isMacintosh?new C(6,"altKey",57,"metaKey"):new C(6,"altKey",5,"ctrlKey")}class g extends m.Disposable{constructor(i,n){super(),this._onMouseMoveOrRelevantKeyDown=this._register(new w.Emitter),this.onMouseMoveOrRelevantKeyDown=this._onMouseMoveOrRelevantKeyDown.event,this._onExecute=this._register(new w.Emitter),this.onExecute=this._onExecute.event,this._onCancel=this._register(new w.Emitter),this.onCancel=this._onCancel.event,this._editor=i,this._alwaysFireExecuteOnMouseUp=n,this._opts=h(this._editor.getOption(71)),this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._register(this._editor.onDidChangeConfiguration(o=>{if(o.hasChanged(71)){const l=h(this._editor.getOption(71));if(this._opts.equals(l))return;this._opts=l,this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._onCancel.fire()}})),this._register(this._editor.onMouseMove(o=>this._onEditorMouseMove(new L(o,this._opts)))),this._register(this._editor.onMouseDown(o=>this._onEditorMouseDown(new L(o,this._opts)))),this._register(this._editor.onMouseUp(o=>this._onEditorMouseUp(new L(o,this._opts)))),this._register(this._editor.onKeyDown(o=>this._onEditorKeyDown(new b(o,this._opts)))),this._register(this._editor.onKeyUp(o=>this._onEditorKeyUp(new b(o,this._opts)))),this._register(this._editor.onMouseDrag(()=>this._resetHandler())),this._register(this._editor.onDidChangeCursorSelection(o=>this._onDidChangeCursorSelection(o))),this._register(this._editor.onDidChangeModel(o=>this._resetHandler())),this._register(this._editor.onDidChangeModelContent(()=>this._resetHandler())),this._register(this._editor.onDidScrollChange(o=>{(o.scrollTopChanged||o.scrollLeftChanged)&&this._resetHandler()}))}_onDidChangeCursorSelection(i){i.selection&&i.selection.startColumn!==i.selection.endColumn&&this._resetHandler()}_onEditorMouseMove(i){this._lastMouseMoveEvent=i,this._onMouseMoveOrRelevantKeyDown.fire([i,null])}_onEditorMouseDown(i){this._hasTriggerKeyOnMouseDown=i.hasTriggerModifier,this._lineNumberOnMouseDown=i.target.position?i.target.position.lineNumber:0}_onEditorMouseUp(i){const n=i.target.position?i.target.position.lineNumber:0;(this._hasTriggerKeyOnMouseDown&&this._lineNumberOnMouseDown&&this._lineNumberOnMouseDown===n||this._alwaysFireExecuteOnMouseUp)&&this._onExecute.fire(i)}_onEditorKeyDown(i){this._lastMouseMoveEvent&&(i.keyCodeIsTriggerKey||i.keyCodeIsSideBySideKey&&i.hasTriggerModifier)?this._onMouseMoveOrRelevantKeyDown.fire([this._lastMouseMoveEvent,i]):i.hasTriggerModifier&&this._onCancel.fire()}_onEditorKeyUp(i){i.keyCodeIsTriggerKey&&this._onCancel.fire()}_resetHandler(){this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._onCancel.fire()}}e.ClickLinkGesture=g});var _t=this&&this.__asyncValues||function(q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=q[Symbol.asyncIterator],w;return e?e.call(q):(q=typeof __values=="function"?__values(q):q[Symbol.iterator](),w={},m("next"),m("throw"),m("return"),w[Symbol.asyncIterator]=function(){return this},w);function m(D){w[D]=q[D]&&function(L){return new Promise(function(b,C){L=q[D](L),k(b,C,L.done,L.value)})}}function k(D,L,b,C){Promise.resolve(C).then(function(h){D({value:h,done:b})},L)}};define(se[282],re([1,0,10,14,6,2]),function(q,e,w,m,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HoverOperation=e.HoverResult=void 0;class L{constructor(h,g,t){this.value=h,this.isComplete=g,this.hasLoadingMessage=t}}e.HoverResult=L;class b extends D.Disposable{constructor(h,g){super(),this._editor=h,this._computer=g,this._onResult=this._register(new k.Emitter),this.onResult=this._onResult.event,this._firstWaitScheduler=this._register(new w.RunOnceScheduler(()=>this._triggerAsyncComputation(),0)),this._secondWaitScheduler=this._register(new w.RunOnceScheduler(()=>this._triggerSyncComputation(),0)),this._loadingMessageScheduler=this._register(new w.RunOnceScheduler(()=>this._triggerLoadingMessage(),0)),this._state=0,this._asyncIterable=null,this._asyncIterableDone=!1,this._result=[]}dispose(){this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),super.dispose()}get _hoverTime(){return this._editor.getOption(54).delay}get _firstWaitTime(){return this._hoverTime/2}get _secondWaitTime(){return this._hoverTime-this._firstWaitTime}get _loadingMessageTime(){return 3*this._hoverTime}_setState(h,g=!0){this._state=h,g&&this._fireResult()}_triggerAsyncComputation(){this._setState(2),this._secondWaitScheduler.schedule(this._secondWaitTime),this._computer.computeAsync?(this._asyncIterableDone=!1,this._asyncIterable=(0,w.createCancelableAsyncIterable)(h=>this._computer.computeAsync(h)),Se(this,void 0,void 0,function*(){var h,g;try{try{for(var t=_t(this._asyncIterable),i;i=yield t.next(),!i.done;){const n=i.value;n&&(this._result.push(n),this._fireResult())}}catch(n){h={error:n}}finally{try{i&&!i.done&&(g=t.return)&&(yield g.call(t))}finally{if(h)throw h.error}}this._asyncIterableDone=!0,(this._state===3||this._state===4)&&this._setState(0)}catch(n){(0,m.onUnexpectedError)(n)}})):this._asyncIterableDone=!0}_triggerSyncComputation(){this._computer.computeSync&&(this._result=this._result.concat(this._computer.computeSync())),this._setState(this._asyncIterableDone?0:3)}_triggerLoadingMessage(){this._state===3&&this._setState(4)}_fireResult(){if(this._state===1||this._state===2)return;const h=this._state===0,g=this._state===4;this._onResult.fire(new L(this._result.slice(0),h,g))}start(h){if(h===0)this._state===0&&(this._setState(1),this._firstWaitScheduler.schedule(this._firstWaitTime),this._loadingMessageScheduler.schedule(this._loadingMessageTime));else switch(this._state){case 0:this._triggerAsyncComputation(),this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break;case 2:this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break}}cancel(){this._firstWaitScheduler.cancel(),this._secondWaitScheduler.cancel(),this._loadingMessageScheduler.cancel(),this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),this._result=[],this._setState(0,!1)}}e.HoverOperation=b}),define(se[283],re([1,0,14,2,11,3,49,22]),function(q,e,w,m,k,D,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.asCommandLink=e.InlayHintsFragments=e.InlayHintItem=e.InlayHintAnchor=void 0;class C{constructor(n,o){this.range=n,this.direction=o}}e.InlayHintAnchor=C;class h{constructor(n,o,l){this.hint=n,this.anchor=o,this.provider=l,this._isResolved=!1}with(n){const o=new h(this.hint,n.anchor,this.provider);return o._isResolved=this._isResolved,o._currentResolve=this._currentResolve,o}resolve(n){return Se(this,void 0,void 0,function*(){if(typeof this.provider.resolveInlayHint=="function"){if(this._currentResolve)return yield this._currentResolve,n.isCancellationRequested?void 0:this.resolve(n);this._isResolved||(this._currentResolve=this._doResolve(n).finally(()=>this._currentResolve=void 0)),yield this._currentResolve}})}_doResolve(n){var o,l;return Se(this,void 0,void 0,function*(){try{const c=yield Promise.resolve(this.provider.resolveInlayHint(this.hint,n));this.hint.tooltip=(o=c?.tooltip)!==null&&o!==void 0?o:this.hint.tooltip,this.hint.label=(l=c?.label)!==null&&l!==void 0?l:this.hint.label,this._isResolved=!0}catch(c){(0,w.onUnexpectedExternalError)(c),this._isResolved=!1}})}}e.InlayHintItem=h;class g{static create(n,o,l,c){return Se(this,void 0,void 0,function*(){const d=[],r=n.ordered(o).reverse().map(s=>l.map(a=>Se(this,void 0,void 0,function*(){try{const u=yield s.provideInlayHints(o,a,c);u?.hints.length&&d.push([u,s])}catch(u){(0,w.onUnexpectedExternalError)(u)}})));if(yield Promise.all(r.flat()),c.isCancellationRequested||o.isDisposed())throw new w.CancellationError;return new g(l,d,o)})}constructor(n,o,l){this._disposables=new m.DisposableStore,this.ranges=n,this.provider=new Set;const c=[];for(const[d,r]of o){this._disposables.add(d),this.provider.add(r);for(const s of d.hints){const a=l.validatePosition(s.position);let u="before";const p=g._getRangeAtPosition(l,a);let S;p.getStartPosition().isBefore(a)?(S=D.Range.fromPositions(p.getStartPosition(),a),u="after"):(S=D.Range.fromPositions(a,p.getEndPosition()),u="before"),c.push(new h(s,new C(S,u),r))}}this.items=c.sort((d,r)=>k.Position.compare(d.hint.position,r.hint.position))}dispose(){this._disposables.dispose()}static _getRangeAtPosition(n,o){const l=o.lineNumber,c=n.getWordAtPosition(o);if(c)return new D.Range(l,c.startColumn,l,c.endColumn);n.tokenization.tokenizeIfCheap(l);const d=n.tokenization.getLineTokens(l),r=o.column-1,s=d.findTokenIndexAtOffset(r);let a=d.getStartOffset(s),u=d.getEndOffset(s);return u-a===1&&(a===r&&s>1?(a=d.getStartOffset(s-1),u=d.getEndOffset(s-1)):u===r&&s<d.getCount()-1&&(a=d.getStartOffset(s+1),u=d.getEndOffset(s+1))),new D.Range(l,a+1,l,u+1)}}e.InlayHintsFragments=g;function t(i){return b.URI.from({scheme:L.Schemas.command,path:i.id,query:i.arguments&&encodeURIComponent(JSON.stringify(i.arguments))}).toString()}e.asCommandLink=t}),define(se[167],re([1,0,6,2,195]),function(q,e,w,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BaseGhostTextWidgetModel=e.GhostTextReplacement=e.GhostTextPart=e.GhostText=void 0;class D{constructor(g,t,i=0){this.lineNumber=g,this.parts=t,this.additionalReservedLineCount=i}renderForScreenReader(g){if(this.parts.length===0)return"";const t=this.parts[this.parts.length-1],i=g.substr(0,t.column-1);return(0,k.applyEdits)(i,this.parts.map(o=>({range:{startLineNumber:1,endLineNumber:1,startColumn:o.column,endColumn:o.column},text:o.lines.join(`
`)}))).substring(this.parts[0].column-1)}isEmpty(){return this.parts.every(g=>g.lines.length===0)}}e.GhostText=D;class L{constructor(g,t,i){this.column=g,this.lines=t,this.preview=i}}e.GhostTextPart=L;class b{constructor(g,t,i,n,o=0){this.lineNumber=g,this.columnStart=t,this.length=i,this.newLines=n,this.additionalReservedLineCount=o,this.parts=[new L(this.columnStart+this.length,this.newLines,!1)]}renderForScreenReader(g){return this.newLines.join(`
`)}}e.GhostTextReplacement=b;class C extends m.Disposable{constructor(g){super(),this.editor=g,this._expanded=void 0,this.onDidChangeEmitter=new w.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this._register(g.onDidChangeConfiguration(t=>{t.hasChanged(108)&&this._expanded===void 0&&this.onDidChangeEmitter.fire()}))}setExpanded(g){this._expanded=!0,this.onDidChangeEmitter.fire()}}e.BaseGhostTextWidgetModel=C}),define(se[211],re([1,0,149,8,3,167]),function(q,e,w,m,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.inlineCompletionToGhostText=e.normalizedInlineCompletionsEquals=e.minimizeInlineCompletion=void 0;function L(n,o){if(!o)return o;const l=n.getValueInRange(o.range),c=m.commonPrefixLength(l,o.insertText),d=n.getOffsetAt(o.range.getStartPosition())+c,r=n.getPositionAt(d),s=l.substr(c),a=m.commonSuffixLength(s,o.insertText),u=n.getPositionAt(Math.max(d,n.getOffsetAt(o.range.getEndPosition())-a));return{range:k.Range.fromPositions(r,u),insertText:o.insertText.substr(c,o.insertText.length-c-a),snippetInfo:o.snippetInfo,filterText:o.filterText,additionalTextEdits:o.additionalTextEdits}}e.minimizeInlineCompletion=L;function b(n,o){return n===o?!0:!n||!o?!1:n.range.equalsRange(o.range)&&n.insertText===o.insertText&&n.command===o.command}e.normalizedInlineCompletionsEquals=b;function C(n,o,l,c,d=0){if(n.range.startLineNumber!==n.range.endLineNumber)return;const r=o.getLineContent(n.range.startLineNumber),s=m.getLeadingWhitespace(r).length;if(n.range.startColumn-1<=s){const _=m.getLeadingWhitespace(n.insertText).length,y=r.substring(n.range.startColumn-1,s),E=k.Range.fromPositions(n.range.getStartPosition().delta(0,y.length),n.range.getEndPosition()),T=n.insertText.startsWith(y)?n.insertText.substring(y.length):n.insertText.substring(_);n={range:E,insertText:T,command:n.command,snippetInfo:void 0,filterText:n.filterText,additionalTextEdits:n.additionalTextEdits}}const u=o.getValueInRange(n.range),p=g(u,n.insertText);if(!p)return;const S=n.range.startLineNumber,f=new Array;if(l==="prefix"){const _=p.filter(y=>y.originalLength===0);if(_.length>1||_.length===1&&_[0].originalStart!==u.length)return}const v=n.insertText.length-d;for(const _ of p){const y=n.range.startColumn+_.originalStart+_.originalLength;if(l==="subwordSmart"&&c&&c.lineNumber===n.range.startLineNumber&&y<c.column||_.originalLength>0)return;if(_.modifiedLength===0)continue;const E=_.modifiedStart+_.modifiedLength,T=Math.max(_.modifiedStart,Math.min(E,v)),I=n.insertText.substring(_.modifiedStart,T),R=n.insertText.substring(T,Math.max(_.modifiedStart,E));if(I.length>0){const F=m.splitLines(I);f.push(new D.GhostTextPart(y,F,!1))}if(R.length>0){const F=m.splitLines(R);f.push(new D.GhostTextPart(y,F,!0))}}return new D.GhostText(S,f,0)}e.inlineCompletionToGhostText=C;let h;function g(n,o){if(h?.originalValue===n&&h?.newValue===o)return h?.changes;{let l=i(n,o,!0);if(l){const c=t(l);if(c>0){const d=i(n,o,!1);d&&t(d)<c&&(l=d)}}return h={originalValue:n,newValue:o,changes:l},l}}function t(n){let o=0;for(const l of n)o+=Math.max(l.originalLength-l.modifiedLength,0);return o}function i(n,o,l){if(n.length>5e3||o.length>5e3)return;function c(p){let S=0;for(let f=0,v=p.length;f<v;f++){const _=p.charCodeAt(f);_>S&&(S=_)}return S}const d=Math.max(c(n),c(o));function r(p){if(p<0)throw new Error("unexpected");return d+p+1}function s(p){let S=0,f=0;const v=new Int32Array(p.length);for(let _=0,y=p.length;_<y;_++)if(l&&p[_]==="("){const E=f*100+S;v[_]=r(2*E),S++}else if(l&&p[_]===")"){S=Math.max(S-1,0);const E=f*100+S;v[_]=r(2*E+1),S===0&&f++}else v[_]=p.charCodeAt(_);return v}const a=s(n),u=s(o);return new w.LcsDiff({getElements:()=>a},{getElements:()=>u}).ComputeDiff(!1).changes}}),define(se[535],re([4,5]),function(q,e){return q.create("vs/base/parts/quickinput/browser/quickInput",e)}),define(se[536],re([4,5]),function(q,e){return q.create("vs/base/parts/quickinput/browser/quickInputList",e)}),define(se[537],re([1,0,7,45,77,203,263,43,18,27,496,105,6,108,2,17,8,19,273,536,152]),function(q,e,w,m,k,D,L,b,C,h,g,t,i,n,o,l,c,d,r,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.matchesContiguousIconAware=e.QuickInputList=e.QuickInputListFocus=void 0;const a=w.$;class u{get checked(){return!!this._checked}set checked(R){R!==this._checked&&(this._checked=R,this._onChecked.fire(R))}constructor(R){this.hidden=!1,this._onChecked=new i.Emitter,this.onChecked=this._onChecked.event,Object.assign(this,R)}dispose(){this._onChecked.dispose()}}class p{get templateId(){return p.ID}renderTemplate(R){const F=Object.create(null);F.toDisposeElement=[],F.toDisposeTemplate=[],F.entry=w.append(R,a(".quick-input-list-entry"));const O=w.append(F.entry,a("label.quick-input-list-label"));F.toDisposeTemplate.push(w.addStandardDisposableListener(O,w.EventType.CLICK,x=>{F.checkbox.offsetParent||x.preventDefault()})),F.checkbox=w.append(O,a("input.quick-input-list-checkbox")),F.checkbox.type="checkbox",F.toDisposeTemplate.push(w.addStandardDisposableListener(F.checkbox,w.EventType.CHANGE,x=>{F.element.checked=F.checkbox.checked}));const M=w.append(O,a(".quick-input-list-rows")),N=w.append(M,a(".quick-input-list-row")),A=w.append(M,a(".quick-input-list-row"));F.label=new D.IconLabel(N,{supportHighlights:!0,supportDescriptionHighlights:!0,supportIcons:!0});const B=w.append(N,a(".quick-input-list-entry-keybinding"));F.keybinding=new L.KeybindingLabel(B,l.OS);const W=w.append(A,a(".quick-input-list-label-meta"));return F.detail=new D.IconLabel(W,{supportHighlights:!0,supportIcons:!0}),F.separator=w.append(F.entry,a(".quick-input-list-separator")),F.actionBar=new k.ActionBar(F.entry),F.actionBar.domNode.classList.add("quick-input-list-entry-action-bar"),F.toDisposeTemplate.push(F.actionBar),F}renderElement(R,F,O){O.element=R;const M=R.item?R.item:R.separator;O.checkbox.checked=R.checked,O.toDisposeElement.push(R.onChecked(P=>O.checkbox.checked=P));const{labelHighlights:N,descriptionHighlights:A,detailHighlights:B}=R,W=Object.create(null);W.matches=N||[],W.descriptionTitle=R.saneDescription,W.descriptionMatches=A||[],M.type!=="separator"?(W.extraClasses=M.iconClasses,W.italic=M.italic,W.strikethrough=M.strikethrough,O.entry.classList.remove("quick-input-list-separator-as-item")):O.entry.classList.add("quick-input-list-separator-as-item"),O.label.setLabel(R.saneLabel,R.saneDescription,W),O.keybinding.set(M.type==="separator"?void 0:M.keybinding),R.saneDetail&&O.detail.setLabel(R.saneDetail,void 0,{matches:B,title:R.saneDetail}),R.item&&R.separator&&R.separator.label?(O.separator.textContent=R.separator.label,O.separator.style.display=""):O.separator.style.display="none",O.entry.classList.toggle("quick-input-list-separator-border",!!R.separator);const x=M.buttons;x&&x.length?(O.actionBar.push(x.map((P,X)=>{let ie=P.iconClass||(P.iconPath?(0,r.getIconClass)(P.iconPath):void 0);P.alwaysVisible&&(ie=ie?`${ie} always-visible`:"always-visible");const K=new b.Action(`id-${X}`,"",ie,!0,()=>Se(this,void 0,void 0,function*(){M.type!=="separator"?R.fireButtonTriggered({button:P,item:M}):R.fireSeparatorButtonTriggered({button:P,separator:M})}));return K.tooltip=P.tooltip||"",K}),{icon:!0,label:!1}),O.entry.classList.add("has-actions")):O.entry.classList.remove("has-actions")}disposeElement(R,F,O){O.toDisposeElement=(0,o.dispose)(O.toDisposeElement),O.actionBar.clear()}disposeTemplate(R){R.toDisposeElement=(0,o.dispose)(R.toDisposeElement),R.toDisposeTemplate=(0,o.dispose)(R.toDisposeTemplate)}}p.ID="listelement";class S{getHeight(R){return R.item?R.saneDetail?44:22:24}getTemplateId(R){return p.ID}}var f;(function(I){I[I.First=1]="First",I[I.Second=2]="Second",I[I.Last=3]="Last",I[I.Next=4]="Next",I[I.Previous=5]="Previous",I[I.NextPage=6]="NextPage",I[I.PreviousPage=7]="PreviousPage"})(f=e.QuickInputListFocus||(e.QuickInputListFocus={}));class v{constructor(R,F,O){this.parent=R,this.inputElements=[],this.elements=[],this.elementsToIndexes=new Map,this.matchOnDescription=!1,this.matchOnDetail=!1,this.matchOnLabel=!0,this.matchOnLabelMode="fuzzy",this.matchOnMeta=!0,this.sortByLabel=!0,this._onChangedAllVisibleChecked=new i.Emitter,this.onChangedAllVisibleChecked=this._onChangedAllVisibleChecked.event,this._onChangedCheckedCount=new i.Emitter,this.onChangedCheckedCount=this._onChangedCheckedCount.event,this._onChangedVisibleCount=new i.Emitter,this.onChangedVisibleCount=this._onChangedVisibleCount.event,this._onChangedCheckedElements=new i.Emitter,this.onChangedCheckedElements=this._onChangedCheckedElements.event,this._onButtonTriggered=new i.Emitter,this.onButtonTriggered=this._onButtonTriggered.event,this._onSeparatorButtonTriggered=new i.Emitter,this.onSeparatorButtonTriggered=this._onSeparatorButtonTriggered.event,this._onKeyDown=new i.Emitter,this.onKeyDown=this._onKeyDown.event,this._onLeave=new i.Emitter,this.onLeave=this._onLeave.event,this._fireCheckedEvents=!0,this.elementDisposables=[],this.disposables=[],this.id=F,this.container=w.append(this.parent,a(".quick-input-list"));const M=new S,N=new T;this.list=O.createList("QuickInput",this.container,M,[new p],{identityProvider:{getId:A=>A.saneLabel},setRowLineHeight:!1,multipleSelectionSupport:!1,horizontalScrolling:!1,accessibilityProvider:N}),this.list.getHTMLElement().id=F,this.disposables.push(this.list),this.disposables.push(this.list.onKeyDown(A=>{const B=new m.StandardKeyboardEvent(A);switch(B.keyCode){case 10:this.toggleCheckbox();break;case 31:(l.isMacintosh?A.metaKey:A.ctrlKey)&&this.list.setFocus((0,C.range)(this.list.length));break;case 16:{const W=this.list.getFocus();W.length===1&&W[0]===0&&this._onLeave.fire();break}case 18:{const W=this.list.getFocus();W.length===1&&W[0]===this.list.length-1&&this._onLeave.fire();break}}this._onKeyDown.fire(B)})),this.disposables.push(this.list.onMouseDown(A=>{A.browserEvent.button!==2&&A.browserEvent.preventDefault()})),this.disposables.push(w.addDisposableListener(this.container,w.EventType.CLICK,A=>{(A.x||A.y)&&this._onLeave.fire()})),this.disposables.push(this.list.onMouseMiddleClick(A=>{this._onLeave.fire()})),this.disposables.push(this.list.onContextMenu(A=>{typeof A.index=="number"&&(A.browserEvent.preventDefault(),this.list.setSelection([A.index]))})),this.disposables.push(this._onChangedAllVisibleChecked,this._onChangedCheckedCount,this._onChangedVisibleCount,this._onChangedCheckedElements,this._onButtonTriggered,this._onSeparatorButtonTriggered,this._onLeave,this._onKeyDown)}get onDidChangeFocus(){return i.Event.map(this.list.onDidChangeFocus,R=>R.elements.map(F=>F.item))}get onDidChangeSelection(){return i.Event.map(this.list.onDidChangeSelection,R=>({items:R.elements.map(F=>F.item),event:R.browserEvent}))}get scrollTop(){return this.list.scrollTop}set scrollTop(R){this.list.scrollTop=R}getAllVisibleChecked(){return this.allVisibleChecked(this.elements,!1)}allVisibleChecked(R,F=!0){for(let O=0,M=R.length;O<M;O++){const N=R[O];if(!N.hidden)if(N.checked)F=!0;else return!1}return F}getCheckedCount(){let R=0;const F=this.elements;for(let O=0,M=F.length;O<M;O++)F[O].checked&&R++;return R}getVisibleCount(){let R=0;const F=this.elements;for(let O=0,M=F.length;O<M;O++)F[O].hidden||R++;return R}setAllVisibleChecked(R){try{this._fireCheckedEvents=!1,this.elements.forEach(F=>{F.hidden||(F.checked=R)})}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}setElements(R){this.elementDisposables=(0,o.dispose)(this.elementDisposables);const F=M=>this.fireButtonTriggered(M),O=M=>this.fireSeparatorButtonTriggered(M);this.inputElements=R,this.elements=R.reduce((M,N,A)=>{var B,W,x;const P=A&&R[A-1],X=N.label?N.label.replace(/\r?\n/g," "):"",ie=(0,n.parseLabelWithIcons)(X).text.trim();let K,G,Q,ne,Z,ee;N.type!=="separator"&&(K=N.meta&&N.meta.replace(/\r?\n/g," "),G=N.description&&N.description.replace(/\r?\n/g," "),Q=N.detail&&N.detail.replace(/\r?\n/g," "),ne=(B=N.highlights)===null||B===void 0?void 0:B.label,Z=(W=N.highlights)===null||W===void 0?void 0:W.description,ee=(x=N.highlights)===null||x===void 0?void 0:x.detail);const le=N.ariaLabel||[X,G,Q].map(oe=>(0,h.getCodiconAriaLabel)(oe)).filter(oe=>!!oe).join(", "),V=this.parent.classList.contains("show-checkboxes");let $;if(N.type==="separator"){if(!N.buttons)return M;$=N}else P&&P.type==="separator"&&!P.buttons&&($=P);return M.push(new u({hasCheckbox:V,index:A,item:N.type!=="separator"?N:void 0,saneLabel:X,saneSortLabel:ie,saneMeta:K,saneAriaLabel:le,saneDescription:G,saneDetail:Q,labelHighlights:ne,descriptionHighlights:Z,detailHighlights:ee,checked:!1,separator:$,fireButtonTriggered:F,fireSeparatorButtonTriggered:O})),M},[]),this.elementDisposables.push(...this.elements),this.elementDisposables.push(...this.elements.map(M=>M.onChecked(()=>this.fireCheckedEvents()))),this.elementsToIndexes=this.elements.reduce((M,N,A)=>{var B;return M.set((B=N.item)!==null&&B!==void 0?B:N.separator,A),M},new Map),this.list.splice(0,this.list.length),this.list.splice(0,this.list.length,this.elements),this._onChangedVisibleCount.fire(this.elements.length)}getFocusedElements(){return this.list.getFocusedElements().map(R=>R.item)}setFocusedElements(R){if(this.list.setFocus(R.filter(F=>this.elementsToIndexes.has(F)).map(F=>this.elementsToIndexes.get(F))),R.length>0){const F=this.list.getFocus()[0];typeof F=="number"&&this.list.reveal(F)}}getActiveDescendant(){return this.list.getHTMLElement().getAttribute("aria-activedescendant")}setSelectedElements(R){this.list.setSelection(R.filter(F=>this.elementsToIndexes.has(F)).map(F=>this.elementsToIndexes.get(F)))}getCheckedElements(){return this.elements.filter(R=>R.checked).map(R=>R.item).filter(R=>!!R)}setCheckedElements(R){try{this._fireCheckedEvents=!1;const F=new Set;for(const O of R)F.add(O);for(const O of this.elements)O.checked=F.has(O.item)}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}set enabled(R){this.list.getHTMLElement().style.pointerEvents=R?"":"none"}focus(R){if(!this.list.length)return;switch(R===f.Second&&this.list.length<2&&(R=f.First),R){case f.First:this.list.scrollTop=0,this.list.focusFirst(void 0,O=>!!O.item);break;case f.Second:this.list.scrollTop=0,this.list.focusNth(1,void 0,O=>!!O.item);break;case f.Last:this.list.scrollTop=this.list.scrollHeight,this.list.focusLast(void 0,O=>!!O.item);break;case f.Next:{this.list.focusNext(void 0,!0,void 0,M=>!!M.item);const O=this.list.getFocus()[0];O!==0&&!this.elements[O-1].item&&this.list.firstVisibleIndex>O-1&&this.list.reveal(O-1);break}case f.Previous:{this.list.focusPrevious(void 0,!0,void 0,M=>!!M.item);const O=this.list.getFocus()[0];O!==0&&!this.elements[O-1].item&&this.list.firstVisibleIndex>O-1&&this.list.reveal(O-1);break}case f.NextPage:this.list.focusNextPage(void 0,O=>!!O.item);break;case f.PreviousPage:this.list.focusPreviousPage(void 0,O=>!!O.item);break}const F=this.list.getFocus()[0];typeof F=="number"&&this.list.reveal(F)}clearFocus(){this.list.setFocus([])}domFocus(){this.list.domFocus()}layout(R){this.list.getHTMLElement().style.maxHeight=R?`calc(${Math.floor(R/44)*44}px)`:"",this.list.layout()}filter(R){if(!(this.sortByLabel||this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))return this.list.layout(),!1;const F=R;if(R=R.trim(),!R||!(this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))this.elements.forEach(M=>{M.labelHighlights=void 0,M.descriptionHighlights=void 0,M.detailHighlights=void 0,M.hidden=!1;const N=M.index&&this.inputElements[M.index-1];M.item&&(M.separator=N&&N.type==="separator"&&!N.buttons?N:void 0)});else{let M;this.elements.forEach(N=>{let A;this.matchOnLabelMode==="fuzzy"?A=this.matchOnLabel?(0,d.withNullAsUndefined)((0,n.matchesFuzzyIconAware)(R,(0,n.parseLabelWithIcons)(N.saneLabel))):void 0:A=this.matchOnLabel?(0,d.withNullAsUndefined)(_(F,(0,n.parseLabelWithIcons)(N.saneLabel))):void 0;const B=this.matchOnDescription?(0,d.withNullAsUndefined)((0,n.matchesFuzzyIconAware)(R,(0,n.parseLabelWithIcons)(N.saneDescription||""))):void 0,W=this.matchOnDetail?(0,d.withNullAsUndefined)((0,n.matchesFuzzyIconAware)(R,(0,n.parseLabelWithIcons)(N.saneDetail||""))):void 0,x=this.matchOnMeta?(0,d.withNullAsUndefined)((0,n.matchesFuzzyIconAware)(R,(0,n.parseLabelWithIcons)(N.saneMeta||""))):void 0;if(A||B||W||x?(N.labelHighlights=A,N.descriptionHighlights=B,N.detailHighlights=W,N.hidden=!1):(N.labelHighlights=void 0,N.descriptionHighlights=void 0,N.detailHighlights=void 0,N.hidden=N.item?!N.item.alwaysShow:!0),!this.sortByLabel){const P=N.index&&this.inputElements[N.index-1];M=P&&P.type==="separator"?P:M,M&&!N.hidden&&(N.separator=M,M=void 0)}})}const O=this.elements.filter(M=>!M.hidden);if(this.sortByLabel&&R){const M=R.toLowerCase();O.sort((N,A)=>E(N,A,M))}return this.elementsToIndexes=O.reduce((M,N,A)=>{var B;return M.set((B=N.item)!==null&&B!==void 0?B:N.separator,A),M},new Map),this.list.splice(0,this.list.length,O),this.list.setFocus([]),this.list.layout(),this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedVisibleCount.fire(O.length),!0}toggleCheckbox(){try{this._fireCheckedEvents=!1;const R=this.list.getFocusedElements(),F=this.allVisibleChecked(R);for(const O of R)O.checked=!F}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}display(R){this.container.style.display=R?"":"none"}isDisplayed(){return this.container.style.display!=="none"}dispose(){this.elementDisposables=(0,o.dispose)(this.elementDisposables),this.disposables=(0,o.dispose)(this.disposables)}fireCheckedEvents(){this._fireCheckedEvents&&(this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedCheckedCount.fire(this.getCheckedCount()),this._onChangedCheckedElements.fire(this.getCheckedElements()))}fireButtonTriggered(R){this._onButtonTriggered.fire(R)}fireSeparatorButtonTriggered(R){this._onSeparatorButtonTriggered.fire(R)}style(R){this.list.style(R)}}De([t.memoize],v.prototype,"onDidChangeFocus",null),De([t.memoize],v.prototype,"onDidChangeSelection",null),e.QuickInputList=v;function _(I,R){const{text:F,iconOffsets:O}=R;if(!O||O.length===0)return y(I,F);const M=(0,c.ltrim)(F," "),N=F.length-M.length,A=y(I,M);if(A)for(const B of A){const W=O[B.start+N]+N;B.start+=W,B.end+=W}return A}e.matchesContiguousIconAware=_;function y(I,R){const F=R.toLowerCase().indexOf(I.toLowerCase());return F!==-1?[{start:F,end:F+I.length}]:null}function E(I,R,F){const O=I.labelHighlights||[],M=R.labelHighlights||[];return O.length&&!M.length?-1:!O.length&&M.length?1:O.length===0&&M.length===0?0:(0,g.compareAnything)(I.saneSortLabel,R.saneSortLabel,F)}class T{getWidgetAriaLabel(){return(0,s.localize)(0,null)}getAriaLabel(R){var F;return!((F=R.separator)===null||F===void 0)&&F.label?`${R.saneAriaLabel}, ${R.separator.label}`:R.saneAriaLabel}getWidgetRole(){return"listbox"}getRole(R){return R.hasCheckbox?"checkbox":"option"}isChecked(R){if(!!R.hasCheckbox)return{value:R.checked,onDidChange:R.onChecked}}}}),define(se[538],re([1,0,7,45,77,499,260,136,501,43,18,10,21,27,6,2,17,90,19,273,229,535,515,537,152]),function(q,e,w,m,k,D,L,b,C,h,g,t,i,n,o,l,c,d,r,s,a,u,p,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputController=void 0;const f=w.$,v={iconClass:n.Codicon.quickInputBack.classNames,tooltip:(0,u.localize)(0,null),handle:-1};class _ extends l.Disposable{constructor(I){super(),this.ui=I,this.visible=!1,this._enabled=!0,this._busy=!1,this._ignoreFocusOut=!1,this._buttons=[],this.noValidationMessage=_.noPromptMessage,this._severity=d.default.Ignore,this.buttonsUpdated=!1,this.onDidTriggerButtonEmitter=this._register(new o.Emitter),this.onDidHideEmitter=this._register(new o.Emitter),this.onDisposeEmitter=this._register(new o.Emitter),this.visibleDisposables=this._register(new l.DisposableStore),this.onDidHide=this.onDidHideEmitter.event}get title(){return this._title}set title(I){this._title=I,this.update()}get description(){return this._description}set description(I){this._description=I,this.update()}get step(){return this._steps}set step(I){this._steps=I,this.update()}get totalSteps(){return this._totalSteps}set totalSteps(I){this._totalSteps=I,this.update()}get enabled(){return this._enabled}set enabled(I){this._enabled=I,this.update()}get contextKey(){return this._contextKey}set contextKey(I){this._contextKey=I,this.update()}get busy(){return this._busy}set busy(I){this._busy=I,this.update()}get ignoreFocusOut(){return this._ignoreFocusOut}set ignoreFocusOut(I){const R=this._ignoreFocusOut!==I&&!c.isIOS;this._ignoreFocusOut=I&&!c.isIOS,R&&this.update()}get buttons(){return this._buttons}set buttons(I){this._buttons=I,this.buttonsUpdated=!0,this.update()}get validationMessage(){return this._validationMessage}set validationMessage(I){this._validationMessage=I,this.update()}get severity(){return this._severity}set severity(I){this._severity=I,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.onDidTriggerButton(I=>{this.buttons.indexOf(I)!==-1&&this.onDidTriggerButtonEmitter.fire(I)})),this.ui.show(this),this.visible=!0,this._lastValidationMessage=void 0,this._lastSeverity=void 0,this.buttons.length&&(this.buttonsUpdated=!0),this.update())}hide(){!this.visible||this.ui.hide()}didHide(I=a.QuickInputHideReason.Other){this.visible=!1,this.visibleDisposables.clear(),this.onDidHideEmitter.fire({reason:I})}update(){if(!this.visible)return;const I=this.getTitle();I&&this.ui.title.textContent!==I?this.ui.title.textContent=I:!I&&this.ui.title.innerHTML!=="&nbsp;"&&(this.ui.title.innerText="\xA0");const R=this.getDescription();if(this.ui.description1.textContent!==R&&(this.ui.description1.textContent=R),this.ui.description2.textContent!==R&&(this.ui.description2.textContent=R),this.busy&&!this.busyDelay&&(this.busyDelay=new t.TimeoutTimer,this.busyDelay.setIfNotSet(()=>{this.visible&&this.ui.progressBar.infinite()},800)),!this.busy&&this.busyDelay&&(this.ui.progressBar.stop(),this.busyDelay.cancel(),this.busyDelay=void 0),this.buttonsUpdated){this.buttonsUpdated=!1,this.ui.leftActionBar.clear();const O=this.buttons.filter(N=>N===v);this.ui.leftActionBar.push(O.map((N,A)=>{const B=new h.Action(`id-${A}`,"",N.iconClass||(0,s.getIconClass)(N.iconPath),!0,()=>Se(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(N)}));return B.tooltip=N.tooltip||"",B}),{icon:!0,label:!1}),this.ui.rightActionBar.clear();const M=this.buttons.filter(N=>N!==v);this.ui.rightActionBar.push(M.map((N,A)=>{const B=new h.Action(`id-${A}`,"",N.iconClass||(0,s.getIconClass)(N.iconPath),!0,()=>Se(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(N)}));return B.tooltip=N.tooltip||"",B}),{icon:!0,label:!1})}this.ui.ignoreFocusOut=this.ignoreFocusOut,this.ui.setEnabled(this.enabled),this.ui.setContextKey(this.contextKey);const F=this.validationMessage||this.noValidationMessage;this._lastValidationMessage!==F&&(this._lastValidationMessage=F,w.reset(this.ui.message,...(0,b.renderLabelWithIcons)(F))),this._lastSeverity!==this.severity&&(this._lastSeverity=this.severity,this.showMessageDecoration(this.severity))}getTitle(){return this.title&&this.step?`${this.title} (${this.getSteps()})`:this.title?this.title:this.step?this.getSteps():""}getDescription(){return this.description||""}getSteps(){return this.step&&this.totalSteps?(0,u.localize)(2,null,this.step,this.totalSteps):this.step?String(this.step):""}showMessageDecoration(I){if(this.ui.inputBox.showDecoration(I),I!==d.default.Ignore){const R=this.ui.inputBox.stylesForType(I);this.ui.message.style.color=R.foreground?`${R.foreground}`:"",this.ui.message.style.backgroundColor=R.background?`${R.background}`:"",this.ui.message.style.border=R.border?`1px solid ${R.border}`:"",this.ui.message.style.marginBottom="-2px"}else this.ui.message.style.color="",this.ui.message.style.backgroundColor="",this.ui.message.style.border="",this.ui.message.style.marginBottom=""}dispose(){this.hide(),this.onDisposeEmitter.fire(),super.dispose()}}_.noPromptMessage=(0,u.localize)(1,null);class y extends _{constructor(){super(...arguments),this._value="",this.onDidChangeValueEmitter=this._register(new o.Emitter),this.onWillAcceptEmitter=this._register(new o.Emitter),this.onDidAcceptEmitter=this._register(new o.Emitter),this.onDidCustomEmitter=this._register(new o.Emitter),this._items=[],this.itemsUpdated=!1,this._canSelectMany=!1,this._canAcceptInBackground=!1,this._matchOnDescription=!1,this._matchOnDetail=!1,this._matchOnLabel=!0,this._matchOnLabelMode="fuzzy",this._sortByLabel=!0,this._autoFocusOnList=!0,this._keepScrollPosition=!1,this._itemActivation=this.ui.isScreenReaderOptimized()?a.ItemActivation.NONE:a.ItemActivation.FIRST,this._activeItems=[],this.activeItemsUpdated=!1,this.activeItemsToConfirm=[],this.onDidChangeActiveEmitter=this._register(new o.Emitter),this._selectedItems=[],this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=[],this.onDidChangeSelectionEmitter=this._register(new o.Emitter),this.onDidTriggerItemButtonEmitter=this._register(new o.Emitter),this.onDidTriggerSeparatorButtonEmitter=this._register(new o.Emitter),this.valueSelectionUpdated=!0,this._ok="default",this._customButton=!1,this.filterValue=I=>I,this.onDidChangeValue=this.onDidChangeValueEmitter.event,this.onWillAccept=this.onWillAcceptEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event,this.onDidChangeActive=this.onDidChangeActiveEmitter.event,this.onDidChangeSelection=this.onDidChangeSelectionEmitter.event,this.onDidTriggerItemButton=this.onDidTriggerItemButtonEmitter.event,this.onDidTriggerSeparatorButton=this.onDidTriggerSeparatorButtonEmitter.event}get quickNavigate(){return this._quickNavigate}set quickNavigate(I){this._quickNavigate=I,this.update()}get value(){return this._value}set value(I){this.doSetValue(I)}doSetValue(I,R){this._value!==I&&(this._value=I,R||this.update(),this.visible&&this.ui.list.filter(this.filterValue(this._value))&&this.trySelectFirst(),this.onDidChangeValueEmitter.fire(this._value))}set ariaLabel(I){this._ariaLabel=I,this.update()}get ariaLabel(){return this._ariaLabel}get placeholder(){return this._placeholder}set placeholder(I){this._placeholder=I,this.update()}get items(){return this._items}get scrollTop(){return this.ui.list.scrollTop}set scrollTop(I){this.ui.list.scrollTop=I}set items(I){this._items=I,this.itemsUpdated=!0,this.update()}get canSelectMany(){return this._canSelectMany}set canSelectMany(I){this._canSelectMany=I,this.update()}get canAcceptInBackground(){return this._canAcceptInBackground}set canAcceptInBackground(I){this._canAcceptInBackground=I}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(I){this._matchOnDescription=I,this.update()}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(I){this._matchOnDetail=I,this.update()}get matchOnLabel(){return this._matchOnLabel}set matchOnLabel(I){this._matchOnLabel=I,this.update()}get matchOnLabelMode(){return this._matchOnLabelMode}set matchOnLabelMode(I){this._matchOnLabelMode=I,this.update()}get sortByLabel(){return this._sortByLabel}set sortByLabel(I){this._sortByLabel=I,this.update()}get autoFocusOnList(){return this._autoFocusOnList}set autoFocusOnList(I){this._autoFocusOnList=I,this.update()}get keepScrollPosition(){return this._keepScrollPosition}set keepScrollPosition(I){this._keepScrollPosition=I}get itemActivation(){return this._itemActivation}set itemActivation(I){this._itemActivation=I}get activeItems(){return this._activeItems}set activeItems(I){this._activeItems=I,this.activeItemsUpdated=!0,this.update()}get selectedItems(){return this._selectedItems}set selectedItems(I){this._selectedItems=I,this.selectedItemsUpdated=!0,this.update()}get keyMods(){return this._quickNavigate?a.NO_KEY_MODS:this.ui.keyMods}set valueSelection(I){this._valueSelection=I,this.valueSelectionUpdated=!0,this.update()}get customButton(){return this._customButton}set customButton(I){this._customButton=I,this.update()}get customLabel(){return this._customButtonLabel}set customLabel(I){this._customButtonLabel=I,this.update()}get customHover(){return this._customButtonHover}set customHover(I){this._customButtonHover=I,this.update()}get ok(){return this._ok}set ok(I){this._ok=I,this.update()}get hideInput(){return!!this._hideInput}set hideInput(I){this._hideInput=I,this.update()}trySelectFirst(){this.autoFocusOnList&&(this.canSelectMany||this.ui.list.focus(S.QuickInputListFocus.First))}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(I=>{this.doSetValue(I,!0)})),this.visibleDisposables.add(this.ui.inputBox.onMouseDown(I=>{this.autoFocusOnList||this.ui.list.clearFocus()})),this.visibleDisposables.add((this._hideInput?this.ui.list:this.ui.inputBox).onKeyDown(I=>{switch(I.keyCode){case 18:this.ui.list.focus(S.QuickInputListFocus.Next),this.canSelectMany&&this.ui.list.domFocus(),w.EventHelper.stop(I,!0);break;case 16:this.ui.list.getFocusedElements().length?this.ui.list.focus(S.QuickInputListFocus.Previous):this.ui.list.focus(S.QuickInputListFocus.Last),this.canSelectMany&&this.ui.list.domFocus(),w.EventHelper.stop(I,!0);break;case 12:this.ui.list.focus(S.QuickInputListFocus.NextPage),this.canSelectMany&&this.ui.list.domFocus(),w.EventHelper.stop(I,!0);break;case 11:this.ui.list.focus(S.QuickInputListFocus.PreviousPage),this.canSelectMany&&this.ui.list.domFocus(),w.EventHelper.stop(I,!0);break;case 17:if(!this._canAcceptInBackground||!this.ui.inputBox.isSelectionAtEnd())return;this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!0));break;case 14:(I.ctrlKey||I.metaKey)&&!I.shiftKey&&!I.altKey&&(this.ui.list.focus(S.QuickInputListFocus.First),w.EventHelper.stop(I,!0));break;case 13:(I.ctrlKey||I.metaKey)&&!I.shiftKey&&!I.altKey&&(this.ui.list.focus(S.QuickInputListFocus.Last),w.EventHelper.stop(I,!0));break}})),this.visibleDisposables.add(this.ui.onDidAccept(()=>{this.canSelectMany?this.ui.list.getCheckedElements().length||(this._selectedItems=[],this.onDidChangeSelectionEmitter.fire(this.selectedItems)):this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems)),this.handleAccept(!1)})),this.visibleDisposables.add(this.ui.onDidCustom(()=>{this.onDidCustomEmitter.fire()})),this.visibleDisposables.add(this.ui.list.onDidChangeFocus(I=>{this.activeItemsUpdated||this.activeItemsToConfirm!==this._activeItems&&(0,g.equals)(I,this._activeItems,(R,F)=>R===F)||(this._activeItems=I,this.onDidChangeActiveEmitter.fire(I))})),this.visibleDisposables.add(this.ui.list.onDidChangeSelection(({items:I,event:R})=>{if(this.canSelectMany){I.length&&this.ui.list.setSelectedElements([]);return}this.selectedItemsToConfirm!==this._selectedItems&&(0,g.equals)(I,this._selectedItems,(F,O)=>F===O)||(this._selectedItems=I,this.onDidChangeSelectionEmitter.fire(I),I.length&&this.handleAccept(R instanceof MouseEvent&&R.button===1))})),this.visibleDisposables.add(this.ui.list.onChangedCheckedElements(I=>{!this.canSelectMany||this.selectedItemsToConfirm!==this._selectedItems&&(0,g.equals)(I,this._selectedItems,(R,F)=>R===F)||(this._selectedItems=I,this.onDidChangeSelectionEmitter.fire(I))})),this.visibleDisposables.add(this.ui.list.onButtonTriggered(I=>this.onDidTriggerItemButtonEmitter.fire(I))),this.visibleDisposables.add(this.ui.list.onSeparatorButtonTriggered(I=>this.onDidTriggerSeparatorButtonEmitter.fire(I))),this.visibleDisposables.add(this.registerQuickNavigation()),this.valueSelectionUpdated=!0),super.show()}handleAccept(I){let R=!1;this.onWillAcceptEmitter.fire({veto:()=>R=!0}),R||this.onDidAcceptEmitter.fire({inBackground:I})}registerQuickNavigation(){return w.addDisposableListener(this.ui.container,w.EventType.KEY_UP,I=>{if(this.canSelectMany||!this._quickNavigate)return;const R=new m.StandardKeyboardEvent(I),F=R.keyCode;this._quickNavigate.keybindings.some(N=>{const[A,B]=N.getParts();return B?!1:A.shiftKey&&F===4?!(R.ctrlKey||R.altKey||R.metaKey):!!(A.altKey&&F===6||A.ctrlKey&&F===5||A.metaKey&&F===57)})&&(this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!1)),this._quickNavigate=void 0)})}update(){if(!this.visible)return;const I=this.keepScrollPosition?this.scrollTop:0,R=!!this._hideInput&&this._items.length>0;this.ui.container.classList.toggle("hidden-input",R&&!this.description);const F={title:!!this.title||!!this.step||!!this.buttons.length,description:!!this.description,checkAll:this.canSelectMany&&!this._hideCheckAll,checkBox:this.canSelectMany,inputBox:!R,progressBar:!R,visibleCount:!0,count:this.canSelectMany,ok:this.ok==="default"?this.canSelectMany:this.ok,list:!0,message:!!this.validationMessage,customButton:this.customButton};this.ui.setVisibilities(F),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||"");let O=this.ariaLabel;if(O||(O=this.placeholder||y.DEFAULT_ARIA_LABEL,this.title&&(O+=` - ${this.title}`)),this.ui.inputBox.ariaLabel!==O&&(this.ui.inputBox.ariaLabel=O),this.ui.list.matchOnDescription=this.matchOnDescription,this.ui.list.matchOnDetail=this.matchOnDetail,this.ui.list.matchOnLabel=this.matchOnLabel,this.ui.list.matchOnLabelMode=this.matchOnLabelMode,this.ui.list.sortByLabel=this.sortByLabel,this.itemsUpdated)switch(this.itemsUpdated=!1,this.ui.list.setElements(this.items),this.ui.list.filter(this.filterValue(this.ui.inputBox.value)),this.ui.checkAll.checked=this.ui.list.getAllVisibleChecked(),this.ui.visibleCount.setCount(this.ui.list.getVisibleCount()),this.ui.count.setCount(this.ui.list.getCheckedCount()),this._itemActivation){case a.ItemActivation.NONE:this._itemActivation=a.ItemActivation.FIRST;break;case a.ItemActivation.SECOND:this.ui.list.focus(S.QuickInputListFocus.Second),this._itemActivation=a.ItemActivation.FIRST;break;case a.ItemActivation.LAST:this.ui.list.focus(S.QuickInputListFocus.Last),this._itemActivation=a.ItemActivation.FIRST;break;default:this.trySelectFirst();break}this.ui.container.classList.contains("show-checkboxes")!==!!this.canSelectMany&&(this.canSelectMany?this.ui.list.clearFocus():this.trySelectFirst()),this.activeItemsUpdated&&(this.activeItemsUpdated=!1,this.activeItemsToConfirm=this._activeItems,this.ui.list.setFocusedElements(this.activeItems),this.activeItemsToConfirm===this._activeItems&&(this.activeItemsToConfirm=null)),this.selectedItemsUpdated&&(this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=this._selectedItems,this.canSelectMany?this.ui.list.setCheckedElements(this.selectedItems):this.ui.list.setSelectedElements(this.selectedItems),this.selectedItemsToConfirm===this._selectedItems&&(this.selectedItemsToConfirm=null)),this.ui.customButton.label=this.customLabel||"",this.ui.customButton.element.title=this.customHover||"",this.ui.setComboboxAccessibility(!0),F.inputBox||(this.ui.list.domFocus(),this.canSelectMany&&this.ui.list.focus(S.QuickInputListFocus.First)),this.keepScrollPosition&&(this.scrollTop=I)}}y.DEFAULT_ARIA_LABEL=(0,u.localize)(3,null);class E extends l.Disposable{constructor(I){super(),this.options=I,this.comboboxAccessibility=!1,this.enabled=!0,this.onDidAcceptEmitter=this._register(new o.Emitter),this.onDidCustomEmitter=this._register(new o.Emitter),this.onDidTriggerButtonEmitter=this._register(new o.Emitter),this.keyMods={ctrlCmd:!1,alt:!1},this.controller=null,this.onShowEmitter=this._register(new o.Emitter),this.onShow=this.onShowEmitter.event,this.onHideEmitter=this._register(new o.Emitter),this.onHide=this.onHideEmitter.event,this.idPrefix=I.idPrefix,this.parentElement=I.container,this.styles=I.styles,this.registerKeyModsListeners()}registerKeyModsListeners(){const I=R=>{this.keyMods.ctrlCmd=R.ctrlKey||R.metaKey,this.keyMods.alt=R.altKey};this._register(w.addDisposableListener(window,w.EventType.KEY_DOWN,I,!0)),this._register(w.addDisposableListener(window,w.EventType.KEY_UP,I,!0)),this._register(w.addDisposableListener(window,w.EventType.MOUSE_DOWN,I,!0))}getUI(){if(this.ui)return this.ui;const I=w.append(this.parentElement,f(".quick-input-widget.show-file-icons"));I.tabIndex=-1,I.style.display="none";const R=w.createStyleSheet(I),F=w.append(I,f(".quick-input-titlebar")),O=this._register(new k.ActionBar(F));O.domNode.classList.add("quick-input-left-action-bar");const M=w.append(F,f(".quick-input-title")),N=this._register(new k.ActionBar(F));N.domNode.classList.add("quick-input-right-action-bar");const A=w.append(I,f(".quick-input-description")),B=w.append(I,f(".quick-input-header")),W=w.append(B,f("input.quick-input-check-all"));W.type="checkbox",W.setAttribute("aria-label",(0,u.localize)(4,null)),this._register(w.addStandardDisposableListener(W,w.EventType.CHANGE,z=>{const J=W.checked;oe.setAllVisibleChecked(J)})),this._register(w.addDisposableListener(W,w.EventType.CLICK,z=>{(z.x||z.y)&&ie.setFocus()}));const x=w.append(B,f(".quick-input-description")),P=w.append(B,f(".quick-input-and-message")),X=w.append(P,f(".quick-input-filter")),ie=this._register(new p.QuickInputBox(X));ie.setAttribute("aria-describedby",`${this.idPrefix}message`);const K=w.append(X,f(".quick-input-visible-count"));K.setAttribute("aria-live","polite"),K.setAttribute("aria-atomic","true");const G=new L.CountBadge(K,{countFormat:(0,u.localize)(5,null)}),Q=w.append(X,f(".quick-input-count"));Q.setAttribute("aria-live","polite");const ne=new L.CountBadge(Q,{countFormat:(0,u.localize)(6,null)}),Z=w.append(B,f(".quick-input-action")),ee=new D.Button(Z);ee.label=(0,u.localize)(7,null),this._register(ee.onDidClick(z=>{this.onDidAcceptEmitter.fire()}));const le=w.append(B,f(".quick-input-action")),V=new D.Button(le);V.label=(0,u.localize)(8,null),this._register(V.onDidClick(z=>{this.onDidCustomEmitter.fire()}));const $=w.append(P,f(`#${this.idPrefix}message.quick-input-message`)),oe=this._register(new S.QuickInputList(I,this.idPrefix+"list",this.options));this._register(oe.onChangedAllVisibleChecked(z=>{W.checked=z})),this._register(oe.onChangedVisibleCount(z=>{G.setCount(z)})),this._register(oe.onChangedCheckedCount(z=>{ne.setCount(z)})),this._register(oe.onLeave(()=>{setTimeout(()=>{ie.setFocus(),this.controller instanceof y&&this.controller.canSelectMany&&oe.clearFocus()},0)})),this._register(oe.onDidChangeFocus(()=>{this.comboboxAccessibility&&this.getUI().inputBox.setAttribute("aria-activedescendant",this.getUI().list.getActiveDescendant()||"")}));const U=new C.ProgressBar(I);U.getContainer().classList.add("quick-input-progress");const ae=w.trackFocus(I);return this._register(ae),this._register(w.addDisposableListener(I,w.EventType.FOCUS,z=>{this.previousFocusElement=z.relatedTarget instanceof HTMLElement?z.relatedTarget:void 0},!0)),this._register(ae.onDidBlur(()=>{!this.getUI().ignoreFocusOut&&!this.options.ignoreFocusOut()&&this.hide(a.QuickInputHideReason.Blur),this.previousFocusElement=void 0})),this._register(w.addDisposableListener(I,w.EventType.FOCUS,z=>{ie.setFocus()})),this._register(w.addDisposableListener(I,w.EventType.KEY_DOWN,z=>{const J=new m.StandardKeyboardEvent(z);switch(J.keyCode){case 3:w.EventHelper.stop(z,!0),this.enabled&&this.onDidAcceptEmitter.fire();break;case 9:w.EventHelper.stop(z,!0),this.hide(a.QuickInputHideReason.Gesture);break;case 2:if(!J.altKey&&!J.ctrlKey&&!J.metaKey){const Y=[".action-label.codicon"];I.classList.contains("show-checkboxes")?Y.push("input"):Y.push("input[type=text]"),this.getUI().list.isDisplayed()&&Y.push(".monaco-list");const H=I.querySelectorAll(Y.join(", "));J.shiftKey&&J.target===H[0]?(w.EventHelper.stop(z,!0),H[H.length-1].focus()):!J.shiftKey&&J.target===H[H.length-1]&&(w.EventHelper.stop(z,!0),H[0].focus())}break}})),this.ui={container:I,styleSheet:R,leftActionBar:O,titleBar:F,title:M,description1:A,description2:x,rightActionBar:N,checkAll:W,filterContainer:X,inputBox:ie,visibleCountContainer:K,visibleCount:G,countContainer:Q,count:ne,okContainer:Z,ok:ee,message:$,customButtonContainer:le,customButton:V,list:oe,progressBar:U,onDidAccept:this.onDidAcceptEmitter.event,onDidCustom:this.onDidCustomEmitter.event,onDidTriggerButton:this.onDidTriggerButtonEmitter.event,ignoreFocusOut:!1,keyMods:this.keyMods,isScreenReaderOptimized:()=>this.options.isScreenReaderOptimized(),show:z=>this.show(z),hide:()=>this.hide(),setVisibilities:z=>this.setVisibilities(z),setComboboxAccessibility:z=>this.setComboboxAccessibility(z),setEnabled:z=>this.setEnabled(z),setContextKey:z=>this.options.setContextKey(z)},this.updateStyles(),this.ui}pick(I,R={},F=i.CancellationToken.None){return new Promise((O,M)=>{let N=x=>{var P;N=O,(P=R.onKeyMods)===null||P===void 0||P.call(R,A.keyMods),O(x)};if(F.isCancellationRequested){N(void 0);return}const A=this.createQuickPick();let B;const W=[A,A.onDidAccept(()=>{if(A.canSelectMany)N(A.selectedItems.slice()),A.hide();else{const x=A.activeItems[0];x&&(N(x),A.hide())}}),A.onDidChangeActive(x=>{const P=x[0];P&&R.onDidFocus&&R.onDidFocus(P)}),A.onDidChangeSelection(x=>{if(!A.canSelectMany){const P=x[0];P&&(N(P),A.hide())}}),A.onDidTriggerItemButton(x=>R.onDidTriggerItemButton&&R.onDidTriggerItemButton(Object.assign(Object.assign({},x),{removeItem:()=>{const P=A.items.indexOf(x.item);if(P!==-1){const X=A.items.slice(),ie=X.splice(P,1),K=A.activeItems.filter(Q=>Q!==ie[0]),G=A.keepScrollPosition;A.keepScrollPosition=!0,A.items=X,K&&(A.activeItems=K),A.keepScrollPosition=G}}}))),A.onDidTriggerSeparatorButton(x=>{var P;return(P=R.onDidTriggerSeparatorButton)===null||P===void 0?void 0:P.call(R,x)}),A.onDidChangeValue(x=>{B&&!x&&(A.activeItems.length!==1||A.activeItems[0]!==B)&&(A.activeItems=[B])}),F.onCancellationRequested(()=>{A.hide()}),A.onDidHide(()=>{(0,l.dispose)(W),N(void 0)})];A.title=R.title,A.canSelectMany=!!R.canPickMany,A.placeholder=R.placeHolder,A.ignoreFocusOut=!!R.ignoreFocusLost,A.matchOnDescription=!!R.matchOnDescription,A.matchOnDetail=!!R.matchOnDetail,A.matchOnLabel=R.matchOnLabel===void 0||R.matchOnLabel,A.autoFocusOnList=R.autoFocusOnList===void 0||R.autoFocusOnList,A.quickNavigate=R.quickNavigate,A.hideInput=!!R.hideInput,A.contextKey=R.contextKey,A.busy=!0,Promise.all([I,R.activeItem]).then(([x,P])=>{B=P,A.busy=!1,A.items=x,A.canSelectMany&&(A.selectedItems=x.filter(X=>X.type!=="separator"&&X.picked)),B&&(A.activeItems=[B])}),A.show(),Promise.resolve(I).then(void 0,x=>{M(x),A.hide()})})}createQuickPick(){const I=this.getUI();return new y(I)}show(I){const R=this.getUI();this.onShowEmitter.fire();const F=this.controller;this.controller=I,F?.didHide(),this.setEnabled(!0),R.leftActionBar.clear(),R.title.textContent="",R.description1.textContent="",R.description2.textContent="",R.rightActionBar.clear(),R.checkAll.checked=!1,R.inputBox.placeholder="",R.inputBox.password=!1,R.inputBox.showDecoration(d.default.Ignore),R.visibleCount.setCount(0),R.count.setCount(0),w.reset(R.message),R.progressBar.stop(),R.list.setElements([]),R.list.matchOnDescription=!1,R.list.matchOnDetail=!1,R.list.matchOnLabel=!0,R.list.sortByLabel=!0,R.ignoreFocusOut=!1,this.setComboboxAccessibility(!1),R.inputBox.ariaLabel="";const O=this.options.backKeybindingLabel();v.tooltip=O?(0,u.localize)(9,null,O):(0,u.localize)(10,null),R.container.style.display="",this.updateLayout(),R.inputBox.setFocus()}setVisibilities(I){const R=this.getUI();R.title.style.display=I.title?"":"none",R.description1.style.display=I.description&&(I.inputBox||I.checkAll)?"":"none",R.description2.style.display=I.description&&!(I.inputBox||I.checkAll)?"":"none",R.checkAll.style.display=I.checkAll?"":"none",R.filterContainer.style.display=I.inputBox?"":"none",R.visibleCountContainer.style.display=I.visibleCount?"":"none",R.countContainer.style.display=I.count?"":"none",R.okContainer.style.display=I.ok?"":"none",R.customButtonContainer.style.display=I.customButton?"":"none",R.message.style.display=I.message?"":"none",R.progressBar.getContainer().style.display=I.progressBar?"":"none",R.list.display(!!I.list),R.container.classList.toggle("show-checkboxes",I.checkBox),this.updateLayout()}setComboboxAccessibility(I){if(I!==this.comboboxAccessibility){const R=this.getUI();this.comboboxAccessibility=I,this.comboboxAccessibility?(R.inputBox.setAttribute("role","combobox"),R.inputBox.setAttribute("aria-haspopup","true"),R.inputBox.setAttribute("aria-autocomplete","list"),R.inputBox.setAttribute("aria-activedescendant",R.list.getActiveDescendant()||"")):(R.inputBox.removeAttribute("role"),R.inputBox.removeAttribute("aria-haspopup"),R.inputBox.removeAttribute("aria-autocomplete"),R.inputBox.removeAttribute("aria-activedescendant"))}}setEnabled(I){if(I!==this.enabled){this.enabled=I;for(const R of this.getUI().leftActionBar.viewItems)R.action.enabled=I;for(const R of this.getUI().rightActionBar.viewItems)R.action.enabled=I;this.getUI().checkAll.disabled=!I,this.getUI().inputBox.enabled=I,this.getUI().ok.enabled=I,this.getUI().list.enabled=I,I||this.getUI().container.focus()}}hide(I){var R;const F=this.controller;if(F){const O=!(!((R=this.ui)===null||R===void 0)&&R.container.contains(document.activeElement));if(this.controller=null,this.onHideEmitter.fire(),this.getUI().container.style.display="none",!O){let M=this.previousFocusElement;for(;M&&!M.offsetParent;)M=(0,r.withNullAsUndefined)(M.parentElement);M?.offsetParent?(M.focus(),this.previousFocusElement=void 0):this.options.returnFocus()}F.didHide(I)}}layout(I,R){this.dimension=I,this.titleBarOffset=R,this.updateLayout()}updateLayout(){if(this.ui){this.ui.container.style.top=`${this.titleBarOffset}px`;const I=this.ui.container.style,R=Math.min(this.dimension.width*.62,E.MAX_WIDTH);I.width=R+"px",I.marginLeft="-"+R/2+"px",this.ui.inputBox.layout(),this.ui.list.layout(this.dimension&&this.dimension.height*.4)}}applyStyles(I){this.styles=I,this.updateStyles()}updateStyles(){if(this.ui){const{quickInputTitleBackground:I,quickInputBackground:R,quickInputForeground:F,contrastBorder:O,widgetShadow:M}=this.styles.widget;this.ui.titleBar.style.backgroundColor=I?I.toString():"",this.ui.container.style.backgroundColor=R?R.toString():"",this.ui.container.style.color=F?F.toString():"",this.ui.container.style.border=O?`1px solid ${O}`:"",this.ui.container.style.boxShadow=M?`0 0 8px 2px ${M}`:"",this.ui.inputBox.style(this.styles.inputBox),this.ui.count.style(this.styles.countBadge),this.ui.ok.style(this.styles.button),this.ui.customButton.style(this.styles.button),this.ui.progressBar.style(this.styles.progressBar),this.ui.list.style(this.styles.list);const N=[];this.styles.list.pickerGroupBorder&&N.push(`.quick-input-list .quick-input-list-entry { border-top-color:  ${this.styles.list.pickerGroupBorder}; }`),this.styles.list.pickerGroupForeground&&N.push(`.quick-input-list .quick-input-list-separator { color:  ${this.styles.list.pickerGroupForeground}; }`),this.styles.list.pickerGroupForeground&&N.push(`.quick-input-list .quick-input-list-separator-as-item { color:  ${this.styles.list.pickerGroupForeground}; }`),(this.styles.keybindingLabel.keybindingLabelBackground||this.styles.keybindingLabel.keybindingLabelBorder||this.styles.keybindingLabel.keybindingLabelBottomBorder||this.styles.keybindingLabel.keybindingLabelShadow||this.styles.keybindingLabel.keybindingLabelForeground)&&(N.push(".quick-input-list .monaco-keybinding > .monaco-keybinding-key {"),this.styles.keybindingLabel.keybindingLabelBackground&&N.push(`background-color: ${this.styles.keybindingLabel.keybindingLabelBackground};`),this.styles.keybindingLabel.keybindingLabelBorder&&N.push(`border-color: ${this.styles.keybindingLabel.keybindingLabelBorder};`),this.styles.keybindingLabel.keybindingLabelBottomBorder&&N.push(`border-bottom-color: ${this.styles.keybindingLabel.keybindingLabelBottomBorder};`),this.styles.keybindingLabel.keybindingLabelShadow&&N.push(`box-shadow: inset 0 -1px 0 ${this.styles.keybindingLabel.keybindingLabelShadow};`),this.styles.keybindingLabel.keybindingLabelForeground&&N.push(`color: ${this.styles.keybindingLabel.keybindingLabelForeground};`),N.push("}"));const A=N.join(`
`);A!==this.ui.styleSheet.textContent&&(this.ui.styleSheet.textContent=A)}}}e.QuickInputController=E,E.MAX_WIDTH=600}),define(se[539],re([4,5]),function(q,e){return q.create("vs/editor/browser/controller/textAreaHandler",e)}),define(se[540],re([4,5]),function(q,e){return q.create("vs/editor/browser/coreCommands",e)}),define(se[541],re([4,5]),function(q,e){return q.create("vs/editor/browser/editorExtensions",e)}),define(se[542],re([4,5]),function(q,e){return q.create("vs/editor/browser/widget/codeEditorWidget",e)}),define(se[543],re([4,5]),function(q,e){return q.create("vs/editor/browser/widget/diffEditorWidget",e)}),define(se[544],re([4,5]),function(q,e){return q.create("vs/editor/browser/widget/diffReview",e)}),define(se[545],re([4,5]),function(q,e){return q.create("vs/editor/browser/widget/inlineDiffMargin",e)}),define(se[546],re([1,0,545,7,43,2,3,27]),function(q,e,w,m,k,D,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineDiffMargin=void 0;class C extends D.Disposable{get visibility(){return this._visibility}set visibility(g){this._visibility!==g&&(this._visibility=g,g?this._diffActions.style.visibility="visible":this._diffActions.style.visibility="hidden")}constructor(g,t,i,n,o,l){super(),this._viewZoneId=g,this._marginDomNode=t,this.editor=i,this.diff=n,this._contextMenuService=o,this._clipboardService=l,this._visibility=!1,this._marginDomNode.style.zIndex="10",this._diffActions=document.createElement("div"),this._diffActions.className=b.Codicon.lightBulb.classNames+" lightbulb-glyph",this._diffActions.style.position="absolute";const c=i.getOption(60),d=i.getModel().getEOL();this._diffActions.style.right="0px",this._diffActions.style.visibility="hidden",this._diffActions.style.height=`${c}px`,this._diffActions.style.lineHeight=`${c}px`,this._marginDomNode.appendChild(this._diffActions);const r=[],s=n.modifiedEndLineNumber===0;r.push(new k.Action("diff.clipboard.copyDeletedContent",s?n.originalEndLineNumber>n.modifiedStartLineNumber?w.localize(0,null):w.localize(1,null):n.originalEndLineNumber>n.modifiedStartLineNumber?w.localize(2,null):w.localize(3,null),void 0,!0,()=>Se(this,void 0,void 0,function*(){const f=new L.Range(n.originalStartLineNumber,1,n.originalEndLineNumber+1,1),v=n.originalModel.getValueInRange(f);yield this._clipboardService.writeText(v)})));let a=0,u;n.originalEndLineNumber>n.modifiedStartLineNumber&&(u=new k.Action("diff.clipboard.copyDeletedLineContent",s?w.localize(4,null,n.originalStartLineNumber):w.localize(5,null,n.originalStartLineNumber),void 0,!0,()=>Se(this,void 0,void 0,function*(){const f=n.originalModel.getLineContent(n.originalStartLineNumber+a);if(f===""){const v=n.originalModel.getEndOfLineSequence();yield this._clipboardService.writeText(v===0?`
`:`\r
`)}else yield this._clipboardService.writeText(f)})),r.push(u)),i.getOption(82)||r.push(new k.Action("diff.inline.revertChange",w.localize(6,null),void 0,!0,()=>Se(this,void 0,void 0,function*(){const f=new L.Range(n.originalStartLineNumber,1,n.originalEndLineNumber,n.originalModel.getLineMaxColumn(n.originalEndLineNumber)),v=n.originalModel.getValueInRange(f);if(n.modifiedEndLineNumber===0){const _=i.getModel().getLineMaxColumn(n.modifiedStartLineNumber);i.executeEdits("diffEditor",[{range:new L.Range(n.modifiedStartLineNumber,_,n.modifiedStartLineNumber,_),text:d+v}])}else{const _=i.getModel().getLineMaxColumn(n.modifiedEndLineNumber);i.executeEdits("diffEditor",[{range:new L.Range(n.modifiedStartLineNumber,1,n.modifiedEndLineNumber,_),text:v}])}})));const S=(f,v)=>{this._contextMenuService.showContextMenu({getAnchor:()=>({x:f,y:v}),getActions:()=>(u&&(u.label=s?w.localize(7,null,n.originalStartLineNumber+a):w.localize(8,null,n.originalStartLineNumber+a)),r),autoSelectFirstItem:!0})};this._register(m.addStandardDisposableListener(this._diffActions,"mousedown",f=>{const{top:v,height:_}=m.getDomNodePagePosition(this._diffActions),y=Math.floor(c/3);f.preventDefault(),S(f.posx,v+_+y)})),this._register(i.onMouseMove(f=>{f.target.type===8||f.target.type===5?f.target.detail.viewZoneId===this._viewZoneId?(this.visibility=!0,a=this._updateLightBulbPosition(this._marginDomNode,f.event.browserEvent.y,c)):this.visibility=!1:this.visibility=!1})),this._register(i.onMouseDown(f=>{!f.event.rightButton||(f.target.type===8||f.target.type===5)&&f.target.detail.viewZoneId===this._viewZoneId&&(f.event.preventDefault(),a=this._updateLightBulbPosition(this._marginDomNode,f.event.browserEvent.y,c),S(f.event.posx,f.event.posy+c))}))}_updateLightBulbPosition(g,t,i){const{top:n}=m.getDomNodePagePosition(g),o=t-n,l=Math.floor(o/i),c=l*i;if(this._diffActions.style.top=`${c}px`,this.diff.viewLineCounts){let d=0;for(let r=0;r<this.diff.viewLineCounts.length;r++)if(d+=this.diff.viewLineCounts[r],l<d)return r}return l}}e.InlineDiffMargin=C}),define(se[547],re([4,5]),function(q,e){return q.create("vs/editor/common/config/editorConfigurationSchema",e)}),define(se[548],re([4,5]),function(q,e){return q.create("vs/editor/common/config/editorOptions",e)}),define(se[38],re([1,0,548,17,132,18,36,154]),function(q,e,w,m,k,D,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorOptions=e.editorOptionsRegistry=e.EDITOR_FONT_DEFAULTS=e.unicodeHighlightConfigKeys=e.inUntrustedWorkspace=e.filterValidationDecorations=e.EditorLayoutInfoComputer=e.EditorFontLigatures=e.TextEditorCursorStyle=e.stringSet=e.clampedInt=e.boolean=e.ApplyUpdateResult=e.ComputeOptionsMemory=e.ConfigurationChangedEvent=e.MINIMAP_GUTTER_WIDTH=void 0,e.MINIMAP_GUTTER_WIDTH=8;class C{constructor(te){this._values=te}hasChanged(te){return this._values[te]}}e.ConfigurationChangedEvent=C;class h{constructor(){this.stableMinimapLayoutInput=null,this.stableFitMaxMinimapScale=0,this.stableFitRemainingWidth=0}}e.ComputeOptionsMemory=h;class g{constructor(te,he,be,me){this.id=te,this.name=he,this.defaultValue=be,this.schema=me}applyUpdate(te,he){return i(te,he)}compute(te,he,be){return be}}class t{constructor(te,he){this.newValue=te,this.didChange=he}}e.ApplyUpdateResult=t;function i(Ce,te){if(typeof Ce!="object"||typeof te!="object"||!Ce||!te)return new t(te,Ce!==te);if(Array.isArray(Ce)||Array.isArray(te)){const be=Array.isArray(Ce)&&Array.isArray(te)&&D.equals(Ce,te);return new t(te,!be)}let he=!1;for(const be in te)if(te.hasOwnProperty(be)){const me=i(Ce[be],te[be]);me.didChange&&(Ce[be]=me.newValue,he=!0)}return new t(Ce,he)}class n{constructor(te){this.schema=void 0,this.id=te,this.name="_never_",this.defaultValue=void 0}applyUpdate(te,he){return i(te,he)}validate(te){return this.defaultValue}}class o{constructor(te,he,be,me){this.id=te,this.name=he,this.defaultValue=be,this.schema=me}applyUpdate(te,he){return i(te,he)}validate(te){return typeof te>"u"?this.defaultValue:te}compute(te,he,be){return be}}function l(Ce,te){return typeof Ce>"u"?te:Ce==="false"?!1:Boolean(Ce)}e.boolean=l;class c extends o{constructor(te,he,be,me=void 0){typeof me<"u"&&(me.type="boolean",me.default=be),super(te,he,be,me)}validate(te){return l(te,this.defaultValue)}}function d(Ce,te,he,be){if(typeof Ce>"u")return te;let me=parseInt(Ce,10);return isNaN(me)?te:(me=Math.max(he,me),me=Math.min(be,me),me|0)}e.clampedInt=d;class r extends o{static clampedInt(te,he,be,me){return d(te,he,be,me)}constructor(te,he,be,me,pe,Le=void 0){typeof Le<"u"&&(Le.type="integer",Le.default=be,Le.minimum=me,Le.maximum=pe),super(te,he,be,Le),this.minimum=me,this.maximum=pe}validate(te){return r.clampedInt(te,this.defaultValue,this.minimum,this.maximum)}}class s extends o{static clamp(te,he,be){return te<he?he:te>be?be:te}static float(te,he){if(typeof te=="number")return te;if(typeof te>"u")return he;const be=parseFloat(te);return isNaN(be)?he:be}constructor(te,he,be,me,pe){typeof pe<"u"&&(pe.type="number",pe.default=be),super(te,he,be,pe),this.validationFn=me}validate(te){return this.validationFn(s.float(te,this.defaultValue))}}class a extends o{static string(te,he){return typeof te!="string"?he:te}constructor(te,he,be,me=void 0){typeof me<"u"&&(me.type="string",me.default=be),super(te,he,be,me)}validate(te){return a.string(te,this.defaultValue)}}function u(Ce,te,he){return typeof Ce!="string"||he.indexOf(Ce)===-1?te:Ce}e.stringSet=u;class p extends o{constructor(te,he,be,me,pe=void 0){typeof pe<"u"&&(pe.type="string",pe.enum=me,pe.default=be),super(te,he,be,pe),this._allowedValues=me}validate(te){return u(te,this.defaultValue,this._allowedValues)}}class S extends g{constructor(te,he,be,me,pe,Le,Ie=void 0){typeof Ie<"u"&&(Ie.type="string",Ie.enum=pe,Ie.default=me),super(te,he,be,Ie),this._allowedValues=pe,this._convert=Le}validate(te){return typeof te!="string"?this.defaultValue:this._allowedValues.indexOf(te)===-1?this.defaultValue:this._convert(te)}}function f(Ce){switch(Ce){case"none":return 0;case"keep":return 1;case"brackets":return 2;case"advanced":return 3;case"full":return 4}}class v extends g{constructor(){super(2,"accessibilitySupport",0,{type:"string",enum:["auto","on","off"],enumDescriptions:[w.localize(0,null),w.localize(1,null),w.localize(2,null)],default:"auto",tags:["accessibility"],description:w.localize(3,null)})}validate(te){switch(te){case"auto":return 0;case"off":return 1;case"on":return 2}return this.defaultValue}compute(te,he,be){return be===0?te.accessibilitySupport:be}}class _ extends g{constructor(){const te={insertSpace:!0,ignoreEmptyLines:!0};super(19,"comments",te,{"editor.comments.insertSpace":{type:"boolean",default:te.insertSpace,description:w.localize(4,null)},"editor.comments.ignoreEmptyLines":{type:"boolean",default:te.ignoreEmptyLines,description:w.localize(5,null)}})}validate(te){if(!te||typeof te!="object")return this.defaultValue;const he=te;return{insertSpace:l(he.insertSpace,this.defaultValue.insertSpace),ignoreEmptyLines:l(he.ignoreEmptyLines,this.defaultValue.ignoreEmptyLines)}}}function y(Ce){switch(Ce){case"blink":return 1;case"smooth":return 2;case"phase":return 3;case"expand":return 4;case"solid":return 5}}var E;(function(Ce){Ce[Ce.Line=1]="Line",Ce[Ce.Block=2]="Block",Ce[Ce.Underline=3]="Underline",Ce[Ce.LineThin=4]="LineThin",Ce[Ce.BlockOutline=5]="BlockOutline",Ce[Ce.UnderlineThin=6]="UnderlineThin"})(E=e.TextEditorCursorStyle||(e.TextEditorCursorStyle={}));function T(Ce){switch(Ce){case"line":return E.Line;case"block":return E.Block;case"underline":return E.Underline;case"line-thin":return E.LineThin;case"block-outline":return E.BlockOutline;case"underline-thin":return E.UnderlineThin}}class I extends n{constructor(){super(130)}compute(te,he,be){const me=["monaco-editor"];return he.get(34)&&me.push(he.get(34)),te.extraEditorClassName&&me.push(te.extraEditorClassName),he.get(67)==="default"?me.push("mouse-default"):he.get(67)==="copy"&&me.push("mouse-copy"),he.get(101)&&me.push("showUnused"),he.get(128)&&me.push("showDeprecated"),me.join(" ")}}class R extends c{constructor(){super(33,"emptySelectionClipboard",!0,{description:w.localize(6,null)})}compute(te,he,be){return be&&te.emptySelectionClipboard}}class F extends g{constructor(){const te={cursorMoveOnType:!0,seedSearchStringFromSelection:"always",autoFindInSelection:"never",globalFindClipboard:!1,addExtraSpaceOnTop:!0,loop:!0};super(36,"find",te,{"editor.find.cursorMoveOnType":{type:"boolean",default:te.cursorMoveOnType,description:w.localize(7,null)},"editor.find.seedSearchStringFromSelection":{type:"string",enum:["never","always","selection"],default:te.seedSearchStringFromSelection,enumDescriptions:[w.localize(8,null),w.localize(9,null),w.localize(10,null)],description:w.localize(11,null)},"editor.find.autoFindInSelection":{type:"string",enum:["never","always","multiline"],default:te.autoFindInSelection,enumDescriptions:[w.localize(12,null),w.localize(13,null),w.localize(14,null)],description:w.localize(15,null)},"editor.find.globalFindClipboard":{type:"boolean",default:te.globalFindClipboard,description:w.localize(16,null),included:m.isMacintosh},"editor.find.addExtraSpaceOnTop":{type:"boolean",default:te.addExtraSpaceOnTop,description:w.localize(17,null)},"editor.find.loop":{type:"boolean",default:te.loop,description:w.localize(18,null)}})}validate(te){if(!te||typeof te!="object")return this.defaultValue;const he=te;return{cursorMoveOnType:l(he.cursorMoveOnType,this.defaultValue.cursorMoveOnType),seedSearchStringFromSelection:typeof te.seedSearchStringFromSelection=="boolean"?te.seedSearchStringFromSelection?"always":"never":u(he.seedSearchStringFromSelection,this.defaultValue.seedSearchStringFromSelection,["never","always","selection"]),autoFindInSelection:typeof te.autoFindInSelection=="boolean"?te.autoFindInSelection?"always":"never":u(he.autoFindInSelection,this.defaultValue.autoFindInSelection,["never","always","multiline"]),globalFindClipboard:l(he.globalFindClipboard,this.defaultValue.globalFindClipboard),addExtraSpaceOnTop:l(he.addExtraSpaceOnTop,this.defaultValue.addExtraSpaceOnTop),loop:l(he.loop,this.defaultValue.loop)}}}class O extends g{constructor(){super(46,"fontLigatures",O.OFF,{anyOf:[{type:"boolean",description:w.localize(19,null)},{type:"string",description:w.localize(20,null)}],description:w.localize(21,null),default:!1})}validate(te){return typeof te>"u"?this.defaultValue:typeof te=="string"?te==="false"?O.OFF:te==="true"?O.ON:te:Boolean(te)?O.ON:O.OFF}}e.EditorFontLigatures=O,O.OFF='"liga" off, "calt" off',O.ON='"liga" on, "calt" on';class M extends n{constructor(){super(45)}compute(te,he,be){return te.fontInfo}}class N extends o{constructor(){super(47,"fontSize",e.EDITOR_FONT_DEFAULTS.fontSize,{type:"number",minimum:6,maximum:100,default:e.EDITOR_FONT_DEFAULTS.fontSize,description:w.localize(22,null)})}validate(te){const he=s.float(te,this.defaultValue);return he===0?e.EDITOR_FONT_DEFAULTS.fontSize:s.clamp(he,6,100)}compute(te,he,be){return te.fontInfo.fontSize}}class A extends g{constructor(){super(48,"fontWeight",e.EDITOR_FONT_DEFAULTS.fontWeight,{anyOf:[{type:"number",minimum:A.MINIMUM_VALUE,maximum:A.MAXIMUM_VALUE,errorMessage:w.localize(23,null)},{type:"string",pattern:"^(normal|bold|1000|[1-9][0-9]{0,2})$"},{enum:A.SUGGESTION_VALUES}],default:e.EDITOR_FONT_DEFAULTS.fontWeight,description:w.localize(24,null)})}validate(te){return te==="normal"||te==="bold"?te:String(r.clampedInt(te,e.EDITOR_FONT_DEFAULTS.fontWeight,A.MINIMUM_VALUE,A.MAXIMUM_VALUE))}}A.SUGGESTION_VALUES=["normal","bold","100","200","300","400","500","600","700","800","900"],A.MINIMUM_VALUE=1,A.MAXIMUM_VALUE=1e3;class B extends g{constructor(){const te={multiple:"peek",multipleDefinitions:"peek",multipleTypeDefinitions:"peek",multipleDeclarations:"peek",multipleImplementations:"peek",multipleReferences:"peek",alternativeDefinitionCommand:"editor.action.goToReferences",alternativeTypeDefinitionCommand:"editor.action.goToReferences",alternativeDeclarationCommand:"editor.action.goToReferences",alternativeImplementationCommand:"",alternativeReferenceCommand:""},he={type:"string",enum:["peek","gotoAndPeek","goto"],default:te.multiple,enumDescriptions:[w.localize(25,null),w.localize(26,null),w.localize(27,null)]},be=["","editor.action.referenceSearch.trigger","editor.action.goToReferences","editor.action.peekImplementation","editor.action.goToImplementation","editor.action.peekTypeDefinition","editor.action.goToTypeDefinition","editor.action.peekDeclaration","editor.action.revealDeclaration","editor.action.peekDefinition","editor.action.revealDefinitionAside","editor.action.revealDefinition"];super(52,"gotoLocation",te,{"editor.gotoLocation.multiple":{deprecationMessage:w.localize(28,null)},"editor.gotoLocation.multipleDefinitions":Object.assign({description:w.localize(29,null)},he),"editor.gotoLocation.multipleTypeDefinitions":Object.assign({description:w.localize(30,null)},he),"editor.gotoLocation.multipleDeclarations":Object.assign({description:w.localize(31,null)},he),"editor.gotoLocation.multipleImplementations":Object.assign({description:w.localize(32,null)},he),"editor.gotoLocation.multipleReferences":Object.assign({description:w.localize(33,null)},he),"editor.gotoLocation.alternativeDefinitionCommand":{type:"string",default:te.alternativeDefinitionCommand,enum:be,description:w.localize(34,null)},"editor.gotoLocation.alternativeTypeDefinitionCommand":{type:"string",default:te.alternativeTypeDefinitionCommand,enum:be,description:w.localize(35,null)},"editor.gotoLocation.alternativeDeclarationCommand":{type:"string",default:te.alternativeDeclarationCommand,enum:be,description:w.localize(36,null)},"editor.gotoLocation.alternativeImplementationCommand":{type:"string",default:te.alternativeImplementationCommand,enum:be,description:w.localize(37,null)},"editor.gotoLocation.alternativeReferenceCommand":{type:"string",default:te.alternativeReferenceCommand,enum:be,description:w.localize(38,null)}})}validate(te){var he,be,me,pe,Le;if(!te||typeof te!="object")return this.defaultValue;const Ie=te;return{multiple:u(Ie.multiple,this.defaultValue.multiple,["peek","gotoAndPeek","goto"]),multipleDefinitions:(he=Ie.multipleDefinitions)!==null&&he!==void 0?he:u(Ie.multipleDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleTypeDefinitions:(be=Ie.multipleTypeDefinitions)!==null&&be!==void 0?be:u(Ie.multipleTypeDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleDeclarations:(me=Ie.multipleDeclarations)!==null&&me!==void 0?me:u(Ie.multipleDeclarations,"peek",["peek","gotoAndPeek","goto"]),multipleImplementations:(pe=Ie.multipleImplementations)!==null&&pe!==void 0?pe:u(Ie.multipleImplementations,"peek",["peek","gotoAndPeek","goto"]),multipleReferences:(Le=Ie.multipleReferences)!==null&&Le!==void 0?Le:u(Ie.multipleReferences,"peek",["peek","gotoAndPeek","goto"]),alternativeDefinitionCommand:a.string(Ie.alternativeDefinitionCommand,this.defaultValue.alternativeDefinitionCommand),alternativeTypeDefinitionCommand:a.string(Ie.alternativeTypeDefinitionCommand,this.defaultValue.alternativeTypeDefinitionCommand),alternativeDeclarationCommand:a.string(Ie.alternativeDeclarationCommand,this.defaultValue.alternativeDeclarationCommand),alternativeImplementationCommand:a.string(Ie.alternativeImplementationCommand,this.defaultValue.alternativeImplementationCommand),alternativeReferenceCommand:a.string(Ie.alternativeReferenceCommand,this.defaultValue.alternativeReferenceCommand)}}}class W extends g{constructor(){const te={enabled:!0,delay:300,sticky:!0,above:!0};super(54,"hover",te,{"editor.hover.enabled":{type:"boolean",default:te.enabled,description:w.localize(39,null)},"editor.hover.delay":{type:"number",default:te.delay,minimum:0,maximum:1e4,description:w.localize(40,null)},"editor.hover.sticky":{type:"boolean",default:te.sticky,description:w.localize(41,null)},"editor.hover.above":{type:"boolean",default:te.above,description:w.localize(42,null)}})}validate(te){if(!te||typeof te!="object")return this.defaultValue;const he=te;return{enabled:l(he.enabled,this.defaultValue.enabled),delay:r.clampedInt(he.delay,this.defaultValue.delay,0,1e4),sticky:l(he.sticky,this.defaultValue.sticky),above:l(he.above,this.defaultValue.above)}}}class x extends n{constructor(){super(133)}compute(te,he,be){return x.computeLayout(he,{memory:te.memory,outerWidth:te.outerWidth,outerHeight:te.outerHeight,isDominatedByLongLines:te.isDominatedByLongLines,lineHeight:te.fontInfo.lineHeight,viewLineCount:te.viewLineCount,lineNumbersDigitCount:te.lineNumbersDigitCount,typicalHalfwidthCharacterWidth:te.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:te.fontInfo.maxDigitWidth,pixelRatio:te.pixelRatio})}static computeContainedMinimapLineCount(te){const he=te.height/te.lineHeight,be=te.scrollBeyondLastLine?he-1:0,me=(te.viewLineCount+be)/(te.pixelRatio*te.height),pe=Math.floor(te.viewLineCount/me);return{typicalViewportLineCount:he,extraLinesBeyondLastLine:be,desiredRatio:me,minimapLineCount:pe}}static _computeMinimapLayout(te,he){const be=te.outerWidth,me=te.outerHeight,pe=te.pixelRatio;if(!te.minimap.enabled)return{renderMinimap:0,minimapLeft:0,minimapWidth:0,minimapHeightIsEditorHeight:!1,minimapIsSampling:!1,minimapScale:1,minimapLineHeight:1,minimapCanvasInnerWidth:0,minimapCanvasInnerHeight:Math.floor(pe*me),minimapCanvasOuterWidth:0,minimapCanvasOuterHeight:me};const Le=he.stableMinimapLayoutInput,Ie=Le&&te.outerHeight===Le.outerHeight&&te.lineHeight===Le.lineHeight&&te.typicalHalfwidthCharacterWidth===Le.typicalHalfwidthCharacterWidth&&te.pixelRatio===Le.pixelRatio&&te.scrollBeyondLastLine===Le.scrollBeyondLastLine&&te.minimap.enabled===Le.minimap.enabled&&te.minimap.side===Le.minimap.side&&te.minimap.size===Le.minimap.size&&te.minimap.showSlider===Le.minimap.showSlider&&te.minimap.renderCharacters===Le.minimap.renderCharacters&&te.minimap.maxColumn===Le.minimap.maxColumn&&te.minimap.scale===Le.minimap.scale&&te.verticalScrollbarWidth===Le.verticalScrollbarWidth&&te.isViewportWrapping===Le.isViewportWrapping,Ne=te.lineHeight,Pe=te.typicalHalfwidthCharacterWidth,Re=te.scrollBeyondLastLine,Ae=te.minimap.renderCharacters;let Be=pe>=2?Math.round(te.minimap.scale*2):te.minimap.scale;const Fe=te.minimap.maxColumn,He=te.minimap.size,$e=te.minimap.side,it=te.verticalScrollbarWidth,tt=te.viewLineCount,ot=te.remainingWidth,ze=te.isViewportWrapping,ke=Ae?2:3;let Oe=Math.floor(pe*me);const xe=Oe/pe;let qe=!1,Ke=!1,Qe=ke*Be,Xe=Be/pe,Je=1;if(He==="fill"||He==="fit"){const{typicalViewportLineCount:Ge,extraLinesBeyondLastLine:Ye,desiredRatio:Ze,minimapLineCount:nt}=x.computeContainedMinimapLineCount({viewLineCount:tt,scrollBeyondLastLine:Re,height:me,lineHeight:Ne,pixelRatio:pe});if(tt/nt>1)qe=!0,Ke=!0,Be=1,Qe=1,Xe=Be/pe;else{let gt=!1,ct=Be+1;if(He==="fit"){const ut=Math.ceil((tt+Ye)*Qe);ze&&Ie&&ot<=he.stableFitRemainingWidth?(gt=!0,ct=he.stableFitMaxMinimapScale):gt=ut>Oe}if(He==="fill"||gt){qe=!0;const ut=Be;Qe=Math.min(Ne*pe,Math.max(1,Math.floor(1/Ze))),ze&&Ie&&ot<=he.stableFitRemainingWidth&&(ct=he.stableFitMaxMinimapScale),Be=Math.min(ct,Math.max(1,Math.floor(Qe/ke))),Be>ut&&(Je=Math.min(2,Be/ut)),Xe=Be/pe/Je,Oe=Math.ceil(Math.max(Ge,tt+Ye)*Qe),ze?(he.stableMinimapLayoutInput=te,he.stableFitRemainingWidth=ot,he.stableFitMaxMinimapScale=Be):(he.stableMinimapLayoutInput=null,he.stableFitRemainingWidth=0)}}}const st=Math.floor(Fe*Xe),Ue=Math.min(st,Math.max(0,Math.floor((ot-it-2)*Xe/(Pe+Xe)))+e.MINIMAP_GUTTER_WIDTH);let Me=Math.floor(pe*Ue);const We=Me/pe;Me=Math.floor(Me*Je);const Ve=Ae?1:2,je=$e==="left"?0:be-Ue-it;return{renderMinimap:Ve,minimapLeft:je,minimapWidth:Ue,minimapHeightIsEditorHeight:qe,minimapIsSampling:Ke,minimapScale:Be,minimapLineHeight:Qe,minimapCanvasInnerWidth:Me,minimapCanvasInnerHeight:Oe,minimapCanvasOuterWidth:We,minimapCanvasOuterHeight:xe}}static computeLayout(te,he){const be=he.outerWidth|0,me=he.outerHeight|0,pe=he.lineHeight|0,Le=he.lineNumbersDigitCount|0,Ie=he.typicalHalfwidthCharacterWidth,Ne=he.maxDigitWidth,Pe=he.pixelRatio,Re=he.viewLineCount,Ae=te.get(125),Be=Ae==="inherit"?te.get(124):Ae,Fe=Be==="inherit"?te.get(120):Be,He=te.get(123),$e=te.get(2),it=he.isDominatedByLongLines,tt=te.get(51),ot=te.get(61).renderType!==0,ze=te.get(62),ke=te.get(95),Oe=te.get(66),xe=te.get(93),qe=xe.verticalScrollbarSize,Ke=xe.verticalHasArrows,Qe=xe.arrowSize,Xe=xe.horizontalScrollbarSize,Je=te.get(59),st=te.get(38),Ue=te.get(100)!=="never";let Me;if(typeof Je=="string"&&/^\d+(\.\d+)?ch$/.test(Je)){const ft=parseFloat(Je.substr(0,Je.length-2));Me=r.clampedInt(ft*Ie,0,0,1e3)}else Me=r.clampedInt(Je,0,0,1e3);st&&Ue&&(Me+=16);let We=0;if(ot){const ft=Math.max(Le,ze);We=Math.round(ft*Ne)}let Ve=0;tt&&(Ve=pe);let je=0,Ge=je+Ve,Ye=Ge+We,Ze=Ye+Me;const nt=be-Ve-We-Me;let lt=!1,gt=!1,ct=-1;$e!==2&&(Be==="inherit"&&it?(lt=!0,gt=!0):Fe==="on"||Fe==="bounded"?gt=!0:Fe==="wordWrapColumn"&&(ct=He));const ut=x._computeMinimapLayout({outerWidth:be,outerHeight:me,lineHeight:pe,typicalHalfwidthCharacterWidth:Ie,pixelRatio:Pe,scrollBeyondLastLine:ke,minimap:Oe,verticalScrollbarWidth:qe,viewLineCount:Re,remainingWidth:nt,isViewportWrapping:gt},he.memory||new h);ut.renderMinimap!==0&&ut.minimapLeft===0&&(je+=ut.minimapWidth,Ge+=ut.minimapWidth,Ye+=ut.minimapWidth,Ze+=ut.minimapWidth);const at=nt-ut.minimapWidth,pt=Math.max(1,Math.floor((at-qe-2)/Ie)),St=Ke?Qe:0;return gt&&(ct=Math.max(1,pt),Fe==="bounded"&&(ct=Math.min(ct,He))),{width:be,height:me,glyphMarginLeft:je,glyphMarginWidth:Ve,lineNumbersLeft:Ge,lineNumbersWidth:We,decorationsLeft:Ye,decorationsWidth:Me,contentLeft:Ze,contentWidth:at,minimap:ut,viewportColumn:pt,isWordWrapMinified:lt,isViewportWrapping:gt,wrappingColumn:ct,verticalScrollbarWidth:qe,horizontalScrollbarHeight:Xe,overviewRuler:{top:St,width:qe,height:me-2*St,right:0}}}}e.EditorLayoutInfoComputer=x;class P extends g{constructor(){const te={enabled:!0};super(58,"lightbulb",te,{"editor.lightbulb.enabled":{type:"boolean",default:te.enabled,description:w.localize(43,null)}})}validate(te){return!te||typeof te!="object"?this.defaultValue:{enabled:l(te.enabled,this.defaultValue.enabled)}}}class X extends g{constructor(){const te={enabled:!1,maxLineCount:5};super(105,"stickyScroll",te,{"editor.stickyScroll.enabled":{type:"boolean",default:te.enabled,description:w.localize(44,null)},"editor.stickyScroll.maxLineCount":{type:"number",default:te.maxLineCount,minimum:1,maximum:10,description:w.localize(45,null)}})}validate(te){if(!te||typeof te!="object")return this.defaultValue;const he=te;return{enabled:l(he.enabled,this.defaultValue.enabled),maxLineCount:r.clampedInt(he.maxLineCount,this.defaultValue.maxLineCount,1,10)}}}class ie extends g{constructor(){const te={enabled:"on",fontSize:0,fontFamily:"",padding:!1};super(129,"inlayHints",te,{"editor.inlayHints.enabled":{type:"string",default:te.enabled,description:w.localize(46,null),enum:["on","onUnlessPressed","offUnlessPressed","off"],markdownEnumDescriptions:[w.localize(47,null),w.localize(48,null,m.isMacintosh?"Ctrl+Option":"Ctrl+Alt"),w.localize(49,null,m.isMacintosh?"Ctrl+Option":"Ctrl+Alt"),w.localize(50,null)]},"editor.inlayHints.fontSize":{type:"number",default:te.fontSize,markdownDescription:w.localize(51,null,"`#editor.fontSize#`","`5`")},"editor.inlayHints.fontFamily":{type:"string",default:te.fontFamily,markdownDescription:w.localize(52,null,"`#editor.fontFamily#`")},"editor.inlayHints.padding":{type:"boolean",default:te.padding,description:w.localize(53,null)}})}validate(te){if(!te||typeof te!="object")return this.defaultValue;const he=te;return typeof he.enabled=="boolean"&&(he.enabled=he.enabled?"on":"off"),{enabled:u(he.enabled,this.defaultValue.enabled,["on","off","offUnlessPressed","onUnlessPressed"]),fontSize:r.clampedInt(he.fontSize,this.defaultValue.fontSize,0,100),fontFamily:a.string(he.fontFamily,this.defaultValue.fontFamily),padding:l(he.padding,this.defaultValue.padding)}}}class K extends s{constructor(){super(60,"lineHeight",e.EDITOR_FONT_DEFAULTS.lineHeight,te=>s.clamp(te,0,150),{markdownDescription:w.localize(54,null)})}compute(te,he,be){return te.fontInfo.lineHeight}}class G extends g{constructor(){const te={enabled:!0,size:"proportional",side:"right",showSlider:"mouseover",autohide:!1,renderCharacters:!0,maxColumn:120,scale:1};super(66,"minimap",te,{"editor.minimap.enabled":{type:"boolean",default:te.enabled,description:w.localize(55,null)},"editor.minimap.autohide":{type:"boolean",default:te.autohide,description:w.localize(56,null)},"editor.minimap.size":{type:"string",enum:["proportional","fill","fit"],enumDescriptions:[w.localize(57,null),w.localize(58,null),w.localize(59,null)],default:te.size,description:w.localize(60,null)},"editor.minimap.side":{type:"string",enum:["left","right"],default:te.side,description:w.localize(61,null)},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:te.showSlider,description:w.localize(62,null)},"editor.minimap.scale":{type:"number",default:te.scale,minimum:1,maximum:3,enum:[1,2,3],description:w.localize(63,null)},"editor.minimap.renderCharacters":{type:"boolean",default:te.renderCharacters,description:w.localize(64,null)},"editor.minimap.maxColumn":{type:"number",default:te.maxColumn,description:w.localize(65,null)}})}validate(te){if(!te||typeof te!="object")return this.defaultValue;const he=te;return{enabled:l(he.enabled,this.defaultValue.enabled),autohide:l(he.autohide,this.defaultValue.autohide),size:u(he.size,this.defaultValue.size,["proportional","fill","fit"]),side:u(he.side,this.defaultValue.side,["right","left"]),showSlider:u(he.showSlider,this.defaultValue.showSlider,["always","mouseover"]),renderCharacters:l(he.renderCharacters,this.defaultValue.renderCharacters),scale:r.clampedInt(he.scale,1,1,3),maxColumn:r.clampedInt(he.maxColumn,this.defaultValue.maxColumn,1,1e4)}}}function Q(Ce){return Ce==="ctrlCmd"?m.isMacintosh?"metaKey":"ctrlKey":"altKey"}class ne extends g{constructor(){super(76,"padding",{top:0,bottom:0},{"editor.padding.top":{type:"number",default:0,minimum:0,maximum:1e3,description:w.localize(66,null)},"editor.padding.bottom":{type:"number",default:0,minimum:0,maximum:1e3,description:w.localize(67,null)}})}validate(te){if(!te||typeof te!="object")return this.defaultValue;const he=te;return{top:r.clampedInt(he.top,0,0,1e3),bottom:r.clampedInt(he.bottom,0,0,1e3)}}}class Z extends g{constructor(){const te={enabled:!0,cycle:!1};super(77,"parameterHints",te,{"editor.parameterHints.enabled":{type:"boolean",default:te.enabled,description:w.localize(68,null)},"editor.parameterHints.cycle":{type:"boolean",default:te.cycle,description:w.localize(69,null)}})}validate(te){if(!te||typeof te!="object")return this.defaultValue;const he=te;return{enabled:l(he.enabled,this.defaultValue.enabled),cycle:l(he.cycle,this.defaultValue.cycle)}}}class ee extends n{constructor(){super(131)}compute(te,he,be){return te.pixelRatio}}class le extends g{constructor(){const te={other:"on",comments:"off",strings:"off"},he=[{type:"boolean"},{type:"string",enum:["on","inline","off"],enumDescriptions:[w.localize(70,null),w.localize(71,null),w.localize(72,null)]}];super(80,"quickSuggestions",te,{type:"object",additionalProperties:!1,properties:{strings:{anyOf:he,default:te.strings,description:w.localize(73,null)},comments:{anyOf:he,default:te.comments,description:w.localize(74,null)},other:{anyOf:he,default:te.other,description:w.localize(75,null)}},default:te,markdownDescription:w.localize(76,null,"#editor.suggestOnTriggerCharacters#")}),this.defaultValue=te}validate(te){if(typeof te=="boolean"){const Pe=te?"on":"off";return{comments:Pe,strings:Pe,other:Pe}}if(!te||typeof te!="object")return this.defaultValue;const{other:he,comments:be,strings:me}=te,pe=["on","inline","off"];let Le,Ie,Ne;return typeof he=="boolean"?Le=he?"on":"off":Le=u(he,this.defaultValue.other,pe),typeof be=="boolean"?Ie=be?"on":"off":Ie=u(be,this.defaultValue.comments,pe),typeof me=="boolean"?Ne=me?"on":"off":Ne=u(me,this.defaultValue.strings,pe),{other:Le,comments:Ie,strings:Ne}}}class V extends g{constructor(){super(61,"lineNumbers",{renderType:1,renderFn:null},{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[w.localize(77,null),w.localize(78,null),w.localize(79,null),w.localize(80,null)],default:"on",description:w.localize(81,null)})}validate(te){let he=this.defaultValue.renderType,be=this.defaultValue.renderFn;return typeof te<"u"&&(typeof te=="function"?(he=4,be=te):te==="interval"?he=3:te==="relative"?he=2:te==="on"?he=1:he=0),{renderType:he,renderFn:be}}}function $(Ce){const te=Ce.get(88);return te==="editable"?Ce.get(82):te!=="on"}e.filterValidationDecorations=$;class oe extends g{constructor(){const te=[],he={type:"number",description:w.localize(82,null)};super(92,"rulers",te,{type:"array",items:{anyOf:[he,{type:["object"],properties:{column:he,color:{type:"string",description:w.localize(83,null),format:"color-hex"}}}]},default:te,description:w.localize(84,null)})}validate(te){if(Array.isArray(te)){const he=[];for(const be of te)if(typeof be=="number")he.push({column:r.clampedInt(be,0,0,1e4),color:null});else if(be&&typeof be=="object"){const me=be;he.push({column:r.clampedInt(me.column,0,0,1e4),color:me.color})}return he.sort((be,me)=>be.column-me.column),he}return this.defaultValue}}function U(Ce,te){if(typeof Ce!="string")return te;switch(Ce){case"hidden":return 2;case"visible":return 3;default:return 1}}class ae extends g{constructor(){const te={vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:12,horizontalSliderSize:12,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,alwaysConsumeMouseWheel:!0,scrollByPage:!1};super(93,"scrollbar",te,{"editor.scrollbar.vertical":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[w.localize(85,null),w.localize(86,null),w.localize(87,null)],default:"auto",description:w.localize(88,null)},"editor.scrollbar.horizontal":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[w.localize(89,null),w.localize(90,null),w.localize(91,null)],default:"auto",description:w.localize(92,null)},"editor.scrollbar.verticalScrollbarSize":{type:"number",default:te.verticalScrollbarSize,description:w.localize(93,null)},"editor.scrollbar.horizontalScrollbarSize":{type:"number",default:te.horizontalScrollbarSize,description:w.localize(94,null)},"editor.scrollbar.scrollByPage":{type:"boolean",default:te.scrollByPage,description:w.localize(95,null)}})}validate(te){if(!te||typeof te!="object")return this.defaultValue;const he=te,be=r.clampedInt(he.horizontalScrollbarSize,this.defaultValue.horizontalScrollbarSize,0,1e3),me=r.clampedInt(he.verticalScrollbarSize,this.defaultValue.verticalScrollbarSize,0,1e3);return{arrowSize:r.clampedInt(he.arrowSize,this.defaultValue.arrowSize,0,1e3),vertical:U(he.vertical,this.defaultValue.vertical),horizontal:U(he.horizontal,this.defaultValue.horizontal),useShadows:l(he.useShadows,this.defaultValue.useShadows),verticalHasArrows:l(he.verticalHasArrows,this.defaultValue.verticalHasArrows),horizontalHasArrows:l(he.horizontalHasArrows,this.defaultValue.horizontalHasArrows),handleMouseWheel:l(he.handleMouseWheel,this.defaultValue.handleMouseWheel),alwaysConsumeMouseWheel:l(he.alwaysConsumeMouseWheel,this.defaultValue.alwaysConsumeMouseWheel),horizontalScrollbarSize:be,horizontalSliderSize:r.clampedInt(he.horizontalSliderSize,be,0,1e3),verticalScrollbarSize:me,verticalSliderSize:r.clampedInt(he.verticalSliderSize,me,0,1e3),scrollByPage:l(he.scrollByPage,this.defaultValue.scrollByPage)}}}e.inUntrustedWorkspace="inUntrustedWorkspace",e.unicodeHighlightConfigKeys={allowedCharacters:"editor.unicodeHighlight.allowedCharacters",invisibleCharacters:"editor.unicodeHighlight.invisibleCharacters",nonBasicASCII:"editor.unicodeHighlight.nonBasicASCII",ambiguousCharacters:"editor.unicodeHighlight.ambiguousCharacters",includeComments:"editor.unicodeHighlight.includeComments",includeStrings:"editor.unicodeHighlight.includeStrings",allowedLocales:"editor.unicodeHighlight.allowedLocales"};class z extends g{constructor(){const te={nonBasicASCII:e.inUntrustedWorkspace,invisibleCharacters:!0,ambiguousCharacters:!0,includeComments:e.inUntrustedWorkspace,includeStrings:!0,allowedCharacters:{},allowedLocales:{_os:!0,_vscode:!0}};super(115,"unicodeHighlight",te,{[e.unicodeHighlightConfigKeys.nonBasicASCII]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,e.inUntrustedWorkspace],default:te.nonBasicASCII,description:w.localize(96,null)},[e.unicodeHighlightConfigKeys.invisibleCharacters]:{restricted:!0,type:"boolean",default:te.invisibleCharacters,description:w.localize(97,null)},[e.unicodeHighlightConfigKeys.ambiguousCharacters]:{restricted:!0,type:"boolean",default:te.ambiguousCharacters,description:w.localize(98,null)},[e.unicodeHighlightConfigKeys.includeComments]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,e.inUntrustedWorkspace],default:te.includeComments,description:w.localize(99,null)},[e.unicodeHighlightConfigKeys.includeStrings]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,e.inUntrustedWorkspace],default:te.includeStrings,description:w.localize(100,null)},[e.unicodeHighlightConfigKeys.allowedCharacters]:{restricted:!0,type:"object",default:te.allowedCharacters,description:w.localize(101,null),additionalProperties:{type:"boolean"}},[e.unicodeHighlightConfigKeys.allowedLocales]:{restricted:!0,type:"object",additionalProperties:{type:"boolean"},default:te.allowedLocales,description:w.localize(102,null)}})}applyUpdate(te,he){let be=!1;he.allowedCharacters&&te&&(L.equals(te.allowedCharacters,he.allowedCharacters)||(te=Object.assign(Object.assign({},te),{allowedCharacters:he.allowedCharacters}),be=!0)),he.allowedLocales&&te&&(L.equals(te.allowedLocales,he.allowedLocales)||(te=Object.assign(Object.assign({},te),{allowedLocales:he.allowedLocales}),be=!0));const me=super.applyUpdate(te,he);return be?new t(me.newValue,!0):me}validate(te){if(!te||typeof te!="object")return this.defaultValue;const he=te;return{nonBasicASCII:j(he.nonBasicASCII,e.inUntrustedWorkspace,[!0,!1,e.inUntrustedWorkspace]),invisibleCharacters:l(he.invisibleCharacters,this.defaultValue.invisibleCharacters),ambiguousCharacters:l(he.ambiguousCharacters,this.defaultValue.ambiguousCharacters),includeComments:j(he.includeComments,e.inUntrustedWorkspace,[!0,!1,e.inUntrustedWorkspace]),includeStrings:j(he.includeStrings,e.inUntrustedWorkspace,[!0,!1,e.inUntrustedWorkspace]),allowedCharacters:this.validateBooleanMap(te.allowedCharacters,this.defaultValue.allowedCharacters),allowedLocales:this.validateBooleanMap(te.allowedLocales,this.defaultValue.allowedLocales)}}validateBooleanMap(te,he){if(typeof te!="object"||!te)return he;const be={};for(const[me,pe]of Object.entries(te))pe===!0&&(be[me]=!0);return be}}class J extends g{constructor(){const te={enabled:!0,mode:"subwordSmart"};super(56,"inlineSuggest",te,{"editor.inlineSuggest.enabled":{type:"boolean",default:te.enabled,description:w.localize(103,null)}})}validate(te){if(!te||typeof te!="object")return this.defaultValue;const he=te;return{enabled:l(he.enabled,this.defaultValue.enabled),mode:u(he.mode,this.defaultValue.mode,["prefix","subword","subwordSmart"])}}}class Y extends g{constructor(){const te={enabled:b.EDITOR_MODEL_DEFAULTS.bracketPairColorizationOptions.enabled,independentColorPoolPerBracketType:b.EDITOR_MODEL_DEFAULTS.bracketPairColorizationOptions.independentColorPoolPerBracketType};super(12,"bracketPairColorization",te,{"editor.bracketPairColorization.enabled":{type:"boolean",default:te.enabled,markdownDescription:w.localize(104,null,"`#workbench.colorCustomizations#`")},"editor.bracketPairColorization.independentColorPoolPerBracketType":{type:"boolean",default:te.independentColorPoolPerBracketType,description:w.localize(105,null)}})}validate(te){if(!te||typeof te!="object")return this.defaultValue;const he=te;return{enabled:l(he.enabled,this.defaultValue.enabled),independentColorPoolPerBracketType:l(he.independentColorPoolPerBracketType,this.defaultValue.independentColorPoolPerBracketType)}}}class H extends g{constructor(){const te={bracketPairs:!1,bracketPairsHorizontal:"active",highlightActiveBracketPair:!0,indentation:!0,highlightActiveIndentation:!0};super(13,"guides",te,{"editor.guides.bracketPairs":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[w.localize(106,null),w.localize(107,null),w.localize(108,null)],default:te.bracketPairs,description:w.localize(109,null)},"editor.guides.bracketPairsHorizontal":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[w.localize(110,null),w.localize(111,null),w.localize(112,null)],default:te.bracketPairsHorizontal,description:w.localize(113,null)},"editor.guides.highlightActiveBracketPair":{type:"boolean",default:te.highlightActiveBracketPair,description:w.localize(114,null)},"editor.guides.indentation":{type:"boolean",default:te.indentation,description:w.localize(115,null)},"editor.guides.highlightActiveIndentation":{type:["boolean","string"],enum:[!0,"always",!1],enumDescriptions:[w.localize(116,null),w.localize(117,null),w.localize(118,null)],default:te.highlightActiveIndentation,description:w.localize(119,null)}})}validate(te){if(!te||typeof te!="object")return this.defaultValue;const he=te;return{bracketPairs:j(he.bracketPairs,this.defaultValue.bracketPairs,[!0,!1,"active"]),bracketPairsHorizontal:j(he.bracketPairsHorizontal,this.defaultValue.bracketPairsHorizontal,[!0,!1,"active"]),highlightActiveBracketPair:l(he.highlightActiveBracketPair,this.defaultValue.highlightActiveBracketPair),indentation:l(he.indentation,this.defaultValue.indentation),highlightActiveIndentation:j(he.highlightActiveIndentation,this.defaultValue.highlightActiveIndentation,[!0,!1,"always"])}}}function j(Ce,te,he){const be=he.indexOf(Ce);return be===-1?te:he[be]}class de extends g{constructor(){const te={insertMode:"insert",filterGraceful:!0,snippetsPreventQuickSuggestions:!0,localityBonus:!1,shareSuggestSelections:!1,showIcons:!0,showStatusBar:!1,preview:!1,previewMode:"subwordSmart",showInlineDetails:!0,showMethods:!0,showFunctions:!0,showConstructors:!0,showDeprecated:!0,matchOnWordStartOnly:!0,showFields:!0,showVariables:!0,showClasses:!0,showStructs:!0,showInterfaces:!0,showModules:!0,showProperties:!0,showEvents:!0,showOperators:!0,showUnits:!0,showValues:!0,showConstants:!0,showEnums:!0,showEnumMembers:!0,showKeywords:!0,showWords:!0,showColors:!0,showFiles:!0,showReferences:!0,showFolders:!0,showTypeParameters:!0,showSnippets:!0,showUsers:!0,showIssues:!0};super(108,"suggest",te,{"editor.suggest.insertMode":{type:"string",enum:["insert","replace"],enumDescriptions:[w.localize(120,null),w.localize(121,null)],default:te.insertMode,description:w.localize(122,null)},"editor.suggest.filterGraceful":{type:"boolean",default:te.filterGraceful,description:w.localize(123,null)},"editor.suggest.localityBonus":{type:"boolean",default:te.localityBonus,description:w.localize(124,null)},"editor.suggest.shareSuggestSelections":{type:"boolean",default:te.shareSuggestSelections,markdownDescription:w.localize(125,null)},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:te.snippetsPreventQuickSuggestions,description:w.localize(126,null)},"editor.suggest.showIcons":{type:"boolean",default:te.showIcons,description:w.localize(127,null)},"editor.suggest.showStatusBar":{type:"boolean",default:te.showStatusBar,description:w.localize(128,null)},"editor.suggest.preview":{type:"boolean",default:te.preview,description:w.localize(129,null)},"editor.suggest.showInlineDetails":{type:"boolean",default:te.showInlineDetails,description:w.localize(130,null)},"editor.suggest.maxVisibleSuggestions":{type:"number",deprecationMessage:w.localize(131,null)},"editor.suggest.filteredTypes":{type:"object",deprecationMessage:w.localize(132,null)},"editor.suggest.showMethods":{type:"boolean",default:!0,markdownDescription:w.localize(133,null)},"editor.suggest.showFunctions":{type:"boolean",default:!0,markdownDescription:w.localize(134,null)},"editor.suggest.showConstructors":{type:"boolean",default:!0,markdownDescription:w.localize(135,null)},"editor.suggest.showDeprecated":{type:"boolean",default:!0,markdownDescription:w.localize(136,null)},"editor.suggest.matchOnWordStartOnly":{type:"boolean",default:!0,markdownDescription:w.localize(137,null)},"editor.suggest.showFields":{type:"boolean",default:!0,markdownDescription:w.localize(138,null)},"editor.suggest.showVariables":{type:"boolean",default:!0,markdownDescription:w.localize(139,null)},"editor.suggest.showClasses":{type:"boolean",default:!0,markdownDescription:w.localize(140,null)},"editor.suggest.showStructs":{type:"boolean",default:!0,markdownDescription:w.localize(141,null)},"editor.suggest.showInterfaces":{type:"boolean",default:!0,markdownDescription:w.localize(142,null)},"editor.suggest.showModules":{type:"boolean",default:!0,markdownDescription:w.localize(143,null)},"editor.suggest.showProperties":{type:"boolean",default:!0,markdownDescription:w.localize(144,null)},"editor.suggest.showEvents":{type:"boolean",default:!0,markdownDescription:w.localize(145,null)},"editor.suggest.showOperators":{type:"boolean",default:!0,markdownDescription:w.localize(146,null)},"editor.suggest.showUnits":{type:"boolean",default:!0,markdownDescription:w.localize(147,null)},"editor.suggest.showValues":{type:"boolean",default:!0,markdownDescription:w.localize(148,null)},"editor.suggest.showConstants":{type:"boolean",default:!0,markdownDescription:w.localize(149,null)},"editor.suggest.showEnums":{type:"boolean",default:!0,markdownDescription:w.localize(150,null)},"editor.suggest.showEnumMembers":{type:"boolean",default:!0,markdownDescription:w.localize(151,null)},"editor.suggest.showKeywords":{type:"boolean",default:!0,markdownDescription:w.localize(152,null)},"editor.suggest.showWords":{type:"boolean",default:!0,markdownDescription:w.localize(153,null)},"editor.suggest.showColors":{type:"boolean",default:!0,markdownDescription:w.localize(154,null)},"editor.suggest.showFiles":{type:"boolean",default:!0,markdownDescription:w.localize(155,null)},"editor.suggest.showReferences":{type:"boolean",default:!0,markdownDescription:w.localize(156,null)},"editor.suggest.showCustomcolors":{type:"boolean",default:!0,markdownDescription:w.localize(157,null)},"editor.suggest.showFolders":{type:"boolean",default:!0,markdownDescription:w.localize(158,null)},"editor.suggest.showTypeParameters":{type:"boolean",default:!0,markdownDescription:w.localize(159,null)},"editor.suggest.showSnippets":{type:"boolean",default:!0,markdownDescription:w.localize(160,null)},"editor.suggest.showUsers":{type:"boolean",default:!0,markdownDescription:w.localize(161,null)},"editor.suggest.showIssues":{type:"boolean",default:!0,markdownDescription:w.localize(162,null)}})}validate(te){if(!te||typeof te!="object")return this.defaultValue;const he=te;return{insertMode:u(he.insertMode,this.defaultValue.insertMode,["insert","replace"]),filterGraceful:l(he.filterGraceful,this.defaultValue.filterGraceful),snippetsPreventQuickSuggestions:l(he.snippetsPreventQuickSuggestions,this.defaultValue.filterGraceful),localityBonus:l(he.localityBonus,this.defaultValue.localityBonus),shareSuggestSelections:l(he.shareSuggestSelections,this.defaultValue.shareSuggestSelections),showIcons:l(he.showIcons,this.defaultValue.showIcons),showStatusBar:l(he.showStatusBar,this.defaultValue.showStatusBar),preview:l(he.preview,this.defaultValue.preview),previewMode:u(he.previewMode,this.defaultValue.previewMode,["prefix","subword","subwordSmart"]),showInlineDetails:l(he.showInlineDetails,this.defaultValue.showInlineDetails),showMethods:l(he.showMethods,this.defaultValue.showMethods),showFunctions:l(he.showFunctions,this.defaultValue.showFunctions),showConstructors:l(he.showConstructors,this.defaultValue.showConstructors),showDeprecated:l(he.showDeprecated,this.defaultValue.showDeprecated),matchOnWordStartOnly:l(he.matchOnWordStartOnly,this.defaultValue.matchOnWordStartOnly),showFields:l(he.showFields,this.defaultValue.showFields),showVariables:l(he.showVariables,this.defaultValue.showVariables),showClasses:l(he.showClasses,this.defaultValue.showClasses),showStructs:l(he.showStructs,this.defaultValue.showStructs),showInterfaces:l(he.showInterfaces,this.defaultValue.showInterfaces),showModules:l(he.showModules,this.defaultValue.showModules),showProperties:l(he.showProperties,this.defaultValue.showProperties),showEvents:l(he.showEvents,this.defaultValue.showEvents),showOperators:l(he.showOperators,this.defaultValue.showOperators),showUnits:l(he.showUnits,this.defaultValue.showUnits),showValues:l(he.showValues,this.defaultValue.showValues),showConstants:l(he.showConstants,this.defaultValue.showConstants),showEnums:l(he.showEnums,this.defaultValue.showEnums),showEnumMembers:l(he.showEnumMembers,this.defaultValue.showEnumMembers),showKeywords:l(he.showKeywords,this.defaultValue.showKeywords),showWords:l(he.showWords,this.defaultValue.showWords),showColors:l(he.showColors,this.defaultValue.showColors),showFiles:l(he.showFiles,this.defaultValue.showFiles),showReferences:l(he.showReferences,this.defaultValue.showReferences),showFolders:l(he.showFolders,this.defaultValue.showFolders),showTypeParameters:l(he.showTypeParameters,this.defaultValue.showTypeParameters),showSnippets:l(he.showSnippets,this.defaultValue.showSnippets),showUsers:l(he.showUsers,this.defaultValue.showUsers),showIssues:l(he.showIssues,this.defaultValue.showIssues)}}}class ue extends g{constructor(){super(103,"smartSelect",{selectLeadingAndTrailingWhitespace:!0},{"editor.smartSelect.selectLeadingAndTrailingWhitespace":{description:w.localize(163,null),default:!0,type:"boolean"}})}validate(te){return!te||typeof te!="object"?this.defaultValue:{selectLeadingAndTrailingWhitespace:l(te.selectLeadingAndTrailingWhitespace,this.defaultValue.selectLeadingAndTrailingWhitespace)}}}class ce extends n{constructor(){super(132)}compute(te,he,be){return he.get(82)?!0:te.tabFocusMode}}function ge(Ce){switch(Ce){case"none":return 0;case"same":return 1;case"indent":return 2;case"deepIndent":return 3}}class ve extends n{constructor(){super(134)}compute(te,he,be){const me=he.get(133);return{isDominatedByLongLines:te.isDominatedByLongLines,isWordWrapMinified:me.isWordWrapMinified,isViewportWrapping:me.isViewportWrapping,wrappingColumn:me.wrappingColumn}}}class _e extends g{constructor(){const te={enabled:!0};super(32,"dropIntoEditor",te,{"editor.dropIntoEditor.enabled":{type:"boolean",default:te.enabled,markdownDescription:w.localize(164,null)}})}validate(te){return!te||typeof te!="object"?this.defaultValue:{enabled:l(te.enabled,this.defaultValue.enabled)}}}const ye="Consolas, 'Courier New', monospace",Ee="Menlo, Monaco, 'Courier New', monospace",Te="'Droid Sans Mono', 'monospace', monospace";e.EDITOR_FONT_DEFAULTS={fontFamily:m.isMacintosh?Ee:m.isLinux?Te:ye,fontWeight:"normal",fontSize:m.isMacintosh?12:14,lineHeight:0,letterSpacing:0},e.editorOptionsRegistry=[];function we(Ce){return e.editorOptionsRegistry[Ce.id]=Ce,Ce}e.EditorOptions={acceptSuggestionOnCommitCharacter:we(new c(0,"acceptSuggestionOnCommitCharacter",!0,{markdownDescription:w.localize(165,null)})),acceptSuggestionOnEnter:we(new p(1,"acceptSuggestionOnEnter","on",["on","smart","off"],{markdownEnumDescriptions:["",w.localize(166,null),""],markdownDescription:w.localize(167,null)})),accessibilitySupport:we(new v),accessibilityPageSize:we(new r(3,"accessibilityPageSize",10,1,1073741824,{description:w.localize(168,null),tags:["accessibility"]})),ariaLabel:we(new a(4,"ariaLabel",w.localize(169,null))),autoClosingBrackets:we(new p(5,"autoClosingBrackets","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",w.localize(170,null),w.localize(171,null),""],description:w.localize(172,null)})),autoClosingDelete:we(new p(6,"autoClosingDelete","auto",["always","auto","never"],{enumDescriptions:["",w.localize(173,null),""],description:w.localize(174,null)})),autoClosingOvertype:we(new p(7,"autoClosingOvertype","auto",["always","auto","never"],{enumDescriptions:["",w.localize(175,null),""],description:w.localize(176,null)})),autoClosingQuotes:we(new p(8,"autoClosingQuotes","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",w.localize(177,null),w.localize(178,null),""],description:w.localize(179,null)})),autoIndent:we(new S(9,"autoIndent",4,"full",["none","keep","brackets","advanced","full"],f,{enumDescriptions:[w.localize(180,null),w.localize(181,null),w.localize(182,null),w.localize(183,null),w.localize(184,null)],description:w.localize(185,null)})),automaticLayout:we(new c(10,"automaticLayout",!1)),autoSurround:we(new p(11,"autoSurround","languageDefined",["languageDefined","quotes","brackets","never"],{enumDescriptions:[w.localize(186,null),w.localize(187,null),w.localize(188,null),""],description:w.localize(189,null)})),bracketPairColorization:we(new Y),bracketPairGuides:we(new H),stickyTabStops:we(new c(106,"stickyTabStops",!1,{description:w.localize(190,null)})),codeLens:we(new c(14,"codeLens",!0,{description:w.localize(191,null)})),codeLensFontFamily:we(new a(15,"codeLensFontFamily","",{description:w.localize(192,null)})),codeLensFontSize:we(new r(16,"codeLensFontSize",0,0,100,{type:"number",default:0,minimum:0,maximum:100,markdownDescription:w.localize(193,null)})),colorDecorators:we(new c(17,"colorDecorators",!0,{description:w.localize(194,null)})),columnSelection:we(new c(18,"columnSelection",!1,{description:w.localize(195,null)})),comments:we(new _),contextmenu:we(new c(20,"contextmenu",!0)),copyWithSyntaxHighlighting:we(new c(21,"copyWithSyntaxHighlighting",!0,{description:w.localize(196,null)})),cursorBlinking:we(new S(22,"cursorBlinking",1,"blink",["blink","smooth","phase","expand","solid"],y,{description:w.localize(197,null)})),cursorSmoothCaretAnimation:we(new c(23,"cursorSmoothCaretAnimation",!1,{description:w.localize(198,null)})),cursorStyle:we(new S(24,"cursorStyle",E.Line,"line",["line","block","underline","line-thin","block-outline","underline-thin"],T,{description:w.localize(199,null)})),cursorSurroundingLines:we(new r(25,"cursorSurroundingLines",0,0,1073741824,{description:w.localize(200,null)})),cursorSurroundingLinesStyle:we(new p(26,"cursorSurroundingLinesStyle","default",["default","all"],{enumDescriptions:[w.localize(201,null),w.localize(202,null)],description:w.localize(203,null)})),cursorWidth:we(new r(27,"cursorWidth",0,0,1073741824,{markdownDescription:w.localize(204,null)})),disableLayerHinting:we(new c(28,"disableLayerHinting",!1)),disableMonospaceOptimizations:we(new c(29,"disableMonospaceOptimizations",!1)),domReadOnly:we(new c(30,"domReadOnly",!1)),dragAndDrop:we(new c(31,"dragAndDrop",!0,{description:w.localize(205,null)})),emptySelectionClipboard:we(new R),dropIntoEditor:we(new _e),stickyScroll:we(new X),extraEditorClassName:we(new a(34,"extraEditorClassName","")),fastScrollSensitivity:we(new s(35,"fastScrollSensitivity",5,Ce=>Ce<=0?5:Ce,{markdownDescription:w.localize(206,null)})),find:we(new F),fixedOverflowWidgets:we(new c(37,"fixedOverflowWidgets",!1)),folding:we(new c(38,"folding",!0,{description:w.localize(207,null)})),foldingStrategy:we(new p(39,"foldingStrategy","auto",["auto","indentation"],{enumDescriptions:[w.localize(208,null),w.localize(209,null)],description:w.localize(210,null)})),foldingHighlight:we(new c(40,"foldingHighlight",!0,{description:w.localize(211,null)})),foldingImportsByDefault:we(new c(41,"foldingImportsByDefault",!1,{description:w.localize(212,null)})),foldingMaximumRegions:we(new r(42,"foldingMaximumRegions",5e3,10,65e3,{description:w.localize(213,null)})),unfoldOnClickAfterEndOfLine:we(new c(43,"unfoldOnClickAfterEndOfLine",!1,{description:w.localize(214,null)})),fontFamily:we(new a(44,"fontFamily",e.EDITOR_FONT_DEFAULTS.fontFamily,{description:w.localize(215,null)})),fontInfo:we(new M),fontLigatures2:we(new O),fontSize:we(new N),fontWeight:we(new A),formatOnPaste:we(new c(49,"formatOnPaste",!1,{description:w.localize(216,null)})),formatOnType:we(new c(50,"formatOnType",!1,{description:w.localize(217,null)})),glyphMargin:we(new c(51,"glyphMargin",!0,{description:w.localize(218,null)})),gotoLocation:we(new B),hideCursorInOverviewRuler:we(new c(53,"hideCursorInOverviewRuler",!1,{description:w.localize(219,null)})),hover:we(new W),inDiffEditor:we(new c(55,"inDiffEditor",!1)),letterSpacing:we(new s(57,"letterSpacing",e.EDITOR_FONT_DEFAULTS.letterSpacing,Ce=>s.clamp(Ce,-5,20),{description:w.localize(220,null)})),lightbulb:we(new P),lineDecorationsWidth:we(new o(59,"lineDecorationsWidth",10)),lineHeight:we(new K),lineNumbers:we(new V),lineNumbersMinChars:we(new r(62,"lineNumbersMinChars",5,1,300)),linkedEditing:we(new c(63,"linkedEditing",!1,{description:w.localize(221,null)})),links:we(new c(64,"links",!0,{description:w.localize(222,null)})),matchBrackets:we(new p(65,"matchBrackets","always",["always","near","never"],{description:w.localize(223,null)})),minimap:we(new G),mouseStyle:we(new p(67,"mouseStyle","text",["text","default","copy"])),mouseWheelScrollSensitivity:we(new s(68,"mouseWheelScrollSensitivity",1,Ce=>Ce===0?1:Ce,{markdownDescription:w.localize(224,null)})),mouseWheelZoom:we(new c(69,"mouseWheelZoom",!1,{markdownDescription:w.localize(225,null)})),multiCursorMergeOverlapping:we(new c(70,"multiCursorMergeOverlapping",!0,{description:w.localize(226,null)})),multiCursorModifier:we(new S(71,"multiCursorModifier","altKey","alt",["ctrlCmd","alt"],Q,{markdownEnumDescriptions:[w.localize(227,null),w.localize(228,null)],markdownDescription:w.localize(229,null)})),multiCursorPaste:we(new p(72,"multiCursorPaste","spread",["spread","full"],{markdownEnumDescriptions:[w.localize(230,null),w.localize(231,null)],markdownDescription:w.localize(232,null)})),occurrencesHighlight:we(new c(73,"occurrencesHighlight",!0,{description:w.localize(233,null)})),overviewRulerBorder:we(new c(74,"overviewRulerBorder",!0,{description:w.localize(234,null)})),overviewRulerLanes:we(new r(75,"overviewRulerLanes",3,0,3)),padding:we(new ne),parameterHints:we(new Z),peekWidgetDefaultFocus:we(new p(78,"peekWidgetDefaultFocus","tree",["tree","editor"],{enumDescriptions:[w.localize(235,null),w.localize(236,null)],description:w.localize(237,null)})),definitionLinkOpensInPeek:we(new c(79,"definitionLinkOpensInPeek",!1,{description:w.localize(238,null)})),quickSuggestions:we(new le),quickSuggestionsDelay:we(new r(81,"quickSuggestionsDelay",10,0,1073741824,{description:w.localize(239,null)})),readOnly:we(new c(82,"readOnly",!1)),renameOnType:we(new c(83,"renameOnType",!1,{description:w.localize(240,null),markdownDeprecationMessage:w.localize(241,null)})),renderControlCharacters:we(new c(84,"renderControlCharacters",!0,{description:w.localize(242,null),restricted:!0})),renderFinalNewline:we(new c(85,"renderFinalNewline",!0,{description:w.localize(243,null)})),renderLineHighlight:we(new p(86,"renderLineHighlight","line",["none","gutter","line","all"],{enumDescriptions:["","","",w.localize(244,null)],description:w.localize(245,null)})),renderLineHighlightOnlyWhenFocus:we(new c(87,"renderLineHighlightOnlyWhenFocus",!1,{description:w.localize(246,null)})),renderValidationDecorations:we(new p(88,"renderValidationDecorations","editable",["editable","on","off"])),renderWhitespace:we(new p(89,"renderWhitespace","selection",["none","boundary","selection","trailing","all"],{enumDescriptions:["",w.localize(247,null),w.localize(248,null),w.localize(249,null),""],description:w.localize(250,null)})),revealHorizontalRightPadding:we(new r(90,"revealHorizontalRightPadding",15,0,1e3)),roundedSelection:we(new c(91,"roundedSelection",!0,{description:w.localize(251,null)})),rulers:we(new oe),scrollbar:we(new ae),scrollBeyondLastColumn:we(new r(94,"scrollBeyondLastColumn",4,0,1073741824,{description:w.localize(252,null)})),scrollBeyondLastLine:we(new c(95,"scrollBeyondLastLine",!0,{description:w.localize(253,null)})),scrollPredominantAxis:we(new c(96,"scrollPredominantAxis",!0,{description:w.localize(254,null)})),selectionClipboard:we(new c(97,"selectionClipboard",!0,{description:w.localize(255,null),included:m.isLinux})),selectionHighlight:we(new c(98,"selectionHighlight",!0,{description:w.localize(256,null)})),selectOnLineNumbers:we(new c(99,"selectOnLineNumbers",!0)),showFoldingControls:we(new p(100,"showFoldingControls","mouseover",["always","never","mouseover"],{enumDescriptions:[w.localize(257,null),w.localize(258,null),w.localize(259,null)],description:w.localize(260,null)})),showUnused:we(new c(101,"showUnused",!0,{description:w.localize(261,null)})),showDeprecated:we(new c(128,"showDeprecated",!0,{description:w.localize(262,null)})),inlayHints:we(new ie),snippetSuggestions:we(new p(102,"snippetSuggestions","inline",["top","bottom","inline","none"],{enumDescriptions:[w.localize(263,null),w.localize(264,null),w.localize(265,null),w.localize(266,null)],description:w.localize(267,null)})),smartSelect:we(new ue),smoothScrolling:we(new c(104,"smoothScrolling",!1,{description:w.localize(268,null)})),stopRenderingLineAfter:we(new r(107,"stopRenderingLineAfter",1e4,-1,1073741824)),suggest:we(new de),inlineSuggest:we(new J),suggestFontSize:we(new r(109,"suggestFontSize",0,0,1e3,{markdownDescription:w.localize(269,null,"`0`","`#editor.fontSize#`")})),suggestLineHeight:we(new r(110,"suggestLineHeight",0,0,1e3,{markdownDescription:w.localize(270,null,"`0`","`#editor.lineHeight#`")})),suggestOnTriggerCharacters:we(new c(111,"suggestOnTriggerCharacters",!0,{description:w.localize(271,null)})),suggestSelection:we(new p(112,"suggestSelection","first",["first","recentlyUsed","recentlyUsedByPrefix"],{markdownEnumDescriptions:[w.localize(272,null),w.localize(273,null),w.localize(274,null)],description:w.localize(275,null)})),tabCompletion:we(new p(113,"tabCompletion","off",["on","off","onlySnippets"],{enumDescriptions:[w.localize(276,null),w.localize(277,null),w.localize(278,null)],description:w.localize(279,null)})),tabIndex:we(new r(114,"tabIndex",0,-1,1073741824)),unicodeHighlight:we(new z),unusualLineTerminators:we(new p(116,"unusualLineTerminators","prompt",["auto","off","prompt"],{enumDescriptions:[w.localize(280,null),w.localize(281,null),w.localize(282,null)],description:w.localize(283,null)})),useShadowDOM:we(new c(117,"useShadowDOM",!0)),useTabStops:we(new c(118,"useTabStops",!0,{description:w.localize(284,null)})),wordSeparators:we(new a(119,"wordSeparators",k.USUAL_WORD_SEPARATORS,{description:w.localize(285,null)})),wordWrap:we(new p(120,"wordWrap","off",["off","on","wordWrapColumn","bounded"],{markdownEnumDescriptions:[w.localize(286,null),w.localize(287,null),w.localize(288,null),w.localize(289,null)],description:w.localize(290,null)})),wordWrapBreakAfterCharacters:we(new a(121,"wordWrapBreakAfterCharacters"," 	})]?|/&.,;\xA2\xB0\u2032\u2033\u2030\u2103\u3001\u3002\uFF61\uFF64\uFFE0\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF01\uFF05\u30FB\uFF65\u309D\u309E\u30FD\u30FE\u30FC\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u3095\u3096\u31F0\u31F1\u31F2\u31F3\u31F4\u31F5\u31F6\u31F7\u31F8\u31F9\u31FA\u31FB\u31FC\u31FD\u31FE\u31FF\u3005\u303B\uFF67\uFF68\uFF69\uFF6A\uFF6B\uFF6C\uFF6D\uFF6E\uFF6F\uFF70\u201D\u3009\u300B\u300D\u300F\u3011\u3015\uFF09\uFF3D\uFF5D\uFF63")),wordWrapBreakBeforeCharacters:we(new a(122,"wordWrapBreakBeforeCharacters","([{\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B\uFF62\xA3\xA5\uFF04\uFFE1\uFFE5+\uFF0B")),wordWrapColumn:we(new r(123,"wordWrapColumn",80,1,1073741824,{markdownDescription:w.localize(291,null)})),wordWrapOverride1:we(new p(124,"wordWrapOverride1","inherit",["off","on","inherit"])),wordWrapOverride2:we(new p(125,"wordWrapOverride2","inherit",["off","on","inherit"])),wrappingIndent:we(new S(126,"wrappingIndent",1,"same",["none","same","indent","deepIndent"],ge,{enumDescriptions:[w.localize(292,null),w.localize(293,null),w.localize(294,null),w.localize(295,null)],description:w.localize(296,null)})),wrappingStrategy:we(new p(127,"wrappingStrategy","simple",["simple","advanced"],{enumDescriptions:[w.localize(297,null),w.localize(298,null)],description:w.localize(299,null)})),editorClassName:we(new I),pixelRatio:we(new ee),tabFocusMode:we(new ce),layoutInfo:we(new x),wrappingInfo:we(new ve)}}),define(se[549],re([1,0,7,35,8,69,38,11,3,151]),function(q,e,w,m,k,D,L,b,C,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewCursor=void 0;class g{constructor(n,o,l,c,d,r){this.top=n,this.left=o,this.width=l,this.height=c,this.textContent=d,this.textContentClassName=r}}class t{constructor(n){this._context=n;const o=this._context.configuration.options,l=o.get(45);this._cursorStyle=o.get(24),this._lineHeight=o.get(60),this._typicalHalfwidthCharacterWidth=l.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(o.get(27),this._typicalHalfwidthCharacterWidth),this._isVisible=!0,this._domNode=(0,m.createFastDomNode)(document.createElement("div")),this._domNode.setClassName(`cursor ${h.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),this._domNode.setHeight(this._lineHeight),this._domNode.setTop(0),this._domNode.setLeft(0),(0,D.applyFontInfo)(this._domNode,l),this._domNode.setDisplay("none"),this._position=new b.Position(1,1),this._lastRenderedContent="",this._renderData=null}getDomNode(){return this._domNode}getPosition(){return this._position}show(){this._isVisible||(this._domNode.setVisibility("inherit"),this._isVisible=!0)}hide(){this._isVisible&&(this._domNode.setVisibility("hidden"),this._isVisible=!1)}onConfigurationChanged(n){const o=this._context.configuration.options,l=o.get(45);return this._cursorStyle=o.get(24),this._lineHeight=o.get(60),this._typicalHalfwidthCharacterWidth=l.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(o.get(27),this._typicalHalfwidthCharacterWidth),(0,D.applyFontInfo)(this._domNode,l),!0}onCursorPositionChanged(n){return this._position=n,!0}_getGraphemeAwarePosition(){const{lineNumber:n,column:o}=this._position,l=this._context.viewModel.getLineContent(n),[c,d]=k.getCharContainingOffset(l,o-1);return[new b.Position(n,c+1),l.substring(c,d)]}_prepareRender(n){let o="";const[l,c]=this._getGraphemeAwarePosition();if(this._cursorStyle===L.TextEditorCursorStyle.Line||this._cursorStyle===L.TextEditorCursorStyle.LineThin){const f=n.visibleRangeForPosition(l);if(!f||f.outsideRenderedLine)return null;let v;this._cursorStyle===L.TextEditorCursorStyle.Line?(v=w.computeScreenAwareSize(this._lineCursorWidth>0?this._lineCursorWidth:2),v>2&&(o=c)):v=w.computeScreenAwareSize(1);let _=f.left;v>=2&&_>=1&&(_-=1);const y=n.getVerticalOffsetForLineNumber(l.lineNumber)-n.bigNumbersDelta;return new g(y,_,v,this._lineHeight,o,"")}const d=n.linesVisibleRangesForRange(new C.Range(l.lineNumber,l.column,l.lineNumber,l.column+c.length),!1);if(!d||d.length===0)return null;const r=d[0];if(r.outsideRenderedLine||r.ranges.length===0)return null;const s=r.ranges[0],a=c==="	"?this._typicalHalfwidthCharacterWidth:s.width<1?this._typicalHalfwidthCharacterWidth:s.width;let u="";if(this._cursorStyle===L.TextEditorCursorStyle.Block){const f=this._context.viewModel.getViewLineData(l.lineNumber);o=c;const v=f.tokens.findTokenIndexAtOffset(l.column-1);u=f.tokens.getClassName(v)}let p=n.getVerticalOffsetForLineNumber(l.lineNumber)-n.bigNumbersDelta,S=this._lineHeight;return(this._cursorStyle===L.TextEditorCursorStyle.Underline||this._cursorStyle===L.TextEditorCursorStyle.UnderlineThin)&&(p+=this._lineHeight-2,S=2),new g(p,s.left,a,S,o,u)}prepareRender(n){this._renderData=this._prepareRender(n)}render(n){return this._renderData?(this._lastRenderedContent!==this._renderData.textContent&&(this._lastRenderedContent=this._renderData.textContent,this._domNode.domNode.textContent=this._lastRenderedContent),this._domNode.setClassName(`cursor ${h.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME} ${this._renderData.textContentClassName}`),this._domNode.setDisplay("block"),this._domNode.setTop(this._renderData.top),this._domNode.setLeft(this._renderData.left),this._domNode.setWidth(this._renderData.width),this._domNode.setLineHeight(this._renderData.height),this._domNode.setHeight(this._renderData.height),{domNode:this._domNode.domNode,position:this._position,contentLeft:this._renderData.left,height:this._renderData.height,width:2}):(this._domNode.setDisplay("none"),null)}}e.ViewCursor=t}),define(se[212],re([1,0,17,38,165]),function(q,e,w,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FontInfo=e.SERIALIZED_FONT_INFO_VERSION=e.BareFontInfo=void 0;const D=w.isMacintosh?1.5:1.35,L=8;class b{static createFromValidatedSettings(g,t,i){const n=g.get(44),o=g.get(48),l=g.get(47),c=g.get(46),d=g.get(60),r=g.get(57);return b._create(n,o,l,c,d,r,t,i)}static _create(g,t,i,n,o,l,c,d){o===0?o=D*i:o<L&&(o=o*i),o=Math.round(o),o<L&&(o=L);const r=1+(d?0:k.EditorZoom.getZoomLevel()*.1);return i*=r,o*=r,new b({pixelRatio:c,fontFamily:g,fontWeight:t,fontSize:i,fontFeatureSettings:n,lineHeight:o,letterSpacing:l})}constructor(g){this._bareFontInfoBrand=void 0,this.pixelRatio=g.pixelRatio,this.fontFamily=String(g.fontFamily),this.fontWeight=String(g.fontWeight),this.fontSize=g.fontSize,this.fontFeatureSettings=g.fontFeatureSettings,this.lineHeight=g.lineHeight|0,this.letterSpacing=g.letterSpacing}getId(){return`${this.pixelRatio}-${this.fontFamily}-${this.fontWeight}-${this.fontSize}-${this.fontFeatureSettings}-${this.lineHeight}-${this.letterSpacing}`}getMassagedFontFamily(){const g=m.EDITOR_FONT_DEFAULTS.fontFamily,t=b._wrapInQuotes(this.fontFamily);return g&&this.fontFamily!==g?`${t}, ${g}`:t}static _wrapInQuotes(g){return/[,"']/.test(g)?g:/[+ ]/.test(g)?`"${g}"`:g}}e.BareFontInfo=b,e.SERIALIZED_FONT_INFO_VERSION=1;class C extends b{constructor(g,t){super(g),this._editorStylingBrand=void 0,this.version=e.SERIALIZED_FONT_INFO_VERSION,this.isTrusted=t,this.isMonospace=g.isMonospace,this.typicalHalfwidthCharacterWidth=g.typicalHalfwidthCharacterWidth,this.typicalFullwidthCharacterWidth=g.typicalFullwidthCharacterWidth,this.canUseHalfwidthRightwardsArrow=g.canUseHalfwidthRightwardsArrow,this.spaceWidth=g.spaceWidth,this.middotWidth=g.middotWidth,this.wsmiddotWidth=g.wsmiddotWidth,this.maxDigitWidth=g.maxDigitWidth}equals(g){return this.fontFamily===g.fontFamily&&this.fontWeight===g.fontWeight&&this.fontSize===g.fontSize&&this.fontFeatureSettings===g.fontFeatureSettings&&this.lineHeight===g.lineHeight&&this.letterSpacing===g.letterSpacing&&this.typicalHalfwidthCharacterWidth===g.typicalHalfwidthCharacterWidth&&this.typicalFullwidthCharacterWidth===g.typicalFullwidthCharacterWidth&&this.canUseHalfwidthRightwardsArrow===g.canUseHalfwidthRightwardsArrow&&this.spaceWidth===g.spaceWidth&&this.middotWidth===g.middotWidth&&this.wsmiddotWidth===g.wsmiddotWidth&&this.maxDigitWidth===g.maxDigitWidth}}e.FontInfo=C}),define(se[284],re([1,0,42,6,2,410,38,212]),function(q,e,w,m,k,D,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FontMeasurements=void 0;class C extends k.Disposable{constructor(){super(),this._onDidChange=this._register(new m.Emitter),this.onDidChange=this._onDidChange.event,this._cache=new h,this._evictUntrustedReadingsTimeout=-1}dispose(){this._evictUntrustedReadingsTimeout!==-1&&(window.clearTimeout(this._evictUntrustedReadingsTimeout),this._evictUntrustedReadingsTimeout=-1),super.dispose()}clearAllFontInfos(){this._cache=new h,this._onDidChange.fire()}_writeToCache(t,i){this._cache.put(t,i),!i.isTrusted&&this._evictUntrustedReadingsTimeout===-1&&(this._evictUntrustedReadingsTimeout=window.setTimeout(()=>{this._evictUntrustedReadingsTimeout=-1,this._evictUntrustedReadings()},5e3))}_evictUntrustedReadings(){const t=this._cache.getValues();let i=!1;for(const n of t)n.isTrusted||(i=!0,this._cache.remove(n));i&&this._onDidChange.fire()}readFontInfo(t){if(!this._cache.has(t)){let i=this._actualReadFontInfo(t);(i.typicalHalfwidthCharacterWidth<=2||i.typicalFullwidthCharacterWidth<=2||i.spaceWidth<=2||i.maxDigitWidth<=2)&&(i=new b.FontInfo({pixelRatio:w.PixelRatio.value,fontFamily:i.fontFamily,fontWeight:i.fontWeight,fontSize:i.fontSize,fontFeatureSettings:i.fontFeatureSettings,lineHeight:i.lineHeight,letterSpacing:i.letterSpacing,isMonospace:i.isMonospace,typicalHalfwidthCharacterWidth:Math.max(i.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max(i.typicalFullwidthCharacterWidth,5),canUseHalfwidthRightwardsArrow:i.canUseHalfwidthRightwardsArrow,spaceWidth:Math.max(i.spaceWidth,5),middotWidth:Math.max(i.middotWidth,5),wsmiddotWidth:Math.max(i.wsmiddotWidth,5),maxDigitWidth:Math.max(i.maxDigitWidth,5)},!1)),this._writeToCache(t,i)}return this._cache.get(t)}_createRequest(t,i,n,o){const l=new D.CharWidthRequest(t,i);return n.push(l),o?.push(l),l}_actualReadFontInfo(t){const i=[],n=[],o=this._createRequest("n",0,i,n),l=this._createRequest("\uFF4D",0,i,null),c=this._createRequest(" ",0,i,n),d=this._createRequest("0",0,i,n),r=this._createRequest("1",0,i,n),s=this._createRequest("2",0,i,n),a=this._createRequest("3",0,i,n),u=this._createRequest("4",0,i,n),p=this._createRequest("5",0,i,n),S=this._createRequest("6",0,i,n),f=this._createRequest("7",0,i,n),v=this._createRequest("8",0,i,n),_=this._createRequest("9",0,i,n),y=this._createRequest("\u2192",0,i,n),E=this._createRequest("\uFFEB",0,i,null),T=this._createRequest("\xB7",0,i,n),I=this._createRequest(String.fromCharCode(11825),0,i,null),R="|/-_ilm%";for(let A=0,B=R.length;A<B;A++)this._createRequest(R.charAt(A),0,i,n),this._createRequest(R.charAt(A),1,i,n),this._createRequest(R.charAt(A),2,i,n);(0,D.readCharWidths)(t,i);const F=Math.max(d.width,r.width,s.width,a.width,u.width,p.width,S.width,f.width,v.width,_.width);let O=t.fontFeatureSettings===L.EditorFontLigatures.OFF;const M=n[0].width;for(let A=1,B=n.length;O&&A<B;A++){const W=M-n[A].width;if(W<-.001||W>.001){O=!1;break}}let N=!0;return O&&E.width!==M&&(N=!1),E.width>y.width&&(N=!1),new b.FontInfo({pixelRatio:w.PixelRatio.value,fontFamily:t.fontFamily,fontWeight:t.fontWeight,fontSize:t.fontSize,fontFeatureSettings:t.fontFeatureSettings,lineHeight:t.lineHeight,letterSpacing:t.letterSpacing,isMonospace:O,typicalHalfwidthCharacterWidth:o.width,typicalFullwidthCharacterWidth:l.width,canUseHalfwidthRightwardsArrow:N,spaceWidth:c.width,middotWidth:T.width,wsmiddotWidth:I.width,maxDigitWidth:F},!0)}}class h{constructor(){this._keys=Object.create(null),this._values=Object.create(null)}has(t){const i=t.getId();return!!this._values[i]}get(t){const i=t.getId();return this._values[i]}put(t,i){const n=t.getId();this._keys[n]=t,this._values[n]=i}remove(t){const i=t.getId();delete this._keys[i],delete this._values[i]}getValues(){return Object.keys(this._keys).map(t=>this._values[t])}}e.FontMeasurements=new C}),define(se[285],re([1,0,11,3,75,38]),function(q,e,w,m,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isModelDecorationInString=e.isModelDecorationInComment=e.isModelDecorationVisible=e.ViewModelDecorations=void 0;class L{constructor(i,n,o,l,c){this._cachedOnlyMinimapDecorations=null,this.editorId=i,this.model=n,this.configuration=o,this._linesCollection=l,this._coordinatesConverter=c,this._decorationsCache=Object.create(null),this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}_clearCachedModelDecorationsResolver(){this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}dispose(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}reset(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onModelDecorationsChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onLineMappingChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}_getOrCreateViewModelDecoration(i){const n=i.id;let o=this._decorationsCache[n];if(!o){const l=i.range,c=i.options;let d;if(c.isWholeLine){const r=this._coordinatesConverter.convertModelPositionToViewPosition(new w.Position(l.startLineNumber,1),0),s=this._coordinatesConverter.convertModelPositionToViewPosition(new w.Position(l.endLineNumber,this.model.getLineMaxColumn(l.endLineNumber)),1);d=new m.Range(r.lineNumber,r.column,s.lineNumber,s.column)}else d=this._coordinatesConverter.convertModelRangeToViewRange(l,1);o=new k.ViewModelDecoration(d,c),this._decorationsCache[n]=o}return o}getDecorationsViewportData(i,n=!1){let o=this._cachedModelDecorationsResolver!==null;return o=o&&i.equalsRange(this._cachedModelDecorationsResolverViewRange),o=o&&this._cachedOnlyMinimapDecorations===n,o||(this._cachedModelDecorationsResolver=this._getDecorationsInRange(i,n),this._cachedModelDecorationsResolverViewRange=i,this._cachedOnlyMinimapDecorations=n),this._cachedModelDecorationsResolver}getInlineDecorationsOnLine(i,n=!1){const o=new m.Range(i,this._linesCollection.getViewLineMinColumn(i),i,this._linesCollection.getViewLineMaxColumn(i));return this._getDecorationsInRange(o,n).inlineDecorations[0]}_getDecorationsInRange(i,n){const o=this._linesCollection.getDecorationsInRange(i,this.editorId,(0,D.filterValidationDecorations)(this.configuration.options),n),l=i.startLineNumber,c=i.endLineNumber,d=[];let r=0;const s=[];for(let a=l;a<=c;a++)s[a-l]=[];for(let a=0,u=o.length;a<u;a++){const p=o[a],S=p.options;if(!b(this.model,p))continue;const f=this._getOrCreateViewModelDecoration(p),v=f.range;if(d[r++]=f,S.inlineClassName){const _=new k.InlineDecoration(v,S.inlineClassName,S.inlineClassNameAffectsLetterSpacing?3:0),y=Math.max(l,v.startLineNumber),E=Math.min(c,v.endLineNumber);for(let T=y;T<=E;T++)s[T-l].push(_)}if(S.beforeContentClassName&&l<=v.startLineNumber&&v.startLineNumber<=c){const _=new k.InlineDecoration(new m.Range(v.startLineNumber,v.startColumn,v.startLineNumber,v.startColumn),S.beforeContentClassName,1);s[v.startLineNumber-l].push(_)}if(S.afterContentClassName&&l<=v.endLineNumber&&v.endLineNumber<=c){const _=new k.InlineDecoration(new m.Range(v.endLineNumber,v.endColumn,v.endLineNumber,v.endColumn),S.afterContentClassName,2);s[v.endLineNumber-l].push(_)}}return{decorations:d,inlineDecorations:s}}}e.ViewModelDecorations=L;function b(t,i){return!(i.options.hideInCommentTokens&&C(t,i)||i.options.hideInStringTokens&&h(t,i))}e.isModelDecorationVisible=b;function C(t,i){return g(t,i.range,n=>n===1)}e.isModelDecorationInComment=C;function h(t,i){return g(t,i.range,n=>n===2)}e.isModelDecorationInString=h;function g(t,i,n){for(let o=i.startLineNumber;o<=i.endLineNumber;o++){const l=t.tokenization.getLineTokens(o),c=o===i.startLineNumber,d=o===i.endLineNumber;let r=c?l.findTokenIndexAtOffset(i.startColumn-1):0;for(;r<l.getCount()&&!(d&&l.getStartOffset(r)>i.endColumn-1);){if(!n(l.getStandardTokenType(r)))return!1;r++}}return!0}}),define(se[550],re([4,5]),function(q,e){return q.create("vs/editor/common/core/editorColorRegistry",e)}),define(se[551],re([4,5]),function(q,e){return q.create("vs/editor/common/editorContextKeys",e)}),define(se[552],re([4,5]),function(q,e){return q.create("vs/editor/common/languages/modesRegistry",e)}),define(se[553],re([4,5]),function(q,e){return q.create("vs/editor/common/model/editStack",e)}),define(se[286],re([1,0,553,14,24,22,277,124,44]),function(q,e,w,m,k,D,L,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditStack=e.isEditStackElement=e.MultiModelEditStackElement=e.SingleModelEditStackElement=e.SingleModelEditStackData=void 0;function h(c){return c.toString()}class g{static create(d,r){const s=d.getAlternativeVersionId(),a=n(d);return new g(s,s,a,a,r,r,[])}constructor(d,r,s,a,u,p,S){this.beforeVersionId=d,this.afterVersionId=r,this.beforeEOL=s,this.afterEOL=a,this.beforeCursorState=u,this.afterCursorState=p,this.changes=S}append(d,r,s,a,u){r.length>0&&(this.changes=(0,L.compressConsecutiveTextChanges)(this.changes,r)),this.afterEOL=s,this.afterVersionId=a,this.afterCursorState=u}static _writeSelectionsSize(d){return 4+4*4*(d?d.length:0)}static _writeSelections(d,r,s){if(b.writeUInt32BE(d,r?r.length:0,s),s+=4,r)for(const a of r)b.writeUInt32BE(d,a.selectionStartLineNumber,s),s+=4,b.writeUInt32BE(d,a.selectionStartColumn,s),s+=4,b.writeUInt32BE(d,a.positionLineNumber,s),s+=4,b.writeUInt32BE(d,a.positionColumn,s),s+=4;return s}static _readSelections(d,r,s){const a=b.readUInt32BE(d,r);r+=4;for(let u=0;u<a;u++){const p=b.readUInt32BE(d,r);r+=4;const S=b.readUInt32BE(d,r);r+=4;const f=b.readUInt32BE(d,r);r+=4;const v=b.readUInt32BE(d,r);r+=4,s.push(new k.Selection(p,S,f,v))}return r}serialize(){let d=10+g._writeSelectionsSize(this.beforeCursorState)+g._writeSelectionsSize(this.afterCursorState)+4;for(const a of this.changes)d+=a.writeSize();const r=new Uint8Array(d);let s=0;b.writeUInt32BE(r,this.beforeVersionId,s),s+=4,b.writeUInt32BE(r,this.afterVersionId,s),s+=4,b.writeUInt8(r,this.beforeEOL,s),s+=1,b.writeUInt8(r,this.afterEOL,s),s+=1,s=g._writeSelections(r,this.beforeCursorState,s),s=g._writeSelections(r,this.afterCursorState,s),b.writeUInt32BE(r,this.changes.length,s),s+=4;for(const a of this.changes)s=a.write(r,s);return r.buffer}static deserialize(d){const r=new Uint8Array(d);let s=0;const a=b.readUInt32BE(r,s);s+=4;const u=b.readUInt32BE(r,s);s+=4;const p=b.readUInt8(r,s);s+=1;const S=b.readUInt8(r,s);s+=1;const f=[];s=g._readSelections(r,s,f);const v=[];s=g._readSelections(r,s,v);const _=b.readUInt32BE(r,s);s+=4;const y=[];for(let E=0;E<_;E++)s=L.TextChange.read(r,s,y);return new g(a,u,p,S,f,v,y)}}e.SingleModelEditStackData=g;class t{get type(){return 0}get resource(){return D.URI.isUri(this.model)?this.model:this.model.uri}constructor(d,r,s,a){this.label=d,this.code=r,this.model=s,this._data=g.create(s,a)}toString(){return(this._data instanceof g?this._data:g.deserialize(this._data)).changes.map(r=>r.toString()).join(", ")}matchesResource(d){return(D.URI.isUri(this.model)?this.model:this.model.uri).toString()===d.toString()}setModel(d){this.model=d}canAppend(d){return this.model===d&&this._data instanceof g}append(d,r,s,a,u){this._data instanceof g&&this._data.append(d,r,s,a,u)}close(){this._data instanceof g&&(this._data=this._data.serialize())}open(){this._data instanceof g||(this._data=g.deserialize(this._data))}undo(){if(D.URI.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof g&&(this._data=this._data.serialize());const d=g.deserialize(this._data);this.model._applyUndo(d.changes,d.beforeEOL,d.beforeVersionId,d.beforeCursorState)}redo(){if(D.URI.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof g&&(this._data=this._data.serialize());const d=g.deserialize(this._data);this.model._applyRedo(d.changes,d.afterEOL,d.afterVersionId,d.afterCursorState)}heapSize(){return this._data instanceof g&&(this._data=this._data.serialize()),this._data.byteLength+168}}e.SingleModelEditStackElement=t;class i{get resources(){return this._editStackElementsArr.map(d=>d.resource)}constructor(d,r,s){this.label=d,this.code=r,this.type=1,this._isOpen=!0,this._editStackElementsArr=s.slice(0),this._editStackElementsMap=new Map;for(const a of this._editStackElementsArr){const u=h(a.resource);this._editStackElementsMap.set(u,a)}this._delegate=null}prepareUndoRedo(){if(this._delegate)return this._delegate.prepareUndoRedo(this)}matchesResource(d){const r=h(d);return this._editStackElementsMap.has(r)}setModel(d){const r=h(D.URI.isUri(d)?d:d.uri);this._editStackElementsMap.has(r)&&this._editStackElementsMap.get(r).setModel(d)}canAppend(d){if(!this._isOpen)return!1;const r=h(d.uri);return this._editStackElementsMap.has(r)?this._editStackElementsMap.get(r).canAppend(d):!1}append(d,r,s,a,u){const p=h(d.uri);this._editStackElementsMap.get(p).append(d,r,s,a,u)}close(){this._isOpen=!1}open(){}undo(){this._isOpen=!1;for(const d of this._editStackElementsArr)d.undo()}redo(){for(const d of this._editStackElementsArr)d.redo()}heapSize(d){const r=h(d);return this._editStackElementsMap.has(r)?this._editStackElementsMap.get(r).heapSize():0}split(){return this._editStackElementsArr}toString(){const d=[];for(const r of this._editStackElementsArr)d.push(`${(0,C.basename)(r.resource)}: ${r}`);return`{${d.join(", ")}}`}}e.MultiModelEditStackElement=i;function n(c){return c.getEOL()===`
`?0:1}function o(c){return c?c instanceof t||c instanceof i:!1}e.isEditStackElement=o;class l{constructor(d,r){this._model=d,this._undoRedoService=r}pushStackElement(){const d=this._undoRedoService.getLastElement(this._model.uri);o(d)&&d.close()}popStackElement(){const d=this._undoRedoService.getLastElement(this._model.uri);o(d)&&d.open()}clear(){this._undoRedoService.removeElements(this._model.uri)}_getOrCreateEditStackElement(d){const r=this._undoRedoService.getLastElement(this._model.uri);if(o(r)&&r.canAppend(this._model))return r;const s=new t(w.localize(0,null),"undoredo.textBufferEdit",this._model,d);return this._undoRedoService.pushElement(s),s}pushEOL(d){const r=this._getOrCreateEditStackElement(null);this._model.setEOL(d),r.append(this._model,[],n(this._model),this._model.getAlternativeVersionId(),null)}pushEditOperation(d,r,s){const a=this._getOrCreateEditStackElement(d),u=this._model.applyEdits(r,!0),p=l._computeCursorState(s,u),S=u.map((f,v)=>({index:v,textChange:f.textChange}));return S.sort((f,v)=>f.textChange.oldPosition===v.textChange.oldPosition?f.index-v.index:f.textChange.oldPosition-v.textChange.oldPosition),a.append(this._model,S.map(f=>f.textChange),n(this._model),this._model.getAlternativeVersionId(),p),p}static _computeCursorState(d,r){try{return d?d(r):null}catch(s){return(0,m.onUnexpectedError)(s),null}}}e.EditStack=l}),define(se[554],re([4,5]),function(q,e){return q.create("vs/editor/common/standaloneStrings",e)}),define(se[78],re([1,0,554]),function(q,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneServicesNLS=e.ToggleHighContrastNLS=e.StandaloneCodeEditorNLS=e.QuickOutlineNLS=e.QuickCommandNLS=e.QuickHelpNLS=e.GoToLineNLS=e.InspectTokensNLS=e.AccessibilityHelpNLS=void 0;var m;(function(i){i.noSelection=w.localize(0,null),i.singleSelectionRange=w.localize(1,null),i.singleSelection=w.localize(2,null),i.multiSelectionRange=w.localize(3,null),i.multiSelection=w.localize(4,null),i.emergencyConfOn=w.localize(5,null),i.openingDocs=w.localize(6,null),i.readonlyDiffEditor=w.localize(7,null),i.editableDiffEditor=w.localize(8,null),i.readonlyEditor=w.localize(9,null),i.editableEditor=w.localize(10,null),i.changeConfigToOnMac=w.localize(11,null),i.changeConfigToOnWinLinux=w.localize(12,null),i.auto_on=w.localize(13,null),i.auto_off=w.localize(14,null),i.tabFocusModeOnMsg=w.localize(15,null),i.tabFocusModeOnMsgNoKb=w.localize(16,null),i.tabFocusModeOffMsg=w.localize(17,null),i.tabFocusModeOffMsgNoKb=w.localize(18,null),i.openDocMac=w.localize(19,null),i.openDocWinLinux=w.localize(20,null),i.outroMsg=w.localize(21,null),i.showAccessibilityHelpAction=w.localize(22,null)})(m=e.AccessibilityHelpNLS||(e.AccessibilityHelpNLS={}));var k;(function(i){i.inspectTokensAction=w.localize(23,null)})(k=e.InspectTokensNLS||(e.InspectTokensNLS={}));var D;(function(i){i.gotoLineActionLabel=w.localize(24,null)})(D=e.GoToLineNLS||(e.GoToLineNLS={}));var L;(function(i){i.helpQuickAccessActionLabel=w.localize(25,null)})(L=e.QuickHelpNLS||(e.QuickHelpNLS={}));var b;(function(i){i.quickCommandActionLabel=w.localize(26,null),i.quickCommandHelp=w.localize(27,null)})(b=e.QuickCommandNLS||(e.QuickCommandNLS={}));var C;(function(i){i.quickOutlineActionLabel=w.localize(28,null),i.quickOutlineByCategoryActionLabel=w.localize(29,null)})(C=e.QuickOutlineNLS||(e.QuickOutlineNLS={}));var h;(function(i){i.editorViewAccessibleLabel=w.localize(30,null),i.accessibilityHelpMessage=w.localize(31,null)})(h=e.StandaloneCodeEditorNLS||(e.StandaloneCodeEditorNLS={}));var g;(function(i){i.toggleHighContrast=w.localize(32,null)})(g=e.ToggleHighContrastNLS||(e.ToggleHighContrastNLS={}));var t;(function(i){i.bulkEditServiceSummary=w.localize(33,null)})(t=e.StandaloneServicesNLS||(e.StandaloneServicesNLS={}))}),define(se[555],re([4,5]),function(q,e){return q.create("vs/editor/contrib/anchorSelect/browser/anchorSelect",e)}),define(se[556],re([4,5]),function(q,e){return q.create("vs/editor/contrib/bracketMatching/browser/bracketMatching",e)}),define(se[557],re([4,5]),function(q,e){return q.create("vs/editor/contrib/caretOperations/browser/caretOperations",e)}),define(se[558],re([4,5]),function(q,e){return q.create("vs/editor/contrib/caretOperations/browser/transpose",e)}),define(se[559],re([4,5]),function(q,e){return q.create("vs/editor/contrib/clipboard/browser/clipboard",e)}),define(se[560],re([4,5]),function(q,e){return q.create("vs/editor/contrib/codeAction/browser/codeAction",e)}),define(se[561],re([4,5]),function(q,e){return q.create("vs/editor/contrib/codeAction/browser/codeActionCommands",e)}),define(se[562],re([4,5]),function(q,e){return q.create("vs/editor/contrib/codeAction/browser/codeActionContributions",e)}),define(se[563],re([4,5]),function(q,e){return q.create("vs/editor/contrib/codeAction/browser/codeActionWidget",e)}),define(se[564],re([4,5]),function(q,e){return q.create("vs/editor/contrib/codeAction/browser/lightBulbWidget",e)}),define(se[565],re([4,5]),function(q,e){return q.create("vs/editor/contrib/codelens/browser/codelensController",e)}),define(se[566],re([4,5]),function(q,e){return q.create("vs/editor/contrib/colorPicker/browser/colorPickerWidget",e)}),define(se[567],re([4,5]),function(q,e){return q.create("vs/editor/contrib/comment/browser/comment",e)}),define(se[568],re([4,5]),function(q,e){return q.create("vs/editor/contrib/contextmenu/browser/contextmenu",e)}),define(se[569],re([4,5]),function(q,e){return q.create("vs/editor/contrib/copyPaste/browser/copyPasteContribution",e)}),define(se[570],re([4,5]),function(q,e){return q.create("vs/editor/contrib/copyPaste/browser/copyPasteController",e)}),define(se[571],re([4,5]),function(q,e){return q.create("vs/editor/contrib/cursorUndo/browser/cursorUndo",e)}),define(se[572],re([4,5]),function(q,e){return q.create("vs/editor/contrib/dropIntoEditor/browser/dropIntoEditorContribution",e)}),define(se[573],re([4,5]),function(q,e){return q.create("vs/editor/contrib/editorState/browser/keybindingCancellation",e)}),define(se[574],re([4,5]),function(q,e){return q.create("vs/editor/contrib/find/browser/findController",e)}),define(se[575],re([4,5]),function(q,e){return q.create("vs/editor/contrib/find/browser/findWidget",e)}),define(se[576],re([4,5]),function(q,e){return q.create("vs/editor/contrib/folding/browser/folding",e)}),define(se[577],re([4,5]),function(q,e){return q.create("vs/editor/contrib/folding/browser/foldingDecorations",e)}),define(se[578],re([4,5]),function(q,e){return q.create("vs/editor/contrib/fontZoom/browser/fontZoom",e)}),define(se[579],re([4,5]),function(q,e){return q.create("vs/editor/contrib/format/browser/format",e)}),define(se[580],re([4,5]),function(q,e){return q.create("vs/editor/contrib/format/browser/formatActions",e)}),define(se[581],re([4,5]),function(q,e){return q.create("vs/editor/contrib/gotoError/browser/gotoError",e)}),define(se[582],re([4,5]),function(q,e){return q.create("vs/editor/contrib/gotoError/browser/gotoErrorWidget",e)}),define(se[583],re([4,5]),function(q,e){return q.create("vs/editor/contrib/gotoSymbol/browser/goToCommands",e)}),define(se[584],re([4,5]),function(q,e){return q.create("vs/editor/contrib/gotoSymbol/browser/link/goToDefinitionAtPosition",e)}),define(se[585],re([4,5]),function(q,e){return q.create("vs/editor/contrib/gotoSymbol/browser/peek/referencesController",e)}),define(se[586],re([4,5]),function(q,e){return q.create("vs/editor/contrib/gotoSymbol/browser/peek/referencesTree",e)}),define(se[587],re([4,5]),function(q,e){return q.create("vs/editor/contrib/gotoSymbol/browser/peek/referencesWidget",e)}),define(se[588],re([4,5]),function(q,e){return q.create("vs/editor/contrib/gotoSymbol/browser/referencesModel",e)}),define(se[140],re([1,0,14,6,147,2,59,44,8,3,588]),function(q,e,w,m,k,D,L,b,C,h,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReferencesModel=e.FileReferences=e.FilePreview=e.OneReference=void 0;class t{constructor(c,d,r,s){this.isProviderFirst=c,this.parent=d,this.link=r,this._rangeCallback=s,this.id=k.defaultGenerator.nextId()}get uri(){return this.link.uri}get range(){var c,d;return(d=(c=this._range)!==null&&c!==void 0?c:this.link.targetSelectionRange)!==null&&d!==void 0?d:this.link.range}set range(c){this._range=c,this._rangeCallback(this)}get ariaMessage(){var c;const d=(c=this.parent.getPreview(this))===null||c===void 0?void 0:c.preview(this.range);return d?(0,g.localize)(1,null,(0,b.basename)(this.uri),this.range.startLineNumber,this.range.startColumn,d.value):(0,g.localize)(0,null,(0,b.basename)(this.uri),this.range.startLineNumber,this.range.startColumn)}}e.OneReference=t;class i{constructor(c){this._modelReference=c}dispose(){this._modelReference.dispose()}preview(c,d=8){const r=this._modelReference.object.textEditorModel;if(!r)return;const{startLineNumber:s,startColumn:a,endLineNumber:u,endColumn:p}=c,S=r.getWordUntilPosition({lineNumber:s,column:a-d}),f=new h.Range(s,S.startColumn,s,a),v=new h.Range(u,p,u,1073741824),_=r.getValueInRange(f).replace(/^\s+/,""),y=r.getValueInRange(c),E=r.getValueInRange(v).replace(/\s+$/,"");return{value:_+y+E,highlight:{start:_.length,end:_.length+y.length}}}}e.FilePreview=i;class n{constructor(c,d){this.parent=c,this.uri=d,this.children=[],this._previews=new L.ResourceMap}dispose(){(0,D.dispose)(this._previews.values()),this._previews.clear()}getPreview(c){return this._previews.get(c.uri)}get ariaMessage(){const c=this.children.length;return c===1?(0,g.localize)(2,null,(0,b.basename)(this.uri),this.uri.fsPath):(0,g.localize)(3,null,c,(0,b.basename)(this.uri),this.uri.fsPath)}resolve(c){return Se(this,void 0,void 0,function*(){if(this._previews.size!==0)return this;for(const d of this.children)if(!this._previews.has(d.uri))try{const r=yield c.createModelReference(d.uri);this._previews.set(d.uri,new i(r))}catch(r){(0,w.onUnexpectedError)(r)}return this})}}e.FileReferences=n;class o{constructor(c,d){this.groups=[],this.references=[],this._onDidChangeReferenceRange=new m.Emitter,this.onDidChangeReferenceRange=this._onDidChangeReferenceRange.event,this._links=c,this._title=d;const[r]=c;c.sort(o._compareReferences);let s;for(const a of c)if((!s||!b.extUri.isEqual(s.uri,a.uri,!0))&&(s=new n(this,a.uri),this.groups.push(s)),s.children.length===0||o._compareReferences(a,s.children[s.children.length-1])!==0){const u=new t(r===a,s,a,p=>this._onDidChangeReferenceRange.fire(p));this.references.push(u),s.children.push(u)}}dispose(){(0,D.dispose)(this.groups),this._onDidChangeReferenceRange.dispose(),this.groups.length=0}clone(){return new o(this._links,this._title)}get title(){return this._title}get isEmpty(){return this.groups.length===0}get ariaMessage(){return this.isEmpty?(0,g.localize)(4,null):this.references.length===1?(0,g.localize)(5,null,this.references[0].uri.fsPath):this.groups.length===1?(0,g.localize)(6,null,this.references.length,this.groups[0].uri.fsPath):(0,g.localize)(7,null,this.references.length,this.groups.length)}nextOrPreviousReference(c,d){const{parent:r}=c;let s=r.children.indexOf(c);const a=r.children.length,u=r.parent.groups.length;return u===1||d&&s+1<a||!d&&s>0?(d?s=(s+1)%a:s=(s+a-1)%a,r.children[s]):(s=r.parent.groups.indexOf(r),d?(s=(s+1)%u,r.parent.groups[s].children[0]):(s=(s+u-1)%u,r.parent.groups[s].children[r.parent.groups[s].children.length-1]))}nearestReference(c,d){const r=this.references.map((s,a)=>({idx:a,prefixLen:C.commonPrefixLength(s.uri.toString(),c.toString()),offsetDist:Math.abs(s.range.startLineNumber-d.lineNumber)*100+Math.abs(s.range.startColumn-d.column)})).sort((s,a)=>s.prefixLen>a.prefixLen?-1:s.prefixLen<a.prefixLen?1:s.offsetDist<a.offsetDist?-1:s.offsetDist>a.offsetDist?1:0)[0];if(r)return this.references[r.idx]}referenceAt(c,d){for(const r of this.references)if(r.uri.toString()===c.toString()&&h.Range.containsPosition(r.range,d))return r}firstReference(){for(const c of this.references)if(c.isProviderFirst)return c;return this.references[0]}static _compareReferences(c,d){return b.extUri.compare(c.uri,d.uri)||h.Range.compareRangesUsingStarts(c.range,d.range)}}e.ReferencesModel=o}),define(se[589],re([4,5]),function(q,e){return q.create("vs/editor/contrib/gotoSymbol/browser/symbolNavigation",e)}),define(se[590],re([4,5]),function(q,e){return q.create("vs/editor/contrib/hover/browser/hover",e)}),define(se[591],re([4,5]),function(q,e){return q.create("vs/editor/contrib/hover/browser/markdownHoverParticipant",e)}),define(se[592],re([4,5]),function(q,e){return q.create("vs/editor/contrib/hover/browser/markerHoverParticipant",e)}),define(se[593],re([4,5]),function(q,e){return q.create("vs/editor/contrib/inPlaceReplace/browser/inPlaceReplace",e)}),define(se[594],re([4,5]),function(q,e){return q.create("vs/editor/contrib/indentation/browser/indentation",e)}),define(se[595],re([4,5]),function(q,e){return q.create("vs/editor/contrib/inlayHints/browser/inlayHintsHover",e)}),define(se[596],re([4,5]),function(q,e){return q.create("vs/editor/contrib/inlineCompletions/browser/ghostTextController",e)}),define(se[597],re([4,5]),function(q,e){return q.create("vs/editor/contrib/inlineCompletions/browser/ghostTextHoverParticipant",e)}),define(se[598],re([4,5]),function(q,e){return q.create("vs/editor/contrib/lineSelection/browser/lineSelection",e)}),define(se[599],re([4,5]),function(q,e){return q.create("vs/editor/contrib/linesOperations/browser/linesOperations",e)}),define(se[600],re([4,5]),function(q,e){return q.create("vs/editor/contrib/linkedEditing/browser/linkedEditing",e)}),define(se[601],re([4,5]),function(q,e){return q.create("vs/editor/contrib/links/browser/links",e)}),define(se[602],re([4,5]),function(q,e){return q.create("vs/editor/contrib/message/browser/messageController",e)}),define(se[603],re([4,5]),function(q,e){return q.create("vs/editor/contrib/multicursor/browser/multicursor",e)}),define(se[604],re([4,5]),function(q,e){return q.create("vs/editor/contrib/parameterHints/browser/parameterHints",e)}),define(se[605],re([4,5]),function(q,e){return q.create("vs/editor/contrib/parameterHints/browser/parameterHintsWidget",e)}),define(se[606],re([4,5]),function(q,e){return q.create("vs/editor/contrib/peekView/browser/peekView",e)}),define(se[607],re([4,5]),function(q,e){return q.create("vs/editor/contrib/quickAccess/browser/gotoLineQuickAccess",e)}),define(se[608],re([4,5]),function(q,e){return q.create("vs/editor/contrib/quickAccess/browser/gotoSymbolQuickAccess",e)}),define(se[609],re([4,5]),function(q,e){return q.create("vs/editor/contrib/readOnlyMessage/browser/contribution",e)}),define(se[610],re([4,5]),function(q,e){return q.create("vs/editor/contrib/rename/browser/rename",e)}),define(se[611],re([4,5]),function(q,e){return q.create("vs/editor/contrib/rename/browser/renameInputField",e)}),define(se[612],re([4,5]),function(q,e){return q.create("vs/editor/contrib/smartSelect/browser/smartSelect",e)}),define(se[613],re([4,5]),function(q,e){return q.create("vs/editor/contrib/snippet/browser/snippetController2",e)}),define(se[614],re([4,5]),function(q,e){return q.create("vs/editor/contrib/snippet/browser/snippetVariables",e)}),define(se[615],re([4,5]),function(q,e){return q.create("vs/editor/contrib/stickyScroll/browser/stickyScrollActions",e)}),define(se[616],re([4,5]),function(q,e){return q.create("vs/editor/contrib/suggest/browser/suggest",e)}),define(se[617],re([4,5]),function(q,e){return q.create("vs/editor/contrib/suggest/browser/suggestController",e)}),define(se[618],re([4,5]),function(q,e){return q.create("vs/editor/contrib/suggest/browser/suggestWidget",e)}),define(se[619],re([4,5]),function(q,e){return q.create("vs/editor/contrib/suggest/browser/suggestWidgetDetails",e)}),define(se[620],re([4,5]),function(q,e){return q.create("vs/editor/contrib/suggest/browser/suggestWidgetRenderer",e)}),define(se[621],re([4,5]),function(q,e){return q.create("vs/editor/contrib/suggest/browser/suggestWidgetStatus",e)}),define(se[622],re([4,5]),function(q,e){return q.create("vs/editor/contrib/symbolIcons/browser/symbolIcons",e)}),define(se[623],re([4,5]),function(q,e){return q.create("vs/editor/contrib/toggleTabFocusMode/browser/toggleTabFocusMode",e)}),define(se[624],re([4,5]),function(q,e){return q.create("vs/editor/contrib/tokenization/browser/tokenization",e)}),define(se[625],re([4,5]),function(q,e){return q.create("vs/editor/contrib/unicodeHighlighter/browser/unicodeHighlighter",e)}),define(se[626],re([4,5]),function(q,e){return q.create("vs/editor/contrib/unusualLineTerminators/browser/unusualLineTerminators",e)}),define(se[627],re([4,5]),function(q,e){return q.create("vs/editor/contrib/wordHighlighter/browser/wordHighlighter",e)}),define(se[628],re([4,5]),function(q,e){return q.create("vs/editor/contrib/wordOperations/browser/wordOperations",e)}),define(se[629],re([4,5]),function(q,e){return q.create("vs/platform/action/common/actionCommonCategories",e)}),define(se[630],re([4,5]),function(q,e){return q.create("vs/platform/actions/browser/menuEntryActionViewItem",e)}),define(se[631],re([4,5]),function(q,e){return q.create("vs/platform/actions/common/menuService",e)}),define(se[632],re([4,5]),function(q,e){return q.create("vs/platform/configuration/common/configurationRegistry",e)}),define(se[633],re([4,5]),function(q,e){return q.create("vs/platform/contextkey/browser/contextKeyService",e)}),define(se[634],re([4,5]),function(q,e){return q.create("vs/platform/contextkey/common/contextkeys",e)}),define(se[635],re([4,5]),function(q,e){return q.create("vs/platform/history/browser/contextScopedHistoryWidget",e)}),define(se[636],re([4,5]),function(q,e){return q.create("vs/platform/keybinding/common/abstractKeybindingService",e)}),define(se[637],re([4,5]),function(q,e){return q.create("vs/platform/list/browser/listService",e)}),define(se[638],re([4,5]),function(q,e){return q.create("vs/platform/markers/common/markers",e)}),define(se[639],re([4,5]),function(q,e){return q.create("vs/platform/quickinput/browser/commandsQuickAccess",e)}),define(se[640],re([4,5]),function(q,e){return q.create("vs/platform/quickinput/browser/helpQuickAccess",e)}),define(se[641],re([4,5]),function(q,e){return q.create("vs/platform/theme/common/colorRegistry",e)}),define(se[642],re([4,5]),function(q,e){return q.create("vs/platform/theme/common/iconRegistry",e)}),define(se[643],re([4,5]),function(q,e){return q.create("vs/platform/undoRedo/common/undoRedoService",e)}),define(se[644],re([4,5]),function(q,e){return q.create("vs/platform/workspace/common/workspace",e)}),define(se[645],re([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isICommandActionToggleInfo=void 0;function w(m){return m?m.condition!==void 0:!1}e.isICommandActionToggleInfo=w}),define(se[646],re([1,0,629]),function(q,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Categories=void 0,e.Categories=Object.freeze({View:{value:(0,w.localize)(0,null),original:"View"},Help:{value:(0,w.localize)(1,null),original:"Help"},Test:{value:(0,w.localize)(2,null),original:"Test"},Preferences:{value:(0,w.localize)(3,null),original:"Preferences"},Developer:{value:(0,w.localize)(4,null),original:"Developer"}})}),define(se[647],re([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorOpenSource=void 0;var w;(function(m){m[m.API=0]="API",m[m.USER=1]="USER"})(w=e.EditorOpenSource||(e.EditorOpenSource={}))}),define(se[648],re([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtensionIdentifier=void 0;class w{constructor(k){this.value=k,this._lower=k.toLowerCase()}static toKey(k){return typeof k=="string"?k.toLowerCase():k._lower}}e.ExtensionIdentifier=w}),define(se[287],re([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FileKind=void 0;var w;(function(m){m[m.FILE=0]="FILE",m[m.FOLDER=1]="FOLDER",m[m.ROOT_FOLDER=2]="ROOT_FOLDER"})(w=e.FileKind||(e.FileKind={}))}),define(se[649],re([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.showHistoryKeybindingHint=void 0;function w(m){var k,D;return((k=m.lookupKeybinding("history.showPrevious"))===null||k===void 0?void 0:k.getElectronAccelerator())==="Up"&&((D=m.lookupKeybinding("history.showNext"))===null||D===void 0?void 0:D.getElectronAccelerator())==="Down"}e.showHistoryKeybindingHint=w}),define(se[213],re([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SyncDescriptor=void 0;class w{constructor(k,D=[],L=!1){this.ctor=k,this.staticArguments=D,this.supportsDelayedInstantiation=L}}e.SyncDescriptor=w}),define(se[52],re([1,0,213]),function(q,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSingletonServiceDescriptors=e.registerSingleton=void 0;const m=[];function k(L,b,C){b instanceof w.SyncDescriptor||(b=new w.SyncDescriptor(b,[],Boolean(C))),m.push([L,b])}e.registerSingleton=k;function D(){return m}e.getSingletonServiceDescriptors=D}),define(se[650],re([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Graph=e.Node=void 0;class w{constructor(D,L){this.key=D,this.data=L,this.incoming=new Map,this.outgoing=new Map}}e.Node=w;class m{constructor(D){this._hashFn=D,this._nodes=new Map}roots(){const D=[];for(const L of this._nodes.values())L.outgoing.size===0&&D.push(L);return D}insertEdge(D,L){const b=this.lookupOrInsertNode(D),C=this.lookupOrInsertNode(L);b.outgoing.set(C.key,C),C.incoming.set(b.key,b)}removeNode(D){const L=this._hashFn(D);this._nodes.delete(L);for(const b of this._nodes.values())b.outgoing.delete(L),b.incoming.delete(L)}lookupOrInsertNode(D){const L=this._hashFn(D);let b=this._nodes.get(L);return b||(b=new w(L,D),this._nodes.set(L,b)),b}isEmpty(){return this._nodes.size===0}toString(){const D=[];for(const[L,b]of this._nodes)D.push(`${L}
	(-> incoming)[${[...b.incoming.keys()].join(", ")}]
	(outgoing ->)[${[...b.outgoing.keys()].join(",")}]
`);return D.join(`
`)}findCycleSlow(){for(const[D,L]of this._nodes){const b=new Set([D]),C=this._findCycle(L,b);if(C)return C}}_findCycle(D,L){for(const[b,C]of D.outgoing){if(L.has(b))return[...L,b].join(" -> ");L.add(b);const h=this._findCycle(C,L);if(h)return h;L.delete(b)}}}e.Graph=m}),define(se[9],re([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createDecorator=e.IInstantiationService=e._util=void 0;var w;(function(D){D.serviceIds=new Map,D.DI_TARGET="$di$target",D.DI_DEPENDENCIES="$di$dependencies";function L(b){return b[D.DI_DEPENDENCIES]||[]}D.getServiceDependencies=L})(w=e._util||(e._util={})),e.IInstantiationService=k("instantiationService");function m(D,L,b){L[w.DI_TARGET]===L?L[w.DI_DEPENDENCIES].push({id:D,index:b}):(L[w.DI_DEPENDENCIES]=[{id:D,index:b}],L[w.DI_TARGET]=L)}function k(D){if(w.serviceIds.has(D))return w.serviceIds.get(D);const L=function(b,C,h){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");m(L,b,h)};return L.toString=()=>D,w.serviceIds.set(D,L),L}e.createDecorator=k}),define(se[141],re([1,0,9,22,19]),function(q,e,w,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResourceFileEdit=e.ResourceTextEdit=e.ResourceEdit=e.IBulkEditService=void 0,e.IBulkEditService=(0,w.createDecorator)("IWorkspaceEditService");class D{constructor(h){this.metadata=h}static convert(h){return h.edits.map(g=>{if(L.is(g))return L.lift(g);if(b.is(g))return b.lift(g);throw new Error("Unsupported edit")})}}e.ResourceEdit=D;class L extends D{static is(h){return h instanceof L?!0:(0,k.isObject)(h)&&m.URI.isUri(h.resource)&&(0,k.isObject)(h.textEdit)}static lift(h){return h instanceof L?h:new L(h.resource,h.textEdit,h.versionId,h.metadata)}constructor(h,g,t=void 0,i){super(i),this.resource=h,this.textEdit=g,this.versionId=t}}e.ResourceTextEdit=L;class b extends D{static is(h){return h instanceof b?!0:(0,k.isObject)(h)&&(Boolean(h.newResource)||Boolean(h.oldResource))}static lift(h){return h instanceof b?h:new b(h.oldResource,h.newResource,h.options,h.metadata)}constructor(h,g,t={},i){super(i),this.oldResource=h,this.newResource=g,this.options=t}}e.ResourceFileEdit=b}),define(se[29],re([1,0,9]),function(q,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ICodeEditorService=void 0,e.ICodeEditorService=(0,w.createDecorator)("codeEditorService")}),define(se[39],re([1,0,9]),function(q,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ILanguageService=void 0,e.ILanguageService=(0,w.createDecorator)("languageService")}),define(se[103],re([1,0,9]),function(q,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IEditorWorkerService=e.ID_EDITOR_WORKER_SERVICE=void 0,e.ID_EDITOR_WORKER_SERVICE="editorWorkerService",e.IEditorWorkerService=(0,w.createDecorator)(e.ID_EDITOR_WORKER_SERVICE)});var fe=this&&this.__param||function(q,e){return function(w,m){e(w,m,q)}};define(se[651],re([1,0,185,3,103]),function(q,e,w,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WorkerBasedDocumentDiffProvider=void 0;let D=class{constructor(b){this.editorWorkerService=b}computeDiff(b,C,h){return Se(this,void 0,void 0,function*(){const g=yield this.editorWorkerService.computeDiff(b.uri,C.uri,h);if(!g)throw new Error("no diff result available");return{identical:g.identical,quitEarly:g.quitEarly,changes:g.changes.map(i=>{var n;return new w.LineRangeMapping(new w.LineRange(i[0],i[1]),new w.LineRange(i[2],i[3]),(n=i[4])===null||n===void 0?void 0:n.map(o=>new w.RangeMapping(new m.Range(o[0],o[1],o[2],o[3]),new m.Range(o[4],o[5],o[6],o[7]))))})}})}};D=De([fe(0,k.IEditorWorkerService)],D),e.WorkerBasedDocumentDiffProvider=D}),define(se[20],re([1,0,9]),function(q,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ILanguageFeaturesService=void 0,e.ILanguageFeaturesService=(0,w.createDecorator)("ILanguageFeaturesService")}),define(se[652],re([1,0,521,20,52]),function(q,e,w,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageFeaturesService=void 0;class D{constructor(){this.referenceProvider=new w.LanguageFeatureRegistry(this._score.bind(this)),this.renameProvider=new w.LanguageFeatureRegistry(this._score.bind(this)),this.codeActionProvider=new w.LanguageFeatureRegistry(this._score.bind(this)),this.definitionProvider=new w.LanguageFeatureRegistry(this._score.bind(this)),this.typeDefinitionProvider=new w.LanguageFeatureRegistry(this._score.bind(this)),this.declarationProvider=new w.LanguageFeatureRegistry(this._score.bind(this)),this.implementationProvider=new w.LanguageFeatureRegistry(this._score.bind(this)),this.documentSymbolProvider=new w.LanguageFeatureRegistry(this._score.bind(this)),this.inlayHintsProvider=new w.LanguageFeatureRegistry(this._score.bind(this)),this.colorProvider=new w.LanguageFeatureRegistry(this._score.bind(this)),this.codeLensProvider=new w.LanguageFeatureRegistry(this._score.bind(this)),this.documentFormattingEditProvider=new w.LanguageFeatureRegistry(this._score.bind(this)),this.documentRangeFormattingEditProvider=new w.LanguageFeatureRegistry(this._score.bind(this)),this.onTypeFormattingEditProvider=new w.LanguageFeatureRegistry(this._score.bind(this)),this.signatureHelpProvider=new w.LanguageFeatureRegistry(this._score.bind(this)),this.hoverProvider=new w.LanguageFeatureRegistry(this._score.bind(this)),this.documentHighlightProvider=new w.LanguageFeatureRegistry(this._score.bind(this)),this.selectionRangeProvider=new w.LanguageFeatureRegistry(this._score.bind(this)),this.foldingRangeProvider=new w.LanguageFeatureRegistry(this._score.bind(this)),this.linkProvider=new w.LanguageFeatureRegistry(this._score.bind(this)),this.inlineCompletionsProvider=new w.LanguageFeatureRegistry(this._score.bind(this)),this.completionProvider=new w.LanguageFeatureRegistry(this._score.bind(this)),this.linkedEditingRangeProvider=new w.LanguageFeatureRegistry(this._score.bind(this)),this.documentRangeSemanticTokensProvider=new w.LanguageFeatureRegistry(this._score.bind(this)),this.documentSemanticTokensProvider=new w.LanguageFeatureRegistry(this._score.bind(this)),this.documentOnDropEditProvider=new w.LanguageFeatureRegistry(this._score.bind(this)),this.documentPasteEditProvider=new w.LanguageFeatureRegistry(this._score.bind(this))}_score(b){var C;return(C=this._notebookTypeResolver)===null||C===void 0?void 0:C.call(this,b)}}e.LanguageFeaturesService=D,(0,k.registerSingleton)(m.ILanguageFeaturesService,D,1)}),define(se[214],re([1,0,9]),function(q,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IMarkerDecorationsService=void 0,e.IMarkerDecorationsService=(0,w.createDecorator)("markerDecorationsService")}),define(se[51],re([1,0,9]),function(q,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IModelService=void 0,e.IModelService=(0,w.createDecorator)("modelService")}),define(se[61],re([1,0,9]),function(q,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITextModelService=void 0,e.ITextModelService=(0,w.createDecorator)("textModelService")}),define(se[168],re([1,0,9]),function(q,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITextResourcePropertiesService=e.ITextResourceConfigurationService=void 0,e.ITextResourceConfigurationService=(0,w.createDecorator)("textResourceConfigurationService"),e.ITextResourcePropertiesService=(0,w.createDecorator)("textResourcePropertiesService")}),define(se[117],re([1,0,9]),function(q,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IStandaloneThemeService=void 0,e.IStandaloneThemeService=(0,w.createDecorator)("themeService")}),define(se[95],re([1,0,9]),function(q,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IClipboardService=void 0,e.IClipboardService=(0,w.createDecorator)("clipboardService")}),define(se[26],re([1,0,6,55,2,58,19,9]),function(q,e,w,m,k,D,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NullCommandService=e.CommandsRegistry=e.ICommandService=void 0,e.ICommandService=(0,b.createDecorator)("commandService"),e.CommandsRegistry=new class{constructor(){this._commands=new Map,this._onDidRegisterCommand=new w.Emitter,this.onDidRegisterCommand=this._onDidRegisterCommand.event}registerCommand(C,h){if(!C)throw new Error("invalid command");if(typeof C=="string"){if(!h)throw new Error("invalid command");return this.registerCommand({id:C,handler:h})}if(C.description){const o=[];for(const c of C.description.args)o.push(c.constraint);const l=C.handler;C.handler=function(c,...d){return(0,L.validateConstraints)(d,o),l(c,...d)}}const{id:g}=C;let t=this._commands.get(g);t||(t=new D.LinkedList,this._commands.set(g,t));const i=t.unshift(C),n=(0,k.toDisposable)(()=>{i();const o=this._commands.get(g);o?.isEmpty()&&this._commands.delete(g)});return this._onDidRegisterCommand.fire(g),n}registerCommandAlias(C,h){return e.CommandsRegistry.registerCommand(C,(g,...t)=>g.get(e.ICommandService).executeCommand(h,...t))}getCommand(C){const h=this._commands.get(C);if(!(!h||h.isEmpty()))return m.Iterable.first(h)}getCommands(){const C=new Map;for(const h of this._commands.keys()){const g=this.getCommand(h);g&&C.set(h,g)}return C}},e.NullCommandService={_serviceBrand:void 0,onWillExecuteCommand:()=>k.Disposable.None,onDidExecuteCommand:()=>k.Disposable.None,executeCommand(){return Promise.resolve(void 0)}},e.CommandsRegistry.registerCommand("noop",()=>{})}),define(se[288],re([1,0,21,14,22,51,26,19,526,3,20]),function(q,e,w,m,k,D,L,b,C,h,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getDocumentRangeSemanticTokens=e.hasDocumentRangeSemanticTokensProvider=e.getDocumentSemanticTokens=e.hasDocumentSemanticTokensProvider=e.DocumentSemanticTokensResult=e.isSemanticTokensEdits=e.isSemanticTokens=void 0;function t(p){return p&&!!p.data}e.isSemanticTokens=t;function i(p){return p&&Array.isArray(p.edits)}e.isSemanticTokensEdits=i;class n{constructor(S,f,v){this.provider=S,this.tokens=f,this.error=v}}e.DocumentSemanticTokensResult=n;function o(p,S){return p.has(S)}e.hasDocumentSemanticTokensProvider=o;function l(p,S){const f=p.orderedGroups(S);return f.length>0?f[0]:[]}function c(p,S,f,v,_){return Se(this,void 0,void 0,function*(){const y=l(p,S),E=yield Promise.all(y.map(T=>Se(this,void 0,void 0,function*(){let I,R=null;try{I=yield T.provideDocumentSemanticTokens(S,T===f?v:null,_)}catch(F){R=F,I=null}return(!I||!t(I)&&!i(I))&&(I=null),new n(T,I,R)})));for(const T of E){if(T.error)throw T.error;if(T.tokens)return T}return E.length>0?E[0]:null})}e.getDocumentSemanticTokens=c;function d(p,S){const f=p.orderedGroups(S);return f.length>0?f[0]:null}class r{constructor(S,f){this.provider=S,this.tokens=f}}function s(p,S){return p.has(S)}e.hasDocumentRangeSemanticTokensProvider=s;function a(p,S){const f=p.orderedGroups(S);return f.length>0?f[0]:[]}function u(p,S,f,v){return Se(this,void 0,void 0,function*(){const _=a(p,S),y=yield Promise.all(_.map(E=>Se(this,void 0,void 0,function*(){let T;try{T=yield E.provideDocumentRangeSemanticTokens(S,f,v)}catch(I){(0,m.onUnexpectedExternalError)(I),T=null}return(!T||!t(T))&&(T=null),new r(E,T)})));for(const E of y)if(E.tokens)return E;return y.length>0?y[0]:null})}e.getDocumentRangeSemanticTokens=u,L.CommandsRegistry.registerCommand("_provideDocumentSemanticTokensLegend",(p,...S)=>Se(void 0,void 0,void 0,function*(){const[f]=S;(0,b.assertType)(f instanceof k.URI);const v=p.get(D.IModelService).getModel(f);if(!v)return;const{documentSemanticTokensProvider:_}=p.get(g.ILanguageFeaturesService),y=d(_,v);return y?y[0].getLegend():p.get(L.ICommandService).executeCommand("_provideDocumentRangeSemanticTokensLegend",f)})),L.CommandsRegistry.registerCommand("_provideDocumentSemanticTokens",(p,...S)=>Se(void 0,void 0,void 0,function*(){const[f]=S;(0,b.assertType)(f instanceof k.URI);const v=p.get(D.IModelService).getModel(f);if(!v)return;const{documentSemanticTokensProvider:_}=p.get(g.ILanguageFeaturesService);if(!o(_,v))return p.get(L.ICommandService).executeCommand("_provideDocumentRangeSemanticTokens",f,v.getFullModelRange());const y=yield c(_,v,null,null,w.CancellationToken.None);if(!y)return;const{provider:E,tokens:T}=y;if(!T||!t(T))return;const I=(0,C.encodeSemanticTokensDto)({id:0,type:"full",data:T.data});return T.resultId&&E.releaseDocumentSemanticTokens(T.resultId),I})),L.CommandsRegistry.registerCommand("_provideDocumentRangeSemanticTokensLegend",(p,...S)=>Se(void 0,void 0,void 0,function*(){const[f,v]=S;(0,b.assertType)(f instanceof k.URI);const _=p.get(D.IModelService).getModel(f);if(!_)return;const{documentRangeSemanticTokensProvider:y}=p.get(g.ILanguageFeaturesService),E=a(y,_);if(E.length===0)return;if(E.length===1)return E[0].getLegend();if(!v||!h.Range.isIRange(v))return console.warn("provideDocumentRangeSemanticTokensLegend might be out-of-sync with provideDocumentRangeSemanticTokens unless a range argument is passed in"),E[0].getLegend();const T=yield u(y,_,h.Range.lift(v),w.CancellationToken.None);if(!!T)return T.provider.getLegend()})),L.CommandsRegistry.registerCommand("_provideDocumentRangeSemanticTokens",(p,...S)=>Se(void 0,void 0,void 0,function*(){const[f,v]=S;(0,b.assertType)(f instanceof k.URI),(0,b.assertType)(h.Range.isIRange(v));const _=p.get(D.IModelService).getModel(f);if(!_)return;const{documentRangeSemanticTokensProvider:y}=p.get(g.ILanguageFeaturesService),E=yield u(y,_,h.Range.lift(v),w.CancellationToken.None);if(!(!E||!E.tokens))return(0,C.encodeSemanticTokensDto)({id:0,type:"full",data:E.tokens.data})}))}),define(se[289],re([1,0,21,14,2,19,22,51,26,20]),function(q,e,w,m,k,D,L,b,C,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCodeLensModel=e.CodeLensModel=void 0;class g{constructor(){this.lenses=[],this._disposables=new k.DisposableStore}dispose(){this._disposables.dispose()}get isDisposed(){return this._disposables.isDisposed}add(n,o){this._disposables.add(n);for(const l of n.lenses)this.lenses.push({symbol:l,provider:o})}}e.CodeLensModel=g;function t(i,n,o){return Se(this,void 0,void 0,function*(){const l=i.ordered(n),c=new Map,d=new g,r=l.map((s,a)=>Se(this,void 0,void 0,function*(){c.set(s,a);try{const u=yield Promise.resolve(s.provideCodeLenses(n,o));u&&d.add(u,s)}catch(u){(0,m.onUnexpectedExternalError)(u)}}));return yield Promise.all(r),d.lenses=d.lenses.sort((s,a)=>s.symbol.range.startLineNumber<a.symbol.range.startLineNumber?-1:s.symbol.range.startLineNumber>a.symbol.range.startLineNumber?1:c.get(s.provider)<c.get(a.provider)?-1:c.get(s.provider)>c.get(a.provider)?1:s.symbol.range.startColumn<a.symbol.range.startColumn?-1:s.symbol.range.startColumn>a.symbol.range.startColumn?1:0),d})}e.getCodeLensModel=t,C.CommandsRegistry.registerCommand("_executeCodeLensProvider",function(i,...n){let[o,l]=n;(0,D.assertType)(L.URI.isUri(o)),(0,D.assertType)(typeof l=="number"||!l);const{codeLensProvider:c}=i.get(h.ILanguageFeaturesService),d=i.get(b.IModelService).getModel(o);if(!d)throw(0,m.illegalArgument)();const r=[],s=new k.DisposableStore;return t(c,d,w.CancellationToken.None).then(a=>{s.add(a);const u=[];for(const p of a.lenses)l==null||Boolean(p.symbol.command)?r.push(p.symbol):l-- >0&&p.provider.resolveCodeLens&&u.push(Promise.resolve(p.provider.resolveCodeLens(d,p.symbol,w.CancellationToken.None)).then(S=>r.push(S||p.symbol)));return Promise.all(u)}).then(()=>r).finally(()=>{setTimeout(()=>s.dispose(),100)})})}),define(se[290],re([1,0,21,14,22,3,51,26,20]),function(q,e,w,m,k,D,L,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getColorPresentations=e.getColors=void 0;function h(t,i,n){const o=[],c=t.ordered(i).reverse().map(d=>Promise.resolve(d.provideDocumentColors(i,n)).then(r=>{if(Array.isArray(r))for(const s of r)o.push({colorInfo:s,provider:d})}));return Promise.all(c).then(()=>o)}e.getColors=h;function g(t,i,n,o){return Promise.resolve(n.provideColorPresentations(t,i,o))}e.getColorPresentations=g,b.CommandsRegistry.registerCommand("_executeDocumentColorProvider",function(t,...i){const[n]=i;if(!(n instanceof k.URI))throw(0,m.illegalArgument)();const{colorProvider:o}=t.get(C.ILanguageFeaturesService),l=t.get(L.IModelService).getModel(n);if(!l)throw(0,m.illegalArgument)();const c=[],r=o.ordered(l).reverse().map(s=>Promise.resolve(s.provideDocumentColors(l,w.CancellationToken.None)).then(a=>{if(Array.isArray(a))for(const u of a)c.push({range:u.range,color:[u.color.red,u.color.green,u.color.blue,u.color.alpha]})}));return Promise.all(r).then(()=>c)}),b.CommandsRegistry.registerCommand("_executeColorPresentationProvider",function(t,...i){const[n,o]=i,{uri:l,range:c}=o;if(!(l instanceof k.URI)||!Array.isArray(n)||n.length!==4||!D.Range.isIRange(c))throw(0,m.illegalArgument)();const[d,r,s,a]=n,{colorProvider:u}=t.get(C.ILanguageFeaturesService),p=t.get(L.IModelService).getModel(l);if(!p)throw(0,m.illegalArgument)();const S={range:c,color:{red:d,green:r,blue:s,alpha:a}},f=[],_=u.ordered(p).reverse().map(y=>Promise.resolve(y.provideColorPresentations(p,S,w.CancellationToken.None)).then(E=>{Array.isArray(E)&&f.push(...E)}));return Promise.all(_).then(()=>f)})}),define(se[653],re([1,0,18,21,14,2,19,22,3,51,26,20]),function(q,e,w,m,k,D,L,b,C,h,g,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getLinks=e.LinksList=e.Link=void 0;class i{constructor(c,d){this._link=c,this._provider=d}toJSON(){return{range:this.range,url:this.url,tooltip:this.tooltip}}get range(){return this._link.range}get url(){return this._link.url}get tooltip(){return this._link.tooltip}resolve(c){return Se(this,void 0,void 0,function*(){return this._link.url?this._link.url:typeof this._provider.resolveLink=="function"?Promise.resolve(this._provider.resolveLink(this._link,c)).then(d=>(this._link=d||this._link,this._link.url?this.resolve(c):Promise.reject(new Error("missing")))):Promise.reject(new Error("missing"))})}}e.Link=i;class n{constructor(c){this._disposables=new D.DisposableStore;let d=[];for(const[r,s]of c){const a=r.links.map(u=>new i(u,s));d=n._union(d,a),(0,D.isDisposable)(r)&&this._disposables.add(r)}this.links=d}dispose(){this._disposables.dispose(),this.links.length=0}static _union(c,d){const r=[];let s,a,u,p;for(s=0,u=0,a=c.length,p=d.length;s<a&&u<p;){const S=c[s],f=d[u];if(C.Range.areIntersectingOrTouching(S.range,f.range)){s++;continue}C.Range.compareRangesUsingStarts(S.range,f.range)<0?(r.push(S),s++):(r.push(f),u++)}for(;s<a;s++)r.push(c[s]);for(;u<p;u++)r.push(d[u]);return r}}e.LinksList=n;function o(l,c,d){const r=[],s=l.ordered(c).reverse().map((a,u)=>Promise.resolve(a.provideLinks(c,d)).then(p=>{p&&(r[u]=[p,a])},k.onUnexpectedExternalError));return Promise.all(s).then(()=>{const a=new n((0,w.coalesce)(r));return d.isCancellationRequested?(a.dispose(),new n([])):a})}e.getLinks=o,g.CommandsRegistry.registerCommand("_executeLinkProvider",(l,...c)=>Se(void 0,void 0,void 0,function*(){let[d,r]=c;(0,L.assertType)(d instanceof b.URI),typeof r!="number"&&(r=0);const{linkProvider:s}=l.get(t.ILanguageFeaturesService),a=l.get(h.IModelService).getModel(d);if(!a)return[];const u=yield o(s,a,m.CancellationToken.None);if(!u)return[];for(let S=0;S<Math.min(r,u.links.length);S++)yield u.links[S].resolve(m.CancellationToken.None);const p=u.links.slice(0);return u.dispose(),p}))}),define(se[30],re([1,0,9]),function(q,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getLanguageTagSettingPlainKey=e.getConfigurationValue=e.removeFromValueTree=e.addToValueTree=e.toValuesTree=e.IConfigurationService=void 0,e.IConfigurationService=(0,w.createDecorator)("configurationService");function m(h,g){const t=Object.create(null);for(const i in h)k(t,i,h[i],g);return t}e.toValuesTree=m;function k(h,g,t,i){const n=g.split("."),o=n.pop();let l=h;for(let c=0;c<n.length;c++){const d=n[c];let r=l[d];switch(typeof r){case"undefined":r=l[d]=Object.create(null);break;case"object":break;default:i(`Ignoring ${g} as ${n.slice(0,c+1).join(".")} is ${JSON.stringify(r)}`);return}l=r}if(typeof l=="object"&&l!==null)try{l[o]=t}catch{i(`Ignoring ${g} as ${n.join(".")} is ${JSON.stringify(l)}`)}else i(`Ignoring ${g} as ${n.join(".")} is ${JSON.stringify(l)}`)}e.addToValueTree=k;function D(h,g){const t=g.split(".");L(h,t)}e.removeFromValueTree=D;function L(h,g){const t=g.shift();if(g.length===0){delete h[t];return}if(Object.keys(h).indexOf(t)!==-1){const i=h[t];typeof i=="object"&&!Array.isArray(i)&&(L(i,g),Object.keys(i).length===0&&delete h[t])}}function b(h,g,t){function i(l,c){let d=l;for(const r of c){if(typeof d!="object"||d===null)return;d=d[r]}return d}const n=g.split("."),o=i(h,n);return typeof o>"u"?t:o}e.getConfigurationValue=b;function C(h){return h.replace(/[\[\]]/g,"")}e.getLanguageTagSettingPlainKey=C}),define(se[291],re([1,0,28,139,257,30]),function(q,e,w,m,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MonarchTokenizer=void 0;const L=5;class b{static create(d,r){return this._INSTANCE.create(d,r)}constructor(d){this._maxCacheDepth=d,this._entries=Object.create(null)}create(d,r){if(d!==null&&d.depth>=this._maxCacheDepth)return new C(d,r);let s=C.getStackElementId(d);s.length>0&&(s+="|"),s+=r;let a=this._entries[s];return a||(a=new C(d,r),this._entries[s]=a,a)}}b._INSTANCE=new b(L);class C{constructor(d,r){this.parent=d,this.state=r,this.depth=(this.parent?this.parent.depth:0)+1}static getStackElementId(d){let r="";for(;d!==null;)r.length>0&&(r+="|"),r+=d.state,d=d.parent;return r}static _equals(d,r){for(;d!==null&&r!==null;){if(d===r)return!0;if(d.state!==r.state)return!1;d=d.parent,r=r.parent}return d===null&&r===null}equals(d){return C._equals(this,d)}push(d){return b.create(this,d)}pop(){return this.parent}popall(){let d=this;for(;d.parent;)d=d.parent;return d}switchTo(d){return b.create(this.parent,d)}}class h{constructor(d,r){this.languageId=d,this.state=r}equals(d){return this.languageId===d.languageId&&this.state.equals(d.state)}clone(){return this.state.clone()===this.state?this:new h(this.languageId,this.state)}}class g{static create(d,r){return this._INSTANCE.create(d,r)}constructor(d){this._maxCacheDepth=d,this._entries=Object.create(null)}create(d,r){if(r!==null)return new t(d,r);if(d!==null&&d.depth>=this._maxCacheDepth)return new t(d,r);const s=C.getStackElementId(d);let a=this._entries[s];return a||(a=new t(d,null),this._entries[s]=a,a)}}g._INSTANCE=new g(L);class t{constructor(d,r){this.stack=d,this.embeddedLanguageData=r}clone(){return(this.embeddedLanguageData?this.embeddedLanguageData.clone():null)===this.embeddedLanguageData?this:g.create(this.stack,this.embeddedLanguageData)}equals(d){return!(d instanceof t)||!this.stack.equals(d.stack)?!1:this.embeddedLanguageData===null&&d.embeddedLanguageData===null?!0:this.embeddedLanguageData===null||d.embeddedLanguageData===null?!1:this.embeddedLanguageData.equals(d.embeddedLanguageData)}}class i{constructor(){this._tokens=[],this._languageId=null,this._lastTokenType=null,this._lastTokenLanguage=null}enterLanguage(d){this._languageId=d}emit(d,r){this._lastTokenType===r&&this._lastTokenLanguage===this._languageId||(this._lastTokenType=r,this._lastTokenLanguage=this._languageId,this._tokens.push(new w.Token(d,r,this._languageId)))}nestedLanguageTokenize(d,r,s,a){const u=s.languageId,p=s.state,S=w.TokenizationRegistry.get(u);if(!S)return this.enterLanguage(u),this.emit(a,""),p;const f=S.tokenize(d,r,p);if(a!==0)for(const v of f.tokens)this._tokens.push(new w.Token(v.offset+a,v.type,v.language));else this._tokens=this._tokens.concat(f.tokens);return this._lastTokenType=null,this._lastTokenLanguage=null,this._languageId=null,f.endState}finalize(d){return new w.TokenizationResult(this._tokens,d)}}class n{constructor(d,r){this._languageService=d,this._theme=r,this._prependTokens=null,this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0}enterLanguage(d){this._currentLanguageId=this._languageService.languageIdCodec.encodeLanguageId(d)}emit(d,r){const s=this._theme.match(this._currentLanguageId,r);this._lastTokenMetadata!==s&&(this._lastTokenMetadata=s,this._tokens.push(d),this._tokens.push(s))}static _merge(d,r,s){const a=d!==null?d.length:0,u=r.length,p=s!==null?s.length:0;if(a===0&&u===0&&p===0)return new Uint32Array(0);if(a===0&&u===0)return s;if(u===0&&p===0)return d;const S=new Uint32Array(a+u+p);d!==null&&S.set(d);for(let f=0;f<u;f++)S[a+f]=r[f];return s!==null&&S.set(s,a+u),S}nestedLanguageTokenize(d,r,s,a){const u=s.languageId,p=s.state,S=w.TokenizationRegistry.get(u);if(!S)return this.enterLanguage(u),this.emit(a,""),p;const f=S.tokenizeEncoded(d,r,p);if(a!==0)for(let v=0,_=f.tokens.length;v<_;v+=2)f.tokens[v]+=a;return this._prependTokens=n._merge(this._prependTokens,this._tokens,f.tokens),this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0,f.endState}finalize(d){return new w.EncodedTokenizationResult(n._merge(this._prependTokens,this._tokens,null),d)}}let o=class Ii{constructor(d,r,s,a,u){this._configurationService=u,this._languageService=d,this._standaloneThemeService=r,this._languageId=s,this._lexer=a,this._embeddedLanguages=Object.create(null),this.embeddedLoaded=Promise.resolve(void 0);let p=!1;this._tokenizationRegistryListener=w.TokenizationRegistry.onDidChange(S=>{if(p)return;let f=!1;for(let v=0,_=S.changedLanguages.length;v<_;v++){const y=S.changedLanguages[v];if(this._embeddedLanguages[y]){f=!0;break}}f&&(p=!0,w.TokenizationRegistry.fire([this._languageId]),p=!1)}),this._maxTokenizationLineLength=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:this._languageId}),this._configurationService.onDidChangeConfiguration(S=>{S.affectsConfiguration("editor.maxTokenizationLineLength")&&(this._maxTokenizationLineLength=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:this._languageId}))})}dispose(){this._tokenizationRegistryListener.dispose()}getLoadStatus(){const d=[];for(const r in this._embeddedLanguages){const s=w.TokenizationRegistry.get(r);if(s){if(s instanceof Ii){const a=s.getLoadStatus();a.loaded===!1&&d.push(a.promise)}continue}w.TokenizationRegistry.isResolved(r)||d.push(w.TokenizationRegistry.getOrCreate(r))}return d.length===0?{loaded:!0}:{loaded:!1,promise:Promise.all(d).then(r=>{})}}getInitialState(){const d=b.create(null,this._lexer.start);return g.create(d,null)}tokenize(d,r,s){if(d.length>=this._maxTokenizationLineLength)return(0,m.nullTokenize)(this._languageId,s);const a=new i,u=this._tokenize(d,r,s,a);return a.finalize(u)}tokenizeEncoded(d,r,s){if(d.length>=this._maxTokenizationLineLength)return(0,m.nullTokenizeEncoded)(this._languageService.languageIdCodec.encodeLanguageId(this._languageId),s);const a=new n(this._languageService,this._standaloneThemeService.getColorTheme().tokenTheme),u=this._tokenize(d,r,s,a);return a.finalize(u)}_tokenize(d,r,s,a){return s.embeddedLanguageData?this._nestedTokenize(d,r,s,0,a):this._myTokenize(d,r,s,0,a)}_findLeavingNestedLanguageOffset(d,r){let s=this._lexer.tokenizer[r.stack.state];if(!s&&(s=k.findRules(this._lexer,r.stack.state),!s))throw k.createError(this._lexer,"tokenizer state is not defined: "+r.stack.state);let a=-1,u=!1;for(const p of s){if(!k.isIAction(p.action)||p.action.nextEmbedded!=="@pop")continue;u=!0;let S=p.regex;const f=p.regex.source;if(f.substr(0,4)==="^(?:"&&f.substr(f.length-1,1)===")"){const _=(S.ignoreCase?"i":"")+(S.unicode?"u":"");S=new RegExp(f.substr(4,f.length-5),_)}const v=d.search(S);v===-1||v!==0&&p.matchOnlyAtLineStart||(a===-1||v<a)&&(a=v)}if(!u)throw k.createError(this._lexer,'no rule containing nextEmbedded: "@pop" in tokenizer embedded state: '+r.stack.state);return a}_nestedTokenize(d,r,s,a,u){const p=this._findLeavingNestedLanguageOffset(d,s);if(p===-1){const v=u.nestedLanguageTokenize(d,r,s.embeddedLanguageData,a);return g.create(s.stack,new h(s.embeddedLanguageData.languageId,v))}const S=d.substring(0,p);S.length>0&&u.nestedLanguageTokenize(S,!1,s.embeddedLanguageData,a);const f=d.substring(p);return this._myTokenize(f,r,s,a+p,u)}_safeRuleName(d){return d?d.name:"(unknown)"}_myTokenize(d,r,s,a,u){u.enterLanguage(this._languageId);const p=d.length,S=r&&this._lexer.includeLF?d+`
`:d,f=S.length;let v=s.embeddedLanguageData,_=s.stack,y=0,E=null,T=!0;for(;T||y<f;){const I=y,R=_.depth,F=E?E.groups.length:0,O=_.state;let M=null,N=null,A=null,B=null,W=null;if(E){M=E.matches;const X=E.groups.shift();N=X.matched,A=X.action,B=E.rule,E.groups.length===0&&(E=null)}else{if(!T&&y>=f)break;T=!1;let X=this._lexer.tokenizer[O];if(!X&&(X=k.findRules(this._lexer,O),!X))throw k.createError(this._lexer,"tokenizer state is not defined: "+O);const ie=S.substr(y);for(const K of X)if((y===0||!K.matchOnlyAtLineStart)&&(M=ie.match(K.regex),M)){N=M[0],A=K.action;break}}if(M||(M=[""],N=""),A||(y<f&&(M=[S.charAt(y)],N=M[0]),A=this._lexer.defaultToken),N===null)break;for(y+=N.length;k.isFuzzyAction(A)&&k.isIAction(A)&&A.test;)A=A.test(N,M,O,y===f);let x=null;if(typeof A=="string"||Array.isArray(A))x=A;else if(A.group)x=A.group;else if(A.token!==null&&A.token!==void 0){if(A.tokenSubst?x=k.substituteMatches(this._lexer,A.token,N,M,O):x=A.token,A.nextEmbedded)if(A.nextEmbedded==="@pop"){if(!v)throw k.createError(this._lexer,"cannot pop embedded language if not inside one");v=null}else{if(v)throw k.createError(this._lexer,"cannot enter embedded language from within an embedded language");W=k.substituteMatches(this._lexer,A.nextEmbedded,N,M,O)}if(A.goBack&&(y=Math.max(0,y-A.goBack)),A.switchTo&&typeof A.switchTo=="string"){let X=k.substituteMatches(this._lexer,A.switchTo,N,M,O);if(X[0]==="@"&&(X=X.substr(1)),k.findRules(this._lexer,X))_=_.switchTo(X);else throw k.createError(this._lexer,"trying to switch to a state '"+X+"' that is undefined in rule: "+this._safeRuleName(B))}else{if(A.transform&&typeof A.transform=="function")throw k.createError(this._lexer,"action.transform not supported");if(A.next)if(A.next==="@push"){if(_.depth>=this._lexer.maxStack)throw k.createError(this._lexer,"maximum tokenizer stack size reached: ["+_.state+","+_.parent.state+",...]");_=_.push(O)}else if(A.next==="@pop"){if(_.depth<=1)throw k.createError(this._lexer,"trying to pop an empty stack in rule: "+this._safeRuleName(B));_=_.pop()}else if(A.next==="@popall")_=_.popall();else{let X=k.substituteMatches(this._lexer,A.next,N,M,O);if(X[0]==="@"&&(X=X.substr(1)),k.findRules(this._lexer,X))_=_.push(X);else throw k.createError(this._lexer,"trying to set a next state '"+X+"' that is undefined in rule: "+this._safeRuleName(B))}}A.log&&typeof A.log=="string"&&k.log(this._lexer,this._lexer.languageId+": "+k.substituteMatches(this._lexer,A.log,N,M,O))}if(x===null)throw k.createError(this._lexer,"lexer rule has no well-defined action in rule: "+this._safeRuleName(B));const P=X=>{const ie=this._languageService.getLanguageIdByLanguageName(X)||this._languageService.getLanguageIdByMimeType(X)||X,K=this._getNestedEmbeddedLanguageData(ie);if(y<f){const G=d.substr(y);return this._nestedTokenize(G,r,g.create(_,K),a+y,u)}else return g.create(_,K)};if(Array.isArray(x)){if(E&&E.groups.length>0)throw k.createError(this._lexer,"groups cannot be nested: "+this._safeRuleName(B));if(M.length!==x.length+1)throw k.createError(this._lexer,"matched number of groups does not match the number of actions in rule: "+this._safeRuleName(B));let X=0;for(let ie=1;ie<M.length;ie++)X+=M[ie].length;if(X!==N.length)throw k.createError(this._lexer,"with groups, all characters should be matched in consecutive groups in rule: "+this._safeRuleName(B));E={rule:B,matches:M,groups:[]};for(let ie=0;ie<x.length;ie++)E.groups[ie]={action:x[ie],matched:M[ie+1]};y-=N.length;continue}else{if(x==="@rematch"&&(y-=N.length,N="",M=null,x="",W!==null))return P(W);if(N.length===0){if(f===0||R!==_.depth||O!==_.state||(E?E.groups.length:0)!==F)continue;throw k.createError(this._lexer,"no progress in tokenizer in rule: "+this._safeRuleName(B))}let X=null;if(k.isString(x)&&x.indexOf("@brackets")===0){const ie=x.substr(9),K=l(this._lexer,N);if(!K)throw k.createError(this._lexer,"@brackets token returned but no bracket defined as: "+N);X=k.sanitize(K.token+ie)}else{const ie=x===""?"":x+this._lexer.tokenPostfix;X=k.sanitize(ie)}I<p&&u.emit(I+a,X)}if(W!==null)return P(W)}return g.create(_,v)}_getNestedEmbeddedLanguageData(d){if(!this._languageService.isRegisteredLanguageId(d))return new h(d,m.NullState);d!==this._languageId&&(w.TokenizationRegistry.getOrCreate(d),this._embeddedLanguages[d]=!0);const r=w.TokenizationRegistry.get(d);return r?new h(d,r.getInitialState()):new h(d,m.NullState)}};o=De([fe(4,D.IConfigurationService)],o),e.MonarchTokenizer=o;function l(c,d){if(!d)return null;d=k.fixCase(c,d);const r=c.brackets;for(const s of r){if(s.open===d)return{token:s.token,bracketType:1};if(s.close===d)return{token:s.token,bracketType:-1}}return null}}),define(se[654],re([1,0,8,84,28,116,75,291]),function(q,e,w,m,k,D,L,b){"use strict";var C;Object.defineProperty(e,"__esModule",{value:!0}),e.Colorizer=void 0;const h=(C=window.trustedTypes)===null||C===void 0?void 0:C.createPolicy("standaloneColorizer",{createHTML:o=>o});class g{static colorizeElement(l,c,d,r){r=r||{};const s=r.theme||"vs",a=r.mimeType||d.getAttribute("lang")||d.getAttribute("data-lang");if(!a)return console.error("Mode not detected"),Promise.resolve();const u=c.getLanguageIdByMimeType(a)||a;l.setTheme(s);const p=d.firstChild?d.firstChild.nodeValue:"";d.className+=" "+s;const S=f=>{var v;const _=(v=h?.createHTML(f))!==null&&v!==void 0?v:f;d.innerHTML=_};return this.colorize(c,p||"",u,r).then(S,f=>console.error(f))}static colorize(l,c,d,r){return Se(this,void 0,void 0,function*(){const s=l.languageIdCodec;let a=4;r&&typeof r.tabSize=="number"&&(a=r.tabSize),w.startsWithUTF8BOM(c)&&(c=c.substr(1));const u=w.splitLines(c);if(!l.isRegisteredLanguageId(d))return i(u,a,s);const p=yield k.TokenizationRegistry.getOrCreate(d);return p?t(u,a,p,s):i(u,a,s)})}static colorizeLine(l,c,d,r,s=4){const a=L.ViewLineRenderingData.isBasicASCII(l,c),u=L.ViewLineRenderingData.containsRTL(l,a,d);return(0,D.renderViewLine2)(new D.RenderLineInput(!1,!0,l,!1,a,u,0,r,[],s,0,0,0,0,-1,"none",!1,!1,null)).html}static colorizeModelLine(l,c,d=4){const r=l.getLineContent(c);l.tokenization.forceTokenization(c);const a=l.tokenization.getLineTokens(c).inflate();return this.colorizeLine(r,l.mightContainNonBasicASCII(),l.mightContainRTL(),a,d)}}e.Colorizer=g;function t(o,l,c,d){return new Promise((r,s)=>{const a=()=>{const u=n(o,l,c,d);if(c instanceof b.MonarchTokenizer){const p=c.getLoadStatus();if(p.loaded===!1){p.promise.then(a,s);return}}r(u)};a()})}function i(o,l,c){let d=[];const s=new Uint32Array(2);s[0]=0,s[1]=33587200;for(let a=0,u=o.length;a<u;a++){const p=o[a];s[0]=p.length;const S=new m.LineTokens(s,p,c),f=L.ViewLineRenderingData.isBasicASCII(p,!0),v=L.ViewLineRenderingData.containsRTL(p,f,!0),_=(0,D.renderViewLine2)(new D.RenderLineInput(!1,!0,p,!1,f,v,0,S,[],l,0,0,0,0,-1,"none",!1,!1,null));d=d.concat(_.html),d.push("<br/>")}return d.join("")}function n(o,l,c,d){let r=[],s=c.getInitialState();for(let a=0,u=o.length;a<u;a++){const p=o[a],S=c.tokenizeEncoded(p,!0,s);m.LineTokens.convertToEndOffset(S.tokens,p.length);const f=new m.LineTokens(S.tokens,p,d),v=L.ViewLineRenderingData.isBasicASCII(p,!0),_=L.ViewLineRenderingData.containsRTL(p,v,!0),y=(0,D.renderViewLine2)(new D.RenderLineInput(!1,!0,p,!1,v,_,0,f.inflate(),[],l,0,0,0,0,-1,"none",!1,!1,null));r=r.concat(y.html),r.push("<br/>"),s=S.endState}return r.join("")}}),define(se[15],re([1,0,17,8,9]),function(q,e,w,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.implies=e.SET_CONTEXT_COMMAND_ID=e.IContextKeyService=e.RawContextKey=e.ContextKeyNotRegexExpr=e.ContextKeyRegexExpr=e.ContextKeySmallerEqualsExpr=e.ContextKeySmallerExpr=e.ContextKeyGreaterEqualsExpr=e.ContextKeyGreaterExpr=e.ContextKeyNotExpr=e.ContextKeyNotEqualsExpr=e.ContextKeyNotInExpr=e.ContextKeyInExpr=e.ContextKeyEqualsExpr=e.ContextKeyDefinedExpr=e.ContextKeyTrueExpr=e.ContextKeyFalseExpr=e.expressionsAreEqualWithConstantSubstitution=e.ContextKeyExpr=void 0;const D=new Map;D.set("false",!1),D.set("true",!0),D.set("isMac",w.isMacintosh),D.set("isLinux",w.isLinux),D.set("isWindows",w.isWindows),D.set("isWeb",w.isWeb),D.set("isMacNative",w.isMacintosh&&!w.isWeb),D.set("isEdge",w.isEdge),D.set("isFirefox",w.isFirefox),D.set("isChrome",w.isChrome),D.set("isSafari",w.isSafari);const L=Object.prototype.hasOwnProperty;class b{static has(N){return i.create(N)}static equals(N,A){return n.create(N,A)}static regex(N,A){return S.create(N,A)}static not(N){return d.create(N)}static and(...N){return _.create(N,null,!0)}static or(...N){return y.create(N,null,!0)}static deserialize(N,A=!1){if(!!N)return this._deserializeOrExpression(N,A)}static _deserializeOrExpression(N,A){const B=N.split("||");return y.create(B.map(W=>this._deserializeAndExpression(W,A)),null,!0)}static _deserializeAndExpression(N,A){const B=N.split("&&");return _.create(B.map(W=>this._deserializeOne(W,A)),null,!0)}static _deserializeOne(N,A){if(N=N.trim(),N.indexOf("!=")>=0){const B=N.split("!=");return c.create(B[0].trim(),this._deserializeValue(B[1],A))}if(N.indexOf("==")>=0){const B=N.split("==");return n.create(B[0].trim(),this._deserializeValue(B[1],A))}if(N.indexOf("=~")>=0){const B=N.split("=~");return S.create(B[0].trim(),this._deserializeRegexValue(B[1],A))}if(N.indexOf(" not in ")>=0){const B=N.split(" not in ");return l.create(B[0].trim(),this._deserializeValue(B[1],A))}if(N.indexOf(" in ")>=0){const B=N.split(" in ");return o.create(B[0].trim(),this._deserializeValue(B[1],A))}if(/^[^<=>]+>=[^<=>]+$/.test(N)){const B=N.split(">=");return a.create(B[0].trim(),B[1].trim())}if(/^[^<=>]+>[^<=>]+$/.test(N)){const B=N.split(">");return s.create(B[0].trim(),B[1].trim())}if(/^[^<=>]+<=[^<=>]+$/.test(N)){const B=N.split("<=");return p.create(B[0].trim(),B[1].trim())}if(/^[^<=>]+<[^<=>]+$/.test(N)){const B=N.split("<");return u.create(B[0].trim(),B[1].trim())}return/^\!\s*/.test(N)?d.create(N.substr(1).trim()):i.create(N)}static _deserializeValue(N,A){if(N=N.trim(),N==="true")return!0;if(N==="false")return!1;const B=/^'([^']*)'$/.exec(N);return B?B[1].trim():N}static _deserializeRegexValue(N,A){if((0,m.isFalsyOrWhitespace)(N)){if(A)throw new Error("missing regexp-value for =~-expression");return console.warn("missing regexp-value for =~-expression"),null}const B=N.indexOf("/"),W=N.lastIndexOf("/");if(B===W||B<0){if(A)throw new Error(`bad regexp-value '${N}', missing /-enclosure`);return console.warn(`bad regexp-value '${N}', missing /-enclosure`),null}const x=N.slice(B+1,W),P=N[W+1]==="i"?"i":"";try{return new RegExp(x,P)}catch(X){if(A)throw new Error(`bad regexp-value '${N}', parse error: ${X}`);return console.warn(`bad regexp-value '${N}', parse error: ${X}`),null}}}e.ContextKeyExpr=b;function C(M,N){const A=M?M.substituteConstants():void 0,B=N?N.substituteConstants():void 0;return!A&&!B?!0:!A||!B?!1:A.equals(B)}e.expressionsAreEqualWithConstantSubstitution=C;function h(M,N){return M.cmp(N)}class g{constructor(){this.type=0}cmp(N){return this.type-N.type}equals(N){return N.type===this.type}substituteConstants(){return this}evaluate(N){return!1}serialize(){return"false"}keys(){return[]}negate(){return t.INSTANCE}}e.ContextKeyFalseExpr=g,g.INSTANCE=new g;class t{constructor(){this.type=1}cmp(N){return this.type-N.type}equals(N){return N.type===this.type}substituteConstants(){return this}evaluate(N){return!0}serialize(){return"true"}keys(){return[]}negate(){return g.INSTANCE}}e.ContextKeyTrueExpr=t,t.INSTANCE=new t;class i{static create(N,A=null){const B=D.get(N);return typeof B=="boolean"?B?t.INSTANCE:g.INSTANCE:new i(N,A)}constructor(N,A){this.key=N,this.negated=A,this.type=2}cmp(N){return N.type!==this.type?this.type-N.type:T(this.key,N.key)}equals(N){return N.type===this.type?this.key===N.key:!1}substituteConstants(){const N=D.get(this.key);return typeof N=="boolean"?N?t.INSTANCE:g.INSTANCE:this}evaluate(N){return!!N.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}negate(){return this.negated||(this.negated=d.create(this.key,this)),this.negated}}e.ContextKeyDefinedExpr=i;class n{static create(N,A,B=null){if(typeof A=="boolean")return A?i.create(N,B):d.create(N,B);const W=D.get(N);return typeof W=="boolean"?A===(W?"true":"false")?t.INSTANCE:g.INSTANCE:new n(N,A,B)}constructor(N,A,B){this.key=N,this.value=A,this.negated=B,this.type=4}cmp(N){return N.type!==this.type?this.type-N.type:I(this.key,this.value,N.key,N.value)}equals(N){return N.type===this.type?this.key===N.key&&this.value===N.value:!1}substituteConstants(){const N=D.get(this.key);if(typeof N=="boolean"){const A=N?"true":"false";return this.value===A?t.INSTANCE:g.INSTANCE}return this}evaluate(N){return N.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=c.create(this.key,this.value,this)),this.negated}}e.ContextKeyEqualsExpr=n;class o{static create(N,A){return new o(N,A)}constructor(N,A){this.key=N,this.valueKey=A,this.type=10,this.negated=null}cmp(N){return N.type!==this.type?this.type-N.type:I(this.key,this.valueKey,N.key,N.valueKey)}equals(N){return N.type===this.type?this.key===N.key&&this.valueKey===N.valueKey:!1}substituteConstants(){return this}evaluate(N){const A=N.getValue(this.valueKey),B=N.getValue(this.key);return Array.isArray(A)?A.includes(B):typeof B=="string"&&typeof A=="object"&&A!==null?L.call(A,B):!1}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}negate(){return this.negated||(this.negated=l.create(this.key,this.valueKey)),this.negated}}e.ContextKeyInExpr=o;class l{static create(N,A){return new l(N,A)}constructor(N,A){this.key=N,this.valueKey=A,this.type=11,this._negated=o.create(N,A)}cmp(N){return N.type!==this.type?this.type-N.type:this._negated.cmp(N._negated)}equals(N){return N.type===this.type?this._negated.equals(N._negated):!1}substituteConstants(){return this}evaluate(N){return!this._negated.evaluate(N)}serialize(){return`${this.key} not in '${this.valueKey}'`}keys(){return this._negated.keys()}negate(){return this._negated}}e.ContextKeyNotInExpr=l;class c{static create(N,A,B=null){if(typeof A=="boolean")return A?d.create(N,B):i.create(N,B);const W=D.get(N);return typeof W=="boolean"?A===(W?"true":"false")?g.INSTANCE:t.INSTANCE:new c(N,A,B)}constructor(N,A,B){this.key=N,this.value=A,this.negated=B,this.type=5}cmp(N){return N.type!==this.type?this.type-N.type:I(this.key,this.value,N.key,N.value)}equals(N){return N.type===this.type?this.key===N.key&&this.value===N.value:!1}substituteConstants(){const N=D.get(this.key);if(typeof N=="boolean"){const A=N?"true":"false";return this.value===A?g.INSTANCE:t.INSTANCE}return this}evaluate(N){return N.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=n.create(this.key,this.value,this)),this.negated}}e.ContextKeyNotEqualsExpr=c;class d{static create(N,A=null){const B=D.get(N);return typeof B=="boolean"?B?g.INSTANCE:t.INSTANCE:new d(N,A)}constructor(N,A){this.key=N,this.negated=A,this.type=3}cmp(N){return N.type!==this.type?this.type-N.type:T(this.key,N.key)}equals(N){return N.type===this.type?this.key===N.key:!1}substituteConstants(){const N=D.get(this.key);return typeof N=="boolean"?N?g.INSTANCE:t.INSTANCE:this}evaluate(N){return!N.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=i.create(this.key,this)),this.negated}}e.ContextKeyNotExpr=d;function r(M,N){if(typeof M=="string"){const A=parseFloat(M);isNaN(A)||(M=A)}return typeof M=="string"||typeof M=="number"?N(M):g.INSTANCE}class s{static create(N,A,B=null){return r(A,W=>new s(N,W,B))}constructor(N,A,B){this.key=N,this.value=A,this.negated=B,this.type=12}cmp(N){return N.type!==this.type?this.type-N.type:I(this.key,this.value,N.key,N.value)}equals(N){return N.type===this.type?this.key===N.key&&this.value===N.value:!1}substituteConstants(){return this}evaluate(N){return typeof this.value=="string"?!1:parseFloat(N.getValue(this.key))>this.value}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=p.create(this.key,this.value,this)),this.negated}}e.ContextKeyGreaterExpr=s;class a{static create(N,A,B=null){return r(A,W=>new a(N,W,B))}constructor(N,A,B){this.key=N,this.value=A,this.negated=B,this.type=13}cmp(N){return N.type!==this.type?this.type-N.type:I(this.key,this.value,N.key,N.value)}equals(N){return N.type===this.type?this.key===N.key&&this.value===N.value:!1}substituteConstants(){return this}evaluate(N){return typeof this.value=="string"?!1:parseFloat(N.getValue(this.key))>=this.value}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=u.create(this.key,this.value,this)),this.negated}}e.ContextKeyGreaterEqualsExpr=a;class u{static create(N,A,B=null){return r(A,W=>new u(N,W,B))}constructor(N,A,B){this.key=N,this.value=A,this.negated=B,this.type=14}cmp(N){return N.type!==this.type?this.type-N.type:I(this.key,this.value,N.key,N.value)}equals(N){return N.type===this.type?this.key===N.key&&this.value===N.value:!1}substituteConstants(){return this}evaluate(N){return typeof this.value=="string"?!1:parseFloat(N.getValue(this.key))<this.value}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=a.create(this.key,this.value,this)),this.negated}}e.ContextKeySmallerExpr=u;class p{static create(N,A,B=null){return r(A,W=>new p(N,W,B))}constructor(N,A,B){this.key=N,this.value=A,this.negated=B,this.type=15}cmp(N){return N.type!==this.type?this.type-N.type:I(this.key,this.value,N.key,N.value)}equals(N){return N.type===this.type?this.key===N.key&&this.value===N.value:!1}substituteConstants(){return this}evaluate(N){return typeof this.value=="string"?!1:parseFloat(N.getValue(this.key))<=this.value}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=s.create(this.key,this.value,this)),this.negated}}e.ContextKeySmallerEqualsExpr=p;class S{static create(N,A){return new S(N,A)}constructor(N,A){this.key=N,this.regexp=A,this.type=7,this.negated=null}cmp(N){if(N.type!==this.type)return this.type-N.type;if(this.key<N.key)return-1;if(this.key>N.key)return 1;const A=this.regexp?this.regexp.source:"",B=N.regexp?N.regexp.source:"";return A<B?-1:A>B?1:0}equals(N){if(N.type===this.type){const A=this.regexp?this.regexp.source:"",B=N.regexp?N.regexp.source:"";return this.key===N.key&&A===B}return!1}substituteConstants(){return this}evaluate(N){const A=N.getValue(this.key);return this.regexp?this.regexp.test(A):!1}serialize(){const N=this.regexp?`/${this.regexp.source}/${this.regexp.ignoreCase?"i":""}`:"/invalid/";return`${this.key} =~ ${N}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=f.create(this)),this.negated}}e.ContextKeyRegexExpr=S;class f{static create(N){return new f(N)}constructor(N){this._actual=N,this.type=8}cmp(N){return N.type!==this.type?this.type-N.type:this._actual.cmp(N._actual)}equals(N){return N.type===this.type?this._actual.equals(N._actual):!1}substituteConstants(){return this}evaluate(N){return!this._actual.evaluate(N)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}negate(){return this._actual}}e.ContextKeyNotRegexExpr=f;function v(M){let N=null;for(let A=0,B=M.length;A<B;A++){const W=M[A].substituteConstants();if(M[A]!==W&&N===null){N=[];for(let x=0;x<A;x++)N[x]=M[x]}N!==null&&(N[A]=W)}return N===null?M:N}class _{static create(N,A,B){return _._normalizeArr(N,A,B)}constructor(N,A){this.expr=N,this.negated=A,this.type=6}cmp(N){if(N.type!==this.type)return this.type-N.type;if(this.expr.length<N.expr.length)return-1;if(this.expr.length>N.expr.length)return 1;for(let A=0,B=this.expr.length;A<B;A++){const W=h(this.expr[A],N.expr[A]);if(W!==0)return W}return 0}equals(N){if(N.type===this.type){if(this.expr.length!==N.expr.length)return!1;for(let A=0,B=this.expr.length;A<B;A++)if(!this.expr[A].equals(N.expr[A]))return!1;return!0}return!1}substituteConstants(){const N=v(this.expr);return N===this.expr?this:_.create(N,this.negated,!1)}evaluate(N){for(let A=0,B=this.expr.length;A<B;A++)if(!this.expr[A].evaluate(N))return!1;return!0}static _normalizeArr(N,A,B){const W=[];let x=!1;for(const P of N)if(!!P){if(P.type===1){x=!0;continue}if(P.type===0)return g.INSTANCE;if(P.type===6){W.push(...P.expr);continue}W.push(P)}if(W.length===0&&x)return t.INSTANCE;if(W.length!==0){if(W.length===1)return W[0];W.sort(h);for(let P=1;P<W.length;P++)W[P-1].equals(W[P])&&(W.splice(P,1),P--);if(W.length===1)return W[0];for(;W.length>1;){const P=W[W.length-1];if(P.type!==9)break;W.pop();const X=W.pop(),ie=W.length===0,K=y.create(P.expr.map(G=>_.create([G,X],null,B)),null,ie);K&&(W.push(K),W.sort(h))}if(W.length===1)return W[0];if(B){for(let P=0;P<W.length;P++)for(let X=P+1;X<W.length;X++)if(W[P].negate().equals(W[X]))return g.INSTANCE;if(W.length===1)return W[0]}return new _(W,A)}}serialize(){return this.expr.map(N=>N.serialize()).join(" && ")}keys(){const N=[];for(const A of this.expr)N.push(...A.keys());return N}negate(){if(!this.negated){const N=[];for(const A of this.expr)N.push(A.negate());this.negated=y.create(N,this,!0)}return this.negated}}class y{static create(N,A,B){return y._normalizeArr(N,A,B)}constructor(N,A){this.expr=N,this.negated=A,this.type=9}cmp(N){if(N.type!==this.type)return this.type-N.type;if(this.expr.length<N.expr.length)return-1;if(this.expr.length>N.expr.length)return 1;for(let A=0,B=this.expr.length;A<B;A++){const W=h(this.expr[A],N.expr[A]);if(W!==0)return W}return 0}equals(N){if(N.type===this.type){if(this.expr.length!==N.expr.length)return!1;for(let A=0,B=this.expr.length;A<B;A++)if(!this.expr[A].equals(N.expr[A]))return!1;return!0}return!1}substituteConstants(){const N=v(this.expr);return N===this.expr?this:y.create(N,this.negated,!1)}evaluate(N){for(let A=0,B=this.expr.length;A<B;A++)if(this.expr[A].evaluate(N))return!0;return!1}static _normalizeArr(N,A,B){let W=[],x=!1;if(N){for(let P=0,X=N.length;P<X;P++){const ie=N[P];if(!!ie){if(ie.type===0){x=!0;continue}if(ie.type===1)return t.INSTANCE;if(ie.type===9){W=W.concat(ie.expr);continue}W.push(ie)}}if(W.length===0&&x)return g.INSTANCE;W.sort(h)}if(W.length!==0){if(W.length===1)return W[0];for(let P=1;P<W.length;P++)W[P-1].equals(W[P])&&(W.splice(P,1),P--);if(W.length===1)return W[0];if(B){for(let P=0;P<W.length;P++)for(let X=P+1;X<W.length;X++)if(W[P].negate().equals(W[X]))return t.INSTANCE;if(W.length===1)return W[0]}return new y(W,A)}}serialize(){return this.expr.map(N=>N.serialize()).join(" || ")}keys(){const N=[];for(const A of this.expr)N.push(...A.keys());return N}negate(){if(!this.negated){const N=[];for(const A of this.expr)N.push(A.negate());for(;N.length>1;){const A=N.shift(),B=N.shift(),W=[];for(const x of O(A))for(const P of O(B))W.push(_.create([x,P],null,!1));N.unshift(y.create(W,null,!1))}this.negated=y.create(N,this,!0)}return this.negated}}class E extends i{static all(){return E._info.values()}constructor(N,A,B){super(N,null),this._defaultValue=A,typeof B=="object"?E._info.push(Object.assign(Object.assign({},B),{key:N})):B!==!0&&E._info.push({key:N,description:B,type:A!=null?typeof A:void 0})}bindTo(N){return N.createKey(this.key,this._defaultValue)}getValue(N){return N.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(N){return n.create(this.key,N)}}e.RawContextKey=E,E._info=[],e.IContextKeyService=(0,k.createDecorator)("contextKeyService"),e.SET_CONTEXT_COMMAND_ID="setContext";function T(M,N){return M<N?-1:M>N?1:0}function I(M,N,A,B){return M<A?-1:M>A?1:N<B?-1:N>B?1:0}function R(M,N){if(M.type===0||N.type===1)return!0;if(M.type===9)return N.type===9?F(M.expr,N.expr):!1;if(N.type===9){for(const A of N.expr)if(R(M,A))return!0;return!1}if(M.type===6){if(N.type===6)return F(N.expr,M.expr);for(const A of M.expr)if(R(A,N))return!0;return!1}return M.equals(N)}e.implies=R;function F(M,N){let A=0,B=0;for(;A<M.length&&B<N.length;){const W=M[A].cmp(N[B]);if(W<0)return!1;W===0&&A++,B++}return A===M.length}function O(M){return M.type===9?M.expr:[M]}}),define(se[25],re([1,0,551,15]),function(q,e,w,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorContextKeys=void 0;var k;(function(D){D.editorSimpleInput=new m.RawContextKey("editorSimpleInput",!1,!0),D.editorTextFocus=new m.RawContextKey("editorTextFocus",!1,w.localize(0,null)),D.focus=new m.RawContextKey("editorFocus",!1,w.localize(1,null)),D.textInputFocus=new m.RawContextKey("textInputFocus",!1,w.localize(2,null)),D.readOnly=new m.RawContextKey("editorReadonly",!1,w.localize(3,null)),D.inDiffEditor=new m.RawContextKey("inDiffEditor",!1,w.localize(4,null)),D.columnSelection=new m.RawContextKey("editorColumnSelection",!1,w.localize(5,null)),D.writable=D.readOnly.toNegated(),D.hasNonEmptySelection=new m.RawContextKey("editorHasSelection",!1,w.localize(6,null)),D.hasOnlyEmptySelection=D.hasNonEmptySelection.toNegated(),D.hasMultipleSelections=new m.RawContextKey("editorHasMultipleSelections",!1,w.localize(7,null)),D.hasSingleSelection=D.hasMultipleSelections.toNegated(),D.tabMovesFocus=new m.RawContextKey("editorTabMovesFocus",!1,w.localize(8,null)),D.tabDoesNotMoveFocus=D.tabMovesFocus.toNegated(),D.isInWalkThroughSnippet=new m.RawContextKey("isInEmbeddedEditor",!1,!0),D.canUndo=new m.RawContextKey("canUndo",!1,!0),D.canRedo=new m.RawContextKey("canRedo",!1,!0),D.hoverVisible=new m.RawContextKey("editorHoverVisible",!1,w.localize(9,null)),D.inCompositeEditor=new m.RawContextKey("inCompositeEditor",void 0,w.localize(10,null)),D.notInCompositeEditor=D.inCompositeEditor.toNegated(),D.languageId=new m.RawContextKey("editorLangId","",w.localize(11,null)),D.hasCompletionItemProvider=new m.RawContextKey("editorHasCompletionItemProvider",!1,w.localize(12,null)),D.hasCodeActionsProvider=new m.RawContextKey("editorHasCodeActionsProvider",!1,w.localize(13,null)),D.hasCodeLensProvider=new m.RawContextKey("editorHasCodeLensProvider",!1,w.localize(14,null)),D.hasDefinitionProvider=new m.RawContextKey("editorHasDefinitionProvider",!1,w.localize(15,null)),D.hasDeclarationProvider=new m.RawContextKey("editorHasDeclarationProvider",!1,w.localize(16,null)),D.hasImplementationProvider=new m.RawContextKey("editorHasImplementationProvider",!1,w.localize(17,null)),D.hasTypeDefinitionProvider=new m.RawContextKey("editorHasTypeDefinitionProvider",!1,w.localize(18,null)),D.hasHoverProvider=new m.RawContextKey("editorHasHoverProvider",!1,w.localize(19,null)),D.hasDocumentHighlightProvider=new m.RawContextKey("editorHasDocumentHighlightProvider",!1,w.localize(20,null)),D.hasDocumentSymbolProvider=new m.RawContextKey("editorHasDocumentSymbolProvider",!1,w.localize(21,null)),D.hasReferenceProvider=new m.RawContextKey("editorHasReferenceProvider",!1,w.localize(22,null)),D.hasRenameProvider=new m.RawContextKey("editorHasRenameProvider",!1,w.localize(23,null)),D.hasSignatureHelpProvider=new m.RawContextKey("editorHasSignatureHelpProvider",!1,w.localize(24,null)),D.hasInlayHintsProvider=new m.RawContextKey("editorHasInlayHintsProvider",!1,w.localize(25,null)),D.hasDocumentFormattingProvider=new m.RawContextKey("editorHasDocumentFormattingProvider",!1,w.localize(26,null)),D.hasDocumentSelectionFormattingProvider=new m.RawContextKey("editorHasDocumentSelectionFormattingProvider",!1,w.localize(27,null)),D.hasMultipleDocumentFormattingProvider=new m.RawContextKey("editorHasMultipleDocumentFormattingProvider",!1,w.localize(28,null)),D.hasMultipleDocumentSelectionFormattingProvider=new m.RawContextKey("editorHasMultipleDocumentSelectionFormattingProvider",!1,w.localize(29,null))})(k=e.EditorContextKeys||(e.EditorContextKeys={}))}),define(se[215],re([1,0,21,14,19,22,11,28,20,61,26,15]),function(q,e,w,m,k,D,L,b,C,h,g,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.provideSignatureHelp=e.Context=void 0,e.Context={Visible:new t.RawContextKey("parameterHintsVisible",!1),MultipleSignatures:new t.RawContextKey("parameterHintsMultipleSignatures",!1)};function i(n,o,l,c,d){return Se(this,void 0,void 0,function*(){const r=n.ordered(o);for(const s of r)try{const a=yield s.provideSignatureHelp(o,l,d,c);if(a)return a}catch(a){(0,m.onUnexpectedExternalError)(a)}})}e.provideSignatureHelp=i,g.CommandsRegistry.registerCommand("_executeSignatureHelpProvider",(n,...o)=>Se(void 0,void 0,void 0,function*(){const[l,c,d]=o;(0,k.assertType)(D.URI.isUri(l)),(0,k.assertType)(L.Position.isIPosition(c)),(0,k.assertType)(typeof d=="string"||!d);const r=n.get(C.ILanguageFeaturesService),s=yield n.get(h.ITextModelService).createModelReference(l);try{const a=yield i(r.signatureHelpProvider,s.object.textEditorModel,L.Position.lift(c),{triggerKind:b.SignatureHelpTriggerKind.Invoke,isRetrigger:!1,triggerCharacter:d},w.CancellationToken.None);return a?(setTimeout(()=>a.dispose(),0),a.value):void 0}finally{s.dispose()}}))}),define(se[655],re([1,0,10,14,6,2,109,28,215]),function(q,e,w,m,k,D,L,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ParameterHintsModel=void 0;var h;(function(i){i.Default={type:0};class n{constructor(c,d){this.request=c,this.previouslyActiveHints=d,this.type=2}}i.Pending=n;class o{constructor(c){this.hints=c,this.type=1}}i.Active=o})(h||(h={}));class g extends D.Disposable{constructor(n,o,l=g.DEFAULT_DELAY){super(),this._onChangedHints=this._register(new k.Emitter),this.onChangedHints=this._onChangedHints.event,this.triggerOnType=!1,this._state=h.Default,this._pendingTriggers=[],this._lastSignatureHelpResult=this._register(new D.MutableDisposable),this.triggerChars=new L.CharacterSet,this.retriggerChars=new L.CharacterSet,this.triggerId=0,this.editor=n,this.providers=o,this.throttledDelayer=new w.Delayer(l),this._register(this.editor.onDidBlurEditorWidget(()=>this.cancel())),this._register(this.editor.onDidChangeConfiguration(()=>this.onEditorConfigurationChange())),this._register(this.editor.onDidChangeModel(c=>this.onModelChanged())),this._register(this.editor.onDidChangeModelLanguage(c=>this.onModelChanged())),this._register(this.editor.onDidChangeCursorSelection(c=>this.onCursorChange(c))),this._register(this.editor.onDidChangeModelContent(c=>this.onModelContentChange())),this._register(this.providers.onDidChange(this.onModelChanged,this)),this._register(this.editor.onDidType(c=>this.onDidType(c))),this.onEditorConfigurationChange(),this.onModelChanged()}get state(){return this._state}set state(n){this._state.type===2&&this._state.request.cancel(),this._state=n}cancel(n=!1){this.state=h.Default,this.throttledDelayer.cancel(),n||this._onChangedHints.fire(void 0)}trigger(n,o){const l=this.editor.getModel();if(!l||!this.providers.has(l))return;const c=++this.triggerId;this._pendingTriggers.push(n),this.throttledDelayer.trigger(()=>this.doTrigger(c),o).catch(m.onUnexpectedError)}next(){if(this.state.type!==1)return;const n=this.state.hints.signatures.length,o=this.state.hints.activeSignature,l=o%n===n-1,c=this.editor.getOption(77).cycle;if((n<2||l)&&!c){this.cancel();return}this.updateActiveSignature(l&&c?0:o+1)}previous(){if(this.state.type!==1)return;const n=this.state.hints.signatures.length,o=this.state.hints.activeSignature,l=o===0,c=this.editor.getOption(77).cycle;if((n<2||l)&&!c){this.cancel();return}this.updateActiveSignature(l&&c?n-1:o-1)}updateActiveSignature(n){this.state.type===1&&(this.state=new h.Active(Object.assign(Object.assign({},this.state.hints),{activeSignature:n})),this._onChangedHints.fire(this.state.hints))}doTrigger(n){return Se(this,void 0,void 0,function*(){const o=this.state.type===1||this.state.type===2,l=this.getLastActiveHints();if(this.cancel(!0),this._pendingTriggers.length===0)return!1;const c=this._pendingTriggers.reduce(t);this._pendingTriggers=[];const d={triggerKind:c.triggerKind,triggerCharacter:c.triggerCharacter,isRetrigger:o,activeSignatureHelp:l};if(!this.editor.hasModel())return!1;const r=this.editor.getModel(),s=this.editor.getPosition();this.state=new h.Pending((0,w.createCancelablePromise)(a=>(0,C.provideSignatureHelp)(this.providers,r,s,d,a)),l);try{const a=yield this.state.request;return n!==this.triggerId?(a?.dispose(),!1):!a||!a.value.signatures||a.value.signatures.length===0?(a?.dispose(),this._lastSignatureHelpResult.clear(),this.cancel(),!1):(this.state=new h.Active(a.value),this._lastSignatureHelpResult.value=a,this._onChangedHints.fire(this.state.hints),!0)}catch(a){return n===this.triggerId&&(this.state=h.Default),(0,m.onUnexpectedError)(a),!1}})}getLastActiveHints(){switch(this.state.type){case 1:return this.state.hints;case 2:return this.state.previouslyActiveHints;default:return}}get isTriggered(){return this.state.type===1||this.state.type===2||this.throttledDelayer.isTriggered()}onModelChanged(){this.cancel(),this.triggerChars=new L.CharacterSet,this.retriggerChars=new L.CharacterSet;const n=this.editor.getModel();if(!!n)for(const o of this.providers.ordered(n)){for(const l of o.signatureHelpTriggerCharacters||[])this.triggerChars.add(l.charCodeAt(0)),this.retriggerChars.add(l.charCodeAt(0));for(const l of o.signatureHelpRetriggerCharacters||[])this.retriggerChars.add(l.charCodeAt(0))}}onDidType(n){if(!this.triggerOnType)return;const o=n.length-1,l=n.charCodeAt(o);(this.triggerChars.has(l)||this.isTriggered&&this.retriggerChars.has(l))&&this.trigger({triggerKind:b.SignatureHelpTriggerKind.TriggerCharacter,triggerCharacter:n.charAt(o)})}onCursorChange(n){n.source==="mouse"?this.cancel():this.isTriggered&&this.trigger({triggerKind:b.SignatureHelpTriggerKind.ContentChange})}onModelContentChange(){this.isTriggered&&this.trigger({triggerKind:b.SignatureHelpTriggerKind.ContentChange})}onEditorConfigurationChange(){this.triggerOnType=this.editor.getOption(77).enabled,this.triggerOnType||this.cancel()}dispose(){this.cancel(!0),super.dispose()}}e.ParameterHintsModel=g,g.DEFAULT_DELAY=120;function t(i,n){switch(n.triggerKind){case b.SignatureHelpTriggerKind.Invoke:return n;case b.SignatureHelpTriggerKind.ContentChange:return i;case b.SignatureHelpTriggerKind.TriggerCharacter:default:return n}}}),define(se[656],re([1,0,15]),function(q,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestAlternatives=void 0;let m=class Vt{constructor(D,L){this._editor=D,this._index=0,this._ckOtherSuggestions=Vt.OtherSuggestions.bindTo(L)}dispose(){this.reset()}reset(){var D;this._ckOtherSuggestions.reset(),(D=this._listener)===null||D===void 0||D.dispose(),this._model=void 0,this._acceptNext=void 0,this._ignore=!1}set({model:D,index:L},b){if(D.items.length===0){this.reset();return}if(Vt._moveIndex(!0,D,L)===L){this.reset();return}this._acceptNext=b,this._model=D,this._index=L,this._listener=this._editor.onDidChangeCursorPosition(()=>{this._ignore||this.reset()}),this._ckOtherSuggestions.set(!0)}static _moveIndex(D,L,b){let C=b;for(;C=(C+L.items.length+(D?1:-1))%L.items.length,!(C===b||!L.items[C].completion.additionalTextEdits););return C}next(){this._move(!0)}prev(){this._move(!1)}_move(D){if(!!this._model)try{this._ignore=!0,this._index=Vt._moveIndex(D,this._model,this._index),this._acceptNext({index:this._index,item:this._model.items[this._index],model:this._model})}finally{this._ignore=!1}}};m.OtherSuggestions=new w.RawContextKey("hasOtherSuggestions",!1),m=De([fe(1,w.IContextKeyService)],m),e.SuggestAlternatives=m}),define(se[657],re([1,0,15]),function(q,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordContextKey=void 0;let m=class ki{constructor(D,L){this._editor=D,this._enabled=!1,this._ckAtEnd=ki.AtEnd.bindTo(L),this._configListener=this._editor.onDidChangeConfiguration(b=>b.hasChanged(113)&&this._update()),this._update()}dispose(){var D;this._configListener.dispose(),(D=this._selectionListener)===null||D===void 0||D.dispose(),this._ckAtEnd.reset()}_update(){const D=this._editor.getOption(113)==="on";if(this._enabled!==D)if(this._enabled=D,this._enabled){const L=()=>{if(!this._editor.hasModel()){this._ckAtEnd.set(!1);return}const b=this._editor.getModel(),C=this._editor.getSelection(),h=b.getWordAtPosition(C.getStartPosition());if(!h){this._ckAtEnd.set(!1);return}this._ckAtEnd.set(h.endColumn===C.getStartPosition().column)};this._selectionListener=this._editor.onDidChangeCursorSelection(L),L()}else this._selectionListener&&(this._ckAtEnd.reset(),this._selectionListener.dispose(),this._selectionListener=void 0)}};m.AtEnd=new w.RawContextKey("atEndOfWord",!1),m=De([fe(1,w.IContextKeyService)],m),e.WordContextKey=m}),define(se[79],re([1,0,15,9]),function(q,e,w,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CONTEXT_ACCESSIBILITY_MODE_ENABLED=e.IAccessibilityService=void 0,e.IAccessibilityService=(0,m.createDecorator)("accessibilityService"),e.CONTEXT_ACCESSIBILITY_MODE_ENABLED=new w.RawContextKey("accessibilityModeEnabled",!1)}),define(se[658],re([1,0,42,18,6,2,36,17,274,284,411,275,38,165,212,79]),function(q,e,w,m,k,D,L,b,C,h,g,t,i,n,o,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ComputedEditorOptions=e.EditorConfiguration=void 0;let c=class extends D.Disposable{constructor(f,v,_,y){super(),this._accessibilityService=y,this._onDidChange=this._register(new k.Emitter),this.onDidChange=this._onDidChange.event,this._onDidChangeFast=this._register(new k.Emitter),this.onDidChangeFast=this._onDidChangeFast.event,this._isDominatedByLongLines=!1,this._viewLineCount=1,this._lineNumbersDigitCount=1,this._reservedHeight=0,this._computeOptionsMemory=new i.ComputeOptionsMemory,this.isSimpleWidget=f,this._containerObserver=this._register(new C.ElementSizeObserver(_,v.dimension)),this._rawOptions=p(v),this._validatedOptions=u.validateOptions(this._rawOptions),this.options=this._computeOptions(),this.options.get(10)&&this._containerObserver.startObserving(),this._register(n.EditorZoom.onDidChangeZoomLevel(()=>this._recomputeOptions())),this._register(t.TabFocus.onDidChangeTabFocus(()=>this._recomputeOptions())),this._register(this._containerObserver.onDidChange(()=>this._recomputeOptions())),this._register(h.FontMeasurements.onDidChange(()=>this._recomputeOptions())),this._register(w.PixelRatio.onDidChange(()=>this._recomputeOptions())),this._register(this._accessibilityService.onDidChangeScreenReaderOptimized(()=>this._recomputeOptions()))}_recomputeOptions(){const f=this._computeOptions(),v=u.checkEquals(this.options,f);v!==null&&(this.options=f,this._onDidChangeFast.fire(v),this._onDidChange.fire(v))}_computeOptions(){const f=this._readEnvConfiguration(),v=o.BareFontInfo.createFromValidatedSettings(this._validatedOptions,f.pixelRatio,this.isSimpleWidget),_=this._readFontInfo(v),y={memory:this._computeOptionsMemory,outerWidth:f.outerWidth,outerHeight:f.outerHeight-this._reservedHeight,fontInfo:_,extraEditorClassName:f.extraEditorClassName,isDominatedByLongLines:this._isDominatedByLongLines,viewLineCount:this._viewLineCount,lineNumbersDigitCount:this._lineNumbersDigitCount,emptySelectionClipboard:f.emptySelectionClipboard,pixelRatio:f.pixelRatio,tabFocusMode:t.TabFocus.getTabFocusMode(),accessibilitySupport:f.accessibilitySupport};return u.computeOptions(this._validatedOptions,y)}_readEnvConfiguration(){return{extraEditorClassName:r(),outerWidth:this._containerObserver.getWidth(),outerHeight:this._containerObserver.getHeight(),emptySelectionClipboard:w.isWebKit||w.isFirefox,pixelRatio:w.PixelRatio.value,accessibilitySupport:this._accessibilityService.isScreenReaderOptimized()?2:this._accessibilityService.getAccessibilitySupport()}}_readFontInfo(f){return h.FontMeasurements.readFontInfo(f)}getRawOptions(){return this._rawOptions}updateOptions(f){const v=p(f);!u.applyUpdate(this._rawOptions,v)||(this._validatedOptions=u.validateOptions(this._rawOptions),this._recomputeOptions())}observeContainer(f){this._containerObserver.observe(f)}setIsDominatedByLongLines(f){this._isDominatedByLongLines!==f&&(this._isDominatedByLongLines=f,this._recomputeOptions())}setModelLineCount(f){const v=d(f);this._lineNumbersDigitCount!==v&&(this._lineNumbersDigitCount=v,this._recomputeOptions())}setViewLineCount(f){this._viewLineCount!==f&&(this._viewLineCount=f,this._recomputeOptions())}setReservedHeight(f){this._reservedHeight!==f&&(this._reservedHeight=f,this._recomputeOptions())}};c=De([fe(3,l.IAccessibilityService)],c),e.EditorConfiguration=c;function d(S){let f=0;for(;S;)S=Math.floor(S/10),f++;return f||1}function r(){let S="";return!w.isSafari&&!w.isWebkitWebView&&(S+="no-user-select "),w.isSafari&&(S+="no-minimap-shadow ",S+="enable-user-select "),b.isMacintosh&&(S+="mac "),S}class s{constructor(){this._values=[]}_read(f){return this._values[f]}get(f){return this._values[f]}_write(f,v){this._values[f]=v}}class a{constructor(){this._values=[]}_read(f){if(f>=this._values.length)throw new Error("Cannot read uninitialized value");return this._values[f]}get(f){return this._read(f)}_write(f,v){this._values[f]=v}}e.ComputedEditorOptions=a;class u{static validateOptions(f){const v=new s;for(const _ of i.editorOptionsRegistry){const y=_.name==="_never_"?void 0:f[_.name];v._write(_.id,_.validate(y))}return v}static computeOptions(f,v){const _=new a;for(const y of i.editorOptionsRegistry)_._write(y.id,y.compute(v,_,f._read(y.id)));return _}static _deepEquals(f,v){if(typeof f!="object"||typeof v!="object"||!f||!v)return f===v;if(Array.isArray(f)||Array.isArray(v))return Array.isArray(f)&&Array.isArray(v)?m.equals(f,v):!1;if(Object.keys(f).length!==Object.keys(v).length)return!1;for(const _ in f)if(!u._deepEquals(f[_],v[_]))return!1;return!0}static checkEquals(f,v){const _=[];let y=!1;for(const E of i.editorOptionsRegistry){const T=!u._deepEquals(f._read(E.id),v._read(E.id));_[E.id]=T,T&&(y=!0)}return y?new i.ConfigurationChangedEvent(_):null}static applyUpdate(f,v){let _=!1;for(const y of i.editorOptionsRegistry)if(v.hasOwnProperty(y.name)){const E=y.applyUpdate(f[y.name],v[y.name]);f[y.name]=E.newValue,_=_||E.didChange}return _}}function p(S){const f=L.deepClone(S);return(0,g.migrateOptions)(f),f}}),define(se[292],re([1,0,17,634,15]),function(q,e,w,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InputFocusedContext=e.InputFocusedContextKey=e.ProductQualityContext=e.IsDevelopmentContext=e.IsMobileContext=e.IsIOSContext=e.IsMacNativeContext=e.IsWebContext=e.IsWindowsContext=e.IsLinuxContext=e.IsMacContext=void 0,e.IsMacContext=new k.RawContextKey("isMac",w.isMacintosh,(0,m.localize)(0,null)),e.IsLinuxContext=new k.RawContextKey("isLinux",w.isLinux,(0,m.localize)(1,null)),e.IsWindowsContext=new k.RawContextKey("isWindows",w.isWindows,(0,m.localize)(2,null)),e.IsWebContext=new k.RawContextKey("isWeb",w.isWeb,(0,m.localize)(3,null)),e.IsMacNativeContext=new k.RawContextKey("isMacNative",w.isMacintosh&&!w.isWeb,(0,m.localize)(4,null)),e.IsIOSContext=new k.RawContextKey("isIOS",w.isIOS,(0,m.localize)(5,null)),e.IsMobileContext=new k.RawContextKey("isMobile",w.isMobile,(0,m.localize)(6,null)),e.IsDevelopmentContext=new k.RawContextKey("isDevelopment",!1,!0),e.ProductQualityContext=new k.RawContextKey("productQualityType","",(0,m.localize)(7,null)),e.InputFocusedContextKey="inputFocus",e.InputFocusedContext=new k.RawContextKey(e.InputFocusedContextKey,!1,(0,m.localize)(8,null))}),define(se[71],re([1,0,9]),function(q,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IContextMenuService=e.IContextViewService=void 0,e.IContextViewService=(0,w.createDecorator)("contextViewService"),e.IContextMenuService=(0,w.createDecorator)("contextMenuService")}),define(se[142],re([1,0,9]),function(q,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IDialogService=void 0,e.IDialogService=(0,w.createDecorator)("dialogService")}),define(se[169],re([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ServiceCollection=void 0;class w{constructor(...k){this._entries=new Map;for(const[D,L]of k)this.set(D,L)}set(k,D){const L=this._entries.get(k);return this._entries.set(k,D),L}get(k){return this._entries.get(k)}}e.ServiceCollection=w}),define(se[659],re([1,0,10,14,2,213,650,9,169,58]),function(q,e,w,m,k,D,L,b,C,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Trace=e.InstantiationService=void 0;const g=!1;class t extends Error{constructor(l){var c;super("cyclic dependency between services"),this.message=(c=l.findCycleSlow())!==null&&c!==void 0?c:`UNABLE to detect cycle, dumping graph: 
${l.toString()}`}}class i{constructor(l=new C.ServiceCollection,c=!1,d,r=g){var s;this._services=l,this._strict=c,this._parent=d,this._enableTracing=r,this._activeInstantiations=new Set,this._services.set(b.IInstantiationService,this),this._globalGraph=r?(s=d?._globalGraph)!==null&&s!==void 0?s:new L.Graph(a=>a):void 0}createChild(l){return new i(l,this._strict,this,this._enableTracing)}invokeFunction(l,...c){const d=n.traceInvocation(this._enableTracing,l);let r=!1;try{return l({get:a=>{if(r)throw(0,m.illegalState)("service accessor is only valid during the invocation of its target method");const u=this._getOrCreateServiceInstance(a,d);if(!u)throw new Error(`[invokeFunction] unknown service '${a}'`);return u}},...c)}finally{r=!0,d.stop()}}createInstance(l,...c){let d,r;return l instanceof D.SyncDescriptor?(d=n.traceCreation(this._enableTracing,l.ctor),r=this._createInstance(l.ctor,l.staticArguments.concat(c),d)):(d=n.traceCreation(this._enableTracing,l),r=this._createInstance(l,c,d)),d.stop(),r}_createInstance(l,c=[],d){const r=b._util.getServiceDependencies(l).sort((u,p)=>u.index-p.index),s=[];for(const u of r){const p=this._getOrCreateServiceInstance(u.id,d);p||this._throwIfStrict(`[createInstance] ${l.name} depends on UNKNOWN service ${u.id}.`,!1),s.push(p)}const a=r.length>0?r[0].index:c.length;if(c.length!==a){console.trace(`[createInstance] First service dependency of ${l.name} at position ${a+1} conflicts with ${c.length} static arguments`);const u=a-c.length;u>0?c=c.concat(new Array(u)):c=c.slice(0,a)}return Reflect.construct(l,c.concat(s))}_setServiceInstance(l,c){if(this._services.get(l)instanceof D.SyncDescriptor)this._services.set(l,c);else if(this._parent)this._parent._setServiceInstance(l,c);else throw new Error("illegalState - setting UNKNOWN service instance")}_getServiceInstanceOrDescriptor(l){const c=this._services.get(l);return!c&&this._parent?this._parent._getServiceInstanceOrDescriptor(l):c}_getOrCreateServiceInstance(l,c){this._globalGraph&&this._globalGraphImplicitDependency&&this._globalGraph.insertEdge(this._globalGraphImplicitDependency,String(l));const d=this._getServiceInstanceOrDescriptor(l);return d instanceof D.SyncDescriptor?this._safeCreateAndCacheServiceInstance(l,d,c.branch(l,!0)):(c.branch(l,!1),d)}_safeCreateAndCacheServiceInstance(l,c,d){if(this._activeInstantiations.has(l))throw new Error(`illegal state - RECURSIVELY instantiating service '${l}'`);this._activeInstantiations.add(l);try{return this._createAndCacheServiceInstance(l,c,d)}finally{this._activeInstantiations.delete(l)}}_createAndCacheServiceInstance(l,c,d){var r;const s=new L.Graph(p=>p.id.toString());let a=0;const u=[{id:l,desc:c,_trace:d}];for(;u.length;){const p=u.pop();if(s.lookupOrInsertNode(p),a++>1e3)throw new t(s);for(const S of b._util.getServiceDependencies(p.desc.ctor)){const f=this._getServiceInstanceOrDescriptor(S.id);if(f||this._throwIfStrict(`[createInstance] ${l} depends on ${S.id} which is NOT registered.`,!0),(r=this._globalGraph)===null||r===void 0||r.insertEdge(String(p.id),String(S.id)),f instanceof D.SyncDescriptor){const v={id:S.id,desc:f,_trace:p._trace.branch(S.id,!0)};s.insertEdge(p,v),u.push(v)}}}for(;;){const p=s.roots();if(p.length===0){if(!s.isEmpty())throw new t(s);break}for(const{data:S}of p){if(this._getServiceInstanceOrDescriptor(S.id)instanceof D.SyncDescriptor){const v=this._createServiceInstanceWithOwner(S.id,S.desc.ctor,S.desc.staticArguments,S.desc.supportsDelayedInstantiation,S._trace);this._setServiceInstance(S.id,v)}s.removeNode(S)}}return this._getServiceInstanceOrDescriptor(l)}_createServiceInstanceWithOwner(l,c,d=[],r,s){if(this._services.get(l)instanceof D.SyncDescriptor)return this._createServiceInstance(l,c,d,r,s);if(this._parent)return this._parent._createServiceInstanceWithOwner(l,c,d,r,s);throw new Error(`illegalState - creating UNKNOWN service instance ${c.name}`)}_createServiceInstance(l,c,d=[],r,s){if(r){const a=new i(void 0,this._strict,this,this._enableTracing);a._globalGraphImplicitDependency=String(l);const u=new Map,p=new w.IdleValue(()=>{const S=a._createInstance(c,d,s);for(const[f,v]of u){const _=S[f];if(typeof _=="function")for(const y of v)_.apply(S,y)}return u.clear(),S});return new Proxy(Object.create(null),{get(S,f){if(!p.isInitialized&&typeof f=="string"&&(f.startsWith("onDid")||f.startsWith("onWill"))){let y=u.get(f);return y||(y=new h.LinkedList,u.set(f,y)),(T,I,R)=>{const F=y.push([T,I,R]);return(0,k.toDisposable)(F)}}if(f in S)return S[f];const v=p.value;let _=v[f];return typeof _!="function"||(_=_.bind(v),S[f]=_),_},set(S,f,v){return p.value[f]=v,!0}})}else return this._createInstance(c,d,s)}_throwIfStrict(l,c){if(c&&console.warn(l),this._strict)throw new Error(l)}}e.InstantiationService=i;class n{static traceInvocation(l,c){return l?new n(1,c.name||new Error().stack.split(`
`).slice(3,4).join(`
`)):n._None}static traceCreation(l,c){return l?new n(0,c.name):n._None}constructor(l,c){this.type=l,this.name=c,this._start=Date.now(),this._dep=[]}branch(l,c){const d=new n(2,l.toString());return this._dep.push([l,c,d]),d}stop(){const l=Date.now()-this._start;n._totals+=l;let c=!1;function d(s,a){const u=[],p=new Array(s+1).join("	");for(const[S,f,v]of a._dep)if(f&&v){c=!0,u.push(`${p}CREATES -> ${S}`);const _=d(s+1,v);_&&u.push(_)}else u.push(`${p}uses -> ${S}`);return u.join(`
`)}const r=[`${this.type===0?"CREATE":"CALL"} ${this.name}`,`${d(1,this)}`,`DONE, took ${l.toFixed(2)}ms (grand total ${n._totals.toFixed(2)}ms)`];(l>2||c)&&n.all.add(r.join(`
`))}}e.Trace=n,n.all=new Set,n._None=new class extends n{constructor(){super(-1,null)}stop(){}branch(){return this}},n._totals=0}),define(se[660],re([1,0,10,6,2,636]),function(q,e,w,m,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractKeybindingService=void 0;const L=/^(cursor|delete|undo|redo|tab|editor\.action\.clipboard)/;class b extends k.Disposable{get onDidUpdateKeybindings(){return this._onDidUpdateKeybindings?this._onDidUpdateKeybindings.event:m.Event.None}constructor(g,t,i,n,o){super(),this._contextKeyService=g,this._commandService=t,this._telemetryService=i,this._notificationService=n,this._logService=o,this._onDidUpdateKeybindings=this._register(new m.Emitter),this._currentChord=null,this._currentChordChecker=new w.IntervalTimer,this._currentChordStatusMessage=null,this._ignoreSingleModifiers=C.EMPTY,this._currentSingleModifier=null,this._currentSingleModifierClearTimeout=new w.TimeoutTimer,this._logging=!1}dispose(){super.dispose()}_log(g){this._logging&&this._logService.info(`[KeybindingService]: ${g}`)}getKeybindings(){return this._getResolver().getKeybindings()}lookupKeybinding(g,t){const i=this._getResolver().lookupPrimaryKeybinding(g,t||this._contextKeyService);if(!!i)return i.resolvedKeybinding}dispatchEvent(g,t){return this._dispatch(g,t)}softDispatch(g,t){this._log("/ Soft dispatching keyboard event");const i=this.resolveKeyboardEvent(g);if(i.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),null;const[n]=i.getDispatchParts();if(n===null)return this._log("\\ Keyboard event cannot be dispatched"),null;const o=this._contextKeyService.getContext(t),l=this._currentChord?this._currentChord.keypress:null;return this._getResolver().resolve(o,l,n)}_enterChordMode(g,t){this._currentChord={keypress:g,label:t},this._currentChordStatusMessage=this._notificationService.status(D.localize(0,null,t));const i=Date.now();this._currentChordChecker.cancelAndSet(()=>{if(!this._documentHasFocus()){this._leaveChordMode();return}Date.now()-i>5e3&&this._leaveChordMode()},500)}_leaveChordMode(){this._currentChordStatusMessage&&(this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null),this._currentChordChecker.cancel(),this._currentChord=null}_dispatch(g,t){return this._doDispatch(this.resolveKeyboardEvent(g),t,!1)}_singleModifierDispatch(g,t){const i=this.resolveKeyboardEvent(g),[n]=i.getSingleModifierDispatchParts();if(n)return this._ignoreSingleModifiers.has(n)?(this._log(`+ Ignoring single modifier ${n} due to it being pressed together with other keys.`),this._ignoreSingleModifiers=C.EMPTY,this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1):(this._ignoreSingleModifiers=C.EMPTY,this._currentSingleModifier===null?(this._log(`+ Storing single modifier for possible chord ${n}.`),this._currentSingleModifier=n,this._currentSingleModifierClearTimeout.cancelAndSet(()=>{this._log("+ Clearing single modifier due to 300ms elapsed."),this._currentSingleModifier=null},300),!1):n===this._currentSingleModifier?(this._log(`/ Dispatching single modifier chord ${n} ${n}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,this._doDispatch(i,t,!0)):(this._log(`+ Clearing single modifier due to modifier mismatch: ${this._currentSingleModifier} ${n}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1));const[o]=i.getParts();return this._ignoreSingleModifiers=new C(o),this._currentSingleModifier!==null&&this._log("+ Clearing single modifier due to other key up."),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1}_doDispatch(g,t,i=!1){let n=!1;if(g.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),!1;let o=null,l=null;if(i){const[s]=g.getSingleModifierDispatchParts();o=s,l=s}else[o]=g.getDispatchParts(),l=this._currentChord?this._currentChord.keypress:null;if(o===null)return this._log("\\ Keyboard event cannot be dispatched in keydown phase."),n;const c=this._contextKeyService.getContext(t),d=g.getLabel(),r=this._getResolver().resolve(c,l,o);return this._logService.trace("KeybindingService#dispatch",d,r?.commandId),r&&r.enterChord?(n=!0,this._enterChordMode(o,d),this._log("+ Entering chord mode..."),n):(this._currentChord&&(!r||!r.commandId)&&(this._log(`+ Leaving chord mode: Nothing bound to "${this._currentChord.label} ${d}".`),this._notificationService.status(D.localize(1,null,this._currentChord.label,d),{hideAfter:10*1e3}),n=!0),this._leaveChordMode(),r&&r.commandId&&(r.bubble||(n=!0),this._log(`+ Invoking command ${r.commandId}.`),typeof r.commandArgs>"u"?this._commandService.executeCommand(r.commandId).then(void 0,s=>this._notificationService.warn(s)):this._commandService.executeCommand(r.commandId,r.commandArgs).then(void 0,s=>this._notificationService.warn(s)),L.test(r.commandId)||this._telemetryService.publicLog2("workbenchActionExecuted",{id:r.commandId,from:"keybinding"})),n)}mightProducePrintableCharacter(g){return g.ctrlKey||g.metaKey?!1:g.keyCode>=31&&g.keyCode<=56||g.keyCode>=21&&g.keyCode<=30}}e.AbstractKeybindingService=b;class C{constructor(g){this._ctrlKey=g?g.ctrlKey:!1,this._shiftKey=g?g.shiftKey:!1,this._altKey=g?g.altKey:!1,this._metaKey=g?g.metaKey:!1}has(g){switch(g){case"ctrl":return this._ctrlKey;case"shift":return this._shiftKey;case"alt":return this._altKey;case"meta":return this._metaKey}}}C.EMPTY=new C(null)}),define(se[661],re([1,0,14,196,106]),function(q,e,w,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BaseResolvedKeybinding=void 0;class D extends k.ResolvedKeybinding{constructor(b,C){if(super(),C.length===0)throw(0,w.illegalArgument)("parts");this._os=b,this._parts=C}getLabel(){return m.UILabelProvider.toLabel(this._os,this._parts,b=>this._getLabel(b))}getAriaLabel(){return m.AriaLabelProvider.toLabel(this._os,this._parts,b=>this._getAriaLabel(b))}getElectronAccelerator(){return this._parts.length>1||this._parts[0].isDuplicateModifierCase()?null:m.ElectronAcceleratorLabelProvider.toLabel(this._os,this._parts,b=>this._getElectronAccelerator(b))}isChord(){return this._parts.length>1}getParts(){return this._parts.map(b=>this._getPart(b))}_getPart(b){return new k.ResolvedKeybindingPart(b.ctrlKey,b.shiftKey,b.altKey,b.metaKey,this._getLabel(b),this._getAriaLabel(b))}getDispatchParts(){return this._parts.map(b=>this._getDispatchPart(b))}getSingleModifierDispatchParts(){return this._parts.map(b=>this._getSingleModifierDispatchPart(b))}}e.BaseResolvedKeybinding=D}),define(se[41],re([1,0,9]),function(q,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IKeybindingService=void 0,e.IKeybindingService=(0,w.createDecorator)("keybindingService")}),define(se[662],re([1,0,15]),function(q,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeybindingResolver=void 0;class m{constructor(b,C,h){this._log=h,this._defaultKeybindings=b,this._defaultBoundCommands=new Map;for(const g of b){const t=g.command;t&&t.charAt(0)!=="-"&&this._defaultBoundCommands.set(t,!0)}this._map=new Map,this._lookupMap=new Map,this._keybindings=m.handleRemovals([].concat(b).concat(C));for(let g=0,t=this._keybindings.length;g<t;g++){const i=this._keybindings[g];i.keypressParts.length!==0&&(i.when&&i.when.type===0||this._addKeyPress(i.keypressParts[0],i))}}static _isTargetedForRemoval(b,C,h,g){return!(C&&b.keypressParts[0]!==C||h&&b.keypressParts[1]!==h||g&&g.type!==1&&(!b.when||!(0,w.expressionsAreEqualWithConstantSubstitution)(g,b.when)))}static handleRemovals(b){const C=new Map;for(let g=0,t=b.length;g<t;g++){const i=b[g];if(i.command&&i.command.charAt(0)==="-"){const n=i.command.substring(1);C.has(n)?C.get(n).push(i):C.set(n,[i])}}if(C.size===0)return b;const h=[];for(let g=0,t=b.length;g<t;g++){const i=b[g];if(!i.command||i.command.length===0){h.push(i);continue}if(i.command.charAt(0)==="-")continue;const n=C.get(i.command);if(!n||!i.isDefault){h.push(i);continue}let o=!1;for(const l of n){const c=l.keypressParts[0],d=l.keypressParts[1],r=l.when;if(this._isTargetedForRemoval(i,c,d,r)){o=!0;break}}if(!o){h.push(i);continue}}return h}_addKeyPress(b,C){const h=this._map.get(b);if(typeof h>"u"){this._map.set(b,[C]),this._addToLookupMap(C);return}for(let g=h.length-1;g>=0;g--){const t=h[g];if(t.command===C.command)continue;const i=t.keypressParts.length>1,n=C.keypressParts.length>1;i&&n&&t.keypressParts[1]!==C.keypressParts[1]||m.whenIsEntirelyIncluded(t.when,C.when)&&this._removeFromLookupMap(t)}h.push(C),this._addToLookupMap(C)}_addToLookupMap(b){if(!b.command)return;let C=this._lookupMap.get(b.command);typeof C>"u"?(C=[b],this._lookupMap.set(b.command,C)):C.push(b)}_removeFromLookupMap(b){if(!b.command)return;const C=this._lookupMap.get(b.command);if(!(typeof C>"u")){for(let h=0,g=C.length;h<g;h++)if(C[h]===b){C.splice(h,1);return}}}static whenIsEntirelyIncluded(b,C){return!C||C.type===1?!0:!b||b.type===1?!1:(0,w.implies)(b,C)}getKeybindings(){return this._keybindings}lookupPrimaryKeybinding(b,C){const h=this._lookupMap.get(b);if(typeof h>"u"||h.length===0)return null;if(h.length===1)return h[0];for(let g=h.length-1;g>=0;g--){const t=h[g];if(C.contextMatchesRules(t.when))return t}return h[h.length-1]}resolve(b,C,h){this._log(`| Resolving ${h}${C?` chorded from ${C}`:""}`);let g=null;if(C!==null){const i=this._map.get(C);if(typeof i>"u")return this._log("\\ No keybinding entries."),null;g=[];for(let n=0,o=i.length;n<o;n++){const l=i[n];l.keypressParts[1]===h&&g.push(l)}}else{const i=this._map.get(h);if(typeof i>"u")return this._log("\\ No keybinding entries."),null;g=i}const t=this._findCommand(b,g);return t?C===null&&t.keypressParts.length>1&&t.keypressParts[1]!==null?(this._log(`\\ From ${g.length} keybinding entries, matched chord, when: ${k(t.when)}, source: ${D(t)}.`),{enterChord:!0,leaveChord:!1,commandId:null,commandArgs:null,bubble:!1}):(this._log(`\\ From ${g.length} keybinding entries, matched ${t.command}, when: ${k(t.when)}, source: ${D(t)}.`),{enterChord:!1,leaveChord:t.keypressParts.length>1,commandId:t.command,commandArgs:t.commandArgs,bubble:t.bubble}):(this._log(`\\ From ${g.length} keybinding entries, no when clauses matched the context.`),null)}_findCommand(b,C){for(let h=C.length-1;h>=0;h--){const g=C[h];if(!!m._contextMatchesRules(b,g.when))return g}return null}static _contextMatchesRules(b,C){return C?C.evaluate(b):!0}}e.KeybindingResolver=m;function k(L){return L?`${L.serialize()}`:"no when condition"}function D(L){return L.extensionId?L.isBuiltinExtension?`built-in extension ${L.extensionId}`:`user extension ${L.extensionId}`:L.isDefault?"built-in":"user"}}),define(se[293],re([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.removeElementsAfterNulls=e.ResolvedKeybindingItem=void 0;class w{constructor(D,L,b,C,h,g,t){this._resolvedKeybindingItemBrand=void 0,this.resolvedKeybinding=D,this.keypressParts=D?m(D.getDispatchParts()):[],D&&this.keypressParts.length===0&&(this.keypressParts=m(D.getSingleModifierDispatchParts())),this.bubble=L?L.charCodeAt(0)===94:!1,this.command=this.bubble?L.substr(1):L,this.commandArgs=b,this.when=C,this.isDefault=h,this.extensionId=g,this.isBuiltinExtension=t}}e.ResolvedKeybindingItem=w;function m(k){const D=[];for(let L=0,b=k.length;L<b;L++){const C=k[L];if(!C)return D;D.push(C)}return D}e.removeElementsAfterNulls=m}),define(se[663],re([1,0,57,106,661,293]),function(q,e,w,m,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.USLayoutResolvedKeybinding=void 0;class L extends k.BaseResolvedKeybinding{constructor(C,h){super(h,C.parts)}_keyCodeToUILabel(C){if(this._os===2)switch(C){case 15:return"\u2190";case 16:return"\u2191";case 17:return"\u2192";case 18:return"\u2193"}return w.KeyCodeUtils.toString(C)}_getLabel(C){return C.isDuplicateModifierCase()?"":this._keyCodeToUILabel(C.keyCode)}_getAriaLabel(C){return C.isDuplicateModifierCase()?"":w.KeyCodeUtils.toString(C.keyCode)}_getElectronAccelerator(C){return w.KeyCodeUtils.toElectronAccelerator(C.keyCode)}_getDispatchPart(C){return L.getDispatchStr(C)}static getDispatchStr(C){if(C.isModifierKey())return null;let h="";return C.ctrlKey&&(h+="ctrl+"),C.shiftKey&&(h+="shift+"),C.altKey&&(h+="alt+"),C.metaKey&&(h+="meta+"),h+=w.KeyCodeUtils.toString(C.keyCode),h}_getSingleModifierDispatchPart(C){return C.keyCode===5&&!C.shiftKey&&!C.altKey&&!C.metaKey?"ctrl":C.keyCode===4&&!C.ctrlKey&&!C.altKey&&!C.metaKey?"shift":C.keyCode===6&&!C.ctrlKey&&!C.shiftKey&&!C.metaKey?"alt":C.keyCode===57&&!C.ctrlKey&&!C.shiftKey&&!C.altKey?"meta":null}static _scanCodeToKeyCode(C){const h=w.IMMUTABLE_CODE_TO_KEY_CODE[C];if(h!==-1)return h;switch(C){case 10:return 31;case 11:return 32;case 12:return 33;case 13:return 34;case 14:return 35;case 15:return 36;case 16:return 37;case 17:return 38;case 18:return 39;case 19:return 40;case 20:return 41;case 21:return 42;case 22:return 43;case 23:return 44;case 24:return 45;case 25:return 46;case 26:return 47;case 27:return 48;case 28:return 49;case 29:return 50;case 30:return 51;case 31:return 52;case 32:return 53;case 33:return 54;case 34:return 55;case 35:return 56;case 36:return 22;case 37:return 23;case 38:return 24;case 39:return 25;case 40:return 26;case 41:return 27;case 42:return 28;case 43:return 29;case 44:return 30;case 45:return 21;case 51:return 83;case 52:return 81;case 53:return 87;case 54:return 89;case 55:return 88;case 56:return 0;case 57:return 80;case 58:return 90;case 59:return 86;case 60:return 82;case 61:return 84;case 62:return 85;case 106:return 92}return 0}static _resolveSimpleUserBinding(C){if(!C)return null;if(C instanceof m.SimpleKeybinding)return C;const h=this._scanCodeToKeyCode(C.scanCode);return h===0?null:new m.SimpleKeybinding(C.ctrlKey,C.shiftKey,C.altKey,C.metaKey,h)}static resolveUserBinding(C,h){const g=(0,D.removeElementsAfterNulls)(C.map(t=>this._resolveSimpleUserBinding(t)));return g.length>0?[new L(new m.ChordKeybinding(g),h)]:[]}}e.USLayoutResolvedKeybinding=L}),define(se[143],re([1,0,9]),function(q,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ILabelService=void 0,e.ILabelService=(0,w.createDecorator)("labelService")}),define(se[118],re([1,0,9]),function(q,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ILayoutService=void 0,e.ILayoutService=(0,w.createDecorator)("layoutService")}),define(se[294],re([1,0,7,6,118,29,52]),function(q,e,w,m,k,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorScopedLayoutService=void 0;let b=class{get dimension(){return this._dimension||(this._dimension=w.getClientArea(window.document.body)),this._dimension}get hasContainer(){return!1}get container(){throw new Error("ILayoutService.container is not available in the standalone editor!")}focus(){var g;(g=this._codeEditorService.getFocusedCodeEditor())===null||g===void 0||g.focus()}constructor(g){this._codeEditorService=g,this.onDidLayout=m.Event.None,this.offset={top:0,quickPickTop:0}}};b=De([fe(0,D.ICodeEditorService)],b);let C=class extends b{get hasContainer(){return!1}get container(){return this._container}constructor(g,t){super(t),this._container=g}};C=De([fe(1,D.ICodeEditorService)],C),e.EditorScopedLayoutService=C,(0,L.registerSingleton)(k.ILayoutService,b,1)}),define(se[664],re([1,0,7,6,2,79,30,15,118]),function(q,e,w,m,k,D,L,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AccessibilityService=void 0;let h=class extends k.Disposable{constructor(t,i,n){super(),this._contextKeyService=t,this._layoutService=i,this._configurationService=n,this._accessibilitySupport=0,this._onDidChangeScreenReaderOptimized=new m.Emitter,this._onDidChangeReducedMotion=new m.Emitter,this._accessibilityModeEnabledContext=D.CONTEXT_ACCESSIBILITY_MODE_ENABLED.bindTo(this._contextKeyService);const o=()=>this._accessibilityModeEnabledContext.set(this.isScreenReaderOptimized());this._register(this._configurationService.onDidChangeConfiguration(c=>{c.affectsConfiguration("editor.accessibilitySupport")&&(o(),this._onDidChangeScreenReaderOptimized.fire()),c.affectsConfiguration("workbench.reduceMotion")&&(this._configMotionReduced=this._configurationService.getValue("workbench.reduceMotion"),this._onDidChangeReducedMotion.fire())})),o(),this._register(this.onDidChangeScreenReaderOptimized(()=>o()));const l=window.matchMedia("(prefers-reduced-motion: reduce)");this._systemMotionReduced=l.matches,this._configMotionReduced=this._configurationService.getValue("workbench.reduceMotion"),this.initReducedMotionListeners(l)}initReducedMotionListeners(t){if(!this._layoutService.hasContainer)return;this._register((0,w.addDisposableListener)(t,"change",()=>{this._systemMotionReduced=t.matches,this._configMotionReduced==="auto"&&this._onDidChangeReducedMotion.fire()}));const i=()=>{const n=this.isMotionReduced();this._layoutService.container.classList.toggle("reduce-motion",n),this._layoutService.container.classList.toggle("enable-motion",!n)};i(),this._register(this.onDidChangeReducedMotion(()=>i()))}get onDidChangeScreenReaderOptimized(){return this._onDidChangeScreenReaderOptimized.event}isScreenReaderOptimized(){const t=this._configurationService.getValue("editor.accessibilitySupport");return t==="on"||t==="auto"&&this._accessibilitySupport===2}get onDidChangeReducedMotion(){return this._onDidChangeReducedMotion.event}isMotionReduced(){const t=this._configMotionReduced;return t==="on"||t==="auto"&&this._systemMotionReduced}getAccessibilitySupport(){return this._accessibilitySupport}};h=De([fe(0,b.IContextKeyService),fe(1,C.ILayoutService),fe(2,L.IConfigurationService)],h),e.AccessibilityService=h}),define(se[665],re([1,0,259,2,118]),function(q,e,w,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextViewService=void 0;let D=class extends m.Disposable{constructor(b){super(),this.layoutService=b,this.currentViewDisposable=m.Disposable.None,this.container=b.hasContainer?b.container:null,this.contextView=this._register(new w.ContextView(this.container,1)),this.layout(),this._register(b.onDidLayout(()=>this.layout()))}setContainer(b,C){this.contextView.setContainer(b,C||1)}showContextView(b,C,h){C?(C!==this.container||this.shadowRoot!==h)&&(this.container=C,this.setContainer(C,h?3:2)):this.layoutService.hasContainer&&this.container!==this.layoutService.container&&(this.container=this.layoutService.container,this.setContainer(this.container,1)),this.shadowRoot=h,this.contextView.show(b);const g=(0,m.toDisposable)(()=>{this.currentViewDisposable===g&&this.hideContextView()});return this.currentViewDisposable=g,g}getContextViewElement(){return this.contextView.getViewElement()}layout(){this.contextView.layout()}hideContextView(b){this.contextView.hide(b)}};D=De([fe(0,k.ILayoutService)],D),e.ContextViewService=D}),define(se[72],re([1,0,6,2,9]),function(q,e,w,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LogService=e.ConsoleLogger=e.AbstractLogger=e.DEFAULT_LOG_LEVEL=e.LogLevel=e.ILogService=void 0,e.ILogService=(0,k.createDecorator)("logService");var D;(function(h){h[h.Trace=0]="Trace",h[h.Debug=1]="Debug",h[h.Info=2]="Info",h[h.Warning=3]="Warning",h[h.Error=4]="Error",h[h.Critical=5]="Critical",h[h.Off=6]="Off"})(D=e.LogLevel||(e.LogLevel={})),e.DEFAULT_LOG_LEVEL=D.Info;class L extends m.Disposable{constructor(){super(...arguments),this.level=e.DEFAULT_LOG_LEVEL,this._onDidChangeLogLevel=this._register(new w.Emitter)}setLevel(g){this.level!==g&&(this.level=g,this._onDidChangeLogLevel.fire(this.level))}getLevel(){return this.level}}e.AbstractLogger=L;class b extends L{constructor(g=e.DEFAULT_LOG_LEVEL){super(),this.setLevel(g)}trace(g,...t){this.getLevel()<=D.Trace&&console.log("%cTRACE","color: #888",g,...t)}debug(g,...t){this.getLevel()<=D.Debug&&console.log("%cDEBUG","background: #eee; color: #888",g,...t)}info(g,...t){this.getLevel()<=D.Info&&console.log("%c INFO","color: #33f",g,...t)}error(g,...t){this.getLevel()<=D.Error&&console.log("%c  ERR","color: #f33",g,...t)}dispose(){}}e.ConsoleLogger=b;class C extends m.Disposable{constructor(g){super(),this.logger=g,this._register(g)}getLevel(){return this.logger.getLevel()}trace(g,...t){this.logger.trace(g,...t)}debug(g,...t){this.logger.debug(g,...t)}info(g,...t){this.logger.info(g,...t)}error(g,...t){this.logger.error(g,...t)}}e.LogService=C}),define(se[666],re([1,0,42,7,10,2,118,72]),function(q,e,w,m,k,D,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserClipboardService=void 0;let C=class extends D.Disposable{constructor(g,t){super(),this.layoutService=g,this.logService=t,this.mapTextToType=new Map,this.findText="",this.resources=[],(w.isSafari||w.isWebkitWebView)&&this.installWebKitWriteTextWorkaround()}installWebKitWriteTextWorkaround(){const g=()=>{const t=new k.DeferredPromise;this.webKitPendingClipboardWritePromise&&!this.webKitPendingClipboardWritePromise.isSettled&&this.webKitPendingClipboardWritePromise.cancel(),this.webKitPendingClipboardWritePromise=t,navigator.clipboard.write([new ClipboardItem({"text/plain":t.p})]).catch(i=>Se(this,void 0,void 0,function*(){(!(i instanceof Error)||i.name!=="NotAllowedError"||!t.isRejected)&&this.logService.error(i)}))};this.layoutService.hasContainer&&(this._register((0,m.addDisposableListener)(this.layoutService.container,"click",g)),this._register((0,m.addDisposableListener)(this.layoutService.container,"keydown",g)))}writeText(g,t){return Se(this,void 0,void 0,function*(){if(t){this.mapTextToType.set(t,g);return}if(this.webKitPendingClipboardWritePromise)return this.webKitPendingClipboardWritePromise.complete(g);try{return yield navigator.clipboard.writeText(g)}catch(o){console.error(o)}const i=document.activeElement,n=document.body.appendChild((0,m.$)("textarea",{"aria-hidden":!0}));n.style.height="1px",n.style.width="1px",n.style.position="absolute",n.value=g,n.focus(),n.select(),document.execCommand("copy"),i instanceof HTMLElement&&i.focus(),document.body.removeChild(n)})}readText(g){return Se(this,void 0,void 0,function*(){if(g)return this.mapTextToType.get(g)||"";try{return yield navigator.clipboard.readText()}catch(t){return console.error(t),""}})}readFindText(){return Se(this,void 0,void 0,function*(){return this.findText})}writeFindText(g){return Se(this,void 0,void 0,function*(){this.findText=g})}readResources(){return Se(this,void 0,void 0,function*(){return this.resources})}};C=De([fe(0,L.ILayoutService),fe(1,b.ILogService)],C),e.BrowserClipboardService=C}),define(se[87],re([1,0,90,638,9]),function(q,e,w,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IMarkerService=e.IMarkerData=e.MarkerSeverity=void 0;var D;(function(b){b[b.Hint=1]="Hint",b[b.Info=2]="Info",b[b.Warning=4]="Warning",b[b.Error=8]="Error"})(D=e.MarkerSeverity||(e.MarkerSeverity={})),function(b){function C(n,o){return o-n}b.compare=C;const h=Object.create(null);h[b.Error]=(0,m.localize)(0,null),h[b.Warning]=(0,m.localize)(1,null),h[b.Info]=(0,m.localize)(2,null);function g(n){return h[n]||""}b.toString=g;function t(n){switch(n){case w.default.Error:return b.Error;case w.default.Warning:return b.Warning;case w.default.Info:return b.Info;case w.default.Ignore:return b.Hint}}b.fromSeverity=t;function i(n){switch(n){case b.Error:return w.default.Error;case b.Warning:return w.default.Warning;case b.Info:return w.default.Info;case b.Hint:return w.default.Ignore}}b.toSeverity=i}(D=e.MarkerSeverity||(e.MarkerSeverity={}));var L;(function(b){const C="";function h(t){return g(t,!0)}b.makeKey=h;function g(t,i){const n=[C];return t.source?n.push(t.source.replace("\xA6","\\\xA6")):n.push(C),t.code?typeof t.code=="string"?n.push(t.code.replace("\xA6","\\\xA6")):n.push(t.code.value.replace("\xA6","\\\xA6")):n.push(C),t.severity!==void 0&&t.severity!==null?n.push(D.toString(t.severity)):n.push(C),t.message&&i?n.push(t.message.replace("\xA6","\\\xA6")):n.push(C),t.startLineNumber!==void 0&&t.startLineNumber!==null?n.push(t.startLineNumber.toString()):n.push(C),t.startColumn!==void 0&&t.startColumn!==null?n.push(t.startColumn.toString()):n.push(C),t.endLineNumber!==void 0&&t.endLineNumber!==null?n.push(t.endLineNumber.toString()):n.push(C),t.endColumn!==void 0&&t.endColumn!==null?n.push(t.endColumn.toString()):n.push(C),n.push(C),n.join("\xA6")}b.makeKeyOptionalMessage=g})(L=e.IMarkerData||(e.IMarkerData={})),e.IMarkerService=(0,k.createDecorator)("markerService")}),define(se[667],re([1,0,18,6,2,58,8,22,3,52,9,87,30]),function(q,e,w,m,k,D,L,b,C,h,g,t,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IMarkerNavigationService=e.MarkerList=e.MarkerCoordinate=void 0;class n{constructor(d,r,s){this.marker=d,this.index=r,this.total=s}}e.MarkerCoordinate=n;let o=class{constructor(d,r,s){this._markerService=r,this._configService=s,this._onDidChange=new m.Emitter,this.onDidChange=this._onDidChange.event,this._dispoables=new k.DisposableStore,this._markers=[],this._nextIdx=-1,b.URI.isUri(d)?this._resourceFilter=S=>S.toString()===d.toString():d&&(this._resourceFilter=d);const a=this._configService.getValue("problems.sortOrder"),u=(S,f)=>{let v=(0,L.compare)(S.resource.toString(),f.resource.toString());return v===0&&(a==="position"?v=C.Range.compareRangesUsingStarts(S,f)||t.MarkerSeverity.compare(S.severity,f.severity):v=t.MarkerSeverity.compare(S.severity,f.severity)||C.Range.compareRangesUsingStarts(S,f)),v},p=()=>{this._markers=this._markerService.read({resource:b.URI.isUri(d)?d:void 0,severities:t.MarkerSeverity.Error|t.MarkerSeverity.Warning|t.MarkerSeverity.Info}),typeof d=="function"&&(this._markers=this._markers.filter(S=>this._resourceFilter(S.resource))),this._markers.sort(u)};p(),this._dispoables.add(r.onMarkerChanged(S=>{(!this._resourceFilter||S.some(f=>this._resourceFilter(f)))&&(p(),this._nextIdx=-1,this._onDidChange.fire())}))}dispose(){this._dispoables.dispose(),this._onDidChange.dispose()}matches(d){return!this._resourceFilter&&!d?!0:!this._resourceFilter||!d?!1:this._resourceFilter(d)}get selected(){const d=this._markers[this._nextIdx];return d&&new n(d,this._nextIdx+1,this._markers.length)}_initIdx(d,r,s){let a=!1,u=this._markers.findIndex(p=>p.resource.toString()===d.uri.toString());u<0&&(u=(0,w.binarySearch)(this._markers,{resource:d.uri},(p,S)=>(0,L.compare)(p.resource.toString(),S.resource.toString())),u<0&&(u=~u));for(let p=u;p<this._markers.length;p++){let S=C.Range.lift(this._markers[p]);if(S.isEmpty()){const f=d.getWordAtPosition(S.getStartPosition());f&&(S=new C.Range(S.startLineNumber,f.startColumn,S.startLineNumber,f.endColumn))}if(r&&(S.containsPosition(r)||r.isBeforeOrEqual(S.getStartPosition()))){this._nextIdx=p,a=!0;break}if(this._markers[p].resource.toString()!==d.uri.toString())break}a||(this._nextIdx=s?0:this._markers.length-1),this._nextIdx<0&&(this._nextIdx=this._markers.length-1)}resetIndex(){this._nextIdx=-1}move(d,r,s){if(this._markers.length===0)return!1;const a=this._nextIdx;return this._nextIdx===-1?this._initIdx(r,s,d):d?this._nextIdx=(this._nextIdx+1)%this._markers.length:d||(this._nextIdx=(this._nextIdx-1+this._markers.length)%this._markers.length),a!==this._nextIdx}find(d,r){let s=this._markers.findIndex(a=>a.resource.toString()===d.toString());if(!(s<0)){for(;s<this._markers.length;s++)if(C.Range.containsPosition(this._markers[s],r))return new n(this._markers[s],s+1,this._markers.length)}}};o=De([fe(1,t.IMarkerService),fe(2,i.IConfigurationService)],o),e.MarkerList=o,e.IMarkerNavigationService=(0,g.createDecorator)("IMarkerNavigationService");let l=class{constructor(d,r){this._markerService=d,this._configService=r,this._provider=new D.LinkedList}getMarkerList(d){for(const r of this._provider){const s=r.getMarkerList(d);if(s)return s}return new o(d,this._markerService,this._configService)}};l=De([fe(0,t.IMarkerService),fe(1,i.IConfigurationService)],l),(0,h.registerSingleton)(e.IMarkerNavigationService,l,1)}),define(se[668],re([1,0,18,6,55,59,49,22,87]),function(q,e,w,m,k,D,L,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerService=e.unsupportedSchemas=void 0,e.unsupportedSchemas=new Set([L.Schemas.inMemory,L.Schemas.vscodeSourceControl,L.Schemas.walkThrough,L.Schemas.walkThroughSnippet]);class h{constructor(){this._byResource=new D.ResourceMap,this._byOwner=new Map}set(n,o,l){let c=this._byResource.get(n);c||(c=new Map,this._byResource.set(n,c)),c.set(o,l);let d=this._byOwner.get(o);d||(d=new D.ResourceMap,this._byOwner.set(o,d)),d.set(n,l)}get(n,o){const l=this._byResource.get(n);return l?.get(o)}delete(n,o){let l=!1,c=!1;const d=this._byResource.get(n);d&&(l=d.delete(o));const r=this._byOwner.get(o);if(r&&(c=r.delete(n)),l!==c)throw new Error("illegal state");return l&&c}values(n){var o,l,c,d;return typeof n=="string"?(l=(o=this._byOwner.get(n))===null||o===void 0?void 0:o.values())!==null&&l!==void 0?l:k.Iterable.empty():b.URI.isUri(n)?(d=(c=this._byResource.get(n))===null||c===void 0?void 0:c.values())!==null&&d!==void 0?d:k.Iterable.empty():k.Iterable.map(k.Iterable.concat(...this._byOwner.values()),r=>r[1])}}class g{constructor(n){this.errors=0,this.infos=0,this.warnings=0,this.unknowns=0,this._data=new D.ResourceMap,this._service=n,this._subscription=n.onMarkerChanged(this._update,this)}dispose(){this._subscription.dispose()}_update(n){for(const o of n){const l=this._data.get(o);l&&this._substract(l);const c=this._resourceStats(o);this._add(c),this._data.set(o,c)}}_resourceStats(n){const o={errors:0,warnings:0,infos:0,unknowns:0};if(e.unsupportedSchemas.has(n.scheme))return o;for(const{severity:l}of this._service.read({resource:n}))l===C.MarkerSeverity.Error?o.errors+=1:l===C.MarkerSeverity.Warning?o.warnings+=1:l===C.MarkerSeverity.Info?o.infos+=1:o.unknowns+=1;return o}_substract(n){this.errors-=n.errors,this.warnings-=n.warnings,this.infos-=n.infos,this.unknowns-=n.unknowns}_add(n){this.errors+=n.errors,this.warnings+=n.warnings,this.infos+=n.infos,this.unknowns+=n.unknowns}}class t{constructor(){this._onMarkerChanged=new m.DebounceEmitter({delay:0,merge:t._merge}),this.onMarkerChanged=this._onMarkerChanged.event,this._data=new h,this._stats=new g(this)}dispose(){this._stats.dispose(),this._onMarkerChanged.dispose()}remove(n,o){for(const l of o||[])this.changeOne(n,l,[])}changeOne(n,o,l){if((0,w.isFalsyOrEmpty)(l))this._data.delete(o,n)&&this._onMarkerChanged.fire([o]);else{const c=[];for(const d of l){const r=t._toMarker(n,o,d);r&&c.push(r)}this._data.set(o,n,c),this._onMarkerChanged.fire([o])}}static _toMarker(n,o,l){let{code:c,severity:d,message:r,source:s,startLineNumber:a,startColumn:u,endLineNumber:p,endColumn:S,relatedInformation:f,tags:v}=l;if(!!r)return a=a>0?a:1,u=u>0?u:1,p=p>=a?p:a,S=S>0?S:u,{resource:o,owner:n,code:c,severity:d,message:r,source:s,startLineNumber:a,startColumn:u,endLineNumber:p,endColumn:S,relatedInformation:f,tags:v}}changeAll(n,o){const l=[],c=this._data.values(n);if(c)for(const d of c){const r=k.Iterable.first(d);r&&(l.push(r.resource),this._data.delete(r.resource,n))}if((0,w.isNonEmptyArray)(o)){const d=new D.ResourceMap;for(const{resource:r,marker:s}of o){const a=t._toMarker(n,r,s);if(!a)continue;const u=d.get(r);u?u.push(a):(d.set(r,[a]),l.push(r))}for(const[r,s]of d)this._data.set(r,n,s)}l.length>0&&this._onMarkerChanged.fire(l)}read(n=Object.create(null)){let{owner:o,resource:l,severities:c,take:d}=n;if((!d||d<0)&&(d=-1),o&&l){const r=this._data.get(l,o);if(r){const s=[];for(const a of r)if(t._accept(a,c)){const u=s.push(a);if(d>0&&u===d)break}return s}else return[]}else if(!o&&!l){const r=[];for(const s of this._data.values())for(const a of s)if(t._accept(a,c)){const u=r.push(a);if(d>0&&u===d)return r}return r}else{const r=this._data.values(l??o),s=[];for(const a of r)for(const u of a)if(t._accept(u,c)){const p=s.push(u);if(d>0&&p===d)return s}return s}}static _accept(n,o){return o===void 0||(o&n.severity)===n.severity}static _merge(n){const o=new D.ResourceMap;for(const l of n)for(const c of l)o.set(c,!0);return Array.from(o.keys())}}e.MarkerService=t}),define(se[40],re([1,0,90,9]),function(q,e,w,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NoOpNotification=e.INotificationService=e.Severity=void 0,e.Severity=w.default,e.INotificationService=(0,m.createDecorator)("notificationService");class k{}e.NoOpNotification=k}),define(se[46],re([1,0,2,8,22,9]),function(q,e,w,m,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.extractSelection=e.matchesSomeScheme=e.matchesScheme=e.NullOpenerService=e.IOpenerService=void 0,e.IOpenerService=(0,D.createDecorator)("openerService"),e.NullOpenerService=Object.freeze({_serviceBrand:void 0,registerOpener(){return w.Disposable.None},registerValidator(){return w.Disposable.None},registerExternalUriResolver(){return w.Disposable.None},setDefaultExternalOpener(){},registerExternalOpener(){return w.Disposable.None},open(){return Se(this,void 0,void 0,function*(){return!1})},resolveExternalUri(h){return Se(this,void 0,void 0,function*(){return{resolved:h,dispose(){}}})}});function L(h,g){return k.URI.isUri(h)?(0,m.equalsIgnoreCase)(h.scheme,g):(0,m.startsWithIgnoreCase)(h,g+":")}e.matchesScheme=L;function b(h,...g){return g.some(t=>L(h,t))}e.matchesSomeScheme=b;function C(h){let g;const t=/^L?(\d+)(?:,(\d+))?(-L?(\d+)(?:,(\d+))?)?/.exec(h.fragment);return t&&(g={startLineNumber:parseInt(t[1]),startColumn:t[2]?parseInt(t[2]):1,endLineNumber:t[4]?parseInt(t[4]):void 0,endColumn:t[4]?t[5]?parseInt(t[5]):1:void 0},h=h.with({fragment:""})),{selection:g,uri:h}}e.extractSelection=C}),define(se[669],re([1,0,7,21,58,59,201,49,44,22,29,26,647,46]),function(q,e,w,m,k,D,L,b,C,h,g,t,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OpenerService=void 0;let o=class{constructor(r){this._commandService=r}open(r,s){return Se(this,void 0,void 0,function*(){if(!(0,n.matchesScheme)(r,b.Schemas.command))return!1;if(!s?.allowCommands)return!0;typeof r=="string"&&(r=h.URI.parse(r));let a=[];try{a=(0,L.parse)(decodeURIComponent(r.query))}catch{try{a=(0,L.parse)(r.query)}catch{}}return Array.isArray(a)||(a=[a]),yield this._commandService.executeCommand(r.path,...a),!0})}};o=De([fe(0,t.ICommandService)],o);let l=class{constructor(r){this._editorService=r}open(r,s){return Se(this,void 0,void 0,function*(){typeof r=="string"&&(r=h.URI.parse(r));const{selection:a,uri:u}=(0,n.extractSelection)(r);return r=u,r.scheme===b.Schemas.file&&(r=(0,C.normalizePath)(r)),yield this._editorService.openCodeEditor({resource:r,options:Object.assign({selection:a,source:s?.fromUserGesture?i.EditorOpenSource.USER:i.EditorOpenSource.API},s?.editorOptions)},this._editorService.getFocusedCodeEditor(),s?.openToSide),!0})}};l=De([fe(0,g.ICodeEditorService)],l);let c=class{constructor(r,s){this._openers=new k.LinkedList,this._validators=new k.LinkedList,this._resolvers=new k.LinkedList,this._resolvedUriTargets=new D.ResourceMap(a=>a.with({path:null,fragment:null,query:null}).toString()),this._externalOpeners=new k.LinkedList,this._defaultExternalOpener={openExternal:a=>Se(this,void 0,void 0,function*(){return(0,n.matchesSomeScheme)(a,b.Schemas.http,b.Schemas.https)?w.windowOpenNoOpener(a):window.location.href=a,!0})},this._openers.push({open:(a,u)=>Se(this,void 0,void 0,function*(){return u?.openExternal||(0,n.matchesSomeScheme)(a,b.Schemas.mailto,b.Schemas.http,b.Schemas.https,b.Schemas.vsls)?(yield this._doOpenExternal(a,u),!0):!1})}),this._openers.push(new o(s)),this._openers.push(new l(r))}registerOpener(r){return{dispose:this._openers.unshift(r)}}registerValidator(r){return{dispose:this._validators.push(r)}}registerExternalUriResolver(r){return{dispose:this._resolvers.push(r)}}setDefaultExternalOpener(r){this._defaultExternalOpener=r}registerExternalOpener(r){return{dispose:this._externalOpeners.push(r)}}open(r,s){var a;return Se(this,void 0,void 0,function*(){const u=typeof r=="string"?h.URI.parse(r):r,p=(a=this._resolvedUriTargets.get(u))!==null&&a!==void 0?a:r;for(const S of this._validators)if(!(yield S.shouldOpen(p,s)))return!1;for(const S of this._openers)if(yield S.open(r,s))return!0;return!1})}resolveExternalUri(r,s){return Se(this,void 0,void 0,function*(){for(const a of this._resolvers)try{const u=yield a.resolveExternalUri(r,s);if(u)return this._resolvedUriTargets.has(u.resolved)||this._resolvedUriTargets.set(u.resolved,r),u}catch{}throw new Error("Could not resolve external URI: "+r.toString())})}_doOpenExternal(r,s){return Se(this,void 0,void 0,function*(){const a=typeof r=="string"?h.URI.parse(r):r;let u;try{u=(yield this.resolveExternalUri(a,s)).resolved}catch{u=a}let p;if(typeof r=="string"&&a.toString()===u.toString()?p=r:p=encodeURI(u.toString(!0)),s?.allowContributedOpeners){const S=typeof s?.allowContributedOpeners=="string"?s?.allowContributedOpeners:void 0;for(const f of this._externalOpeners)if(yield f.openExternal(p,{sourceUri:a,preferredOpenerId:S},m.CancellationToken.None))return!0}return this._defaultExternalOpener.openExternal(p,{sourceUri:a},m.CancellationToken.None)})}dispose(){this._validators.clear()}};c=De([fe(0,g.ICodeEditorService),fe(1,t.ICommandService)],c),e.OpenerService=c}),define(se[73],re([1,0,107,59,127,52,9,72,46]),function(q,e,w,m,k,D,L,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageFeatureDebounceService=e.ILanguageFeatureDebounceService=void 0,e.ILanguageFeatureDebounceService=(0,L.createDecorator)("ILanguageFeatureDebounceService");var h;(function(i){const n=new WeakMap;let o=0;function l(c){let d=n.get(c);return d===void 0&&(d=++o,n.set(c,d)),d}i.of=l})(h||(h={}));class g{constructor(n,o,l,c,d,r){this._logService=n,this._name=o,this._registry=l,this._default=c,this._min=d,this._max=r,this._cache=new m.LRUCache(50,.7)}_key(n){return n.id+this._registry.all(n).reduce((o,l)=>(0,w.doHash)(h.of(l),o),0)}get(n){const o=this._key(n),l=this._cache.get(o);return l?(0,k.clamp)(l.value,this._min,this._max):this.default()}update(n,o){const l=this._key(n);let c=this._cache.get(l);c||(c=new k.SlidingWindowAverage(6),this._cache.set(l,c));const d=(0,k.clamp)(c.update(o),this._min,this._max);return(0,C.matchesScheme)(n.uri,"output")||this._logService.trace(`[DEBOUNCE: ${this._name}] for ${n.uri.toString()} is ${d}ms`),d}_overall(){const n=new k.MovingAverage;for(const[,o]of this._cache)n.update(o.value);return n.value}default(){const n=this._overall()|0||this._default;return(0,k.clamp)(n,this._min,this._max)}}let t=class{constructor(n){this._logService=n,this._data=new Map}for(n,o,l){var c,d,r;const s=(c=l?.min)!==null&&c!==void 0?c:50,a=(d=l?.max)!==null&&d!==void 0?d:Math.pow(s,2),u=(r=l?.key)!==null&&r!==void 0?r:void 0,p=`${h.of(n)},${s}${u?","+u:""}`;let S=this._data.get(p);return S||(S=new g(this._logService,o,n,this._overallAverage()|0||s*1.5,s,a),this._data.set(p,S)),S}_overallAverage(){const n=new k.MovingAverage;for(const o of this._data.values())n.update(o.default());return n.value}};t=De([fe(0,b.ILogService)],t),e.LanguageFeatureDebounceService=t,(0,D.registerSingleton)(e.ILanguageFeatureDebounceService,t,1)}),define(se[170],re([1,0,18,21,14,55,59,11,3,73,9,52,51,2,20]),function(q,e,w,m,k,D,L,b,C,h,g,t,i,n,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OutlineModelService=e.IOutlineModelService=e.OutlineModel=e.OutlineGroup=e.OutlineElement=e.TreeElement=void 0;class l{remove(){var u;(u=this.parent)===null||u===void 0||u.children.delete(this.id)}static findId(u,p){let S;typeof u=="string"?S=`${p.id}/${u}`:(S=`${p.id}/${u.name}`,p.children.get(S)!==void 0&&(S=`${p.id}/${u.name}_${u.range.startLineNumber}_${u.range.startColumn}`));let f=S;for(let v=0;p.children.get(f)!==void 0;v++)f=`${S}_${v}`;return f}static empty(u){return u.children.size===0}}e.TreeElement=l;class c extends l{constructor(u,p,S){super(),this.id=u,this.parent=p,this.symbol=S,this.children=new Map}}e.OutlineElement=c;class d extends l{constructor(u,p,S,f){super(),this.id=u,this.parent=p,this.label=S,this.order=f,this.children=new Map}}e.OutlineGroup=d;class r extends l{static create(u,p,S){const f=new m.CancellationTokenSource(S),v=new r(p.uri),_=u.ordered(p),y=_.map((T,I)=>{var R;const F=l.findId(`provider_${I}`,v),O=new d(F,v,(R=T.displayName)!==null&&R!==void 0?R:"Unknown Outline Provider",I);return Promise.resolve(T.provideDocumentSymbols(p,f.token)).then(M=>{for(const N of M||[])r._makeOutlineElement(N,O);return O},M=>((0,k.onUnexpectedExternalError)(M),O)).then(M=>{l.empty(M)?M.remove():v._groups.set(F,M)})}),E=u.onDidChange(()=>{const T=u.ordered(p);(0,w.equals)(T,_)||f.cancel()});return Promise.all(y).then(()=>f.token.isCancellationRequested&&!S.isCancellationRequested?r.create(u,p,S):v._compact()).finally(()=>{E.dispose()})}static _makeOutlineElement(u,p){const S=l.findId(u,p),f=new c(S,p,u);if(u.children)for(const v of u.children)r._makeOutlineElement(v,f);p.children.set(f.id,f)}constructor(u){super(),this.uri=u,this.id="root",this.parent=void 0,this._groups=new Map,this.children=new Map,this.id="root",this.parent=void 0}_compact(){let u=0;for(const[p,S]of this._groups)S.children.size===0?this._groups.delete(p):u+=1;if(u!==1)this.children=this._groups;else{const p=D.Iterable.first(this._groups.values());for(const[,S]of p.children)S.parent=this,this.children.set(S.id,S)}return this}getTopLevelSymbols(){const u=[];for(const p of this.children.values())p instanceof c?u.push(p.symbol):u.push(...D.Iterable.map(p.children.values(),S=>S.symbol));return u.sort((p,S)=>C.Range.compareRangesUsingStarts(p.range,S.range))}asListOfDocumentSymbols(){const u=this.getTopLevelSymbols(),p=[];return r._flattenDocumentSymbols(p,u,""),p.sort((S,f)=>b.Position.compare(C.Range.getStartPosition(S.range),C.Range.getStartPosition(f.range))||b.Position.compare(C.Range.getEndPosition(f.range),C.Range.getEndPosition(S.range)))}static _flattenDocumentSymbols(u,p,S){for(const f of p)u.push({kind:f.kind,tags:f.tags,name:f.name,detail:f.detail,containerName:f.containerName||S,range:f.range,selectionRange:f.selectionRange,children:void 0}),f.children&&r._flattenDocumentSymbols(u,f.children,f.name)}}e.OutlineModel=r,e.IOutlineModelService=(0,g.createDecorator)("IOutlineModelService");let s=class{constructor(u,p,S){this._languageFeaturesService=u,this._disposables=new n.DisposableStore,this._cache=new L.LRUCache(10,.7),this._debounceInformation=p.for(u.documentSymbolProvider,"DocumentSymbols",{min:350}),this._disposables.add(S.onModelRemoved(f=>{this._cache.delete(f.id)}))}dispose(){this._disposables.dispose()}getOrCreate(u,p){return Se(this,void 0,void 0,function*(){const S=this._languageFeaturesService.documentSymbolProvider,f=S.ordered(u);let v=this._cache.get(u.id);if(!v||v.versionId!==u.getVersionId()||!(0,w.equals)(v.provider,f)){const y=new m.CancellationTokenSource;v={versionId:u.getVersionId(),provider:f,promiseCnt:0,source:y,promise:r.create(S,u,y.token),model:void 0},this._cache.set(u.id,v);const E=Date.now();v.promise.then(T=>{v.model=T,this._debounceInformation.update(u,Date.now()-E)}).catch(T=>{this._cache.delete(u.id)})}if(v.model)return v.model;v.promiseCnt+=1;const _=p.onCancellationRequested(()=>{--v.promiseCnt===0&&(v.source.cancel(),this._cache.delete(u.id))});try{return yield v.promise}finally{_.dispose()}})}};s=De([fe(0,o.ILanguageFeaturesService),fe(1,h.ILanguageFeatureDebounceService),fe(2,i.IModelService)],s),e.OutlineModelService=s,(0,t.registerSingleton)(e.IOutlineModelService,s,1)}),define(se[670],re([1,0,21,19,22,61,170,26]),function(q,e,w,m,k,D,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),b.CommandsRegistry.registerCommand("_executeDocumentSymbolProvider",function(C,...h){return Se(this,void 0,void 0,function*(){const[g]=h;(0,m.assertType)(k.URI.isUri(g));const t=C.get(L.IOutlineModelService),n=yield C.get(D.ITextModelService).createModelReference(g);try{return(yield t.getOrCreate(n.object.textEditorModel,w.CancellationToken.None)).getTopLevelSymbols()}finally{n.dispose()}})})}),define(se[67],re([1,0,9]),function(q,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IEditorProgressService=e.Progress=e.emptyProgressRunner=e.IProgressService=void 0,e.IProgressService=(0,w.createDecorator)("progressService"),e.emptyProgressRunner=Object.freeze({total(){},worked(){},done(){}});class m{constructor(D){this.callback=D}report(D){this._value=D,this.callback(this._value)}}e.Progress=m,m.None=Object.freeze({report(){}}),e.IEditorProgressService=(0,w.createDecorator)("editorProgressService")}),define(se[671],re([1,0,10,21,2]),function(q,e,w,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PickerQuickAccessProvider=e.TriggerAction=void 0;var D;(function(h){h[h.NO_ACTION=0]="NO_ACTION",h[h.CLOSE_PICKER=1]="CLOSE_PICKER",h[h.REFRESH_PICKER=2]="REFRESH_PICKER",h[h.REMOVE_ITEM=3]="REMOVE_ITEM"})(D=e.TriggerAction||(e.TriggerAction={}));function L(h){const g=h;return Array.isArray(g.items)}function b(h){const g=h;return!!g.picks&&g.additionalPicks instanceof Promise}class C extends k.Disposable{constructor(g,t){super(),this.prefix=g,this.options=t}provide(g,t,i){var n;const o=new k.DisposableStore;g.canAcceptInBackground=!!(!((n=this.options)===null||n===void 0)&&n.canAcceptInBackground),g.matchOnLabel=g.matchOnDescription=g.matchOnDetail=g.sortByLabel=!1;let l;const c=o.add(new k.MutableDisposable),d=()=>Se(this,void 0,void 0,function*(){const r=c.value=new k.DisposableStore;l?.dispose(!0),g.busy=!1,l=new m.CancellationTokenSource(t);const s=l.token,a=g.value.substr(this.prefix.length).trim(),u=this._getPicks(a,r,s,i),p=(S,f)=>{var v;let _,y;if(L(S)?(_=S.items,y=S.active):_=S,_.length===0){if(f)return!1;a.length>0&&((v=this.options)===null||v===void 0?void 0:v.noResultsPick)&&(_=[this.options.noResultsPick])}return g.items=_,y&&(g.activeItems=[y]),!0};if(u!==null)if(b(u)){let S=!1,f=!1;yield Promise.all([(()=>Se(this,void 0,void 0,function*(){yield(0,w.timeout)(C.FAST_PICKS_RACE_DELAY),!s.isCancellationRequested&&(f||(S=p(u.picks,!0)))}))(),(()=>Se(this,void 0,void 0,function*(){g.busy=!0;try{const v=yield u.additionalPicks;if(s.isCancellationRequested)return;let _,y;L(u.picks)?(_=u.picks.items,y=u.picks.active):_=u.picks;let E,T;if(L(v)?(E=v.items,T=v.active):E=v,E.length>0||!S){let I;if(!y&&!T){const R=g.activeItems[0];R&&_.indexOf(R)!==-1&&(I=R)}p({items:[..._,...E],active:y||T||I})}}finally{s.isCancellationRequested||(g.busy=!1),f=!0}}))()])}else if(!(u instanceof Promise))p(u);else{g.busy=!0;try{const S=yield u;if(s.isCancellationRequested)return;p(S)}finally{s.isCancellationRequested||(g.busy=!1)}}});return o.add(g.onDidChangeValue(()=>d())),d(),o.add(g.onDidAccept(r=>{const[s]=g.selectedItems;typeof s?.accept=="function"&&(r.inBackground||g.hide(),s.accept(g.keyMods,r))})),o.add(g.onDidTriggerItemButton(({button:r,item:s})=>Se(this,void 0,void 0,function*(){var a,u;if(typeof s.trigger=="function"){const p=(u=(a=s.buttons)===null||a===void 0?void 0:a.indexOf(r))!==null&&u!==void 0?u:-1;if(p>=0){const S=s.trigger(p,g.keyMods),f=typeof S=="number"?S:yield S;if(t.isCancellationRequested)return;switch(f){case D.NO_ACTION:break;case D.CLOSE_PICKER:g.hide();break;case D.REFRESH_PICKER:d();break;case D.REMOVE_ITEM:{const v=g.items.indexOf(s);if(v!==-1){const _=g.items.slice(),y=_.splice(v,1),E=g.activeItems.filter(I=>I!==y[0]),T=g.keepScrollPosition;g.keepScrollPosition=!0,g.items=_,E&&(g.activeItems=E),g.keepScrollPosition=T}break}}}}}))),o}}e.PickerQuickAccessProvider=C,C.FAST_PICKS_RACE_DELAY=200});var ii=this&&this.__createBinding||(Object.create?function(q,e,w,m){m===void 0&&(m=w);var k=Object.getOwnPropertyDescriptor(e,w);(!k||("get"in k?!e.__esModule:k.writable||k.configurable))&&(k={enumerable:!0,get:function(){return e[w]}}),Object.defineProperty(q,m,k)}:function(q,e,w,m){m===void 0&&(m=w),q[m]=e[w]}),ni=this&&this.__exportStar||function(q,e){for(var w in q)w!=="default"&&!Object.prototype.hasOwnProperty.call(e,w)&&ii(e,q,w)};define(se[88],re([1,0,9,229]),function(q,e,w,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IQuickInputService=void 0,ni(m,e),e.IQuickInputService=(0,w.createDecorator)("quickInputService")}),define(se[33],re([1,0,83,19]),function(q,e,w,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Registry=void 0;class k{constructor(){this.data=new Map}add(L,b){w.ok(m.isString(L)),w.ok(m.isObject(b)),w.ok(!this.data.has(L),"There is already an extension with this id"),this.data.set(L,b)}as(L){return this.data.get(L)||null}}e.Registry=new k}),define(se[672],re([1,0,126,201,22,46,33]),function(q,e,w,m,k,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Extensions=e.createDraggedEditorInputFromRawResourcesData=e.extractEditorsDropData=e.CodeDataTransfers=void 0,e.CodeDataTransfers={EDITORS:"CodeEditors",FILES:"CodeFiles"};function b(g){var t;const i=[];if(g.dataTransfer&&g.dataTransfer.types.length>0){const n=g.dataTransfer.getData(e.CodeDataTransfers.EDITORS);if(n)try{i.push(...(0,m.parse)(n))}catch{}else try{const c=g.dataTransfer.getData(w.DataTransfers.RESOURCES);i.push(...C(c))}catch{}if(!((t=g.dataTransfer)===null||t===void 0)&&t.files)for(let c=0;c<g.dataTransfer.files.length;c++){const d=g.dataTransfer.files[c];if(d&&d.path)try{i.push({resource:k.URI.file(d.path),isExternal:!0,allowWorkspaceOpen:!0})}catch{}}const o=g.dataTransfer.getData(e.CodeDataTransfers.FILES);if(o)try{const c=JSON.parse(o);for(const d of c)i.push({resource:k.URI.file(d),isExternal:!0,allowWorkspaceOpen:!0})}catch{}const l=L.Registry.as(e.Extensions.DragAndDropContribution).getAll();for(const c of l){const d=g.dataTransfer.getData(c.dataFormatKey);if(d)try{i.push(...c.getEditorInputs(d))}catch{}}}return i}e.extractEditorsDropData=b;function C(g){const t=[];if(g){const i=JSON.parse(g);for(const n of i)if(n.indexOf(":")>0){const{selection:o,uri:l}=(0,D.extractSelection)(k.URI.parse(n));t.push({resource:l,options:{selection:o}})}}return t}e.createDraggedEditorInputFromRawResourcesData=C;class h{constructor(){this._contributions=new Map}getAll(){return this._contributions.values()}}e.Extensions={DragAndDropContribution:"workbench.contributions.dragAndDrop"},L.Registry.add(e.Extensions.DragAndDropContribution,new h)}),define(se[295],re([1,0,126,18,182,99,22,672]),function(q,e,w,m,k,D,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UriList=e.addExternalEditorsDropData=e.createFileDataTransferItemFromFile=e.toVSDataTransfer=void 0;function C(i){const n=new k.VSDataTransfer;for(const o of i.items){const l=o.type;if(o.kind==="string"){const c=new Promise(d=>o.getAsString(d));n.append(l,(0,k.createStringDataTransferItem)(c))}else if(o.kind==="file"){const c=o.getAsFile();c&&n.append(l,h(c))}}return n}e.toVSDataTransfer=C;function h(i){const n=i.path?L.URI.parse(i.path):void 0;return(0,k.createFileDataTransferItem)(i.name,n,()=>Se(this,void 0,void 0,function*(){return new Uint8Array(yield i.arrayBuffer())}))}e.createFileDataTransferItemFromFile=h;const g=Object.freeze([b.CodeDataTransfers.EDITORS,b.CodeDataTransfers.FILES,w.DataTransfers.RESOURCES]);function t(i,n,o=!1){var l;if(n.dataTransfer&&(o||!i.has(D.Mimes.uriList))){const c=(0,b.extractEditorsDropData)(n).filter(d=>d.resource).map(d=>d.resource.toString());for(const d of(l=n.dataTransfer)===null||l===void 0?void 0:l.items){const r=d.getAsFile();r&&c.push(r.path?L.URI.file(r.path).toString():r.name)}c.length&&i.replace(D.Mimes.uriList,(0,k.createStringDataTransferItem)(e.UriList.create(c)))}for(const c of g)i.delete(c)}e.addExternalEditorsDropData=t,e.UriList=Object.freeze({create:i=>(0,m.distinct)(i.map(n=>n.toString())).join(`\r
`),parse:i=>i.split(`\r
`).filter(n=>!n.startsWith("#"))})}),define(se[216],re([1,0,6,33]),function(q,e,w,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Extensions=void 0,e.Extensions={JSONContribution:"base.contributions.json"};function k(b){return b.length>0&&b.charAt(b.length-1)==="#"?b.substring(0,b.length-1):b}class D{constructor(){this._onDidChangeSchema=new w.Emitter,this.schemasById={}}registerSchema(C,h){this.schemasById[k(C)]=h,this._onDidChangeSchema.fire(C)}notifySchemaChanged(C){this._onDidChangeSchema.fire(C)}}const L=new D;m.Registry.add(e.Extensions.JSONContribution,L)}),define(se[89],re([1,0,18,6,19,632,30,216,33]),function(q,e,w,m,k,D,L,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.validateProperty=e.getDefaultValue=e.overrideIdentifiersFromKey=e.OVERRIDE_PROPERTY_REGEX=e.OVERRIDE_PROPERTY_PATTERN=e.resourceLanguageSettingsSchemaId=e.resourceSettings=e.windowSettings=e.machineOverridableSettings=e.machineSettings=e.applicationSettings=e.allSettings=e.Extensions=void 0,e.Extensions={Configuration:"base.contributions.configuration"},e.allSettings={properties:{},patternProperties:{}},e.applicationSettings={properties:{},patternProperties:{}},e.machineSettings={properties:{},patternProperties:{}},e.machineOverridableSettings={properties:{},patternProperties:{}},e.windowSettings={properties:{},patternProperties:{}},e.resourceSettings={properties:{},patternProperties:{}},e.resourceLanguageSettingsSchemaId="vscode://schemas/settings/resourceLanguage";const h=C.Registry.as(b.Extensions.JSONContribution);class g{constructor(){this.overrideIdentifiers=new Set,this._onDidSchemaChange=new m.Emitter,this._onDidUpdateConfiguration=new m.Emitter,this.configurationDefaultsOverrides=new Map,this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:D.localize(0,null),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!1,errorMessage:"Unknown editor configuration setting",allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.policyConfigurations=new Map,this.excludedConfigurationProperties={},h.registerSchema(e.resourceLanguageSettingsSchemaId,this.resourceLanguageSettingsSchema),this.registerOverridePropertyPatternKey()}registerConfiguration(r,s=!0){this.registerConfigurations([r],s)}registerConfigurations(r,s=!0){const a=this.doRegisterConfigurations(r,s);h.registerSchema(e.resourceLanguageSettingsSchemaId,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:a})}registerDefaultConfigurations(r){var s;const a=[],u=[];for(const{overrides:p,source:S}of r)for(const f in p)if(a.push(f),e.OVERRIDE_PROPERTY_REGEX.test(f)){const v=this.configurationDefaultsOverrides.get(f),_=(s=v?.valuesSources)!==null&&s!==void 0?s:new Map;if(S)for(const I of Object.keys(p[f]))_.set(I,S);const y=Object.assign(Object.assign({},v?.value||{}),p[f]);this.configurationDefaultsOverrides.set(f,{source:S,value:y,valuesSources:_});const E=(0,L.getLanguageTagSettingPlainKey)(f),T={type:"object",default:y,description:D.localize(1,null,E),$ref:e.resourceLanguageSettingsSchemaId,defaultDefaultValue:y,source:k.isString(S)?void 0:S,defaultValueSource:S};u.push(...n(f)),this.configurationProperties[f]=T,this.defaultLanguageConfigurationOverridesNode.properties[f]=T}else{this.configurationDefaultsOverrides.set(f,{value:p[f],source:S});const v=this.configurationProperties[f];v&&(this.updatePropertyDefaultValue(f,v),this.updateSchema(f,v))}this.registerOverrideIdentifiers(u),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:a,defaultsOverrides:!0})}registerOverrideIdentifiers(r){for(const s of r)this.overrideIdentifiers.add(s);this.updateOverridePropertyPatternKey()}doRegisterConfigurations(r,s){const a=[];return r.forEach(u=>{a.push(...this.validateAndRegisterProperties(u,s,u.extensionInfo,u.restrictedProperties)),this.configurationContributors.push(u),this.registerJSONConfiguration(u)}),a}validateAndRegisterProperties(r,s=!0,a,u,p=3){var S;p=k.isUndefinedOrNull(r.scope)?p:r.scope;const f=[],v=r.properties;if(v)for(const y in v){const E=v[y];if(s&&c(y,E)){delete v[y];continue}if(E.source=a,E.defaultDefaultValue=v[y].default,this.updatePropertyDefaultValue(y,E),e.OVERRIDE_PROPERTY_REGEX.test(y)?E.scope=void 0:(E.scope=k.isUndefinedOrNull(E.scope)?p:E.scope,E.restricted=k.isUndefinedOrNull(E.restricted)?!!u?.includes(y):E.restricted),v[y].hasOwnProperty("included")&&!v[y].included){this.excludedConfigurationProperties[y]=v[y],delete v[y];continue}else this.configurationProperties[y]=v[y],!((S=v[y].policy)===null||S===void 0)&&S.name&&this.policyConfigurations.set(v[y].policy.name,y);!v[y].deprecationMessage&&v[y].markdownDeprecationMessage&&(v[y].deprecationMessage=v[y].markdownDeprecationMessage),f.push(y)}const _=r.allOf;if(_)for(const y of _)f.push(...this.validateAndRegisterProperties(y,s,a,u,p));return f}getConfigurationProperties(){return this.configurationProperties}getPolicyConfigurations(){return this.policyConfigurations}registerJSONConfiguration(r){const s=a=>{const u=a.properties;if(u)for(const S in u)this.updateSchema(S,u[S]);const p=a.allOf;p?.forEach(s)};s(r)}updateSchema(r,s){switch(e.allSettings.properties[r]=s,s.scope){case 1:e.applicationSettings.properties[r]=s;break;case 2:e.machineSettings.properties[r]=s;break;case 6:e.machineOverridableSettings.properties[r]=s;break;case 3:e.windowSettings.properties[r]=s;break;case 4:e.resourceSettings.properties[r]=s;break;case 5:e.resourceSettings.properties[r]=s,this.resourceLanguageSettingsSchema.properties[r]=s;break}}updateOverridePropertyPatternKey(){for(const r of this.overrideIdentifiers.values()){const s=`[${r}]`,a={type:"object",description:D.localize(2,null),errorMessage:D.localize(3,null),$ref:e.resourceLanguageSettingsSchemaId};this.updatePropertyDefaultValue(s,a),e.allSettings.properties[s]=a,e.applicationSettings.properties[s]=a,e.machineSettings.properties[s]=a,e.machineOverridableSettings.properties[s]=a,e.windowSettings.properties[s]=a,e.resourceSettings.properties[s]=a}this._onDidSchemaChange.fire()}registerOverridePropertyPatternKey(){const r={type:"object",description:D.localize(4,null),errorMessage:D.localize(5,null),$ref:e.resourceLanguageSettingsSchemaId};e.allSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=r,e.applicationSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=r,e.machineSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=r,e.machineOverridableSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=r,e.windowSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=r,e.resourceSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=r,this._onDidSchemaChange.fire()}updatePropertyDefaultValue(r,s){const a=this.configurationDefaultsOverrides.get(r);let u=a?.value,p=a?.source;k.isUndefined(u)&&(u=s.defaultDefaultValue,p=void 0),k.isUndefined(u)&&(u=o(s.type)),s.default=u,s.defaultValueSource=p}}const t="\\[([^\\]]+)\\]",i=new RegExp(t,"g");e.OVERRIDE_PROPERTY_PATTERN=`^(${t})+$`,e.OVERRIDE_PROPERTY_REGEX=new RegExp(e.OVERRIDE_PROPERTY_PATTERN);function n(d){const r=[];if(e.OVERRIDE_PROPERTY_REGEX.test(d)){let s=i.exec(d);for(;s?.length;){const a=s[1].trim();a&&r.push(a),s=i.exec(d)}}return(0,w.distinct)(r)}e.overrideIdentifiersFromKey=n;function o(d){switch(Array.isArray(d)?d[0]:d){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}e.getDefaultValue=o;const l=new g;C.Registry.add(e.Extensions.Configuration,l);function c(d,r){var s,a,u,p;return d.trim()?e.OVERRIDE_PROPERTY_REGEX.test(d)?D.localize(7,null,d):l.getConfigurationProperties()[d]!==void 0?D.localize(8,null,d):((s=r.policy)===null||s===void 0?void 0:s.name)&&l.getPolicyConfigurations().get((a=r.policy)===null||a===void 0?void 0:a.name)!==void 0?D.localize(9,null,d,(u=r.policy)===null||u===void 0?void 0:u.name,l.getPolicyConfigurations().get((p=r.policy)===null||p===void 0?void 0:p.name)):null:D.localize(6,null)}e.validateProperty=c}),define(se[217],re([1,0,38,154,547,89,33]),function(q,e,w,m,k,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isDiffEditorConfigurationKey=e.isEditorConfigurationKey=e.editorConfigurationBaseNode=void 0,e.editorConfigurationBaseNode=Object.freeze({id:"editor",order:5,type:"object",title:k.localize(0,null),scope:5});const b=Object.assign(Object.assign({},e.editorConfigurationBaseNode),{properties:{"editor.tabSize":{type:"number",default:m.EDITOR_MODEL_DEFAULTS.tabSize,minimum:1,markdownDescription:k.localize(1,null,"`#editor.detectIndentation#`")},"editor.insertSpaces":{type:"boolean",default:m.EDITOR_MODEL_DEFAULTS.insertSpaces,markdownDescription:k.localize(2,null,"`#editor.detectIndentation#`")},"editor.detectIndentation":{type:"boolean",default:m.EDITOR_MODEL_DEFAULTS.detectIndentation,markdownDescription:k.localize(3,null,"`#editor.tabSize#`","`#editor.insertSpaces#`")},"editor.trimAutoWhitespace":{type:"boolean",default:m.EDITOR_MODEL_DEFAULTS.trimAutoWhitespace,description:k.localize(4,null)},"editor.largeFileOptimizations":{type:"boolean",default:m.EDITOR_MODEL_DEFAULTS.largeFileOptimizations,description:k.localize(5,null)},"editor.wordBasedSuggestions":{type:"boolean",default:!0,description:k.localize(6,null)},"editor.wordBasedSuggestionsMode":{enum:["currentDocument","matchingDocuments","allDocuments"],default:"matchingDocuments",enumDescriptions:[k.localize(7,null),k.localize(8,null),k.localize(9,null)],description:k.localize(10,null)},"editor.semanticHighlighting.enabled":{enum:[!0,!1,"configuredByTheme"],enumDescriptions:[k.localize(11,null),k.localize(12,null),k.localize(13,null)],default:"configuredByTheme",description:k.localize(14,null)},"editor.stablePeek":{type:"boolean",default:!1,markdownDescription:k.localize(15,null)},"editor.maxTokenizationLineLength":{type:"integer",default:2e4,description:k.localize(16,null)},"editor.language.brackets":{type:["array","null"],default:null,description:k.localize(17,null),items:{type:"array",items:[{type:"string",description:k.localize(18,null)},{type:"string",description:k.localize(19,null)}]}},"editor.language.colorizedBracketPairs":{type:["array","null"],default:null,description:k.localize(20,null),items:{type:"array",items:[{type:"string",description:k.localize(21,null)},{type:"string",description:k.localize(22,null)}]}},"diffEditor.maxComputationTime":{type:"number",default:5e3,description:k.localize(23,null)},"diffEditor.maxFileSize":{type:"number",default:50,description:k.localize(24,null)},"diffEditor.renderSideBySide":{type:"boolean",default:!0,description:k.localize(25,null)},"diffEditor.renderMarginRevertIcon":{type:"boolean",default:!0,description:k.localize(26,null)},"diffEditor.ignoreTrimWhitespace":{type:"boolean",default:!0,description:k.localize(27,null)},"diffEditor.renderIndicators":{type:"boolean",default:!0,description:k.localize(28,null)},"diffEditor.codeLens":{type:"boolean",default:!1,description:k.localize(29,null)},"diffEditor.wordWrap":{type:"string",enum:["off","on","inherit"],default:"inherit",markdownEnumDescriptions:[k.localize(30,null),k.localize(31,null),k.localize(32,null,"`#editor.wordWrap#`")]},"diffEditor.diffAlgorithm":{type:"string",enum:["smart","experimental"],default:"smart",markdownEnumDescriptions:[k.localize(33,null),k.localize(34,null)]}}});function C(o){return typeof o.type<"u"||typeof o.anyOf<"u"}for(const o of w.editorOptionsRegistry){const l=o.schema;if(typeof l<"u")if(C(l))b.properties[`editor.${o.name}`]=l;else for(const c in l)Object.hasOwnProperty.call(l,c)&&(b.properties[c]=l[c])}let h=null;function g(){return h===null&&(h=Object.create(null),Object.keys(b.properties).forEach(o=>{h[o]=!0})),h}function t(o){return g()[`editor.${o}`]||!1}e.isEditorConfigurationKey=t;function i(o){return g()[`diffEditor.${o}`]||!1}e.isDiffEditorConfigurationKey=i,L.Registry.as(D.Extensions.Configuration).registerConfiguration(b)}),define(se[74],re([1,0,552,6,33,99,89]),function(q,e,w,m,k,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PLAINTEXT_EXTENSION=e.PLAINTEXT_LANGUAGE_ID=e.ModesRegistry=e.EditorModesRegistry=e.Extensions=void 0,e.Extensions={ModesRegistry:"editor.modesRegistry"};class b{constructor(){this._onDidChangeLanguages=new m.Emitter,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[]}registerLanguage(h){return this._languages.push(h),this._onDidChangeLanguages.fire(void 0),{dispose:()=>{for(let g=0,t=this._languages.length;g<t;g++)if(this._languages[g]===h){this._languages.splice(g,1);return}}}}getLanguages(){return this._languages}}e.EditorModesRegistry=b,e.ModesRegistry=new b,k.Registry.add(e.Extensions.ModesRegistry,e.ModesRegistry),e.PLAINTEXT_LANGUAGE_ID="plaintext",e.PLAINTEXT_EXTENSION=".txt",e.ModesRegistry.registerLanguage({id:e.PLAINTEXT_LANGUAGE_ID,extensions:[e.PLAINTEXT_EXTENSION],aliases:[w.localize(0,null),"text"],mimetypes:[D.Mimes.text]}),k.Registry.as(L.Extensions.Configuration).registerDefaultConfigurations([{overrides:{"[plaintext]":{"editor.unicodeHighlight.ambiguousCharacters":!1,"editor.unicodeHighlight.invisibleCharacters":!1}}}])}),define(se[34],re([1,0,6,2,8,132,100,112,430,522,431,434,209,9,30,39,52,74,433]),function(q,e,w,m,k,D,L,b,C,h,g,t,i,n,o,l,c,d,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResolvedLanguageConfiguration=e.LanguageConfigurationRegistry=e.LanguageConfigurationChangeEvent=e.getScopedLineTokens=e.getIndentationAtPosition=e.LanguageConfigurationService=e.ILanguageConfigurationService=e.LanguageConfigurationServiceChangeEvent=void 0;class s{constructor(M){this.languageId=M}affects(M){return this.languageId?this.languageId===M:!0}}e.LanguageConfigurationServiceChangeEvent=s,e.ILanguageConfigurationService=(0,n.createDecorator)("languageConfigurationService");let a=class extends m.Disposable{constructor(M,N){super(),this.configurationService=M,this.languageService=N,this._registry=this._register(new R),this.onDidChangeEmitter=this._register(new w.Emitter),this.onDidChange=this.onDidChangeEmitter.event,this.configurations=new Map;const A=new Set(Object.values(p));this._register(this.configurationService.onDidChangeConfiguration(B=>{const W=B.change.keys.some(P=>A.has(P)),x=B.change.overrides.filter(([P,X])=>X.some(ie=>A.has(ie))).map(([P])=>P);if(W)this.configurations.clear(),this.onDidChangeEmitter.fire(new s(void 0));else for(const P of x)this.languageService.isRegisteredLanguageId(P)&&(this.configurations.delete(P),this.onDidChangeEmitter.fire(new s(P)))})),this._register(this._registry.onDidChange(B=>{this.configurations.delete(B.languageId),this.onDidChangeEmitter.fire(new s(B.languageId))}))}register(M,N,A){return this._registry.register(M,N,A)}getLanguageConfiguration(M){let N=this.configurations.get(M);return N||(N=u(M,this._registry,this.configurationService,this.languageService),this.configurations.set(M,N)),N}};a=De([fe(0,o.IConfigurationService),fe(1,l.ILanguageService)],a),e.LanguageConfigurationService=a;function u(O,M,N,A){let B=M.getLanguageConfiguration(O);if(!B){if(!A.isRegisteredLanguageId(O))throw new Error(`Language id "${O}" is not configured nor known`);B=new F(O,{})}const W=S(B.languageId,N),x=E([B.underlyingConfig,W]);return new F(B.languageId,x)}const p={brackets:"editor.language.brackets",colorizedBracketPairs:"editor.language.colorizedBracketPairs"};function S(O,M){const N=M.getValue(p.brackets,{overrideIdentifier:O}),A=M.getValue(p.colorizedBracketPairs,{overrideIdentifier:O});return{brackets:f(N),colorizedBracketPairs:f(A)}}function f(O){if(!!Array.isArray(O))return O.map(M=>{if(!(!Array.isArray(M)||M.length!==2))return[M[0],M[1]]}).filter(M=>!!M)}function v(O,M,N){const A=O.getLineContent(M);let B=k.getLeadingWhitespace(A);return B.length>N-1&&(B=B.substring(0,N-1)),B}e.getIndentationAtPosition=v;function _(O,M,N){O.tokenization.forceTokenization(M);const A=O.tokenization.getLineTokens(M),B=typeof N>"u"?O.getLineMaxColumn(M)-1:N-1;return(0,b.createScopedLineTokens)(A,B)}e.getScopedLineTokens=_;class y{constructor(M){this.languageId=M,this._resolved=null,this._entries=[],this._order=0,this._resolved=null}register(M,N){const A=new T(M,N,++this._order);return this._entries.push(A),this._resolved=null,(0,m.toDisposable)(()=>{for(let B=0;B<this._entries.length;B++)if(this._entries[B]===A){this._entries.splice(B,1),this._resolved=null;break}})}getResolvedConfiguration(){if(!this._resolved){const M=this._resolve();M&&(this._resolved=new F(this.languageId,M))}return this._resolved}_resolve(){return this._entries.length===0?null:(this._entries.sort(T.cmp),E(this._entries.map(M=>M.configuration)))}}function E(O){let M={comments:void 0,brackets:void 0,wordPattern:void 0,indentationRules:void 0,onEnterRules:void 0,autoClosingPairs:void 0,surroundingPairs:void 0,autoCloseBefore:void 0,folding:void 0,colorizedBracketPairs:void 0,__electricCharacterSupport:void 0};for(const N of O)M={comments:N.comments||M.comments,brackets:N.brackets||M.brackets,wordPattern:N.wordPattern||M.wordPattern,indentationRules:N.indentationRules||M.indentationRules,onEnterRules:N.onEnterRules||M.onEnterRules,autoClosingPairs:N.autoClosingPairs||M.autoClosingPairs,surroundingPairs:N.surroundingPairs||M.surroundingPairs,autoCloseBefore:N.autoCloseBefore||M.autoCloseBefore,folding:N.folding||M.folding,colorizedBracketPairs:N.colorizedBracketPairs||M.colorizedBracketPairs,__electricCharacterSupport:N.__electricCharacterSupport||M.__electricCharacterSupport};return M}class T{constructor(M,N,A){this.configuration=M,this.priority=N,this.order=A}static cmp(M,N){return M.priority===N.priority?M.order-N.order:M.priority-N.priority}}class I{constructor(M){this.languageId=M}}e.LanguageConfigurationChangeEvent=I;class R extends m.Disposable{constructor(){super(),this._entries=new Map,this._onDidChange=this._register(new w.Emitter),this.onDidChange=this._onDidChange.event,this._register(this.register(d.PLAINTEXT_LANGUAGE_ID,{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],colorizedBracketPairs:[],folding:{offSide:!0}},0))}register(M,N,A=0){let B=this._entries.get(M);B||(B=new y(M),this._entries.set(M,B));const W=B.register(N,A);return this._onDidChange.fire(new I(M)),(0,m.toDisposable)(()=>{W.dispose(),this._onDidChange.fire(new I(M))})}getLanguageConfiguration(M){const N=this._entries.get(M);return N?.getResolvedConfiguration()||null}}e.LanguageConfigurationRegistry=R;class F{constructor(M,N){this.languageId=M,this.underlyingConfig=N,this._brackets=null,this._electricCharacter=null,this._onEnterSupport=this.underlyingConfig.brackets||this.underlyingConfig.indentationRules||this.underlyingConfig.onEnterRules?new t.OnEnterSupport(this.underlyingConfig):null,this.comments=F._handleComments(this.underlyingConfig),this.characterPair=new C.CharacterPairSupport(this.underlyingConfig),this.wordDefinition=this.underlyingConfig.wordPattern||D.DEFAULT_WORD_REGEXP,this.indentationRules=this.underlyingConfig.indentationRules,this.underlyingConfig.indentationRules?this.indentRulesSupport=new g.IndentRulesSupport(this.underlyingConfig.indentationRules):this.indentRulesSupport=null,this.foldingRules=this.underlyingConfig.folding||{},this.bracketsNew=new r.LanguageBracketsConfiguration(M,this.underlyingConfig)}getWordDefinition(){return(0,D.ensureValidWordDefinition)(this.wordDefinition)}get brackets(){return!this._brackets&&this.underlyingConfig.brackets&&(this._brackets=new i.RichEditBrackets(this.languageId,this.underlyingConfig.brackets)),this._brackets}get electricCharacter(){return this._electricCharacter||(this._electricCharacter=new h.BracketElectricCharacterSupport(this.brackets)),this._electricCharacter}onEnter(M,N,A,B){return this._onEnterSupport?this._onEnterSupport.onEnter(M,N,A,B):null}getAutoClosingPairs(){return new L.AutoClosingPairs(this.characterPair.getAutoClosingPairs())}getAutoCloseBeforeSet(){return this.characterPair.getAutoCloseBeforeSet()}getSurroundingPairs(){return this.characterPair.getSurroundingPairs()}static _handleComments(M){const N=M.comments;if(!N)return null;const A={};if(N.lineComment&&(A.lineCommentToken=N.lineComment),N.blockComment){const[B,W]=N.blockComment;A.blockCommentStartToken=B,A.blockCommentEndToken=W}return A}}e.ResolvedLanguageConfiguration=F,(0,c.registerSingleton)(e.ILanguageConfigurationService,a,1)}),define(se[296],re([1,0,10,2,272,514,3,34,530,51,168,8,18,72,56,14,20]),function(q,e,w,m,k,D,L,b,C,h,g,t,i,n,o,l,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorWorkerClient=e.EditorWorkerHost=e.EditorWorkerService=void 0;const d=60*1e3,r=5*60*1e3;function s(y,E){const T=y.getModel(E);return!(!T||T.isTooLargeForSyncing())}let a=class extends m.Disposable{constructor(E,T,I,R,F){super(),this._modelService=E,this._workerManager=this._register(new p(this._modelService,R)),this._logService=I,this._register(F.linkProvider.register({language:"*",hasAccessToAllModels:!0},{provideLinks:(O,M)=>s(this._modelService,O.uri)?this._workerManager.withWorker().then(N=>N.computeLinks(O.uri)).then(N=>N&&{links:N}):Promise.resolve({links:[]})})),this._register(F.completionProvider.register("*",new u(this._workerManager,T,this._modelService,R)))}dispose(){super.dispose()}canComputeUnicodeHighlights(E){return s(this._modelService,E)}computedUnicodeHighlights(E,T,I){return this._workerManager.withWorker().then(R=>R.computedUnicodeHighlights(E,T,I))}computeDiff(E,T,I){return this._workerManager.withWorker().then(R=>R.computeDiff(E,T,I))}computeMoreMinimalEdits(E,T){if((0,i.isNonEmptyArray)(T)){if(!s(this._modelService,E))return Promise.resolve(T);const I=o.StopWatch.create(!0),R=this._workerManager.withWorker().then(F=>F.computeMoreMinimalEdits(E,T));return R.finally(()=>this._logService.trace("FORMAT#computeMoreMinimalEdits",E.toString(!0),I.elapsed())),Promise.race([R,(0,w.timeout)(1e3).then(()=>T)])}else return Promise.resolve(void 0)}canNavigateValueSet(E){return s(this._modelService,E)}navigateValueSet(E,T,I){return this._workerManager.withWorker().then(R=>R.navigateValueSet(E,T,I))}canComputeWordRanges(E){return s(this._modelService,E)}computeWordRanges(E,T){return this._workerManager.withWorker().then(I=>I.computeWordRanges(E,T))}};a=De([fe(0,h.IModelService),fe(1,g.ITextResourceConfigurationService),fe(2,n.ILogService),fe(3,b.ILanguageConfigurationService),fe(4,c.ILanguageFeaturesService)],a),e.EditorWorkerService=a;class u{constructor(E,T,I,R){this.languageConfigurationService=R,this._debugDisplayName="wordbasedCompletions",this._workerManager=E,this._configurationService=T,this._modelService=I}provideCompletionItems(E,T){return Se(this,void 0,void 0,function*(){const I=this._configurationService.getValue(E.uri,T,"editor");if(!I.wordBasedSuggestions)return;const R=[];if(I.wordBasedSuggestionsMode==="currentDocument")s(this._modelService,E.uri)&&R.push(E.uri);else for(const W of this._modelService.getModels())!s(this._modelService,W.uri)||(W===E?R.unshift(W.uri):(I.wordBasedSuggestionsMode==="allDocuments"||W.getLanguageId()===E.getLanguageId())&&R.push(W.uri));if(R.length===0)return;const F=this.languageConfigurationService.getLanguageConfiguration(E.getLanguageId()).getWordDefinition(),O=E.getWordAtPosition(T),M=O?new L.Range(T.lineNumber,O.startColumn,T.lineNumber,O.endColumn):L.Range.fromPositions(T),N=M.setEndPosition(T.lineNumber,T.column),B=yield(yield this._workerManager.withWorker()).textualSuggest(R,O?.word,F);if(!!B)return{duration:B.duration,suggestions:B.words.map(W=>({kind:18,label:W,insertText:W,range:{insert:N,replace:M}}))}})}}class p extends m.Disposable{constructor(E,T){super(),this.languageConfigurationService=T,this._modelService=E,this._editorWorkerClient=null,this._lastWorkerUsedTime=new Date().getTime(),this._register(new w.IntervalTimer).cancelAndSet(()=>this._checkStopIdleWorker(),Math.round(r/2)),this._register(this._modelService.onModelRemoved(R=>this._checkStopEmptyWorker()))}dispose(){this._editorWorkerClient&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null),super.dispose()}_checkStopEmptyWorker(){if(!this._editorWorkerClient)return;this._modelService.getModels().length===0&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}_checkStopIdleWorker(){if(!this._editorWorkerClient)return;new Date().getTime()-this._lastWorkerUsedTime>r&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}withWorker(){return this._lastWorkerUsedTime=new Date().getTime(),this._editorWorkerClient||(this._editorWorkerClient=new _(this._modelService,!1,"editorWorkerService",this.languageConfigurationService)),Promise.resolve(this._editorWorkerClient)}}class S extends m.Disposable{constructor(E,T,I){if(super(),this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),this._proxy=E,this._modelService=T,!I){const R=new w.IntervalTimer;R.cancelAndSet(()=>this._checkStopModelSync(),Math.round(d/2)),this._register(R)}}dispose(){for(const E in this._syncedModels)(0,m.dispose)(this._syncedModels[E]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),super.dispose()}ensureSyncedResources(E,T){for(const I of E){const R=I.toString();this._syncedModels[R]||this._beginModelSync(I,T),this._syncedModels[R]&&(this._syncedModelsLastUsedTime[R]=new Date().getTime())}}_checkStopModelSync(){const E=new Date().getTime(),T=[];for(const I in this._syncedModelsLastUsedTime)E-this._syncedModelsLastUsedTime[I]>d&&T.push(I);for(const I of T)this._stopModelSync(I)}_beginModelSync(E,T){const I=this._modelService.getModel(E);if(!I||!T&&I.isTooLargeForSyncing())return;const R=E.toString();this._proxy.acceptNewModel({url:I.uri.toString(),lines:I.getLinesContent(),EOL:I.getEOL(),versionId:I.getVersionId()});const F=new m.DisposableStore;F.add(I.onDidChangeContent(O=>{this._proxy.acceptModelChanged(R.toString(),O)})),F.add(I.onWillDispose(()=>{this._stopModelSync(R)})),F.add((0,m.toDisposable)(()=>{this._proxy.acceptRemovedModel(R)})),this._syncedModels[R]=F}_stopModelSync(E){const T=this._syncedModels[E];delete this._syncedModels[E],delete this._syncedModelsLastUsedTime[E],(0,m.dispose)(T)}}class f{constructor(E){this._instance=E,this._proxyObj=Promise.resolve(this._instance)}dispose(){this._instance.dispose()}getProxyObject(){return this._proxyObj}}class v{constructor(E){this._workerClient=E}fhr(E,T){return this._workerClient.fhr(E,T)}}e.EditorWorkerHost=v;class _ extends m.Disposable{constructor(E,T,I,R){super(),this.languageConfigurationService=R,this._disposed=!1,this._modelService=E,this._keepIdleModels=T,this._workerFactory=new D.DefaultWorkerFactory(I),this._worker=null,this._modelManager=null}fhr(E,T){throw new Error("Not implemented!")}_getOrCreateWorker(){if(!this._worker)try{this._worker=this._register(new k.SimpleWorkerClient(this._workerFactory,"vs/editor/common/services/editorSimpleWorker",new v(this)))}catch(E){(0,k.logOnceWebWorkerWarning)(E),this._worker=new f(new C.EditorSimpleWorker(new v(this),null))}return this._worker}_getProxy(){return this._getOrCreateWorker().getProxyObject().then(void 0,E=>((0,k.logOnceWebWorkerWarning)(E),this._worker=new f(new C.EditorSimpleWorker(new v(this),null)),this._getOrCreateWorker().getProxyObject()))}_getOrCreateModelManager(E){return this._modelManager||(this._modelManager=this._register(new S(E,this._modelService,this._keepIdleModels))),this._modelManager}_withSyncedResources(E,T=!1){return Se(this,void 0,void 0,function*(){return this._disposed?Promise.reject((0,l.canceled)()):this._getProxy().then(I=>(this._getOrCreateModelManager(I).ensureSyncedResources(E,T),I))})}computedUnicodeHighlights(E,T,I){return this._withSyncedResources([E]).then(R=>R.computeUnicodeHighlights(E.toString(),T,I))}computeDiff(E,T,I){return this._withSyncedResources([E,T],!0).then(R=>R.computeDiff(E.toString(),T.toString(),I))}computeMoreMinimalEdits(E,T){return this._withSyncedResources([E]).then(I=>I.computeMoreMinimalEdits(E.toString(),T))}computeLinks(E){return this._withSyncedResources([E]).then(T=>T.computeLinks(E.toString()))}textualSuggest(E,T,I){return Se(this,void 0,void 0,function*(){const R=yield this._withSyncedResources(E),F=I.source,O=(0,t.regExpFlags)(I);return R.textualSuggest(E.map(M=>M.toString()),T,F,O)})}computeWordRanges(E,T){return this._withSyncedResources([E]).then(I=>{const R=this._modelService.getModel(E);if(!R)return Promise.resolve(null);const F=this.languageConfigurationService.getLanguageConfiguration(R.getLanguageId()).getWordDefinition(),O=F.source,M=(0,t.regExpFlags)(F);return I.computeWordRanges(E.toString(),T,O,M)})}navigateValueSet(E,T,I){return this._withSyncedResources([E]).then(R=>{const F=this._modelService.getModel(E);if(!F)return null;const O=this.languageConfigurationService.getLanguageConfiguration(F.getLanguageId()).getWordDefinition(),M=O.source,N=(0,t.regExpFlags)(O);return R.navigateValueSet(E.toString(),T,I,M,N)})}dispose(){super.dispose(),this._disposed=!0}}e.EditorWorkerClient=_}),define(se[673],re([1,0,36,296]),function(q,e,w,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createWebWorker=void 0;function k(L,b,C){return new D(L,b,C)}e.createWebWorker=k;class D extends m.EditorWorkerClient{constructor(b,C,h){super(b,h.keepIdleModels||!1,h.label,C),this._foreignModuleId=h.moduleId,this._foreignModuleCreateData=h.createData||null,this._foreignModuleHost=h.host||null,this._foreignProxy=null}fhr(b,C){if(!this._foreignModuleHost||typeof this._foreignModuleHost[b]!="function")return Promise.reject(new Error("Missing method "+b+" or missing main thread foreign host."));try{return Promise.resolve(this._foreignModuleHost[b].apply(this._foreignModuleHost,C))}catch(h){return Promise.reject(h)}}_getForeignProxy(){return this._foreignProxy||(this._foreignProxy=this._getProxy().then(b=>{const C=this._foreignModuleHost?(0,w.getAllMethodNames)(this._foreignModuleHost):[];return b.loadForeignModule(this._foreignModuleId,this._foreignModuleCreateData,C).then(h=>{this._foreignModuleCreateData=null;const g=(n,o)=>b.fmr(n,o),t=(n,o)=>function(){const l=Array.prototype.slice.call(arguments,0);return o(n,l)},i={};for(const n of h)i[n]=t(n,g);return i})})),this._foreignProxy}getProxy(){return this._getForeignProxy()}withSyncedResources(b){return this._withSyncedResources(b).then(C=>this.getProxy())}}}),define(se[218],re([1,0,8,100,112,34]),function(q,e,w,m,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getIndentMetadata=e.getIndentActionForType=e.getIndentForEnter=e.getGoodIndentForLine=e.getInheritIndentForLine=void 0;function L(i,n,o){const l=i.tokenization.getLanguageIdAtPosition(n,0);if(n>1){let c,d=-1;for(c=n-1;c>=1;c--){if(i.tokenization.getLanguageIdAtPosition(c,0)!==l)return d;const r=i.getLineContent(c);if(o.shouldIgnore(r)||/^\s+$/.test(r)||r===""){d=c;continue}return c}}return-1}function b(i,n,o,l=!0,c){if(i<4)return null;const d=c.getLanguageConfiguration(n.tokenization.getLanguageId()).indentRulesSupport;if(!d)return null;if(o<=1)return{indentation:"",action:null};const r=L(n,o,d);if(r<0)return null;if(r<1)return{indentation:"",action:null};const s=n.getLineContent(r);if(d.shouldIncrease(s)||d.shouldIndentNextLine(s))return{indentation:w.getLeadingWhitespace(s),action:m.IndentAction.Indent,line:r};if(d.shouldDecrease(s))return{indentation:w.getLeadingWhitespace(s),action:null,line:r};{if(r===1)return{indentation:w.getLeadingWhitespace(n.getLineContent(r)),action:null,line:r};const a=r-1,u=d.getIndentMetadata(n.getLineContent(a));if(!(u&3)&&u&4){let p=0;for(let S=a-1;S>0;S--)if(!d.shouldIndentNextLine(n.getLineContent(S))){p=S;break}return{indentation:w.getLeadingWhitespace(n.getLineContent(p+1)),action:null,line:p+1}}if(l)return{indentation:w.getLeadingWhitespace(n.getLineContent(r)),action:null,line:r};for(let p=r;p>0;p--){const S=n.getLineContent(p);if(d.shouldIncrease(S))return{indentation:w.getLeadingWhitespace(S),action:m.IndentAction.Indent,line:p};if(d.shouldIndentNextLine(S)){let f=0;for(let v=p-1;v>0;v--)if(!d.shouldIndentNextLine(n.getLineContent(p))){f=v;break}return{indentation:w.getLeadingWhitespace(n.getLineContent(f+1)),action:null,line:f+1}}else if(d.shouldDecrease(S))return{indentation:w.getLeadingWhitespace(S),action:null,line:p}}return{indentation:w.getLeadingWhitespace(n.getLineContent(1)),action:null,line:1}}}e.getInheritIndentForLine=b;function C(i,n,o,l,c,d){if(i<4)return null;const r=d.getLanguageConfiguration(o);if(!r)return null;const s=d.getLanguageConfiguration(o).indentRulesSupport;if(!s)return null;const a=b(i,n,l,void 0,d),u=n.getLineContent(l);if(a){const p=a.line;if(p!==void 0){const S=r.onEnter(i,"",n.getLineContent(p),"");if(S){let f=w.getLeadingWhitespace(n.getLineContent(p));return S.removeText&&(f=f.substring(0,f.length-S.removeText)),S.indentAction===m.IndentAction.Indent||S.indentAction===m.IndentAction.IndentOutdent?f=c.shiftIndent(f):S.indentAction===m.IndentAction.Outdent&&(f=c.unshiftIndent(f)),s.shouldDecrease(u)&&(f=c.unshiftIndent(f)),S.appendText&&(f+=S.appendText),w.getLeadingWhitespace(f)}}return s.shouldDecrease(u)?a.action===m.IndentAction.Indent?a.indentation:c.unshiftIndent(a.indentation):a.action===m.IndentAction.Indent?c.shiftIndent(a.indentation):a.indentation}return null}e.getGoodIndentForLine=C;function h(i,n,o,l,c){if(i<4)return null;n.tokenization.forceTokenization(o.startLineNumber);const d=n.tokenization.getLineTokens(o.startLineNumber),r=(0,k.createScopedLineTokens)(d,o.startColumn-1),s=r.getLineContent();let a=!1,u;r.firstCharOffset>0&&d.getLanguageId(0)!==r.languageId?(a=!0,u=s.substr(0,o.startColumn-1-r.firstCharOffset)):u=d.getLineContent().substring(0,o.startColumn-1);let p;o.isEmpty()?p=s.substr(o.startColumn-1-r.firstCharOffset):p=(0,D.getScopedLineTokens)(n,o.endLineNumber,o.endColumn).getLineContent().substr(o.endColumn-1-r.firstCharOffset);const S=c.getLanguageConfiguration(r.languageId).indentRulesSupport;if(!S)return null;const f=u,v=w.getLeadingWhitespace(u),_={tokenization:{getLineTokens:I=>n.tokenization.getLineTokens(I),getLanguageId:()=>n.getLanguageId(),getLanguageIdAtPosition:(I,R)=>n.getLanguageIdAtPosition(I,R)},getLineContent:I=>I===o.startLineNumber?f:n.getLineContent(I)},y=w.getLeadingWhitespace(d.getLineContent()),E=b(i,_,o.startLineNumber+1,void 0,c);if(!E){const I=a?y:v;return{beforeEnter:I,afterEnter:I}}let T=a?y:E.indentation;return E.action===m.IndentAction.Indent&&(T=l.shiftIndent(T)),S.shouldDecrease(p)&&(T=l.unshiftIndent(T)),{beforeEnter:a?y:v,afterEnter:T}}e.getIndentForEnter=h;function g(i,n,o,l,c,d){if(i<4)return null;const r=(0,D.getScopedLineTokens)(n,o.startLineNumber,o.startColumn);if(r.firstCharOffset)return null;const s=d.getLanguageConfiguration(r.languageId).indentRulesSupport;if(!s)return null;const a=r.getLineContent(),u=a.substr(0,o.startColumn-1-r.firstCharOffset);let p;if(o.isEmpty()?p=a.substr(o.startColumn-1-r.firstCharOffset):p=(0,D.getScopedLineTokens)(n,o.endLineNumber,o.endColumn).getLineContent().substr(o.endColumn-1-r.firstCharOffset),!s.shouldDecrease(u+p)&&s.shouldDecrease(u+l+p)){const S=b(i,n,o.startLineNumber,!1,d);if(!S)return null;let f=S.indentation;return S.action!==m.IndentAction.Indent&&(f=c.unshiftIndent(f)),f}return null}e.getIndentActionForType=g;function t(i,n,o){const l=o.getLanguageConfiguration(i.getLanguageId()).indentRulesSupport;return!l||n<1||n>i.getLineCount()?null:l.getIndentMetadata(i.getLineContent(n))}e.getIndentMetadata=t}),define(se[219],re([1,0,100,34]),function(q,e,w,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getEnterAction=void 0;function k(D,L,b,C){const h=(0,m.getScopedLineTokens)(L,b.startLineNumber,b.startColumn),g=C.getLanguageConfiguration(h.languageId);if(!g)return null;const t=h.getLineContent(),i=t.substr(0,b.startColumn-1-h.firstCharOffset);let n;b.isEmpty()?n=t.substr(b.startColumn-1-h.firstCharOffset):n=(0,m.getScopedLineTokens)(L,b.endLineNumber,b.endColumn).getLineContent().substr(b.endColumn-1-h.firstCharOffset);let o="";if(b.startLineNumber>1&&h.firstCharOffset===0){const a=(0,m.getScopedLineTokens)(L,b.startLineNumber-1);a.languageId===h.languageId&&(o=a.getLineContent())}const l=g.onEnter(D,o,i,n);if(!l)return null;const c=l.indentAction;let d=l.appendText;const r=l.removeText||0;d?c===w.IndentAction.Indent&&(d="	"+d):c===w.IndentAction.Indent||c===w.IndentAction.IndentOutdent?d="	":d="";let s=(0,m.getIndentationAtPosition)(L,b.startLineNumber,b.startColumn);return r&&(s=s.substring(0,s.length-r)),{indentAction:c,appendText:d,removeText:r,indentation:s}}e.getEnterAction=k}),define(se[220],re([1,0,8,70,3,24,219,34]),function(q,e,w,m,k,D,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ShiftCommand=e.cachedStringRepeat=void 0;const C=Object.create(null);function h(t,i){if(i<=0)return"";C[t]||(C[t]=["",t]);const n=C[t];for(let o=n.length;o<=i;o++)n[o]=n[o-1]+t;return n[i]}e.cachedStringRepeat=h;let g=class oi{static unshiftIndent(i,n,o,l,c){const d=m.CursorColumns.visibleColumnFromColumn(i,n,o);if(c){const r=h(" ",l),a=m.CursorColumns.prevIndentTabStop(d,l)/l;return h(r,a)}else{const r="	",a=m.CursorColumns.prevRenderTabStop(d,o)/o;return h(r,a)}}static shiftIndent(i,n,o,l,c){const d=m.CursorColumns.visibleColumnFromColumn(i,n,o);if(c){const r=h(" ",l),a=m.CursorColumns.nextIndentTabStop(d,l)/l;return h(r,a)}else{const r="	",a=m.CursorColumns.nextRenderTabStop(d,o)/o;return h(r,a)}}constructor(i,n,o){this._languageConfigurationService=o,this._opts=n,this._selection=i,this._selectionId=null,this._useLastEditRangeForCursorEndPosition=!1,this._selectionStartColumnStaysPut=!1}_addEditOperation(i,n,o){this._useLastEditRangeForCursorEndPosition?i.addTrackedEditOperation(n,o):i.addEditOperation(n,o)}getEditOperations(i,n){const o=this._selection.startLineNumber;let l=this._selection.endLineNumber;this._selection.endColumn===1&&o!==l&&(l=l-1);const{tabSize:c,indentSize:d,insertSpaces:r}=this._opts,s=o===l;if(this._opts.useTabStops){this._selection.isEmpty()&&/^\s*$/.test(i.getLineContent(o))&&(this._useLastEditRangeForCursorEndPosition=!0);let a=0,u=0;for(let p=o;p<=l;p++,a=u){u=0;const S=i.getLineContent(p);let f=w.firstNonWhitespaceIndex(S);if(this._opts.isUnshift&&(S.length===0||f===0)||!s&&!this._opts.isUnshift&&S.length===0)continue;if(f===-1&&(f=S.length),p>1&&m.CursorColumns.visibleColumnFromColumn(S,f+1,c)%d!==0&&i.tokenization.isCheapToTokenize(p-1)){const y=(0,L.getEnterAction)(this._opts.autoIndent,i,new k.Range(p-1,i.getLineMaxColumn(p-1),p-1,i.getLineMaxColumn(p-1)),this._languageConfigurationService);if(y){if(u=a,y.appendText)for(let E=0,T=y.appendText.length;E<T&&u<d&&y.appendText.charCodeAt(E)===32;E++)u++;y.removeText&&(u=Math.max(0,u-y.removeText));for(let E=0;E<u&&!(f===0||S.charCodeAt(f-1)!==32);E++)f--}}if(this._opts.isUnshift&&f===0)continue;let v;this._opts.isUnshift?v=oi.unshiftIndent(S,f+1,c,d,r):v=oi.shiftIndent(S,f+1,c,d,r),this._addEditOperation(n,new k.Range(p,1,p,f+1),v),p===o&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn<=f+1)}}else{!this._opts.isUnshift&&this._selection.isEmpty()&&i.getLineLength(o)===0&&(this._useLastEditRangeForCursorEndPosition=!0);const a=r?h(" ",d):"	";for(let u=o;u<=l;u++){const p=i.getLineContent(u);let S=w.firstNonWhitespaceIndex(p);if(!(this._opts.isUnshift&&(p.length===0||S===0))&&!(!s&&!this._opts.isUnshift&&p.length===0)&&(S===-1&&(S=p.length),!(this._opts.isUnshift&&S===0)))if(this._opts.isUnshift){S=Math.min(S,d);for(let f=0;f<S;f++)if(p.charCodeAt(f)===9){S=f+1;break}this._addEditOperation(n,new k.Range(u,1,u,S+1),"")}else this._addEditOperation(n,new k.Range(u,1,u,1),a),u===o&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn===1)}}this._selectionId=n.trackSelection(this._selection)}computeCursorState(i,n){if(this._useLastEditRangeForCursorEndPosition){const l=n.getInverseEditOperations()[0];return new D.Selection(l.range.endLineNumber,l.range.endColumn,l.range.endLineNumber,l.range.endColumn)}const o=n.getTrackedSelection(this._selectionId);if(this._selectionStartColumnStaysPut){const l=this._selection.startColumn;return o.startColumn<=l?o:o.getDirection()===0?new D.Selection(o.startLineNumber,l,o.endLineNumber,o.endColumn):new D.Selection(o.endLineNumber,o.endColumn,o.startLineNumber,l)}return o}};g=De([fe(2,b.ILanguageConfigurationService)],g),e.ShiftCommand=g}),define(se[221],re([1,0,14,8,110,220,417,64,131,3,11,100,34,112,218,219]),function(q,e,w,m,k,D,L,b,C,h,g,t,i,n,o,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompositionOutcome=e.TypeWithAutoClosingCommand=e.TypeOperations=void 0;class c{static indent(f,v,_){if(v===null||_===null)return[];const y=[];for(let E=0,T=_.length;E<T;E++)y[E]=new D.ShiftCommand(_[E],{isUnshift:!1,tabSize:f.tabSize,indentSize:f.indentSize,insertSpaces:f.insertSpaces,useTabStops:f.useTabStops,autoIndent:f.autoIndent},f.languageConfigurationService);return y}static outdent(f,v,_){const y=[];for(let E=0,T=_.length;E<T;E++)y[E]=new D.ShiftCommand(_[E],{isUnshift:!0,tabSize:f.tabSize,indentSize:f.indentSize,insertSpaces:f.insertSpaces,useTabStops:f.useTabStops,autoIndent:f.autoIndent},f.languageConfigurationService);return y}static shiftIndent(f,v,_){return _=_||1,D.ShiftCommand.shiftIndent(v,v.length+_,f.tabSize,f.indentSize,f.insertSpaces)}static unshiftIndent(f,v,_){return _=_||1,D.ShiftCommand.unshiftIndent(v,v.length+_,f.tabSize,f.indentSize,f.insertSpaces)}static _distributedPaste(f,v,_,y){const E=[];for(let T=0,I=_.length;T<I;T++)E[T]=new k.ReplaceCommand(_[T],y[T]);return new b.EditOperationResult(0,E,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _simplePaste(f,v,_,y,E){const T=[];for(let I=0,R=_.length;I<R;I++){const F=_[I],O=F.getPosition();if(E&&!F.isEmpty()&&(E=!1),E&&y.indexOf(`
`)!==y.length-1&&(E=!1),E){const M=new h.Range(O.lineNumber,1,O.lineNumber,1);T[I]=new k.ReplaceCommandThatPreservesSelection(M,y,F,!0)}else T[I]=new k.ReplaceCommand(F,y)}return new b.EditOperationResult(0,T,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _distributePasteToCursors(f,v,_,y,E){if(y||v.length===1)return null;if(E&&E.length===v.length)return E;if(f.multiCursorPaste==="spread"){_.charCodeAt(_.length-1)===10&&(_=_.substr(0,_.length-1)),_.charCodeAt(_.length-1)===13&&(_=_.substr(0,_.length-1));const T=m.splitLines(_);if(T.length===v.length)return T}return null}static paste(f,v,_,y,E,T){const I=this._distributePasteToCursors(f,_,y,E,T);return I?(_=_.sort(h.Range.compareRangesUsingStarts),this._distributedPaste(f,v,_,I)):this._simplePaste(f,v,_,y,E)}static _goodIndentForLine(f,v,_){let y=null,E="";const T=(0,o.getInheritIndentForLine)(f.autoIndent,v,_,!1,f.languageConfigurationService);if(T)y=T.action,E=T.indentation;else if(_>1){let I;for(I=_-1;I>=1;I--){const O=v.getLineContent(I);if(m.lastNonWhitespaceIndex(O)>=0)break}if(I<1)return null;const R=v.getLineMaxColumn(I),F=(0,l.getEnterAction)(f.autoIndent,v,new h.Range(I,R,I,R),f.languageConfigurationService);F&&(E=F.indentation+F.appendText)}return y&&(y===t.IndentAction.Indent&&(E=c.shiftIndent(f,E)),y===t.IndentAction.Outdent&&(E=c.unshiftIndent(f,E)),E=f.normalizeIndentation(E)),E||null}static _replaceJumpToNextIndent(f,v,_,y){let E="";const T=_.getStartPosition();if(f.insertSpaces){const I=f.visibleColumnFromColumn(v,T),R=f.indentSize,F=R-I%R;for(let O=0;O<F;O++)E+=" "}else E="	";return new k.ReplaceCommand(_,E,y)}static tab(f,v,_){const y=[];for(let E=0,T=_.length;E<T;E++){const I=_[E];if(I.isEmpty()){const R=v.getLineContent(I.startLineNumber);if(/^\s*$/.test(R)&&v.tokenization.isCheapToTokenize(I.startLineNumber)){let F=this._goodIndentForLine(f,v,I.startLineNumber);F=F||"	";const O=f.normalizeIndentation(F);if(!R.startsWith(O)){y[E]=new k.ReplaceCommand(new h.Range(I.startLineNumber,1,I.startLineNumber,R.length+1),O,!0);continue}}y[E]=this._replaceJumpToNextIndent(f,v,I,!0)}else{if(I.startLineNumber===I.endLineNumber){const R=v.getLineMaxColumn(I.startLineNumber);if(I.startColumn!==1||I.endColumn!==R){y[E]=this._replaceJumpToNextIndent(f,v,I,!1);continue}}y[E]=new D.ShiftCommand(I,{isUnshift:!1,tabSize:f.tabSize,indentSize:f.indentSize,insertSpaces:f.insertSpaces,useTabStops:f.useTabStops,autoIndent:f.autoIndent},f.languageConfigurationService)}}return y}static compositionType(f,v,_,y,E,T,I,R){const F=y.map(O=>this._compositionType(_,O,E,T,I,R));return new b.EditOperationResult(4,F,{shouldPushStackElementBefore:a(f,4),shouldPushStackElementAfter:!1})}static _compositionType(f,v,_,y,E,T){if(!v.isEmpty())return null;const I=v.getPosition(),R=Math.max(1,I.column-y),F=Math.min(f.getLineMaxColumn(I.lineNumber),I.column+E),O=new h.Range(I.lineNumber,R,I.lineNumber,F);return f.getValueInRange(O)===_&&T===0?null:new k.ReplaceCommandWithOffsetCursorState(O,_,0,T)}static _typeCommand(f,v,_){return _?new k.ReplaceCommandWithoutChangingPosition(f,v,!0):new k.ReplaceCommand(f,v,!0)}static _enter(f,v,_,y){if(f.autoIndent===0)return c._typeCommand(y,`
`,_);if(!v.tokenization.isCheapToTokenize(y.getStartPosition().lineNumber)||f.autoIndent===1){const R=v.getLineContent(y.startLineNumber),F=m.getLeadingWhitespace(R).substring(0,y.startColumn-1);return c._typeCommand(y,`
`+f.normalizeIndentation(F),_)}const E=(0,l.getEnterAction)(f.autoIndent,v,y,f.languageConfigurationService);if(E){if(E.indentAction===t.IndentAction.None)return c._typeCommand(y,`
`+f.normalizeIndentation(E.indentation+E.appendText),_);if(E.indentAction===t.IndentAction.Indent)return c._typeCommand(y,`
`+f.normalizeIndentation(E.indentation+E.appendText),_);if(E.indentAction===t.IndentAction.IndentOutdent){const R=f.normalizeIndentation(E.indentation),F=f.normalizeIndentation(E.indentation+E.appendText),O=`
`+F+`
`+R;return _?new k.ReplaceCommandWithoutChangingPosition(y,O,!0):new k.ReplaceCommandWithOffsetCursorState(y,O,-1,F.length-R.length,!0)}else if(E.indentAction===t.IndentAction.Outdent){const R=c.unshiftIndent(f,E.indentation);return c._typeCommand(y,`
`+f.normalizeIndentation(R+E.appendText),_)}}const T=v.getLineContent(y.startLineNumber),I=m.getLeadingWhitespace(T).substring(0,y.startColumn-1);if(f.autoIndent>=4){const R=(0,o.getIndentForEnter)(f.autoIndent,v,y,{unshiftIndent:F=>c.unshiftIndent(f,F),shiftIndent:F=>c.shiftIndent(f,F),normalizeIndentation:F=>f.normalizeIndentation(F)},f.languageConfigurationService);if(R){let F=f.visibleColumnFromColumn(v,y.getEndPosition());const O=y.endColumn,M=v.getLineContent(y.endLineNumber),N=m.firstNonWhitespaceIndex(M);if(N>=0?y=y.setEndPosition(y.endLineNumber,Math.max(y.endColumn,N+1)):y=y.setEndPosition(y.endLineNumber,v.getLineMaxColumn(y.endLineNumber)),_)return new k.ReplaceCommandWithoutChangingPosition(y,`
`+f.normalizeIndentation(R.afterEnter),!0);{let A=0;return O<=N+1&&(f.insertSpaces||(F=Math.ceil(F/f.indentSize)),A=Math.min(F+1-f.normalizeIndentation(R.afterEnter).length-1,0)),new k.ReplaceCommandWithOffsetCursorState(y,`
`+f.normalizeIndentation(R.afterEnter),0,A,!0)}}}return c._typeCommand(y,`
`+f.normalizeIndentation(I),_)}static _isAutoIndentType(f,v,_){if(f.autoIndent<4)return!1;for(let y=0,E=_.length;y<E;y++)if(!v.tokenization.isCheapToTokenize(_[y].getEndPosition().lineNumber))return!1;return!0}static _runAutoIndentType(f,v,_,y){const E=(0,i.getIndentationAtPosition)(v,_.startLineNumber,_.startColumn),T=(0,o.getIndentActionForType)(f.autoIndent,v,_,y,{shiftIndent:I=>c.shiftIndent(f,I),unshiftIndent:I=>c.unshiftIndent(f,I)},f.languageConfigurationService);if(T===null)return null;if(T!==f.normalizeIndentation(E)){const I=v.getLineFirstNonWhitespaceColumn(_.startLineNumber);return I===0?c._typeCommand(new h.Range(_.startLineNumber,1,_.endLineNumber,_.endColumn),f.normalizeIndentation(T)+y,!1):c._typeCommand(new h.Range(_.startLineNumber,1,_.endLineNumber,_.endColumn),f.normalizeIndentation(T)+v.getLineContent(_.startLineNumber).substring(I-1,_.startColumn-1)+y,!1)}return null}static _isAutoClosingOvertype(f,v,_,y,E){if(f.autoClosingOvertype==="never"||!f.autoClosingPairs.autoClosingPairsCloseSingleChar.has(E))return!1;for(let T=0,I=_.length;T<I;T++){const R=_[T];if(!R.isEmpty())return!1;const F=R.getPosition(),O=v.getLineContent(F.lineNumber);if(O.charAt(F.column-1)!==E)return!1;const N=(0,b.isQuote)(E);if((F.column>2?O.charCodeAt(F.column-2):0)===92&&N)return!1;if(f.autoClosingOvertype==="auto"){let B=!1;for(let W=0,x=y.length;W<x;W++){const P=y[W];if(F.lineNumber===P.startLineNumber&&F.column===P.startColumn){B=!0;break}}if(!B)return!1}}return!0}static _runAutoClosingOvertype(f,v,_,y,E){const T=[];for(let I=0,R=y.length;I<R;I++){const O=y[I].getPosition(),M=new h.Range(O.lineNumber,O.column,O.lineNumber,O.column+1);T[I]=new k.ReplaceCommand(M,E)}return new b.EditOperationResult(4,T,{shouldPushStackElementBefore:a(f,4),shouldPushStackElementAfter:!1})}static _isBeforeClosingBrace(f,v){const _=v.charAt(0),y=f.autoClosingPairs.autoClosingPairsOpenByStart.get(_)||[],E=f.autoClosingPairs.autoClosingPairsCloseByStart.get(_)||[],T=y.some(R=>v.startsWith(R.open)),I=E.some(R=>v.startsWith(R.close));return!T&&I}static _findAutoClosingPairOpen(f,v,_,y){const E=f.autoClosingPairs.autoClosingPairsOpenByEnd.get(y);if(!E)return null;let T=null;for(const I of E)if(T===null||I.open.length>T.open.length){let R=!0;for(const F of _)if(v.getValueInRange(new h.Range(F.lineNumber,F.column-I.open.length+1,F.lineNumber,F.column))+y!==I.open){R=!1;break}R&&(T=I)}return T}static _findContainedAutoClosingPair(f,v){if(v.open.length<=1)return null;const _=v.close.charAt(v.close.length-1),y=f.autoClosingPairs.autoClosingPairsCloseByEnd.get(_)||[];let E=null;for(const T of y)T.open!==v.open&&v.open.includes(T.open)&&v.close.endsWith(T.close)&&(!E||T.open.length>E.open.length)&&(E=T);return E}static _getAutoClosingPairClose(f,v,_,y,E){const T=(0,b.isQuote)(y),I=T?f.autoClosingQuotes:f.autoClosingBrackets,R=T?f.shouldAutoCloseBefore.quote:f.shouldAutoCloseBefore.bracket;if(I==="never")return null;for(const B of _)if(!B.isEmpty())return null;const F=_.map(B=>{const W=B.getPosition();return E?{lineNumber:W.lineNumber,beforeColumn:W.column-y.length,afterColumn:W.column}:{lineNumber:W.lineNumber,beforeColumn:W.column,afterColumn:W.column}}),O=this._findAutoClosingPairOpen(f,v,F.map(B=>new g.Position(B.lineNumber,B.beforeColumn)),y);if(!O)return null;const M=this._findContainedAutoClosingPair(f,O),N=M?M.close:"";let A=!0;for(const B of F){const{lineNumber:W,beforeColumn:x,afterColumn:P}=B,X=v.getLineContent(W),ie=X.substring(0,x-1),K=X.substring(P-1);if(K.startsWith(N)||(A=!1),K.length>0){const Z=K.charAt(0);if(!c._isBeforeClosingBrace(f,K)&&!R(Z))return null}if(O.open.length===1&&(y==="'"||y==='"')&&I!=="always"){const Z=(0,C.getMapForWordSeparators)(f.wordSeparators);if(ie.length>0){const ee=ie.charCodeAt(ie.length-1);if(Z.get(ee)===0)return null}}if(!v.tokenization.isCheapToTokenize(W))return null;v.tokenization.forceTokenization(W);const G=v.tokenization.getLineTokens(W),Q=(0,n.createScopedLineTokens)(G,x-1);if(!O.shouldAutoClose(Q,x-Q.firstCharOffset))return null;const ne=O.findNeutralCharacter();if(ne){const Z=v.tokenization.getTokenTypeIfInsertingCharacter(W,x,ne);if(!O.isOK(Z))return null}}return A?O.close.substring(0,O.close.length-N.length):O.close}static _runAutoClosingOpenCharType(f,v,_,y,E,T,I){const R=[];for(let F=0,O=y.length;F<O;F++){const M=y[F];R[F]=new d(M,E,!T,I)}return new b.EditOperationResult(4,R,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}static _shouldSurroundChar(f,v){return(0,b.isQuote)(v)?f.autoSurround==="quotes"||f.autoSurround==="languageDefined":f.autoSurround==="brackets"||f.autoSurround==="languageDefined"}static _isSurroundSelectionType(f,v,_,y){if(!c._shouldSurroundChar(f,y)||!f.surroundingPairs.hasOwnProperty(y))return!1;const E=(0,b.isQuote)(y);for(const T of _){if(T.isEmpty())return!1;let I=!0;for(let R=T.startLineNumber;R<=T.endLineNumber;R++){const F=v.getLineContent(R),O=R===T.startLineNumber?T.startColumn-1:0,M=R===T.endLineNumber?T.endColumn-1:F.length,N=F.substring(O,M);if(/[^ \t]/.test(N)){I=!1;break}}if(I)return!1;if(E&&T.startLineNumber===T.endLineNumber&&T.startColumn+1===T.endColumn){const R=v.getValueInRange(T);if((0,b.isQuote)(R))return!1}}return!0}static _runSurroundSelectionType(f,v,_,y,E){const T=[];for(let I=0,R=y.length;I<R;I++){const F=y[I],O=v.surroundingPairs[E];T[I]=new L.SurroundSelectionCommand(F,E,O)}return new b.EditOperationResult(0,T,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _isTypeInterceptorElectricChar(f,v,_){return!!(_.length===1&&v.tokenization.isCheapToTokenize(_[0].getEndPosition().lineNumber))}static _typeInterceptorElectricChar(f,v,_,y,E){if(!v.electricChars.hasOwnProperty(E)||!y.isEmpty())return null;const T=y.getPosition();_.tokenization.forceTokenization(T.lineNumber);const I=_.tokenization.getLineTokens(T.lineNumber);let R;try{R=v.onElectricCharacter(E,I,T.column)}catch(F){return(0,w.onUnexpectedError)(F),null}if(!R)return null;if(R.matchOpenBracket){const F=(I.getLineContent()+E).lastIndexOf(R.matchOpenBracket)+1,O=_.bracketPairs.findMatchingBracketUp(R.matchOpenBracket,{lineNumber:T.lineNumber,column:F},500);if(O){if(O.startLineNumber===T.lineNumber)return null;const M=_.getLineContent(O.startLineNumber),N=m.getLeadingWhitespace(M),A=v.normalizeIndentation(N),B=_.getLineContent(T.lineNumber),W=_.getLineFirstNonWhitespaceColumn(T.lineNumber)||T.column,x=B.substring(W-1,T.column-1),P=A+x+E,X=new h.Range(T.lineNumber,1,T.lineNumber,T.column),ie=new k.ReplaceCommand(X,P);return new b.EditOperationResult(s(P,f),[ie],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}}return null}static compositionEndWithInterceptors(f,v,_,y,E,T){if(!y)return null;let I=null;for(const M of y)if(I===null)I=M.insertedText;else if(I!==M.insertedText)return null;if(!I||I.length!==1)return null;const R=I;let F=!1;for(const M of y)if(M.deletedText.length!==0){F=!0;break}if(F){if(!c._shouldSurroundChar(v,R)||!v.surroundingPairs.hasOwnProperty(R))return null;const M=(0,b.isQuote)(R);for(const B of y)if(B.deletedSelectionStart!==0||B.deletedSelectionEnd!==B.deletedText.length||/^[ \t]+$/.test(B.deletedText)||M&&(0,b.isQuote)(B.deletedText))return null;const N=[];for(const B of E){if(!B.isEmpty())return null;N.push(B.getPosition())}if(N.length!==y.length)return null;const A=[];for(let B=0,W=N.length;B<W;B++)A.push(new L.CompositionSurroundSelectionCommand(N[B],y[B].deletedText,R));return new b.EditOperationResult(4,A,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingOvertype(v,_,E,T,R)){const M=E.map(N=>new k.ReplaceCommand(new h.Range(N.positionLineNumber,N.positionColumn,N.positionLineNumber,N.positionColumn+1),"",!1));return new b.EditOperationResult(4,M,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}const O=this._getAutoClosingPairClose(v,_,E,R,!0);return O!==null?this._runAutoClosingOpenCharType(f,v,_,E,R,!0,O):null}static typeWithInterceptors(f,v,_,y,E,T,I){if(!f&&I===`
`){const O=[];for(let M=0,N=E.length;M<N;M++)O[M]=c._enter(_,y,!1,E[M]);return new b.EditOperationResult(4,O,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!f&&this._isAutoIndentType(_,y,E)){const O=[];let M=!1;for(let N=0,A=E.length;N<A;N++)if(O[N]=this._runAutoIndentType(_,y,E[N],I),!O[N]){M=!0;break}if(!M)return new b.EditOperationResult(4,O,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingOvertype(_,y,E,T,I))return this._runAutoClosingOvertype(v,_,y,E,I);if(!f){const O=this._getAutoClosingPairClose(_,y,E,I,!1);if(O)return this._runAutoClosingOpenCharType(v,_,y,E,I,!1,O)}if(!f&&this._isSurroundSelectionType(_,y,E,I))return this._runSurroundSelectionType(v,_,y,E,I);if(!f&&this._isTypeInterceptorElectricChar(_,y,E)){const O=this._typeInterceptorElectricChar(v,_,y,E[0],I);if(O)return O}const R=[];for(let O=0,M=E.length;O<M;O++)R[O]=new k.ReplaceCommand(E[O],I);const F=s(I,v);return new b.EditOperationResult(F,R,{shouldPushStackElementBefore:a(v,F),shouldPushStackElementAfter:!1})}static typeWithoutInterceptors(f,v,_,y,E){const T=[];for(let R=0,F=y.length;R<F;R++)T[R]=new k.ReplaceCommand(y[R],E);const I=s(E,f);return new b.EditOperationResult(I,T,{shouldPushStackElementBefore:a(f,I),shouldPushStackElementAfter:!1})}static lineInsertBefore(f,v,_){if(v===null||_===null)return[];const y=[];for(let E=0,T=_.length;E<T;E++){let I=_[E].positionLineNumber;if(I===1)y[E]=new k.ReplaceCommandWithoutChangingPosition(new h.Range(1,1,1,1),`
`);else{I--;const R=v.getLineMaxColumn(I);y[E]=this._enter(f,v,!1,new h.Range(I,R,I,R))}}return y}static lineInsertAfter(f,v,_){if(v===null||_===null)return[];const y=[];for(let E=0,T=_.length;E<T;E++){const I=_[E].positionLineNumber,R=v.getLineMaxColumn(I);y[E]=this._enter(f,v,!1,new h.Range(I,R,I,R))}return y}static lineBreakInsert(f,v,_){const y=[];for(let E=0,T=_.length;E<T;E++)y[E]=this._enter(f,v,!0,_[E]);return y}}e.TypeOperations=c;class d extends k.ReplaceCommandWithOffsetCursorState{constructor(f,v,_,y){super(f,(_?v:"")+y,0,-y.length),this._openCharacter=v,this._closeCharacter=y,this.closeCharacterRange=null,this.enclosingRange=null}computeCursorState(f,v){const y=v.getInverseEditOperations()[0].range;return this.closeCharacterRange=new h.Range(y.startLineNumber,y.endColumn-this._closeCharacter.length,y.endLineNumber,y.endColumn),this.enclosingRange=new h.Range(y.startLineNumber,y.endColumn-this._openCharacter.length-this._closeCharacter.length,y.endLineNumber,y.endColumn),super.computeCursorState(f,v)}}e.TypeWithAutoClosingCommand=d;class r{constructor(f,v,_,y,E,T){this.deletedText=f,this.deletedSelectionStart=v,this.deletedSelectionEnd=_,this.insertedText=y,this.insertedSelectionStart=E,this.insertedSelectionEnd=T}}e.CompositionOutcome=r;function s(S,f){return S===" "?f===5||f===6?6:5:4}function a(S,f){return p(S)&&!p(f)?!0:S===5?!1:u(S)!==u(f)}function u(S){return S===6||S===5?"space":S}function p(S){return S===4||S===5||S===6}}),define(se[297],re([1,0,14,8,429,64,418,187,221,3,24,101,193,2,210]),function(q,e,w,m,k,D,L,b,C,h,g,t,i,n,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorsController=void 0;class l extends n.Disposable{constructor(p,S,f,v){super(),this._model=p,this._knownModelVersionId=this._model.getVersionId(),this._viewModel=S,this._coordinatesConverter=f,this.context=new L.CursorContext(this._model,this._viewModel,this._coordinatesConverter,v),this._cursors=new k.CursorCollection(this.context),this._hasFocus=!1,this._isHandling=!1,this._compositionState=null,this._columnSelectData=null,this._autoClosedActions=[],this._prevEditOperationType=0}dispose(){this._cursors.dispose(),this._autoClosedActions=(0,n.dispose)(this._autoClosedActions),super.dispose()}updateConfiguration(p){this.context=new L.CursorContext(this._model,this._viewModel,this._coordinatesConverter,p),this._cursors.updateContext(this.context)}onLineMappingChanged(p){this._knownModelVersionId===this._model.getVersionId()&&this.setStates(p,"viewModel",0,this.getCursorStates())}setHasFocus(p){this._hasFocus=p}_validateAutoClosedActions(){if(this._autoClosedActions.length>0){const p=this._cursors.getSelections();for(let S=0;S<this._autoClosedActions.length;S++){const f=this._autoClosedActions[S];f.isValid(p)||(f.dispose(),this._autoClosedActions.splice(S,1),S--)}}}getPrimaryCursorState(){return this._cursors.getPrimaryCursor()}getLastAddedCursorIndex(){return this._cursors.getLastAddedCursorIndex()}getCursorStates(){return this._cursors.getAll()}setStates(p,S,f,v){let _=!1;v!==null&&v.length>l.MAX_CURSOR_COUNT&&(v=v.slice(0,l.MAX_CURSOR_COUNT),_=!0);const y=c.from(this._model,this);return this._cursors.setStates(v),this._cursors.normalize(),this._columnSelectData=null,this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(p,S,f,y,_)}setCursorColumnSelectData(p){this._columnSelectData=p}revealPrimary(p,S,f,v,_,y){const E=this._cursors.getViewPositions();let T=null,I=null;E.length>1?I=this._cursors.getViewSelections():T=h.Range.fromPositions(E[0],E[0]),p.emitViewEvent(new i.ViewRevealRangeRequestEvent(S,f,T,I,v,_,y))}saveState(){const p=[],S=this._cursors.getSelections();for(let f=0,v=S.length;f<v;f++){const _=S[f];p.push({inSelectionMode:!_.isEmpty(),selectionStart:{lineNumber:_.selectionStartLineNumber,column:_.selectionStartColumn},position:{lineNumber:_.positionLineNumber,column:_.positionColumn}})}return p}restoreState(p,S){const f=[];for(let v=0,_=S.length;v<_;v++){const y=S[v];let E=1,T=1;y.position&&y.position.lineNumber&&(E=y.position.lineNumber),y.position&&y.position.column&&(T=y.position.column);let I=E,R=T;y.selectionStart&&y.selectionStart.lineNumber&&(I=y.selectionStart.lineNumber),y.selectionStart&&y.selectionStart.column&&(R=y.selectionStart.column),f.push({selectionStartLineNumber:I,selectionStartColumn:R,positionLineNumber:E,positionColumn:T})}this.setStates(p,"restoreState",0,D.CursorState.fromModelSelections(f)),this.revealPrimary(p,"restoreState",!1,0,!0,1)}onModelContentChanged(p,S){if(S instanceof t.ModelInjectedTextChangedEvent){if(this._isHandling)return;this._isHandling=!0;try{this.setStates(p,"modelChange",0,this.getCursorStates())}finally{this._isHandling=!1}}else{const f=S.rawContentChangedEvent;if(this._knownModelVersionId=f.versionId,this._isHandling)return;const v=f.containsEvent(1);if(this._prevEditOperationType=0,v)this._cursors.dispose(),this._cursors=new k.CursorCollection(this.context),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(p,"model",1,null,!1);else if(this._hasFocus&&f.resultingSelection&&f.resultingSelection.length>0){const _=D.CursorState.fromModelSelections(f.resultingSelection);this.setStates(p,"modelChange",f.isUndoing?5:f.isRedoing?6:2,_)&&this.revealPrimary(p,"modelChange",!1,0,!0,0)}else{const _=this._cursors.readSelectionFromMarkers();this.setStates(p,"modelChange",2,D.CursorState.fromModelSelections(_))}}}getSelection(){return this._cursors.getPrimaryCursor().modelState.selection}getTopMostViewPosition(){return this._cursors.getTopMostViewPosition()}getBottomMostViewPosition(){return this._cursors.getBottomMostViewPosition()}getCursorColumnSelectData(){if(this._columnSelectData)return this._columnSelectData;const p=this._cursors.getPrimaryCursor(),S=p.viewState.selectionStart.getStartPosition(),f=p.viewState.position;return{isReal:!1,fromViewLineNumber:S.lineNumber,fromViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,S),toViewLineNumber:f.lineNumber,toViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,f)}}getSelections(){return this._cursors.getSelections()}setSelections(p,S,f,v){this.setStates(p,S,v,D.CursorState.fromModelSelections(f))}getPrevEditOperationType(){return this._prevEditOperationType}setPrevEditOperationType(p){this._prevEditOperationType=p}_pushAutoClosedAction(p,S){const f=[],v=[];for(let E=0,T=p.length;E<T;E++)f.push({range:p[E],options:{description:"auto-closed-character",inlineClassName:"auto-closed-character",stickiness:1}}),v.push({range:S[E],options:{description:"auto-closed-enclosing",stickiness:1}});const _=this._model.deltaDecorations([],f),y=this._model.deltaDecorations([],v);this._autoClosedActions.push(new d(this._model,_,y))}_executeEditOperation(p){if(!p)return;p.shouldPushStackElementBefore&&this._model.pushStackElement();const S=r.executeCommands(this._model,this._cursors.getSelections(),p.commands);if(S){this._interpretCommandResult(S);const f=[],v=[];for(let _=0;_<p.commands.length;_++){const y=p.commands[_];y instanceof C.TypeWithAutoClosingCommand&&y.enclosingRange&&y.closeCharacterRange&&(f.push(y.closeCharacterRange),v.push(y.enclosingRange))}f.length>0&&this._pushAutoClosedAction(f,v),this._prevEditOperationType=p.type}p.shouldPushStackElementAfter&&this._model.pushStackElement()}_interpretCommandResult(p){(!p||p.length===0)&&(p=this._cursors.readSelectionFromMarkers()),this._columnSelectData=null,this._cursors.setSelections(p),this._cursors.normalize()}_emitStateChangedIfNecessary(p,S,f,v,_){const y=c.from(this._model,this);if(y.equals(v))return!1;const E=this._cursors.getSelections(),T=this._cursors.getViewSelections();if(p.emitViewEvent(new i.ViewCursorStateChangedEvent(T,E)),!v||v.cursorState.length!==y.cursorState.length||y.cursorState.some((I,R)=>!I.modelState.equals(v.cursorState[R].modelState))){const I=v?v.cursorState.map(F=>F.modelState.selection):null,R=v?v.modelVersionId:0;p.emitOutgoingEvent(new o.CursorStateChangedEvent(I,E,R,y.modelVersionId,S||"keyboard",f,_))}return!0}_findAutoClosingPairs(p){if(!p.length)return null;const S=[];for(let f=0,v=p.length;f<v;f++){const _=p[f];if(!_.text||_.text.indexOf(`
`)>=0)return null;const y=_.text.match(/([)\]}>'"`])([^)\]}>'"`]*)$/);if(!y)return null;const E=y[1],T=this.context.cursorConfig.autoClosingPairs.autoClosingPairsCloseSingleChar.get(E);if(!T||T.length!==1)return null;const I=T[0].open,R=_.text.length-y[2].length-1,F=_.text.lastIndexOf(I,R-1);if(F===-1)return null;S.push([F,R])}return S}executeEdits(p,S,f,v){let _=null;S==="snippet"&&(_=this._findAutoClosingPairs(f)),_&&(f[0]._isTracked=!0);const y=[],E=[],T=this._model.pushEditOperations(this.getSelections(),f,I=>{if(_)for(let F=0,O=_.length;F<O;F++){const[M,N]=_[F],A=I[F],B=A.range.startLineNumber,W=A.range.startColumn-1+M,x=A.range.startColumn-1+N;y.push(new h.Range(B,x+1,B,x+2)),E.push(new h.Range(B,W+1,B,x+2))}const R=v(I);return R&&(this._isHandling=!0),R});T&&(this._isHandling=!1,this.setSelections(p,S,T,0)),y.length>0&&this._pushAutoClosedAction(y,E)}_executeEdit(p,S,f,v=0){if(this.context.cursorConfig.readOnly)return;const _=c.from(this._model,this);this._cursors.stopTrackingSelections(),this._isHandling=!0;try{this._cursors.ensureValidState(),p()}catch(y){(0,w.onUnexpectedError)(y)}this._isHandling=!1,this._cursors.startTrackingSelections(),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(S,f,v,_,!1)&&this.revealPrimary(S,f,!1,0,!0,0)}getAutoClosedCharacters(){return d.getAllAutoClosedCharacters(this._autoClosedActions)}startComposition(p){this._compositionState=new a(this._model,this.getSelections())}endComposition(p,S){const f=this._compositionState?this._compositionState.deduceOutcome(this._model,this.getSelections()):null;this._compositionState=null,this._executeEdit(()=>{S==="keyboard"&&this._executeEditOperation(C.TypeOperations.compositionEndWithInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,f,this.getSelections(),this.getAutoClosedCharacters()))},p,S)}type(p,S,f){this._executeEdit(()=>{if(f==="keyboard"){const v=S.length;let _=0;for(;_<v;){const y=m.nextCharLength(S,_),E=S.substr(_,y);this._executeEditOperation(C.TypeOperations.typeWithInterceptors(!!this._compositionState,this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),this.getAutoClosedCharacters(),E)),_+=y}}else this._executeEditOperation(C.TypeOperations.typeWithoutInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),S))},p,f)}compositionType(p,S,f,v,_,y){if(S.length===0&&f===0&&v===0){if(_!==0){const E=this.getSelections().map(T=>{const I=T.getPosition();return new g.Selection(I.lineNumber,I.column+_,I.lineNumber,I.column+_)});this.setSelections(p,y,E,0)}return}this._executeEdit(()=>{this._executeEditOperation(C.TypeOperations.compositionType(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),S,f,v,_))},p,y)}paste(p,S,f,v,_){this._executeEdit(()=>{this._executeEditOperation(C.TypeOperations.paste(this.context.cursorConfig,this._model,this.getSelections(),S,f,v||[]))},p,_,4)}cut(p,S){this._executeEdit(()=>{this._executeEditOperation(b.DeleteOperations.cut(this.context.cursorConfig,this._model,this.getSelections()))},p,S)}executeCommand(p,S,f){this._executeEdit(()=>{this._cursors.killSecondaryCursors(),this._executeEditOperation(new D.EditOperationResult(0,[S],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},p,f)}executeCommands(p,S,f){this._executeEdit(()=>{this._executeEditOperation(new D.EditOperationResult(0,S,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},p,f)}}e.CursorsController=l,l.MAX_CURSOR_COUNT=1e4;class c{static from(p,S){return new c(p.getVersionId(),S.getCursorStates())}constructor(p,S){this.modelVersionId=p,this.cursorState=S}equals(p){if(!p||this.modelVersionId!==p.modelVersionId||this.cursorState.length!==p.cursorState.length)return!1;for(let S=0,f=this.cursorState.length;S<f;S++)if(!this.cursorState[S].equals(p.cursorState[S]))return!1;return!0}}class d{static getAllAutoClosedCharacters(p){let S=[];for(const f of p)S=S.concat(f.getAutoClosedCharactersRanges());return S}constructor(p,S,f){this._model=p,this._autoClosedCharactersDecorations=S,this._autoClosedEnclosingDecorations=f}dispose(){this._autoClosedCharactersDecorations=this._model.deltaDecorations(this._autoClosedCharactersDecorations,[]),this._autoClosedEnclosingDecorations=this._model.deltaDecorations(this._autoClosedEnclosingDecorations,[])}getAutoClosedCharactersRanges(){const p=[];for(let S=0;S<this._autoClosedCharactersDecorations.length;S++){const f=this._model.getDecorationRange(this._autoClosedCharactersDecorations[S]);f&&p.push(f)}return p}isValid(p){const S=[];for(let f=0;f<this._autoClosedEnclosingDecorations.length;f++){const v=this._model.getDecorationRange(this._autoClosedEnclosingDecorations[f]);if(v&&(S.push(v),v.startLineNumber!==v.endLineNumber))return!1}S.sort(h.Range.compareRangesUsingStarts),p.sort(h.Range.compareRangesUsingStarts);for(let f=0;f<p.length;f++)if(f>=S.length||!S[f].strictContainsRange(p[f]))return!1;return!0}}class r{static executeCommands(p,S,f){const v={model:p,selectionsBefore:S,trackedRanges:[],trackedRangesDirection:[]},_=this._innerExecuteCommands(v,f);for(let y=0,E=v.trackedRanges.length;y<E;y++)v.model._setTrackedRange(v.trackedRanges[y],null,0);return _}static _innerExecuteCommands(p,S){if(this._arrayIsEmpty(S))return null;const f=this._getEditOperations(p,S);if(f.operations.length===0)return null;const v=f.operations,_=this._getLoserCursorMap(v);if(_.hasOwnProperty("0"))return console.warn("Ignoring commands"),null;const y=[];for(let I=0,R=v.length;I<R;I++)_.hasOwnProperty(v[I].identifier.major.toString())||y.push(v[I]);f.hadTrackedEditOperation&&y.length>0&&(y[0]._isTracked=!0);let E=p.model.pushEditOperations(p.selectionsBefore,y,I=>{const R=[];for(let M=0;M<p.selectionsBefore.length;M++)R[M]=[];for(const M of I)!M.identifier||R[M.identifier.major].push(M);const F=(M,N)=>M.identifier.minor-N.identifier.minor,O=[];for(let M=0;M<p.selectionsBefore.length;M++)R[M].length>0?(R[M].sort(F),O[M]=S[M].computeCursorState(p.model,{getInverseEditOperations:()=>R[M],getTrackedSelection:N=>{const A=parseInt(N,10),B=p.model._getTrackedRange(p.trackedRanges[A]);return p.trackedRangesDirection[A]===0?new g.Selection(B.startLineNumber,B.startColumn,B.endLineNumber,B.endColumn):new g.Selection(B.endLineNumber,B.endColumn,B.startLineNumber,B.startColumn)}})):O[M]=p.selectionsBefore[M];return O});E||(E=p.selectionsBefore);const T=[];for(const I in _)_.hasOwnProperty(I)&&T.push(parseInt(I,10));T.sort((I,R)=>R-I);for(const I of T)E.splice(I,1);return E}static _arrayIsEmpty(p){for(let S=0,f=p.length;S<f;S++)if(p[S])return!1;return!0}static _getEditOperations(p,S){let f=[],v=!1;for(let _=0,y=S.length;_<y;_++){const E=S[_];if(E){const T=this._getEditOperationsFromCommand(p,_,E);f=f.concat(T.operations),v=v||T.hadTrackedEditOperation}}return{operations:f,hadTrackedEditOperation:v}}static _getEditOperationsFromCommand(p,S,f){const v=[];let _=0;const y=(F,O,M=!1)=>{h.Range.isEmpty(F)&&O===""||v.push({identifier:{major:S,minor:_++},range:F,text:O,forceMoveMarkers:M,isAutoWhitespaceEdit:f.insertsAutoWhitespace})};let E=!1;const R={addEditOperation:y,addTrackedEditOperation:(F,O,M)=>{E=!0,y(F,O,M)},trackSelection:(F,O)=>{const M=g.Selection.liftSelection(F);let N;if(M.isEmpty())if(typeof O=="boolean")O?N=2:N=3;else{const W=p.model.getLineMaxColumn(M.startLineNumber);M.startColumn===W?N=2:N=3}else N=1;const A=p.trackedRanges.length,B=p.model._setTrackedRange(null,M,N);return p.trackedRanges[A]=B,p.trackedRangesDirection[A]=M.getDirection(),A.toString()}};try{f.getEditOperations(p.model,R)}catch(F){return(0,w.onUnexpectedError)(F),{operations:[],hadTrackedEditOperation:!1}}return{operations:v,hadTrackedEditOperation:E}}static _getLoserCursorMap(p){p=p.slice(0),p.sort((f,v)=>-h.Range.compareRangesUsingEnds(f.range,v.range));const S={};for(let f=1;f<p.length;f++){const v=p[f-1],_=p[f];if(h.Range.getStartPosition(v.range).isBefore(h.Range.getEndPosition(_.range))){let y;v.identifier.major>_.identifier.major?y=v.identifier.major:y=_.identifier.major,S[y.toString()]=!0;for(let E=0;E<p.length;E++)p[E].identifier.major===y&&(p.splice(E,1),E<f&&f--,E--);f>0&&f--}}return S}}class s{constructor(p,S,f){this.text=p,this.startSelection=S,this.endSelection=f}}class a{static _capture(p,S){const f=[];for(const v of S){if(v.startLineNumber!==v.endLineNumber)return null;f.push(new s(p.getLineContent(v.startLineNumber),v.startColumn-1,v.endColumn-1))}return f}constructor(p,S){this._original=a._capture(p,S)}deduceOutcome(p,S){if(!this._original)return null;const f=a._capture(p,S);if(!f||this._original.length!==f.length)return null;const v=[];for(let _=0,y=this._original.length;_<y;_++)v.push(a._deduceOutcome(this._original[_],f[_]));return v}static _deduceOutcome(p,S){const f=Math.min(p.startSelection,S.startSelection,m.commonPrefixLength(p.text,S.text)),v=Math.min(p.text.length-p.endSelection,S.text.length-S.endSelection,m.commonSuffixLength(p.text,S.text)),_=p.text.substring(f,p.text.length-v),y=S.text.substring(f,S.text.length-v);return new C.CompositionOutcome(_,p.startSelection-f,p.endSelection-f,y,S.startSelection-f,S.endSelection-f)}}}),define(se[674],re([1,0,49,44,74,287]),function(q,e,w,m,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.cssEscape=e.getIconClasses=void 0;const L=/(?:\/|^)(?:([^\/]+)\/)?([^\/]+)$/;function b(g,t,i,n){const o=n===D.FileKind.ROOT_FOLDER?["rootfolder-icon"]:n===D.FileKind.FOLDER?["folder-icon"]:["file-icon"];if(i){let l;if(i.scheme===w.Schemas.data)l=m.DataUri.parseMetaData(i).get(m.DataUri.META_DATA_LABEL);else{const c=i.path.match(L);c?(l=h(c[2].toLowerCase()),c[1]&&o.push(`${h(c[1].toLowerCase())}-name-dir-icon`)):l=h(i.authority.toLowerCase())}if(n===D.FileKind.FOLDER)o.push(`${l}-name-folder-icon`);else{if(l){if(o.push(`${l}-name-file-icon`),o.push("name-file-icon"),l.length<=255){const d=l.split(".");for(let r=1;r<d.length;r++)o.push(`${d.slice(r).join(".")}-ext-file-icon`)}o.push("ext-file-icon")}const c=C(g,t,i);c&&o.push(`${h(c)}-lang-file-icon`)}}return o}e.getIconClasses=b;function C(g,t,i){if(!i)return null;let n=null;if(i.scheme===w.Schemas.data){const l=m.DataUri.parseMetaData(i).get(m.DataUri.META_DATA_MIME);l&&(n=t.getLanguageIdByMimeType(l))}else{const o=g.getModel(i);o&&(n=o.getLanguageId())}return n&&n!==k.PLAINTEXT_LANGUAGE_ID?n:t.guessLanguageIdByFilepathOrFirstLine(i)}function h(g){return g.replace(/[\11\12\14\15\40]/g,"/")}e.cssEscape=h}),define(se[675],re([1,0,258,99,49,85,44,8,74]),function(q,e,w,m,k,D,L,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getLanguageIds=e.clearPlatformLanguageAssociations=e.registerPlatformLanguageAssociation=void 0;let h=[],g=[],t=[];function i(a,u=!1){n(a,!1,u)}e.registerPlatformLanguageAssociation=i;function n(a,u,p){const S=o(a,u);h.push(S),S.userConfigured?t.push(S):g.push(S),p&&!S.userConfigured&&h.forEach(f=>{f.mime===S.mime||f.userConfigured||(S.extension&&f.extension===S.extension&&console.warn(`Overwriting extension <<${S.extension}>> to now point to mime <<${S.mime}>>`),S.filename&&f.filename===S.filename&&console.warn(`Overwriting filename <<${S.filename}>> to now point to mime <<${S.mime}>>`),S.filepattern&&f.filepattern===S.filepattern&&console.warn(`Overwriting filepattern <<${S.filepattern}>> to now point to mime <<${S.mime}>>`),S.firstline&&f.firstline===S.firstline&&console.warn(`Overwriting firstline <<${S.firstline}>> to now point to mime <<${S.mime}>>`))})}function o(a,u){return{id:a.id,mime:a.mime,filename:a.filename,extension:a.extension,filepattern:a.filepattern,firstline:a.firstline,userConfigured:u,filenameLowercase:a.filename?a.filename.toLowerCase():void 0,extensionLowercase:a.extension?a.extension.toLowerCase():void 0,filepatternLowercase:a.filepattern?(0,w.parse)(a.filepattern.toLowerCase()):void 0,filepatternOnPath:a.filepattern?a.filepattern.indexOf(D.posix.sep)>=0:!1}}function l(){h=h.filter(a=>a.userConfigured),g=[]}e.clearPlatformLanguageAssociations=l;function c(a,u){return d(a,u).map(p=>p.id)}e.getLanguageIds=c;function d(a,u){let p;if(a)switch(a.scheme){case k.Schemas.file:p=a.fsPath;break;case k.Schemas.data:{p=L.DataUri.parseMetaData(a).get(L.DataUri.META_DATA_LABEL);break}case k.Schemas.vscodeNotebookCell:p=void 0;break;default:p=a.path}if(!p)return[{id:"unknown",mime:m.Mimes.unknown}];p=p.toLowerCase();const S=(0,D.basename)(p),f=r(p,S,t);if(f)return[f,{id:C.PLAINTEXT_LANGUAGE_ID,mime:m.Mimes.text}];const v=r(p,S,g);if(v)return[v,{id:C.PLAINTEXT_LANGUAGE_ID,mime:m.Mimes.text}];if(u){const _=s(u);if(_)return[_,{id:C.PLAINTEXT_LANGUAGE_ID,mime:m.Mimes.text}]}return[{id:"unknown",mime:m.Mimes.unknown}]}function r(a,u,p){var S;let f,v,_;for(let y=p.length-1;y>=0;y--){const E=p[y];if(u===E.filenameLowercase){f=E;break}if(E.filepattern&&(!v||E.filepattern.length>v.filepattern.length)){const T=E.filepatternOnPath?a:u;!((S=E.filepatternLowercase)===null||S===void 0)&&S.call(E,T)&&(v=E)}E.extension&&(!_||E.extension.length>_.extension.length)&&u.endsWith(E.extensionLowercase)&&(_=E)}if(f)return f;if(v)return v;if(_)return _}function s(a){if((0,b.startsWithUTF8BOM)(a)&&(a=a.substr(1)),a.length>0)for(let u=h.length-1;u>=0;u--){const p=h[u];if(!p.firstline)continue;const S=a.match(p.firstline);if(S&&S.length>0)return p}}}),define(se[676],re([1,0,14,6,2,8,675,74,89,33]),function(q,e,w,m,k,D,L,b,C,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguagesRegistry=e.LanguageIdCodec=void 0;const g=Object.prototype.hasOwnProperty,t="vs.editor.nullLanguage";class i{constructor(){this._languageIdToLanguage=[],this._languageToLanguageId=new Map,this._register(t,0),this._register(b.PLAINTEXT_LANGUAGE_ID,1),this._nextLanguageId=2}_register(l,c){this._languageIdToLanguage[c]=l,this._languageToLanguageId.set(l,c)}register(l){if(this._languageToLanguageId.has(l))return;const c=this._nextLanguageId++;this._register(l,c)}encodeLanguageId(l){return this._languageToLanguageId.get(l)||0}decodeLanguageId(l){return this._languageIdToLanguage[l]||t}}e.LanguageIdCodec=i;class n extends k.Disposable{constructor(l=!0,c=!1){super(),this._onDidChange=this._register(new m.Emitter),this.onDidChange=this._onDidChange.event,n.instanceCount++,this._warnOnOverwrite=c,this.languageIdCodec=new i,this._dynamicLanguages=[],this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},l&&(this._initializeFromRegistry(),this._register(b.ModesRegistry.onDidChangeLanguages(d=>{this._initializeFromRegistry()})))}dispose(){n.instanceCount--,super.dispose()}_initializeFromRegistry(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},(0,L.clearPlatformLanguageAssociations)();const l=[].concat(b.ModesRegistry.getLanguages()).concat(this._dynamicLanguages);this._registerLanguages(l)}_registerLanguages(l){for(const c of l)this._registerLanguage(c);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach(c=>{const d=this._languages[c];d.name&&(this._nameMap[d.name]=d.identifier),d.aliases.forEach(r=>{this._lowercaseNameMap[r.toLowerCase()]=d.identifier}),d.mimetypes.forEach(r=>{this._mimeTypesMap[r]=d.identifier})}),h.Registry.as(C.Extensions.Configuration).registerOverrideIdentifiers(this.getRegisteredLanguageIds()),this._onDidChange.fire()}_registerLanguage(l){const c=l.id;let d;g.call(this._languages,c)?d=this._languages[c]:(this.languageIdCodec.register(c),d={identifier:c,name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[],icons:[]},this._languages[c]=d),this._mergeLanguage(d,l)}_mergeLanguage(l,c){const d=c.id;let r=null;if(Array.isArray(c.mimetypes)&&c.mimetypes.length>0&&(l.mimetypes.push(...c.mimetypes),r=c.mimetypes[0]),r||(r=`text/x-${d}`,l.mimetypes.push(r)),Array.isArray(c.extensions)){c.configuration?l.extensions=c.extensions.concat(l.extensions):l.extensions=l.extensions.concat(c.extensions);for(const u of c.extensions)(0,L.registerPlatformLanguageAssociation)({id:d,mime:r,extension:u},this._warnOnOverwrite)}if(Array.isArray(c.filenames))for(const u of c.filenames)(0,L.registerPlatformLanguageAssociation)({id:d,mime:r,filename:u},this._warnOnOverwrite),l.filenames.push(u);if(Array.isArray(c.filenamePatterns))for(const u of c.filenamePatterns)(0,L.registerPlatformLanguageAssociation)({id:d,mime:r,filepattern:u},this._warnOnOverwrite);if(typeof c.firstLine=="string"&&c.firstLine.length>0){let u=c.firstLine;u.charAt(0)!=="^"&&(u="^"+u);try{const p=new RegExp(u);(0,D.regExpLeadsToEndlessLoop)(p)||(0,L.registerPlatformLanguageAssociation)({id:d,mime:r,firstline:p},this._warnOnOverwrite)}catch(p){(0,w.onUnexpectedError)(p)}}l.aliases.push(d);let s=null;if(typeof c.aliases<"u"&&Array.isArray(c.aliases)&&(c.aliases.length===0?s=[null]:s=c.aliases),s!==null)for(const u of s)!u||u.length===0||l.aliases.push(u);const a=s!==null&&s.length>0;if(!(a&&s[0]===null)){const u=(a?s[0]:null)||d;(a||!l.name)&&(l.name=u)}c.configuration&&l.configurationFiles.push(c.configuration),c.icon&&l.icons.push(c.icon)}isRegisteredLanguageId(l){return l?g.call(this._languages,l):!1}getRegisteredLanguageIds(){return Object.keys(this._languages)}getLanguageIdByLanguageName(l){const c=l.toLowerCase();return g.call(this._lowercaseNameMap,c)?this._lowercaseNameMap[c]:null}getLanguageIdByMimeType(l){return l&&g.call(this._mimeTypesMap,l)?this._mimeTypesMap[l]:null}guessLanguageIdByFilepathOrFirstLine(l,c){return!l&&!c?[]:(0,L.getLanguageIds)(l,c)}}e.LanguagesRegistry=n,n.instanceCount=0}),define(se[677],re([1,0,6,2,676,18,28,74]),function(q,e,w,m,k,D,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageService=void 0;class C extends m.Disposable{constructor(t=!1){super(),this._onDidEncounterLanguage=this._register(new w.Emitter),this.onDidEncounterLanguage=this._onDidEncounterLanguage.event,this._onDidChange=this._register(new w.Emitter({leakWarningThreshold:200})),this.onDidChange=this._onDidChange.event,C.instanceCount++,this._encounteredLanguages=new Set,this._registry=this._register(new k.LanguagesRegistry(!0,t)),this.languageIdCodec=this._registry.languageIdCodec,this._register(this._registry.onDidChange(()=>this._onDidChange.fire()))}dispose(){C.instanceCount--,super.dispose()}isRegisteredLanguageId(t){return this._registry.isRegisteredLanguageId(t)}getLanguageIdByLanguageName(t){return this._registry.getLanguageIdByLanguageName(t)}getLanguageIdByMimeType(t){return this._registry.getLanguageIdByMimeType(t)}guessLanguageIdByFilepathOrFirstLine(t,i){const n=this._registry.guessLanguageIdByFilepathOrFirstLine(t,i);return(0,D.firstOrDefault)(n,null)}createById(t){return new h(this.onDidChange,()=>this._createAndGetLanguageIdentifier(t))}createByFilepathOrFirstLine(t,i){return new h(this.onDidChange,()=>{const n=this.guessLanguageIdByFilepathOrFirstLine(t,i);return this._createAndGetLanguageIdentifier(n)})}_createAndGetLanguageIdentifier(t){return(!t||!this.isRegisteredLanguageId(t))&&(t=b.PLAINTEXT_LANGUAGE_ID),this._encounteredLanguages.has(t)||(this._encounteredLanguages.add(t),L.TokenizationRegistry.getOrCreate(t),this._onDidEncounterLanguage.fire(t)),t}}e.LanguageService=C,C.instanceCount=0;class h{constructor(t,i){this._onDidChangeLanguages=t,this._selector=i,this._listener=null,this._emitter=null,this.languageId=this._selector()}_dispose(){this._listener&&(this._listener.dispose(),this._listener=null),this._emitter&&(this._emitter.dispose(),this._emitter=null)}get onDidChange(){return this._listener||(this._listener=this._onDidChangeLanguages(()=>this._evaluate())),this._emitter||(this._emitter=new w.Emitter({onLastListenerRemove:()=>{this._dispose()}})),this._emitter.event}_evaluate(){var t;const i=this._selector();i!==this.languageId&&(this.languageId=i,(t=this._emitter)===null||t===void 0||t.fire(this.languageId))}}}),define(se[678],re([1,0,8,220,3,24,100,34,253,218,219]),function(q,e,w,m,k,D,L,b,C,h,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MoveLinesCommand=void 0;let t=class{constructor(n,o,l,c){this._languageConfigurationService=c,this._selection=n,this._isMovingDown=o,this._autoIndent=l,this._selectionId=null,this._moveEndLineSelectionShrink=!1}getEditOperations(n,o){const l=n.getLineCount();if(this._isMovingDown&&this._selection.endLineNumber===l){this._selectionId=o.trackSelection(this._selection);return}if(!this._isMovingDown&&this._selection.startLineNumber===1){this._selectionId=o.trackSelection(this._selection);return}this._moveEndPositionDown=!1;let c=this._selection;c.startLineNumber<c.endLineNumber&&c.endColumn===1&&(this._moveEndPositionDown=!0,c=c.setEndPosition(c.endLineNumber-1,n.getLineMaxColumn(c.endLineNumber-1)));const{tabSize:d,indentSize:r,insertSpaces:s}=n.getOptions(),a=this.buildIndentConverter(d,r,s),u={tokenization:{getLineTokens:p=>n.tokenization.getLineTokens(p),getLanguageId:()=>n.getLanguageId(),getLanguageIdAtPosition:(p,S)=>n.getLanguageIdAtPosition(p,S)},getLineContent:null};if(c.startLineNumber===c.endLineNumber&&n.getLineMaxColumn(c.startLineNumber)===1){const p=c.startLineNumber,S=this._isMovingDown?p+1:p-1;n.getLineMaxColumn(S)===1?o.addEditOperation(new k.Range(1,1,1,1),null):(o.addEditOperation(new k.Range(p,1,p,1),n.getLineContent(S)),o.addEditOperation(new k.Range(S,1,S,n.getLineMaxColumn(S)),null)),c=new D.Selection(S,1,S,1)}else{let p,S;if(this._isMovingDown){p=c.endLineNumber+1,S=n.getLineContent(p),o.addEditOperation(new k.Range(p-1,n.getLineMaxColumn(p-1),p,n.getLineMaxColumn(p)),null);let f=S;if(this.shouldAutoIndent(n,c)){const v=this.matchEnterRule(n,a,d,p,c.startLineNumber-1);if(v!==null){const y=w.getLeadingWhitespace(n.getLineContent(p)),E=v+C.getSpaceCnt(y,d);f=C.generateIndent(E,d,s)+this.trimLeft(S)}else{u.getLineContent=E=>E===c.startLineNumber?n.getLineContent(p):n.getLineContent(E);const y=(0,h.getGoodIndentForLine)(this._autoIndent,u,n.getLanguageIdAtPosition(p,1),c.startLineNumber,a,this._languageConfigurationService);if(y!==null){const E=w.getLeadingWhitespace(n.getLineContent(p)),T=C.getSpaceCnt(y,d),I=C.getSpaceCnt(E,d);T!==I&&(f=C.generateIndent(T,d,s)+this.trimLeft(S))}}o.addEditOperation(new k.Range(c.startLineNumber,1,c.startLineNumber,1),f+`
`);const _=this.matchEnterRuleMovingDown(n,a,d,c.startLineNumber,p,f);if(_!==null)_!==0&&this.getIndentEditsOfMovingBlock(n,o,c,d,s,_);else{u.getLineContent=E=>E===c.startLineNumber?f:E>=c.startLineNumber+1&&E<=c.endLineNumber+1?n.getLineContent(E-1):n.getLineContent(E);const y=(0,h.getGoodIndentForLine)(this._autoIndent,u,n.getLanguageIdAtPosition(p,1),c.startLineNumber+1,a,this._languageConfigurationService);if(y!==null){const E=w.getLeadingWhitespace(n.getLineContent(c.startLineNumber)),T=C.getSpaceCnt(y,d),I=C.getSpaceCnt(E,d);if(T!==I){const R=T-I;this.getIndentEditsOfMovingBlock(n,o,c,d,s,R)}}}}else o.addEditOperation(new k.Range(c.startLineNumber,1,c.startLineNumber,1),f+`
`)}else if(p=c.startLineNumber-1,S=n.getLineContent(p),o.addEditOperation(new k.Range(p,1,p+1,1),null),o.addEditOperation(new k.Range(c.endLineNumber,n.getLineMaxColumn(c.endLineNumber),c.endLineNumber,n.getLineMaxColumn(c.endLineNumber)),`
`+S),this.shouldAutoIndent(n,c)){u.getLineContent=v=>v===p?n.getLineContent(c.startLineNumber):n.getLineContent(v);const f=this.matchEnterRule(n,a,d,c.startLineNumber,c.startLineNumber-2);if(f!==null)f!==0&&this.getIndentEditsOfMovingBlock(n,o,c,d,s,f);else{const v=(0,h.getGoodIndentForLine)(this._autoIndent,u,n.getLanguageIdAtPosition(c.startLineNumber,1),p,a,this._languageConfigurationService);if(v!==null){const _=w.getLeadingWhitespace(n.getLineContent(c.startLineNumber)),y=C.getSpaceCnt(v,d),E=C.getSpaceCnt(_,d);if(y!==E){const T=y-E;this.getIndentEditsOfMovingBlock(n,o,c,d,s,T)}}}}}this._selectionId=o.trackSelection(c)}buildIndentConverter(n,o,l){return{shiftIndent:c=>m.ShiftCommand.shiftIndent(c,c.length+1,n,o,l),unshiftIndent:c=>m.ShiftCommand.unshiftIndent(c,c.length+1,n,o,l)}}parseEnterResult(n,o,l,c,d){if(d){let r=d.indentation;d.indentAction===L.IndentAction.None||d.indentAction===L.IndentAction.Indent?r=d.indentation+d.appendText:d.indentAction===L.IndentAction.IndentOutdent?r=d.indentation:d.indentAction===L.IndentAction.Outdent&&(r=o.unshiftIndent(d.indentation)+d.appendText);const s=n.getLineContent(c);if(this.trimLeft(s).indexOf(this.trimLeft(r))>=0){const a=w.getLeadingWhitespace(n.getLineContent(c));let u=w.getLeadingWhitespace(r);const p=(0,h.getIndentMetadata)(n,c,this._languageConfigurationService);p!==null&&p&2&&(u=o.unshiftIndent(u));const S=C.getSpaceCnt(u,l),f=C.getSpaceCnt(a,l);return S-f}}return null}matchEnterRuleMovingDown(n,o,l,c,d,r){if(w.lastNonWhitespaceIndex(r)>=0){const s=n.getLineMaxColumn(d),a=(0,g.getEnterAction)(this._autoIndent,n,new k.Range(d,s,d,s),this._languageConfigurationService);return this.parseEnterResult(n,o,l,c,a)}else{let s=c-1;for(;s>=1;){const p=n.getLineContent(s);if(w.lastNonWhitespaceIndex(p)>=0)break;s--}if(s<1||c>n.getLineCount())return null;const a=n.getLineMaxColumn(s),u=(0,g.getEnterAction)(this._autoIndent,n,new k.Range(s,a,s,a),this._languageConfigurationService);return this.parseEnterResult(n,o,l,c,u)}}matchEnterRule(n,o,l,c,d,r){let s=d;for(;s>=1;){let p;if(s===d&&r!==void 0?p=r:p=n.getLineContent(s),w.lastNonWhitespaceIndex(p)>=0)break;s--}if(s<1||c>n.getLineCount())return null;const a=n.getLineMaxColumn(s),u=(0,g.getEnterAction)(this._autoIndent,n,new k.Range(s,a,s,a),this._languageConfigurationService);return this.parseEnterResult(n,o,l,c,u)}trimLeft(n){return n.replace(/^\s+/,"")}shouldAutoIndent(n,o){if(this._autoIndent<4||!n.tokenization.isCheapToTokenize(o.startLineNumber))return!1;const l=n.getLanguageIdAtPosition(o.startLineNumber,1),c=n.getLanguageIdAtPosition(o.endLineNumber,1);return!(l!==c||this._languageConfigurationService.getLanguageConfiguration(l).indentRulesSupport===null)}getIndentEditsOfMovingBlock(n,o,l,c,d,r){for(let s=l.startLineNumber;s<=l.endLineNumber;s++){const a=n.getLineContent(s),u=w.getLeadingWhitespace(a),S=C.getSpaceCnt(u,c)+r,f=C.generateIndent(S,c,d);f!==u&&(o.addEditOperation(new k.Range(s,1,s,u.length+1),f),s===l.endLineNumber&&l.endColumn<=u.length+1&&f===""&&(this._moveEndLineSelectionShrink=!0))}}computeCursorState(n,o){let l=o.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(l=l.setEndPosition(l.endLineNumber+1,1)),this._moveEndLineSelectionShrink&&l.startLineNumber<l.endLineNumber&&(l=l.setEndPosition(l.endLineNumber,2)),l}};t=De([fe(3,b.ILanguageConfigurationService)],t),e.MoveLinesCommand=t}),define(se[119],re([1,0,269,46,39,14,279,6,2,69,74]),function(q,e,w,m,k,D,L,b,C,h,g){"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.MarkdownRenderer=void 0;let i=class Ni{constructor(o,l,c){this._options=o,this._languageService=l,this._openerService=c,this._onDidRenderAsync=new b.Emitter,this.onDidRenderAsync=this._onDidRenderAsync.event}dispose(){this._onDidRenderAsync.dispose()}render(o,l,c){if(!o)return{element:document.createElement("span"),dispose:()=>{}};const d=new C.DisposableStore;return{element:d.add((0,w.renderMarkdown)(o,Object.assign(Object.assign({},this._getRenderOptions(o,d)),l),c)).element,dispose:()=>d.dispose()}}_getRenderOptions(o,l){return{codeBlockRenderer:(c,d)=>Se(this,void 0,void 0,function*(){var r,s,a;let u;c?u=this._languageService.getLanguageIdByLanguageName(c):this._options.editor&&(u=(r=this._options.editor.getModel())===null||r===void 0?void 0:r.getLanguageId()),u||(u=g.PLAINTEXT_LANGUAGE_ID);const p=yield(0,L.tokenizeToString)(this._languageService,d,u),S=document.createElement("span");if(S.innerHTML=(a=(s=Ni._ttpTokenizer)===null||s===void 0?void 0:s.createHTML(p))!==null&&a!==void 0?a:p,this._options.editor){const f=this._options.editor.getOption(45);(0,h.applyFontInfo)(S,f)}else this._options.codeBlockFontFamily&&(S.style.fontFamily=this._options.codeBlockFontFamily);return this._options.codeBlockFontSize!==void 0&&(S.style.fontSize=this._options.codeBlockFontSize),S}),asyncRenderCallback:()=>this._onDidRenderAsync.fire(),actionHandler:{callback:c=>this._openerService.open(c,{fromUserGesture:!0,allowContributedOpeners:!0,allowCommands:o.isTrusted}).catch(D.onUnexpectedError),disposables:l}}}};i._ttpTokenizer=(t=window.trustedTypes)===null||t===void 0?void 0:t.createPolicy("tokenizeToString",{createHTML(n){return n}}),i=De([fe(1,k.ILanguageService),fe(2,m.IOpenerService)],i),e.MarkdownRenderer=i}),define(se[679],re([1,0,7,18,68,2,119,282,46,266]),function(q,e,w,m,k,D,L,b,C,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarginHoverWidget=void 0;const g=w.$;class t extends D.Disposable{constructor(o,l,c=C.NullOpenerService){super(),this._renderDisposeables=this._register(new D.DisposableStore),this._editor=o,this._isVisible=!1,this._messages=[],this._hover=this._register(new h.HoverWidget),this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._markdownRenderer=this._register(new L.MarkdownRenderer({editor:this._editor},l,c)),this._computer=new i(this._editor),this._hoverOperation=this._register(new b.HoverOperation(this._editor,this._computer)),this._register(this._hoverOperation.onResult(d=>{this._withResult(d.value)})),this._register(this._editor.onDidChangeModelDecorations(()=>this._onModelDecorationsChanged())),this._register(this._editor.onDidChangeConfiguration(d=>{d.hasChanged(45)&&this._updateFont()})),this._editor.addOverlayWidget(this)}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return t.ID}getDomNode(){return this._hover.containerDomNode}getPosition(){return null}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(l=>this._editor.applyFontInfo(l))}_onModelDecorationsChanged(){this._isVisible&&(this._hoverOperation.cancel(),this._hoverOperation.start(0))}startShowingAt(o){this._computer.lineNumber!==o&&(this._hoverOperation.cancel(),this.hide(),this._computer.lineNumber=o,this._hoverOperation.start(0))}hide(){this._computer.lineNumber=-1,this._hoverOperation.cancel(),this._isVisible&&(this._isVisible=!1,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible))}_withResult(o){this._messages=o,this._messages.length>0?this._renderMessages(this._computer.lineNumber,this._messages):this.hide()}_renderMessages(o,l){this._renderDisposeables.clear();const c=document.createDocumentFragment();for(const d of l){const r=g("div.hover-row.markdown-hover"),s=w.append(r,g("div.hover-contents")),a=this._renderDisposeables.add(this._markdownRenderer.render(d.value));s.appendChild(a.element),c.appendChild(r)}this._updateContents(c),this._showAt(o)}_updateContents(o){this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(o),this._updateFont()}_showAt(o){this._isVisible||(this._isVisible=!0,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible));const l=this._editor.getLayoutInfo(),c=this._editor.getTopForLineNumber(o),d=this._editor.getScrollTop(),r=this._editor.getOption(60),s=this._hover.containerDomNode.clientHeight,a=c-d-(s-r)/2;this._hover.containerDomNode.style.left=`${l.glyphMarginLeft+l.glyphMarginWidth}px`,this._hover.containerDomNode.style.top=`${Math.max(Math.round(a),0)}px`}}e.MarginHoverWidget=t,t.ID="editor.contrib.modesGlyphHoverWidget";class i{get lineNumber(){return this._lineNumber}set lineNumber(o){this._lineNumber=o}constructor(o){this._editor=o,this._lineNumber=-1}computeSync(){const o=d=>({value:d}),l=this._editor.getLineDecorations(this._lineNumber),c=[];if(!l)return c;for(const d of l){if(!d.options.glyphMarginClassName)continue;const r=d.options.glyphMarginHoverMessage;!r||(0,k.isEmptyMarkdownString)(r)||c.push(...(0,m.asArray)(r).map(o))}return c}}}),define(se[298],re([1,0,7,76,27,6,68,2,119,264,619,9]),function(q,e,w,m,k,D,L,b,C,h,g,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestDetailsOverlay=e.SuggestDetailsWidget=e.canExpandCompletionItem=void 0;function i(l){return!!l&&Boolean(l.completion.documentation||l.completion.detail&&l.completion.detail!==l.completion.label)}e.canExpandCompletionItem=i;let n=class{constructor(c,d){this._editor=c,this._onDidClose=new D.Emitter,this.onDidClose=this._onDidClose.event,this._onDidChangeContents=new D.Emitter,this.onDidChangeContents=this._onDidChangeContents.event,this._disposables=new b.DisposableStore,this._renderDisposeable=new b.DisposableStore,this._borderWidth=1,this._size=new w.Dimension(330,0),this.domNode=w.$(".suggest-details"),this.domNode.classList.add("no-docs"),this._markdownRenderer=d.createInstance(C.MarkdownRenderer,{editor:c}),this._body=w.$(".body"),this._scrollbar=new m.DomScrollableElement(this._body,{alwaysConsumeMouseWheel:!0}),w.append(this.domNode,this._scrollbar.getDomNode()),this._disposables.add(this._scrollbar),this._header=w.append(this._body,w.$(".header")),this._close=w.append(this._header,w.$("span"+k.Codicon.close.cssSelector)),this._close.title=g.localize(0,null),this._type=w.append(this._header,w.$("p.type")),this._docs=w.append(this._body,w.$("p.docs")),this._configureFont(),this._disposables.add(this._editor.onDidChangeConfiguration(r=>{r.hasChanged(45)&&this._configureFont()}))}dispose(){this._disposables.dispose(),this._renderDisposeable.dispose()}_configureFont(){const c=this._editor.getOptions(),d=c.get(45),r=d.getMassagedFontFamily(),s=c.get(109)||d.fontSize,a=c.get(110)||d.lineHeight,u=d.fontWeight,p=`${s}px`,S=`${a}px`;this.domNode.style.fontSize=p,this.domNode.style.lineHeight=`${a/s}`,this.domNode.style.fontWeight=u,this.domNode.style.fontFeatureSettings=d.fontFeatureSettings,this._type.style.fontFamily=r,this._close.style.height=S,this._close.style.width=S}getLayoutInfo(){const c=this._editor.getOption(110)||this._editor.getOption(45).lineHeight,d=this._borderWidth,r=d*2;return{lineHeight:c,borderWidth:d,borderHeight:r,verticalPadding:22,horizontalPadding:14}}renderLoading(){this._type.textContent=g.localize(1,null),this._docs.textContent="",this.domNode.classList.remove("no-docs","no-type"),this.layout(this.size.width,this.getLayoutInfo().lineHeight*2),this._onDidChangeContents.fire(this)}renderItem(c,d){var r,s;this._renderDisposeable.clear();let{detail:a,documentation:u}=c.completion;if(d){let p="";p+=`score: ${c.score[0]}
`,p+=`prefix: ${(r=c.word)!==null&&r!==void 0?r:"(no prefix)"}
`,p+=`word: ${c.completion.filterText?c.completion.filterText+" (filterText)":c.textLabel}
`,p+=`distance: ${c.distance} (localityBonus-setting)
`,p+=`index: ${c.idx}, based on ${c.completion.sortText&&`sortText: "${c.completion.sortText}"`||"label"}
`,p+=`commit_chars: ${(s=c.completion.commitCharacters)===null||s===void 0?void 0:s.join("")}
`,u=new L.MarkdownString().appendCodeblock("empty",p),a=`Provider: ${c.provider._debugDisplayName}`}if(!d&&!i(c)){this.clearContents();return}if(this.domNode.classList.remove("no-docs","no-type"),a){const p=a.length>1e5?`${a.substr(0,1e5)}\u2026`:a;this._type.textContent=p,this._type.title=p,w.show(this._type),this._type.classList.toggle("auto-wrap",!/\r?\n^\s+/gmi.test(p))}else w.clearNode(this._type),this._type.title="",w.hide(this._type),this.domNode.classList.add("no-type");if(w.clearNode(this._docs),typeof u=="string")this._docs.classList.remove("markdown-docs"),this._docs.textContent=u;else if(u){this._docs.classList.add("markdown-docs"),w.clearNode(this._docs);const p=this._markdownRenderer.render(u);this._docs.appendChild(p.element),this._renderDisposeable.add(p),this._renderDisposeable.add(this._markdownRenderer.onDidRenderAsync(()=>{this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}))}this.domNode.style.userSelect="text",this.domNode.tabIndex=-1,this._close.onmousedown=p=>{p.preventDefault(),p.stopPropagation()},this._close.onclick=p=>{p.preventDefault(),p.stopPropagation(),this._onDidClose.fire()},this._body.scrollTop=0,this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}clearContents(){this.domNode.classList.add("no-docs"),this._type.textContent="",this._docs.textContent=""}get size(){return this._size}layout(c,d){const r=new w.Dimension(c,d);w.Dimension.equals(r,this._size)||(this._size=r,w.size(this.domNode,c,d)),this._scrollbar.scanDomNode()}scrollDown(c=8){this._body.scrollTop+=c}scrollUp(c=8){this._body.scrollTop-=c}scrollTop(){this._body.scrollTop=0}scrollBottom(){this._body.scrollTop=this._body.scrollHeight}pageDown(){this.scrollDown(80)}pageUp(){this.scrollUp(80)}set borderWidth(c){this._borderWidth=c}get borderWidth(){return this._borderWidth}};n=De([fe(1,t.IInstantiationService)],n),e.SuggestDetailsWidget=n;class o{constructor(c,d){this.widget=c,this._editor=d,this._disposables=new b.DisposableStore,this._added=!1,this._preferAlignAtTop=!0,this._resizable=new h.ResizableHTMLElement,this._resizable.domNode.classList.add("suggest-details-container"),this._resizable.domNode.appendChild(c.domNode),this._resizable.enableSashes(!1,!0,!0,!1);let r,s,a=0,u=0;this._disposables.add(this._resizable.onDidWillResize(()=>{r=this._topLeft,s=this._resizable.size})),this._disposables.add(this._resizable.onDidResize(p=>{if(r&&s){this.widget.layout(p.dimension.width,p.dimension.height);let S=!1;p.west&&(u=s.width-p.dimension.width,S=!0),p.north&&(a=s.height-p.dimension.height,S=!0),S&&this._applyTopLeft({top:r.top+a,left:r.left+u})}p.done&&(r=void 0,s=void 0,a=0,u=0,this._userSize=p.dimension)})),this._disposables.add(this.widget.onDidChangeContents(()=>{var p;this._anchorBox&&this._placeAtAnchor(this._anchorBox,(p=this._userSize)!==null&&p!==void 0?p:this.widget.size,this._preferAlignAtTop)}))}dispose(){this._resizable.dispose(),this._disposables.dispose(),this.hide()}getId(){return"suggest.details"}getDomNode(){return this._resizable.domNode}getPosition(){return null}show(){this._added||(this._editor.addOverlayWidget(this),this.getDomNode().style.position="fixed",this._added=!0)}hide(c=!1){this._resizable.clearSashHoverState(),this._added&&(this._editor.removeOverlayWidget(this),this._added=!1,this._anchorBox=void 0,this._topLeft=void 0),c&&(this._userSize=void 0,this.widget.clearContents())}placeAtAnchor(c,d){var r;const s=c.getBoundingClientRect();this._anchorBox=s,this._preferAlignAtTop=d,this._placeAtAnchor(this._anchorBox,(r=this._userSize)!==null&&r!==void 0?r:this.widget.size,d)}_placeAtAnchor(c,d,r){var s;const a=w.getClientArea(document.body),u=this.widget.getLayoutInfo(),p=new w.Dimension(220,2*u.lineHeight),S=c.top,f=function(){const M=a.width-(c.left+c.width+u.borderWidth+u.horizontalPadding),N=-u.borderWidth+c.left+c.width,A=new w.Dimension(M,a.height-c.top-u.borderHeight-u.verticalPadding),B=A.with(void 0,c.top+c.height-u.borderHeight-u.verticalPadding);return{top:S,left:N,fit:M-d.width,maxSizeTop:A,maxSizeBottom:B,minSize:p.with(Math.min(M,p.width))}}(),v=function(){const M=c.left-u.borderWidth-u.horizontalPadding,N=Math.max(u.horizontalPadding,c.left-d.width-u.borderWidth),A=new w.Dimension(M,a.height-c.top-u.borderHeight-u.verticalPadding),B=A.with(void 0,c.top+c.height-u.borderHeight-u.verticalPadding);return{top:S,left:N,fit:M-d.width,maxSizeTop:A,maxSizeBottom:B,minSize:p.with(Math.min(M,p.width))}}(),_=function(){const M=c.left,N=-u.borderWidth+c.top+c.height,A=new w.Dimension(c.width-u.borderHeight,a.height-c.top-c.height-u.verticalPadding);return{top:N,left:M,fit:A.height-d.height,maxSizeBottom:A,maxSizeTop:A,minSize:p.with(A.width)}}(),y=[f,v,_],E=(s=y.find(M=>M.fit>=0))!==null&&s!==void 0?s:y.sort((M,N)=>N.fit-M.fit)[0],T=c.top+c.height-u.borderHeight;let I,R=d.height;const F=Math.max(E.maxSizeTop.height,E.maxSizeBottom.height);R>F&&(R=F);let O;r?R<=E.maxSizeTop.height?(I=!0,O=E.maxSizeTop):(I=!1,O=E.maxSizeBottom):R<=E.maxSizeBottom.height?(I=!1,O=E.maxSizeBottom):(I=!0,O=E.maxSizeTop),this._applyTopLeft({left:E.left,top:I?E.top:T-R}),this.getDomNode().style.position="fixed",this._resizable.enableSashes(!I,E===f,I,E!==f),this._resizable.minSize=E.minSize,this._resizable.maxSize=O,this._resizable.layout(R,Math.min(O.width,d.width)),this.widget.layout(this._resizable.size.width,this._resizable.size.height)}_applyTopLeft(c){this._topLeft=c,this.getDomNode().style.left=`${this._topLeft.left}px`,this.getDomNode().style.top=`${this._topLeft.top}px`}}e.SuggestDetailsOverlay=o}),define(se[299],re([1,0,18,59,36,19,22,30,89,33]),function(q,e,w,m,k,D,L,b,C,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ConfigurationChangeEvent=e.Configuration=e.ConfigurationModelParser=e.ConfigurationModel=void 0;class g{constructor(c={},d=[],r=[],s){this._contents=c,this._keys=d,this._overrides=r,this.raw=s,this.frozen=!1,this.overrideConfigurations=new Map}get rawConfiguration(){var c;if(!this._rawConfiguration)if(!((c=this.raw)===null||c===void 0)&&c.length){const d=this.raw.map(r=>{if(r instanceof g)return r;const s=new t("");return s.parseRaw(r),s.configurationModel});this._rawConfiguration=d.reduce((r,s)=>s===r?s:r.merge(s),d[0])}else this._rawConfiguration=this;return this._rawConfiguration}get contents(){return this.checkAndFreeze(this._contents)}get overrides(){return this.checkAndFreeze(this._overrides)}get keys(){return this.checkAndFreeze(this._keys)}isEmpty(){return this._keys.length===0&&Object.keys(this._contents).length===0&&this._overrides.length===0}getValue(c){return c?(0,b.getConfigurationValue)(this.contents,c):this.contents}inspect(c,d){const r=this.rawConfiguration.getValue(c),s=d?this.rawConfiguration.getOverrideValue(c,d):void 0,a=d?this.rawConfiguration.override(d).getValue(c):r;return{value:r,override:s,merged:a}}getOverrideValue(c,d){const r=this.getContentsForOverrideIdentifer(d);return r?c?(0,b.getConfigurationValue)(r,c):r:void 0}override(c){let d=this.overrideConfigurations.get(c);return d||(d=this.createOverrideConfigurationModel(c),this.overrideConfigurations.set(c,d)),d}merge(...c){var d,r;const s=k.deepClone(this.contents),a=k.deepClone(this.overrides),u=[...this.keys],p=!((d=this.raw)===null||d===void 0)&&d.length?[...this.raw]:[this];for(const S of c)if(p.push(...!((r=S.raw)===null||r===void 0)&&r.length?S.raw:[S]),!S.isEmpty()){this.mergeContents(s,S.contents);for(const f of S.overrides){const[v]=a.filter(_=>w.equals(_.identifiers,f.identifiers));v?(this.mergeContents(v.contents,f.contents),v.keys.push(...f.keys),v.keys=w.distinct(v.keys)):a.push(k.deepClone(f))}for(const f of S.keys)u.indexOf(f)===-1&&u.push(f)}return new g(s,u,a,p.every(S=>S instanceof g)?void 0:p)}freeze(){return this.frozen=!0,this}createOverrideConfigurationModel(c){const d=this.getContentsForOverrideIdentifer(c);if(!d||typeof d!="object"||!Object.keys(d).length)return this;const r={};for(const s of w.distinct([...Object.keys(this.contents),...Object.keys(d)])){let a=this.contents[s];const u=d[s];u&&(typeof a=="object"&&typeof u=="object"?(a=k.deepClone(a),this.mergeContents(a,u)):a=u),r[s]=a}return new g(r,this.keys,this.overrides)}mergeContents(c,d){for(const r of Object.keys(d)){if(r in c&&D.isObject(c[r])&&D.isObject(d[r])){this.mergeContents(c[r],d[r]);continue}c[r]=k.deepClone(d[r])}}checkAndFreeze(c){return this.frozen&&!Object.isFrozen(c)?k.deepFreeze(c):c}getContentsForOverrideIdentifer(c){let d=null,r=null;const s=a=>{a&&(r?this.mergeContents(r,a):r=k.deepClone(a))};for(const a of this.overrides)w.equals(a.identifiers,[c])?d=a.contents:a.identifiers.includes(c)&&s(a.contents);return s(d),r}toJSON(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}setValue(c,d){this.addKey(c),(0,b.addToValueTree)(this.contents,c,d,r=>{throw new Error(r)})}removeValue(c){this.removeKey(c)&&(0,b.removeFromValueTree)(this.contents,c)}addKey(c){let d=this.keys.length;for(let r=0;r<d;r++)c.indexOf(this.keys[r])===0&&(d=r);this.keys.splice(d,1,c)}removeKey(c){const d=this.keys.indexOf(c);return d!==-1?(this.keys.splice(d,1),!0):!1}}e.ConfigurationModel=g;class t{constructor(c){this._name=c,this._raw=null,this._configurationModel=null,this._restrictedConfigurations=[]}get configurationModel(){return this._configurationModel||new g}parseRaw(c,d){this._raw=c;const{contents:r,keys:s,overrides:a,restricted:u,hasExcludedProperties:p}=this.doParseRaw(c,d);this._configurationModel=new g(r,s,a,p?[c]:void 0),this._restrictedConfigurations=u||[]}doParseRaw(c,d){const r=h.Registry.as(C.Extensions.Configuration).getConfigurationProperties(),s=this.filter(c,r,!0,d);c=s.raw;const a=(0,b.toValuesTree)(c,S=>console.error(`Conflict in settings file ${this._name}: ${S}`)),u=Object.keys(c),p=this.toOverrides(c,S=>console.error(`Conflict in settings file ${this._name}: ${S}`));return{contents:a,keys:u,overrides:p,restricted:s.restricted,hasExcludedProperties:s.hasExcludedProperties}}filter(c,d,r,s){let a=!1;if(!s?.scopes&&!s?.skipRestricted)return{raw:c,restricted:[],hasExcludedProperties:a};const u={},p=[];for(const S in c)if(C.OVERRIDE_PROPERTY_REGEX.test(S)&&r){const f=this.filter(c[S],d,!1,s);u[S]=f.raw,a=a||f.hasExcludedProperties,p.push(...f.restricted)}else{const f=d[S],v=f?typeof f.scope<"u"?f.scope:3:void 0;f?.restricted&&p.push(S),(v===void 0||s.scopes===void 0||s.scopes.includes(v))&&!(s.skipRestricted&&f?.restricted)?u[S]=c[S]:a=!0}return{raw:u,restricted:p,hasExcludedProperties:a}}toOverrides(c,d){const r=[];for(const s of Object.keys(c))if(C.OVERRIDE_PROPERTY_REGEX.test(s)){const a={};for(const u in c[s])a[u]=c[s][u];r.push({identifiers:(0,C.overrideIdentifiersFromKey)(s),keys:Object.keys(a),contents:(0,b.toValuesTree)(a,d)})}return r}}e.ConfigurationModelParser=t;class i{constructor(c,d,r,s,a,u,p,S,f,v,_,y,E){this.key=c,this.overrides=d,this.value=r,this.overrideIdentifiers=s,this.defaultConfiguration=a,this.policyConfiguration=u,this.applicationConfiguration=p,this.userConfiguration=S,this.localUserConfiguration=f,this.remoteUserConfiguration=v,this.workspaceConfiguration=_,this.folderConfigurationModel=y,this.memoryInspectValue=E}get userInspectValue(){return this._userInspectValue||(this._userInspectValue=this.userConfiguration.inspect(this.key,this.overrides.overrideIdentifier)),this._userInspectValue}get user(){return this.userInspectValue.value!==void 0||this.userInspectValue.override!==void 0?{value:this.userInspectValue.value,override:this.userInspectValue.override}:void 0}}class n{constructor(c,d,r,s,a=new g,u=new g,p=new m.ResourceMap,S=new g,f=new m.ResourceMap,v=!0){this._defaultConfiguration=c,this._policyConfiguration=d,this._applicationConfiguration=r,this._localUserConfiguration=s,this._remoteUserConfiguration=a,this._workspaceConfiguration=u,this._folderConfigurations=p,this._memoryConfiguration=S,this._memoryConfigurationByResource=f,this._freeze=v,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new m.ResourceMap,this._userConfiguration=null}getValue(c,d,r){return this.getConsolidatedConfigurationModel(c,d,r).getValue(c)}updateValue(c,d,r={}){let s;r.resource?(s=this._memoryConfigurationByResource.get(r.resource),s||(s=new g,this._memoryConfigurationByResource.set(r.resource,s))):s=this._memoryConfiguration,d===void 0?s.removeValue(c):s.setValue(c,d),r.resource||(this._workspaceConsolidatedConfiguration=null)}inspect(c,d,r){const s=this.getConsolidatedConfigurationModel(c,d,r),a=w.distinct(s.overrides.map(S=>S.identifiers).flat()).filter(S=>s.getOverrideValue(c,S)!==void 0),u=this.getFolderConfigurationModelForResource(d.resource,r),p=d.resource?this._memoryConfigurationByResource.get(d.resource)||this._memoryConfiguration:this._memoryConfiguration;return new i(c,d,s.getValue(c),a.length?a:void 0,this._defaultConfiguration,this._policyConfiguration.isEmpty()?void 0:this._policyConfiguration.freeze(),this.applicationConfiguration.isEmpty()?void 0:this.applicationConfiguration.freeze(),this.userConfiguration.freeze(),this.localUserConfiguration.freeze(),this.remoteUserConfiguration.freeze(),r?this._workspaceConfiguration.freeze():void 0,u?u.freeze():void 0,p.inspect(c,d.overrideIdentifier))}get applicationConfiguration(){return this._applicationConfiguration}get userConfiguration(){return this._userConfiguration||(this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration),this._freeze&&this._userConfiguration.freeze()),this._userConfiguration}get localUserConfiguration(){return this._localUserConfiguration}get remoteUserConfiguration(){return this._remoteUserConfiguration}getConsolidatedConfigurationModel(c,d,r){let s=this.getConsolidatedConfigurationModelForResource(d,r);return d.overrideIdentifier&&(s=s.override(d.overrideIdentifier)),!this._policyConfiguration.isEmpty()&&this._policyConfiguration.getValue(c)!==void 0&&(s=s.merge(this._policyConfiguration)),s}getConsolidatedConfigurationModelForResource({resource:c},d){let r=this.getWorkspaceConsolidatedConfiguration();if(d&&c){const s=d.getFolder(c);s&&(r=this.getFolderConsolidatedConfiguration(s.uri)||r);const a=this._memoryConfigurationByResource.get(c);a&&(r=r.merge(a))}return r}getWorkspaceConsolidatedConfiguration(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.applicationConfiguration,this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration),this._freeze&&(this._workspaceConfiguration=this._workspaceConfiguration.freeze())),this._workspaceConsolidatedConfiguration}getFolderConsolidatedConfiguration(c){let d=this._foldersConsolidatedConfigurations.get(c);if(!d){const r=this.getWorkspaceConsolidatedConfiguration(),s=this._folderConfigurations.get(c);s?(d=r.merge(s),this._freeze&&(d=d.freeze()),this._foldersConsolidatedConfigurations.set(c,d)):d=r}return d}getFolderConfigurationModelForResource(c,d){if(d&&c){const r=d.getFolder(c);if(r)return this._folderConfigurations.get(r.uri)}}toData(){return{defaults:{contents:this._defaultConfiguration.contents,overrides:this._defaultConfiguration.overrides,keys:this._defaultConfiguration.keys},policy:{contents:this._policyConfiguration.contents,overrides:this._policyConfiguration.overrides,keys:this._policyConfiguration.keys},application:{contents:this.applicationConfiguration.contents,overrides:this.applicationConfiguration.overrides,keys:this.applicationConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this._workspaceConfiguration.contents,overrides:this._workspaceConfiguration.overrides,keys:this._workspaceConfiguration.keys},folders:[...this._folderConfigurations.keys()].reduce((c,d)=>{const{contents:r,overrides:s,keys:a}=this._folderConfigurations.get(d);return c.push([d,{contents:r,overrides:s,keys:a}]),c},[])}}static parse(c){const d=this.parseConfigurationModel(c.defaults),r=this.parseConfigurationModel(c.policy),s=this.parseConfigurationModel(c.application),a=this.parseConfigurationModel(c.user),u=this.parseConfigurationModel(c.workspace),p=c.folders.reduce((S,f)=>(S.set(L.URI.revive(f[0]),this.parseConfigurationModel(f[1])),S),new m.ResourceMap);return new n(d,r,s,a,new g,u,p,new g,new m.ResourceMap,!1)}static parseConfigurationModel(c){return new g(c.contents,c.keys,c.overrides).freeze()}}e.Configuration=n;class o{constructor(c,d,r,s){this.change=c,this.previous=d,this.currentConfiguraiton=r,this.currentWorkspace=s,this._previousConfiguration=void 0;const a=new Set;c.keys.forEach(p=>a.add(p)),c.overrides.forEach(([,p])=>p.forEach(S=>a.add(S))),this.affectedKeys=[...a.values()];const u=new g;this.affectedKeys.forEach(p=>u.setValue(p,{})),this.affectedKeysTree=u.contents}get previousConfiguration(){return!this._previousConfiguration&&this.previous&&(this._previousConfiguration=n.parse(this.previous.data)),this._previousConfiguration}affectsConfiguration(c,d){var r;if(this.doesAffectedKeysTreeContains(this.affectedKeysTree,c)){if(d){const s=this.previousConfiguration?this.previousConfiguration.getValue(c,d,(r=this.previous)===null||r===void 0?void 0:r.workspace):void 0,a=this.currentConfiguraiton.getValue(c,d,this.currentWorkspace);return!k.equals(s,a)}return!0}return!1}doesAffectedKeysTreeContains(c,d){let r=(0,b.toValuesTree)({[d]:!0},()=>{}),s;for(;typeof r=="object"&&(s=Object.keys(r)[0]);){if(c=c[s],!c)return!1;r=r[s]}return!0}}e.ConfigurationChangeEvent=o}),define(se[680],re([1,0,30,299,89,33]),function(q,e,w,m,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultConfigurationModel=void 0;class L extends m.ConfigurationModel{constructor(C={}){const h=D.Registry.as(k.Extensions.Configuration).getConfigurationProperties(),g=Object.keys(h),t=Object.create(null),i=[];for(const n in h){const o=C[n],l=o!==void 0?o:h[n].default;(0,w.addToValueTree)(t,n,l,c=>console.error(`Conflict in default settings: ${c}`))}for(const n of Object.keys(t))k.OVERRIDE_PROPERTY_REGEX.test(n)&&i.push({identifiers:(0,k.overrideIdentifiersFromKey)(n),keys:Object.keys(t[n]),contents:(0,w.toValuesTree)(t[n],o=>console.error(`Conflict in default settings file: ${o}`))});super(t,g,i)}}e.DefaultConfigurationModel=L}),define(se[96],re([1,0,106,17,26,33,2,58]),function(q,e,w,m,k,D,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Extensions=e.KeybindingsRegistry=void 0;class C{constructor(){this._coreKeybindings=new b.LinkedList,this._extensionKeybindings=[],this._cachedMergedKeybindings=null}static bindToCurrentPlatform(t){if(m.OS===1){if(t&&t.win)return t.win}else if(m.OS===2){if(t&&t.mac)return t.mac}else if(t&&t.linux)return t.linux;return t}registerKeybindingRule(t){const i=C.bindToCurrentPlatform(t),n=new L.DisposableStore;if(i&&i.primary){const o=(0,w.createKeybinding)(i.primary,m.OS);o&&n.add(this._registerDefaultKeybinding(o,t.id,t.args,t.weight,0,t.when))}if(i&&Array.isArray(i.secondary))for(let o=0,l=i.secondary.length;o<l;o++){const c=i.secondary[o],d=(0,w.createKeybinding)(c,m.OS);d&&n.add(this._registerDefaultKeybinding(d,t.id,t.args,t.weight,-o-1,t.when))}return n}registerCommandAndKeybindingRule(t){return(0,L.combinedDisposable)(this.registerKeybindingRule(t),k.CommandsRegistry.registerCommand(t))}static _mightProduceChar(t){return t>=21&&t<=30||t>=31&&t<=56?!0:t===80||t===81||t===82||t===83||t===84||t===85||t===86||t===110||t===111||t===87||t===88||t===89||t===90||t===91||t===92}_assertNoCtrlAlt(t,i){t.ctrlKey&&t.altKey&&!t.metaKey&&C._mightProduceChar(t.keyCode)&&console.warn("Ctrl+Alt+ keybindings should not be used by default under Windows. Offender: ",t," for ",i)}_registerDefaultKeybinding(t,i,n,o,l,c){m.OS===1&&this._assertNoCtrlAlt(t.parts[0],i);const d=this._coreKeybindings.push({keybinding:t.parts,command:i,commandArgs:n,when:c,weight1:o,weight2:l,extensionId:null,isBuiltinExtension:!1});return this._cachedMergedKeybindings=null,(0,L.toDisposable)(()=>{d(),this._cachedMergedKeybindings=null})}getDefaultKeybindings(){return this._cachedMergedKeybindings||(this._cachedMergedKeybindings=Array.from(this._coreKeybindings).concat(this._extensionKeybindings),this._cachedMergedKeybindings.sort(h)),this._cachedMergedKeybindings.slice(0)}}e.KeybindingsRegistry=new C,e.Extensions={EditorModes:"platform.keybindingsRegistry"},D.Registry.add(e.Extensions.EditorModes,e.KeybindingsRegistry);function h(g,t){if(g.weight1!==t.weight1)return g.weight1-t.weight1;if(g.command&&t.command){if(g.command<t.command)return-1;if(g.command>t.command)return 1}return g.weight2-t.weight2}}),define(se[300],re([1,0,206,510,15,96,635,2]),function(q,e,w,m,k,D,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextScopedReplaceInput=e.ContextScopedFindInput=e.registerAndCreateHistoryNavigationContext=e.historyNavigationVisible=void 0,e.historyNavigationVisible=new k.RawContextKey("suggestWidgetVisible",!1,(0,L.localize)(0,null));const C="historyNavigationWidgetFocus",h="historyNavigationForwardsEnabled",g="historyNavigationBackwardsEnabled";let t;const i=[];function n(c,d){if(i.includes(d))throw new Error("Cannot register the same widget multiple times");i.push(d);const r=new b.DisposableStore,s=r.add(c.createScoped(d.element)),a=new k.RawContextKey(C,!1).bindTo(s),u=new k.RawContextKey(h,!0).bindTo(s),p=new k.RawContextKey(g,!0).bindTo(s),S=()=>{a.set(!0),t=d},f=()=>{a.set(!1),t===d&&(t=void 0)};return d.element===document.activeElement&&S(),r.add(d.onDidFocus(()=>S())),r.add(d.onDidBlur(()=>f())),r.add((0,b.toDisposable)(()=>{i.splice(i.indexOf(d),1),f()})),{scopedContextKeyService:s,historyNavigationForwardsEnablement:u,historyNavigationBackwardsEnablement:p,dispose(){r.dispose()}}}e.registerAndCreateHistoryNavigationContext=n;let o=class extends w.FindInput{constructor(d,r,s,a){super(d,r,s),this._register(n(a,this.inputBox))}};o=De([fe(3,k.IContextKeyService)],o),e.ContextScopedFindInput=o;let l=class extends m.ReplaceInput{constructor(d,r,s,a,u=!1){super(d,r,u,s),this._register(n(a,this.inputBox))}};l=De([fe(3,k.IContextKeyService)],l),e.ContextScopedReplaceInput=l,D.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"history.showPrevious",weight:200,when:k.ContextKeyExpr.and(k.ContextKeyExpr.has(C),k.ContextKeyExpr.equals(g,!0),e.historyNavigationVisible.isEqualTo(!1)),primary:16,secondary:[528],handler:c=>{t?.showPreviousValue()}}),D.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"history.showNext",weight:200,when:k.ContextKeyExpr.and(k.ContextKeyExpr.has(C),k.ContextKeyExpr.equals(h,!0),e.historyNavigationVisible.isEqualTo(!1)),primary:18,secondary:[530],handler:c=>{t?.showNextValue()}})}),define(se[120],re([1,0,18,2,33]),function(q,e,w,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickAccessRegistry=e.Extensions=e.DefaultQuickAccessFilterValue=void 0;var D;(function(b){b[b.PRESERVE=0]="PRESERVE",b[b.LAST=1]="LAST"})(D=e.DefaultQuickAccessFilterValue||(e.DefaultQuickAccessFilterValue={})),e.Extensions={Quickaccess:"workbench.contributions.quickaccess"};class L{constructor(){this.providers=[],this.defaultProvider=void 0}registerQuickAccessProvider(C){return C.prefix.length===0?this.defaultProvider=C:this.providers.push(C),this.providers.sort((h,g)=>g.prefix.length-h.prefix.length),(0,m.toDisposable)(()=>{this.providers.splice(this.providers.indexOf(C),1),this.defaultProvider===C&&(this.defaultProvider=void 0)})}getQuickAccessProviders(){return(0,w.coalesce)([this.defaultProvider,...this.providers])}getQuickAccessProvider(C){return C&&this.providers.find(g=>C.startsWith(g.prefix))||void 0||this.defaultProvider}}e.QuickAccessRegistry=L,k.Registry.add(e.Extensions.Quickaccess,new L)}),define(se[681],re([1,0,640,33,2,41,120,88]),function(q,e,w,m,k,D,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HelpQuickAccessProvider=void 0;let C=class Ht{constructor(g,t){this.quickInputService=g,this.keybindingService=t,this.registry=m.Registry.as(L.Extensions.Quickaccess)}provide(g){const t=new k.DisposableStore;return t.add(g.onDidAccept(()=>{const[i]=g.selectedItems;i&&this.quickInputService.quickAccess.show(i.prefix,{preserveValue:!0})})),t.add(g.onDidChangeValue(i=>{const n=this.registry.getQuickAccessProvider(i.substr(Ht.PREFIX.length));n&&n.prefix&&n.prefix!==Ht.PREFIX&&this.quickInputService.quickAccess.show(n.prefix,{preserveValue:!0})})),g.items=this.getQuickAccessProviders().filter(i=>i.prefix!==Ht.PREFIX),t}getQuickAccessProviders(){return this.registry.getQuickAccessProviders().sort((t,i)=>t.prefix.localeCompare(i.prefix)).flatMap(t=>this.createPicks(t))}createPicks(g){return g.helpEntries.map(t=>{const i=t.prefix||g.prefix,n=i||"\u2026";return{prefix:i,label:n,keybinding:t.commandId?this.keybindingService.lookupKeybinding(t.commandId):void 0,ariaLabel:(0,w.localize)(0,null,n,t.description),description:t.description}})}};C.PREFIX="?",C=De([fe(0,b.IQuickInputService),fe(1,D.IKeybindingService)],C),e.HelpQuickAccessProvider=C}),define(se[682],re([1,0,33,120,78,681]),function(q,e,w,m,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),w.Registry.as(m.Extensions.Quickaccess).registerQuickAccessProvider({ctor:D.HelpQuickAccessProvider,prefix:"",helpEntries:[{description:k.QuickHelpNLS.helpQuickAccessActionLabel}]})}),define(se[683],re([1,0,10,21,98,2,9,120,88,33]),function(q,e,w,m,k,D,L,b,C,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickAccessController=void 0;let g=class extends D.Disposable{constructor(i,n){super(),this.quickInputService=i,this.instantiationService=n,this.registry=h.Registry.as(b.Extensions.Quickaccess),this.mapProviderToDescriptor=new Map,this.lastAcceptedPickerValues=new Map,this.visibleQuickAccess=void 0}show(i="",n){this.doShowOrPick(i,!1,n)}doShowOrPick(i,n,o){var l;const[c,d]=this.getOrInstantiateProvider(i),r=this.visibleQuickAccess,s=r?.descriptor;if(r&&d&&s===d){i!==d.prefix&&!o?.preserveValue&&(r.picker.value=i),this.adjustValueSelection(r.picker,d,o);return}if(d&&!o?.preserveValue){let f;if(r&&s&&s!==d){const v=r.value.substr(s.prefix.length);v&&(f=`${d.prefix}${v}`)}if(!f){const v=c?.defaultFilterValue;v===b.DefaultQuickAccessFilterValue.LAST?f=this.lastAcceptedPickerValues.get(d):typeof v=="string"&&(f=`${d.prefix}${v}`)}typeof f=="string"&&(i=f)}const a=new D.DisposableStore,u=a.add(this.quickInputService.createQuickPick());u.value=i,this.adjustValueSelection(u,d,o),u.placeholder=d?.placeholder,u.quickNavigate=o?.quickNavigateConfiguration,u.hideInput=!!u.quickNavigate&&!r,(typeof o?.itemActivation=="number"||o?.quickNavigateConfiguration)&&(u.itemActivation=(l=o?.itemActivation)!==null&&l!==void 0?l:C.ItemActivation.SECOND),u.contextKey=d?.contextKey,u.filterValue=f=>f.substring(d?d.prefix.length:0),d?.placeholder&&(u.ariaLabel=d?.placeholder);let p;n&&(p=new w.DeferredPromise,a.add((0,k.once)(u.onWillAccept)(f=>{f.veto(),u.hide()}))),a.add(this.registerPickerListeners(u,c,d,i,o?.providerOptions));const S=a.add(new m.CancellationTokenSource);if(c&&a.add(c.provide(u,S.token,o?.providerOptions)),(0,k.once)(u.onDidHide)(()=>{u.selectedItems.length===0&&S.cancel(),a.dispose(),p?.complete(u.selectedItems.slice(0))}),u.show(),n)return p?.p}adjustValueSelection(i,n,o){var l;let c;o?.preserveValue?c=[i.value.length,i.value.length]:c=[(l=n?.prefix.length)!==null&&l!==void 0?l:0,i.value.length],i.valueSelection=c}registerPickerListeners(i,n,o,l,c){const d=new D.DisposableStore,r=this.visibleQuickAccess={picker:i,descriptor:o,value:l};return d.add((0,D.toDisposable)(()=>{r===this.visibleQuickAccess&&(this.visibleQuickAccess=void 0)})),d.add(i.onDidChangeValue(s=>{const[a]=this.getOrInstantiateProvider(s);a!==n?this.show(s,{preserveValue:!0,providerOptions:c}):r.value=s})),o&&d.add(i.onDidAccept(()=>{this.lastAcceptedPickerValues.set(o,i.value)})),d}getOrInstantiateProvider(i){const n=this.registry.getQuickAccessProvider(i);if(!n)return[void 0,void 0];let o=this.mapProviderToDescriptor.get(n);return o||(o=this.instantiationService.createInstance(n.ctor),this.mapProviderToDescriptor.set(n,o)),[o,n]}};g=De([fe(0,C.IQuickInputService),fe(1,L.IInstantiationService)],g),e.QuickAccessController=g}),define(se[80],re([1,0,6,2,19,516,9]),function(q,e,w,m,k,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InMemoryStorageService=e.AbstractStorageService=e.loadKeyTargets=e.WillSaveStateReason=e.IStorageService=e.TARGET_KEY=void 0,e.TARGET_KEY="__$__targetStorageMarker",e.IStorageService=(0,L.createDecorator)("storageService");var b;(function(t){t[t.NONE=0]="NONE",t[t.SHUTDOWN=1]="SHUTDOWN"})(b=e.WillSaveStateReason||(e.WillSaveStateReason={}));function C(t){const i=t.get(e.TARGET_KEY);if(i)try{return JSON.parse(i)}catch{}return Object.create(null)}e.loadKeyTargets=C;class h extends m.Disposable{constructor(i={flushInterval:h.DEFAULT_FLUSH_INTERVAL}){super(),this.options=i,this._onDidChangeValue=this._register(new w.PauseableEmitter),this.onDidChangeValue=this._onDidChangeValue.event,this._onDidChangeTarget=this._register(new w.PauseableEmitter),this._onWillSaveState=this._register(new w.Emitter),this.onWillSaveState=this._onWillSaveState.event,this._workspaceKeyTargets=void 0,this._profileKeyTargets=void 0,this._applicationKeyTargets=void 0}emitDidChangeValue(i,n){if(n===e.TARGET_KEY){switch(i){case-1:this._applicationKeyTargets=void 0;break;case 0:this._profileKeyTargets=void 0;break;case 1:this._workspaceKeyTargets=void 0;break}this._onDidChangeTarget.fire({scope:i})}else this._onDidChangeValue.fire({scope:i,key:n,target:this.getKeyTargets(i)[n]})}get(i,n,o){var l;return(l=this.getStorage(n))===null||l===void 0?void 0:l.get(i,o)}getBoolean(i,n,o){var l;return(l=this.getStorage(n))===null||l===void 0?void 0:l.getBoolean(i,o)}getNumber(i,n,o){var l;return(l=this.getStorage(n))===null||l===void 0?void 0:l.getNumber(i,o)}store(i,n,o,l){if((0,k.isUndefinedOrNull)(n)){this.remove(i,o);return}this.withPausedEmitters(()=>{var c;this.updateKeyTarget(i,o,l),(c=this.getStorage(o))===null||c===void 0||c.set(i,n)})}remove(i,n){this.withPausedEmitters(()=>{var o;this.updateKeyTarget(i,n,void 0),(o=this.getStorage(n))===null||o===void 0||o.delete(i)})}withPausedEmitters(i){this._onDidChangeValue.pause(),this._onDidChangeTarget.pause();try{i()}finally{this._onDidChangeValue.resume(),this._onDidChangeTarget.resume()}}updateKeyTarget(i,n,o){var l,c;const d=this.getKeyTargets(n);typeof o=="number"?d[i]!==o&&(d[i]=o,(l=this.getStorage(n))===null||l===void 0||l.set(e.TARGET_KEY,JSON.stringify(d))):typeof d[i]=="number"&&(delete d[i],(c=this.getStorage(n))===null||c===void 0||c.set(e.TARGET_KEY,JSON.stringify(d)))}get workspaceKeyTargets(){return this._workspaceKeyTargets||(this._workspaceKeyTargets=this.loadKeyTargets(1)),this._workspaceKeyTargets}get profileKeyTargets(){return this._profileKeyTargets||(this._profileKeyTargets=this.loadKeyTargets(0)),this._profileKeyTargets}get applicationKeyTargets(){return this._applicationKeyTargets||(this._applicationKeyTargets=this.loadKeyTargets(-1)),this._applicationKeyTargets}getKeyTargets(i){switch(i){case-1:return this.applicationKeyTargets;case 0:return this.profileKeyTargets;default:return this.workspaceKeyTargets}}loadKeyTargets(i){const n=this.getStorage(i);return n?C(n):Object.create(null)}}e.AbstractStorageService=h,h.DEFAULT_FLUSH_INTERVAL=60*1e3;class g extends h{constructor(){super(),this.applicationStorage=this._register(new D.Storage(new D.InMemoryStorageDatabase)),this.profileStorage=this._register(new D.Storage(new D.InMemoryStorageDatabase)),this.workspaceStorage=this._register(new D.Storage(new D.InMemoryStorageDatabase)),this._register(this.workspaceStorage.onDidChangeStorage(i=>this.emitDidChangeValue(1,i))),this._register(this.profileStorage.onDidChangeStorage(i=>this.emitDidChangeValue(0,i))),this._register(this.applicationStorage.onDidChangeStorage(i=>this.emitDidChangeValue(-1,i)))}getStorage(i){switch(i){case-1:return this.applicationStorage;case 0:return this.profileStorage;default:return this.workspaceStorage}}}e.InMemoryStorageService=g}),define(se[684],re([1,0,10,98,59,3,289,52,9,80]),function(q,e,w,m,k,D,L,b,C,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeLensCache=e.ICodeLensCache=void 0,e.ICodeLensCache=(0,C.createDecorator)("ICodeLensCache");class g{constructor(n,o){this.lineCount=n,this.data=o}}let t=class{constructor(n){this._fakeProvider=new class{provideCodeLenses(){throw new Error("not supported")}},this._cache=new k.LRUCache(20,.75);const o="codelens/cache";(0,w.runWhenIdle)(()=>n.remove(o,1));const l="codelens/cache2",c=n.get(l,1,"{}");this._deserialize(c),(0,m.once)(n.onWillSaveState)(d=>{d.reason===h.WillSaveStateReason.SHUTDOWN&&n.store(l,this._serialize(),1,1)})}put(n,o){const l=o.lenses.map(r=>{var s;return{range:r.symbol.range,command:r.symbol.command&&{id:"",title:(s=r.symbol.command)===null||s===void 0?void 0:s.title}}}),c=new L.CodeLensModel;c.add({lenses:l,dispose:()=>{}},this._fakeProvider);const d=new g(n.getLineCount(),c);this._cache.set(n.uri.toString(),d)}get(n){const o=this._cache.get(n.uri.toString());return o&&o.lineCount===n.getLineCount()?o.data:void 0}delete(n){this._cache.delete(n.uri.toString())}_serialize(){const n=Object.create(null);for(const[o,l]of this._cache){const c=new Set;for(const d of l.data.lenses)c.add(d.symbol.range.startLineNumber);n[o]={lineCount:l.lineCount,lines:[...c.values()]}}return JSON.stringify(n)}_deserialize(n){try{const o=JSON.parse(n);for(const l in o){const c=o[l],d=[];for(const s of c.lines)d.push({range:new D.Range(s,1,s,11)});const r=new L.CodeLensModel;r.add({lenses:d,dispose(){}},this._fakeProvider),this._cache.set(l,new g(c.lineCount,r))}}catch{}}};t=De([fe(0,h.IStorageService)],t),e.CodeLensCache=t,(0,b.registerSingleton)(e.ICodeLensCache,t,1)}),define(se[301],re([1,0,10,2,59,180,28,30,52,9,80]),function(q,e,w,m,k,D,L,b,C,h,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ISuggestMemoryService=e.SuggestMemoryService=e.PrefixMemory=e.LRUMemory=e.NoMemory=e.Memory=void 0;class t{constructor(d){this.name=d}select(d,r,s){if(s.length===0)return 0;const a=s[0].score[0];for(let u=0;u<s.length;u++){const{score:p,completion:S}=s[u];if(p[0]!==a)break;if(S.preselect)return u}return 0}}e.Memory=t;class i extends t{constructor(){super("first")}memorize(d,r,s){}toJSON(){}fromJSON(){}}e.NoMemory=i;class n extends t{constructor(){super("recentlyUsed"),this._cache=new k.LRUCache(300,.66),this._seq=0}memorize(d,r,s){const a=`${d.getLanguageId()}/${s.textLabel}`;this._cache.set(a,{touch:this._seq++,type:s.completion.kind,insertText:s.completion.insertText})}select(d,r,s){if(s.length===0)return 0;const a=d.getLineContent(r.lineNumber).substr(r.column-10,r.column-1);if(/\s$/.test(a))return super.select(d,r,s);const u=s[0].score[0];let p=-1,S=-1,f=-1;for(let v=0;v<s.length&&s[v].score[0]===u;v++){const _=`${d.getLanguageId()}/${s[v].textLabel}`,y=this._cache.peek(_);if(y&&y.touch>f&&y.type===s[v].completion.kind&&y.insertText===s[v].completion.insertText&&(f=y.touch,S=v),s[v].completion.preselect&&p===-1)return p=v}return S!==-1?S:p!==-1?p:0}toJSON(){return this._cache.toJSON()}fromJSON(d){this._cache.clear();const r=0;for(const[s,a]of d)a.touch=r,a.type=typeof a.type=="number"?a.type:L.CompletionItemKinds.fromString(a.type),this._cache.set(s,a);this._seq=this._cache.size}}e.LRUMemory=n;class o extends t{constructor(){super("recentlyUsedByPrefix"),this._trie=D.TernarySearchTree.forStrings(),this._seq=0}memorize(d,r,s){const{word:a}=d.getWordUntilPosition(r),u=`${d.getLanguageId()}/${a}`;this._trie.set(u,{type:s.completion.kind,insertText:s.completion.insertText,touch:this._seq++})}select(d,r,s){const{word:a}=d.getWordUntilPosition(r);if(!a)return super.select(d,r,s);const u=`${d.getLanguageId()}/${a}`;let p=this._trie.get(u);if(p||(p=this._trie.findSubstr(u)),p)for(let S=0;S<s.length;S++){const{kind:f,insertText:v}=s[S].completion;if(f===p.type&&v===p.insertText)return S}return super.select(d,r,s)}toJSON(){const d=[];return this._trie.forEach((r,s)=>d.push([s,r])),d.sort((r,s)=>-(r[1].touch-s[1].touch)).forEach((r,s)=>r[1].touch=s),d.slice(0,200)}fromJSON(d){if(this._trie.clear(),d.length>0){this._seq=d[0][1].touch+1;for(const[r,s]of d)s.type=typeof s.type=="number"?s.type:L.CompletionItemKinds.fromString(s.type),this._trie.set(r,s)}}}e.PrefixMemory=o;let l=class Ut{constructor(d,r){this._storageService=d,this._configService=r,this._disposables=new m.DisposableStore,this._persistSoon=new w.RunOnceScheduler(()=>this._saveState(),500),this._disposables.add(d.onWillSaveState(s=>{s.reason===g.WillSaveStateReason.SHUTDOWN&&this._saveState()}))}dispose(){this._disposables.dispose(),this._persistSoon.dispose()}memorize(d,r,s){this._withStrategy(d,r).memorize(d,r,s),this._persistSoon.schedule()}select(d,r,s){return this._withStrategy(d,r).select(d,r,s)}_withStrategy(d,r){var s;const a=this._configService.getValue("editor.suggestSelection",{overrideIdentifier:d.getLanguageIdAtPosition(r.lineNumber,r.column),resource:d.uri});if(((s=this._strategy)===null||s===void 0?void 0:s.name)!==a){this._saveState();const u=Ut._strategyCtors.get(a)||i;this._strategy=new u;try{const S=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,f=this._storageService.get(`${Ut._storagePrefix}/${a}`,S);f&&this._strategy.fromJSON(JSON.parse(f))}catch{}}return this._strategy}_saveState(){if(this._strategy){const r=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,s=JSON.stringify(this._strategy);this._storageService.store(`${Ut._storagePrefix}/${this._strategy.name}`,s,r,1)}}};l._strategyCtors=new Map([["recentlyUsedByPrefix",o],["recentlyUsed",n],["first",i]]),l._storagePrefix="suggest/memories",l=De([fe(0,g.IStorageService),fe(1,b.IConfigurationService)],l),e.SuggestMemoryService=l,e.ISuggestMemoryService=(0,h.createDecorator)("ISuggestMemories"),(0,C.registerSingleton)(e.ISuggestMemoryService,l,1)}),define(se[81],re([1,0,9]),function(q,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITelemetryService=void 0,e.ITelemetryService=(0,w.createDecorator)("telemetryService")}),define(se[685],re([1,0,6,55,2,36,56,180,22,633,26,30,15,81]),function(q,e,w,m,k,D,L,b,C,h,g,t,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setContext=e.ContextKeyService=e.AbstractContextKeyService=e.Context=void 0;const o="data-keybinding-context";class l{constructor(I,R){this._id=I,this._parent=R,this._value=Object.create(null),this._value._contextId=I}get value(){return Object.assign({},this._value)}setValue(I,R){return this._value[I]!==R?(this._value[I]=R,!0):!1}removeValue(I){return I in this._value?(delete this._value[I],!0):!1}getValue(I){const R=this._value[I];return typeof R>"u"&&this._parent?this._parent.getValue(I):R}}e.Context=l;class c extends l{constructor(){super(-1,null)}setValue(I,R){return!1}removeValue(I){return!1}getValue(I){}}c.INSTANCE=new c;class d extends l{constructor(I,R,F){super(I,null),this._configurationService=R,this._values=b.TernarySearchTree.forConfigKeys(),this._listener=this._configurationService.onDidChangeConfiguration(O=>{if(O.source===7){const M=Array.from(m.Iterable.map(this._values,([N])=>N));this._values.clear(),F.fire(new a(M))}else{const M=[];for(const N of O.affectedKeys){const A=`config.${N}`,B=this._values.findSuperstr(A);B!==void 0&&(M.push(...m.Iterable.map(B,([W])=>W)),this._values.deleteSuperstr(A)),this._values.has(A)&&(M.push(A),this._values.delete(A))}F.fire(new a(M))}})}dispose(){this._listener.dispose()}getValue(I){if(I.indexOf(d._keyPrefix)!==0)return super.getValue(I);if(this._values.has(I))return this._values.get(I);const R=I.substr(d._keyPrefix.length),F=this._configurationService.getValue(R);let O;switch(typeof F){case"number":case"boolean":case"string":O=F;break;default:Array.isArray(F)?O=JSON.stringify(F):O=F}return this._values.set(I,O),O}setValue(I,R){return super.setValue(I,R)}removeValue(I){return super.removeValue(I)}}d._keyPrefix="config.";class r{constructor(I,R,F){this._service=I,this._key=R,this._defaultValue=F,this.reset()}set(I){this._service.setContext(this._key,I)}reset(){typeof this._defaultValue>"u"?this._service.removeContext(this._key):this._service.setContext(this._key,this._defaultValue)}get(){return this._service.getContextKeyValue(this._key)}}class s{constructor(I){this.key=I}affectsSome(I){return I.has(this.key)}allKeysContainedIn(I){return this.affectsSome(I)}}class a{constructor(I){this.keys=I}affectsSome(I){for(const R of this.keys)if(I.has(R))return!0;return!1}allKeysContainedIn(I){return this.keys.every(R=>I.has(R))}}class u{constructor(I){this.events=I}affectsSome(I){for(const R of this.events)if(R.affectsSome(I))return!0;return!1}allKeysContainedIn(I){return this.events.every(R=>R.allKeysContainedIn(I))}}function p(T,I){return T.allKeysContainedIn(new Set(Object.keys(I)))}class S{constructor(I){this._onDidChangeContext=new w.PauseableEmitter({merge:R=>new u(R)}),this.onDidChangeContext=this._onDidChangeContext.event,this._isDisposed=!1,this._myContextId=I}createKey(I,R){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new r(this,I,R)}bufferChangeEvents(I){this._onDidChangeContext.pause();try{I()}finally{this._onDidChangeContext.resume()}}createScoped(I){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new v(this,I)}contextMatchesRules(I){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");const R=this.getContextValuesContainer(this._myContextId);return I?I.evaluate(R):!0}getContextKeyValue(I){if(!this._isDisposed)return this.getContextValuesContainer(this._myContextId).getValue(I)}setContext(I,R){if(this._isDisposed)return;const F=this.getContextValuesContainer(this._myContextId);!F||F.setValue(I,R)&&this._onDidChangeContext.fire(new s(I))}removeContext(I){this._isDisposed||this.getContextValuesContainer(this._myContextId).removeValue(I)&&this._onDidChangeContext.fire(new s(I))}getContext(I){return this._isDisposed?c.INSTANCE:this.getContextValuesContainer(_(I))}}e.AbstractContextKeyService=S;let f=class extends S{constructor(I){super(0),this._contexts=new Map,this._toDispose=new k.DisposableStore,this._lastContextId=0;const R=new d(this._myContextId,I,this._onDidChangeContext);this._contexts.set(this._myContextId,R),this._toDispose.add(R)}dispose(){this._onDidChangeContext.dispose(),this._isDisposed=!0,this._toDispose.dispose()}getContextValuesContainer(I){return this._isDisposed?c.INSTANCE:this._contexts.get(I)||c.INSTANCE}createChildContext(I=this._myContextId){if(this._isDisposed)throw new Error("ContextKeyService has been disposed");const R=++this._lastContextId;return this._contexts.set(R,new l(R,this.getContextValuesContainer(I))),R}disposeContext(I){this._isDisposed||this._contexts.delete(I)}};f=De([fe(0,t.IConfigurationService)],f),e.ContextKeyService=f;class v extends S{constructor(I,R){if(super(I.createChildContext()),this._parentChangeListener=new k.MutableDisposable,this._parent=I,this._updateParentChangeListener(),this._domNode=R,this._domNode.hasAttribute(o)){let F="";this._domNode.classList&&(F=Array.from(this._domNode.classList.values()).join(", ")),console.error(`Element already has context attribute${F?": "+F:""}`)}this._domNode.setAttribute(o,String(this._myContextId))}_updateParentChangeListener(){this._parentChangeListener.value=this._parent.onDidChangeContext(I=>{const F=this._parent.getContextValuesContainer(this._myContextId).value;p(I,F)||this._onDidChangeContext.fire(I)})}dispose(){this._isDisposed||(this._onDidChangeContext.dispose(),this._parent.disposeContext(this._myContextId),this._parentChangeListener.dispose(),this._domNode.removeAttribute(o),this._isDisposed=!0)}getContextValuesContainer(I){return this._isDisposed?c.INSTANCE:this._parent.getContextValuesContainer(I)}createChildContext(I=this._myContextId){if(this._isDisposed)throw new Error("ScopedContextKeyService has been disposed");return this._parent.createChildContext(I)}disposeContext(I){this._isDisposed||this._parent.disposeContext(I)}}function _(T){for(;T;){if(T.hasAttribute(o)){const I=T.getAttribute(o);return I?parseInt(I,10):NaN}T=T.parentElement}return 0}function y(T,I,R){const F=T.get(i.IContextKeyService),O=T.get(n.ITelemetryService),M=new L.StopWatch(!0);F.createKey(String(I),E(R));const N=M.elapsed();O.publicLog2("command.setContext",{contextKey:String(I),duration:N})}e.setContext=y;function E(T){return(0,D.cloneAndChange)(T,I=>{if(typeof I=="object"&&I.$mid===1)return C.URI.revive(I).toString();if(I instanceof C.URI)return I.toString()})}g.CommandsRegistry.registerCommand(i.SET_CONTEXT_COMMAND_ID,y),g.CommandsRegistry.registerCommand({id:"getContextKeyInfo",handler(){return[...i.RawContextKey.all()].sort((T,I)=>T.key.localeCompare(I.key))},description:{description:(0,h.localize)(0,null),args:[]}}),g.CommandsRegistry.registerCommand("_generateContextKeyInfo",function(){const T=[],I=new Set;for(const R of i.RawContextKey.all())I.has(R.key)||(I.add(R.key),T.push(R));T.sort((R,F)=>R.key.localeCompare(F.key)),console.log(JSON.stringify(T,void 0,2))})}),define(se[686],re([1,0,488,14,62,2,59,90,19,639,26,30,142,9,41,671,80,81]),function(q,e,w,m,k,D,L,b,C,h,g,t,i,n,o,l,c,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CommandsHistory=e.AbstractCommandsQuickAccessProvider=void 0;let r=class Kt extends l.PickerQuickAccessProvider{constructor(u,p,S,f,v,_){super(Kt.PREFIX,u),this.instantiationService=p,this.keybindingService=S,this.commandService=f,this.telemetryService=v,this.dialogService=_,this.commandsHistory=this._register(this.instantiationService.createInstance(s)),this.options=u}_getPicks(u,p,S){return Se(this,void 0,void 0,function*(){const f=yield this.getCommandPicks(S);if(S.isCancellationRequested)return[];const v=[];for(const T of f){const I=(0,C.withNullAsUndefined)(Kt.WORD_FILTER(u,T.label)),R=T.commandAlias?(0,C.withNullAsUndefined)(Kt.WORD_FILTER(u,T.commandAlias)):void 0;I||R?(T.highlights={label:I,detail:this.options.showAlias?R:void 0},v.push(T)):u===T.commandId&&v.push(T)}const _=new Map;for(const T of v){const I=_.get(T.label);I?(T.description=T.commandId,I.description=I.commandId):_.set(T.label,T)}v.sort((T,I)=>{const R=this.commandsHistory.peek(T.commandId),F=this.commandsHistory.peek(I.commandId);return R&&F?R>F?-1:1:R?-1:F?1:T.label.localeCompare(I.label)});const y=[];let E=!1;for(let T=0;T<v.length;T++){const I=v[T],R=this.keybindingService.lookupKeybinding(I.commandId),F=R?(0,h.localize)(0,null,I.label,R.getAriaLabel()):I.label;T===0&&this.commandsHistory.peek(I.commandId)&&(y.push({type:"separator",label:(0,h.localize)(1,null)}),E=!0),T!==0&&E&&!this.commandsHistory.peek(I.commandId)&&(y.push({type:"separator",label:(0,h.localize)(2,null)}),E=!1),y.push(Object.assign(Object.assign({},I),{ariaLabel:F,detail:this.options.showAlias&&I.commandAlias!==I.label?I.commandAlias:void 0,keybinding:R,accept:()=>Se(this,void 0,void 0,function*(){this.commandsHistory.push(I.commandId),this.telemetryService.publicLog2("workbenchActionExecuted",{id:I.commandId,from:"quick open"});try{yield this.commandService.executeCommand(I.commandId)}catch(O){(0,m.isCancellationError)(O)||this.dialogService.show(b.default.Error,(0,h.localize)(3,null,I.label,(0,w.toErrorMessage)(O)))}})}))}return y})}};r.PREFIX=">",r.WORD_FILTER=(0,k.or)(k.matchesPrefix,k.matchesWords,k.matchesContiguousSubString),r=De([fe(1,n.IInstantiationService),fe(2,o.IKeybindingService),fe(3,g.ICommandService),fe(4,d.ITelemetryService),fe(5,i.IDialogService)],r),e.AbstractCommandsQuickAccessProvider=r;let s=class rt extends D.Disposable{constructor(u,p){super(),this.storageService=u,this.configurationService=p,this.configuredCommandsHistoryLength=0,this.updateConfiguration(),this.load(),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(()=>this.updateConfiguration()))}updateConfiguration(){this.configuredCommandsHistoryLength=rt.getConfiguredCommandHistoryLength(this.configurationService),rt.cache&&rt.cache.limit!==this.configuredCommandsHistoryLength&&(rt.cache.limit=this.configuredCommandsHistoryLength,rt.saveState(this.storageService))}load(){const u=this.storageService.get(rt.PREF_KEY_CACHE,0);let p;if(u)try{p=JSON.parse(u)}catch{}const S=rt.cache=new L.LRUCache(this.configuredCommandsHistoryLength,1);if(p){let f;p.usesLRU?f=p.entries:f=p.entries.sort((v,_)=>v.value-_.value),f.forEach(v=>S.set(v.key,v.value))}rt.counter=this.storageService.getNumber(rt.PREF_KEY_COUNTER,0,rt.counter)}push(u){!rt.cache||(rt.cache.set(u,rt.counter++),rt.saveState(this.storageService))}peek(u){var p;return(p=rt.cache)===null||p===void 0?void 0:p.peek(u)}static saveState(u){if(!rt.cache)return;const p={usesLRU:!0,entries:[]};rt.cache.forEach((S,f)=>p.entries.push({key:f,value:S})),u.store(rt.PREF_KEY_CACHE,JSON.stringify(p),0,0),u.store(rt.PREF_KEY_COUNTER,rt.counter,0,0)}static getConfiguredCommandHistoryLength(u){var p,S;const v=(S=(p=u.getValue().workbench)===null||p===void 0?void 0:p.commandPalette)===null||S===void 0?void 0:S.history;return typeof v=="number"?v:rt.DEFAULT_COMMANDS_HISTORY_LENGTH}};s.DEFAULT_COMMANDS_HISTORY_LENGTH=50,s.PREF_KEY_CACHE="commandPalette.mru.cache",s.PREF_KEY_COUNTER="commandPalette.mru.counter",s.counter=1,s=De([fe(0,c.IStorageService),fe(1,t.IConfigurationService)],s),e.CommandsHistory=s}),define(se[687],re([1,0,108,686]),function(q,e,w,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractEditorCommandsQuickAccessProvider=void 0;class k extends m.AbstractCommandsQuickAccessProvider{constructor(L,b,C,h,g,t){super(L,b,C,h,g,t)}getCodeEditorCommandPicks(){const L=this.activeTextEditorControl;if(!L)return[];const b=[];for(const C of L.getSupportedActions())b.push({commandId:C.id,commandAlias:C.alias,label:(0,w.stripIcons)(C.label)||C.id});return b}}e.AbstractEditorCommandsQuickAccessProvider=k}),define(se[23],re([1,0,10,31,6,83,641,216,33]),function(q,e,w,m,k,D,L,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.workbenchColorsSchemaId=e.resolveColorValue=e.ifDefinedThenElse=e.oneOf=e.transparent=e.lighten=e.darken=e.executeTransform=e.chartsPurple=e.chartsGreen=e.chartsOrange=e.chartsYellow=e.chartsBlue=e.chartsRed=e.chartsLines=e.chartsForeground=e.problemsInfoIconForeground=e.problemsWarningIconForeground=e.problemsErrorIconForeground=e.minimapSliderActiveBackground=e.minimapSliderHoverBackground=e.minimapSliderBackground=e.minimapForegroundOpacity=e.minimapBackground=e.minimapWarning=e.minimapError=e.minimapSelection=e.minimapSelectionOccurrenceHighlight=e.minimapFindMatch=e.overviewRulerSelectionHighlightForeground=e.overviewRulerFindMatchForeground=e.overviewRulerCommonContentForeground=e.overviewRulerIncomingContentForeground=e.overviewRulerCurrentContentForeground=e.mergeBorder=e.mergeCommonContentBackground=e.mergeCommonHeaderBackground=e.mergeIncomingContentBackground=e.mergeIncomingHeaderBackground=e.mergeCurrentContentBackground=e.mergeCurrentHeaderBackground=e.breadcrumbsPickerBackground=e.breadcrumbsActiveSelectionForeground=e.breadcrumbsFocusForeground=e.breadcrumbsBackground=e.breadcrumbsForeground=e.snippetFinalTabstopHighlightBorder=e.snippetFinalTabstopHighlightBackground=e.snippetTabstopHighlightBorder=e.snippetTabstopHighlightBackground=e.toolbarActiveBackground=e.toolbarHoverOutline=e.toolbarHoverBackground=e.menuSeparatorBackground=e.menuSelectionBorder=e.menuSelectionBackground=e.menuSelectionForeground=e.menuBackground=e.menuForeground=e.menuBorder=e.quickInputListFocusBackground=e.quickInputListFocusIconForeground=e.quickInputListFocusForeground=e._deprecatedQuickInputListFocusBackground=e.listDeemphasizedForeground=e.tableOddRowsBackgroundColor=e.tableColumnsBorder=e.treeIndentGuidesStroke=e.listFilterMatchHighlightBorder=e.listFilterMatchHighlight=e.listFilterWidgetShadow=e.listFilterWidgetNoMatchesOutline=e.listFilterWidgetOutline=e.listFilterWidgetBackground=e.listWarningForeground=e.listErrorForeground=e.listInvalidItemForeground=e.listFocusHighlightForeground=e.listHighlightForeground=e.listDropBackground=e.listHoverForeground=e.listHoverBackground=e.listInactiveFocusOutline=e.listInactiveFocusBackground=e.listInactiveSelectionIconForeground=e.listInactiveSelectionForeground=e.listInactiveSelectionBackground=e.listActiveSelectionIconForeground=e.listActiveSelectionForeground=e.listActiveSelectionBackground=e.listFocusAndSelectionOutline=e.listFocusOutline=e.listFocusForeground=e.listFocusBackground=e.diffDiagonalFill=e.diffBorder=e.diffRemovedOutline=e.diffInsertedOutline=e.diffOverviewRulerRemoved=e.diffOverviewRulerInserted=e.diffRemovedLineGutter=e.diffInsertedLineGutter=e.diffRemovedLine=e.diffInsertedLine=e.diffRemoved=e.diffInserted=e.defaultRemoveColor=e.defaultInsertColor=e.editorLightBulbAutoFixForeground=e.editorLightBulbForeground=e.editorInlayHintParameterBackground=e.editorInlayHintParameterForeground=e.editorInlayHintTypeBackground=e.editorInlayHintTypeForeground=e.editorInlayHintBackground=e.editorInlayHintForeground=e.editorActiveLinkForeground=e.editorHoverStatusBarBackground=e.editorHoverBorder=e.editorHoverForeground=e.editorHoverBackground=e.editorHoverHighlight=e.searchEditorFindMatchBorder=e.searchEditorFindMatch=e.editorFindRangeHighlightBorder=e.editorFindMatchHighlightBorder=e.editorFindMatchBorder=e.editorFindRangeHighlight=e.editorFindMatchHighlight=e.editorFindMatch=e.editorSelectionHighlightBorder=e.editorSelectionHighlight=e.editorInactiveSelection=e.editorSelectionForeground=e.editorSelectionBackground=e.keybindingLabelBottomBorder=e.keybindingLabelBorder=e.keybindingLabelForeground=e.keybindingLabelBackground=e.pickerGroupBorder=e.pickerGroupForeground=e.quickInputTitleBackground=e.quickInputForeground=e.quickInputBackground=e.editorWidgetResizeBorder=e.editorWidgetBorder=e.editorWidgetForeground=e.editorWidgetBackground=e.editorStickyScrollHoverBackground=e.editorStickyScrollBackground=e.editorForeground=e.editorBackground=e.sashHoverBorder=e.editorHintBorder=e.editorHintForeground=e.editorInfoBorder=e.editorInfoForeground=e.editorInfoBackground=e.editorWarningBorder=e.editorWarningForeground=e.editorWarningBackground=e.editorErrorBorder=e.editorErrorForeground=e.editorErrorBackground=e.progressBarBackground=e.scrollbarSliderActiveBackground=e.scrollbarSliderHoverBackground=e.scrollbarSliderBackground=e.scrollbarShadow=e.badgeForeground=e.badgeBackground=e.buttonSecondaryHoverBackground=e.buttonSecondaryBackground=e.buttonSecondaryForeground=e.buttonBorder=e.buttonHoverBackground=e.buttonBackground=e.buttonSeparator=e.buttonForeground=e.checkboxBorder=e.checkboxForeground=e.checkboxBackground=e.selectBorder=e.selectForeground=e.selectListBackground=e.selectBackground=e.inputValidationErrorBorder=e.inputValidationErrorForeground=e.inputValidationErrorBackground=e.inputValidationWarningBorder=e.inputValidationWarningForeground=e.inputValidationWarningBackground=e.inputValidationInfoBorder=e.inputValidationInfoForeground=e.inputValidationInfoBackground=e.inputPlaceholderForeground=e.inputActiveOptionForeground=e.inputActiveOptionBackground=e.inputActiveOptionHoverBackground=e.inputActiveOptionBorder=e.inputBorder=e.inputForeground=e.inputBackground=e.widgetShadow=e.textCodeBlockBackground=e.textBlockQuoteBorder=e.textBlockQuoteBackground=e.textPreformatForeground=e.textLinkActiveForeground=e.textLinkForeground=e.textSeparatorForeground=e.selectionBackground=e.activeContrastBorder=e.contrastBorder=e.focusBorder=e.iconForeground=e.descriptionForeground=e.errorForeground=e.disabledForeground=e.foreground=e.registerColor=e.Extensions=e.asCssVariableName=void 0;function h(I){return`--vscode-${I.replace(/\./g,"-")}`}e.asCssVariableName=h,e.Extensions={ColorContribution:"base.contributions.colors"};class g{constructor(){this._onDidChangeSchema=new k.Emitter,this.onDidChangeSchema=this._onDidChangeSchema.event,this.colorSchema={type:"object",properties:{}},this.colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.colorsById={}}registerColor(R,F,O,M=!1,N){const A={id:R,description:O,defaults:F,needsTransparency:M,deprecationMessage:N};this.colorsById[R]=A;const B={type:"string",description:O,format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};return N&&(B.deprecationMessage=N),this.colorSchema.properties[R]=B,this.colorReferenceSchema.enum.push(R),this.colorReferenceSchema.enumDescriptions.push(O),this._onDidChangeSchema.fire(),R}getColors(){return Object.keys(this.colorsById).map(R=>this.colorsById[R])}resolveDefaultColor(R,F){const O=this.colorsById[R];if(O&&O.defaults){const M=O.defaults[F.type];return y(M,F)}}getColorSchema(){return this.colorSchema}toString(){const R=(F,O)=>{const M=F.indexOf(".")===-1?0:1,N=O.indexOf(".")===-1?0:1;return M!==N?M-N:F.localeCompare(O)};return Object.keys(this.colorsById).sort(R).map(F=>`- \`${F}\`: ${this.colorsById[F].description}`).join(`
`)}}const t=new g;C.Registry.add(e.Extensions.ColorContribution,t);function i(I){return I===null||typeof I.hcLight>"u"&&(I.hcDark===null||typeof I.hcDark=="string"?I.hcLight=I.hcDark:I.hcLight=I.light),I}function n(I,R,F,O,M){return t.registerColor(I,i(R),F,O,M)}e.registerColor=n,e.foreground=n("foreground",{dark:"#CCCCCC",light:"#616161",hcDark:"#FFFFFF",hcLight:"#292929"},L.localize(0,null)),e.disabledForeground=n("disabledForeground",{dark:"#CCCCCC80",light:"#61616180",hcDark:"#A5A5A5",hcLight:"#7F7F7F"},L.localize(1,null)),e.errorForeground=n("errorForeground",{dark:"#F48771",light:"#A1260D",hcDark:"#F48771",hcLight:"#B5200D"},L.localize(2,null)),e.descriptionForeground=n("descriptionForeground",{light:"#717171",dark:S(e.foreground,.7),hcDark:S(e.foreground,.7),hcLight:S(e.foreground,.7)},L.localize(3,null)),e.iconForeground=n("icon.foreground",{dark:"#C5C5C5",light:"#424242",hcDark:"#FFFFFF",hcLight:"#292929"},L.localize(4,null)),e.focusBorder=n("focusBorder",{dark:"#007FD4",light:"#0090F1",hcDark:"#F38518",hcLight:"#0F4A85"},L.localize(5,null)),e.contrastBorder=n("contrastBorder",{light:null,dark:null,hcDark:"#6FC3DF",hcLight:"#0F4A85"},L.localize(6,null)),e.activeContrastBorder=n("contrastActiveBorder",{light:null,dark:null,hcDark:e.focusBorder,hcLight:e.focusBorder},L.localize(7,null)),e.selectionBackground=n("selection.background",{light:null,dark:null,hcDark:null,hcLight:null},L.localize(8,null)),e.textSeparatorForeground=n("textSeparator.foreground",{light:"#0000002e",dark:"#ffffff2e",hcDark:m.Color.black,hcLight:"#292929"},L.localize(9,null)),e.textLinkForeground=n("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hcDark:"#3794FF",hcLight:"#0F4A85"},L.localize(10,null)),e.textLinkActiveForeground=n("textLink.activeForeground",{light:"#006AB1",dark:"#3794FF",hcDark:"#3794FF",hcLight:"#0F4A85"},L.localize(11,null)),e.textPreformatForeground=n("textPreformat.foreground",{light:"#A31515",dark:"#D7BA7D",hcDark:"#D7BA7D",hcLight:"#292929"},L.localize(12,null)),e.textBlockQuoteBackground=n("textBlockQuote.background",{light:"#7f7f7f1a",dark:"#7f7f7f1a",hcDark:null,hcLight:"#F2F2F2"},L.localize(13,null)),e.textBlockQuoteBorder=n("textBlockQuote.border",{light:"#007acc80",dark:"#007acc80",hcDark:m.Color.white,hcLight:"#292929"},L.localize(14,null)),e.textCodeBlockBackground=n("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hcDark:m.Color.black,hcLight:"#F2F2F2"},L.localize(15,null)),e.widgetShadow=n("widget.shadow",{dark:S(m.Color.black,.36),light:S(m.Color.black,.16),hcDark:null,hcLight:null},L.localize(16,null)),e.inputBackground=n("input.background",{dark:"#3C3C3C",light:m.Color.white,hcDark:m.Color.black,hcLight:m.Color.white},L.localize(17,null)),e.inputForeground=n("input.foreground",{dark:e.foreground,light:e.foreground,hcDark:e.foreground,hcLight:e.foreground},L.localize(18,null)),e.inputBorder=n("input.border",{dark:null,light:null,hcDark:e.contrastBorder,hcLight:e.contrastBorder},L.localize(19,null)),e.inputActiveOptionBorder=n("inputOption.activeBorder",{dark:"#007ACC00",light:"#007ACC00",hcDark:e.contrastBorder,hcLight:e.contrastBorder},L.localize(20,null)),e.inputActiveOptionHoverBackground=n("inputOption.hoverBackground",{dark:"#5a5d5e80",light:"#b8b8b850",hcDark:null,hcLight:null},L.localize(21,null)),e.inputActiveOptionBackground=n("inputOption.activeBackground",{dark:S(e.focusBorder,.4),light:S(e.focusBorder,.2),hcDark:m.Color.transparent,hcLight:m.Color.transparent},L.localize(22,null)),e.inputActiveOptionForeground=n("inputOption.activeForeground",{dark:m.Color.white,light:m.Color.black,hcDark:null,hcLight:e.foreground},L.localize(23,null)),e.inputPlaceholderForeground=n("input.placeholderForeground",{light:S(e.foreground,.5),dark:S(e.foreground,.5),hcDark:S(e.foreground,.7),hcLight:S(e.foreground,.7)},L.localize(24,null)),e.inputValidationInfoBackground=n("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hcDark:m.Color.black,hcLight:m.Color.white},L.localize(25,null)),e.inputValidationInfoForeground=n("inputValidation.infoForeground",{dark:null,light:null,hcDark:null,hcLight:e.foreground},L.localize(26,null)),e.inputValidationInfoBorder=n("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hcDark:e.contrastBorder,hcLight:e.contrastBorder},L.localize(27,null)),e.inputValidationWarningBackground=n("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hcDark:m.Color.black,hcLight:m.Color.white},L.localize(28,null)),e.inputValidationWarningForeground=n("inputValidation.warningForeground",{dark:null,light:null,hcDark:null,hcLight:e.foreground},L.localize(29,null)),e.inputValidationWarningBorder=n("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hcDark:e.contrastBorder,hcLight:e.contrastBorder},L.localize(30,null)),e.inputValidationErrorBackground=n("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hcDark:m.Color.black,hcLight:m.Color.white},L.localize(31,null)),e.inputValidationErrorForeground=n("inputValidation.errorForeground",{dark:null,light:null,hcDark:null,hcLight:e.foreground},L.localize(32,null)),e.inputValidationErrorBorder=n("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hcDark:e.contrastBorder,hcLight:e.contrastBorder},L.localize(33,null)),e.selectBackground=n("dropdown.background",{dark:"#3C3C3C",light:m.Color.white,hcDark:m.Color.black,hcLight:m.Color.white},L.localize(34,null)),e.selectListBackground=n("dropdown.listBackground",{dark:null,light:null,hcDark:m.Color.black,hcLight:m.Color.white},L.localize(35,null)),e.selectForeground=n("dropdown.foreground",{dark:"#F0F0F0",light:null,hcDark:m.Color.white,hcLight:e.foreground},L.localize(36,null)),e.selectBorder=n("dropdown.border",{dark:e.selectBackground,light:"#CECECE",hcDark:e.contrastBorder,hcLight:e.contrastBorder},L.localize(37,null)),e.checkboxBackground=n("checkbox.background",{dark:e.selectBackground,light:e.selectBackground,hcDark:e.selectBackground,hcLight:e.selectBackground},L.localize(38,null)),e.checkboxForeground=n("checkbox.foreground",{dark:e.selectForeground,light:e.selectForeground,hcDark:e.selectForeground,hcLight:e.selectForeground},L.localize(39,null)),e.checkboxBorder=n("checkbox.border",{dark:e.selectBorder,light:e.selectBorder,hcDark:e.selectBorder,hcLight:e.selectBorder},L.localize(40,null)),e.buttonForeground=n("button.foreground",{dark:m.Color.white,light:m.Color.white,hcDark:m.Color.white,hcLight:m.Color.white},L.localize(41,null)),e.buttonSeparator=n("button.separator",{dark:S(e.buttonForeground,.4),light:S(e.buttonForeground,.4),hcDark:S(e.buttonForeground,.4),hcLight:S(e.buttonForeground,.4)},L.localize(42,null)),e.buttonBackground=n("button.background",{dark:"#0E639C",light:"#007ACC",hcDark:null,hcLight:"#0F4A85"},L.localize(43,null)),e.buttonHoverBackground=n("button.hoverBackground",{dark:p(e.buttonBackground,.2),light:u(e.buttonBackground,.2),hcDark:null,hcLight:null},L.localize(44,null)),e.buttonBorder=n("button.border",{dark:e.contrastBorder,light:e.contrastBorder,hcDark:e.contrastBorder,hcLight:e.contrastBorder},L.localize(45,null)),e.buttonSecondaryForeground=n("button.secondaryForeground",{dark:m.Color.white,light:m.Color.white,hcDark:m.Color.white,hcLight:e.foreground},L.localize(46,null)),e.buttonSecondaryBackground=n("button.secondaryBackground",{dark:"#3A3D41",light:"#5F6A79",hcDark:null,hcLight:m.Color.white},L.localize(47,null)),e.buttonSecondaryHoverBackground=n("button.secondaryHoverBackground",{dark:p(e.buttonSecondaryBackground,.2),light:u(e.buttonSecondaryBackground,.2),hcDark:null,hcLight:null},L.localize(48,null)),e.badgeBackground=n("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hcDark:m.Color.black,hcLight:"#0F4A85"},L.localize(49,null)),e.badgeForeground=n("badge.foreground",{dark:m.Color.white,light:"#333",hcDark:m.Color.white,hcLight:m.Color.white},L.localize(50,null)),e.scrollbarShadow=n("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hcDark:null,hcLight:null},L.localize(51,null)),e.scrollbarSliderBackground=n("scrollbarSlider.background",{dark:m.Color.fromHex("#797979").transparent(.4),light:m.Color.fromHex("#646464").transparent(.4),hcDark:S(e.contrastBorder,.6),hcLight:S(e.contrastBorder,.4)},L.localize(52,null)),e.scrollbarSliderHoverBackground=n("scrollbarSlider.hoverBackground",{dark:m.Color.fromHex("#646464").transparent(.7),light:m.Color.fromHex("#646464").transparent(.7),hcDark:S(e.contrastBorder,.8),hcLight:S(e.contrastBorder,.8)},L.localize(53,null)),e.scrollbarSliderActiveBackground=n("scrollbarSlider.activeBackground",{dark:m.Color.fromHex("#BFBFBF").transparent(.4),light:m.Color.fromHex("#000000").transparent(.6),hcDark:e.contrastBorder,hcLight:e.contrastBorder},L.localize(54,null)),e.progressBarBackground=n("progressBar.background",{dark:m.Color.fromHex("#0E70C0"),light:m.Color.fromHex("#0E70C0"),hcDark:e.contrastBorder,hcLight:e.contrastBorder},L.localize(55,null)),e.editorErrorBackground=n("editorError.background",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(56,null),!0),e.editorErrorForeground=n("editorError.foreground",{dark:"#F14C4C",light:"#E51400",hcDark:"#F48771",hcLight:"#B5200D"},L.localize(57,null)),e.editorErrorBorder=n("editorError.border",{dark:null,light:null,hcDark:m.Color.fromHex("#E47777").transparent(.8),hcLight:"#B5200D"},L.localize(58,null)),e.editorWarningBackground=n("editorWarning.background",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(59,null),!0),e.editorWarningForeground=n("editorWarning.foreground",{dark:"#CCA700",light:"#BF8803",hcDark:"#FFD37",hcLight:"#895503"},L.localize(60,null)),e.editorWarningBorder=n("editorWarning.border",{dark:null,light:null,hcDark:m.Color.fromHex("#FFCC00").transparent(.8),hcLight:"#"},L.localize(61,null)),e.editorInfoBackground=n("editorInfo.background",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(62,null),!0),e.editorInfoForeground=n("editorInfo.foreground",{dark:"#3794FF",light:"#1a85ff",hcDark:"#3794FF",hcLight:"#1a85ff"},L.localize(63,null)),e.editorInfoBorder=n("editorInfo.border",{dark:null,light:null,hcDark:m.Color.fromHex("#3794FF").transparent(.8),hcLight:"#292929"},L.localize(64,null)),e.editorHintForeground=n("editorHint.foreground",{dark:m.Color.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hcDark:null,hcLight:null},L.localize(65,null)),e.editorHintBorder=n("editorHint.border",{dark:null,light:null,hcDark:m.Color.fromHex("#eeeeee").transparent(.8),hcLight:"#292929"},L.localize(66,null)),e.sashHoverBorder=n("sash.hoverBorder",{dark:e.focusBorder,light:e.focusBorder,hcDark:e.focusBorder,hcLight:e.focusBorder},L.localize(67,null)),e.editorBackground=n("editor.background",{light:"#ffffff",dark:"#1E1E1E",hcDark:m.Color.black,hcLight:m.Color.white},L.localize(68,null)),e.editorForeground=n("editor.foreground",{light:"#333333",dark:"#BBBBBB",hcDark:m.Color.white,hcLight:e.foreground},L.localize(69,null)),e.editorStickyScrollBackground=n("editorStickyScroll.background",{light:e.editorBackground,dark:e.editorBackground,hcDark:e.editorBackground,hcLight:e.editorBackground},L.localize(70,null)),e.editorStickyScrollHoverBackground=n("editorStickyScrollHover.background",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:null,hcLight:m.Color.fromHex("#0F4A85").transparent(.1)},L.localize(71,null)),e.editorWidgetBackground=n("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hcDark:"#0C141F",hcLight:m.Color.white},L.localize(72,null)),e.editorWidgetForeground=n("editorWidget.foreground",{dark:e.foreground,light:e.foreground,hcDark:e.foreground,hcLight:e.foreground},L.localize(73,null)),e.editorWidgetBorder=n("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hcDark:e.contrastBorder,hcLight:e.contrastBorder},L.localize(74,null)),e.editorWidgetResizeBorder=n("editorWidget.resizeBorder",{light:null,dark:null,hcDark:null,hcLight:null},L.localize(75,null)),e.quickInputBackground=n("quickInput.background",{dark:e.editorWidgetBackground,light:e.editorWidgetBackground,hcDark:e.editorWidgetBackground,hcLight:e.editorWidgetBackground},L.localize(76,null)),e.quickInputForeground=n("quickInput.foreground",{dark:e.editorWidgetForeground,light:e.editorWidgetForeground,hcDark:e.editorWidgetForeground,hcLight:e.editorWidgetForeground},L.localize(77,null)),e.quickInputTitleBackground=n("quickInputTitle.background",{dark:new m.Color(new m.RGBA(255,255,255,.105)),light:new m.Color(new m.RGBA(0,0,0,.06)),hcDark:"#000000",hcLight:m.Color.white},L.localize(78,null)),e.pickerGroupForeground=n("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hcDark:m.Color.white,hcLight:"#0F4A85"},L.localize(79,null)),e.pickerGroupBorder=n("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hcDark:m.Color.white,hcLight:"#0F4A85"},L.localize(80,null)),e.keybindingLabelBackground=n("keybindingLabel.background",{dark:new m.Color(new m.RGBA(128,128,128,.17)),light:new m.Color(new m.RGBA(221,221,221,.4)),hcDark:m.Color.transparent,hcLight:m.Color.transparent},L.localize(81,null)),e.keybindingLabelForeground=n("keybindingLabel.foreground",{dark:m.Color.fromHex("#CCCCCC"),light:m.Color.fromHex("#555555"),hcDark:m.Color.white,hcLight:e.foreground},L.localize(82,null)),e.keybindingLabelBorder=n("keybindingLabel.border",{dark:new m.Color(new m.RGBA(51,51,51,.6)),light:new m.Color(new m.RGBA(204,204,204,.4)),hcDark:new m.Color(new m.RGBA(111,195,223)),hcLight:e.contrastBorder},L.localize(83,null)),e.keybindingLabelBottomBorder=n("keybindingLabel.bottomBorder",{dark:new m.Color(new m.RGBA(68,68,68,.6)),light:new m.Color(new m.RGBA(187,187,187,.4)),hcDark:new m.Color(new m.RGBA(111,195,223)),hcLight:e.foreground},L.localize(84,null)),e.editorSelectionBackground=n("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hcDark:"#f3f518",hcLight:"#0F4A85"},L.localize(85,null)),e.editorSelectionForeground=n("editor.selectionForeground",{light:null,dark:null,hcDark:"#000000",hcLight:m.Color.white},L.localize(86,null)),e.editorInactiveSelection=n("editor.inactiveSelectionBackground",{light:S(e.editorSelectionBackground,.5),dark:S(e.editorSelectionBackground,.5),hcDark:S(e.editorSelectionBackground,.7),hcLight:S(e.editorSelectionBackground,.5)},L.localize(87,null),!0),e.editorSelectionHighlight=n("editor.selectionHighlightBackground",{light:_(e.editorSelectionBackground,e.editorBackground,.3,.6),dark:_(e.editorSelectionBackground,e.editorBackground,.3,.6),hcDark:null,hcLight:null},L.localize(88,null),!0),e.editorSelectionHighlightBorder=n("editor.selectionHighlightBorder",{light:null,dark:null,hcDark:e.activeContrastBorder,hcLight:e.activeContrastBorder},L.localize(89,null)),e.editorFindMatch=n("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hcDark:null,hcLight:null},L.localize(90,null)),e.editorFindMatchHighlight=n("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hcDark:null,hcLight:null},L.localize(91,null),!0),e.editorFindRangeHighlight=n("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hcDark:null,hcLight:null},L.localize(92,null),!0),e.editorFindMatchBorder=n("editor.findMatchBorder",{light:null,dark:null,hcDark:e.activeContrastBorder,hcLight:e.activeContrastBorder},L.localize(93,null)),e.editorFindMatchHighlightBorder=n("editor.findMatchHighlightBorder",{light:null,dark:null,hcDark:e.activeContrastBorder,hcLight:e.activeContrastBorder},L.localize(94,null)),e.editorFindRangeHighlightBorder=n("editor.findRangeHighlightBorder",{dark:null,light:null,hcDark:S(e.activeContrastBorder,.4),hcLight:S(e.activeContrastBorder,.4)},L.localize(95,null),!0),e.searchEditorFindMatch=n("searchEditor.findMatchBackground",{light:S(e.editorFindMatchHighlight,.66),dark:S(e.editorFindMatchHighlight,.66),hcDark:e.editorFindMatchHighlight,hcLight:e.editorFindMatchHighlight},L.localize(96,null)),e.searchEditorFindMatchBorder=n("searchEditor.findMatchBorder",{light:S(e.editorFindMatchHighlightBorder,.66),dark:S(e.editorFindMatchHighlightBorder,.66),hcDark:e.editorFindMatchHighlightBorder,hcLight:e.editorFindMatchHighlightBorder},L.localize(97,null)),e.editorHoverHighlight=n("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hcDark:"#ADD6FF26",hcLight:null},L.localize(98,null),!0),e.editorHoverBackground=n("editorHoverWidget.background",{light:e.editorWidgetBackground,dark:e.editorWidgetBackground,hcDark:e.editorWidgetBackground,hcLight:e.editorWidgetBackground},L.localize(99,null)),e.editorHoverForeground=n("editorHoverWidget.foreground",{light:e.editorWidgetForeground,dark:e.editorWidgetForeground,hcDark:e.editorWidgetForeground,hcLight:e.editorWidgetForeground},L.localize(100,null)),e.editorHoverBorder=n("editorHoverWidget.border",{light:e.editorWidgetBorder,dark:e.editorWidgetBorder,hcDark:e.editorWidgetBorder,hcLight:e.editorWidgetBorder},L.localize(101,null)),e.editorHoverStatusBarBackground=n("editorHoverWidget.statusBarBackground",{dark:p(e.editorHoverBackground,.2),light:u(e.editorHoverBackground,.05),hcDark:e.editorWidgetBackground,hcLight:e.editorWidgetBackground},L.localize(102,null)),e.editorActiveLinkForeground=n("editorLink.activeForeground",{dark:"#4E94CE",light:m.Color.blue,hcDark:m.Color.cyan,hcLight:"#292929"},L.localize(103,null)),e.editorInlayHintForeground=n("editorInlayHint.foreground",{dark:e.badgeForeground,light:e.badgeForeground,hcDark:m.Color.black,hcLight:e.badgeForeground},L.localize(104,null)),e.editorInlayHintBackground=n("editorInlayHint.background",{dark:S(e.badgeBackground,.8),light:S(e.badgeBackground,.6),hcDark:"#f38518",hcLight:e.badgeBackground},L.localize(105,null)),e.editorInlayHintTypeForeground=n("editorInlayHint.typeForeground",{dark:e.editorInlayHintForeground,light:e.editorInlayHintForeground,hcDark:e.editorInlayHintForeground,hcLight:e.editorInlayHintForeground},L.localize(106,null)),e.editorInlayHintTypeBackground=n("editorInlayHint.typeBackground",{dark:e.editorInlayHintBackground,light:e.editorInlayHintBackground,hcDark:e.editorInlayHintBackground,hcLight:e.editorInlayHintBackground},L.localize(107,null)),e.editorInlayHintParameterForeground=n("editorInlayHint.parameterForeground",{dark:e.editorInlayHintForeground,light:e.editorInlayHintForeground,hcDark:e.editorInlayHintForeground,hcLight:e.editorInlayHintForeground},L.localize(108,null)),e.editorInlayHintParameterBackground=n("editorInlayHint.parameterBackground",{dark:e.editorInlayHintBackground,light:e.editorInlayHintBackground,hcDark:e.editorInlayHintBackground,hcLight:e.editorInlayHintBackground},L.localize(109,null)),e.editorLightBulbForeground=n("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hcDark:"#FFCC00",hcLight:"#007ACC"},L.localize(110,null)),e.editorLightBulbAutoFixForeground=n("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},L.localize(111,null)),e.defaultInsertColor=new m.Color(new m.RGBA(155,185,85,.2)),e.defaultRemoveColor=new m.Color(new m.RGBA(255,0,0,.2)),e.diffInserted=n("diffEditor.insertedTextBackground",{dark:"#9ccc2c33",light:"#9ccc2c40",hcDark:null,hcLight:null},L.localize(112,null),!0),e.diffRemoved=n("diffEditor.removedTextBackground",{dark:"#ff000033",light:"#ff000033",hcDark:null,hcLight:null},L.localize(113,null),!0),e.diffInsertedLine=n("diffEditor.insertedLineBackground",{dark:e.defaultInsertColor,light:e.defaultInsertColor,hcDark:null,hcLight:null},L.localize(114,null),!0),e.diffRemovedLine=n("diffEditor.removedLineBackground",{dark:e.defaultRemoveColor,light:e.defaultRemoveColor,hcDark:null,hcLight:null},L.localize(115,null),!0),e.diffInsertedLineGutter=n("diffEditorGutter.insertedLineBackground",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(116,null)),e.diffRemovedLineGutter=n("diffEditorGutter.removedLineBackground",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(117,null)),e.diffOverviewRulerInserted=n("diffEditorOverview.insertedForeground",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(118,null)),e.diffOverviewRulerRemoved=n("diffEditorOverview.removedForeground",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(119,null)),e.diffInsertedOutline=n("diffEditor.insertedTextBorder",{dark:null,light:null,hcDark:"#33ff2eff",hcLight:"#374E06"},L.localize(120,null)),e.diffRemovedOutline=n("diffEditor.removedTextBorder",{dark:null,light:null,hcDark:"#FF008F",hcLight:"#AD0707"},L.localize(121,null)),e.diffBorder=n("diffEditor.border",{dark:null,light:null,hcDark:e.contrastBorder,hcLight:e.contrastBorder},L.localize(122,null)),e.diffDiagonalFill=n("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hcDark:null,hcLight:null},L.localize(123,null)),e.listFocusBackground=n("list.focusBackground",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(124,null)),e.listFocusForeground=n("list.focusForeground",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(125,null)),e.listFocusOutline=n("list.focusOutline",{dark:e.focusBorder,light:e.focusBorder,hcDark:e.activeContrastBorder,hcLight:e.activeContrastBorder},L.localize(126,null)),e.listFocusAndSelectionOutline=n("list.focusAndSelectionOutline",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(127,null)),e.listActiveSelectionBackground=n("list.activeSelectionBackground",{dark:"#04395E",light:"#0060C0",hcDark:null,hcLight:m.Color.fromHex("#0F4A85").transparent(.1)},L.localize(128,null)),e.listActiveSelectionForeground=n("list.activeSelectionForeground",{dark:m.Color.white,light:m.Color.white,hcDark:null,hcLight:null},L.localize(129,null)),e.listActiveSelectionIconForeground=n("list.activeSelectionIconForeground",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(130,null)),e.listInactiveSelectionBackground=n("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hcDark:null,hcLight:m.Color.fromHex("#0F4A85").transparent(.1)},L.localize(131,null)),e.listInactiveSelectionForeground=n("list.inactiveSelectionForeground",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(132,null)),e.listInactiveSelectionIconForeground=n("list.inactiveSelectionIconForeground",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(133,null)),e.listInactiveFocusBackground=n("list.inactiveFocusBackground",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(134,null)),e.listInactiveFocusOutline=n("list.inactiveFocusOutline",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(135,null)),e.listHoverBackground=n("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:null,hcLight:m.Color.fromHex("#0F4A85").transparent(.1)},L.localize(136,null)),e.listHoverForeground=n("list.hoverForeground",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(137,null)),e.listDropBackground=n("list.dropBackground",{dark:"#062F4A",light:"#D6EBFF",hcDark:null,hcLight:null},L.localize(138,null)),e.listHighlightForeground=n("list.highlightForeground",{dark:"#2AAAFF",light:"#0066BF",hcDark:e.focusBorder,hcLight:e.focusBorder},L.localize(139,null)),e.listFocusHighlightForeground=n("list.focusHighlightForeground",{dark:e.listHighlightForeground,light:v(e.listActiveSelectionBackground,e.listHighlightForeground,"#BBE7FF"),hcDark:e.listHighlightForeground,hcLight:e.listHighlightForeground},L.localize(140,null)),e.listInvalidItemForeground=n("list.invalidItemForeground",{dark:"#B89500",light:"#B89500",hcDark:"#B89500",hcLight:"#B5200D"},L.localize(141,null)),e.listErrorForeground=n("list.errorForeground",{dark:"#F88070",light:"#B01011",hcDark:null,hcLight:null},L.localize(142,null)),e.listWarningForeground=n("list.warningForeground",{dark:"#CCA700",light:"#855F00",hcDark:null,hcLight:null},L.localize(143,null)),e.listFilterWidgetBackground=n("listFilterWidget.background",{light:u(e.editorWidgetBackground,0),dark:p(e.editorWidgetBackground,0),hcDark:e.editorWidgetBackground,hcLight:e.editorWidgetBackground},L.localize(144,null)),e.listFilterWidgetOutline=n("listFilterWidget.outline",{dark:m.Color.transparent,light:m.Color.transparent,hcDark:"#f38518",hcLight:"#007ACC"},L.localize(145,null)),e.listFilterWidgetNoMatchesOutline=n("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hcDark:e.contrastBorder,hcLight:e.contrastBorder},L.localize(146,null)),e.listFilterWidgetShadow=n("listFilterWidget.shadow",{dark:e.widgetShadow,light:e.widgetShadow,hcDark:e.widgetShadow,hcLight:e.widgetShadow},L.localize(147,null)),e.listFilterMatchHighlight=n("list.filterMatchBackground",{dark:e.editorFindMatchHighlight,light:e.editorFindMatchHighlight,hcDark:null,hcLight:null},L.localize(148,null)),e.listFilterMatchHighlightBorder=n("list.filterMatchBorder",{dark:e.editorFindMatchHighlightBorder,light:e.editorFindMatchHighlightBorder,hcDark:e.contrastBorder,hcLight:e.activeContrastBorder},L.localize(149,null)),e.treeIndentGuidesStroke=n("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hcDark:"#a9a9a9",hcLight:"#a5a5a5"},L.localize(150,null)),e.tableColumnsBorder=n("tree.tableColumnsBorder",{dark:"#CCCCCC20",light:"#61616120",hcDark:null,hcLight:null},L.localize(151,null)),e.tableOddRowsBackgroundColor=n("tree.tableOddRowsBackground",{dark:S(e.foreground,.04),light:S(e.foreground,.04),hcDark:null,hcLight:null},L.localize(152,null)),e.listDeemphasizedForeground=n("list.deemphasizedForeground",{dark:"#8C8C8C",light:"#8E8E90",hcDark:"#A7A8A9",hcLight:"#666666"},L.localize(153,null)),e._deprecatedQuickInputListFocusBackground=n("quickInput.list.focusBackground",{dark:null,light:null,hcDark:null,hcLight:null},"",void 0,L.localize(154,null)),e.quickInputListFocusForeground=n("quickInputList.focusForeground",{dark:e.listActiveSelectionForeground,light:e.listActiveSelectionForeground,hcDark:e.listActiveSelectionForeground,hcLight:e.listActiveSelectionForeground},L.localize(155,null)),e.quickInputListFocusIconForeground=n("quickInputList.focusIconForeground",{dark:e.listActiveSelectionIconForeground,light:e.listActiveSelectionIconForeground,hcDark:e.listActiveSelectionIconForeground,hcLight:e.listActiveSelectionIconForeground},L.localize(156,null)),e.quickInputListFocusBackground=n("quickInputList.focusBackground",{dark:f(e._deprecatedQuickInputListFocusBackground,e.listActiveSelectionBackground),light:f(e._deprecatedQuickInputListFocusBackground,e.listActiveSelectionBackground),hcDark:null,hcLight:null},L.localize(157,null)),e.menuBorder=n("menu.border",{dark:null,light:null,hcDark:e.contrastBorder,hcLight:e.contrastBorder},L.localize(158,null)),e.menuForeground=n("menu.foreground",{dark:e.selectForeground,light:e.foreground,hcDark:e.selectForeground,hcLight:e.selectForeground},L.localize(159,null)),e.menuBackground=n("menu.background",{dark:e.selectBackground,light:e.selectBackground,hcDark:e.selectBackground,hcLight:e.selectBackground},L.localize(160,null)),e.menuSelectionForeground=n("menu.selectionForeground",{dark:e.listActiveSelectionForeground,light:e.listActiveSelectionForeground,hcDark:e.listActiveSelectionForeground,hcLight:e.listActiveSelectionForeground},L.localize(161,null)),e.menuSelectionBackground=n("menu.selectionBackground",{dark:e.listActiveSelectionBackground,light:e.listActiveSelectionBackground,hcDark:e.listActiveSelectionBackground,hcLight:e.listActiveSelectionBackground},L.localize(162,null)),e.menuSelectionBorder=n("menu.selectionBorder",{dark:null,light:null,hcDark:e.activeContrastBorder,hcLight:e.activeContrastBorder},L.localize(163,null)),e.menuSeparatorBackground=n("menu.separatorBackground",{dark:"#606060",light:"#D4D4D4",hcDark:e.contrastBorder,hcLight:e.contrastBorder},L.localize(164,null)),e.toolbarHoverBackground=n("toolbar.hoverBackground",{dark:"#5a5d5e50",light:"#b8b8b850",hcDark:null,hcLight:null},L.localize(165,null)),e.toolbarHoverOutline=n("toolbar.hoverOutline",{dark:null,light:null,hcDark:e.activeContrastBorder,hcLight:e.activeContrastBorder},L.localize(166,null)),e.toolbarActiveBackground=n("toolbar.activeBackground",{dark:p(e.toolbarHoverBackground,.1),light:u(e.toolbarHoverBackground,.1),hcDark:null,hcLight:null},L.localize(167,null)),e.snippetTabstopHighlightBackground=n("editor.snippetTabstopHighlightBackground",{dark:new m.Color(new m.RGBA(124,124,124,.3)),light:new m.Color(new m.RGBA(10,50,100,.2)),hcDark:new m.Color(new m.RGBA(124,124,124,.3)),hcLight:new m.Color(new m.RGBA(10,50,100,.2))},L.localize(168,null)),e.snippetTabstopHighlightBorder=n("editor.snippetTabstopHighlightBorder",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(169,null)),e.snippetFinalTabstopHighlightBackground=n("editor.snippetFinalTabstopHighlightBackground",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(170,null)),e.snippetFinalTabstopHighlightBorder=n("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new m.Color(new m.RGBA(10,50,100,.5)),hcDark:"#525252",hcLight:"#292929"},L.localize(171,null)),e.breadcrumbsForeground=n("breadcrumb.foreground",{light:S(e.foreground,.8),dark:S(e.foreground,.8),hcDark:S(e.foreground,.8),hcLight:S(e.foreground,.8)},L.localize(172,null)),e.breadcrumbsBackground=n("breadcrumb.background",{light:e.editorBackground,dark:e.editorBackground,hcDark:e.editorBackground,hcLight:e.editorBackground},L.localize(173,null)),e.breadcrumbsFocusForeground=n("breadcrumb.focusForeground",{light:u(e.foreground,.2),dark:p(e.foreground,.1),hcDark:p(e.foreground,.1),hcLight:p(e.foreground,.1)},L.localize(174,null)),e.breadcrumbsActiveSelectionForeground=n("breadcrumb.activeSelectionForeground",{light:u(e.foreground,.2),dark:p(e.foreground,.1),hcDark:p(e.foreground,.1),hcLight:p(e.foreground,.1)},L.localize(175,null)),e.breadcrumbsPickerBackground=n("breadcrumbPicker.background",{light:e.editorWidgetBackground,dark:e.editorWidgetBackground,hcDark:e.editorWidgetBackground,hcLight:e.editorWidgetBackground},L.localize(176,null));const o=.5,l=m.Color.fromHex("#40C8AE").transparent(o),c=m.Color.fromHex("#40A6FF").transparent(o),d=m.Color.fromHex("#606060").transparent(.4),r=.4,s=1;e.mergeCurrentHeaderBackground=n("merge.currentHeaderBackground",{dark:l,light:l,hcDark:null,hcLight:null},L.localize(177,null),!0),e.mergeCurrentContentBackground=n("merge.currentContentBackground",{dark:S(e.mergeCurrentHeaderBackground,r),light:S(e.mergeCurrentHeaderBackground,r),hcDark:S(e.mergeCurrentHeaderBackground,r),hcLight:S(e.mergeCurrentHeaderBackground,r)},L.localize(178,null),!0),e.mergeIncomingHeaderBackground=n("merge.incomingHeaderBackground",{dark:c,light:c,hcDark:null,hcLight:null},L.localize(179,null),!0),e.mergeIncomingContentBackground=n("merge.incomingContentBackground",{dark:S(e.mergeIncomingHeaderBackground,r),light:S(e.mergeIncomingHeaderBackground,r),hcDark:S(e.mergeIncomingHeaderBackground,r),hcLight:S(e.mergeIncomingHeaderBackground,r)},L.localize(180,null),!0),e.mergeCommonHeaderBackground=n("merge.commonHeaderBackground",{dark:d,light:d,hcDark:null,hcLight:null},L.localize(181,null),!0),e.mergeCommonContentBackground=n("merge.commonContentBackground",{dark:S(e.mergeCommonHeaderBackground,r),light:S(e.mergeCommonHeaderBackground,r),hcDark:S(e.mergeCommonHeaderBackground,r),hcLight:S(e.mergeCommonHeaderBackground,r)},L.localize(182,null),!0),e.mergeBorder=n("merge.border",{dark:null,light:null,hcDark:"#C3DF6F",hcLight:"#007ACC"},L.localize(183,null)),e.overviewRulerCurrentContentForeground=n("editorOverviewRuler.currentContentForeground",{dark:S(e.mergeCurrentHeaderBackground,s),light:S(e.mergeCurrentHeaderBackground,s),hcDark:e.mergeBorder,hcLight:e.mergeBorder},L.localize(184,null)),e.overviewRulerIncomingContentForeground=n("editorOverviewRuler.incomingContentForeground",{dark:S(e.mergeIncomingHeaderBackground,s),light:S(e.mergeIncomingHeaderBackground,s),hcDark:e.mergeBorder,hcLight:e.mergeBorder},L.localize(185,null)),e.overviewRulerCommonContentForeground=n("editorOverviewRuler.commonContentForeground",{dark:S(e.mergeCommonHeaderBackground,s),light:S(e.mergeCommonHeaderBackground,s),hcDark:e.mergeBorder,hcLight:e.mergeBorder},L.localize(186,null)),e.overviewRulerFindMatchForeground=n("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hcDark:"#AB5A00",hcLight:""},L.localize(187,null),!0),e.overviewRulerSelectionHighlightForeground=n("editorOverviewRuler.selectionHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hcDark:"#A0A0A0CC",hcLight:"#A0A0A0CC"},L.localize(188,null),!0),e.minimapFindMatch=n("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hcDark:"#AB5A00",hcLight:"#0F4A85"},L.localize(189,null),!0),e.minimapSelectionOccurrenceHighlight=n("minimap.selectionOccurrenceHighlight",{light:"#c9c9c9",dark:"#676767",hcDark:"#ffffff",hcLight:"#0F4A85"},L.localize(190,null),!0),e.minimapSelection=n("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hcDark:"#ffffff",hcLight:"#0F4A85"},L.localize(191,null),!0),e.minimapError=n("minimap.errorHighlight",{dark:new m.Color(new m.RGBA(255,18,18,.7)),light:new m.Color(new m.RGBA(255,18,18,.7)),hcDark:new m.Color(new m.RGBA(255,50,50,1)),hcLight:"#B5200D"},L.localize(192,null)),e.minimapWarning=n("minimap.warningHighlight",{dark:e.editorWarningForeground,light:e.editorWarningForeground,hcDark:e.editorWarningBorder,hcLight:e.editorWarningBorder},L.localize(193,null)),e.minimapBackground=n("minimap.background",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(194,null)),e.minimapForegroundOpacity=n("minimap.foregroundOpacity",{dark:m.Color.fromHex("#000f"),light:m.Color.fromHex("#000f"),hcDark:m.Color.fromHex("#000f"),hcLight:m.Color.fromHex("#000f")},L.localize(195,null)),e.minimapSliderBackground=n("minimapSlider.background",{light:S(e.scrollbarSliderBackground,.5),dark:S(e.scrollbarSliderBackground,.5),hcDark:S(e.scrollbarSliderBackground,.5),hcLight:S(e.scrollbarSliderBackground,.5)},L.localize(196,null)),e.minimapSliderHoverBackground=n("minimapSlider.hoverBackground",{light:S(e.scrollbarSliderHoverBackground,.5),dark:S(e.scrollbarSliderHoverBackground,.5),hcDark:S(e.scrollbarSliderHoverBackground,.5),hcLight:S(e.scrollbarSliderHoverBackground,.5)},L.localize(197,null)),e.minimapSliderActiveBackground=n("minimapSlider.activeBackground",{light:S(e.scrollbarSliderActiveBackground,.5),dark:S(e.scrollbarSliderActiveBackground,.5),hcDark:S(e.scrollbarSliderActiveBackground,.5),hcLight:S(e.scrollbarSliderActiveBackground,.5)},L.localize(198,null)),e.problemsErrorIconForeground=n("problemsErrorIcon.foreground",{dark:e.editorErrorForeground,light:e.editorErrorForeground,hcDark:e.editorErrorForeground,hcLight:e.editorErrorForeground},L.localize(199,null)),e.problemsWarningIconForeground=n("problemsWarningIcon.foreground",{dark:e.editorWarningForeground,light:e.editorWarningForeground,hcDark:e.editorWarningForeground,hcLight:e.editorWarningForeground},L.localize(200,null)),e.problemsInfoIconForeground=n("problemsInfoIcon.foreground",{dark:e.editorInfoForeground,light:e.editorInfoForeground,hcDark:e.editorInfoForeground,hcLight:e.editorInfoForeground},L.localize(201,null)),e.chartsForeground=n("charts.foreground",{dark:e.foreground,light:e.foreground,hcDark:e.foreground,hcLight:e.foreground},L.localize(202,null)),e.chartsLines=n("charts.lines",{dark:S(e.foreground,.5),light:S(e.foreground,.5),hcDark:S(e.foreground,.5),hcLight:S(e.foreground,.5)},L.localize(203,null)),e.chartsRed=n("charts.red",{dark:e.editorErrorForeground,light:e.editorErrorForeground,hcDark:e.editorErrorForeground,hcLight:e.editorErrorForeground},L.localize(204,null)),e.chartsBlue=n("charts.blue",{dark:e.editorInfoForeground,light:e.editorInfoForeground,hcDark:e.editorInfoForeground,hcLight:e.editorInfoForeground},L.localize(205,null)),e.chartsYellow=n("charts.yellow",{dark:e.editorWarningForeground,light:e.editorWarningForeground,hcDark:e.editorWarningForeground,hcLight:e.editorWarningForeground},L.localize(206,null)),e.chartsOrange=n("charts.orange",{dark:e.minimapFindMatch,light:e.minimapFindMatch,hcDark:e.minimapFindMatch,hcLight:e.minimapFindMatch},L.localize(207,null)),e.chartsGreen=n("charts.green",{dark:"#89D185",light:"#388A34",hcDark:"#89D185",hcLight:"#374e06"},L.localize(208,null)),e.chartsPurple=n("charts.purple",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},L.localize(209,null));function a(I,R){var F,O,M;switch(I.op){case 0:return(F=y(I.value,R))===null||F===void 0?void 0:F.darken(I.factor);case 1:return(O=y(I.value,R))===null||O===void 0?void 0:O.lighten(I.factor);case 2:return(M=y(I.value,R))===null||M===void 0?void 0:M.transparent(I.factor);case 3:for(const N of I.values){const A=y(N,R);if(A)return A}return;case 5:return y(R.defines(I.if)?I.then:I.else,R);case 4:{const N=y(I.value,R);if(!N)return;const A=y(I.background,R);return A?N.isDarkerThan(A)?m.Color.getLighterColor(N,A,I.factor).transparent(I.transparency):m.Color.getDarkerColor(N,A,I.factor).transparent(I.transparency):N.transparent(I.factor*I.transparency)}default:throw(0,D.assertNever)(I)}}e.executeTransform=a;function u(I,R){return{op:0,value:I,factor:R}}e.darken=u;function p(I,R){return{op:1,value:I,factor:R}}e.lighten=p;function S(I,R){return{op:2,value:I,factor:R}}e.transparent=S;function f(...I){return{op:3,values:I}}e.oneOf=f;function v(I,R,F){return{op:5,if:I,then:R,else:F}}e.ifDefinedThenElse=v;function _(I,R,F,O){return{op:4,value:I,background:R,factor:F,transparency:O}}function y(I,R){if(I!==null){if(typeof I=="string")return I[0]==="#"?m.Color.fromHex(I):R.getColor(I);if(I instanceof m.Color)return I;if(typeof I=="object")return a(I,R)}}e.resolveColorValue=y,e.workbenchColorsSchemaId="vscode://schemas/workbench-colors";const E=C.Registry.as(b.Extensions.JSONContribution);E.registerSchema(e.workbenchColorsSchemaId,t.getColorSchema());const T=new w.RunOnceScheduler(()=>E.notifySchemaChanged(e.workbenchColorsSchemaId),200);t.onDidChangeSchema(()=>{T.isScheduled()||T.schedule()})}),define(se[144],re([1,0,7,135,65,10,2,23]),function(q,e,w,m,k,D,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DynamicCssRules=e.GlobalEditorPointerMoveMonitor=e.EditorPointerEventFactory=e.EditorMouseEventFactory=e.EditorMouseEvent=e.createCoordinatesRelativeToEditor=e.createEditorPagePosition=e.CoordinatesRelativeToEditor=e.EditorPagePosition=e.ClientCoordinates=e.PageCoordinates=void 0;class C{constructor(p,S){this.x=p,this.y=S,this._pageCoordinatesBrand=void 0}toClientCoordinates(){return new h(this.x-window.scrollX,this.y-window.scrollY)}}e.PageCoordinates=C;class h{constructor(p,S){this.clientX=p,this.clientY=S,this._clientCoordinatesBrand=void 0}toPageCoordinates(){return new C(this.clientX+window.scrollX,this.clientY+window.scrollY)}}e.ClientCoordinates=h;class g{constructor(p,S,f,v){this.x=p,this.y=S,this.width=f,this.height=v,this._editorPagePositionBrand=void 0}}e.EditorPagePosition=g;class t{constructor(p,S){this.x=p,this.y=S,this._positionRelativeToEditorBrand=void 0}}e.CoordinatesRelativeToEditor=t;function i(u){const p=w.getDomNodePagePosition(u);return new g(p.left,p.top,p.width,p.height)}e.createEditorPagePosition=i;function n(u,p,S){const f=p.width/u.offsetWidth,v=p.height/u.offsetHeight,_=(S.x-p.x)/f,y=(S.y-p.y)/v;return new t(_,y)}e.createCoordinatesRelativeToEditor=n;class o extends k.StandardMouseEvent{constructor(p,S,f){super(p),this._editorMouseEventBrand=void 0,this.isFromPointerCapture=S,this.pos=new C(this.posx,this.posy),this.editorPos=i(f),this.relativePos=n(f,this.editorPos,this.pos)}}e.EditorMouseEvent=o;class l{constructor(p){this._editorViewDomNode=p}_create(p){return new o(p,!1,this._editorViewDomNode)}onContextMenu(p,S){return w.addDisposableListener(p,"contextmenu",f=>{S(this._create(f))})}onMouseUp(p,S){return w.addDisposableListener(p,"mouseup",f=>{S(this._create(f))})}onMouseDown(p,S){return w.addDisposableListener(p,w.EventType.MOUSE_DOWN,f=>{S(this._create(f))})}onPointerDown(p,S){return w.addDisposableListener(p,w.EventType.POINTER_DOWN,f=>{S(this._create(f),f.pointerId)})}onMouseLeave(p,S){return w.addDisposableListener(p,w.EventType.MOUSE_LEAVE,f=>{S(this._create(f))})}onMouseMove(p,S){return w.addDisposableListener(p,"mousemove",f=>S(this._create(f)))}}e.EditorMouseEventFactory=l;class c{constructor(p){this._editorViewDomNode=p}_create(p){return new o(p,!1,this._editorViewDomNode)}onPointerUp(p,S){return w.addDisposableListener(p,"pointerup",f=>{S(this._create(f))})}onPointerDown(p,S){return w.addDisposableListener(p,w.EventType.POINTER_DOWN,f=>{S(this._create(f),f.pointerId)})}onPointerLeave(p,S){return w.addDisposableListener(p,w.EventType.POINTER_LEAVE,f=>{S(this._create(f))})}onPointerMove(p,S){return w.addDisposableListener(p,"pointermove",f=>S(this._create(f)))}}e.EditorPointerEventFactory=c;class d extends L.Disposable{constructor(p){super(),this._editorViewDomNode=p,this._globalPointerMoveMonitor=this._register(new m.GlobalPointerMoveMonitor),this._keydownListener=null}startMonitoring(p,S,f,v,_){this._keydownListener=w.addStandardDisposableListener(document,"keydown",y=>{y.toKeybinding().isModifierKey()||this._globalPointerMoveMonitor.stopMonitoring(!0,y.browserEvent)},!0),this._globalPointerMoveMonitor.startMonitoring(p,S,f,y=>{v(new o(y,!0,this._editorViewDomNode))},y=>{this._keydownListener.dispose(),_(y)})}stopMonitoring(){this._globalPointerMoveMonitor.stopMonitoring(!0)}}e.GlobalEditorPointerMoveMonitor=d;class r{constructor(p){this._editor=p,this._instanceId=++r._idPool,this._counter=0,this._rules=new Map,this._garbageCollectionScheduler=new D.RunOnceScheduler(()=>this.garbageCollect(),1e3)}createClassNameRef(p){const S=this.getOrCreateRule(p);return S.increaseRefCount(),{className:S.className,dispose:()=>{S.decreaseRefCount(),this._garbageCollectionScheduler.schedule()}}}getOrCreateRule(p){const S=this.computeUniqueKey(p);let f=this._rules.get(S);if(!f){const v=this._counter++;f=new s(S,`dyn-rule-${this._instanceId}-${v}`,w.isInShadowDOM(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0,p),this._rules.set(S,f)}return f}computeUniqueKey(p){return JSON.stringify(p)}garbageCollect(){for(const p of this._rules.values())p.hasReferences()||(this._rules.delete(p.key),p.dispose())}}e.DynamicCssRules=r,r._idPool=0;class s{constructor(p,S,f,v){this.key=p,this.className=S,this.properties=v,this._referenceCount=0,this._styleElement=w.createStyleSheet(f),this._styleElement.textContent=this.getCssText(this.className,this.properties)}getCssText(p,S){let f=`.${p} {`;for(const v in S){const _=S[v];let y;typeof _=="object"?y=`var(${(0,b.asCssVariableName)(_.id)})`:y=_,f+=`
	${a(v)}: ${y};`}return f+=`
}`,f}dispose(){this._styleElement.remove()}increaseRefCount(){this._referenceCount++}decreaseRefCount(){this._referenceCount--}hasReferences(){return this._referenceCount>0}}function a(u){return u.replace(/(^[A-Z])/,([p])=>p.toLowerCase()).replace(/([A-Z])/g,([p])=>`-${p.toLowerCase()}`)}}),define(se[53],re([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isDark=e.isHighContrast=e.ColorScheme=void 0;var w;(function(D){D.DARK="dark",D.LIGHT="light",D.HIGH_CONTRAST_DARK="hcDark",D.HIGH_CONTRAST_LIGHT="hcLight"})(w=e.ColorScheme||(e.ColorScheme={}));function m(D){return D===w.HIGH_CONTRAST_DARK||D===w.HIGH_CONTRAST_LIGHT}e.isHighContrast=m;function k(D){return D===w.DARK||D===w.HIGH_CONTRAST_DARK}e.isDark=k}),define(se[302],re([1,0,42,35,17,412,129,134,116,53,38]),function(q,e,w,m,k,D,L,b,C,h,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewLine=e.ViewLineOptions=e.DomReadingContext=void 0;const t=function(){return k.isNative?!0:!(k.isLinux||w.isFirefox||w.isSafari)}();let i=!0;class n{readClientRect(){if(!this._clientRectRead){this._clientRectRead=!0;const S=this._domNode.getBoundingClientRect();this._clientRectDeltaLeft=S.left,this._clientRectScale=S.width/this._domNode.offsetWidth}}get clientRectDeltaLeft(){return this._clientRectRead||this.readClientRect(),this._clientRectDeltaLeft}get clientRectScale(){return this._clientRectRead||this.readClientRect(),this._clientRectScale}constructor(S,f){this._domNode=S,this._clientRectDeltaLeft=0,this._clientRectScale=1,this._clientRectRead=!1,this.endNode=f}}e.DomReadingContext=n;class o{constructor(S,f){this.themeType=f;const v=S.options,_=v.get(45);this.renderWhitespace=v.get(89),this.renderControlCharacters=v.get(84),this.spaceWidth=_.spaceWidth,this.middotWidth=_.middotWidth,this.wsmiddotWidth=_.wsmiddotWidth,this.useMonospaceOptimizations=_.isMonospace&&!v.get(29),this.canUseHalfwidthRightwardsArrow=_.canUseHalfwidthRightwardsArrow,this.lineHeight=v.get(60),this.stopRenderingLineAfter=v.get(107),this.fontLigatures=v.get(46)}equals(S){return this.themeType===S.themeType&&this.renderWhitespace===S.renderWhitespace&&this.renderControlCharacters===S.renderControlCharacters&&this.spaceWidth===S.spaceWidth&&this.middotWidth===S.middotWidth&&this.wsmiddotWidth===S.wsmiddotWidth&&this.useMonospaceOptimizations===S.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===S.canUseHalfwidthRightwardsArrow&&this.lineHeight===S.lineHeight&&this.stopRenderingLineAfter===S.stopRenderingLineAfter&&this.fontLigatures===S.fontLigatures}}e.ViewLineOptions=o;class l{constructor(S){this._options=S,this._isMaybeInvalid=!0,this._renderedViewLine=null}getDomNode(){return this._renderedViewLine&&this._renderedViewLine.domNode?this._renderedViewLine.domNode.domNode:null}setDomNode(S){if(this._renderedViewLine)this._renderedViewLine.domNode=(0,m.createFastDomNode)(S);else throw new Error("I have no rendered view line to set the dom node to...")}onContentChanged(){this._isMaybeInvalid=!0}onTokensChanged(){this._isMaybeInvalid=!0}onDecorationsChanged(){this._isMaybeInvalid=!0}onOptionsChanged(S){this._isMaybeInvalid=!0,this._options=S}onSelectionChanged(){return(0,h.isHighContrast)(this._options.themeType)||this._options.renderWhitespace==="selection"?(this._isMaybeInvalid=!0,!0):!1}renderLine(S,f,v,_){if(this._isMaybeInvalid===!1)return!1;this._isMaybeInvalid=!1;const y=v.getViewLineRenderingData(S),E=this._options,T=b.LineDecoration.filter(y.inlineDecorations,S,y.minColumn,y.maxColumn);let I=null;if((0,h.isHighContrast)(E.themeType)||this._options.renderWhitespace==="selection"){const M=v.selections;for(const N of M){if(N.endLineNumber<S||N.startLineNumber>S)continue;const A=N.startLineNumber===S?N.startColumn:y.minColumn,B=N.endLineNumber===S?N.endColumn:y.maxColumn;A<B&&((0,h.isHighContrast)(E.themeType)||this._options.renderWhitespace!=="selection"?T.push(new b.LineDecoration(A,B,"inline-selected-text",0)):(I||(I=[]),I.push(new C.LineRange(A-1,B-1))))}}const R=new C.RenderLineInput(E.useMonospaceOptimizations,E.canUseHalfwidthRightwardsArrow,y.content,y.continuesWithWrappedLine,y.isBasicASCII,y.containsRTL,y.minColumn-1,y.tokens,T,y.tabSize,y.startVisibleColumn,E.spaceWidth,E.middotWidth,E.wsmiddotWidth,E.stopRenderingLineAfter,E.renderWhitespace,E.renderControlCharacters,E.fontLigatures!==g.EditorFontLigatures.OFF,I);if(this._renderedViewLine&&this._renderedViewLine.input.equals(R))return!1;_.appendASCIIString('<div style="top:'),_.appendASCIIString(String(f)),_.appendASCIIString("px;height:"),_.appendASCIIString(String(this._options.lineHeight)),_.appendASCIIString('px;" class="'),_.appendASCIIString(l.CLASS_NAME),_.appendASCIIString('">');const F=(0,C.renderViewLine)(R,_);_.appendASCIIString("</div>");let O=null;return i&&t&&y.isBasicASCII&&E.useMonospaceOptimizations&&F.containsForeignElements===0&&y.content.length<300&&R.lineTokens.getCount()<100&&(O=new c(this._renderedViewLine?this._renderedViewLine.domNode:null,R,F.characterMapping)),O||(O=s(this._renderedViewLine?this._renderedViewLine.domNode:null,R,F.characterMapping,F.containsRTL,F.containsForeignElements)),this._renderedViewLine=O,!0}layoutLine(S,f){this._renderedViewLine&&this._renderedViewLine.domNode&&(this._renderedViewLine.domNode.setTop(f),this._renderedViewLine.domNode.setHeight(this._options.lineHeight))}getWidth(){return this._renderedViewLine?this._renderedViewLine.getWidth():0}getWidthIsFast(){return this._renderedViewLine?this._renderedViewLine.getWidthIsFast():!0}needsMonospaceFontCheck(){return this._renderedViewLine?this._renderedViewLine instanceof c:!1}monospaceAssumptionsAreValid(){return this._renderedViewLine&&this._renderedViewLine instanceof c?this._renderedViewLine.monospaceAssumptionsAreValid():i}onMonospaceAssumptionsInvalidated(){this._renderedViewLine&&this._renderedViewLine instanceof c&&(this._renderedViewLine=this._renderedViewLine.toSlowRenderedLine())}getVisibleRangesForRange(S,f,v,_){if(!this._renderedViewLine)return null;f=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,f)),v=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,v));const y=this._renderedViewLine.input.stopRenderingLineAfter;let E=!1;y!==-1&&f>y+1&&v>y+1&&(E=!0),y!==-1&&f>y+1&&(f=y+1),y!==-1&&v>y+1&&(v=y+1);const T=this._renderedViewLine.getVisibleRangesForRange(S,f,v,_);return T&&T.length>0?new L.VisibleRanges(E,T):null}getColumnOfNodeOffset(S,f,v){return this._renderedViewLine?this._renderedViewLine.getColumnOfNodeOffset(S,f,v):1}}e.ViewLine=l,l.CLASS_NAME="view-line";class c{constructor(S,f,v){this.domNode=S,this.input=f,this._characterMapping=v,this._charWidth=f.spaceWidth}getWidth(){return Math.round(this._getCharPosition(this._characterMapping.length))}getWidthIsFast(){return!0}monospaceAssumptionsAreValid(){if(!this.domNode)return i;const S=this.getWidth(),f=this.domNode.domNode.firstChild.offsetWidth;return Math.abs(S-f)>=2&&(console.warn("monospace assumptions have been violated, therefore disabling monospace optimizations!"),i=!1),i}toSlowRenderedLine(){return s(this.domNode,this.input,this._characterMapping,!1,0)}getVisibleRangesForRange(S,f,v,_){const y=this._getCharPosition(f),E=this._getCharPosition(v);return[new L.FloatHorizontalRange(y,E-y)]}_getCharPosition(S){const f=this._characterMapping.getHorizontalOffset(S);return this._charWidth*f}getColumnOfNodeOffset(S,f,v){const _=f.textContent.length;let y=-1;for(;f;)f=f.previousSibling,y++;return this._characterMapping.getColumn(new C.DomPosition(y,v),_)}}class d{constructor(S,f,v,_,y){if(this.domNode=S,this.input=f,this._characterMapping=v,this._isWhitespaceOnly=/^\s*$/.test(f.lineContent),this._containsForeignElements=y,this._cachedWidth=-1,this._pixelOffsetCache=null,!_||this._characterMapping.length===0){this._pixelOffsetCache=new Float32Array(Math.max(2,this._characterMapping.length+1));for(let E=0,T=this._characterMapping.length;E<=T;E++)this._pixelOffsetCache[E]=-1}}_getReadingTarget(S){return S.domNode.firstChild}getWidth(){return this.domNode?(this._cachedWidth===-1&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth),this._cachedWidth):0}getWidthIsFast(){return this._cachedWidth!==-1}getVisibleRangesForRange(S,f,v,_){if(!this.domNode)return null;if(this._pixelOffsetCache!==null){const y=this._readPixelOffset(this.domNode,S,f,_);if(y===-1)return null;const E=this._readPixelOffset(this.domNode,S,v,_);return E===-1?null:[new L.FloatHorizontalRange(y,E-y)]}return this._readVisibleRangesForRange(this.domNode,S,f,v,_)}_readVisibleRangesForRange(S,f,v,_,y){if(v===_){const E=this._readPixelOffset(S,f,v,y);return E===-1?null:[new L.FloatHorizontalRange(E,0)]}else return this._readRawVisibleRangesForRange(S,v,_,y)}_readPixelOffset(S,f,v,_){if(this._characterMapping.length===0){if(this._containsForeignElements===0||this._containsForeignElements===2)return 0;if(this._containsForeignElements===1)return this.getWidth();const y=this._getReadingTarget(S);return y.firstChild?y.firstChild.offsetWidth:0}if(this._pixelOffsetCache!==null){const y=this._pixelOffsetCache[v];if(y!==-1)return y;const E=this._actualReadPixelOffset(S,f,v,_);return this._pixelOffsetCache[v]=E,E}return this._actualReadPixelOffset(S,f,v,_)}_actualReadPixelOffset(S,f,v,_){if(this._characterMapping.length===0){const I=D.RangeUtil.readHorizontalRanges(this._getReadingTarget(S),0,0,0,0,_.clientRectDeltaLeft,_.clientRectScale,_.endNode);return!I||I.length===0?-1:I[0].left}if(v===this._characterMapping.length&&this._isWhitespaceOnly&&this._containsForeignElements===0)return this.getWidth();const y=this._characterMapping.getDomPosition(v),E=D.RangeUtil.readHorizontalRanges(this._getReadingTarget(S),y.partIndex,y.charIndex,y.partIndex,y.charIndex,_.clientRectDeltaLeft,_.clientRectScale,_.endNode);if(!E||E.length===0)return-1;const T=E[0].left;if(this.input.isBasicASCII){const I=this._characterMapping.getHorizontalOffset(v),R=Math.round(this.input.spaceWidth*I);if(Math.abs(R-T)<=1)return R}return T}_readRawVisibleRangesForRange(S,f,v,_){if(f===1&&v===this._characterMapping.length)return[new L.FloatHorizontalRange(0,this.getWidth())];const y=this._characterMapping.getDomPosition(f),E=this._characterMapping.getDomPosition(v);return D.RangeUtil.readHorizontalRanges(this._getReadingTarget(S),y.partIndex,y.charIndex,E.partIndex,E.charIndex,_.clientRectDeltaLeft,_.clientRectScale,_.endNode)}getColumnOfNodeOffset(S,f,v){const _=f.textContent.length;let y=-1;for(;f;)f=f.previousSibling,y++;return this._characterMapping.getColumn(new C.DomPosition(y,v),_)}}class r extends d{_readVisibleRangesForRange(S,f,v,_,y){const E=super._readVisibleRangesForRange(S,f,v,_,y);if(!E||E.length===0||v===_||v===1&&_===this._characterMapping.length)return E;if(!this.input.containsRTL){const T=this._readPixelOffset(S,f,_,y);if(T!==-1){const I=E[E.length-1];I.left<T&&(I.width=T-I.left)}}return E}}const s=function(){return w.isWebKit?a:u}();function a(p,S,f,v,_){return new r(p,S,f,v,_)}function u(p,S,f,v,_){return new d(p,S,f,v,_)}}),define(se[303],re([1,0,144,48,302,11,3,70,7,238]),function(q,e,w,m,k,D,L,b,C,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.shadowCaretRangeFromPoint=e.MouseTargetFactory=e.HitTestContext=e.MouseTarget=e.PointerHandlerLastRenderData=void 0;class g{constructor(v=null){this.hitTarget=v,this.type=0}}class t{constructor(v,_,y){this.position=v,this.spanNode=_,this.injectedText=y,this.type=1}}var i;(function(f){function v(_,y,E){const T=_.getPositionFromDOMInfo(y,E);return T?new t(T,y,null):new g(y)}f.createFromDOMInfo=v})(i||(i={}));class n{constructor(v,_){this.lastViewCursorsRenderData=v,this.lastTextareaPosition=_}}e.PointerHandlerLastRenderData=n;class o{static _deduceRage(v,_=null){return!_&&v?new L.Range(v.lineNumber,v.column,v.lineNumber,v.column):_??null}static createUnknown(v,_,y){return{type:0,element:v,mouseColumn:_,position:y,range:this._deduceRage(y)}}static createTextarea(v,_){return{type:1,element:v,mouseColumn:_,position:null,range:null}}static createMargin(v,_,y,E,T,I){return{type:v,element:_,mouseColumn:y,position:E,range:T,detail:I}}static createViewZone(v,_,y,E,T){return{type:v,element:_,mouseColumn:y,position:E,range:this._deduceRage(E),detail:T}}static createContentText(v,_,y,E,T){return{type:6,element:v,mouseColumn:_,position:y,range:this._deduceRage(y,E),detail:T}}static createContentEmpty(v,_,y,E){return{type:7,element:v,mouseColumn:_,position:y,range:this._deduceRage(y),detail:E}}static createContentWidget(v,_,y){return{type:9,element:v,mouseColumn:_,position:null,range:null,detail:y}}static createScrollbar(v,_,y){return{type:11,element:v,mouseColumn:_,position:y,range:this._deduceRage(y)}}static createOverlayWidget(v,_,y){return{type:12,element:v,mouseColumn:_,position:null,range:null,detail:y}}static createOutsideEditor(v,_,y,E){return{type:13,element:null,mouseColumn:v,position:_,range:this._deduceRage(_),outsidePosition:y,outsideDistance:E}}static _typeToString(v){return v===1?"TEXTAREA":v===2?"GUTTER_GLYPH_MARGIN":v===3?"GUTTER_LINE_NUMBERS":v===4?"GUTTER_LINE_DECORATIONS":v===5?"GUTTER_VIEW_ZONE":v===6?"CONTENT_TEXT":v===7?"CONTENT_EMPTY":v===8?"CONTENT_VIEW_ZONE":v===9?"CONTENT_WIDGET":v===10?"OVERVIEW_RULER":v===11?"SCROLLBAR":v===12?"OVERLAY_WIDGET":"UNKNOWN"}static toString(v){return this._typeToString(v.type)+": "+v.position+" - "+v.range+" - "+JSON.stringify(v.detail)}}e.MouseTarget=o;class l{static isTextArea(v){return v.length===2&&v[0]===3&&v[1]===6}static isChildOfViewLines(v){return v.length>=4&&v[0]===3&&v[3]===7}static isStrictChildOfViewLines(v){return v.length>4&&v[0]===3&&v[3]===7}static isChildOfScrollableElement(v){return v.length>=2&&v[0]===3&&v[1]===5}static isChildOfMinimap(v){return v.length>=2&&v[0]===3&&v[1]===8}static isChildOfContentWidgets(v){return v.length>=4&&v[0]===3&&v[3]===1}static isChildOfOverflowingContentWidgets(v){return v.length>=1&&v[0]===2}static isChildOfOverlayWidgets(v){return v.length>=2&&v[0]===3&&v[1]===4}}class c{constructor(v,_,y){this.viewModel=v.viewModel;const E=v.configuration.options;this.layoutInfo=E.get(133),this.viewDomNode=_.viewDomNode,this.lineHeight=E.get(60),this.stickyTabStops=E.get(106),this.typicalHalfwidthCharacterWidth=E.get(45).typicalHalfwidthCharacterWidth,this.lastRenderData=y,this._context=v,this._viewHelper=_}getZoneAtCoord(v){return c.getZoneAtCoord(this._context,v)}static getZoneAtCoord(v,_){const y=v.viewLayout.getWhitespaceAtVerticalOffset(_);if(y){const E=y.verticalOffset+y.height/2,T=v.viewModel.getLineCount();let I=null,R,F=null;return y.afterLineNumber!==T&&(F=new D.Position(y.afterLineNumber+1,1)),y.afterLineNumber>0&&(I=new D.Position(y.afterLineNumber,v.viewModel.getLineMaxColumn(y.afterLineNumber))),F===null?R=I:I===null?R=F:_<E?R=I:R=F,{viewZoneId:y.id,afterLineNumber:y.afterLineNumber,positionBefore:I,positionAfter:F,position:R}}return null}getFullLineRangeAtCoord(v){if(this._context.viewLayout.isAfterLines(v)){const E=this._context.viewModel.getLineCount(),T=this._context.viewModel.getLineMaxColumn(E);return{range:new L.Range(E,T,E,T),isAfterLines:!0}}const _=this._context.viewLayout.getLineNumberAtVerticalOffset(v),y=this._context.viewModel.getLineMaxColumn(_);return{range:new L.Range(_,1,_,y),isAfterLines:!1}}getLineNumberAtVerticalOffset(v){return this._context.viewLayout.getLineNumberAtVerticalOffset(v)}isAfterLines(v){return this._context.viewLayout.isAfterLines(v)}isInTopPadding(v){return this._context.viewLayout.isInTopPadding(v)}isInBottomPadding(v){return this._context.viewLayout.isInBottomPadding(v)}getVerticalOffsetForLineNumber(v){return this._context.viewLayout.getVerticalOffsetForLineNumber(v)}findAttribute(v,_){return c._findAttribute(v,_,this._viewHelper.viewDomNode)}static _findAttribute(v,_,y){for(;v&&v!==document.body;){if(v.hasAttribute&&v.hasAttribute(_))return v.getAttribute(_);if(v===y)return null;v=v.parentNode}return null}getLineWidth(v){return this._viewHelper.getLineWidth(v)}visibleRangeForPosition(v,_){return this._viewHelper.visibleRangeForPosition(v,_)}getPositionFromDOMInfo(v,_){return this._viewHelper.getPositionFromDOMInfo(v,_)}getCurrentScrollTop(){return this._context.viewLayout.getCurrentScrollTop()}getCurrentScrollLeft(){return this._context.viewLayout.getCurrentScrollLeft()}}e.HitTestContext=c;class d{constructor(v,_,y,E){this.editorPos=_,this.pos=y,this.relativePos=E,this.mouseVerticalOffset=Math.max(0,v.getCurrentScrollTop()+this.relativePos.y),this.mouseContentHorizontalOffset=v.getCurrentScrollLeft()+this.relativePos.x-v.layoutInfo.contentLeft,this.isInMarginArea=this.relativePos.x<v.layoutInfo.contentLeft&&this.relativePos.x>=v.layoutInfo.glyphMarginLeft,this.isInContentArea=!this.isInMarginArea,this.mouseColumn=Math.max(0,u._getMouseColumn(this.mouseContentHorizontalOffset,v.typicalHalfwidthCharacterWidth))}}class r extends d{constructor(v,_,y,E,T){super(v,_,y,E),this._ctx=v,T?(this.target=T,this.targetPath=m.PartFingerprints.collect(T,v.viewDomNode)):(this.target=null,this.targetPath=new Uint8Array(0))}toString(){return`pos(${this.pos.x},${this.pos.y}), editorPos(${this.editorPos.x},${this.editorPos.y}), relativePos(${this.relativePos.x},${this.relativePos.y}), mouseVerticalOffset: ${this.mouseVerticalOffset}, mouseContentHorizontalOffset: ${this.mouseContentHorizontalOffset}
	target: ${this.target?this.target.outerHTML:null}`}_getMouseColumn(v=null){return v&&v.column<this._ctx.viewModel.getLineMaxColumn(v.lineNumber)?b.CursorColumns.visibleColumnFromColumn(this._ctx.viewModel.getLineContent(v.lineNumber),v.column,this._ctx.viewModel.model.getOptions().tabSize)+1:this.mouseColumn}fulfillUnknown(v=null){return o.createUnknown(this.target,this._getMouseColumn(v),v)}fulfillTextarea(){return o.createTextarea(this.target,this._getMouseColumn())}fulfillMargin(v,_,y,E){return o.createMargin(v,this.target,this._getMouseColumn(_),_,y,E)}fulfillViewZone(v,_,y){return o.createViewZone(v,this.target,this._getMouseColumn(_),_,y)}fulfillContentText(v,_,y){return o.createContentText(this.target,this._getMouseColumn(v),v,_,y)}fulfillContentEmpty(v,_){return o.createContentEmpty(this.target,this._getMouseColumn(v),v,_)}fulfillContentWidget(v){return o.createContentWidget(this.target,this._getMouseColumn(),v)}fulfillScrollbar(v){return o.createScrollbar(this.target,this._getMouseColumn(v),v)}fulfillOverlayWidget(v){return o.createOverlayWidget(this.target,this._getMouseColumn(),v)}withTarget(v){return new r(this._ctx,this.editorPos,this.pos,this.relativePos,v)}}const s={isAfterLines:!0};function a(f){return{isAfterLines:!1,horizontalDistanceToText:f}}class u{constructor(v,_){this._context=v,this._viewHelper=_}mouseTargetIsWidget(v){const _=v.target,y=m.PartFingerprints.collect(_,this._viewHelper.viewDomNode);return!!(l.isChildOfContentWidgets(y)||l.isChildOfOverflowingContentWidgets(y)||l.isChildOfOverlayWidgets(y))}createMouseTarget(v,_,y,E,T){const I=new c(this._context,this._viewHelper,v),R=new r(I,_,y,E,T);try{return u._createMouseTarget(I,R,!1)}catch{return R.fulfillUnknown()}}static _createMouseTarget(v,_,y){if(_.target===null){if(y)return _.fulfillUnknown();const I=u._doHitTest(v,_);return I.type===1?u.createMouseTargetFromHitTestPosition(v,_,I.spanNode,I.position,I.injectedText):this._createMouseTarget(v,_.withTarget(I.hitTarget),!0)}const E=_;let T=null;return T=T||u._hitTestContentWidget(v,E),T=T||u._hitTestOverlayWidget(v,E),T=T||u._hitTestMinimap(v,E),T=T||u._hitTestScrollbarSlider(v,E),T=T||u._hitTestViewZone(v,E),T=T||u._hitTestMargin(v,E),T=T||u._hitTestViewCursor(v,E),T=T||u._hitTestTextArea(v,E),T=T||u._hitTestViewLines(v,E,y),T=T||u._hitTestScrollbar(v,E),T||_.fulfillUnknown()}static _hitTestContentWidget(v,_){if(l.isChildOfContentWidgets(_.targetPath)||l.isChildOfOverflowingContentWidgets(_.targetPath)){const y=v.findAttribute(_.target,"widgetId");return y?_.fulfillContentWidget(y):_.fulfillUnknown()}return null}static _hitTestOverlayWidget(v,_){if(l.isChildOfOverlayWidgets(_.targetPath)){const y=v.findAttribute(_.target,"widgetId");return y?_.fulfillOverlayWidget(y):_.fulfillUnknown()}return null}static _hitTestViewCursor(v,_){if(_.target){const y=v.lastRenderData.lastViewCursorsRenderData;for(const E of y)if(_.target===E.domNode)return _.fulfillContentText(E.position,null,{mightBeForeignElement:!1,injectedText:null})}if(_.isInContentArea){const y=v.lastRenderData.lastViewCursorsRenderData,E=_.mouseContentHorizontalOffset,T=_.mouseVerticalOffset;for(const I of y){if(E<I.contentLeft||E>I.contentLeft+I.width)continue;const R=v.getVerticalOffsetForLineNumber(I.position.lineNumber);if(R<=T&&T<=R+I.height)return _.fulfillContentText(I.position,null,{mightBeForeignElement:!1,injectedText:null})}}return null}static _hitTestViewZone(v,_){const y=v.getZoneAtCoord(_.mouseVerticalOffset);if(y){const E=_.isInContentArea?8:5;return _.fulfillViewZone(E,y.position,y)}return null}static _hitTestTextArea(v,_){return l.isTextArea(_.targetPath)?v.lastRenderData.lastTextareaPosition?_.fulfillContentText(v.lastRenderData.lastTextareaPosition,null,{mightBeForeignElement:!1,injectedText:null}):_.fulfillTextarea():null}static _hitTestMargin(v,_){if(_.isInMarginArea){const y=v.getFullLineRangeAtCoord(_.mouseVerticalOffset),E=y.range.getStartPosition();let T=Math.abs(_.relativePos.x);const I={isAfterLines:y.isAfterLines,glyphMarginLeft:v.layoutInfo.glyphMarginLeft,glyphMarginWidth:v.layoutInfo.glyphMarginWidth,lineNumbersWidth:v.layoutInfo.lineNumbersWidth,offsetX:T};return T-=v.layoutInfo.glyphMarginLeft,T<=v.layoutInfo.glyphMarginWidth?_.fulfillMargin(2,E,y.range,I):(T-=v.layoutInfo.glyphMarginWidth,T<=v.layoutInfo.lineNumbersWidth?_.fulfillMargin(3,E,y.range,I):(T-=v.layoutInfo.lineNumbersWidth,_.fulfillMargin(4,E,y.range,I)))}return null}static _hitTestViewLines(v,_,y){if(!l.isChildOfViewLines(_.targetPath))return null;if(v.isInTopPadding(_.mouseVerticalOffset))return _.fulfillContentEmpty(new D.Position(1,1),s);if(v.isAfterLines(_.mouseVerticalOffset)||v.isInBottomPadding(_.mouseVerticalOffset)){const T=v.viewModel.getLineCount(),I=v.viewModel.getLineMaxColumn(T);return _.fulfillContentEmpty(new D.Position(T,I),s)}if(y){if(l.isStrictChildOfViewLines(_.targetPath)){const T=v.getLineNumberAtVerticalOffset(_.mouseVerticalOffset);if(v.viewModel.getLineLength(T)===0){const R=v.getLineWidth(T),F=a(_.mouseContentHorizontalOffset-R);return _.fulfillContentEmpty(new D.Position(T,1),F)}const I=v.getLineWidth(T);if(_.mouseContentHorizontalOffset>=I){const R=a(_.mouseContentHorizontalOffset-I),F=new D.Position(T,v.viewModel.getLineMaxColumn(T));return _.fulfillContentEmpty(F,R)}}return _.fulfillUnknown()}const E=u._doHitTest(v,_);return E.type===1?u.createMouseTargetFromHitTestPosition(v,_,E.spanNode,E.position,E.injectedText):this._createMouseTarget(v,_.withTarget(E.hitTarget),!0)}static _hitTestMinimap(v,_){if(l.isChildOfMinimap(_.targetPath)){const y=v.getLineNumberAtVerticalOffset(_.mouseVerticalOffset),E=v.viewModel.getLineMaxColumn(y);return _.fulfillScrollbar(new D.Position(y,E))}return null}static _hitTestScrollbarSlider(v,_){if(l.isChildOfScrollableElement(_.targetPath)&&_.target&&_.target.nodeType===1){const y=_.target.className;if(y&&/\b(slider|scrollbar)\b/.test(y)){const E=v.getLineNumberAtVerticalOffset(_.mouseVerticalOffset),T=v.viewModel.getLineMaxColumn(E);return _.fulfillScrollbar(new D.Position(E,T))}}return null}static _hitTestScrollbar(v,_){if(l.isChildOfScrollableElement(_.targetPath)){const y=v.getLineNumberAtVerticalOffset(_.mouseVerticalOffset),E=v.viewModel.getLineMaxColumn(y);return _.fulfillScrollbar(new D.Position(y,E))}return null}getMouseColumn(v){const _=this._context.configuration.options,y=_.get(133),E=this._context.viewLayout.getCurrentScrollLeft()+v.x-y.contentLeft;return u._getMouseColumn(E,_.get(45).typicalHalfwidthCharacterWidth)}static _getMouseColumn(v,_){return v<0?1:Math.round(v/_)+1}static createMouseTargetFromHitTestPosition(v,_,y,E,T){const I=E.lineNumber,R=E.column,F=v.getLineWidth(I);if(_.mouseContentHorizontalOffset>F){const P=a(_.mouseContentHorizontalOffset-F);return _.fulfillContentEmpty(E,P)}const O=v.visibleRangeForPosition(I,R);if(!O)return _.fulfillUnknown(E);const M=O.left;if(_.mouseContentHorizontalOffset===M)return _.fulfillContentText(E,null,{mightBeForeignElement:!!T,injectedText:T});const N=[];if(N.push({offset:O.left,column:R}),R>1){const P=v.visibleRangeForPosition(I,R-1);P&&N.push({offset:P.left,column:R-1})}const A=v.viewModel.getLineMaxColumn(I);if(R<A){const P=v.visibleRangeForPosition(I,R+1);P&&N.push({offset:P.left,column:R+1})}N.sort((P,X)=>P.offset-X.offset);const B=_.pos.toClientCoordinates(),W=y.getBoundingClientRect(),x=W.left<=B.clientX&&B.clientX<=W.right;for(let P=1;P<N.length;P++){const X=N[P-1],ie=N[P];if(X.offset<=_.mouseContentHorizontalOffset&&_.mouseContentHorizontalOffset<=ie.offset){const K=new L.Range(I,X.column,I,ie.column),G=Math.abs(X.offset-_.mouseContentHorizontalOffset),Q=Math.abs(ie.offset-_.mouseContentHorizontalOffset),ne=G<Q?new D.Position(I,X.column):new D.Position(I,ie.column);return _.fulfillContentText(ne,K,{mightBeForeignElement:!x||!!T,injectedText:T})}}return _.fulfillContentText(E,null,{mightBeForeignElement:!x||!!T,injectedText:T})}static _doHitTestWithCaretRangeFromPoint(v,_){const y=v.getLineNumberAtVerticalOffset(_.mouseVerticalOffset),T=v.getVerticalOffsetForLineNumber(y)+Math.floor(v.lineHeight/2);let I=_.pos.y+(T-_.mouseVerticalOffset);I<=_.editorPos.y&&(I=_.editorPos.y+1),I>=_.editorPos.y+_.editorPos.height&&(I=_.editorPos.y+_.editorPos.height-1);const R=new w.PageCoordinates(_.pos.x,I),F=this._actualDoHitTestWithCaretRangeFromPoint(v,R.toClientCoordinates());return F.type===1?F:this._actualDoHitTestWithCaretRangeFromPoint(v,_.pos.toClientCoordinates())}static _actualDoHitTestWithCaretRangeFromPoint(v,_){const y=C.getShadowRoot(v.viewDomNode);let E;if(y?typeof y.caretRangeFromPoint>"u"?E=p(y,_.clientX,_.clientY):E=y.caretRangeFromPoint(_.clientX,_.clientY):E=document.caretRangeFromPoint(_.clientX,_.clientY),!E||!E.startContainer)return new g;const T=E.startContainer;if(T.nodeType===T.TEXT_NODE){const I=T.parentNode,R=I?I.parentNode:null,F=R?R.parentNode:null;return(F&&F.nodeType===F.ELEMENT_NODE?F.className:null)===k.ViewLine.CLASS_NAME?i.createFromDOMInfo(v,I,E.startOffset):new g(T.parentNode)}else if(T.nodeType===T.ELEMENT_NODE){const I=T.parentNode,R=I?I.parentNode:null;return(R&&R.nodeType===R.ELEMENT_NODE?R.className:null)===k.ViewLine.CLASS_NAME?i.createFromDOMInfo(v,T,T.textContent.length):new g(T)}return new g}static _doHitTestWithCaretPositionFromPoint(v,_){const y=document.caretPositionFromPoint(_.clientX,_.clientY);if(y.offsetNode.nodeType===y.offsetNode.TEXT_NODE){const E=y.offsetNode.parentNode,T=E?E.parentNode:null,I=T?T.parentNode:null;return(I&&I.nodeType===I.ELEMENT_NODE?I.className:null)===k.ViewLine.CLASS_NAME?i.createFromDOMInfo(v,y.offsetNode.parentNode,y.offset):new g(y.offsetNode.parentNode)}if(y.offsetNode.nodeType===y.offsetNode.ELEMENT_NODE){const E=y.offsetNode.parentNode,T=E&&E.nodeType===E.ELEMENT_NODE?E.className:null,I=E?E.parentNode:null,R=I&&I.nodeType===I.ELEMENT_NODE?I.className:null;if(T===k.ViewLine.CLASS_NAME){const F=y.offsetNode.childNodes[Math.min(y.offset,y.offsetNode.childNodes.length-1)];if(F)return i.createFromDOMInfo(v,F,0)}else if(R===k.ViewLine.CLASS_NAME)return i.createFromDOMInfo(v,y.offsetNode,0)}return new g(y.offsetNode)}static _snapToSoftTabBoundary(v,_){const y=_.getLineContent(v.lineNumber),{tabSize:E}=_.model.getOptions(),T=h.AtomicTabMoveOperations.atomicPosition(y,v.column-1,E,2);return T!==-1?new D.Position(v.lineNumber,T+1):v}static _doHitTest(v,_){let y=new g;if(typeof document.caretRangeFromPoint=="function"?y=this._doHitTestWithCaretRangeFromPoint(v,_):document.caretPositionFromPoint&&(y=this._doHitTestWithCaretPositionFromPoint(v,_.pos.toClientCoordinates())),y.type===1){const E=v.viewModel.getInjectedTextAt(y.position),T=v.viewModel.normalizePosition(y.position,2);(E||!T.equals(y.position))&&(y=new t(T,y.spanNode,E))}return y.type===1&&v.stickyTabStops&&(y=new t(this._snapToSoftTabBoundary(y.position,v.viewModel),y.spanNode,y.injectedText)),y}}e.MouseTargetFactory=u;function p(f,v,_){const y=document.createRange();let E=f.elementFromPoint(v,_);if(E!==null){for(;E&&E.firstChild&&E.firstChild.nodeType!==E.firstChild.TEXT_NODE&&E.lastChild&&E.lastChild.firstChild;)E=E.lastChild;const T=E.getBoundingClientRect(),I=window.getComputedStyle(E,null).getPropertyValue("font"),R=E.innerText;let F=T.left,O=0,M;if(v>T.left+T.width)O=R.length;else{const N=S.getInstance();for(let A=0;A<R.length+1;A++){if(M=N.getCharWidth(R.charAt(A),I)/2,F+=M,v<F){O=A;break}F+=M}}y.setStart(E.firstChild,O),y.setEnd(E.firstChild,O)}return y}e.shadowCaretRangeFromPoint=p;class S{static getInstance(){return S._INSTANCE||(S._INSTANCE=new S),S._INSTANCE}constructor(){this._cache={},this._canvas=document.createElement("canvas")}getCharWidth(v,_){const y=v+_;if(this._cache[y])return this._cache[y];const E=this._canvas.getContext("2d");E.font=_;const I=E.measureText(v).width;return this._cache[y]=I,I}}S._INSTANCE=null}),define(se[688],re([1,0,7,65,2,17,303,144,165,11,24,133]),function(q,e,w,m,k,D,L,b,C,h,g,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MouseHandler=void 0;class i extends t.ViewEventHandler{constructor(r,s,a){super(),this._mouseLeaveMonitor=null,this._context=r,this.viewController=s,this.viewHelper=a,this.mouseTargetFactory=new L.MouseTargetFactory(this._context,a),this._mouseDownOperation=this._register(new n(this._context,this.viewController,this.viewHelper,this.mouseTargetFactory,(f,v)=>this._createMouseTarget(f,v),f=>this._getMouseColumn(f))),this.lastMouseLeaveTime=-1,this._height=this._context.configuration.options.get(133).height;const u=new b.EditorMouseEventFactory(this.viewHelper.viewDomNode);this._register(u.onContextMenu(this.viewHelper.viewDomNode,f=>this._onContextMenu(f,!0))),this._register(u.onMouseMove(this.viewHelper.viewDomNode,f=>{this._onMouseMove(f),this._mouseLeaveMonitor||(this._mouseLeaveMonitor=w.addDisposableListener(document,"mousemove",v=>{this.viewHelper.viewDomNode.contains(v.target)||this._onMouseLeave(new b.EditorMouseEvent(v,!1,this.viewHelper.viewDomNode))}))})),this._register(u.onMouseUp(this.viewHelper.viewDomNode,f=>this._onMouseUp(f))),this._register(u.onMouseLeave(this.viewHelper.viewDomNode,f=>this._onMouseLeave(f)));let p=0;this._register(u.onPointerDown(this.viewHelper.viewDomNode,(f,v)=>{p=v})),this._register(w.addDisposableListener(this.viewHelper.viewDomNode,w.EventType.POINTER_UP,f=>{this._mouseDownOperation.onPointerUp()})),this._register(u.onMouseDown(this.viewHelper.viewDomNode,f=>this._onMouseDown(f,p)));const S=f=>{if(this.viewController.emitMouseWheel(f),!this._context.configuration.options.get(69))return;const v=new m.StandardWheelEvent(f);if(D.isMacintosh?(f.metaKey||f.ctrlKey)&&!f.shiftKey&&!f.altKey:f.ctrlKey&&!f.metaKey&&!f.shiftKey&&!f.altKey){const y=C.EditorZoom.getZoomLevel(),E=v.deltaY>0?1:-1;C.EditorZoom.setZoomLevel(y+E),v.preventDefault(),v.stopPropagation()}};this._register(w.addDisposableListener(this.viewHelper.viewDomNode,w.EventType.MOUSE_WHEEL,S,{capture:!0,passive:!1})),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._mouseLeaveMonitor&&(this._mouseLeaveMonitor.dispose(),this._mouseLeaveMonitor=null),super.dispose()}onConfigurationChanged(r){if(r.hasChanged(133)){const s=this._context.configuration.options.get(133).height;this._height!==s&&(this._height=s,this._mouseDownOperation.onHeightChanged())}return!1}onCursorStateChanged(r){return this._mouseDownOperation.onCursorStateChanged(r),!1}onFocusChanged(r){return!1}getTargetAtClientPoint(r,s){const u=new b.ClientCoordinates(r,s).toPageCoordinates(),p=(0,b.createEditorPagePosition)(this.viewHelper.viewDomNode);if(u.y<p.y||u.y>p.y+p.height||u.x<p.x||u.x>p.x+p.width)return null;const S=(0,b.createCoordinatesRelativeToEditor)(this.viewHelper.viewDomNode,p,u);return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),p,u,S,null)}_createMouseTarget(r,s){let a=r.target;if(!this.viewHelper.viewDomNode.contains(a)){const u=w.getShadowRoot(this.viewHelper.viewDomNode);u&&(a=u.elementsFromPoint(r.posx,r.posy).find(p=>this.viewHelper.viewDomNode.contains(p)))}return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),r.editorPos,r.pos,r.relativePos,s?a:null)}_getMouseColumn(r){return this.mouseTargetFactory.getMouseColumn(r.relativePos)}_onContextMenu(r,s){this.viewController.emitContextMenu({event:r,target:this._createMouseTarget(r,s)})}_onMouseMove(r){this.mouseTargetFactory.mouseTargetIsWidget(r)||r.preventDefault(),!(this._mouseDownOperation.isActive()||r.timestamp<this.lastMouseLeaveTime)&&this.viewController.emitMouseMove({event:r,target:this._createMouseTarget(r,!0)})}_onMouseLeave(r){this._mouseLeaveMonitor&&(this._mouseLeaveMonitor.dispose(),this._mouseLeaveMonitor=null),this.lastMouseLeaveTime=new Date().getTime(),this.viewController.emitMouseLeave({event:r,target:null})}_onMouseUp(r){this.viewController.emitMouseUp({event:r,target:this._createMouseTarget(r,!0)})}_onMouseDown(r,s){const a=this._createMouseTarget(r,!0),u=a.type===6||a.type===7,p=a.type===2||a.type===3||a.type===4,S=a.type===3,f=this._context.configuration.options.get(99),v=a.type===8||a.type===5,_=a.type===9;let y=r.leftButton||r.middleButton;D.isMacintosh&&r.leftButton&&r.ctrlKey&&(y=!1);const E=()=>{r.preventDefault(),this.viewHelper.focusTextArea()};if(y&&(u||S&&f))E(),this._mouseDownOperation.start(a.type,r,s);else if(p)r.preventDefault();else if(v){const T=a.detail;y&&this.viewHelper.shouldSuppressMouseDownOnViewZone(T.viewZoneId)&&(E(),this._mouseDownOperation.start(a.type,r,s),r.preventDefault())}else _&&this.viewHelper.shouldSuppressMouseDownOnWidget(a.detail)&&(E(),r.preventDefault());this.viewController.emitMouseDown({event:r,target:a})}}e.MouseHandler=i;class n extends k.Disposable{constructor(r,s,a,u,p,S){super(),this._context=r,this._viewController=s,this._viewHelper=a,this._mouseTargetFactory=u,this._createMouseTarget=p,this._getMouseColumn=S,this._mouseMoveMonitor=this._register(new b.GlobalEditorPointerMoveMonitor(this._viewHelper.viewDomNode)),this._topBottomDragScrolling=this._register(new o(this._context,this._viewHelper,this._mouseTargetFactory,(f,v,_)=>this._dispatchMouse(f,v,_))),this._mouseState=new c,this._currentSelection=new g.Selection(1,1,1,1),this._isActive=!1,this._lastMouseEvent=null}dispose(){super.dispose()}isActive(){return this._isActive}_onMouseDownThenMove(r){this._lastMouseEvent=r,this._mouseState.setModifiers(r);const s=this._findMousePosition(r,!1);!s||(this._mouseState.isDragAndDrop?this._viewController.emitMouseDrag({event:r,target:s}):s.type===13&&(s.outsidePosition==="above"||s.outsidePosition==="below")?this._topBottomDragScrolling.start(s,r):(this._topBottomDragScrolling.stop(),this._dispatchMouse(s,!0,1)))}start(r,s,a){this._lastMouseEvent=s,this._mouseState.setStartedOnLineNumbers(r===3),this._mouseState.setStartButtons(s),this._mouseState.setModifiers(s);const u=this._findMousePosition(s,!0);if(!u||!u.position)return;this._mouseState.trySetCount(s.detail,u.position),s.detail=this._mouseState.count;const p=this._context.configuration.options;if(!p.get(82)&&p.get(31)&&!p.get(18)&&!this._mouseState.altKey&&s.detail<2&&!this._isActive&&!this._currentSelection.isEmpty()&&u.type===6&&u.position&&this._currentSelection.containsPosition(u.position)){this._mouseState.isDragAndDrop=!0,this._isActive=!0,this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode,a,s.buttons,S=>this._onMouseDownThenMove(S),S=>{const f=this._findMousePosition(this._lastMouseEvent,!1);S&&S instanceof KeyboardEvent?this._viewController.emitMouseDropCanceled():this._viewController.emitMouseDrop({event:this._lastMouseEvent,target:f?this._createMouseTarget(this._lastMouseEvent,!0):null}),this._stop()});return}this._mouseState.isDragAndDrop=!1,this._dispatchMouse(u,s.shiftKey,1),this._isActive||(this._isActive=!0,this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode,a,s.buttons,S=>this._onMouseDownThenMove(S),()=>this._stop()))}_stop(){this._isActive=!1,this._topBottomDragScrolling.stop()}onHeightChanged(){this._mouseMoveMonitor.stopMonitoring()}onPointerUp(){this._mouseMoveMonitor.stopMonitoring()}onCursorStateChanged(r){this._currentSelection=r.selections[0]}_getPositionOutsideEditor(r){const s=r.editorPos,a=this._context.viewModel,u=this._context.viewLayout,p=this._getMouseColumn(r);if(r.posy<s.y){const f=s.y-r.posy,v=Math.max(u.getCurrentScrollTop()-f,0),_=L.HitTestContext.getZoneAtCoord(this._context,v);if(_){const E=this._helpPositionJumpOverViewZone(_);if(E)return L.MouseTarget.createOutsideEditor(p,E,"above",f)}const y=u.getLineNumberAtVerticalOffset(v);return L.MouseTarget.createOutsideEditor(p,new h.Position(y,1),"above",f)}if(r.posy>s.y+s.height){const f=r.posy-s.y-s.height,v=u.getCurrentScrollTop()+r.relativePos.y,_=L.HitTestContext.getZoneAtCoord(this._context,v);if(_){const E=this._helpPositionJumpOverViewZone(_);if(E)return L.MouseTarget.createOutsideEditor(p,E,"below",f)}const y=u.getLineNumberAtVerticalOffset(v);return L.MouseTarget.createOutsideEditor(p,new h.Position(y,a.getLineMaxColumn(y)),"below",f)}const S=u.getLineNumberAtVerticalOffset(u.getCurrentScrollTop()+r.relativePos.y);if(r.posx<s.x){const f=s.x-r.posx;return L.MouseTarget.createOutsideEditor(p,new h.Position(S,1),"left",f)}if(r.posx>s.x+s.width){const f=r.posx-s.x-s.width;return L.MouseTarget.createOutsideEditor(p,new h.Position(S,a.getLineMaxColumn(S)),"right",f)}return null}_findMousePosition(r,s){const a=this._getPositionOutsideEditor(r);if(a)return a;const u=this._createMouseTarget(r,s);if(!u.position)return null;if(u.type===8||u.type===5){const S=this._helpPositionJumpOverViewZone(u.detail);if(S)return L.MouseTarget.createViewZone(u.type,u.element,u.mouseColumn,S,u.detail)}return u}_helpPositionJumpOverViewZone(r){const s=new h.Position(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn),a=r.positionBefore,u=r.positionAfter;return a&&u?a.isBefore(s)?a:u:null}_dispatchMouse(r,s,a){!r.position||this._viewController.dispatchMouse({position:r.position,mouseColumn:r.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,revealType:a,inSelectionMode:s,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey,leftButton:this._mouseState.leftButton,middleButton:this._mouseState.middleButton,onInjectedText:r.type===6&&r.detail.injectedText!==null})}}class o extends k.Disposable{constructor(r,s,a,u){super(),this._context=r,this._viewHelper=s,this._mouseTargetFactory=a,this._dispatchMouse=u,this._operation=null}dispose(){super.dispose(),this.stop()}start(r,s){this._operation?this._operation.setPosition(r,s):this._operation=new l(this._context,this._viewHelper,this._mouseTargetFactory,this._dispatchMouse,r,s)}stop(){this._operation&&(this._operation.dispose(),this._operation=null)}}class l extends k.Disposable{constructor(r,s,a,u,p,S){super(),this._context=r,this._viewHelper=s,this._mouseTargetFactory=a,this._dispatchMouse=u,this._position=p,this._mouseEvent=S,this._lastTime=Date.now(),this._animationFrameDisposable=w.scheduleAtNextAnimationFrame(()=>this._execute())}dispose(){this._animationFrameDisposable.dispose()}setPosition(r,s){this._position=r,this._mouseEvent=s}_tick(){const r=Date.now(),s=r-this._lastTime;return this._lastTime=r,s}_getScrollSpeed(){const r=this._context.configuration.options.get(60),s=this._context.configuration.options.get(133).height/r,a=this._position.outsideDistance/r;return a<=1.5?Math.max(30,s*(1+a)):a<=3?Math.max(60,s*(2+a)):Math.max(200,s*(7+a))}_execute(){const r=this._context.configuration.options.get(60),s=this._getScrollSpeed(),a=this._tick(),u=s*(a/1e3)*r,p=this._position.outsidePosition==="above"?-u:u;this._context.viewModel.viewLayout.deltaScrollNow(0,p),this._viewHelper.renderNow();const S=this._context.viewLayout.getLinesViewportData(),f=this._position.outsidePosition==="above"?S.startLineNumber:S.endLineNumber;let v;{const _=(0,b.createEditorPagePosition)(this._viewHelper.viewDomNode),y=this._context.configuration.options.get(133).horizontalScrollbarHeight,E=new b.PageCoordinates(this._mouseEvent.pos.x,_.y+_.height-y-.1),T=(0,b.createCoordinatesRelativeToEditor)(this._viewHelper.viewDomNode,_,E);v=this._mouseTargetFactory.createMouseTarget(this._viewHelper.getLastRenderData(),_,E,T,null)}(!v.position||v.position.lineNumber!==f)&&(this._position.outsidePosition==="above"?v=L.MouseTarget.createOutsideEditor(this._position.mouseColumn,new h.Position(f,1),"above",this._position.outsideDistance):v=L.MouseTarget.createOutsideEditor(this._position.mouseColumn,new h.Position(f,this._context.viewModel.getLineMaxColumn(f)),"below",this._position.outsideDistance)),this._dispatchMouse(v,!0,2),this._animationFrameDisposable=w.scheduleAtNextAnimationFrame(()=>this._execute())}}class c{get altKey(){return this._altKey}get ctrlKey(){return this._ctrlKey}get metaKey(){return this._metaKey}get shiftKey(){return this._shiftKey}get leftButton(){return this._leftButton}get middleButton(){return this._middleButton}get startedOnLineNumbers(){return this._startedOnLineNumbers}constructor(){this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._leftButton=!1,this._middleButton=!1,this._startedOnLineNumbers=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0,this.isDragAndDrop=!1}get count(){return this._lastMouseDownCount}setModifiers(r){this._altKey=r.altKey,this._ctrlKey=r.ctrlKey,this._metaKey=r.metaKey,this._shiftKey=r.shiftKey}setStartButtons(r){this._leftButton=r.leftButton,this._middleButton=r.middleButton}setStartedOnLineNumbers(r){this._startedOnLineNumbers=r}trySetCount(r,s){const a=new Date().getTime();a-this._lastSetMouseDownCountTime>c.CLEAR_MOUSE_DOWN_COUNT_TIME&&(r=1),this._lastSetMouseDownCountTime=a,r>this._lastMouseDownCount+1&&(r=this._lastMouseDownCount+1),this._lastMouseDownPosition&&this._lastMouseDownPosition.equals(s)?this._lastMouseDownPositionEqualCount++:this._lastMouseDownPositionEqualCount=1,this._lastMouseDownPosition=s,this._lastMouseDownCount=Math.min(r,this._lastMouseDownPositionEqualCount)}}c.CLEAR_MOUSE_DOWN_COUNT_TIME=400}),define(se[689],re([1,0,7,17,60,2,688,144,198,207]),function(q,e,w,m,k,D,L,b,C,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PointerHandler=e.PointerEventHandler=void 0;class g extends L.MouseHandler{constructor(o,l,c){super(o,l,c),this._register(k.Gesture.addTarget(this.viewHelper.linesContentDomNode)),this._register(w.addDisposableListener(this.viewHelper.linesContentDomNode,k.EventType.Tap,r=>this.onTap(r))),this._register(w.addDisposableListener(this.viewHelper.linesContentDomNode,k.EventType.Change,r=>this.onChange(r))),this._register(w.addDisposableListener(this.viewHelper.linesContentDomNode,k.EventType.Contextmenu,r=>this._onContextMenu(new b.EditorMouseEvent(r,!1,this.viewHelper.viewDomNode),!1))),this._lastPointerType="mouse",this._register(w.addDisposableListener(this.viewHelper.linesContentDomNode,"pointerdown",r=>{const s=r.pointerType;if(s==="mouse"){this._lastPointerType="mouse";return}else s==="touch"?this._lastPointerType="touch":this._lastPointerType="pen"}));const d=new b.EditorPointerEventFactory(this.viewHelper.viewDomNode);this._register(d.onPointerMove(this.viewHelper.viewDomNode,r=>this._onMouseMove(r))),this._register(d.onPointerUp(this.viewHelper.viewDomNode,r=>this._onMouseUp(r))),this._register(d.onPointerLeave(this.viewHelper.viewDomNode,r=>this._onMouseLeave(r))),this._register(d.onPointerDown(this.viewHelper.viewDomNode,(r,s)=>this._onMouseDown(r,s)))}onTap(o){if(!o.initialTarget||!this.viewHelper.linesContentDomNode.contains(o.initialTarget))return;o.preventDefault(),this.viewHelper.focusTextArea();const l=this._createMouseTarget(new b.EditorMouseEvent(o,!1,this.viewHelper.viewDomNode),!1);l.position&&this.viewController.dispatchMouse({position:l.position,mouseColumn:l.position.column,startedOnLineNumbers:!1,revealType:1,mouseDownCount:o.tapCount,inSelectionMode:!1,altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1,leftButton:!1,middleButton:!1,onInjectedText:l.type===6&&l.detail.injectedText!==null})}onChange(o){this._lastPointerType==="touch"&&this._context.viewModel.viewLayout.deltaScrollNow(-o.translationX,-o.translationY)}_onMouseDown(o,l){o.browserEvent.pointerType!=="touch"&&super._onMouseDown(o,l)}}e.PointerEventHandler=g;class t extends L.MouseHandler{constructor(o,l,c){super(o,l,c),this._register(k.Gesture.addTarget(this.viewHelper.linesContentDomNode)),this._register(w.addDisposableListener(this.viewHelper.linesContentDomNode,k.EventType.Tap,d=>this.onTap(d))),this._register(w.addDisposableListener(this.viewHelper.linesContentDomNode,k.EventType.Change,d=>this.onChange(d))),this._register(w.addDisposableListener(this.viewHelper.linesContentDomNode,k.EventType.Contextmenu,d=>this._onContextMenu(new b.EditorMouseEvent(d,!1,this.viewHelper.viewDomNode),!1)))}onTap(o){o.preventDefault(),this.viewHelper.focusTextArea();const l=this._createMouseTarget(new b.EditorMouseEvent(o,!1,this.viewHelper.viewDomNode),!1);if(l.position){const c=document.createEvent("CustomEvent");c.initEvent(h.TextAreaSyntethicEvents.Tap,!1,!0),this.viewHelper.dispatchTextAreaEvent(c),this.viewController.moveTo(l.position,1)}}onChange(o){this._context.viewModel.viewLayout.deltaScrollNow(-o.translationX,-o.translationY)}}class i extends D.Disposable{constructor(o,l,c){super(),m.isIOS&&C.BrowserFeatures.pointerEvents?this.handler=this._register(new g(o,l,c)):window.TouchEvent?this.handler=this._register(new t(o,l,c)):this.handler=this._register(new L.MouseHandler(o,l,c))}getTargetAtClientPoint(o,l){return this.handler.getTargetAtClientPoint(o,l)}}e.PointerHandler=i}),define(se[690],re([1,0,17,10,69,208,48,302,11,3,129,151,368]),function(q,e,w,m,k,D,L,b,C,h,g,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewLines=void 0;class i{constructor(){this._currentVisibleRange=new h.Range(1,1,1,1)}getCurrentVisibleRange(){return this._currentVisibleRange}setCurrentVisibleRange(d){this._currentVisibleRange=d}}class n{constructor(d,r,s,a,u,p,S){this.minimalReveal=d,this.lineNumber=r,this.startColumn=s,this.endColumn=a,this.startScrollTop=u,this.stopScrollTop=p,this.scrollType=S,this.type="range",this.minLineNumber=r,this.maxLineNumber=r}}class o{constructor(d,r,s,a,u){this.minimalReveal=d,this.selections=r,this.startScrollTop=s,this.stopScrollTop=a,this.scrollType=u,this.type="selections";let p=r[0].startLineNumber,S=r[0].endLineNumber;for(let f=1,v=r.length;f<v;f++){const _=r[f];p=Math.min(p,_.startLineNumber),S=Math.max(S,_.endLineNumber)}this.minLineNumber=p,this.maxLineNumber=S}}class l extends L.ViewPart{constructor(d,r){super(d),this._linesContent=r,this._textRangeRestingSpot=document.createElement("div"),this._visibleLines=new D.VisibleLinesCollection(this),this.domNode=this._visibleLines.domNode;const s=this._context.configuration,a=this._context.configuration.options,u=a.get(45),p=a.get(134);this._lineHeight=a.get(60),this._typicalHalfwidthCharacterWidth=u.typicalHalfwidthCharacterWidth,this._isViewportWrapping=p.isViewportWrapping,this._revealHorizontalRightPadding=a.get(90),this._cursorSurroundingLines=a.get(25),this._cursorSurroundingLinesStyle=a.get(26),this._canUseLayerHinting=!a.get(28),this._viewLineOptions=new b.ViewLineOptions(s,this._context.theme.type),L.PartFingerprints.write(this.domNode,7),this.domNode.setClassName(`view-lines ${t.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),(0,k.applyFontInfo)(this.domNode,u),this._maxLineWidth=0,this._asyncUpdateLineWidths=new m.RunOnceScheduler(()=>{this._updateLineWidthsSlow()},200),this._asyncCheckMonospaceFontAssumptions=new m.RunOnceScheduler(()=>{this._checkMonospaceFontAssumptions()},2e3),this._lastRenderedData=new i,this._horizontalRevealRequest=null,this._stickyScrollEnabled=a.get(105).enabled,this._maxNumberStickyLines=a.get(105).maxLineCount}dispose(){this._asyncUpdateLineWidths.dispose(),this._asyncCheckMonospaceFontAssumptions.dispose(),super.dispose()}getDomNode(){return this.domNode}createVisibleLine(){return new b.ViewLine(this._viewLineOptions)}onConfigurationChanged(d){this._visibleLines.onConfigurationChanged(d),d.hasChanged(134)&&(this._maxLineWidth=0);const r=this._context.configuration.options,s=r.get(45),a=r.get(134);return this._lineHeight=r.get(60),this._typicalHalfwidthCharacterWidth=s.typicalHalfwidthCharacterWidth,this._isViewportWrapping=a.isViewportWrapping,this._revealHorizontalRightPadding=r.get(90),this._cursorSurroundingLines=r.get(25),this._cursorSurroundingLinesStyle=r.get(26),this._canUseLayerHinting=!r.get(28),this._stickyScrollEnabled=r.get(105).enabled,this._maxNumberStickyLines=r.get(105).maxLineCount,(0,k.applyFontInfo)(this.domNode,s),this._onOptionsMaybeChanged(),d.hasChanged(133)&&(this._maxLineWidth=0),!0}_onOptionsMaybeChanged(){const d=this._context.configuration,r=new b.ViewLineOptions(d,this._context.theme.type);if(!this._viewLineOptions.equals(r)){this._viewLineOptions=r;const s=this._visibleLines.getStartLineNumber(),a=this._visibleLines.getEndLineNumber();for(let u=s;u<=a;u++)this._visibleLines.getVisibleLine(u).onOptionsChanged(this._viewLineOptions);return!0}return!1}onCursorStateChanged(d){const r=this._visibleLines.getStartLineNumber(),s=this._visibleLines.getEndLineNumber();let a=!1;for(let u=r;u<=s;u++)a=this._visibleLines.getVisibleLine(u).onSelectionChanged()||a;return a}onDecorationsChanged(d){{const r=this._visibleLines.getStartLineNumber(),s=this._visibleLines.getEndLineNumber();for(let a=r;a<=s;a++)this._visibleLines.getVisibleLine(a).onDecorationsChanged()}return!0}onFlushed(d){const r=this._visibleLines.onFlushed(d);return this._maxLineWidth=0,r}onLinesChanged(d){return this._visibleLines.onLinesChanged(d)}onLinesDeleted(d){return this._visibleLines.onLinesDeleted(d)}onLinesInserted(d){return this._visibleLines.onLinesInserted(d)}onRevealRangeRequest(d){const r=this._computeScrollTopToRevealRange(this._context.viewLayout.getFutureViewport(),d.source,d.minimalReveal,d.range,d.selections,d.verticalType);if(r===-1)return!1;let s=this._context.viewLayout.validateScrollPosition({scrollTop:r});d.revealHorizontal?d.range&&d.range.startLineNumber!==d.range.endLineNumber?s={scrollTop:s.scrollTop,scrollLeft:0}:d.range?this._horizontalRevealRequest=new n(d.minimalReveal,d.range.startLineNumber,d.range.startColumn,d.range.endColumn,this._context.viewLayout.getCurrentScrollTop(),s.scrollTop,d.scrollType):d.selections&&d.selections.length>0&&(this._horizontalRevealRequest=new o(d.minimalReveal,d.selections,this._context.viewLayout.getCurrentScrollTop(),s.scrollTop,d.scrollType)):this._horizontalRevealRequest=null;const u=Math.abs(this._context.viewLayout.getCurrentScrollTop()-s.scrollTop)<=this._lineHeight?1:d.scrollType;return this._context.viewModel.viewLayout.setScrollPosition(s,u),!0}onScrollChanged(d){if(this._horizontalRevealRequest&&d.scrollLeftChanged&&(this._horizontalRevealRequest=null),this._horizontalRevealRequest&&d.scrollTopChanged){const r=Math.min(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop),s=Math.max(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop);(d.scrollTop<r||d.scrollTop>s)&&(this._horizontalRevealRequest=null)}return this.domNode.setWidth(d.scrollWidth),this._visibleLines.onScrollChanged(d)||!0}onTokensChanged(d){return this._visibleLines.onTokensChanged(d)}onZonesChanged(d){return this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth),this._visibleLines.onZonesChanged(d)}onThemeChanged(d){return this._onOptionsMaybeChanged()}getPositionFromDOMInfo(d,r){const s=this._getViewLineDomNode(d);if(s===null)return null;const a=this._getLineNumberFor(s);if(a===-1||a<1||a>this._context.viewModel.getLineCount())return null;if(this._context.viewModel.getLineMaxColumn(a)===1)return new C.Position(a,1);const u=this._visibleLines.getStartLineNumber(),p=this._visibleLines.getEndLineNumber();if(a<u||a>p)return null;let S=this._visibleLines.getVisibleLine(a).getColumnOfNodeOffset(a,d,r);const f=this._context.viewModel.getLineMinColumn(a);return S<f&&(S=f),new C.Position(a,S)}_getViewLineDomNode(d){for(;d&&d.nodeType===1;){if(d.className===b.ViewLine.CLASS_NAME)return d;d=d.parentElement}return null}_getLineNumberFor(d){const r=this._visibleLines.getStartLineNumber(),s=this._visibleLines.getEndLineNumber();for(let a=r;a<=s;a++){const u=this._visibleLines.getVisibleLine(a);if(d===u.getDomNode())return a}return-1}getLineWidth(d){const r=this._visibleLines.getStartLineNumber(),s=this._visibleLines.getEndLineNumber();return d<r||d>s?-1:this._visibleLines.getVisibleLine(d).getWidth()}linesVisibleRangesForRange(d,r){if(this.shouldRender())return null;const s=d.endLineNumber,a=h.Range.intersectRanges(d,this._lastRenderedData.getCurrentVisibleRange());if(!a)return null;const u=[];let p=0;const S=new b.DomReadingContext(this.domNode.domNode,this._textRangeRestingSpot);let f=0;r&&(f=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new C.Position(a.startLineNumber,1)).lineNumber);const v=this._visibleLines.getStartLineNumber(),_=this._visibleLines.getEndLineNumber();for(let y=a.startLineNumber;y<=a.endLineNumber;y++){if(y<v||y>_)continue;const E=y===a.startLineNumber?a.startColumn:1,T=y===a.endLineNumber?a.endColumn:this._context.viewModel.getLineMaxColumn(y),I=this._visibleLines.getVisibleLine(y).getVisibleRangesForRange(y,E,T,S);if(!!I){if(r&&y<s){const R=f;f=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new C.Position(y+1,1)).lineNumber,R!==f&&(I.ranges[I.ranges.length-1].width+=this._typicalHalfwidthCharacterWidth)}u[p++]=new g.LineVisibleRanges(I.outsideRenderedLine,y,g.HorizontalRange.from(I.ranges))}}return p===0?null:u}_visibleRangesForLineRange(d,r,s){return this.shouldRender()||d<this._visibleLines.getStartLineNumber()||d>this._visibleLines.getEndLineNumber()?null:this._visibleLines.getVisibleLine(d).getVisibleRangesForRange(d,r,s,new b.DomReadingContext(this.domNode.domNode,this._textRangeRestingSpot))}visibleRangeForPosition(d){const r=this._visibleRangesForLineRange(d.lineNumber,d.column,d.column);return r?new g.HorizontalPosition(r.outsideRenderedLine,r.ranges[0].left):null}updateLineWidths(){this._updateLineWidths(!1)}_updateLineWidthsFast(){return this._updateLineWidths(!0)}_updateLineWidthsSlow(){this._updateLineWidths(!1)}_updateLineWidths(d){const r=this._visibleLines.getStartLineNumber(),s=this._visibleLines.getEndLineNumber();let a=1,u=!0;for(let p=r;p<=s;p++){const S=this._visibleLines.getVisibleLine(p);if(d&&!S.getWidthIsFast()){u=!1;continue}a=Math.max(a,S.getWidth())}return u&&r===1&&s===this._context.viewModel.getLineCount()&&(this._maxLineWidth=0),this._ensureMaxLineWidth(a),u}_checkMonospaceFontAssumptions(){let d=-1,r=-1;const s=this._visibleLines.getStartLineNumber(),a=this._visibleLines.getEndLineNumber();for(let u=s;u<=a;u++){const p=this._visibleLines.getVisibleLine(u);if(p.needsMonospaceFontCheck()){const S=p.getWidth();S>r&&(r=S,d=u)}}if(d!==-1&&!this._visibleLines.getVisibleLine(d).monospaceAssumptionsAreValid())for(let u=s;u<=a;u++)this._visibleLines.getVisibleLine(u).onMonospaceAssumptionsInvalidated()}prepareRender(){throw new Error("Not supported")}render(){throw new Error("Not supported")}renderText(d){if(this._visibleLines.renderLines(d),this._lastRenderedData.setCurrentVisibleRange(d.visibleRange),this.domNode.setWidth(this._context.viewLayout.getScrollWidth()),this.domNode.setHeight(Math.min(this._context.viewLayout.getScrollHeight(),1e6)),this._horizontalRevealRequest){const s=this._horizontalRevealRequest;if(d.startLineNumber<=s.minLineNumber&&s.maxLineNumber<=d.endLineNumber){this._horizontalRevealRequest=null,this.onDidRender();const a=this._computeScrollLeftToReveal(s);a&&(this._isViewportWrapping||this._ensureMaxLineWidth(a.maxHorizontalOffset),this._context.viewModel.viewLayout.setScrollPosition({scrollLeft:a.scrollLeft},s.scrollType))}}if(this._updateLineWidthsFast()||this._asyncUpdateLineWidths.schedule(),w.isLinux&&!this._asyncCheckMonospaceFontAssumptions.isScheduled()){const s=this._visibleLines.getStartLineNumber(),a=this._visibleLines.getEndLineNumber();for(let u=s;u<=a;u++)if(this._visibleLines.getVisibleLine(u).needsMonospaceFontCheck()){this._asyncCheckMonospaceFontAssumptions.schedule();break}}this._linesContent.setLayerHinting(this._canUseLayerHinting),this._linesContent.setContain("strict");const r=this._context.viewLayout.getCurrentScrollTop()-d.bigNumbersDelta;this._linesContent.setTop(-r),this._linesContent.setLeft(-this._context.viewLayout.getCurrentScrollLeft())}_ensureMaxLineWidth(d){const r=Math.ceil(d);this._maxLineWidth<r&&(this._maxLineWidth=r,this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth))}_computeScrollTopToRevealRange(d,r,s,a,u,p){const S=d.top,f=d.height,v=S+f;let _,y,E;if(u&&u.length>0){let O=u[0].startLineNumber,M=u[0].endLineNumber;for(let N=1,A=u.length;N<A;N++){const B=u[N];O=Math.min(O,B.startLineNumber),M=Math.max(M,B.endLineNumber)}_=!1,y=this._context.viewLayout.getVerticalOffsetForLineNumber(O),E=this._context.viewLayout.getVerticalOffsetForLineNumber(M)+this._lineHeight}else if(a)_=!0,y=this._context.viewLayout.getVerticalOffsetForLineNumber(a.startLineNumber),E=this._context.viewLayout.getVerticalOffsetForLineNumber(a.endLineNumber)+this._lineHeight;else return-1;const T=(r==="mouse"||s)&&this._cursorSurroundingLinesStyle==="default";let I=0,R=0;if(T)s||(I=this._lineHeight);else{const O=Math.min(f/this._lineHeight/2,this._cursorSurroundingLines);this._stickyScrollEnabled?I=Math.max(O,this._maxNumberStickyLines)*this._lineHeight:I=O*this._lineHeight,R=Math.max(0,O-1)*this._lineHeight}s||(p===0||p===4)&&(R+=this._lineHeight),y-=I,E+=R;let F;if(E-y>f){if(!_)return-1;F=y}else if(p===5||p===6)if(p===6&&S<=y&&E<=v)F=S;else{const O=Math.max(5*this._lineHeight,f*.2),M=y-O,N=E-f;F=Math.max(N,M)}else if(p===1||p===2)if(p===2&&S<=y&&E<=v)F=S;else{const O=(y+E)/2;F=Math.max(0,O-f/2)}else F=this._computeMinimumScrolling(S,v,y,E,p===3,p===4);return F}_computeScrollLeftToReveal(d){const r=this._context.viewLayout.getCurrentViewport(),s=this._context.configuration.options.get(133),a=r.left,u=a+r.width-s.verticalScrollbarWidth;let p=1073741824,S=0;if(d.type==="range"){const v=this._visibleRangesForLineRange(d.lineNumber,d.startColumn,d.endColumn);if(!v)return null;for(const _ of v.ranges)p=Math.min(p,Math.round(_.left)),S=Math.max(S,Math.round(_.left+_.width))}else for(const v of d.selections){if(v.startLineNumber!==v.endLineNumber)return null;const _=this._visibleRangesForLineRange(v.startLineNumber,v.startColumn,v.endColumn);if(!_)return null;for(const y of _.ranges)p=Math.min(p,Math.round(y.left)),S=Math.max(S,Math.round(y.left+y.width))}return d.minimalReveal||(p=Math.max(0,p-l.HORIZONTAL_EXTRA_PX),S+=this._revealHorizontalRightPadding),d.type==="selections"&&S-p>r.width?null:{scrollLeft:this._computeMinimumScrolling(a,u,p,S),maxHorizontalOffset:S}}_computeMinimumScrolling(d,r,s,a,u,p){d=d|0,r=r|0,s=s|0,a=a|0,u=!!u,p=!!p;const S=r-d;if(a-s<S){if(u)return s;if(p)return Math.max(0,a-S);if(s<d)return s;if(a>r)return Math.max(0,a-S)}else return s;return d}}e.ViewLines=l,l.HORIZONTAL_EXTRA_PX=30}),define(se[121],re([1,0,31,23,53]),function(q,e,w,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.attachMenuStyler=e.defaultMenuStyles=e.attachStylerCallback=e.defaultListStyles=e.attachListStyler=e.attachSelectBoxStyler=e.attachBadgeStyler=e.attachStyler=e.computeStyles=void 0;function D(i,n){const o=Object.create(null);for(const l in n){const c=n[l];c&&(o[l]=(0,m.resolveColorValue)(c,i))}return o}e.computeStyles=D;function L(i,n,o){function l(){const c=D(i.getColorTheme(),n);typeof o=="function"?o(c):o.style(c)}return l(),i.onDidColorThemeChange(l)}e.attachStyler=L;function b(i,n,o){return L(n,{badgeBackground:o?.badgeBackground||m.badgeBackground,badgeForeground:o?.badgeForeground||m.badgeForeground,badgeBorder:m.contrastBorder},i)}e.attachBadgeStyler=b;function C(i,n,o){return L(n,{selectBackground:o?.selectBackground||m.selectBackground,selectListBackground:o?.selectListBackground||m.selectListBackground,selectForeground:o?.selectForeground||m.selectForeground,decoratorRightForeground:o?.pickerGroupForeground||m.pickerGroupForeground,selectBorder:o?.selectBorder||m.selectBorder,focusBorder:o?.focusBorder||m.focusBorder,listFocusBackground:o?.listFocusBackground||m.quickInputListFocusBackground,listInactiveSelectionIconForeground:o?.listInactiveSelectionIconForeground||m.quickInputListFocusIconForeground,listFocusForeground:o?.listFocusForeground||m.quickInputListFocusForeground,listFocusOutline:o?.listFocusOutline||(l=>(0,k.isHighContrast)(l.type)?m.activeContrastBorder:w.Color.transparent),listHoverBackground:o?.listHoverBackground||m.listHoverBackground,listHoverForeground:o?.listHoverForeground||m.listHoverForeground,listHoverOutline:o?.listFocusOutline||m.activeContrastBorder,selectListBorder:o?.selectListBorder||m.editorWidgetBorder},i)}e.attachSelectBoxStyler=C;function h(i,n,o){return L(n,Object.assign(Object.assign({},e.defaultListStyles),o||{}),i)}e.attachListStyler=h,e.defaultListStyles={listFocusBackground:m.listFocusBackground,listFocusForeground:m.listFocusForeground,listFocusOutline:m.listFocusOutline,listActiveSelectionBackground:m.listActiveSelectionBackground,listActiveSelectionForeground:m.listActiveSelectionForeground,listActiveSelectionIconForeground:m.listActiveSelectionIconForeground,listFocusAndSelectionOutline:m.listFocusAndSelectionOutline,listFocusAndSelectionBackground:m.listActiveSelectionBackground,listFocusAndSelectionForeground:m.listActiveSelectionForeground,listInactiveSelectionBackground:m.listInactiveSelectionBackground,listInactiveSelectionIconForeground:m.listInactiveSelectionIconForeground,listInactiveSelectionForeground:m.listInactiveSelectionForeground,listInactiveFocusBackground:m.listInactiveFocusBackground,listInactiveFocusOutline:m.listInactiveFocusOutline,listHoverBackground:m.listHoverBackground,listHoverForeground:m.listHoverForeground,listDropBackground:m.listDropBackground,listSelectionOutline:m.activeContrastBorder,listHoverOutline:m.activeContrastBorder,listFilterWidgetBackground:m.listFilterWidgetBackground,listFilterWidgetOutline:m.listFilterWidgetOutline,listFilterWidgetNoMatchesOutline:m.listFilterWidgetNoMatchesOutline,listFilterWidgetShadow:m.listFilterWidgetShadow,treeIndentGuidesStroke:m.treeIndentGuidesStroke,tableColumnsBorder:m.tableColumnsBorder,tableOddRowsBackgroundColor:m.tableOddRowsBackgroundColor,inputActiveOptionBorder:m.inputActiveOptionBorder,inputActiveOptionForeground:m.inputActiveOptionForeground,inputActiveOptionBackground:m.inputActiveOptionBackground,inputBackground:m.inputBackground,inputForeground:m.inputForeground,inputBorder:m.inputBorder,inputValidationInfoBackground:m.inputValidationInfoBackground,inputValidationInfoForeground:m.inputValidationInfoForeground,inputValidationInfoBorder:m.inputValidationInfoBorder,inputValidationWarningBackground:m.inputValidationWarningBackground,inputValidationWarningForeground:m.inputValidationWarningForeground,inputValidationWarningBorder:m.inputValidationWarningBorder,inputValidationErrorBackground:m.inputValidationErrorBackground,inputValidationErrorForeground:m.inputValidationErrorForeground,inputValidationErrorBorder:m.inputValidationErrorBorder};function g(i,n,o){return L(i,n,o)}e.attachStylerCallback=g,e.defaultMenuStyles={shadowColor:m.widgetShadow,borderColor:m.menuBorder,foregroundColor:m.menuForeground,backgroundColor:m.menuBackground,selectionForegroundColor:m.menuSelectionForeground,selectionBackgroundColor:m.menuSelectionBackground,selectionBorderColor:m.menuSelectionBorder,separatorColor:m.menuSeparatorBackground,scrollbarShadow:m.scrollbarShadow,scrollbarSliderBackground:m.scrollbarSliderBackground,scrollbarSliderHoverBackground:m.scrollbarSliderHoverBackground,scrollbarSliderActiveBackground:m.scrollbarSliderActiveBackground};function t(i,n,o){return L(n,Object.assign(Object.assign({},e.defaultMenuStyles),o),i)}e.attachMenuStyler=t}),define(se[691],re([1,0,7,65,511,43,14,2,121]),function(q,e,w,m,k,D,L,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextMenuHandler=void 0;class h{constructor(t,i,n,o,l){this.contextViewService=t,this.telemetryService=i,this.notificationService=n,this.keybindingService=o,this.themeService=l,this.focusToReturn=null,this.block=null,this.options={blockMouse:!0}}configure(t){this.options=t}showContextMenu(t){const i=t.getActions();if(!i.length)return;this.focusToReturn=document.activeElement;let n;const o=(0,w.isHTMLElement)(t.domForShadowRoot)?t.domForShadowRoot:void 0;this.contextViewService.showContextView({getAnchor:()=>t.getAnchor(),canRelayout:!1,anchorAlignment:t.anchorAlignment,anchorAxisAlignment:t.anchorAxisAlignment,render:l=>{const c=t.getMenuClassName?t.getMenuClassName():"";c&&(l.className+=" "+c),this.options.blockMouse&&(this.block=l.appendChild((0,w.$)(".context-view-block")),this.block.style.position="fixed",this.block.style.cursor="initial",this.block.style.left="0",this.block.style.top="0",this.block.style.width="100%",this.block.style.height="100%",this.block.style.zIndex="-1",(0,w.addDisposableListener)(this.block,w.EventType.MOUSE_DOWN,s=>s.stopPropagation()));const d=new b.DisposableStore,r=t.actionRunner||new D.ActionRunner;return r.onWillRun(this.onActionRun,this,d),r.onDidRun(this.onDidActionRun,this,d),n=new k.Menu(l,i,{actionViewItemProvider:t.getActionViewItem,context:t.getActionsContext?t.getActionsContext():null,actionRunner:r,getKeyBinding:t.getKeyBinding?t.getKeyBinding:s=>this.keybindingService.lookupKeybinding(s.id)}),d.add((0,C.attachMenuStyler)(n,this.themeService)),n.onDidCancel(()=>this.contextViewService.hideContextView(!0),null,d),n.onDidBlur(()=>this.contextViewService.hideContextView(!0),null,d),d.add((0,w.addDisposableListener)(window,w.EventType.BLUR,()=>this.contextViewService.hideContextView(!0))),d.add((0,w.addDisposableListener)(window,w.EventType.MOUSE_DOWN,s=>{if(s.defaultPrevented)return;const a=new m.StandardMouseEvent(s);let u=a.target;if(!a.rightButton){for(;u;){if(u===l)return;u=u.parentElement}this.contextViewService.hideContextView(!0)}})),(0,b.combinedDisposable)(d,n)},focus:()=>{n?.focus(!!t.autoSelectFirstItem)},onHide:l=>{var c,d;(c=t.onHide)===null||c===void 0||c.call(t,!!l),this.block&&(this.block.remove(),this.block=null),(d=this.focusToReturn)===null||d===void 0||d.focus()}},o,!!o)}onActionRun(t){var i;this.telemetryService.publicLog2("workbenchActionExecuted",{id:t.action.id,from:"contextMenu"}),this.contextViewService.hideContextView(!1),(i=this.focusToReturn)===null||i===void 0||i.focus()}onDidActionRun(t){t.error&&!(0,L.isCancellationError)(t.error)&&this.notificationService.error(t.error)}}e.ContextMenuHandler=h}),define(se[16],re([1,0,27,6,2,9,33,53]),function(q,e,w,m,k,D,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Themable=e.registerThemingParticipant=e.Extensions=e.getThemeTypeSelector=e.ThemeIcon=e.themeColorFromId=e.ThemeColor=e.IThemeService=void 0,e.IThemeService=(0,D.createDecorator)("themeService");var C;(function(c){function d(r){return r&&typeof r=="object"&&typeof r.id=="string"}c.isThemeColor=d})(C=e.ThemeColor||(e.ThemeColor={}));function h(c){return{id:c}}e.themeColorFromId=h;var g;(function(c){function d(v){return v&&typeof v=="object"&&typeof v.id=="string"&&(typeof v.color>"u"||C.isThemeColor(v.color))}c.isThemeIcon=d;const r=new RegExp(`^\\$\\((${w.CSSIcon.iconNameExpression}(?:${w.CSSIcon.iconModifierExpression})?)\\)$`);function s(v){const _=r.exec(v);if(!_)return;const[,y]=_;return{id:y}}c.fromString=s;function a(v){return{id:v}}c.fromId=a;function u(v,_){let y=v.id;const E=y.lastIndexOf("~");return E!==-1&&(y=y.substring(0,E)),_&&(y=`${y}~${_}`),{id:y}}c.modify=u;function p(v){const _=v.id.lastIndexOf("~");if(_!==-1)return v.id.substring(_+1)}c.getModifier=p;function S(v,_){var y,E;return v.id===_.id&&((y=v.color)===null||y===void 0?void 0:y.id)===((E=_.color)===null||E===void 0?void 0:E.id)}c.isEqual=S;function f(v,_){return{id:v.id,color:_?h(_):void 0}}c.asThemeIcon=f,c.asClassNameArray=w.CSSIcon.asClassNameArray,c.asClassName=w.CSSIcon.asClassName,c.asCSSSelector=w.CSSIcon.asCSSSelector})(g=e.ThemeIcon||(e.ThemeIcon={}));function t(c){switch(c){case b.ColorScheme.DARK:return"vs-dark";case b.ColorScheme.HIGH_CONTRAST_DARK:return"hc-black";case b.ColorScheme.HIGH_CONTRAST_LIGHT:return"hc-light";default:return"vs"}}e.getThemeTypeSelector=t,e.Extensions={ThemingContribution:"base.contributions.theming"};class i{constructor(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new m.Emitter}onColorThemeChange(d){return this.themingParticipants.push(d),this.onThemingParticipantAddedEmitter.fire(d),(0,k.toDisposable)(()=>{const r=this.themingParticipants.indexOf(d);this.themingParticipants.splice(r,1)})}getThemingParticipants(){return this.themingParticipants}}const n=new i;L.Registry.add(e.Extensions.ThemingContribution,n);function o(c){return n.onColorThemeChange(c)}e.registerThemingParticipant=o;class l extends k.Disposable{constructor(d){super(),this.themeService=d,this.theme=d.getColorTheme(),this._register(this.themeService.onDidColorThemeChange(r=>this.onThemeChange(r)))}onThemeChange(d){this.theme=d,this.updateStyles()}updateStyles(){}}e.Themable=l}),define(se[692],re([1,0,6,2,58,16]),function(q,e,w,m,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalStyleSheet=e.AbstractCodeEditorService=void 0;let L=class extends m.Disposable{constructor(h){super(),this._themeService=h,this._onCodeEditorAdd=this._register(new w.Emitter),this.onCodeEditorAdd=this._onCodeEditorAdd.event,this._onCodeEditorRemove=this._register(new w.Emitter),this.onCodeEditorRemove=this._onCodeEditorRemove.event,this._onDiffEditorAdd=this._register(new w.Emitter),this.onDiffEditorAdd=this._onDiffEditorAdd.event,this._onDiffEditorRemove=this._register(new w.Emitter),this.onDiffEditorRemove=this._onDiffEditorRemove.event,this._decorationOptionProviders=new Map,this._codeEditorOpenHandlers=new k.LinkedList,this._modelProperties=new Map,this._codeEditors=Object.create(null),this._diffEditors=Object.create(null),this._globalStyleSheet=null}addCodeEditor(h){this._codeEditors[h.getId()]=h,this._onCodeEditorAdd.fire(h)}removeCodeEditor(h){delete this._codeEditors[h.getId()]&&this._onCodeEditorRemove.fire(h)}listCodeEditors(){return Object.keys(this._codeEditors).map(h=>this._codeEditors[h])}addDiffEditor(h){this._diffEditors[h.getId()]=h,this._onDiffEditorAdd.fire(h)}removeDiffEditor(h){delete this._diffEditors[h.getId()]&&this._onDiffEditorRemove.fire(h)}listDiffEditors(){return Object.keys(this._diffEditors).map(h=>this._diffEditors[h])}getFocusedCodeEditor(){let h=null;const g=this.listCodeEditors();for(const t of g){if(t.hasTextFocus())return t;t.hasWidgetFocus()&&(h=t)}return h}removeDecorationType(h){const g=this._decorationOptionProviders.get(h);g&&(g.refCount--,g.refCount<=0&&(this._decorationOptionProviders.delete(h),g.dispose(),this.listCodeEditors().forEach(t=>t.removeDecorationsByType(h))))}setModelProperty(h,g,t){const i=h.toString();let n;this._modelProperties.has(i)?n=this._modelProperties.get(i):(n=new Map,this._modelProperties.set(i,n)),n.set(g,t)}getModelProperty(h,g){const t=h.toString();if(this._modelProperties.has(t))return this._modelProperties.get(t).get(g)}openCodeEditor(h,g,t){return Se(this,void 0,void 0,function*(){for(const i of this._codeEditorOpenHandlers){const n=yield i(h,g,t);if(n!==null)return n}return null})}registerCodeEditorOpenHandler(h){const g=this._codeEditorOpenHandlers.unshift(h);return(0,m.toDisposable)(g)}};L=De([fe(0,D.IThemeService)],L),e.AbstractCodeEditorService=L;class b{constructor(h){this._styleSheet=h}}e.GlobalStyleSheet=b}),define(se[693],re([1,0,7,35,76,48,16,23]),function(q,e,w,m,k,D,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorScrollbar=void 0;class C extends D.ViewPart{constructor(g,t,i,n){super(g);const o=this._context.configuration.options,l=o.get(93),c=o.get(68),d=o.get(35),r=o.get(96),s={listenOnDomNode:i.domNode,className:"editor-scrollable "+(0,L.getThemeTypeSelector)(g.theme.type),useShadows:!1,lazyRender:!0,vertical:l.vertical,horizontal:l.horizontal,verticalHasArrows:l.verticalHasArrows,horizontalHasArrows:l.horizontalHasArrows,verticalScrollbarSize:l.verticalScrollbarSize,verticalSliderSize:l.verticalSliderSize,horizontalScrollbarSize:l.horizontalScrollbarSize,horizontalSliderSize:l.horizontalSliderSize,handleMouseWheel:l.handleMouseWheel,alwaysConsumeMouseWheel:l.alwaysConsumeMouseWheel,arrowSize:l.arrowSize,mouseWheelScrollSensitivity:c,fastScrollSensitivity:d,scrollPredominantAxis:r,scrollByPage:l.scrollByPage};this.scrollbar=this._register(new k.SmoothScrollableElement(t.domNode,s,this._context.viewLayout.getScrollable())),D.PartFingerprints.write(this.scrollbar.getDomNode(),5),this.scrollbarDomNode=(0,m.createFastDomNode)(this.scrollbar.getDomNode()),this.scrollbarDomNode.setPosition("absolute"),this._setLayout();const a=(u,p,S)=>{const f={};if(p){const v=u.scrollTop;v&&(f.scrollTop=this._context.viewLayout.getCurrentScrollTop()+v,u.scrollTop=0)}if(S){const v=u.scrollLeft;v&&(f.scrollLeft=this._context.viewLayout.getCurrentScrollLeft()+v,u.scrollLeft=0)}this._context.viewModel.viewLayout.setScrollPosition(f,1)};this._register(w.addDisposableListener(i.domNode,"scroll",u=>a(i.domNode,!0,!0))),this._register(w.addDisposableListener(t.domNode,"scroll",u=>a(t.domNode,!0,!1))),this._register(w.addDisposableListener(n.domNode,"scroll",u=>a(n.domNode,!0,!1))),this._register(w.addDisposableListener(this.scrollbarDomNode.domNode,"scroll",u=>a(this.scrollbarDomNode.domNode,!0,!1)))}dispose(){super.dispose()}_setLayout(){const g=this._context.configuration.options,t=g.get(133);this.scrollbarDomNode.setLeft(t.contentLeft),g.get(66).side==="right"?this.scrollbarDomNode.setWidth(t.contentWidth+t.minimap.minimapWidth):this.scrollbarDomNode.setWidth(t.contentWidth),this.scrollbarDomNode.setHeight(t.height)}getOverviewRulerLayoutInfo(){return this.scrollbar.getOverviewRulerLayoutInfo()}getDomNode(){return this.scrollbarDomNode}delegateVerticalScrollbarPointerDown(g){this.scrollbar.delegateVerticalScrollbarPointerDown(g)}onConfigurationChanged(g){if(g.hasChanged(93)||g.hasChanged(68)||g.hasChanged(35)){const t=this._context.configuration.options,i=t.get(93),n=t.get(68),o=t.get(35),l=t.get(96),c={vertical:i.vertical,horizontal:i.horizontal,verticalScrollbarSize:i.verticalScrollbarSize,horizontalScrollbarSize:i.horizontalScrollbarSize,scrollByPage:i.scrollByPage,handleMouseWheel:i.handleMouseWheel,mouseWheelScrollSensitivity:n,fastScrollSensitivity:o,scrollPredominantAxis:l};this.scrollbar.updateOptions(c)}return g.hasChanged(133)&&this._setLayout(),!0}onScrollChanged(g){return!0}onThemeChanged(g){return this.scrollbar.updateClassName("editor-scrollable "+(0,L.getThemeTypeSelector)(this._context.theme.type)),!0}prepareRender(g){}render(g){this.scrollbar.renderNow()}}e.EditorScrollbar=C,(0,L.registerThemingParticipant)((h,g)=>{const t=h.getColor(b.scrollbarShadow);t&&g.addRule(`
			.monaco-scrollable-element > .shadow.top {
				box-shadow: ${t} 0 6px 6px -6px inset;
			}

			.monaco-scrollable-element > .shadow.left {
				box-shadow: ${t} 6px 0 6px -6px inset;
			}

			.monaco-scrollable-element > .shadow.top.left {
				box-shadow: ${t} 6px 6px 6px -6px inset;
			}
		`);const i=h.getColor(b.scrollbarSliderBackground);i&&g.addRule(`
			.monaco-scrollable-element > .scrollbar > .slider {
				background: ${i};
			}
		`);const n=h.getColor(b.scrollbarSliderHoverBackground);n&&g.addRule(`
			.monaco-scrollable-element > .scrollbar > .slider:hover {
				background: ${n};
			}
		`);const o=h.getColor(b.scrollbarSliderActiveBackground);o&&g.addRule(`
			.monaco-scrollable-element > .scrollbar > .slider.active {
				background: ${o};
			}
		`)})}),define(se[694],re([1,0,7,35,135,2,17,8,208,48,38,3,237,281,75,23,16,24,60,415,47,98,371]),function(q,e,w,m,k,D,L,b,C,h,g,t,i,n,o,l,c,d,r,s,a,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Minimap=void 0;const p=140,S=2;class f{constructor(M,N,A){const B=M.options,W=B.get(131),x=B.get(133),P=x.minimap,X=B.get(45),ie=B.get(66);this.renderMinimap=P.renderMinimap,this.size=ie.size,this.minimapHeightIsEditorHeight=P.minimapHeightIsEditorHeight,this.scrollBeyondLastLine=B.get(95),this.showSlider=ie.showSlider,this.autohide=ie.autohide,this.pixelRatio=W,this.typicalHalfwidthCharacterWidth=X.typicalHalfwidthCharacterWidth,this.lineHeight=B.get(60),this.minimapLeft=P.minimapLeft,this.minimapWidth=P.minimapWidth,this.minimapHeight=x.height,this.canvasInnerWidth=P.minimapCanvasInnerWidth,this.canvasInnerHeight=P.minimapCanvasInnerHeight,this.canvasOuterWidth=P.minimapCanvasOuterWidth,this.canvasOuterHeight=P.minimapCanvasOuterHeight,this.isSampling=P.minimapIsSampling,this.editorHeight=x.height,this.fontScale=P.minimapScale,this.minimapLineHeight=P.minimapLineHeight,this.minimapCharWidth=1*this.fontScale,this.charRenderer=(0,u.once)(()=>s.MinimapCharRendererFactory.create(this.fontScale,X.fontFamily)),this.defaultBackgroundColor=A.getColor(2),this.backgroundColor=f._getMinimapBackground(N,this.defaultBackgroundColor),this.foregroundAlpha=f._getMinimapForegroundOpacity(N)}static _getMinimapBackground(M,N){const A=M.getColor(l.minimapBackground);return A?new i.RGBA8(A.rgba.r,A.rgba.g,A.rgba.b,Math.round(255*A.rgba.a)):N}static _getMinimapForegroundOpacity(M){const N=M.getColor(l.minimapForegroundOpacity);return N?i.RGBA8._clamp(Math.round(255*N.rgba.a)):255}equals(M){return this.renderMinimap===M.renderMinimap&&this.size===M.size&&this.minimapHeightIsEditorHeight===M.minimapHeightIsEditorHeight&&this.scrollBeyondLastLine===M.scrollBeyondLastLine&&this.showSlider===M.showSlider&&this.autohide===M.autohide&&this.pixelRatio===M.pixelRatio&&this.typicalHalfwidthCharacterWidth===M.typicalHalfwidthCharacterWidth&&this.lineHeight===M.lineHeight&&this.minimapLeft===M.minimapLeft&&this.minimapWidth===M.minimapWidth&&this.minimapHeight===M.minimapHeight&&this.canvasInnerWidth===M.canvasInnerWidth&&this.canvasInnerHeight===M.canvasInnerHeight&&this.canvasOuterWidth===M.canvasOuterWidth&&this.canvasOuterHeight===M.canvasOuterHeight&&this.isSampling===M.isSampling&&this.editorHeight===M.editorHeight&&this.fontScale===M.fontScale&&this.minimapLineHeight===M.minimapLineHeight&&this.minimapCharWidth===M.minimapCharWidth&&this.defaultBackgroundColor&&this.defaultBackgroundColor.equals(M.defaultBackgroundColor)&&this.backgroundColor&&this.backgroundColor.equals(M.backgroundColor)&&this.foregroundAlpha===M.foregroundAlpha}}class v{constructor(M,N,A,B,W,x,P,X){this.scrollTop=M,this.scrollHeight=N,this.sliderNeeded=A,this._computedSliderRatio=B,this.sliderTop=W,this.sliderHeight=x,this.startLineNumber=P,this.endLineNumber=X}getDesiredScrollTopFromDelta(M){return Math.round(this.scrollTop+M/this._computedSliderRatio)}getDesiredScrollTopFromTouchLocation(M){return Math.round((M-this.sliderHeight/2)/this._computedSliderRatio)}static create(M,N,A,B,W,x,P,X,ie,K,G){const Q=M.pixelRatio,ne=M.minimapLineHeight,Z=Math.floor(M.canvasInnerHeight/ne),ee=M.lineHeight;if(M.minimapHeightIsEditorHeight){const ae=X*M.lineHeight+(M.scrollBeyondLastLine?W-M.lineHeight:0),z=Math.max(1,Math.floor(W*W/ae)),J=Math.max(0,M.minimapHeight-z),Y=J/(K-W),H=ie*Y,j=J>0,de=Math.floor(M.canvasInnerHeight/M.minimapLineHeight);return new v(ie,K,j,Y,H,z,1,Math.min(P,de))}let le;if(x&&A!==P){const ae=A-N+1;le=Math.floor(ae*ne/Q)}else{const ae=W/ee;le=Math.floor(ae*ne/Q)}let V;M.scrollBeyondLastLine?V=(P-1)*ne/Q:V=Math.max(0,P*ne/Q-le),V=Math.min(M.minimapHeight-le,V);const $=V/(K-W),oe=ie*$;let U=0;if(M.scrollBeyondLastLine&&(U=W/ee-1),Z>=P+U){const z=P,J=V>0;return new v(ie,K,J,$,oe,le,1,z)}else{let ae=Math.max(1,Math.floor(N-oe*Q/ne));G&&G.scrollHeight===K&&(G.scrollTop>ie&&(ae=Math.min(ae,G.startLineNumber)),G.scrollTop<ie&&(ae=Math.max(ae,G.startLineNumber)));const z=Math.min(P,ae+Z-1),J=(ie-B)/ee,Y=(N-ae+J)*ne/Q;return new v(ie,K,!0,$,Y,le,ae,z)}}}class _{constructor(M){this.dy=M}onContentChanged(){this.dy=-1}onTokensChanged(){this.dy=-1}}_.INVALID=new _(-1);class y{constructor(M,N,A){this.renderedLayout=M,this._imageData=N,this._renderedLines=new C.RenderedLinesCollection(()=>_.INVALID),this._renderedLines._set(M.startLineNumber,A)}linesEquals(M){if(!this.scrollEquals(M))return!1;const A=this._renderedLines._get().lines;for(let B=0,W=A.length;B<W;B++)if(A[B].dy===-1)return!1;return!0}scrollEquals(M){return this.renderedLayout.startLineNumber===M.startLineNumber&&this.renderedLayout.endLineNumber===M.endLineNumber}_get(){const M=this._renderedLines._get();return{imageData:this._imageData,rendLineNumberStart:M.rendLineNumberStart,lines:M.lines}}onLinesChanged(M,N){return this._renderedLines.onLinesChanged(M,N)}onLinesDeleted(M,N){this._renderedLines.onLinesDeleted(M,N)}onLinesInserted(M,N){this._renderedLines.onLinesInserted(M,N)}onTokensChanged(M){return this._renderedLines.onTokensChanged(M)}}class E{constructor(M,N,A,B){this._backgroundFillData=E._createBackgroundFillData(N,A,B),this._buffers=[M.createImageData(N,A),M.createImageData(N,A)],this._lastUsedBuffer=0}getBuffer(){this._lastUsedBuffer=1-this._lastUsedBuffer;const M=this._buffers[this._lastUsedBuffer];return M.data.set(this._backgroundFillData),M}static _createBackgroundFillData(M,N,A){const B=A.r,W=A.g,x=A.b,P=A.a,X=new Uint8ClampedArray(M*N*4);let ie=0;for(let K=0;K<N;K++)for(let G=0;G<M;G++)X[ie]=B,X[ie+1]=W,X[ie+2]=x,X[ie+3]=P,ie+=4;return X}}class T{static compute(M,N,A){if(M.renderMinimap===0||!M.isSampling)return[null,[]];const B=M.pixelRatio,W=M.lineHeight,x=M.scrollBeyondLastLine,{minimapLineCount:P}=g.EditorLayoutInfoComputer.computeContainedMinimapLineCount({viewLineCount:N,scrollBeyondLastLine:x,height:M.editorHeight,lineHeight:W,pixelRatio:B}),X=N/P,ie=X/2;if(!A||A.minimapLines.length===0){const oe=[];if(oe[0]=1,P>1){for(let U=0,ae=P-1;U<ae;U++)oe[U]=Math.round(U*X+ie);oe[P-1]=N}return[new T(X,oe),[]]}const K=A.minimapLines,G=K.length,Q=[];let ne=0,Z=0,ee=1;const le=10;let V=[],$=null;for(let oe=0;oe<P;oe++){const U=Math.max(ee,Math.round(oe*X)),ae=Math.max(U,Math.round((oe+1)*X));for(;ne<G&&K[ne]<U;){if(V.length<le){const J=ne+1+Z;$&&$.type==="deleted"&&$._oldIndex===ne-1?$.deleteToLineNumber++:($={type:"deleted",_oldIndex:ne,deleteFromLineNumber:J,deleteToLineNumber:J},V.push($)),Z--}ne++}let z;if(ne<G&&K[ne]<=ae)z=K[ne],ne++;else if(oe===0?z=1:oe+1===P?z=N:z=Math.round(oe*X+ie),V.length<le){const J=ne+1+Z;$&&$.type==="inserted"&&$._i===oe-1?$.insertToLineNumber++:($={type:"inserted",_i:oe,insertFromLineNumber:J,insertToLineNumber:J},V.push($)),Z++}Q[oe]=z,ee=z}if(V.length<le)for(;ne<G;){const oe=ne+1+Z;$&&$.type==="deleted"&&$._oldIndex===ne-1?$.deleteToLineNumber++:($={type:"deleted",_oldIndex:ne,deleteFromLineNumber:oe,deleteToLineNumber:oe},V.push($)),Z--,ne++}else V=[{type:"flush"}];return[new T(X,Q),V]}constructor(M,N){this.samplingRatio=M,this.minimapLines=N}modelLineToMinimapLine(M){return Math.min(this.minimapLines.length,Math.max(1,Math.round(M/this.samplingRatio)))}modelLineRangeToMinimapLineRange(M,N){let A=this.modelLineToMinimapLine(M)-1;for(;A>0&&this.minimapLines[A-1]>=M;)A--;let B=this.modelLineToMinimapLine(N)-1;for(;B+1<this.minimapLines.length&&this.minimapLines[B+1]<=N;)B++;if(A===B){const W=this.minimapLines[A];if(W<M||W>N)return null}return[A+1,B+1]}decorationLineRangeToMinimapLineRange(M,N){let A=this.modelLineToMinimapLine(M),B=this.modelLineToMinimapLine(N);return M!==N&&B===A&&(B===this.minimapLines.length?A>1&&A--:B++),[A,B]}onLinesDeleted(M){const N=M.toLineNumber-M.fromLineNumber+1;let A=this.minimapLines.length,B=0;for(let W=this.minimapLines.length-1;W>=0&&!(this.minimapLines[W]<M.fromLineNumber);W--)this.minimapLines[W]<=M.toLineNumber?(this.minimapLines[W]=Math.max(1,M.fromLineNumber-1),A=Math.min(A,W),B=Math.max(B,W)):this.minimapLines[W]-=N;return[A,B]}onLinesInserted(M){const N=M.toLineNumber-M.fromLineNumber+1;for(let A=this.minimapLines.length-1;A>=0&&!(this.minimapLines[A]<M.fromLineNumber);A--)this.minimapLines[A]+=N}}class I extends h.ViewPart{constructor(M){super(M),this.tokensColorTracker=n.MinimapTokensColorTracker.getInstance(),this._selections=[],this._minimapSelections=null,this.options=new f(this._context.configuration,this._context.theme,this.tokensColorTracker);const[N]=T.compute(this.options,this._context.viewModel.getLineCount(),null);this._samplingState=N,this._shouldCheckSampling=!1,this._actual=new R(M.theme,this)}dispose(){this._actual.dispose(),super.dispose()}getDomNode(){return this._actual.getDomNode()}_onOptionsMaybeChanged(){const M=new f(this._context.configuration,this._context.theme,this.tokensColorTracker);return this.options.equals(M)?!1:(this.options=M,this._recreateLineSampling(),this._actual.onDidChangeOptions(),!0)}onConfigurationChanged(M){return this._onOptionsMaybeChanged()}onCursorStateChanged(M){return this._selections=M.selections,this._minimapSelections=null,this._actual.onSelectionChanged()}onDecorationsChanged(M){return M.affectsMinimap?this._actual.onDecorationsChanged():!1}onFlushed(M){return this._samplingState&&(this._shouldCheckSampling=!0),this._actual.onFlushed()}onLinesChanged(M){if(this._samplingState){const N=this._samplingState.modelLineRangeToMinimapLineRange(M.fromLineNumber,M.fromLineNumber+M.count-1);return N?this._actual.onLinesChanged(N[0],N[1]-N[0]+1):!1}else return this._actual.onLinesChanged(M.fromLineNumber,M.count)}onLinesDeleted(M){if(this._samplingState){const[N,A]=this._samplingState.onLinesDeleted(M);return N<=A&&this._actual.onLinesChanged(N+1,A-N+1),this._shouldCheckSampling=!0,!0}else return this._actual.onLinesDeleted(M.fromLineNumber,M.toLineNumber)}onLinesInserted(M){return this._samplingState?(this._samplingState.onLinesInserted(M),this._shouldCheckSampling=!0,!0):this._actual.onLinesInserted(M.fromLineNumber,M.toLineNumber)}onScrollChanged(M){return this._actual.onScrollChanged()}onThemeChanged(M){return this._actual.onThemeChanged(),this._onOptionsMaybeChanged(),!0}onTokensChanged(M){if(this._samplingState){const N=[];for(const A of M.ranges){const B=this._samplingState.modelLineRangeToMinimapLineRange(A.fromLineNumber,A.toLineNumber);B&&N.push({fromLineNumber:B[0],toLineNumber:B[1]})}return N.length?this._actual.onTokensChanged(N):!1}else return this._actual.onTokensChanged(M.ranges)}onTokensColorsChanged(M){return this._onOptionsMaybeChanged(),this._actual.onTokensColorsChanged()}onZonesChanged(M){return this._actual.onZonesChanged()}prepareRender(M){this._shouldCheckSampling&&(this._shouldCheckSampling=!1,this._recreateLineSampling())}render(M){let N=M.visibleRange.startLineNumber,A=M.visibleRange.endLineNumber;this._samplingState&&(N=this._samplingState.modelLineToMinimapLine(N),A=this._samplingState.modelLineToMinimapLine(A));const B={viewportContainsWhitespaceGaps:M.viewportData.whitespaceViewportData.length>0,scrollWidth:M.scrollWidth,scrollHeight:M.scrollHeight,viewportStartLineNumber:N,viewportEndLineNumber:A,viewportStartLineNumberVerticalOffset:M.getVerticalOffsetForLineNumber(N),scrollTop:M.scrollTop,scrollLeft:M.scrollLeft,viewportWidth:M.viewportWidth,viewportHeight:M.viewportHeight};this._actual.render(B)}_recreateLineSampling(){this._minimapSelections=null;const M=Boolean(this._samplingState),[N,A]=T.compute(this.options,this._context.viewModel.getLineCount(),this._samplingState);if(this._samplingState=N,M&&this._samplingState)for(const B of A)switch(B.type){case"deleted":this._actual.onLinesDeleted(B.deleteFromLineNumber,B.deleteToLineNumber);break;case"inserted":this._actual.onLinesInserted(B.insertFromLineNumber,B.insertToLineNumber);break;case"flush":this._actual.onFlushed();break}}getLineCount(){return this._samplingState?this._samplingState.minimapLines.length:this._context.viewModel.getLineCount()}getRealLineCount(){return this._context.viewModel.getLineCount()}getLineContent(M){return this._samplingState?this._context.viewModel.getLineContent(this._samplingState.minimapLines[M-1]):this._context.viewModel.getLineContent(M)}getLineMaxColumn(M){return this._samplingState?this._context.viewModel.getLineMaxColumn(this._samplingState.minimapLines[M-1]):this._context.viewModel.getLineMaxColumn(M)}getMinimapLinesRenderingData(M,N,A){if(this._samplingState){const B=[];for(let W=0,x=N-M+1;W<x;W++)A[W]?B[W]=this._context.viewModel.getViewLineData(this._samplingState.minimapLines[M+W-1]):B[W]=null;return B}return this._context.viewModel.getMinimapLinesRenderingData(M,N,A).data}getSelections(){if(this._minimapSelections===null)if(this._samplingState){this._minimapSelections=[];for(const M of this._selections){const[N,A]=this._samplingState.decorationLineRangeToMinimapLineRange(M.startLineNumber,M.endLineNumber);this._minimapSelections.push(new d.Selection(N,M.startColumn,A,M.endColumn))}}else this._minimapSelections=this._selections;return this._minimapSelections}getMinimapDecorationsInViewport(M,N){let A;if(this._samplingState){const W=this._samplingState.minimapLines[M-1],x=this._samplingState.minimapLines[N-1];A=new t.Range(W,1,x,this._context.viewModel.getLineMaxColumn(x))}else A=new t.Range(M,1,N,this._context.viewModel.getLineMaxColumn(N));const B=this._context.viewModel.getDecorationsInViewport(A,!0);if(this._samplingState){const W=[];for(const x of B){if(!x.options.minimap)continue;const P=x.range,X=this._samplingState.modelLineToMinimapLine(P.startLineNumber),ie=this._samplingState.modelLineToMinimapLine(P.endLineNumber);W.push(new o.ViewModelDecoration(new t.Range(X,P.startColumn,ie,P.endColumn),x.options))}return W}return B}getOptions(){return this._context.viewModel.model.getOptions()}revealLineNumber(M){this._samplingState&&(M=this._samplingState.minimapLines[M-1]),this._context.viewModel.revealRange("mouse",!1,new t.Range(M,1,M,1),1,0)}setScrollTop(M){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:M},1)}}e.Minimap=I;class R extends D.Disposable{constructor(M,N){super(),this._renderDecorations=!1,this._gestureInProgress=!1,this._theme=M,this._model=N,this._lastRenderData=null,this._buffers=null,this._selectionColor=this._theme.getColor(l.minimapSelection),this._domNode=(0,m.createFastDomNode)(document.createElement("div")),h.PartFingerprints.write(this._domNode,8),this._domNode.setClassName(this._getMinimapDomNodeClassName()),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._shadow=(0,m.createFastDomNode)(document.createElement("div")),this._shadow.setClassName("minimap-shadow-hidden"),this._domNode.appendChild(this._shadow),this._canvas=(0,m.createFastDomNode)(document.createElement("canvas")),this._canvas.setPosition("absolute"),this._canvas.setLeft(0),this._domNode.appendChild(this._canvas),this._decorationsCanvas=(0,m.createFastDomNode)(document.createElement("canvas")),this._decorationsCanvas.setPosition("absolute"),this._decorationsCanvas.setClassName("minimap-decorations-layer"),this._decorationsCanvas.setLeft(0),this._domNode.appendChild(this._decorationsCanvas),this._slider=(0,m.createFastDomNode)(document.createElement("div")),this._slider.setPosition("absolute"),this._slider.setClassName("minimap-slider"),this._slider.setLayerHinting(!0),this._slider.setContain("strict"),this._domNode.appendChild(this._slider),this._sliderHorizontal=(0,m.createFastDomNode)(document.createElement("div")),this._sliderHorizontal.setPosition("absolute"),this._sliderHorizontal.setClassName("minimap-slider-horizontal"),this._slider.appendChild(this._sliderHorizontal),this._applyLayout(),this._pointerDownListener=w.addStandardDisposableListener(this._domNode.domNode,w.EventType.POINTER_DOWN,A=>{if(A.preventDefault(),this._model.options.renderMinimap===0||!this._lastRenderData)return;if(this._model.options.size!=="proportional"){if(A.button===0&&this._lastRenderData){const ie=w.getDomNodePagePosition(this._slider.domNode),K=ie.top+ie.height/2;this._startSliderDragging(A,K,this._lastRenderData.renderedLayout)}return}const W=this._model.options.minimapLineHeight,x=this._model.options.canvasInnerHeight/this._model.options.canvasOuterHeight*A.offsetY;let X=Math.floor(x/W)+this._lastRenderData.renderedLayout.startLineNumber;X=Math.min(X,this._model.getLineCount()),this._model.revealLineNumber(X)}),this._sliderPointerMoveMonitor=new k.GlobalPointerMoveMonitor,this._sliderPointerDownListener=w.addStandardDisposableListener(this._slider.domNode,w.EventType.POINTER_DOWN,A=>{A.preventDefault(),A.stopPropagation(),A.button===0&&this._lastRenderData&&this._startSliderDragging(A,A.pageY,this._lastRenderData.renderedLayout)}),this._gestureDisposable=r.Gesture.addTarget(this._domNode.domNode),this._sliderTouchStartListener=w.addDisposableListener(this._domNode.domNode,r.EventType.Start,A=>{A.preventDefault(),A.stopPropagation(),this._lastRenderData&&(this._slider.toggleClassName("active",!0),this._gestureInProgress=!0,this.scrollDueToTouchEvent(A))},{passive:!1}),this._sliderTouchMoveListener=w.addDisposableListener(this._domNode.domNode,r.EventType.Change,A=>{A.preventDefault(),A.stopPropagation(),this._lastRenderData&&this._gestureInProgress&&this.scrollDueToTouchEvent(A)},{passive:!1}),this._sliderTouchEndListener=w.addStandardDisposableListener(this._domNode.domNode,r.EventType.End,A=>{A.preventDefault(),A.stopPropagation(),this._gestureInProgress=!1,this._slider.toggleClassName("active",!1)})}_startSliderDragging(M,N,A){if(!M.target||!(M.target instanceof Element))return;const B=M.pageX;this._slider.toggleClassName("active",!0);const W=(x,P)=>{const X=Math.abs(P-B);if(L.isWindows&&X>p){this._model.setScrollTop(A.scrollTop);return}const ie=x-N;this._model.setScrollTop(A.getDesiredScrollTopFromDelta(ie))};M.pageY!==N&&W(M.pageY,B),this._sliderPointerMoveMonitor.startMonitoring(M.target,M.pointerId,M.buttons,x=>W(x.pageY,x.pageX),()=>{this._slider.toggleClassName("active",!1)})}scrollDueToTouchEvent(M){const N=this._domNode.domNode.getBoundingClientRect().top,A=this._lastRenderData.renderedLayout.getDesiredScrollTopFromTouchLocation(M.pageY-N);this._model.setScrollTop(A)}dispose(){this._pointerDownListener.dispose(),this._sliderPointerMoveMonitor.dispose(),this._sliderPointerDownListener.dispose(),this._gestureDisposable.dispose(),this._sliderTouchStartListener.dispose(),this._sliderTouchMoveListener.dispose(),this._sliderTouchEndListener.dispose(),super.dispose()}_getMinimapDomNodeClassName(){const M=["minimap"];return this._model.options.showSlider==="always"?M.push("slider-always"):M.push("slider-mouseover"),this._model.options.autohide&&M.push("autohide"),M.join(" ")}getDomNode(){return this._domNode}_applyLayout(){this._domNode.setLeft(this._model.options.minimapLeft),this._domNode.setWidth(this._model.options.minimapWidth),this._domNode.setHeight(this._model.options.minimapHeight),this._shadow.setHeight(this._model.options.minimapHeight),this._canvas.setWidth(this._model.options.canvasOuterWidth),this._canvas.setHeight(this._model.options.canvasOuterHeight),this._canvas.domNode.width=this._model.options.canvasInnerWidth,this._canvas.domNode.height=this._model.options.canvasInnerHeight,this._decorationsCanvas.setWidth(this._model.options.canvasOuterWidth),this._decorationsCanvas.setHeight(this._model.options.canvasOuterHeight),this._decorationsCanvas.domNode.width=this._model.options.canvasInnerWidth,this._decorationsCanvas.domNode.height=this._model.options.canvasInnerHeight,this._slider.setWidth(this._model.options.minimapWidth)}_getBuffer(){return this._buffers||this._model.options.canvasInnerWidth>0&&this._model.options.canvasInnerHeight>0&&(this._buffers=new E(this._canvas.domNode.getContext("2d"),this._model.options.canvasInnerWidth,this._model.options.canvasInnerHeight,this._model.options.backgroundColor)),this._buffers?this._buffers.getBuffer():null}onDidChangeOptions(){this._lastRenderData=null,this._buffers=null,this._applyLayout(),this._domNode.setClassName(this._getMinimapDomNodeClassName())}onSelectionChanged(){return this._renderDecorations=!0,!0}onDecorationsChanged(){return this._renderDecorations=!0,!0}onFlushed(){return this._lastRenderData=null,!0}onLinesChanged(M,N){return this._lastRenderData?this._lastRenderData.onLinesChanged(M,N):!1}onLinesDeleted(M,N){var A;return(A=this._lastRenderData)===null||A===void 0||A.onLinesDeleted(M,N),!0}onLinesInserted(M,N){var A;return(A=this._lastRenderData)===null||A===void 0||A.onLinesInserted(M,N),!0}onScrollChanged(){return this._renderDecorations=!0,!0}onThemeChanged(){return this._selectionColor=this._theme.getColor(l.minimapSelection),this._renderDecorations=!0,!0}onTokensChanged(M){return this._lastRenderData?this._lastRenderData.onTokensChanged(M):!1}onTokensColorsChanged(){return this._lastRenderData=null,this._buffers=null,!0}onZonesChanged(){return this._lastRenderData=null,!0}render(M){if(this._model.options.renderMinimap===0){this._shadow.setClassName("minimap-shadow-hidden"),this._sliderHorizontal.setWidth(0),this._sliderHorizontal.setHeight(0);return}M.scrollLeft+M.viewportWidth>=M.scrollWidth?this._shadow.setClassName("minimap-shadow-hidden"):this._shadow.setClassName("minimap-shadow-visible");const A=v.create(this._model.options,M.viewportStartLineNumber,M.viewportEndLineNumber,M.viewportStartLineNumberVerticalOffset,M.viewportHeight,M.viewportContainsWhitespaceGaps,this._model.getLineCount(),this._model.getRealLineCount(),M.scrollTop,M.scrollHeight,this._lastRenderData?this._lastRenderData.renderedLayout:null);this._slider.setDisplay(A.sliderNeeded?"block":"none"),this._slider.setTop(A.sliderTop),this._slider.setHeight(A.sliderHeight),this._sliderHorizontal.setLeft(0),this._sliderHorizontal.setWidth(this._model.options.minimapWidth),this._sliderHorizontal.setTop(0),this._sliderHorizontal.setHeight(A.sliderHeight),this.renderDecorations(A),this._lastRenderData=this.renderLines(A)}renderDecorations(M){if(this._renderDecorations){this._renderDecorations=!1;const N=this._model.getSelections();N.sort(t.Range.compareRangesUsingStarts);const A=this._model.getMinimapDecorationsInViewport(M.startLineNumber,M.endLineNumber);A.sort((Q,ne)=>(Q.options.zIndex||0)-(ne.options.zIndex||0));const{canvasInnerWidth:B,canvasInnerHeight:W}=this._model.options,x=this._model.options.minimapLineHeight,P=this._model.options.minimapCharWidth,X=this._model.getOptions().tabSize,ie=this._decorationsCanvas.domNode.getContext("2d");ie.clearRect(0,0,B,W);const K=new F(M.startLineNumber,M.endLineNumber,!1);this._renderSelectionLineHighlights(ie,N,K,M,x),this._renderDecorationsLineHighlights(ie,A,K,M,x);const G=new F(M.startLineNumber,M.endLineNumber,null);this._renderSelectionsHighlights(ie,N,G,M,x,X,P,B),this._renderDecorationsHighlights(ie,A,G,M,x,X,P,B)}}_renderSelectionLineHighlights(M,N,A,B,W){if(!this._selectionColor||this._selectionColor.isTransparent())return;M.fillStyle=this._selectionColor.transparent(.5).toString();let x=0,P=0;for(const X of N){const ie=Math.max(B.startLineNumber,X.startLineNumber),K=Math.min(B.endLineNumber,X.endLineNumber);if(ie>K)continue;for(let ne=ie;ne<=K;ne++)A.set(ne,!0);const G=(ie-B.startLineNumber)*W,Q=(K-B.startLineNumber)*W+W;P>=G||(P>x&&M.fillRect(g.MINIMAP_GUTTER_WIDTH,x,M.canvas.width,P-x),x=G),P=Q}P>x&&M.fillRect(g.MINIMAP_GUTTER_WIDTH,x,M.canvas.width,P-x)}_renderDecorationsLineHighlights(M,N,A,B,W){const x=new Map;for(let P=N.length-1;P>=0;P--){const X=N[P],ie=X.options.minimap;if(!ie||ie.position!==a.MinimapPosition.Inline)continue;const K=Math.max(B.startLineNumber,X.range.startLineNumber),G=Math.min(B.endLineNumber,X.range.endLineNumber);if(K>G)continue;const Q=ie.getColor(this._theme.value);if(!Q||Q.isTransparent())continue;let ne=x.get(Q.toString());ne||(ne=Q.transparent(.5).toString(),x.set(Q.toString(),ne)),M.fillStyle=ne;for(let Z=K;Z<=G;Z++){if(A.has(Z))continue;A.set(Z,!0);const ee=(K-B.startLineNumber)*W;M.fillRect(g.MINIMAP_GUTTER_WIDTH,ee,M.canvas.width,W)}}}_renderSelectionsHighlights(M,N,A,B,W,x,P,X){if(!(!this._selectionColor||this._selectionColor.isTransparent()))for(const ie of N){const K=Math.max(B.startLineNumber,ie.startLineNumber),G=Math.min(B.endLineNumber,ie.endLineNumber);if(!(K>G))for(let Q=K;Q<=G;Q++)this.renderDecorationOnLine(M,A,ie,this._selectionColor,B,Q,W,W,x,P,X)}}_renderDecorationsHighlights(M,N,A,B,W,x,P,X){for(const ie of N){const K=ie.options.minimap;if(!K)continue;const G=Math.max(B.startLineNumber,ie.range.startLineNumber),Q=Math.min(B.endLineNumber,ie.range.endLineNumber);if(G>Q)continue;const ne=K.getColor(this._theme.value);if(!(!ne||ne.isTransparent()))for(let Z=G;Z<=Q;Z++)switch(K.position){case a.MinimapPosition.Inline:this.renderDecorationOnLine(M,A,ie.range,ne,B,Z,W,W,x,P,X);continue;case a.MinimapPosition.Gutter:{const ee=(Z-B.startLineNumber)*W,le=2;this.renderDecoration(M,ne,le,ee,S,W);continue}}}}renderDecorationOnLine(M,N,A,B,W,x,P,X,ie,K,G){const Q=(x-W.startLineNumber)*X;if(Q+P<0||Q>this._model.options.canvasInnerHeight)return;const{startLineNumber:ne,endLineNumber:Z}=A,ee=ne===x?A.startColumn:1,le=Z===x?A.endColumn:this._model.getLineMaxColumn(x),V=this.getXOffsetForPosition(N,x,ee,ie,K,G),$=this.getXOffsetForPosition(N,x,le,ie,K,G);this.renderDecoration(M,B,V,Q,$-V,P)}getXOffsetForPosition(M,N,A,B,W,x){if(A===1)return g.MINIMAP_GUTTER_WIDTH;if((A-1)*W>=x)return x;let X=M.get(N);if(!X){const ie=this._model.getLineContent(N);X=[g.MINIMAP_GUTTER_WIDTH];let K=g.MINIMAP_GUTTER_WIDTH;for(let G=1;G<ie.length+1;G++){const Q=ie.charCodeAt(G-1),ne=Q===9?B*W:b.isFullWidthCharacter(Q)?2*W:W,Z=K+ne;if(Z>=x){X[G]=x;break}X[G]=Z,K=Z}M.set(N,X)}return A-1<X.length?X[A-1]:x}renderDecoration(M,N,A,B,W,x){M.fillStyle=N&&N.toString()||"",M.fillRect(A,B,W,x)}renderLines(M){const N=M.startLineNumber,A=M.endLineNumber,B=this._model.options.minimapLineHeight;if(this._lastRenderData&&this._lastRenderData.linesEquals(M)){const ve=this._lastRenderData._get();return new y(M,ve.imageData,ve.lines)}const W=this._getBuffer();if(!W)return null;const[x,P,X]=R._renderUntouchedLines(W,N,A,B,this._lastRenderData),ie=this._model.getMinimapLinesRenderingData(N,A,X),K=this._model.getOptions().tabSize,G=this._model.options.defaultBackgroundColor,Q=this._model.options.backgroundColor,ne=this._model.options.foregroundAlpha,Z=this._model.tokensColorTracker,ee=Z.backgroundIsLight(),le=this._model.options.renderMinimap,V=this._model.options.charRenderer(),$=this._model.options.fontScale,oe=this._model.options.minimapCharWidth,ae=(le===1?2:2+1)*$,z=B>ae?Math.floor((B-ae)/2):0,J=Q.a/255,Y=new i.RGBA8(Math.round((Q.r-G.r)*J+G.r),Math.round((Q.g-G.g)*J+G.g),Math.round((Q.b-G.b)*J+G.b),255);let H=0;const j=[];for(let ve=0,_e=A-N+1;ve<_e;ve++)X[ve]&&R._renderLine(W,Y,Q.a,ee,le,oe,Z,ne,V,H,z,K,ie[ve],$,B),j[ve]=new _(H),H+=B;const de=x===-1?0:x,ce=(P===-1?W.height:P)-de;return this._canvas.domNode.getContext("2d").putImageData(W,0,0,0,de,W.width,ce),new y(M,W,j)}static _renderUntouchedLines(M,N,A,B,W){const x=[];if(!W){for(let Y=0,H=A-N+1;Y<H;Y++)x[Y]=!0;return[-1,-1,x]}const P=W._get(),X=P.imageData.data,ie=P.rendLineNumberStart,K=P.lines,G=K.length,Q=M.width,ne=M.data,Z=(A-N+1)*B*Q*4;let ee=-1,le=-1,V=-1,$=-1,oe=-1,U=-1,ae=0;for(let Y=N;Y<=A;Y++){const H=Y-N,j=Y-ie,de=j>=0&&j<G?K[j].dy:-1;if(de===-1){x[H]=!0,ae+=B;continue}const ue=de*Q*4,ce=(de+B)*Q*4,ge=ae*Q*4,ve=(ae+B)*Q*4;$===ue&&U===ge?($=ce,U=ve):(V!==-1&&(ne.set(X.subarray(V,$),oe),ee===-1&&V===0&&V===oe&&(ee=$),le===-1&&$===Z&&V===oe&&(le=V)),V=ue,$=ce,oe=ge,U=ve),x[H]=!1,ae+=B}V!==-1&&(ne.set(X.subarray(V,$),oe),ee===-1&&V===0&&V===oe&&(ee=$),le===-1&&$===Z&&V===oe&&(le=V));const z=ee===-1?-1:ee/(Q*4),J=le===-1?-1:le/(Q*4);return[z,J,x]}static _renderLine(M,N,A,B,W,x,P,X,ie,K,G,Q,ne,Z,ee){const le=ne.content,V=ne.tokens,$=M.width-x,oe=ee===1;let U=g.MINIMAP_GUTTER_WIDTH,ae=0,z=0;for(let J=0,Y=V.getCount();J<Y;J++){const H=V.getEndOffset(J),j=V.getForeground(J),de=P.getColor(j);for(;ae<H;ae++){if(U>$)return;const ue=le.charCodeAt(ae);if(ue===9){const ce=Q-(ae+z)%Q;z+=ce-1,U+=ce*x}else if(ue===32)U+=x;else{const ce=b.isFullWidthCharacter(ue)?2:1;for(let ge=0;ge<ce;ge++)if(W===2?ie.blockRenderChar(M,U,K+G,de,X,N,A,oe):ie.renderChar(M,U,K+G,ue,de,X,N,A,Z,B,oe),U+=x,U>$)return}}}}}class F{constructor(M,N,A){this._startLineNumber=M,this._endLineNumber=N,this._defaultValue=A,this._values=[];for(let B=0,W=this._endLineNumber-this._startLineNumber+1;B<W;B++)this._values[B]=A}has(M){return this.get(M)!==this._defaultValue}set(M,N){M<this._startLineNumber||M>this._endLineNumber||(this._values[M-this._startLineNumber]=N)}get(M){return M<this._startLineNumber||M>this._endLineNumber?this._defaultValue:this._values[M-this._startLineNumber]}}(0,c.registerThemingParticipant)((O,M)=>{const N=O.getColor(l.minimapSliderBackground);N&&M.addRule(`.monaco-editor .minimap-slider .minimap-slider-horizontal { background: ${N}; }`);const A=O.getColor(l.minimapSliderHoverBackground);A&&M.addRule(`.monaco-editor .minimap-slider:hover .minimap-slider-horizontal { background: ${A}; }`);const B=O.getColor(l.minimapSliderActiveBackground);B&&M.addRule(`.monaco-editor .minimap-slider.active .minimap-slider-horizontal { background: ${B}; }`);const W=O.getColor(l.scrollbarShadow);W&&M.addRule(`.monaco-editor .minimap-shadow-visible { box-shadow: ${W} -6px 0 6px -6px inset; }`)})}),define(se[695],re([1,0,35,48,23,16,374]),function(q,e,w,m,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollDecorationViewPart=void 0;class L extends m.ViewPart{constructor(C){super(C),this._scrollTop=0,this._width=0,this._updateWidth(),this._shouldShow=!1;const g=this._context.configuration.options.get(93);this._useShadows=g.useShadows,this._domNode=(0,w.createFastDomNode)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true")}dispose(){super.dispose()}_updateShouldShow(){const C=this._useShadows&&this._scrollTop>0;return this._shouldShow!==C?(this._shouldShow=C,!0):!1}getDomNode(){return this._domNode}_updateWidth(){const h=this._context.configuration.options.get(133);h.minimap.renderMinimap===0||h.minimap.minimapWidth>0&&h.minimap.minimapLeft===0?this._width=h.width:this._width=h.width-h.verticalScrollbarWidth}onConfigurationChanged(C){const g=this._context.configuration.options.get(93);return this._useShadows=g.useShadows,this._updateWidth(),this._updateShouldShow(),!0}onScrollChanged(C){return this._scrollTop=C.scrollTop,this._updateShouldShow()}prepareRender(C){}render(C){this._domNode.setWidth(this._width),this._domNode.setClassName(this._shouldShow?"scroll-decoration":"")}}e.ScrollDecorationViewPart=L,(0,D.registerThemingParticipant)((b,C)=>{const h=b.getColor(k.scrollbarShadow);h&&C.addRule(`.monaco-editor .scroll-decoration { box-shadow: ${h} 0 6px 6px -6px inset; }`)})}),define(se[696],re([1,0,114,23,16,375]),function(q,e,w,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectionsOverlay=void 0;class D{constructor(i){this.left=i.left,this.width=i.width,this.startStyle=null,this.endStyle=null}}class L{constructor(i,n){this.lineNumber=i,this.ranges=n}}function b(t){return new D(t)}function C(t){return new L(t.lineNumber,t.ranges.map(b))}class h extends w.DynamicViewOverlay{constructor(i){super(),this._previousFrameVisibleRangesWithStyle=[],this._context=i;const n=this._context.configuration.options;this._lineHeight=n.get(60),this._roundedSelection=n.get(91),this._typicalHalfwidthCharacterWidth=n.get(45).typicalHalfwidthCharacterWidth,this._selections=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(i){const n=this._context.configuration.options;return this._lineHeight=n.get(60),this._roundedSelection=n.get(91),this._typicalHalfwidthCharacterWidth=n.get(45).typicalHalfwidthCharacterWidth,!0}onCursorStateChanged(i){return this._selections=i.selections.slice(0),!0}onDecorationsChanged(i){return!0}onFlushed(i){return!0}onLinesChanged(i){return!0}onLinesDeleted(i){return!0}onLinesInserted(i){return!0}onScrollChanged(i){return i.scrollTopChanged}onZonesChanged(i){return!0}_visibleRangesHaveGaps(i){for(let n=0,o=i.length;n<o;n++)if(i[n].ranges.length>1)return!0;return!1}_enrichVisibleRangesWithStyle(i,n,o){const l=this._typicalHalfwidthCharacterWidth/4;let c=null,d=null;if(o&&o.length>0&&n.length>0){const r=n[0].lineNumber;if(r===i.startLineNumber)for(let a=0;!c&&a<o.length;a++)o[a].lineNumber===r&&(c=o[a].ranges[0]);const s=n[n.length-1].lineNumber;if(s===i.endLineNumber)for(let a=o.length-1;!d&&a>=0;a--)o[a].lineNumber===s&&(d=o[a].ranges[0]);c&&!c.startStyle&&(c=null),d&&!d.startStyle&&(d=null)}for(let r=0,s=n.length;r<s;r++){const a=n[r].ranges[0],u=a.left,p=a.left+a.width,S={top:0,bottom:0},f={top:0,bottom:0};if(r>0){const v=n[r-1].ranges[0].left,_=n[r-1].ranges[0].left+n[r-1].ranges[0].width;g(u-v)<l?S.top=2:u>v&&(S.top=1),g(p-_)<l?f.top=2:v<p&&p<_&&(f.top=1)}else c&&(S.top=c.startStyle.top,f.top=c.endStyle.top);if(r+1<s){const v=n[r+1].ranges[0].left,_=n[r+1].ranges[0].left+n[r+1].ranges[0].width;g(u-v)<l?S.bottom=2:v<u&&u<_&&(S.bottom=1),g(p-_)<l?f.bottom=2:p<_&&(f.bottom=1)}else d&&(S.bottom=d.startStyle.bottom,f.bottom=d.endStyle.bottom);a.startStyle=S,a.endStyle=f}}_getVisibleRangesWithStyle(i,n,o){const c=(n.linesVisibleRangesForRange(i,!0)||[]).map(C);return!this._visibleRangesHaveGaps(c)&&this._roundedSelection&&this._enrichVisibleRangesWithStyle(n.visibleRange,c,o),c}_createSelectionPiece(i,n,o,l,c){return'<div class="cslr '+o+'" style="top:'+i.toString()+"px;left:"+l.toString()+"px;width:"+c.toString()+"px;height:"+n+'px;"></div>'}_actualRenderOneSelection(i,n,o,l){if(l.length===0)return;const c=!!l[0].ranges[0].startStyle,d=this._lineHeight.toString(),r=(this._lineHeight-1).toString(),s=l[0].lineNumber,a=l[l.length-1].lineNumber;for(let u=0,p=l.length;u<p;u++){const S=l[u],f=S.lineNumber,v=f-n,_=o&&(f===a||f===s)?r:d,y=o&&f===s?1:0;let E="",T="";for(let I=0,R=S.ranges.length;I<R;I++){const F=S.ranges[I];if(c){const M=F.startStyle,N=F.endStyle;if(M.top===1||M.bottom===1){E+=this._createSelectionPiece(y,_,h.SELECTION_CLASS_NAME,F.left-h.ROUNDED_PIECE_WIDTH,h.ROUNDED_PIECE_WIDTH);let A=h.EDITOR_BACKGROUND_CLASS_NAME;M.top===1&&(A+=" "+h.SELECTION_TOP_RIGHT),M.bottom===1&&(A+=" "+h.SELECTION_BOTTOM_RIGHT),E+=this._createSelectionPiece(y,_,A,F.left-h.ROUNDED_PIECE_WIDTH,h.ROUNDED_PIECE_WIDTH)}if(N.top===1||N.bottom===1){E+=this._createSelectionPiece(y,_,h.SELECTION_CLASS_NAME,F.left+F.width,h.ROUNDED_PIECE_WIDTH);let A=h.EDITOR_BACKGROUND_CLASS_NAME;N.top===1&&(A+=" "+h.SELECTION_TOP_LEFT),N.bottom===1&&(A+=" "+h.SELECTION_BOTTOM_LEFT),E+=this._createSelectionPiece(y,_,A,F.left+F.width,h.ROUNDED_PIECE_WIDTH)}}let O=h.SELECTION_CLASS_NAME;if(c){const M=F.startStyle,N=F.endStyle;M.top===0&&(O+=" "+h.SELECTION_TOP_LEFT),M.bottom===0&&(O+=" "+h.SELECTION_BOTTOM_LEFT),N.top===0&&(O+=" "+h.SELECTION_TOP_RIGHT),N.bottom===0&&(O+=" "+h.SELECTION_BOTTOM_RIGHT)}T+=this._createSelectionPiece(y,_,O,F.left,F.width)}i[v][0]+=E,i[v][1]+=T}}prepareRender(i){const n=[],o=i.visibleRange.startLineNumber,l=i.visibleRange.endLineNumber;for(let d=o;d<=l;d++){const r=d-o;n[r]=["",""]}const c=[];for(let d=0,r=this._selections.length;d<r;d++){const s=this._selections[d];if(s.isEmpty()){c[d]=null;continue}const a=this._getVisibleRangesWithStyle(s,i,this._previousFrameVisibleRangesWithStyle[d]);c[d]=a,this._actualRenderOneSelection(n,o,this._selections.length>1,a)}this._previousFrameVisibleRangesWithStyle=c,this._renderResult=n.map(([d,r])=>d+r)}render(i,n){if(!this._renderResult)return"";const o=n-i;return o<0||o>=this._renderResult.length?"":this._renderResult[o]}}e.SelectionsOverlay=h,h.SELECTION_CLASS_NAME="selected-text",h.SELECTION_TOP_LEFT="top-left-radius",h.SELECTION_BOTTOM_LEFT="bottom-left-radius",h.SELECTION_TOP_RIGHT="top-right-radius",h.SELECTION_BOTTOM_RIGHT="bottom-right-radius",h.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background",h.ROUNDED_PIECE_WIDTH=10,(0,k.registerThemingParticipant)((t,i)=>{const n=t.getColor(m.editorSelectionBackground);n&&i.addRule(`.monaco-editor .focused .selected-text { background-color: ${n}; }`);const o=t.getColor(m.editorInactiveSelection);o&&i.addRule(`.monaco-editor .selected-text { background-color: ${o}; }`);const l=t.getColor(m.editorSelectionForeground);l&&!l.isTransparent()&&i.addRule(`.monaco-editor .view-line span.inline-selected-text { color: ${l}; }`)});function g(t){return t<0?-t:t}}),define(se[54],re([1,0,550,31,23,16,53]),function(q,e,w,m,k,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.editorUnicodeHighlightBackground=e.editorUnicodeHighlightBorder=e.editorBracketPairGuideActiveBackground6=e.editorBracketPairGuideActiveBackground5=e.editorBracketPairGuideActiveBackground4=e.editorBracketPairGuideActiveBackground3=e.editorBracketPairGuideActiveBackground2=e.editorBracketPairGuideActiveBackground1=e.editorBracketPairGuideBackground6=e.editorBracketPairGuideBackground5=e.editorBracketPairGuideBackground4=e.editorBracketPairGuideBackground3=e.editorBracketPairGuideBackground2=e.editorBracketPairGuideBackground1=e.editorBracketHighlightingUnexpectedBracketForeground=e.editorBracketHighlightingForeground6=e.editorBracketHighlightingForeground5=e.editorBracketHighlightingForeground4=e.editorBracketHighlightingForeground3=e.editorBracketHighlightingForeground2=e.editorBracketHighlightingForeground1=e.overviewRulerInfo=e.overviewRulerWarning=e.overviewRulerError=e.overviewRulerRangeHighlight=e.ghostTextBackground=e.ghostTextForeground=e.ghostTextBorder=e.editorUnnecessaryCodeOpacity=e.editorUnnecessaryCodeBorder=e.editorGutter=e.editorOverviewRulerBackground=e.editorOverviewRulerBorder=e.editorBracketMatchBorder=e.editorBracketMatchBackground=e.editorCodeLensForeground=e.editorRuler=e.editorActiveLineNumber=e.editorLineNumbers=e.editorActiveIndentGuides=e.editorIndentGuides=e.editorWhitespaces=e.editorCursorBackground=e.editorCursorForeground=e.editorSymbolHighlightBorder=e.editorSymbolHighlight=e.editorRangeHighlightBorder=e.editorRangeHighlight=e.editorLineHighlightBorder=e.editorLineHighlight=void 0,e.editorLineHighlight=(0,k.registerColor)("editor.lineHighlightBackground",{dark:null,light:null,hcDark:null,hcLight:null},w.localize(0,null)),e.editorLineHighlightBorder=(0,k.registerColor)("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hcDark:"#f38518",hcLight:k.contrastBorder},w.localize(1,null)),e.editorRangeHighlight=(0,k.registerColor)("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hcDark:null,hcLight:null},w.localize(2,null),!0),e.editorRangeHighlightBorder=(0,k.registerColor)("editor.rangeHighlightBorder",{dark:null,light:null,hcDark:k.activeContrastBorder,hcLight:k.activeContrastBorder},w.localize(3,null),!0),e.editorSymbolHighlight=(0,k.registerColor)("editor.symbolHighlightBackground",{dark:k.editorFindMatchHighlight,light:k.editorFindMatchHighlight,hcDark:null,hcLight:null},w.localize(4,null),!0),e.editorSymbolHighlightBorder=(0,k.registerColor)("editor.symbolHighlightBorder",{dark:null,light:null,hcDark:k.activeContrastBorder,hcLight:k.activeContrastBorder},w.localize(5,null),!0),e.editorCursorForeground=(0,k.registerColor)("editorCursor.foreground",{dark:"#AEAFAD",light:m.Color.black,hcDark:m.Color.white,hcLight:"#0F4A85"},w.localize(6,null)),e.editorCursorBackground=(0,k.registerColor)("editorCursor.background",null,w.localize(7,null)),e.editorWhitespaces=(0,k.registerColor)("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hcDark:"#e3e4e229",hcLight:"#CCCCCC"},w.localize(8,null)),e.editorIndentGuides=(0,k.registerColor)("editorIndentGuide.background",{dark:e.editorWhitespaces,light:e.editorWhitespaces,hcDark:e.editorWhitespaces,hcLight:e.editorWhitespaces},w.localize(9,null)),e.editorActiveIndentGuides=(0,k.registerColor)("editorIndentGuide.activeBackground",{dark:e.editorWhitespaces,light:e.editorWhitespaces,hcDark:e.editorWhitespaces,hcLight:e.editorWhitespaces},w.localize(10,null)),e.editorLineNumbers=(0,k.registerColor)("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hcDark:m.Color.white,hcLight:"#292929"},w.localize(11,null));const b=(0,k.registerColor)("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hcDark:k.activeContrastBorder,hcLight:k.activeContrastBorder},w.localize(12,null),!1,w.localize(13,null));e.editorActiveLineNumber=(0,k.registerColor)("editorLineNumber.activeForeground",{dark:b,light:b,hcDark:b,hcLight:b},w.localize(14,null)),e.editorRuler=(0,k.registerColor)("editorRuler.foreground",{dark:"#5A5A5A",light:m.Color.lightgrey,hcDark:m.Color.white,hcLight:"#292929"},w.localize(15,null)),e.editorCodeLensForeground=(0,k.registerColor)("editorCodeLens.foreground",{dark:"#999999",light:"#919191",hcDark:"#999999",hcLight:"#292929"},w.localize(16,null)),e.editorBracketMatchBackground=(0,k.registerColor)("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hcDark:"#0064001a",hcLight:"#0000"},w.localize(17,null)),e.editorBracketMatchBorder=(0,k.registerColor)("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hcDark:k.contrastBorder,hcLight:k.contrastBorder},w.localize(18,null)),e.editorOverviewRulerBorder=(0,k.registerColor)("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hcDark:"#7f7f7f4d",hcLight:"#666666"},w.localize(19,null)),e.editorOverviewRulerBackground=(0,k.registerColor)("editorOverviewRuler.background",null,w.localize(20,null)),e.editorGutter=(0,k.registerColor)("editorGutter.background",{dark:k.editorBackground,light:k.editorBackground,hcDark:k.editorBackground,hcLight:k.editorBackground},w.localize(21,null)),e.editorUnnecessaryCodeBorder=(0,k.registerColor)("editorUnnecessaryCode.border",{dark:null,light:null,hcDark:m.Color.fromHex("#fff").transparent(.8),hcLight:k.contrastBorder},w.localize(22,null)),e.editorUnnecessaryCodeOpacity=(0,k.registerColor)("editorUnnecessaryCode.opacity",{dark:m.Color.fromHex("#000a"),light:m.Color.fromHex("#0007"),hcDark:null,hcLight:null},w.localize(23,null)),e.ghostTextBorder=(0,k.registerColor)("editorGhostText.border",{dark:null,light:null,hcDark:m.Color.fromHex("#fff").transparent(.8),hcLight:m.Color.fromHex("#292929").transparent(.8)},w.localize(24,null)),e.ghostTextForeground=(0,k.registerColor)("editorGhostText.foreground",{dark:m.Color.fromHex("#ffffff56"),light:m.Color.fromHex("#0007"),hcDark:null,hcLight:null},w.localize(25,null)),e.ghostTextBackground=(0,k.registerColor)("editorGhostText.background",{dark:null,light:null,hcDark:null,hcLight:null},w.localize(26,null));const C=new m.Color(new m.RGBA(0,122,204,.6));e.overviewRulerRangeHighlight=(0,k.registerColor)("editorOverviewRuler.rangeHighlightForeground",{dark:C,light:C,hcDark:C,hcLight:C},w.localize(27,null),!0),e.overviewRulerError=(0,k.registerColor)("editorOverviewRuler.errorForeground",{dark:new m.Color(new m.RGBA(255,18,18,.7)),light:new m.Color(new m.RGBA(255,18,18,.7)),hcDark:new m.Color(new m.RGBA(255,50,50,1)),hcLight:"#B5200D"},w.localize(28,null)),e.overviewRulerWarning=(0,k.registerColor)("editorOverviewRuler.warningForeground",{dark:k.editorWarningForeground,light:k.editorWarningForeground,hcDark:k.editorWarningBorder,hcLight:k.editorWarningBorder},w.localize(29,null)),e.overviewRulerInfo=(0,k.registerColor)("editorOverviewRuler.infoForeground",{dark:k.editorInfoForeground,light:k.editorInfoForeground,hcDark:k.editorInfoBorder,hcLight:k.editorInfoBorder},w.localize(30,null)),e.editorBracketHighlightingForeground1=(0,k.registerColor)("editorBracketHighlight.foreground1",{dark:"#FFD700",light:"#0431FAFF",hcDark:"#FFD700",hcLight:"#0431FAFF"},w.localize(31,null)),e.editorBracketHighlightingForeground2=(0,k.registerColor)("editorBracketHighlight.foreground2",{dark:"#DA70D6",light:"#319331FF",hcDark:"#DA70D6",hcLight:"#319331FF"},w.localize(32,null)),e.editorBracketHighlightingForeground3=(0,k.registerColor)("editorBracketHighlight.foreground3",{dark:"#179FFF",light:"#7B3814FF",hcDark:"#87CEFA",hcLight:"#7B3814FF"},w.localize(33,null)),e.editorBracketHighlightingForeground4=(0,k.registerColor)("editorBracketHighlight.foreground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},w.localize(34,null)),e.editorBracketHighlightingForeground5=(0,k.registerColor)("editorBracketHighlight.foreground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},w.localize(35,null)),e.editorBracketHighlightingForeground6=(0,k.registerColor)("editorBracketHighlight.foreground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},w.localize(36,null)),e.editorBracketHighlightingUnexpectedBracketForeground=(0,k.registerColor)("editorBracketHighlight.unexpectedBracket.foreground",{dark:new m.Color(new m.RGBA(255,18,18,.8)),light:new m.Color(new m.RGBA(255,18,18,.8)),hcDark:new m.Color(new m.RGBA(255,50,50,1)),hcLight:""},w.localize(37,null)),e.editorBracketPairGuideBackground1=(0,k.registerColor)("editorBracketPairGuide.background1",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},w.localize(38,null)),e.editorBracketPairGuideBackground2=(0,k.registerColor)("editorBracketPairGuide.background2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},w.localize(39,null)),e.editorBracketPairGuideBackground3=(0,k.registerColor)("editorBracketPairGuide.background3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},w.localize(40,null)),e.editorBracketPairGuideBackground4=(0,k.registerColor)("editorBracketPairGuide.background4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},w.localize(41,null)),e.editorBracketPairGuideBackground5=(0,k.registerColor)("editorBracketPairGuide.background5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},w.localize(42,null)),e.editorBracketPairGuideBackground6=(0,k.registerColor)("editorBracketPairGuide.background6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},w.localize(43,null)),e.editorBracketPairGuideActiveBackground1=(0,k.registerColor)("editorBracketPairGuide.activeBackground1",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},w.localize(44,null)),e.editorBracketPairGuideActiveBackground2=(0,k.registerColor)("editorBracketPairGuide.activeBackground2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},w.localize(45,null)),e.editorBracketPairGuideActiveBackground3=(0,k.registerColor)("editorBracketPairGuide.activeBackground3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},w.localize(46,null)),e.editorBracketPairGuideActiveBackground4=(0,k.registerColor)("editorBracketPairGuide.activeBackground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},w.localize(47,null)),e.editorBracketPairGuideActiveBackground5=(0,k.registerColor)("editorBracketPairGuide.activeBackground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},w.localize(48,null)),e.editorBracketPairGuideActiveBackground6=(0,k.registerColor)("editorBracketPairGuide.activeBackground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},w.localize(49,null)),e.editorUnicodeHighlightBorder=(0,k.registerColor)("editorUnicodeHighlight.border",{dark:"#BD9B03",light:"#CEA33D",hcDark:"#ff0000",hcLight:""},w.localize(50,null)),e.editorUnicodeHighlightBackground=(0,k.registerColor)("editorUnicodeHighlight.background",{dark:"#bd9b0326",light:"#cea33d14",hcDark:"#00000000",hcLight:""},w.localize(51,null)),(0,D.registerThemingParticipant)((h,g)=>{const t=h.getColor(k.editorBackground);t&&g.addRule(`.monaco-editor, .monaco-editor-background { background-color: ${t}; }`);const i=h.getColor(e.editorLineHighlight),n=i&&!i.isTransparent()?i:t;n&&g.addRule(`.monaco-editor .inputarea.ime-input { background-color: ${n}; }`);const o=h.getColor(k.editorForeground);o&&g.addRule(`.monaco-editor, .monaco-editor .inputarea.ime-input { color: ${o}; }`);const l=h.getColor(e.editorGutter);l&&g.addRule(`.monaco-editor .margin { background-color: ${l}; }`);const c=h.getColor(e.editorRangeHighlight);c&&g.addRule(`.monaco-editor .rangeHighlight { background-color: ${c}; }`);const d=h.getColor(e.editorRangeHighlightBorder);d&&g.addRule(`.monaco-editor .rangeHighlight { border: 1px ${(0,L.isHighContrast)(h.type)?"dotted":"solid"} ${d}; }`);const r=h.getColor(e.editorSymbolHighlight);r&&g.addRule(`.monaco-editor .symbolHighlight { background-color: ${r}; }`);const s=h.getColor(e.editorSymbolHighlightBorder);s&&g.addRule(`.monaco-editor .symbolHighlight { border: 1px ${(0,L.isHighContrast)(h.type)?"dotted":"solid"} ${s}; }`);const a=h.getColor(e.editorWhitespaces);a&&(g.addRule(`.monaco-editor .mtkw { color: ${a} !important; }`),g.addRule(`.monaco-editor .mtkz { color: ${a} !important; }`))})}),define(se[697],re([1,0,114,54,18,16,24,53,363]),function(q,e,w,m,k,D,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CurrentLineMarginHighlightOverlay=e.CurrentLineHighlightOverlay=e.AbstractLineHighlightOverlay=void 0;class C extends w.DynamicViewOverlay{constructor(i){super(),this._context=i;const n=this._context.configuration.options,o=n.get(133);this._lineHeight=n.get(60),this._renderLineHighlight=n.get(86),this._renderLineHighlightOnlyWhenFocus=n.get(87),this._contentLeft=o.contentLeft,this._contentWidth=o.contentWidth,this._selectionIsEmpty=!0,this._focused=!1,this._cursorLineNumbers=[1],this._selections=[new L.Selection(1,1,1,1)],this._renderData=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}_readFromSelections(){let i=!1;const n=this._selections.map(l=>l.positionLineNumber);n.sort((l,c)=>l-c),k.equals(this._cursorLineNumbers,n)||(this._cursorLineNumbers=n,i=!0);const o=this._selections.every(l=>l.isEmpty());return this._selectionIsEmpty!==o&&(this._selectionIsEmpty=o,i=!0),i}onThemeChanged(i){return this._readFromSelections()}onConfigurationChanged(i){const n=this._context.configuration.options,o=n.get(133);return this._lineHeight=n.get(60),this._renderLineHighlight=n.get(86),this._renderLineHighlightOnlyWhenFocus=n.get(87),this._contentLeft=o.contentLeft,this._contentWidth=o.contentWidth,!0}onCursorStateChanged(i){return this._selections=i.selections,this._readFromSelections()}onFlushed(i){return!0}onLinesDeleted(i){return!0}onLinesInserted(i){return!0}onScrollChanged(i){return i.scrollWidthChanged||i.scrollTopChanged}onZonesChanged(i){return!0}onFocusChanged(i){return this._renderLineHighlightOnlyWhenFocus?(this._focused=i.isFocused,!0):!1}prepareRender(i){if(!this._shouldRenderThis()){this._renderData=null;return}const n=this._renderOne(i),o=i.visibleRange.startLineNumber,l=i.visibleRange.endLineNumber,c=this._cursorLineNumbers.length;let d=0;const r=[];for(let s=o;s<=l;s++){const a=s-o;for(;d<c&&this._cursorLineNumbers[d]<s;)d++;d<c&&this._cursorLineNumbers[d]===s?r[a]=n:r[a]=""}this._renderData=r}render(i,n){if(!this._renderData)return"";const o=n-i;return o>=this._renderData.length?"":this._renderData[o]}_shouldRenderInMargin(){return(this._renderLineHighlight==="gutter"||this._renderLineHighlight==="all")&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderInContent(){return(this._renderLineHighlight==="line"||this._renderLineHighlight==="all")&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}}e.AbstractLineHighlightOverlay=C;class h extends C{_renderOne(i){return`<div class="${"current-line"+(this._shouldRenderOther()?" current-line-both":"")}" style="width:${Math.max(i.scrollWidth,this._contentWidth)}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return this._shouldRenderInContent()}_shouldRenderOther(){return this._shouldRenderInMargin()}}e.CurrentLineHighlightOverlay=h;class g extends C{_renderOne(i){return`<div class="${"current-line"+(this._shouldRenderInMargin()?" current-line-margin":"")+(this._shouldRenderOther()?" current-line-margin-both":"")}" style="width:${this._contentLeft}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return!0}_shouldRenderOther(){return this._shouldRenderInContent()}}e.CurrentLineMarginHighlightOverlay=g,(0,D.registerThemingParticipant)((t,i)=>{const n=t.getColor(m.editorLineHighlight);if(n&&(i.addRule(`.monaco-editor .view-overlays .current-line { background-color: ${n}; }`),i.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { background-color: ${n}; border: none; }`)),!n||n.isTransparent()||t.defines(m.editorLineHighlightBorder)){const o=t.getColor(m.editorLineHighlightBorder);o&&(i.addRule(`.monaco-editor .view-overlays .current-line { border: 2px solid ${o}; }`),i.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { border: 2px solid ${o}; }`),(0,b.isHighContrast)(t.type)&&(i.addRule(".monaco-editor .view-overlays .current-line { border-width: 1px; }"),i.addRule(".monaco-editor .margin-view-overlays .current-line-margin { border-width: 1px; }")))}})}),define(se[698],re([1,0,114,54,16,11,18,19,248,191,366]),function(q,e,w,m,k,D,L,b,C,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentGuidesOverlay=void 0;class g extends w.DynamicViewOverlay{constructor(n){super(),this._context=n,this._primaryPosition=null;const o=this._context.configuration.options,l=o.get(134),c=o.get(45);this._lineHeight=o.get(60),this._spaceWidth=c.spaceWidth,this._maxIndentLeft=l.wrappingColumn===-1?-1:l.wrappingColumn*c.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=o.get(13),this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(n){const o=this._context.configuration.options,l=o.get(134),c=o.get(45);return this._lineHeight=o.get(60),this._spaceWidth=c.spaceWidth,this._maxIndentLeft=l.wrappingColumn===-1?-1:l.wrappingColumn*c.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=o.get(13),!0}onCursorStateChanged(n){var o;const c=n.selections[0].getPosition();return!((o=this._primaryPosition)===null||o===void 0)&&o.equals(c)?!1:(this._primaryPosition=c,!0)}onDecorationsChanged(n){return!0}onFlushed(n){return!0}onLinesChanged(n){return!0}onLinesDeleted(n){return!0}onLinesInserted(n){return!0}onScrollChanged(n){return n.scrollTopChanged}onZonesChanged(n){return!0}onLanguageConfigurationChanged(n){return!0}prepareRender(n){var o,l,c,d;if(!this._bracketPairGuideOptions.indentation&&this._bracketPairGuideOptions.bracketPairs===!1){this._renderResult=null;return}const r=n.visibleRange.startLineNumber,s=n.visibleRange.endLineNumber,a=n.scrollWidth,u=this._lineHeight,p=this._primaryPosition,S=this.getGuidesByLine(r,s,p),f=[];for(let v=r;v<=s;v++){const _=v-r,y=S[_];let E="";const T=(l=(o=n.visibleRangeForPosition(new D.Position(v,1)))===null||o===void 0?void 0:o.left)!==null&&l!==void 0?l:0;for(const I of y){const R=I.column===-1?T+(I.visibleColumn-1)*this._spaceWidth:n.visibleRangeForPosition(new D.Position(v,I.column)).left;if(R>a||this._maxIndentLeft>0&&R>this._maxIndentLeft)break;const F=I.horizontalLine?I.horizontalLine.top?"horizontal-top":"horizontal-bottom":"vertical",O=I.horizontalLine?((d=(c=n.visibleRangeForPosition(new D.Position(v,I.horizontalLine.endColumn)))===null||c===void 0?void 0:c.left)!==null&&d!==void 0?d:R+this._spaceWidth)-R:this._spaceWidth;E+=`<div class="core-guide ${I.className} ${F}" style="left:${R}px;height:${u}px;width:${O}px"></div>`}f[_]=E}this._renderResult=f}getGuidesByLine(n,o,l){const c=this._bracketPairGuideOptions.bracketPairs!==!1?this._context.viewModel.getBracketGuidesInRangeByLine(n,o,l,{highlightActive:this._bracketPairGuideOptions.highlightActiveBracketPair,horizontalGuides:this._bracketPairGuideOptions.bracketPairsHorizontal===!0?h.HorizontalGuidesState.Enabled:this._bracketPairGuideOptions.bracketPairsHorizontal==="active"?h.HorizontalGuidesState.EnabledForActive:h.HorizontalGuidesState.Disabled,includeInactive:this._bracketPairGuideOptions.bracketPairs===!0}):null,d=this._bracketPairGuideOptions.indentation?this._context.viewModel.getLinesIndentGuides(n,o):null;let r=0,s=0,a=0;if(this._bracketPairGuideOptions.highlightActiveIndentation!==!1&&l){const S=this._context.viewModel.getActiveIndentGuide(l.lineNumber,n,o);r=S.startLineNumber,s=S.endLineNumber,a=S.indent}const{indentSize:u}=this._context.viewModel.model.getOptions(),p=[];for(let S=n;S<=o;S++){const f=new Array;p.push(f);const v=c?c[S-n]:[],_=new L.ArrayQueue(v),y=d?d[S-n]:[];for(let E=1;E<=y;E++){const T=(E-1)*u+1,I=(this._bracketPairGuideOptions.highlightActiveIndentation==="always"||v.length===0)&&r<=S&&S<=s&&E===a;f.push(..._.takeWhile(F=>F.visibleColumn<T)||[]);const R=_.peek();(!R||R.visibleColumn!==T||R.horizontalLine)&&f.push(new h.IndentGuide(T,-1,I?"core-guide-indent-active":"core-guide-indent",null,-1,-1))}f.push(..._.takeWhile(E=>!0)||[])}return p}render(n,o){if(!this._renderResult)return"";const l=o-n;return l<0||l>=this._renderResult.length?"":this._renderResult[l]}}e.IndentGuidesOverlay=g;function t(i){if(!(i&&i.isTransparent()))return i}(0,k.registerThemingParticipant)((i,n)=>{const o=i.getColor(m.editorIndentGuides);o&&n.addRule(`.monaco-editor .lines-content .core-guide-indent { box-shadow: 1px 0 0 0 ${o} inset; }`);const l=i.getColor(m.editorActiveIndentGuides)||o;l&&n.addRule(`.monaco-editor .lines-content .core-guide-indent-active { box-shadow: 1px 0 0 0 ${l} inset; }`);const c=[{bracketColor:m.editorBracketHighlightingForeground1,guideColor:m.editorBracketPairGuideBackground1,guideColorActive:m.editorBracketPairGuideActiveBackground1},{bracketColor:m.editorBracketHighlightingForeground2,guideColor:m.editorBracketPairGuideBackground2,guideColorActive:m.editorBracketPairGuideActiveBackground2},{bracketColor:m.editorBracketHighlightingForeground3,guideColor:m.editorBracketPairGuideBackground3,guideColorActive:m.editorBracketPairGuideActiveBackground3},{bracketColor:m.editorBracketHighlightingForeground4,guideColor:m.editorBracketPairGuideBackground4,guideColorActive:m.editorBracketPairGuideActiveBackground4},{bracketColor:m.editorBracketHighlightingForeground5,guideColor:m.editorBracketPairGuideBackground5,guideColorActive:m.editorBracketPairGuideActiveBackground5},{bracketColor:m.editorBracketHighlightingForeground6,guideColor:m.editorBracketPairGuideBackground6,guideColorActive:m.editorBracketPairGuideActiveBackground6}],d=new C.BracketPairGuidesClassNames,r=c.map(s=>{var a,u;const p=i.getColor(s.bracketColor),S=i.getColor(s.guideColor),f=i.getColor(s.guideColorActive),v=t((a=t(S))!==null&&a!==void 0?a:p?.transparent(.3)),_=t((u=t(f))!==null&&u!==void 0?u:p);if(!(!v||!_))return{guideColor:v,guideColorActive:_}}).filter(b.isDefined);if(r.length>0){for(let s=0;s<30;s++){const a=r[s%r.length];n.addRule(`.monaco-editor .${d.getInlineClassNameOfLevel(s).replace(/ /g,".")} { --guide-color: ${a.guideColor}; --guide-color-active: ${a.guideColorActive}; }`)}n.addRule(".monaco-editor .vertical { box-shadow: 1px 0 0 0 var(--guide-color) inset; }"),n.addRule(".monaco-editor .horizontal-top { border-top: 1px solid var(--guide-color); }"),n.addRule(".monaco-editor .horizontal-bottom { border-bottom: 1px solid var(--guide-color); }"),n.addRule(`.monaco-editor .vertical.${d.activeClassName} { box-shadow: 1px 0 0 0 var(--guide-color-active) inset; }`),n.addRule(`.monaco-editor .horizontal-top.${d.activeClassName} { border-top: 1px solid var(--guide-color-active); }`),n.addRule(`.monaco-editor .horizontal-bottom.${d.activeClassName} { border-bottom: 1px solid var(--guide-color-active); }`)}})}),define(se[304],re([1,0,17,114,11,54,16,367]),function(q,e,w,m,k,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineNumbersOverlay=void 0;class b extends m.DynamicViewOverlay{constructor(h){super(),this._context=h,this._readConfig(),this._lastCursorModelPosition=new k.Position(1,1),this._renderResult=null,this._activeLineNumber=1,this._context.addEventHandler(this)}_readConfig(){const h=this._context.configuration.options;this._lineHeight=h.get(60);const g=h.get(61);this._renderLineNumbers=g.renderType,this._renderCustomLineNumbers=g.renderFn,this._renderFinalNewline=h.get(85);const t=h.get(133);this._lineNumbersLeft=t.lineNumbersLeft,this._lineNumbersWidth=t.lineNumbersWidth}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(h){return this._readConfig(),!0}onCursorStateChanged(h){const g=h.selections[0].getPosition();this._lastCursorModelPosition=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(g);let t=!1;return this._activeLineNumber!==g.lineNumber&&(this._activeLineNumber=g.lineNumber,t=!0),(this._renderLineNumbers===2||this._renderLineNumbers===3)&&(t=!0),t}onFlushed(h){return!0}onLinesChanged(h){return!0}onLinesDeleted(h){return!0}onLinesInserted(h){return!0}onScrollChanged(h){return h.scrollTopChanged}onZonesChanged(h){return!0}_getLineRenderLineNumber(h){const g=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new k.Position(h,1));if(g.column!==1)return"";const t=g.lineNumber;if(this._renderCustomLineNumbers)return this._renderCustomLineNumbers(t);if(this._renderLineNumbers===2){const i=Math.abs(this._lastCursorModelPosition.lineNumber-t);return i===0?'<span class="relative-current-line-number">'+t+"</span>":String(i)}return this._renderLineNumbers===3?this._lastCursorModelPosition.lineNumber===t||t%10===0?String(t):"":String(t)}prepareRender(h){if(this._renderLineNumbers===0){this._renderResult=null;return}const g=w.isLinux?this._lineHeight%2===0?" lh-even":" lh-odd":"",t=h.visibleRange.startLineNumber,i=h.visibleRange.endLineNumber,n='<div class="'+b.CLASS_NAME+g+'" style="left:'+this._lineNumbersLeft+"px;width:"+this._lineNumbersWidth+'px;">',o=this._context.viewModel.getLineCount(),l=[];for(let c=t;c<=i;c++){const d=c-t;if(!this._renderFinalNewline&&c===o&&this._context.viewModel.getLineLength(c)===0){l[d]="";continue}const r=this._getLineRenderLineNumber(c);r?c===this._activeLineNumber?l[d]='<div class="active-line-number '+b.CLASS_NAME+g+'" style="left:'+this._lineNumbersLeft+"px;width:"+this._lineNumbersWidth+'px;">'+r+"</div>":l[d]=n+r+"</div>":l[d]=""}this._renderResult=l}render(h,g){if(!this._renderResult)return"";const t=g-h;return t<0||t>=this._renderResult.length?"":this._renderResult[t]}}e.LineNumbersOverlay=b,b.CLASS_NAME="line-numbers",(0,L.registerThemingParticipant)((C,h)=>{const g=C.getColor(D.editorLineNumbers);g&&h.addRule(`.monaco-editor .line-numbers { color: ${g}; }`);const t=C.getColor(D.editorActiveLineNumber);t&&h.addRule(`.monaco-editor .line-numbers.active-line-number { color: ${t}; }`)})}),define(se[699],re([1,0,539,42,35,17,8,69,207,236,48,304,249,38,131,11,3,24,151,28,31,361]),function(q,e,w,m,k,D,L,b,C,h,g,t,i,n,o,l,c,d,r,s,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextAreaHandler=void 0;class u{constructor(_,y,E,T,I){this._context=_,this.modelLineNumber=y,this.distanceToModelLineStart=E,this.widthOfHiddenLineTextBefore=T,this.distanceToModelLineEnd=I,this._visibleTextAreaBrand=void 0,this.startPosition=null,this.endPosition=null,this.visibleTextareaStart=null,this.visibleTextareaEnd=null,this._previousPresentation=null}prepareRender(_){const y=new l.Position(this.modelLineNumber,this.distanceToModelLineStart+1),E=new l.Position(this.modelLineNumber,this._context.viewModel.model.getLineMaxColumn(this.modelLineNumber)-this.distanceToModelLineEnd);this.startPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(y),this.endPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(E),this.startPosition.lineNumber===this.endPosition.lineNumber?(this.visibleTextareaStart=_.visibleRangeForPosition(this.startPosition),this.visibleTextareaEnd=_.visibleRangeForPosition(this.endPosition)):(this.visibleTextareaStart=null,this.visibleTextareaEnd=null)}definePresentation(_){return this._previousPresentation||(_?this._previousPresentation=_:this._previousPresentation={foreground:1,italic:!1,bold:!1,underline:!1,strikethrough:!1}),this._previousPresentation}}const p=m.isFirefox;class S extends g.ViewPart{constructor(_,y,E){super(_),this._primaryCursorPosition=new l.Position(1,1),this._primaryCursorVisibleRange=null,this._viewController=y,this._visibleRangeProvider=E,this._scrollLeft=0,this._scrollTop=0;const T=this._context.configuration.options,I=T.get(133);this._setAccessibilityOptions(T),this._contentLeft=I.contentLeft,this._contentWidth=I.contentWidth,this._contentHeight=I.height,this._fontInfo=T.get(45),this._lineHeight=T.get(60),this._emptySelectionClipboard=T.get(33),this._copyWithSyntaxHighlighting=T.get(21),this._visibleTextArea=null,this._selections=[new d.Selection(1,1,1,1)],this._modelSelections=[new d.Selection(1,1,1,1)],this._lastRenderPosition=null,this.textArea=(0,k.createFastDomNode)(document.createElement("textarea")),g.PartFingerprints.write(this.textArea,6),this.textArea.setClassName(`inputarea ${r.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),this.textArea.setAttribute("wrap","off"),this.textArea.setAttribute("autocorrect","off"),this.textArea.setAttribute("autocapitalize","off"),this.textArea.setAttribute("autocomplete","off"),this.textArea.setAttribute("spellcheck","false"),this.textArea.setAttribute("aria-label",this._getAriaLabel(T)),this.textArea.setAttribute("tabindex",String(T.get(114))),this.textArea.setAttribute("role","textbox"),this.textArea.setAttribute("aria-roledescription",w.localize(0,null)),this.textArea.setAttribute("aria-multiline","true"),this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),T.get(30)&&T.get(82)&&this.textArea.setAttribute("readonly","true"),this.textAreaCover=(0,k.createFastDomNode)(document.createElement("div")),this.textAreaCover.setPosition("absolute");const R={getLineCount:()=>this._context.viewModel.getLineCount(),getLineMaxColumn:M=>this._context.viewModel.getLineMaxColumn(M),getValueInRange:(M,N)=>this._context.viewModel.getValueInRange(M,N),getValueLengthInRange:M=>this._context.viewModel.model.getValueLengthInRange(M)},F={getDataToCopy:()=>{const M=this._context.viewModel.getPlainTextToCopy(this._modelSelections,this._emptySelectionClipboard,D.isWindows),N=this._context.viewModel.model.getEOL(),A=this._emptySelectionClipboard&&this._modelSelections.length===1&&this._modelSelections[0].isEmpty(),B=Array.isArray(M)?M:null,W=Array.isArray(M)?M.join(N):M;let x,P=null;if(C.CopyOptions.forceCopyWithSyntaxHighlighting||this._copyWithSyntaxHighlighting&&W.length<65536){const X=this._context.viewModel.getRichTextToCopy(this._modelSelections,this._emptySelectionClipboard);X&&(x=X.html,P=X.mode)}return{isFromEmptySelection:A,multicursorText:B,text:W,html:x,mode:P}},getScreenReaderContent:M=>{if(this._accessibilitySupport===1){const N=this._selections[0];if(D.isMacintosh&&N.isEmpty()){const B=N.getStartPosition();let W=this._getWordBeforePosition(B);if(W.length===0&&(W=this._getCharacterBeforePosition(B)),W.length>0)return new h.TextAreaState(W,W.length,W.length,B,B)}const A=500;if(D.isMacintosh&&!N.isEmpty()&&R.getValueLengthInRange(N)<A){const B=R.getValueInRange(N,0);return new h.TextAreaState(B,0,B.length,N.getStartPosition(),N.getEndPosition())}if(m.isSafari&&!N.isEmpty()){const B="vscode-placeholder";return new h.TextAreaState(B,0,B.length,null,null)}return h.TextAreaState.EMPTY}if(m.isAndroid){const N=this._selections[0];if(N.isEmpty()){const A=N.getStartPosition(),[B,W]=this._getAndroidWordAtPosition(A);if(B.length>0)return new h.TextAreaState(B,W,W,A,A)}return h.TextAreaState.EMPTY}return h.PagedScreenReaderStrategy.fromEditorSelection(M,R,this._selections[0],this._accessibilityPageSize,this._accessibilitySupport===0)},deduceModelPosition:(M,N,A)=>this._context.viewModel.deduceModelPositionRelativeToViewPosition(M,N,A)},O=this._register(new C.TextAreaWrapper(this.textArea.domNode));this._textAreaInput=this._register(new C.TextAreaInput(F,O,D.OS,m)),this._register(this._textAreaInput.onKeyDown(M=>{this._viewController.emitKeyDown(M)})),this._register(this._textAreaInput.onKeyUp(M=>{this._viewController.emitKeyUp(M)})),this._register(this._textAreaInput.onPaste(M=>{let N=!1,A=null,B=null;M.metadata&&(N=this._emptySelectionClipboard&&!!M.metadata.isFromEmptySelection,A=typeof M.metadata.multicursorText<"u"?M.metadata.multicursorText:null,B=M.metadata.mode),this._viewController.paste(M.text,N,A,B)})),this._register(this._textAreaInput.onCut(()=>{this._viewController.cut()})),this._register(this._textAreaInput.onType(M=>{M.replacePrevCharCnt||M.replaceNextCharCnt||M.positionDelta?(h._debugComposition&&console.log(` => compositionType: <<${M.text}>>, ${M.replacePrevCharCnt}, ${M.replaceNextCharCnt}, ${M.positionDelta}`),this._viewController.compositionType(M.text,M.replacePrevCharCnt,M.replaceNextCharCnt,M.positionDelta)):(h._debugComposition&&console.log(` => type: <<${M.text}>>`),this._viewController.type(M.text))})),this._register(this._textAreaInput.onSelectionChangeRequest(M=>{this._viewController.setSelection(M)})),this._register(this._textAreaInput.onCompositionStart(M=>{const N=this.textArea.domNode,A=this._modelSelections[0],{distanceToModelLineStart:B,widthOfHiddenTextBefore:W}=(()=>{const P=N.value.substring(0,Math.min(N.selectionStart,N.selectionEnd)),X=P.lastIndexOf(`
`),ie=P.substring(X+1),K=ie.lastIndexOf("	"),G=ie.length-K-1,Q=A.getStartPosition(),ne=Math.min(Q.column-1,G),Z=Q.column-1-ne,ee=ie.substring(0,ie.length-ne),le=f(ee,this._fontInfo);return{distanceToModelLineStart:Z,widthOfHiddenTextBefore:le}})(),{distanceToModelLineEnd:x}=(()=>{const P=N.value.substring(Math.max(N.selectionStart,N.selectionEnd)),X=P.indexOf(`
`),ie=X===-1?P:P.substring(0,X),K=ie.indexOf("	"),G=K===-1?ie.length:ie.length-K-1,Q=A.getEndPosition(),ne=Math.min(this._context.viewModel.model.getLineMaxColumn(Q.lineNumber)-Q.column,G);return{distanceToModelLineEnd:this._context.viewModel.model.getLineMaxColumn(Q.lineNumber)-Q.column-ne}})();this._context.viewModel.revealRange("keyboard",!0,c.Range.fromPositions(this._selections[0].getStartPosition()),0,1),this._visibleTextArea=new u(this._context,A.startLineNumber,B,W,x),this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render(),this.textArea.setClassName(`inputarea ${r.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME} ime-input`),this._viewController.compositionStart(),this._context.viewModel.onCompositionStart()})),this._register(this._textAreaInput.onCompositionUpdate(M=>{!this._visibleTextArea||(this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render())})),this._register(this._textAreaInput.onCompositionEnd(()=>{this._visibleTextArea=null,this._render(),this.textArea.setClassName(`inputarea ${r.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),this._viewController.compositionEnd(),this._context.viewModel.onCompositionEnd()})),this._register(this._textAreaInput.onFocus(()=>{this._context.viewModel.setHasFocus(!0)})),this._register(this._textAreaInput.onBlur(()=>{this._context.viewModel.setHasFocus(!1)}))}dispose(){super.dispose()}_getAndroidWordAtPosition(_){const y='`~!@#$%^&*()-=+[{]}\\|;:",.<>/?',E=this._context.viewModel.getLineContent(_.lineNumber),T=(0,o.getMapForWordSeparators)(y);let I=!0,R=_.column,F=!0,O=_.column,M=0;for(;M<50&&(I||F);){if(I&&R<=1&&(I=!1),I){const N=E.charCodeAt(R-2);T.get(N)!==0?I=!1:R--}if(F&&O>E.length&&(F=!1),F){const N=E.charCodeAt(O-1);T.get(N)!==0?F=!1:O++}M++}return[E.substring(R-1,O-1),_.column-R]}_getWordBeforePosition(_){const y=this._context.viewModel.getLineContent(_.lineNumber),E=(0,o.getMapForWordSeparators)(this._context.configuration.options.get(119));let T=_.column,I=0;for(;T>1;){const R=y.charCodeAt(T-2);if(E.get(R)!==0||I>50)return y.substring(T-1,_.column-1);I++,T--}return y.substring(0,_.column-1)}_getCharacterBeforePosition(_){if(_.column>1){const E=this._context.viewModel.getLineContent(_.lineNumber).charAt(_.column-2);if(!L.isHighSurrogate(E.charCodeAt(0)))return E}return""}_getAriaLabel(_){return _.get(2)===1?w.localize(1,null,D.isLinux?"Shift+Alt+F1":"Alt+F1"):_.get(4)}_setAccessibilityOptions(_){this._accessibilitySupport=_.get(2);const y=_.get(3);this._accessibilitySupport===2&&y===n.EditorOptions.accessibilityPageSize.defaultValue?this._accessibilityPageSize=500:this._accessibilityPageSize=y}onConfigurationChanged(_){const y=this._context.configuration.options,E=y.get(133);return this._setAccessibilityOptions(y),this._contentLeft=E.contentLeft,this._contentWidth=E.contentWidth,this._contentHeight=E.height,this._fontInfo=y.get(45),this._lineHeight=y.get(60),this._emptySelectionClipboard=y.get(33),this._copyWithSyntaxHighlighting=y.get(21),this.textArea.setAttribute("aria-label",this._getAriaLabel(y)),this.textArea.setAttribute("tabindex",String(y.get(114))),(_.hasChanged(30)||_.hasChanged(82))&&(y.get(30)&&y.get(82)?this.textArea.setAttribute("readonly","true"):this.textArea.removeAttribute("readonly")),_.hasChanged(2)&&this._textAreaInput.writeScreenReaderContent("strategy changed"),!0}onCursorStateChanged(_){return this._selections=_.selections.slice(0),this._modelSelections=_.modelSelections.slice(0),this._textAreaInput.writeScreenReaderContent("selection changed"),!0}onDecorationsChanged(_){return!0}onFlushed(_){return!0}onLinesChanged(_){return!0}onLinesDeleted(_){return!0}onLinesInserted(_){return!0}onScrollChanged(_){return this._scrollLeft=_.scrollLeft,this._scrollTop=_.scrollTop,!0}onZonesChanged(_){return!0}isFocused(){return this._textAreaInput.isFocused()}focusTextArea(){this._textAreaInput.focusTextArea()}getLastRenderData(){return this._lastRenderPosition}setAriaOptions(_){_.activeDescendant?(this.textArea.setAttribute("aria-haspopup","true"),this.textArea.setAttribute("aria-autocomplete","list"),this.textArea.setAttribute("aria-activedescendant",_.activeDescendant)):(this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),this.textArea.removeAttribute("aria-activedescendant")),_.role&&this.textArea.setAttribute("role",_.role)}prepareRender(_){var y;this._primaryCursorPosition=new l.Position(this._selections[0].positionLineNumber,this._selections[0].positionColumn),this._primaryCursorVisibleRange=_.visibleRangeForPosition(this._primaryCursorPosition),(y=this._visibleTextArea)===null||y===void 0||y.prepareRender(_)}render(_){this._textAreaInput.writeScreenReaderContent("render"),this._render()}_render(){if(this._visibleTextArea){const E=this._visibleTextArea.visibleTextareaStart,T=this._visibleTextArea.visibleTextareaEnd,I=this._visibleTextArea.startPosition,R=this._visibleTextArea.endPosition;if(I&&R&&E&&T&&T.left>=this._scrollLeft&&E.left<=this._scrollLeft+this._contentWidth){const F=this._context.viewLayout.getVerticalOffsetForLineNumber(this._primaryCursorPosition.lineNumber)-this._scrollTop,O=this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));let M=this._visibleTextArea.widthOfHiddenLineTextBefore,N=this._contentLeft+E.left-this._scrollLeft,A=T.left-E.left+1;if(N<this._contentLeft){const ie=this._contentLeft-N;N+=ie,M+=ie,A-=ie}A>this._contentWidth&&(A=this._contentWidth);const B=this._context.viewModel.getViewLineData(I.lineNumber),W=B.tokens.findTokenIndexAtOffset(I.column-1),x=B.tokens.findTokenIndexAtOffset(R.column-1),P=W===x,X=this._visibleTextArea.definePresentation(P?B.tokens.getPresentation(W):null);this.textArea.domNode.scrollTop=O*this._lineHeight,this.textArea.domNode.scrollLeft=M,this._doRender({lastRenderPosition:null,top:F,left:N,width:A,height:this._lineHeight,useCover:!1,color:(s.TokenizationRegistry.getColorMap()||[])[X.foreground],italic:X.italic,bold:X.bold,underline:X.underline,strikethrough:X.strikethrough})}return}if(!this._primaryCursorVisibleRange){this._renderAtTopLeft();return}const _=this._contentLeft+this._primaryCursorVisibleRange.left-this._scrollLeft;if(_<this._contentLeft||_>this._contentLeft+this._contentWidth){this._renderAtTopLeft();return}const y=this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber)-this._scrollTop;if(y<0||y>this._contentHeight){this._renderAtTopLeft();return}if(D.isMacintosh){this._doRender({lastRenderPosition:this._primaryCursorPosition,top:y,left:_,width:p?0:1,height:this._lineHeight,useCover:!1}),this.textArea.domNode.scrollLeft=this._primaryCursorVisibleRange.left;const E=this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));this.textArea.domNode.scrollTop=E*this._lineHeight;return}this._doRender({lastRenderPosition:this._primaryCursorPosition,top:y,left:_,width:p?0:1,height:p?0:1,useCover:!1})}_newlinecount(_){let y=0,E=-1;do{if(E=_.indexOf(`
`,E+1),E===-1)break;y++}while(!0);return y}_renderAtTopLeft(){this._doRender({lastRenderPosition:null,top:0,left:0,width:p?0:1,height:p?0:1,useCover:!0})}_doRender(_){this._lastRenderPosition=_.lastRenderPosition;const y=this.textArea,E=this.textAreaCover;(0,b.applyFontInfo)(y,this._fontInfo),y.setTop(_.top),y.setLeft(_.left),y.setWidth(_.width),y.setHeight(_.height),y.setColor(_.color?a.Color.Format.CSS.formatHex(_.color):""),y.setFontStyle(_.italic?"italic":""),_.bold&&y.setFontWeight("bold"),y.setTextDecoration(`${_.underline?" underline":""}${_.strikethrough?" line-through":""}`),E.setTop(_.useCover?_.top:0),E.setLeft(_.useCover?_.left:0),E.setWidth(_.useCover?_.width:0),E.setHeight(_.useCover?_.height:0);const T=this._context.configuration.options;T.get(51)?E.setClassName("monaco-editor-background textAreaCover "+i.Margin.OUTER_CLASS_NAME):T.get(61).renderType!==0?E.setClassName("monaco-editor-background textAreaCover "+t.LineNumbersOverlay.CLASS_NAME):E.setClassName("monaco-editor-background textAreaCover")}}e.TextAreaHandler=S;function f(v,_){if(v.length===0)return 0;const y=document.createElement("div");y.style.position="absolute",y.style.top="-50000px",y.style.width="50000px";const E=document.createElement("span");(0,b.applyFontInfo)(E,_),E.style.whiteSpace="pre",E.append(v),y.appendChild(E),document.body.appendChild(y);const T=E.offsetWidth;return document.body.removeChild(y),T}}),define(se[700],re([1,0,35,31,48,11,28,54,75]),function(q,e,w,m,k,D,L,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DecorationsOverviewRuler=void 0;class h{constructor(i,n){const o=i.options;this.lineHeight=o.get(60),this.pixelRatio=o.get(131),this.overviewRulerLanes=o.get(75),this.renderBorder=o.get(74);const l=n.getColor(b.editorOverviewRulerBorder);this.borderColor=l?l.toString():null,this.hideCursor=o.get(53);const c=n.getColor(b.editorCursorForeground);this.cursorColor=c?c.transparent(.7).toString():null,this.themeType=n.type;const d=o.get(66),r=d.enabled,s=d.side,a=n.getColor(b.editorOverviewRulerBackground),u=L.TokenizationRegistry.getDefaultBackground();a?this.backgroundColor=a:r&&s==="right"?this.backgroundColor=u:this.backgroundColor=null;const S=o.get(133).overviewRuler;this.top=S.top,this.right=S.right,this.domWidth=S.width,this.domHeight=S.height,this.overviewRulerLanes===0?(this.canvasWidth=0,this.canvasHeight=0):(this.canvasWidth=this.domWidth*this.pixelRatio|0,this.canvasHeight=this.domHeight*this.pixelRatio|0);const[f,v]=this._initLanes(1,this.canvasWidth,this.overviewRulerLanes);this.x=f,this.w=v}_initLanes(i,n,o){const l=n-i;if(o>=3){const c=Math.floor(l/3),d=Math.floor(l/3),r=l-c-d,s=i,a=s+c,u=s+c+r;return[[0,s,a,s,u,s,a,s],[0,c,r,c+r,d,c+r+d,r+d,c+r+d]]}else if(o===2){const c=Math.floor(l/2),d=l-c,r=i,s=r+c;return[[0,r,r,r,s,r,r,r],[0,c,c,c,d,c+d,c+d,c+d]]}else{const c=i,d=l;return[[0,c,c,c,c,c,c,c],[0,d,d,d,d,d,d,d]]}}equals(i){return this.lineHeight===i.lineHeight&&this.pixelRatio===i.pixelRatio&&this.overviewRulerLanes===i.overviewRulerLanes&&this.renderBorder===i.renderBorder&&this.borderColor===i.borderColor&&this.hideCursor===i.hideCursor&&this.cursorColor===i.cursorColor&&this.themeType===i.themeType&&m.Color.equals(this.backgroundColor,i.backgroundColor)&&this.top===i.top&&this.right===i.right&&this.domWidth===i.domWidth&&this.domHeight===i.domHeight&&this.canvasWidth===i.canvasWidth&&this.canvasHeight===i.canvasHeight}}class g extends k.ViewPart{constructor(i){super(i),this._domNode=(0,w.createFastDomNode)(document.createElement("canvas")),this._domNode.setClassName("decorationsOverviewRuler"),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._domNode.setAttribute("aria-hidden","true"),this._updateSettings(!1),this._tokensColorTrackerListener=L.TokenizationRegistry.onDidChange(n=>{n.changedColorMap&&this._updateSettings(!0)}),this._cursorPositions=[]}dispose(){super.dispose(),this._tokensColorTrackerListener.dispose()}_updateSettings(i){const n=new h(this._context.configuration,this._context.theme);return this._settings&&this._settings.equals(n)?!1:(this._settings=n,this._domNode.setTop(this._settings.top),this._domNode.setRight(this._settings.right),this._domNode.setWidth(this._settings.domWidth),this._domNode.setHeight(this._settings.domHeight),this._domNode.domNode.width=this._settings.canvasWidth,this._domNode.domNode.height=this._settings.canvasHeight,i&&this._render(),!0)}onConfigurationChanged(i){return this._updateSettings(!1)}onCursorStateChanged(i){this._cursorPositions=[];for(let n=0,o=i.selections.length;n<o;n++)this._cursorPositions[n]=i.selections[n].getPosition();return this._cursorPositions.sort(D.Position.compare),!0}onDecorationsChanged(i){return!!i.affectsOverviewRuler}onFlushed(i){return!0}onScrollChanged(i){return i.scrollHeightChanged}onZonesChanged(i){return!0}onThemeChanged(i){return this._updateSettings(!1)}getDomNode(){return this._domNode.domNode}prepareRender(i){}render(i){this._render()}_render(){const i=this._settings.backgroundColor;if(this._settings.overviewRulerLanes===0){this._domNode.setBackgroundColor(i?m.Color.Format.CSS.formatHexA(i):""),this._domNode.setDisplay("none");return}this._domNode.setDisplay("block");const n=this._settings.canvasWidth,o=this._settings.canvasHeight,l=this._settings.lineHeight,c=this._context.viewLayout,d=this._context.viewLayout.getScrollHeight(),r=o/d,s=this._context.viewModel.getAllOverviewRulerDecorations(this._context.theme),a=6*this._settings.pixelRatio|0,u=a/2|0,p=this._domNode.domNode.getContext("2d");i?i.isOpaque()?(p.fillStyle=m.Color.Format.CSS.formatHexA(i),p.fillRect(0,0,n,o)):(p.clearRect(0,0,n,o),p.fillStyle=m.Color.Format.CSS.formatHexA(i),p.fillRect(0,0,n,o)):p.clearRect(0,0,n,o);const S=this._settings.x,f=this._settings.w;s.sort(C.OverviewRulerDecorationsGroup.cmp);for(const v of s){const _=v.color,y=v.data;p.fillStyle=_;let E=0,T=0,I=0;for(let R=0,F=y.length/3;R<F;R++){const O=y[3*R],M=y[3*R+1],N=y[3*R+2];let A=c.getVerticalOffsetForLineNumber(M)*r|0,B=(c.getVerticalOffsetForLineNumber(N)+l)*r|0;if(B-A<a){let x=(A+B)/2|0;x<u?x=u:x+u>o&&(x=o-u),A=x-u,B=x+u}A>I+1||O!==E?(R!==0&&p.fillRect(S[E],T,f[E],I-T),E=O,T=A,I=B):B>I&&(I=B)}p.fillRect(S[E],T,f[E],I-T)}if(!this._settings.hideCursor&&this._settings.cursorColor){const v=2*this._settings.pixelRatio|0,_=v/2|0,y=this._settings.x[7],E=this._settings.w[7];p.fillStyle=this._settings.cursorColor;let T=-100,I=-100;for(let R=0,F=this._cursorPositions.length;R<F;R++){const O=this._cursorPositions[R];let M=c.getVerticalOffsetForLineNumber(O.lineNumber)*r|0;M<_?M=_:M+_>o&&(M=o-_);const N=M-_,A=N+v;N>I+1?(R!==0&&p.fillRect(y,T,E,I-T),T=N,I=A):A>I&&(I=A)}p.fillRect(y,T,E,I-T)}this._settings.renderBorder&&this._settings.borderColor&&this._settings.overviewRulerLanes>0&&(p.beginPath(),p.lineWidth=1,p.strokeStyle=this._settings.borderColor,p.moveTo(0,0),p.lineTo(0,o),p.stroke(),p.moveTo(0,0),p.lineTo(n,0),p.stroke())}}e.DecorationsOverviewRuler=g}),define(se[701],re([1,0,35,48,54,16,373]),function(q,e,w,m,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Rulers=void 0;class L extends m.ViewPart{constructor(C){super(C),this.domNode=(0,w.createFastDomNode)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("view-rulers"),this._renderedRulers=[];const h=this._context.configuration.options;this._rulers=h.get(92),this._typicalHalfwidthCharacterWidth=h.get(45).typicalHalfwidthCharacterWidth}dispose(){super.dispose()}onConfigurationChanged(C){const h=this._context.configuration.options;return this._rulers=h.get(92),this._typicalHalfwidthCharacterWidth=h.get(45).typicalHalfwidthCharacterWidth,!0}onScrollChanged(C){return C.scrollHeightChanged}prepareRender(C){}_ensureRulersCount(){const C=this._renderedRulers.length,h=this._rulers.length;if(C===h)return;if(C<h){const{tabSize:t}=this._context.viewModel.model.getOptions(),i=t;let n=h-C;for(;n>0;){const o=(0,w.createFastDomNode)(document.createElement("div"));o.setClassName("view-ruler"),o.setWidth(i),this.domNode.appendChild(o),this._renderedRulers.push(o),n--}return}let g=C-h;for(;g>0;){const t=this._renderedRulers.pop();this.domNode.removeChild(t),g--}}render(C){this._ensureRulersCount();for(let h=0,g=this._rulers.length;h<g;h++){const t=this._renderedRulers[h],i=this._rulers[h];t.setBoxShadow(i.color?`1px 0 0 0 ${i.color} inset`:""),t.setHeight(Math.min(C.scrollHeight,1e6)),t.setLeft(i.column*this._typicalHalfwidthCharacterWidth)}}}e.Rulers=L,(0,D.registerThemingParticipant)((b,C)=>{const h=b.getColor(k.editorRuler);h&&C.addRule(`.monaco-editor .view-ruler { box-shadow: 1px 0 0 0 ${h} inset; }`)})}),define(se[702],re([1,0,35,10,48,549,38,54,16,53,376]),function(q,e,w,m,k,D,L,b,C,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewCursors=void 0;class g extends k.ViewPart{constructor(i){super(i);const n=this._context.configuration.options;this._readOnly=n.get(82),this._cursorBlinking=n.get(22),this._cursorStyle=n.get(24),this._cursorSmoothCaretAnimation=n.get(23),this._selectionIsEmpty=!0,this._isComposingInput=!1,this._isVisible=!1,this._primaryCursor=new D.ViewCursor(this._context),this._secondaryCursors=[],this._renderData=[],this._domNode=(0,w.createFastDomNode)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._updateDomClassName(),this._domNode.appendChild(this._primaryCursor.getDomNode()),this._startCursorBlinkAnimation=new m.TimeoutTimer,this._cursorFlatBlinkInterval=new m.IntervalTimer,this._blinkingEnabled=!1,this._editorHasFocus=!1,this._updateBlinking()}dispose(){super.dispose(),this._startCursorBlinkAnimation.dispose(),this._cursorFlatBlinkInterval.dispose()}getDomNode(){return this._domNode}onCompositionStart(i){return this._isComposingInput=!0,this._updateBlinking(),!0}onCompositionEnd(i){return this._isComposingInput=!1,this._updateBlinking(),!0}onConfigurationChanged(i){const n=this._context.configuration.options;this._readOnly=n.get(82),this._cursorBlinking=n.get(22),this._cursorStyle=n.get(24),this._cursorSmoothCaretAnimation=n.get(23),this._updateBlinking(),this._updateDomClassName(),this._primaryCursor.onConfigurationChanged(i);for(let o=0,l=this._secondaryCursors.length;o<l;o++)this._secondaryCursors[o].onConfigurationChanged(i);return!0}_onCursorPositionChanged(i,n){if(this._primaryCursor.onCursorPositionChanged(i),this._updateBlinking(),this._secondaryCursors.length<n.length){const o=n.length-this._secondaryCursors.length;for(let l=0;l<o;l++){const c=new D.ViewCursor(this._context);this._domNode.domNode.insertBefore(c.getDomNode().domNode,this._primaryCursor.getDomNode().domNode.nextSibling),this._secondaryCursors.push(c)}}else if(this._secondaryCursors.length>n.length){const o=this._secondaryCursors.length-n.length;for(let l=0;l<o;l++)this._domNode.removeChild(this._secondaryCursors[0].getDomNode()),this._secondaryCursors.splice(0,1)}for(let o=0;o<n.length;o++)this._secondaryCursors[o].onCursorPositionChanged(n[o])}onCursorStateChanged(i){const n=[];for(let l=0,c=i.selections.length;l<c;l++)n[l]=i.selections[l].getPosition();this._onCursorPositionChanged(n[0],n.slice(1));const o=i.selections[0].isEmpty();return this._selectionIsEmpty!==o&&(this._selectionIsEmpty=o,this._updateDomClassName()),!0}onDecorationsChanged(i){return!0}onFlushed(i){return!0}onFocusChanged(i){return this._editorHasFocus=i.isFocused,this._updateBlinking(),!1}onLinesChanged(i){return!0}onLinesDeleted(i){return!0}onLinesInserted(i){return!0}onScrollChanged(i){return!0}onTokensChanged(i){const n=o=>{for(let l=0,c=i.ranges.length;l<c;l++)if(i.ranges[l].fromLineNumber<=o.lineNumber&&o.lineNumber<=i.ranges[l].toLineNumber)return!0;return!1};if(n(this._primaryCursor.getPosition()))return!0;for(const o of this._secondaryCursors)if(n(o.getPosition()))return!0;return!1}onZonesChanged(i){return!0}_getCursorBlinking(){return this._isComposingInput||!this._editorHasFocus?0:this._readOnly?5:this._cursorBlinking}_updateBlinking(){this._startCursorBlinkAnimation.cancel(),this._cursorFlatBlinkInterval.cancel();const i=this._getCursorBlinking(),n=i===0,o=i===5;n?this._hide():this._show(),this._blinkingEnabled=!1,this._updateDomClassName(),!n&&!o&&(i===1?this._cursorFlatBlinkInterval.cancelAndSet(()=>{this._isVisible?this._hide():this._show()},g.BLINK_INTERVAL):this._startCursorBlinkAnimation.setIfNotSet(()=>{this._blinkingEnabled=!0,this._updateDomClassName()},g.BLINK_INTERVAL))}_updateDomClassName(){this._domNode.setClassName(this._getClassName())}_getClassName(){let i="cursors-layer";switch(this._selectionIsEmpty||(i+=" has-selection"),this._cursorStyle){case L.TextEditorCursorStyle.Line:i+=" cursor-line-style";break;case L.TextEditorCursorStyle.Block:i+=" cursor-block-style";break;case L.TextEditorCursorStyle.Underline:i+=" cursor-underline-style";break;case L.TextEditorCursorStyle.LineThin:i+=" cursor-line-thin-style";break;case L.TextEditorCursorStyle.BlockOutline:i+=" cursor-block-outline-style";break;case L.TextEditorCursorStyle.UnderlineThin:i+=" cursor-underline-thin-style";break;default:i+=" cursor-line-style"}if(this._blinkingEnabled)switch(this._getCursorBlinking()){case 1:i+=" cursor-blink";break;case 2:i+=" cursor-smooth";break;case 3:i+=" cursor-phase";break;case 4:i+=" cursor-expand";break;case 5:i+=" cursor-solid";break;default:i+=" cursor-solid"}else i+=" cursor-solid";return this._cursorSmoothCaretAnimation&&(i+=" cursor-smooth-caret-animation"),i}_show(){this._primaryCursor.show();for(let i=0,n=this._secondaryCursors.length;i<n;i++)this._secondaryCursors[i].show();this._isVisible=!0}_hide(){this._primaryCursor.hide();for(let i=0,n=this._secondaryCursors.length;i<n;i++)this._secondaryCursors[i].hide();this._isVisible=!1}prepareRender(i){this._primaryCursor.prepareRender(i);for(let n=0,o=this._secondaryCursors.length;n<o;n++)this._secondaryCursors[n].prepareRender(i)}render(i){const n=[];let o=0;const l=this._primaryCursor.render(i);l&&(n[o++]=l);for(let c=0,d=this._secondaryCursors.length;c<d;c++){const r=this._secondaryCursors[c].render(i);r&&(n[o++]=r)}this._renderData=n}getLastRenderData(){return this._renderData}}e.ViewCursors=g,g.BLINK_INTERVAL=500,(0,C.registerThemingParticipant)((t,i)=>{const n=t.getColor(b.editorCursorForeground);if(n){let o=t.getColor(b.editorCursorBackground);o||(o=n.opposite()),i.addRule(`.monaco-editor .inputarea.ime-input { caret-color: ${n}; }`),i.addRule(`.monaco-editor .cursors-layer .cursor { background-color: ${n}; border-color: ${n}; color: ${o}; }`),(0,h.isHighContrast)(t.type)&&i.addRule(`.monaco-editor .cursors-layer.has-selection .cursor { border-left: 1px solid ${o}; border-right: 1px solid ${o}; }`)}})}),define(se[703],re([1,0,6,2,3,54,16]),function(q,e,w,m,k,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorizedBracketPairsDecorationProvider=void 0;class b extends m.Disposable{constructor(g){super(),this.textModel=g,this.colorProvider=new C,this.onDidChangeEmitter=new w.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this.colorizationOptions=g.getOptions().bracketPairColorizationOptions,this._register(g.bracketPairs.onDidChange(t=>{this.onDidChangeEmitter.fire()}))}handleDidChangeOptions(g){this.colorizationOptions=this.textModel.getOptions().bracketPairColorizationOptions}getDecorationsInRange(g,t,i,n){return n?[]:t===void 0?[]:this.colorizationOptions.enabled?this.textModel.bracketPairs.getBracketsInRange(g).map(l=>({id:`bracket${l.range.toString()}-${l.nestingLevel}`,options:{description:"BracketPairColorization",inlineClassName:this.colorProvider.getInlineClassName(l,this.colorizationOptions.independentColorPoolPerBracketType)},ownerId:0,range:l.range})).toArray():[]}getAllDecorations(g,t){return g===void 0?[]:this.colorizationOptions.enabled?this.getDecorationsInRange(new k.Range(1,1,this.textModel.getLineCount(),1),g,t):[]}}e.ColorizedBracketPairsDecorationProvider=b;class C{constructor(){this.unexpectedClosingBracketClassName="unexpected-closing-bracket"}getInlineClassName(g,t){return g.isInvalid?this.unexpectedClosingBracketClassName:this.getInlineClassNameOfLevel(t?g.nestingLevelOfEqualBracketType:g.nestingLevel)}getInlineClassNameOfLevel(g){return`bracket-highlighting-${g%30}`}}(0,L.registerThemingParticipant)((h,g)=>{const t=[D.editorBracketHighlightingForeground1,D.editorBracketHighlightingForeground2,D.editorBracketHighlightingForeground3,D.editorBracketHighlightingForeground4,D.editorBracketHighlightingForeground5,D.editorBracketHighlightingForeground6],i=new C;g.addRule(`.monaco-editor .${i.unexpectedClosingBracketClassName} { color: ${h.getColor(D.editorBracketHighlightingUnexpectedBracketForeground)}; }`);const n=t.map(o=>h.getColor(o)).filter(o=>!!o).filter(o=>!o.isTransparent());for(let o=0;o<30;o++){const l=n[o%n.length];g.addRule(`.monaco-editor .${i.getInlineClassNameOfLevel(o)} { color: ${l}; }`)}})}),define(se[704],re([1,0,87,2,47,16,54,51,3,49,6,23,59]),function(q,e,w,m,k,D,L,b,C,h,g,t,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerDecorationsService=void 0;class n extends m.Disposable{constructor(c){super(),this.model=c,this._markersData=new Map,this._register((0,m.toDisposable)(()=>{this.model.deltaDecorations([...this._markersData.keys()],[]),this._markersData.clear()}))}update(c,d){const r=[...this._markersData.keys()];this._markersData.clear();const s=this.model.deltaDecorations(r,d);for(let a=0;a<s.length;a++)this._markersData.set(s[a],c[a]);return r.length!==0||s.length!==0}getMarker(c){return this._markersData.get(c.id)}}let o=class extends m.Disposable{constructor(c,d){super(),this._markerService=d,this._onDidChangeMarker=this._register(new g.Emitter),this._markerDecorations=new i.ResourceMap,c.getModels().forEach(r=>this._onModelAdded(r)),this._register(c.onModelAdded(this._onModelAdded,this)),this._register(c.onModelRemoved(this._onModelRemoved,this)),this._register(this._markerService.onMarkerChanged(this._handleMarkerChange,this))}dispose(){super.dispose(),this._markerDecorations.forEach(c=>c.dispose()),this._markerDecorations.clear()}getMarker(c,d){const r=this._markerDecorations.get(c);return r&&r.getMarker(d)||null}_handleMarkerChange(c){c.forEach(d=>{const r=this._markerDecorations.get(d);r&&this._updateDecorations(r)})}_onModelAdded(c){const d=new n(c);this._markerDecorations.set(c.uri,d),this._updateDecorations(d)}_onModelRemoved(c){var d;const r=this._markerDecorations.get(c.uri);r&&(r.dispose(),this._markerDecorations.delete(c.uri)),(c.uri.scheme===h.Schemas.inMemory||c.uri.scheme===h.Schemas.internal||c.uri.scheme===h.Schemas.vscode)&&((d=this._markerService)===null||d===void 0||d.read({resource:c.uri}).map(s=>s.owner).forEach(s=>this._markerService.remove(s,[c.uri])))}_updateDecorations(c){const d=this._markerService.read({resource:c.model.uri,take:500}),r=d.map(s=>({range:this._createDecorationRange(c.model,s),options:this._createDecorationOption(s)}));c.update(d,r)&&this._onDidChangeMarker.fire(c.model)}_createDecorationRange(c,d){let r=C.Range.lift(d);if(d.severity===w.MarkerSeverity.Hint&&!this._hasMarkerTag(d,1)&&!this._hasMarkerTag(d,2)&&(r=r.setEndPosition(r.startLineNumber,r.startColumn+2)),r=c.validateRange(r),r.isEmpty()){const s=c.getLineLastNonWhitespaceColumn(r.startLineNumber)||c.getLineMaxColumn(r.startLineNumber);if(s===1||r.endColumn>=s)return r;const a=c.getWordAtPosition(r.getStartPosition());a&&(r=new C.Range(r.startLineNumber,a.startColumn,r.endLineNumber,a.endColumn))}else if(d.endColumn===Number.MAX_VALUE&&d.startColumn===1&&r.startLineNumber===r.endLineNumber){const s=c.getLineFirstNonWhitespaceColumn(d.startLineNumber);s<r.endColumn&&(r=new C.Range(r.startLineNumber,s,r.endLineNumber,r.endColumn),d.startColumn=s)}return r}_createDecorationOption(c){let d,r,s,a,u;switch(c.severity){case w.MarkerSeverity.Hint:this._hasMarkerTag(c,2)?d=void 0:this._hasMarkerTag(c,1)?d="squiggly-unnecessary":d="squiggly-hint",s=0;break;case w.MarkerSeverity.Warning:d="squiggly-warning",r=(0,D.themeColorFromId)(L.overviewRulerWarning),s=20,u={color:(0,D.themeColorFromId)(t.minimapWarning),position:k.MinimapPosition.Inline};break;case w.MarkerSeverity.Info:d="squiggly-info",r=(0,D.themeColorFromId)(L.overviewRulerInfo),s=10;break;case w.MarkerSeverity.Error:default:d="squiggly-error",r=(0,D.themeColorFromId)(L.overviewRulerError),s=30,u={color:(0,D.themeColorFromId)(t.minimapError),position:k.MinimapPosition.Inline};break}return c.tags&&(c.tags.indexOf(1)!==-1&&(a="squiggly-inline-unnecessary"),c.tags.indexOf(2)!==-1&&(a="squiggly-inline-deprecated")),{description:"marker-decoration",stickiness:1,className:d,showIfCollapsed:!0,overviewRuler:{color:r,position:k.OverviewRulerLane.Right},minimap:u,zIndex:s,inlineClassName:a}}_hasMarkerTag(c,d){return c.tags?c.tags.indexOf(d)>=0:!1}};o=De([fe(0,b.IModelService),fe(1,w.IMarkerService)],o),e.MarkerDecorationsService=o}),define(se[305],re([1,0,111,16,72,448,39]),function(q,e,w,m,k,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toMultilineTokens2=e.SemanticTokensProviderStyling=void 0;let b=class{constructor(i,n,o,l){this._legend=i,this._themeService=n,this._languageService=o,this._logService=l,this._hasWarnedOverlappingTokens=!1,this._hasWarnedInvalidLengthTokens=!1,this._hasWarnedInvalidEditStart=!1,this._hashTable=new g}getMetadata(i,n,o){const l=this._languageService.languageIdCodec.encodeLanguageId(o),c=this._hashTable.get(i,n,l);let d;if(c)d=c.metadata,this._logService.getLevel()===k.LogLevel.Trace&&this._logService.trace(`SemanticTokensProviderStyling [CACHED] ${i} / ${n}: foreground ${w.TokenMetadata.getForeground(d)}, fontStyle ${w.TokenMetadata.getFontStyle(d).toString(2)}`);else{let r=this._legend.tokenTypes[i];const s=[];if(r){let a=n;for(let p=0;a>0&&p<this._legend.tokenModifiers.length;p++)a&1&&s.push(this._legend.tokenModifiers[p]),a=a>>1;a>0&&this._logService.getLevel()===k.LogLevel.Trace&&(this._logService.trace(`SemanticTokensProviderStyling: unknown token modifier index: ${n.toString(2)} for legend: ${JSON.stringify(this._legend.tokenModifiers)}`),s.push("not-in-legend"));const u=this._themeService.getColorTheme().getTokenStyleMetadata(r,s,o);typeof u>"u"?d=2147483647:(d=0,typeof u.italic<"u"&&(d|=(u.italic?1:0)<<11|1),typeof u.bold<"u"&&(d|=(u.bold?2:0)<<11|2),typeof u.underline<"u"&&(d|=(u.underline?4:0)<<11|4),typeof u.strikethrough<"u"&&(d|=(u.strikethrough?8:0)<<11|8),u.foreground&&(d|=u.foreground<<15|16),d===0&&(d=2147483647))}else this._logService.getLevel()===k.LogLevel.Trace&&this._logService.trace(`SemanticTokensProviderStyling: unknown token type index: ${i} for legend: ${JSON.stringify(this._legend.tokenTypes)}`),d=2147483647,r="not-in-legend";this._hashTable.add(i,n,l,d),this._logService.getLevel()===k.LogLevel.Trace&&this._logService.trace(`SemanticTokensProviderStyling ${i} (${r}) / ${n} (${s.join(" ")}): foreground ${w.TokenMetadata.getForeground(d)}, fontStyle ${w.TokenMetadata.getFontStyle(d).toString(2)}`)}return d}warnOverlappingSemanticTokens(i,n){this._hasWarnedOverlappingTokens||(this._hasWarnedOverlappingTokens=!0,console.warn(`Overlapping semantic tokens detected at lineNumber ${i}, column ${n}`))}warnInvalidLengthSemanticTokens(i,n){this._hasWarnedInvalidLengthTokens||(this._hasWarnedInvalidLengthTokens=!0,console.warn(`Semantic token with invalid length detected at lineNumber ${i}, column ${n}`))}warnInvalidEditStart(i,n,o,l,c){this._hasWarnedInvalidEditStart||(this._hasWarnedInvalidEditStart=!0,console.warn(`Invalid semantic tokens edit detected (previousResultId: ${i}, resultId: ${n}) at edit #${o}: The provided start offset ${l} is outside the previous data (length ${c}).`))}};b=De([fe(1,m.IThemeService),fe(2,L.ILanguageService),fe(3,k.ILogService)],b),e.SemanticTokensProviderStyling=b;function C(t,i,n){const o=t.data,l=t.data.length/5|0,c=Math.max(Math.ceil(l/1024),400),d=[];let r=0,s=1,a=0;for(;r<l;){const u=r;let p=Math.min(u+c,l);if(p<l){let T=p;for(;T-1>u&&o[5*T]===0;)T--;if(T-1===u){let I=p;for(;I+1<l&&o[5*I]===0;)I++;p=I}else p=T}let S=new Uint32Array((p-u)*4),f=0,v=0,_=0,y=0;for(;r<p;){const T=5*r,I=o[T],R=o[T+1],F=s+I|0,O=I===0?a+R|0:R,M=o[T+2],N=O+M|0,A=o[T+3],B=o[T+4];if(N<=O)i.warnInvalidLengthSemanticTokens(F,O+1);else if(_===F&&y>O)i.warnOverlappingSemanticTokens(F,O+1);else{const W=i.getMetadata(A,B,n);W!==2147483647&&(v===0&&(v=F),S[f]=F-v,S[f+1]=O,S[f+2]=N,S[f+3]=W,f+=4,_=F,y=N)}s=F,a=O,r++}f!==S.length&&(S=S.subarray(0,f));const E=D.SparseMultilineTokens.create(v,S);d.push(E)}return d}e.toMultilineTokens2=C;class h{constructor(i,n,o,l){this.tokenTypeIndex=i,this.tokenModifierSet=n,this.languageId=o,this.metadata=l,this.next=null}}class g{constructor(){this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=g._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<g._SIZES.length?2/3*this._currentLength:0),this._elements=[],g._nullOutEntries(this._elements,this._currentLength)}static _nullOutEntries(i,n){for(let o=0;o<n;o++)i[o]=null}_hash2(i,n){return(i<<5)-i+n|0}_hashFunc(i,n,o){return this._hash2(this._hash2(i,n),o)%this._currentLength}get(i,n,o){const l=this._hashFunc(i,n,o);let c=this._elements[l];for(;c;){if(c.tokenTypeIndex===i&&c.tokenModifierSet===n&&c.languageId===o)return c;c=c.next}return null}add(i,n,o,l){if(this._elementsCount++,this._growCount!==0&&this._elementsCount>=this._growCount){const c=this._elements;this._currentLengthIndex++,this._currentLength=g._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<g._SIZES.length?2/3*this._currentLength:0),this._elements=[],g._nullOutEntries(this._elements,this._currentLength);for(const d of c){let r=d;for(;r;){const s=r.next;r.next=null,this._add(r),r=s}}}this._add(new h(i,n,o,l))}_add(i){const n=this._hashFunc(i.tokenTypeIndex,i.tokenModifierSet,i.languageId);i.next=this._elements[n],this._elements[n]=i}}g._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143]}),define(se[705],re([1,0,7,60,27,6,2,19,190,564,41,23,16,383]),function(q,e,w,m,k,D,L,b,C,h,g,t,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LightBulbWidget=void 0;var n;(function(l){l.Hidden={type:0};class c{constructor(r,s,a,u){this.actions=r,this.trigger=s,this.editorPosition=a,this.widgetPosition=u,this.type=1}}l.Showing=c})(n||(n={}));let o=class Ti extends L.Disposable{constructor(c,d,r,s){super(),this._editor=c,this._onClick=this._register(new D.Emitter),this.onClick=this._onClick.event,this._state=n.Hidden,this._domNode=document.createElement("div"),this._domNode.className=k.Codicon.lightBulb.classNames,this._register(m.Gesture.ignoreTarget(this._domNode)),this._editor.addContentWidget(this),this._register(this._editor.onDidChangeModelContent(a=>{const u=this._editor.getModel();(this.state.type!==1||!u||this.state.editorPosition.lineNumber>=u.getLineCount())&&this.hide()})),this._register(w.addStandardDisposableGenericMouseDownListener(this._domNode,a=>{if(this.state.type!==1)return;this._editor.focus(),a.preventDefault();const{top:u,height:p}=w.getDomNodePagePosition(this._domNode),S=this._editor.getOption(60);let f=Math.floor(S/3);this.state.widgetPosition.position!==null&&this.state.widgetPosition.position.lineNumber<this.state.editorPosition.lineNumber&&(f+=S),this._onClick.fire({x:a.posx,y:u+p+f,actions:this.state.actions,trigger:this.state.trigger})})),this._register(w.addDisposableListener(this._domNode,"mouseenter",a=>{(a.buttons&1)===1&&this.hide()})),this._register(this._editor.onDidChangeConfiguration(a=>{a.hasChanged(58)&&!this._editor.getOption(58).enabled&&this.hide()})),this._register(D.Event.runAndSubscribe(s.onDidUpdateKeybindings,()=>{var a,u;this._preferredKbLabel=(0,b.withNullAsUndefined)((a=s.lookupKeybinding(r))===null||a===void 0?void 0:a.getLabel()),this._quickFixKbLabel=(0,b.withNullAsUndefined)((u=s.lookupKeybinding(d))===null||u===void 0?void 0:u.getLabel()),this._updateLightBulbTitleAndIcon()}))}dispose(){super.dispose(),this._editor.removeContentWidget(this)}getId(){return"LightBulbWidget"}getDomNode(){return this._domNode}getPosition(){return this._state.type===1?this._state.widgetPosition:null}update(c,d,r){if(c.validActions.length<=0)return this.hide();const s=this._editor.getOptions();if(!s.get(58).enabled)return this.hide();const a=this._editor.getModel();if(!a)return this.hide();const{lineNumber:u,column:p}=a.validatePosition(r),S=a.getOptions().tabSize,f=s.get(45),v=a.getLineContent(u),_=(0,C.computeIndentLevel)(v,S),y=f.spaceWidth*_>22,E=I=>I>2&&this._editor.getTopForLineNumber(I)===this._editor.getTopForLineNumber(I-1);let T=u;if(!y){if(u>1&&!E(u-1))T-=1;else if(!E(u+1))T+=1;else if(p*f.spaceWidth<22)return this.hide()}this.state=new n.Showing(c,d,r,{position:{lineNumber:T,column:1},preference:Ti._posPref}),this._editor.layoutContentWidget(this)}hide(){this.state!==n.Hidden&&(this.state=n.Hidden,this._editor.layoutContentWidget(this))}get state(){return this._state}set state(c){this._state=c,this._updateLightBulbTitleAndIcon()}_updateLightBulbTitleAndIcon(){if(this.state.type===1&&this.state.actions.hasAutoFix&&(this._domNode.classList.remove(...k.Codicon.lightBulb.classNamesArray),this._domNode.classList.add(...k.Codicon.lightbulbAutofix.classNamesArray),this._preferredKbLabel)){this.title=h.localize(0,null,this._preferredKbLabel);return}this._domNode.classList.remove(...k.Codicon.lightbulbAutofix.classNamesArray),this._domNode.classList.add(...k.Codicon.lightBulb.classNamesArray),this._quickFixKbLabel?this.title=h.localize(1,null,this._quickFixKbLabel):this.title=h.localize(2,null)}set title(c){this._domNode.title=c}};o._posPref=[0],o=De([fe(3,g.IKeybindingService)],o),e.LightBulbWidget=o,(0,i.registerThemingParticipant)((l,c)=>{var d;const r=(d=l.getColor(t.editorBackground))===null||d===void 0?void 0:d.transparent(.7),s=l.getColor(t.editorLightBulbForeground);s&&c.addRule(`
		.monaco-editor .contentWidgets ${k.Codicon.lightBulb.cssSelector} {
			color: ${s};
			background-color: ${r};
		}`);const a=l.getColor(t.editorLightBulbAutoFixForeground);a&&c.addRule(`
		.monaco-editor .contentWidgets ${k.Codicon.lightbulbAutofix.cssSelector} {
			color: ${a};
			background-color: ${r};
		}`)})}),define(se[706],re([1,0,42,7,135,66,31,6,2,566,23,16,385]),function(q,e,w,m,k,D,L,b,C,h,g,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorPickerWidget=e.ColorPickerBody=e.ColorPickerHeader=void 0;const i=m.$;class n extends C.Disposable{constructor(u,p,S){super(),this.model=p,this.domNode=i(".colorpicker-header"),m.append(u,this.domNode),this.pickedColorNode=m.append(this.domNode,i(".picked-color"));const f=(0,h.localize)(0,null);this.pickedColorNode.setAttribute("title",f);const v=m.append(this.domNode,i(".original-color"));v.style.backgroundColor=L.Color.Format.CSS.format(this.model.originalColor)||"",this.backgroundColor=S.getColorTheme().getColor(g.editorHoverBackground)||L.Color.white,this._register((0,t.registerThemingParticipant)((_,y)=>{this.backgroundColor=_.getColor(g.editorHoverBackground)||L.Color.white})),this._register(m.addDisposableListener(this.pickedColorNode,m.EventType.CLICK,()=>this.model.selectNextColorPresentation())),this._register(m.addDisposableListener(v,m.EventType.CLICK,()=>{this.model.color=this.model.originalColor,this.model.flushColor()})),this._register(p.onDidChangeColor(this.onDidChangeColor,this)),this._register(p.onDidChangePresentation(this.onDidChangePresentation,this)),this.pickedColorNode.style.backgroundColor=L.Color.Format.CSS.format(p.color)||"",this.pickedColorNode.classList.toggle("light",p.color.rgba.a<.5?this.backgroundColor.isLighter():p.color.isLighter()),this.onDidChangeColor(this.model.color)}onDidChangeColor(u){this.pickedColorNode.style.backgroundColor=L.Color.Format.CSS.format(u)||"",this.pickedColorNode.classList.toggle("light",u.rgba.a<.5?this.backgroundColor.isLighter():u.isLighter()),this.onDidChangePresentation()}onDidChangePresentation(){this.pickedColorNode.textContent=this.model.presentation?this.model.presentation.label:"",this.pickedColorNode.prepend(i(".codicon.codicon-color-mode"))}}e.ColorPickerHeader=n;class o extends C.Disposable{constructor(u,p,S){super(),this.model=p,this.pixelRatio=S,this.domNode=i(".colorpicker-body"),m.append(u,this.domNode),this.saturationBox=new l(this.domNode,this.model,this.pixelRatio),this._register(this.saturationBox),this._register(this.saturationBox.onDidChange(this.onDidSaturationValueChange,this)),this._register(this.saturationBox.onColorFlushed(this.flushColor,this)),this.opacityStrip=new d(this.domNode,this.model),this._register(this.opacityStrip),this._register(this.opacityStrip.onDidChange(this.onDidOpacityChange,this)),this._register(this.opacityStrip.onColorFlushed(this.flushColor,this)),this.hueStrip=new r(this.domNode,this.model),this._register(this.hueStrip),this._register(this.hueStrip.onDidChange(this.onDidHueChange,this)),this._register(this.hueStrip.onColorFlushed(this.flushColor,this))}flushColor(){this.model.flushColor()}onDidSaturationValueChange({s:u,v:p}){const S=this.model.color.hsva;this.model.color=new L.Color(new L.HSVA(S.h,u,p,S.a))}onDidOpacityChange(u){const p=this.model.color.hsva;this.model.color=new L.Color(new L.HSVA(p.h,p.s,p.v,u))}onDidHueChange(u){const p=this.model.color.hsva,S=(1-u)*360;this.model.color=new L.Color(new L.HSVA(S===360?0:S,p.s,p.v,p.a))}layout(){this.saturationBox.layout(),this.opacityStrip.layout(),this.hueStrip.layout()}}e.ColorPickerBody=o;class l extends C.Disposable{constructor(u,p,S){super(),this.model=p,this.pixelRatio=S,this._onDidChange=new b.Emitter,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new b.Emitter,this.onColorFlushed=this._onColorFlushed.event,this.domNode=i(".saturation-wrap"),m.append(u,this.domNode),this.canvas=document.createElement("canvas"),this.canvas.className="saturation-box",m.append(this.domNode,this.canvas),this.selection=i(".saturation-selection"),m.append(this.domNode,this.selection),this.layout(),this._register(m.addDisposableListener(this.domNode,m.EventType.POINTER_DOWN,f=>this.onPointerDown(f))),this._register(this.model.onDidChangeColor(this.onDidChangeColor,this)),this.monitor=null}onPointerDown(u){if(!u.target||!(u.target instanceof Element))return;this.monitor=this._register(new k.GlobalPointerMoveMonitor);const p=m.getDomNodePagePosition(this.domNode);u.target!==this.selection&&this.onDidChangePosition(u.offsetX,u.offsetY),this.monitor.startMonitoring(u.target,u.pointerId,u.buttons,f=>this.onDidChangePosition(f.pageX-p.left,f.pageY-p.top),()=>null);const S=m.addDisposableListener(document,m.EventType.POINTER_UP,()=>{this._onColorFlushed.fire(),S.dispose(),this.monitor&&(this.monitor.stopMonitoring(!0),this.monitor=null)},!0)}onDidChangePosition(u,p){const S=Math.max(0,Math.min(1,u/this.width)),f=Math.max(0,Math.min(1,1-p/this.height));this.paintSelection(S,f),this._onDidChange.fire({s:S,v:f})}layout(){this.width=this.domNode.offsetWidth,this.height=this.domNode.offsetHeight,this.canvas.width=this.width*this.pixelRatio,this.canvas.height=this.height*this.pixelRatio,this.paint();const u=this.model.color.hsva;this.paintSelection(u.s,u.v)}paint(){const u=this.model.color.hsva,p=new L.Color(new L.HSVA(u.h,1,1,1)),S=this.canvas.getContext("2d"),f=S.createLinearGradient(0,0,this.canvas.width,0);f.addColorStop(0,"rgba(255, 255, 255, 1)"),f.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),f.addColorStop(1,"rgba(255, 255, 255, 0)");const v=S.createLinearGradient(0,0,0,this.canvas.height);v.addColorStop(0,"rgba(0, 0, 0, 0)"),v.addColorStop(1,"rgba(0, 0, 0, 1)"),S.rect(0,0,this.canvas.width,this.canvas.height),S.fillStyle=L.Color.Format.CSS.format(p),S.fill(),S.fillStyle=f,S.fill(),S.fillStyle=v,S.fill()}paintSelection(u,p){this.selection.style.left=`${u*this.width}px`,this.selection.style.top=`${this.height-p*this.height}px`}onDidChangeColor(){this.monitor&&this.monitor.isMonitoring()||this.paint()}}class c extends C.Disposable{constructor(u,p){super(),this.model=p,this._onDidChange=new b.Emitter,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new b.Emitter,this.onColorFlushed=this._onColorFlushed.event,this.domNode=m.append(u,i(".strip")),this.overlay=m.append(this.domNode,i(".overlay")),this.slider=m.append(this.domNode,i(".slider")),this.slider.style.top="0px",this._register(m.addDisposableListener(this.domNode,m.EventType.POINTER_DOWN,S=>this.onPointerDown(S))),this.layout()}layout(){this.height=this.domNode.offsetHeight-this.slider.offsetHeight;const u=this.getValue(this.model.color);this.updateSliderPosition(u)}onPointerDown(u){if(!u.target||!(u.target instanceof Element))return;const p=this._register(new k.GlobalPointerMoveMonitor),S=m.getDomNodePagePosition(this.domNode);this.domNode.classList.add("grabbing"),u.target!==this.slider&&this.onDidChangeTop(u.offsetY),p.startMonitoring(u.target,u.pointerId,u.buttons,v=>this.onDidChangeTop(v.pageY-S.top),()=>null);const f=m.addDisposableListener(document,m.EventType.POINTER_UP,()=>{this._onColorFlushed.fire(),f.dispose(),p.stopMonitoring(!0),this.domNode.classList.remove("grabbing")},!0)}onDidChangeTop(u){const p=Math.max(0,Math.min(1,1-u/this.height));this.updateSliderPosition(p),this._onDidChange.fire(p)}updateSliderPosition(u){this.slider.style.top=`${(1-u)*this.height}px`}}class d extends c{constructor(u,p){super(u,p),this.domNode.classList.add("opacity-strip"),this._register(p.onDidChangeColor(this.onDidChangeColor,this)),this.onDidChangeColor(this.model.color)}onDidChangeColor(u){const{r:p,g:S,b:f}=u.rgba,v=new L.Color(new L.RGBA(p,S,f,1)),_=new L.Color(new L.RGBA(p,S,f,0));this.overlay.style.background=`linear-gradient(to bottom, ${v} 0%, ${_} 100%)`}getValue(u){return u.hsva.a}}class r extends c{constructor(u,p){super(u,p),this.domNode.classList.add("hue-strip")}getValue(u){return 1-u.hsva.h/360}}class s extends D.Widget{constructor(u,p,S,f){super(),this.model=p,this.pixelRatio=S,this._register(w.PixelRatio.onDidChange(()=>this.layout()));const v=i(".colorpicker-widget");u.appendChild(v);const _=new n(v,this.model,f);this.body=new o(v,this.model,this.pixelRatio),this._register(_),this._register(this.body)}layout(){this.body.layout()}}e.ColorPickerWidget=s}),define(se[707],re([1,0,7,260,262,203,62,2,44,61,586,9,41,143,121,16,140]),function(q,e,w,m,k,D,L,b,C,h,g,t,i,n,o,l,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AccessibilityProvider=e.OneReferenceRenderer=e.FileReferencesRenderer=e.IdentityProvider=e.StringRepresentationProvider=e.Delegate=e.DataSource=void 0;let d=class{constructor(y){this._resolverService=y}hasChildren(y){return y instanceof c.ReferencesModel||y instanceof c.FileReferences}getChildren(y){if(y instanceof c.ReferencesModel)return y.groups;if(y instanceof c.FileReferences)return y.resolve(this._resolverService).then(E=>E.children);throw new Error("bad tree")}};d=De([fe(0,h.ITextModelService)],d),e.DataSource=d;class r{getHeight(){return 23}getTemplateId(y){return y instanceof c.FileReferences?p.id:f.id}}e.Delegate=r;let s=class{constructor(y){this._keybindingService=y}getKeyboardNavigationLabel(y){var E;if(y instanceof c.OneReference){const T=(E=y.parent.getPreview(y))===null||E===void 0?void 0:E.preview(y.range);if(T)return T.value}return(0,C.basename)(y.uri)}};s=De([fe(0,i.IKeybindingService)],s),e.StringRepresentationProvider=s;class a{getId(y){return y instanceof c.OneReference?y.id:y.uri}}e.IdentityProvider=a;let u=class extends b.Disposable{constructor(y,E,T){super(),this._labelService=E;const I=document.createElement("div");I.classList.add("reference-file"),this.file=this._register(new D.IconLabel(I,{supportHighlights:!0})),this.badge=new m.CountBadge(w.append(I,w.$(".count"))),this._register((0,o.attachBadgeStyler)(this.badge,T)),y.appendChild(I)}set(y,E){const T=(0,C.dirname)(y.uri);this.file.setLabel(this._labelService.getUriBasenameLabel(y.uri),this._labelService.getUriLabel(T,{relative:!0}),{title:this._labelService.getUriLabel(y.uri),matches:E});const I=y.children.length;this.badge.setCount(I),I>1?this.badge.setTitleFormat((0,g.localize)(0,null,I)):this.badge.setTitleFormat((0,g.localize)(1,null,I))}};u=De([fe(1,n.ILabelService),fe(2,l.IThemeService)],u);let p=class Mi{constructor(y){this._instantiationService=y,this.templateId=Mi.id}renderTemplate(y){return this._instantiationService.createInstance(u,y)}renderElement(y,E,T){T.set(y.element,(0,L.createMatches)(y.filterData))}disposeTemplate(y){y.dispose()}};p.id="FileReferencesRenderer",p=De([fe(0,t.IInstantiationService)],p),e.FileReferencesRenderer=p;class S{constructor(y){this.label=new k.HighlightedLabel(y)}set(y,E){var T;const I=(T=y.parent.getPreview(y))===null||T===void 0?void 0:T.preview(y.range);if(!I||!I.value)this.label.set(`${(0,C.basename)(y.uri)}:${y.range.startLineNumber+1}:${y.range.startColumn+1}`);else{const{value:R,highlight:F}=I;E&&!L.FuzzyScore.isDefault(E)?(this.label.element.classList.toggle("referenceMatch",!1),this.label.set(R,(0,L.createMatches)(E))):(this.label.element.classList.toggle("referenceMatch",!0),this.label.set(R,[F]))}}}class f{constructor(){this.templateId=f.id}renderTemplate(y){return new S(y)}renderElement(y,E,T){T.set(y.element,y.filterData)}disposeTemplate(){}}e.OneReferenceRenderer=f,f.id="OneReferenceRenderer";class v{getWidgetAriaLabel(){return(0,g.localize)(2,null)}getAriaLabel(y){return y.ariaMessage}}e.AccessibilityProvider=v}),define(se[708],re([1,0,7,2,8,69,38,84,11,3,94,47,39,54,134,116,167,9,16,392]),function(q,e,w,m,k,D,L,b,C,h,g,t,i,n,o,l,c,d,r){"use strict";var s;Object.defineProperty(e,"__esModule",{value:!0}),e.GhostTextWidget=void 0;const a=(s=window.trustedTypes)===null||s===void 0?void 0:s.createPolicy("editorGhostText",{createHTML:y=>y});let u=class extends m.Disposable{constructor(E,T,I,R){super(),this.editor=E,this.model=T,this.instantiationService=I,this.languageService=R,this.disposed=!1,this.partsWidget=this._register(this.instantiationService.createInstance(S,this.editor)),this.additionalLinesWidget=this._register(new f(this.editor,this.languageService.languageIdCodec)),this.viewMoreContentWidget=void 0,this.replacementDecoration=this._register(new p(this.editor)),this._register(this.editor.onDidChangeConfiguration(F=>{(F.hasChanged(29)||F.hasChanged(107)||F.hasChanged(89)||F.hasChanged(84)||F.hasChanged(46)||F.hasChanged(45)||F.hasChanged(60))&&this.update()})),this._register((0,m.toDisposable)(()=>{var F;this.disposed=!0,this.update(),(F=this.viewMoreContentWidget)===null||F===void 0||F.dispose(),this.viewMoreContentWidget=void 0})),this._register(T.onDidChange(()=>{this.update()})),this.update()}shouldShowHoverAtViewZone(E){return this.additionalLinesWidget.viewZoneId===E}update(){var E;const T=this.model.ghostText;if(!this.editor.hasModel()||!T||this.disposed){this.partsWidget.clear(),this.additionalLinesWidget.clear(),this.replacementDecoration.clear();return}const I=new Array,R=new Array;function F(A,B){if(R.length>0){const W=R[R.length-1];B&&W.decorations.push(new o.LineDecoration(W.content.length+1,W.content.length+1+A[0].length,B,0)),W.content+=A[0],A=A.slice(1)}for(const W of A)R.push({content:W,decorations:B?[new o.LineDecoration(1,W.length+1,B,0)]:[]})}T instanceof c.GhostTextReplacement?this.replacementDecoration.setDecorations([{range:new h.Range(T.lineNumber,T.columnStart,T.lineNumber,T.columnStart+T.length),options:{inlineClassName:"inline-completion-text-to-replace",description:"GhostTextReplacement"}}]):this.replacementDecoration.setDecorations([]);const O=this.editor.getModel().getLineContent(T.lineNumber);let M,N=0;for(const A of T.parts){let B=A.lines;M===void 0?(I.push({column:A.column,text:B[0],preview:A.preview}),B=B.slice(1)):F([O.substring(N,A.column-1)],void 0),B.length>0&&(F(B,"ghost-text"),M===void 0&&A.column<=O.length&&(M=A.column)),N=A.column-1}M!==void 0&&F([O.substring(N)],void 0),this.partsWidget.setParts(T.lineNumber,I,M!==void 0?{column:M,length:O.length+1-M}:void 0),this.additionalLinesWidget.updateLines(T.lineNumber,R,T.additionalReservedLineCount),0<0?this.viewMoreContentWidget=this.renderViewMoreLines(new C.Position(T.lineNumber,this.editor.getModel().getLineMaxColumn(T.lineNumber)),"",0):((E=this.viewMoreContentWidget)===null||E===void 0||E.dispose(),this.viewMoreContentWidget=void 0)}renderViewMoreLines(E,T,I){const R=this.editor.getOption(45),F=document.createElement("div");F.className="suggest-preview-additional-widget",(0,D.applyFontInfo)(F,R);const O=document.createElement("span");O.className="content-spacer",O.append(T),F.append(O);const M=document.createElement("span");M.className="content-newline suggest-preview-text",M.append("\u23CE  "),F.append(M);const N=new m.DisposableStore,A=document.createElement("div");return A.className="button suggest-preview-text",A.append(`+${I} lines\u2026`),N.add(w.addStandardDisposableListener(A,"mousedown",B=>{var W;(W=this.model)===null||W===void 0||W.setExpanded(!0),B.preventDefault(),this.editor.focus()})),F.append(A),new _(this.editor,E,F,N)}};u=De([fe(2,d.IInstantiationService),fe(3,i.ILanguageService)],u),e.GhostTextWidget=u;class p{constructor(E){this.editor=E,this.decorationIds=[]}setDecorations(E){this.editor.changeDecorations(T=>{this.decorationIds=T.deltaDecorations(this.decorationIds,E)})}clear(){this.setDecorations([])}dispose(){this.clear()}}class S{constructor(E){this.editor=E,this.decorationIds=[]}dispose(){this.clear()}clear(){this.editor.changeDecorations(E=>{this.decorationIds=E.deltaDecorations(this.decorationIds,[])})}setParts(E,T,I){if(!this.editor.getModel())return;const F=new Array;I&&F.push({range:h.Range.fromPositions(new C.Position(E,I.column),new C.Position(E,I.column+I.length)),options:{inlineClassName:"ghost-text-hidden",description:"ghost-text-hidden"}}),this.editor.changeDecorations(O=>{this.decorationIds=O.deltaDecorations(this.decorationIds,T.map(M=>({range:h.Range.fromPositions(new C.Position(E,M.column)),options:{description:"ghost-text",after:{content:M.text,inlineClassName:M.preview?"ghost-text-decoration-preview":"ghost-text-decoration",cursorStops:t.InjectedTextCursorStops.Left},showIfCollapsed:!0}})).concat(F))})}}class f{get viewZoneId(){return this._viewZoneId}constructor(E,T){this.editor=E,this.languageIdCodec=T,this._viewZoneId=void 0}dispose(){this.clear()}clear(){this.editor.changeViewZones(E=>{this._viewZoneId&&(E.removeZone(this._viewZoneId),this._viewZoneId=void 0)})}updateLines(E,T,I){const R=this.editor.getModel();if(!R)return;const{tabSize:F}=R.getOptions();this.editor.changeViewZones(O=>{this._viewZoneId&&(O.removeZone(this._viewZoneId),this._viewZoneId=void 0);const M=Math.max(T.length,I);if(M>0){const N=document.createElement("div");v(N,F,T,this.editor.getOptions(),this.languageIdCodec),this._viewZoneId=O.addZone({afterLineNumber:E,heightInLines:M,domNode:N,afterColumnAffinity:1})}})}}function v(y,E,T,I,R){const F=I.get(29),O=I.get(107),M="none",N=I.get(84),A=I.get(46),B=I.get(45),W=I.get(60),x=new g.StringBuilder(1e4);x.appendASCIIString('<div class="suggest-preview-text">');for(let ie=0,K=T.length;ie<K;ie++){const G=T[ie],Q=G.content;x.appendASCIIString('<div class="view-line'),x.appendASCIIString('" style="top:'),x.appendASCIIString(String(ie*W)),x.appendASCIIString('px;width:1000000px;">');const ne=k.isBasicASCII(Q),Z=k.containsRTL(Q),ee=b.LineTokens.createEmpty(Q,R);(0,l.renderViewLine)(new l.RenderLineInput(B.isMonospace&&!F,B.canUseHalfwidthRightwardsArrow,Q,!1,ne,Z,0,ee,G.decorations,E,0,B.spaceWidth,B.middotWidth,B.wsmiddotWidth,O,M,N,A!==L.EditorFontLigatures.OFF,null),x),x.appendASCIIString("</div>")}x.appendASCIIString("</div>"),(0,D.applyFontInfo)(y,B);const P=x.build(),X=a?a.createHTML(P):P;y.innerHTML=X}class _ extends m.Disposable{constructor(E,T,I,R){super(),this.editor=E,this.position=T,this.domNode=I,this.allowEditorOverflow=!1,this.suppressMouseDown=!1,this._register(R),this._register((0,m.toDisposable)(()=>{this.editor.removeContentWidget(this)})),this.editor.addContentWidget(this)}getId(){return"editor.widget.viewMoreLinesWidget"}getDomNode(){return this.domNode}getPosition(){return{position:this.position,preference:[0]}}}(0,r.registerThemingParticipant)((y,E)=>{const T=y.getColor(n.ghostTextForeground);T&&(E.addRule(`.monaco-editor .ghost-text-decoration { color: ${T.toString()} !important; }`),E.addRule(`.monaco-editor .ghost-text-decoration-preview { color: ${T.toString()} !important; }`),E.addRule(`.monaco-editor .suggest-preview-text .ghost-text { color: ${T.toString()} !important; }`));const I=y.getColor(n.ghostTextBackground);I&&(E.addRule(`.monaco-editor .ghost-text-decoration { background-color: ${I.toString()}; }`),E.addRule(`.monaco-editor .ghost-text-decoration-preview { background-color: ${I.toString()}; }`),E.addRule(`.monaco-editor .suggest-preview-text .ghost-text { background-color: ${I.toString()}; }`));const R=y.getColor(n.ghostTextBorder);R&&(E.addRule(`.monaco-editor .suggest-preview-text .ghost-text { border: 1px solid ${R}; }`),E.addRule(`.monaco-editor .ghost-text-decoration { border: 1px solid ${R}; }`),E.addRule(`.monaco-editor .ghost-text-decoration-preview { border: 1px solid ${R}; }`))})}),define(se[306],re([1,0,98,2,19,156,47,54,16]),function(q,e,w,m,k,D,L,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractEditorNavigationQuickAccessProvider=void 0;class h{constructor(t){this.options=t,this.rangeHighlightDecorationId=void 0}provide(t,i){var n;const o=new m.DisposableStore;t.canAcceptInBackground=!!(!((n=this.options)===null||n===void 0)&&n.canAcceptInBackground),t.matchOnLabel=t.matchOnDescription=t.matchOnDetail=t.sortByLabel=!1;const l=o.add(new m.MutableDisposable);return l.value=this.doProvide(t,i),o.add(this.onDidActiveTextEditorControlChange(()=>{l.value=void 0,l.value=this.doProvide(t,i)})),o}doProvide(t,i){const n=new m.DisposableStore,o=this.activeTextEditorControl;if(o&&this.canProvideWithTextEditor(o)){const l={editor:o},c=(0,D.getCodeEditor)(o);if(c){let d=(0,k.withNullAsUndefined)(o.saveViewState());n.add(c.onDidChangeCursorPosition(()=>{d=(0,k.withNullAsUndefined)(o.saveViewState())})),l.restoreViewState=()=>{d&&o===this.activeTextEditorControl&&o.restoreViewState(d)},n.add((0,w.once)(i.onCancellationRequested)(()=>{var r;return(r=l.restoreViewState)===null||r===void 0?void 0:r.call(l)}))}n.add((0,m.toDisposable)(()=>this.clearDecorations(o))),n.add(this.provideWithTextEditor(l,t,i))}else n.add(this.provideWithoutTextEditor(t,i));return n}canProvideWithTextEditor(t){return!0}gotoLocation({editor:t},i){t.setSelection(i.range),t.revealRangeInCenter(i.range,0),i.preserveFocus||t.focus()}getModel(t){var i;return(0,D.isDiffEditor)(t)?(i=t.getModel())===null||i===void 0?void 0:i.modified:t.getModel()}addDecorations(t,i){t.changeDecorations(n=>{const o=[];this.rangeHighlightDecorationId&&(o.push(this.rangeHighlightDecorationId.overviewRulerDecorationId),o.push(this.rangeHighlightDecorationId.rangeHighlightId),this.rangeHighlightDecorationId=void 0);const l=[{range:i,options:{description:"quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:i,options:{description:"quick-access-range-highlight-overview",overviewRuler:{color:(0,C.themeColorFromId)(b.overviewRulerRangeHighlight),position:L.OverviewRulerLane.Full}}}],[c,d]=n.deltaDecorations(o,l);this.rangeHighlightDecorationId={rangeHighlightId:c,overviewRulerDecorationId:d}})}clearDecorations(t){const i=this.rangeHighlightDecorationId;i&&(t.changeDecorations(n=>{n.deltaDecorations([i.overviewRulerDecorationId,i.rangeHighlightId],[])}),this.rangeHighlightDecorationId=void 0)}}e.AbstractEditorNavigationQuickAccessProvider=h}),define(se[709],re([1,0,2,156,306,607]),function(q,e,w,m,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractGotoLineQuickAccessProvider=void 0;class L extends k.AbstractEditorNavigationQuickAccessProvider{constructor(){super({canAcceptInBackground:!0})}provideWithoutTextEditor(C){const h=(0,D.localize)(0,null);return C.items=[{label:h}],C.ariaLabel=h,w.Disposable.None}provideWithTextEditor(C,h,g){const t=C.editor,i=new w.DisposableStore;i.add(h.onDidAccept(l=>{const[c]=h.selectedItems;if(c){if(!this.isValidLineNumber(t,c.lineNumber))return;this.gotoLocation(C,{range:this.toRange(c.lineNumber,c.column),keyMods:h.keyMods,preserveFocus:l.inBackground}),l.inBackground||h.hide()}}));const n=()=>{const l=this.parsePosition(t,h.value.trim().substr(L.PREFIX.length)),c=this.getPickLabel(t,l.lineNumber,l.column);if(h.items=[{lineNumber:l.lineNumber,column:l.column,label:c}],h.ariaLabel=c,!this.isValidLineNumber(t,l.lineNumber)){this.clearDecorations(t);return}const d=this.toRange(l.lineNumber,l.column);t.revealRangeInCenter(d,0),this.addDecorations(t,d)};n(),i.add(h.onDidChangeValue(()=>n()));const o=(0,m.getCodeEditor)(t);return o&&o.getOptions().get(61).renderType===2&&(o.updateOptions({lineNumbers:"on"}),i.add((0,w.toDisposable)(()=>o.updateOptions({lineNumbers:"relative"})))),i}toRange(C=1,h=1){return{startLineNumber:C,startColumn:h,endLineNumber:C,endColumn:h}}parsePosition(C,h){const g=h.split(/,|:|#/).map(i=>parseInt(i,10)).filter(i=>!isNaN(i)),t=this.lineCount(C)+1;return{lineNumber:g[0]>0?g[0]:t+g[0],column:g[1]}}getPickLabel(C,h,g){if(this.isValidLineNumber(C,h))return this.isValidColumn(C,h,g)?(0,D.localize)(1,null,h,g):(0,D.localize)(2,null,h);const t=C.getPosition()||{lineNumber:1,column:1},i=this.lineCount(C);return i>1?(0,D.localize)(3,null,t.lineNumber,t.column,i):(0,D.localize)(4,null,t.lineNumber,t.column)}isValidLineNumber(C,h){return!h||typeof h!="number"?!1:h>0&&h<=this.lineCount(C)}isValidColumn(C,h,g){if(!g||typeof g!="number")return!1;const t=this.getModel(C);if(!t)return!1;const i={lineNumber:h,column:g};return t.validatePosition(i).equals(i)}lineCount(C){var h,g;return(g=(h=this.getModel(C))===null||h===void 0?void 0:h.getLineCount())!==null&&g!==void 0?g:0}}e.AbstractGotoLineQuickAccessProvider=L,L.PREFIX=":"}),define(se[710],re([1,0,10,21,27,492,2,8,3,28,170,306,608,20,18]),function(q,e,w,m,k,D,L,b,C,h,g,t,i,n,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractGotoSymbolQuickAccessProvider=void 0;let l=class si extends t.AbstractEditorNavigationQuickAccessProvider{constructor(s,a,u=Object.create(null)){super(u),this._languageFeaturesService=s,this._outlineModelService=a,this.options=u,this.options.canAcceptInBackground=!0}provideWithoutTextEditor(s){return this.provideLabelPick(s,(0,i.localize)(0,null)),L.Disposable.None}provideWithTextEditor(s,a,u){const p=s.editor,S=this.getModel(p);return S?this._languageFeaturesService.documentSymbolProvider.has(S)?this.doProvideWithEditorSymbols(s,S,a,u):this.doProvideWithoutEditorSymbols(s,S,a,u):L.Disposable.None}doProvideWithoutEditorSymbols(s,a,u,p){const S=new L.DisposableStore;return this.provideLabelPick(u,(0,i.localize)(1,null)),Se(this,void 0,void 0,function*(){!(yield this.waitForLanguageSymbolRegistry(a,S))||p.isCancellationRequested||S.add(this.doProvideWithEditorSymbols(s,a,u,p))}),S}provideLabelPick(s,a){s.items=[{label:a,index:0,kind:14}],s.ariaLabel=a}waitForLanguageSymbolRegistry(s,a){return Se(this,void 0,void 0,function*(){if(this._languageFeaturesService.documentSymbolProvider.has(s))return!0;const u=new w.DeferredPromise,p=a.add(this._languageFeaturesService.documentSymbolProvider.onDidChange(()=>{this._languageFeaturesService.documentSymbolProvider.has(s)&&(p.dispose(),u.complete(!0))}));return a.add((0,L.toDisposable)(()=>u.complete(!1))),u.p})}doProvideWithEditorSymbols(s,a,u,p){var S;const f=s.editor,v=new L.DisposableStore;v.add(u.onDidAccept(I=>{const[R]=u.selectedItems;R&&R.range&&(this.gotoLocation(s,{range:R.range.selection,keyMods:u.keyMods,preserveFocus:I.inBackground}),I.inBackground||u.hide())})),v.add(u.onDidTriggerItemButton(({item:I})=>{I&&I.range&&(this.gotoLocation(s,{range:I.range.selection,keyMods:u.keyMods,forceSideBySide:!0}),u.hide())}));const _=this.getDocumentSymbols(a,p);let y;const E=I=>Se(this,void 0,void 0,function*(){y?.dispose(!0),u.busy=!1,y=new m.CancellationTokenSource(p),u.busy=!0;try{const R=(0,D.prepareQuery)(u.value.substr(si.PREFIX.length).trim()),F=yield this.doGetSymbolPicks(_,R,void 0,y.token);if(p.isCancellationRequested)return;if(F.length>0){if(u.items=F,I&&R.original.length===0){const O=(0,o.findLast)(F,M=>Boolean(M.type!=="separator"&&M.range&&C.Range.containsPosition(M.range.decoration,I)));O&&(u.activeItems=[O])}}else R.original.length>0?this.provideLabelPick(u,(0,i.localize)(2,null)):this.provideLabelPick(u,(0,i.localize)(3,null))}finally{p.isCancellationRequested||(u.busy=!1)}});v.add(u.onDidChangeValue(()=>E(void 0))),E((S=f.getSelection())===null||S===void 0?void 0:S.getPosition());let T=2;return v.add(u.onDidChangeActive(()=>{const[I]=u.activeItems;if(I&&I.range){if(T-- >0)return;f.revealRangeInCenter(I.range.selection,0),this.addDecorations(f,I.range.decoration)}})),v}doGetSymbolPicks(s,a,u,p){var S,f;return Se(this,void 0,void 0,function*(){const v=yield s;if(p.isCancellationRequested)return[];const _=a.original.indexOf(si.SCOPE_PREFIX)===0,y=_?1:0;let E,T;a.values&&a.values.length>1?(E=(0,D.pieceToQuery)(a.values[0]),T=(0,D.pieceToQuery)(a.values.slice(1))):E=a;let I;const R=(f=(S=this.options)===null||S===void 0?void 0:S.openSideBySideDirection)===null||f===void 0?void 0:f.call(S);R&&(I=[{iconClass:R==="right"?k.Codicon.splitHorizontal.classNames:k.Codicon.splitVertical.classNames,tooltip:R==="right"?(0,i.localize)(4,null):(0,i.localize)(5,null)}]);const F=[];for(let N=0;N<v.length;N++){const A=v[N],B=(0,b.trim)(A.name),W=`$(${h.SymbolKinds.toIcon(A.kind).id}) ${B}`,x=W.length-B.length;let P=A.containerName;u?.extraContainerLabel&&(P?P=`${u.extraContainerLabel} \u2022 ${P}`:P=u.extraContainerLabel);let X,ie,K,G;if(a.original.length>y){let ne=!1;if(E!==a&&([X,ie]=(0,D.scoreFuzzy2)(W,Object.assign(Object.assign({},a),{values:void 0}),y,x),typeof X=="number"&&(ne=!0)),typeof X!="number"&&([X,ie]=(0,D.scoreFuzzy2)(W,E,y,x),typeof X!="number"))continue;if(!ne&&T){if(P&&T.original.length>0&&([K,G]=(0,D.scoreFuzzy2)(P,T)),typeof K!="number")continue;typeof X=="number"&&(X+=K)}}const Q=A.tags&&A.tags.indexOf(1)>=0;F.push({index:N,kind:A.kind,score:X,label:W,ariaLabel:B,description:P,highlights:Q?void 0:{label:ie,description:G},range:{selection:C.Range.collapseToStart(A.selectionRange),decoration:A.range},strikethrough:Q,buttons:I})}const O=F.sort((N,A)=>_?this.compareByKindAndScore(N,A):this.compareByScore(N,A));let M=[];if(_){let W=function(){A&&typeof N=="number"&&B>0&&(A.label=(0,b.format)(d[N]||c,B))},N,A,B=0;for(const x of O)N!==x.kind?(W(),N=x.kind,B=1,A={type:"separator"},M.push(A)):B++,M.push(x);W()}else O.length>0&&(M=[{label:(0,i.localize)(6,null,F.length),type:"separator"},...O]);return M})}compareByScore(s,a){if(typeof s.score!="number"&&typeof a.score=="number")return 1;if(typeof s.score=="number"&&typeof a.score!="number")return-1;if(typeof s.score=="number"&&typeof a.score=="number"){if(s.score>a.score)return-1;if(s.score<a.score)return 1}return s.index<a.index?-1:s.index>a.index?1:0}compareByKindAndScore(s,a){const u=d[s.kind]||c,p=d[a.kind]||c,S=u.localeCompare(p);return S===0?this.compareByScore(s,a):S}getDocumentSymbols(s,a){return Se(this,void 0,void 0,function*(){const u=yield this._outlineModelService.getOrCreate(s,a);return a.isCancellationRequested?[]:u.asListOfDocumentSymbols()})}};l.PREFIX="@",l.SCOPE_PREFIX=":",l.PREFIX_BY_CATEGORY=`${l.PREFIX}${l.SCOPE_PREFIX}`,l=De([fe(0,n.ILanguageFeaturesService),fe(1,g.IOutlineModelService)],l),e.AbstractGotoSymbolQuickAccessProvider=l;const c=(0,i.localize)(7,null),d={[5]:(0,i.localize)(8,null),[11]:(0,i.localize)(9,null),[8]:(0,i.localize)(10,null),[12]:(0,i.localize)(11,null),[4]:(0,i.localize)(12,null),[22]:(0,i.localize)(13,null),[23]:(0,i.localize)(14,null),[24]:(0,i.localize)(15,null),[10]:(0,i.localize)(16,null),[2]:(0,i.localize)(17,null),[3]:(0,i.localize)(18,null),[25]:(0,i.localize)(19,null),[1]:(0,i.localize)(20,null),[6]:(0,i.localize)(21,null),[9]:(0,i.localize)(22,null),[21]:(0,i.localize)(23,null),[14]:(0,i.localize)(24,null),[0]:(0,i.localize)(25,null),[17]:(0,i.localize)(26,null),[15]:(0,i.localize)(27,null),[16]:(0,i.localize)(28,null),[18]:(0,i.localize)(29,null),[19]:(0,i.localize)(30,null),[7]:(0,i.localize)(31,null),[13]:(0,i.localize)(32,null)}}),define(se[711],re([1,0,2,11,611,15,41,23,16,397]),function(q,e,w,m,k,D,L,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RenameInputField=e.CONTEXT_RENAME_INPUT_VISIBLE=void 0,e.CONTEXT_RENAME_INPUT_VISIBLE=new D.RawContextKey("renameInputVisible",!1,(0,k.localize)(0,null));let h=class{constructor(t,i,n,o,l){this._editor=t,this._acceptKeybindings=i,this._themeService=n,this._keybindingService=o,this._disposables=new w.DisposableStore,this.allowEditorOverflow=!0,this._visibleContextKey=e.CONTEXT_RENAME_INPUT_VISIBLE.bindTo(l),this._editor.addContentWidget(this),this._disposables.add(this._editor.onDidChangeConfiguration(c=>{c.hasChanged(45)&&this._updateFont()})),this._disposables.add(n.onDidColorThemeChange(this._updateStyles,this))}dispose(){this._disposables.dispose(),this._editor.removeContentWidget(this)}getId(){return"__renameInputWidget"}getDomNode(){if(!this._domNode){this._domNode=document.createElement("div"),this._domNode.className="monaco-editor rename-box",this._input=document.createElement("input"),this._input.className="rename-input",this._input.type="text",this._input.setAttribute("aria-label",(0,k.localize)(1,null)),this._domNode.appendChild(this._input),this._label=document.createElement("div"),this._label.className="rename-label",this._domNode.appendChild(this._label);const t=()=>{var i,n;const[o,l]=this._acceptKeybindings;this._keybindingService.lookupKeybinding(o),this._label.innerText=(0,k.localize)(2,null,(i=this._keybindingService.lookupKeybinding(o))===null||i===void 0?void 0:i.getLabel(),(n=this._keybindingService.lookupKeybinding(l))===null||n===void 0?void 0:n.getLabel())};t(),this._disposables.add(this._keybindingService.onDidUpdateKeybindings(t)),this._updateFont(),this._updateStyles(this._themeService.getColorTheme())}return this._domNode}_updateStyles(t){var i,n,o,l;if(!this._input||!this._domNode)return;const c=t.getColor(b.widgetShadow);this._domNode.style.backgroundColor=String((i=t.getColor(b.editorWidgetBackground))!==null&&i!==void 0?i:""),this._domNode.style.boxShadow=c?` 0 0 8px 2px ${c}`:"",this._domNode.style.color=String((n=t.getColor(b.inputForeground))!==null&&n!==void 0?n:""),this._input.style.backgroundColor=String((o=t.getColor(b.inputBackground))!==null&&o!==void 0?o:"");const d=t.getColor(b.inputBorder);this._input.style.borderWidth=d?"1px":"0px",this._input.style.borderStyle=d?"solid":"none",this._input.style.borderColor=(l=d?.toString())!==null&&l!==void 0?l:"none"}_updateFont(){if(!this._input||!this._label)return;const t=this._editor.getOption(45);this._input.style.fontFamily=t.fontFamily,this._input.style.fontWeight=t.fontWeight,this._input.style.fontSize=`${t.fontSize}px`,this._label.style.fontSize=`${t.fontSize*.8}px`}getPosition(){return this._visible?{position:this._position,preference:[2,1]}:null}afterRender(t){t||this.cancelInput(!0)}acceptInput(t){var i;(i=this._currentAcceptInput)===null||i===void 0||i.call(this,t)}cancelInput(t){var i;(i=this._currentCancelInput)===null||i===void 0||i.call(this,t)}getInput(t,i,n,o,l,c){this._domNode.classList.toggle("preview",l),this._position=new m.Position(t.startLineNumber,t.startColumn),this._input.value=i,this._input.setAttribute("selectionStart",n.toString()),this._input.setAttribute("selectionEnd",o.toString()),this._input.size=Math.max((t.endColumn-t.startColumn)*1.1,20);const d=new w.DisposableStore;return new Promise(r=>{this._currentCancelInput=s=>(this._currentAcceptInput=void 0,this._currentCancelInput=void 0,r(s),!0),this._currentAcceptInput=s=>{if(this._input.value.trim().length===0||this._input.value===i){this.cancelInput(!0);return}this._currentAcceptInput=void 0,this._currentCancelInput=void 0,r({newName:this._input.value,wantsPreview:l&&s})},d.add(c.onCancellationRequested(()=>this.cancelInput(!0))),d.add(this._editor.onDidBlurEditorWidget(()=>this.cancelInput(!1))),this._show()}).finally(()=>{d.dispose(),this._hide()})}_show(){this._editor.revealLineInCenterIfOutsideViewport(this._position.lineNumber,0),this._visible=!0,this._visibleContextKey.set(!0),this._editor.layoutContentWidget(this),setTimeout(()=>{this._input.focus(),this._input.setSelectionRange(parseInt(this._input.getAttribute("selectionStart")),parseInt(this._input.getAttribute("selectionEnd")))},100)}_hide(){this._visible=!1,this._visibleContextKey.reset(),this._editor.layoutContentWidget(this)}};h=De([fe(2,C.IThemeService),fe(3,L.IKeybindingService),fe(4,D.IContextKeyService)],h),e.RenameInputField=h}),define(se[222],re([1,0,27,622,23,16]),function(q,e,w,m,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SYMBOL_ICON_VARIABLE_FOREGROUND=e.SYMBOL_ICON_UNIT_FOREGROUND=e.SYMBOL_ICON_TYPEPARAMETER_FOREGROUND=e.SYMBOL_ICON_TEXT_FOREGROUND=e.SYMBOL_ICON_STRUCT_FOREGROUND=e.SYMBOL_ICON_STRING_FOREGROUND=e.SYMBOL_ICON_SNIPPET_FOREGROUND=e.SYMBOL_ICON_REFERENCE_FOREGROUND=e.SYMBOL_ICON_PROPERTY_FOREGROUND=e.SYMBOL_ICON_PACKAGE_FOREGROUND=e.SYMBOL_ICON_OPERATOR_FOREGROUND=e.SYMBOL_ICON_OBJECT_FOREGROUND=e.SYMBOL_ICON_NUMBER_FOREGROUND=e.SYMBOL_ICON_NULL_FOREGROUND=e.SYMBOL_ICON_NAMESPACE_FOREGROUND=e.SYMBOL_ICON_MODULE_FOREGROUND=e.SYMBOL_ICON_METHOD_FOREGROUND=e.SYMBOL_ICON_KEYWORD_FOREGROUND=e.SYMBOL_ICON_KEY_FOREGROUND=e.SYMBOL_ICON_INTERFACE_FOREGROUND=e.SYMBOL_ICON_FUNCTION_FOREGROUND=e.SYMBOL_ICON_FOLDER_FOREGROUND=e.SYMBOL_ICON_FILE_FOREGROUND=e.SYMBOL_ICON_FIELD_FOREGROUND=e.SYMBOL_ICON_EVENT_FOREGROUND=e.SYMBOL_ICON_ENUMERATOR_MEMBER_FOREGROUND=e.SYMBOL_ICON_ENUMERATOR_FOREGROUND=e.SYMBOL_ICON_CONSTRUCTOR_FOREGROUND=e.SYMBOL_ICON_CONSTANT_FOREGROUND=e.SYMBOL_ICON_COLOR_FOREGROUND=e.SYMBOL_ICON_CLASS_FOREGROUND=e.SYMBOL_ICON_BOOLEAN_FOREGROUND=e.SYMBOL_ICON_ARRAY_FOREGROUND=void 0,e.SYMBOL_ICON_ARRAY_FOREGROUND=(0,k.registerColor)("symbolIcon.arrayForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,m.localize)(0,null)),e.SYMBOL_ICON_BOOLEAN_FOREGROUND=(0,k.registerColor)("symbolIcon.booleanForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,m.localize)(1,null)),e.SYMBOL_ICON_CLASS_FOREGROUND=(0,k.registerColor)("symbolIcon.classForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,m.localize)(2,null)),e.SYMBOL_ICON_COLOR_FOREGROUND=(0,k.registerColor)("symbolIcon.colorForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,m.localize)(3,null)),e.SYMBOL_ICON_CONSTANT_FOREGROUND=(0,k.registerColor)("symbolIcon.constantForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,m.localize)(4,null)),e.SYMBOL_ICON_CONSTRUCTOR_FOREGROUND=(0,k.registerColor)("symbolIcon.constructorForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,m.localize)(5,null)),e.SYMBOL_ICON_ENUMERATOR_FOREGROUND=(0,k.registerColor)("symbolIcon.enumeratorForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,m.localize)(6,null)),e.SYMBOL_ICON_ENUMERATOR_MEMBER_FOREGROUND=(0,k.registerColor)("symbolIcon.enumeratorMemberForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,m.localize)(7,null)),e.SYMBOL_ICON_EVENT_FOREGROUND=(0,k.registerColor)("symbolIcon.eventForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,m.localize)(8,null)),e.SYMBOL_ICON_FIELD_FOREGROUND=(0,k.registerColor)("symbolIcon.fieldForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,m.localize)(9,null)),e.SYMBOL_ICON_FILE_FOREGROUND=(0,k.registerColor)("symbolIcon.fileForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,m.localize)(10,null)),e.SYMBOL_ICON_FOLDER_FOREGROUND=(0,k.registerColor)("symbolIcon.folderForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,m.localize)(11,null)),e.SYMBOL_ICON_FUNCTION_FOREGROUND=(0,k.registerColor)("symbolIcon.functionForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,m.localize)(12,null)),e.SYMBOL_ICON_INTERFACE_FOREGROUND=(0,k.registerColor)("symbolIcon.interfaceForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,m.localize)(13,null)),e.SYMBOL_ICON_KEY_FOREGROUND=(0,k.registerColor)("symbolIcon.keyForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,m.localize)(14,null)),e.SYMBOL_ICON_KEYWORD_FOREGROUND=(0,k.registerColor)("symbolIcon.keywordForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,m.localize)(15,null)),e.SYMBOL_ICON_METHOD_FOREGROUND=(0,k.registerColor)("symbolIcon.methodForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,m.localize)(16,null)),e.SYMBOL_ICON_MODULE_FOREGROUND=(0,k.registerColor)("symbolIcon.moduleForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,m.localize)(17,null)),e.SYMBOL_ICON_NAMESPACE_FOREGROUND=(0,k.registerColor)("symbolIcon.namespaceForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,m.localize)(18,null)),e.SYMBOL_ICON_NULL_FOREGROUND=(0,k.registerColor)("symbolIcon.nullForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,m.localize)(19,null)),e.SYMBOL_ICON_NUMBER_FOREGROUND=(0,k.registerColor)("symbolIcon.numberForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,m.localize)(20,null)),e.SYMBOL_ICON_OBJECT_FOREGROUND=(0,k.registerColor)("symbolIcon.objectForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,m.localize)(21,null)),e.SYMBOL_ICON_OPERATOR_FOREGROUND=(0,k.registerColor)("symbolIcon.operatorForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,m.localize)(22,null)),e.SYMBOL_ICON_PACKAGE_FOREGROUND=(0,k.registerColor)("symbolIcon.packageForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,m.localize)(23,null)),e.SYMBOL_ICON_PROPERTY_FOREGROUND=(0,k.registerColor)("symbolIcon.propertyForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,m.localize)(24,null)),e.SYMBOL_ICON_REFERENCE_FOREGROUND=(0,k.registerColor)("symbolIcon.referenceForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,m.localize)(25,null)),e.SYMBOL_ICON_SNIPPET_FOREGROUND=(0,k.registerColor)("symbolIcon.snippetForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,m.localize)(26,null)),e.SYMBOL_ICON_STRING_FOREGROUND=(0,k.registerColor)("symbolIcon.stringForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,m.localize)(27,null)),e.SYMBOL_ICON_STRUCT_FOREGROUND=(0,k.registerColor)("symbolIcon.structForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,m.localize)(28,null)),e.SYMBOL_ICON_TEXT_FOREGROUND=(0,k.registerColor)("symbolIcon.textForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,m.localize)(29,null)),e.SYMBOL_ICON_TYPEPARAMETER_FOREGROUND=(0,k.registerColor)("symbolIcon.typeParameterForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,m.localize)(30,null)),e.SYMBOL_ICON_UNIT_FOREGROUND=(0,k.registerColor)("symbolIcon.unitForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,m.localize)(31,null)),e.SYMBOL_ICON_VARIABLE_FOREGROUND=(0,k.registerColor)("symbolIcon.variableForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,m.localize)(32,null)),(0,D.registerThemingParticipant)((L,b)=>{const C=L.getColor(e.SYMBOL_ICON_ARRAY_FOREGROUND);C&&b.addRule(`${w.Codicon.symbolArray.cssSelector} { color: ${C}; }`);const h=L.getColor(e.SYMBOL_ICON_BOOLEAN_FOREGROUND);h&&b.addRule(`${w.Codicon.symbolBoolean.cssSelector} { color: ${h}; }`);const g=L.getColor(e.SYMBOL_ICON_CLASS_FOREGROUND);g&&b.addRule(`${w.Codicon.symbolClass.cssSelector} { color: ${g}; }`);const t=L.getColor(e.SYMBOL_ICON_METHOD_FOREGROUND);t&&b.addRule(`${w.Codicon.symbolMethod.cssSelector} { color: ${t}; }`);const i=L.getColor(e.SYMBOL_ICON_COLOR_FOREGROUND);i&&b.addRule(`${w.Codicon.symbolColor.cssSelector} { color: ${i}; }`);const n=L.getColor(e.SYMBOL_ICON_CONSTANT_FOREGROUND);n&&b.addRule(`${w.Codicon.symbolConstant.cssSelector} { color: ${n}; }`);const o=L.getColor(e.SYMBOL_ICON_CONSTRUCTOR_FOREGROUND);o&&b.addRule(`${w.Codicon.symbolConstructor.cssSelector} { color: ${o}; }`);const l=L.getColor(e.SYMBOL_ICON_ENUMERATOR_FOREGROUND);l&&b.addRule(`
			${w.Codicon.symbolValue.cssSelector},${w.Codicon.symbolEnum.cssSelector} { color: ${l}; }`);const c=L.getColor(e.SYMBOL_ICON_ENUMERATOR_MEMBER_FOREGROUND);c&&b.addRule(`${w.Codicon.symbolEnumMember.cssSelector} { color: ${c}; }`);const d=L.getColor(e.SYMBOL_ICON_EVENT_FOREGROUND);d&&b.addRule(`${w.Codicon.symbolEvent.cssSelector} { color: ${d}; }`);const r=L.getColor(e.SYMBOL_ICON_FIELD_FOREGROUND);r&&b.addRule(`${w.Codicon.symbolField.cssSelector} { color: ${r}; }`);const s=L.getColor(e.SYMBOL_ICON_FILE_FOREGROUND);s&&b.addRule(`${w.Codicon.symbolFile.cssSelector} { color: ${s}; }`);const a=L.getColor(e.SYMBOL_ICON_FOLDER_FOREGROUND);a&&b.addRule(`${w.Codicon.symbolFolder.cssSelector} { color: ${a}; }`);const u=L.getColor(e.SYMBOL_ICON_FUNCTION_FOREGROUND);u&&b.addRule(`${w.Codicon.symbolFunction.cssSelector} { color: ${u}; }`);const p=L.getColor(e.SYMBOL_ICON_INTERFACE_FOREGROUND);p&&b.addRule(`${w.Codicon.symbolInterface.cssSelector} { color: ${p}; }`);const S=L.getColor(e.SYMBOL_ICON_KEY_FOREGROUND);S&&b.addRule(`${w.Codicon.symbolKey.cssSelector} { color: ${S}; }`);const f=L.getColor(e.SYMBOL_ICON_KEYWORD_FOREGROUND);f&&b.addRule(`${w.Codicon.symbolKeyword.cssSelector} { color: ${f}; }`);const v=L.getColor(e.SYMBOL_ICON_MODULE_FOREGROUND);v&&b.addRule(`${w.Codicon.symbolModule.cssSelector} { color: ${v}; }`);const _=L.getColor(e.SYMBOL_ICON_NAMESPACE_FOREGROUND);_&&b.addRule(`${w.Codicon.symbolNamespace.cssSelector} { color: ${_}; }`);const y=L.getColor(e.SYMBOL_ICON_NULL_FOREGROUND);y&&b.addRule(`${w.Codicon.symbolNull.cssSelector} { color: ${y}; }`);const E=L.getColor(e.SYMBOL_ICON_NUMBER_FOREGROUND);E&&b.addRule(`${w.Codicon.symbolNumber.cssSelector} { color: ${E}; }`);const T=L.getColor(e.SYMBOL_ICON_OBJECT_FOREGROUND);T&&b.addRule(`${w.Codicon.symbolObject.cssSelector} { color: ${T}; }`);const I=L.getColor(e.SYMBOL_ICON_OPERATOR_FOREGROUND);I&&b.addRule(`${w.Codicon.symbolOperator.cssSelector} { color: ${I}; }`);const R=L.getColor(e.SYMBOL_ICON_PACKAGE_FOREGROUND);R&&b.addRule(`${w.Codicon.symbolPackage.cssSelector} { color: ${R}; }`);const F=L.getColor(e.SYMBOL_ICON_PROPERTY_FOREGROUND);F&&b.addRule(`${w.Codicon.symbolProperty.cssSelector} { color: ${F}; }`);const O=L.getColor(e.SYMBOL_ICON_REFERENCE_FOREGROUND);O&&b.addRule(`${w.Codicon.symbolReference.cssSelector} { color: ${O}; }`);const M=L.getColor(e.SYMBOL_ICON_SNIPPET_FOREGROUND);M&&b.addRule(`${w.Codicon.symbolSnippet.cssSelector} { color: ${M}; }`);const N=L.getColor(e.SYMBOL_ICON_STRING_FOREGROUND);N&&b.addRule(`${w.Codicon.symbolString.cssSelector} { color: ${N}; }`);const A=L.getColor(e.SYMBOL_ICON_STRUCT_FOREGROUND);A&&b.addRule(`${w.Codicon.symbolStruct.cssSelector} { color: ${A}; }`);const B=L.getColor(e.SYMBOL_ICON_TEXT_FOREGROUND);B&&b.addRule(`${w.Codicon.symbolText.cssSelector} { color: ${B}; }`);const W=L.getColor(e.SYMBOL_ICON_TYPEPARAMETER_FOREGROUND);W&&b.addRule(`${w.Codicon.symbolTypeParameter.cssSelector} { color: ${W}; }`);const x=L.getColor(e.SYMBOL_ICON_UNIT_FOREGROUND);x&&b.addRule(`${w.Codicon.symbolUnit.cssSelector} { color: ${x}; }`);const P=L.getColor(e.SYMBOL_ICON_VARIABLE_FOREGROUND);P&&b.addRule(`${w.Codicon.symbolVariable.cssSelector} { color: ${P}; }`)})}),define(se[307],re([1,0,7,49,692,29,15,52,16]),function(q,e,w,m,k,D,L,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneCodeEditorService=void 0;let h=class extends k.AbstractCodeEditorService{constructor(t,i){super(i),this.onCodeEditorAdd(()=>this._checkContextKey()),this.onCodeEditorRemove(()=>this._checkContextKey()),this._editorIsOpen=t.createKey("editorIsOpen",!1),this._activeCodeEditor=null,this.registerCodeEditorOpenHandler((n,o,l)=>Se(this,void 0,void 0,function*(){return o?this.doOpenEditor(o,n):null}))}_checkContextKey(){let t=!1;for(const i of this.listCodeEditors())if(!i.isSimpleWidget){t=!0;break}this._editorIsOpen.set(t)}setActiveCodeEditor(t){this._activeCodeEditor=t}getActiveCodeEditor(){return this._activeCodeEditor}doOpenEditor(t,i){if(!this.findModel(t,i.resource)){if(i.resource){const l=i.resource.scheme;if(l===m.Schemas.http||l===m.Schemas.https)return(0,w.windowOpenNoOpener)(i.resource.toString()),t}return null}const o=i.options?i.options.selection:null;if(o)if(typeof o.endLineNumber=="number"&&typeof o.endColumn=="number")t.setSelection(o),t.revealRangeInCenter(o,1);else{const l={lineNumber:o.startLineNumber,column:o.startColumn};t.setPosition(l),t.revealPositionInCenter(l,1)}return t}findModel(t,i){const n=t.getModel();return n&&n.uri.toString()!==i.toString()?null:n}};h=De([fe(0,L.IContextKeyService),fe(1,C.IThemeService)],h),e.StandaloneCodeEditorService=h,(0,b.registerSingleton)(D.ICodeEditorService,h,!1)}),define(se[712],re([1,0,54,23]),function(q,e,w,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hc_light=e.hc_black=e.vs_dark=e.vs=void 0,e.vs={base:"vs",inherit:!1,rules:[{token:"",foreground:"000000",background:"fffffe"},{token:"invalid",foreground:"cd3131"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"001188"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"delimiter.xml",foreground:"0000FF"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"FF0000"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"FF0000"},{token:"attribute.value",foreground:"0451A5"},{token:"attribute.value.number",foreground:"098658"},{token:"attribute.value.unit",foreground:"098658"},{token:"attribute.value.html",foreground:"0000FF"},{token:"attribute.value.xml",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"string.html",foreground:"0000FF"},{token:"string.sql",foreground:"FF0000"},{token:"string.yaml",foreground:"0451A5"},{token:"keyword",foreground:"0000FF"},{token:"keyword.json",foreground:"0451A5"},{token:"keyword.flow",foreground:"AF00DB"},{token:"keyword.flow.scss",foreground:"0000FF"},{token:"operator.scss",foreground:"666666"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[m.editorBackground]:"#FFFFFE",[m.editorForeground]:"#000000",[m.editorInactiveSelection]:"#E5EBF1",[w.editorIndentGuides]:"#D3D3D3",[w.editorActiveIndentGuides]:"#939393",[m.editorSelectionHighlight]:"#ADD6FF4D"}},e.vs_dark={base:"vs-dark",inherit:!1,rules:[{token:"",foreground:"D4D4D4",background:"1E1E1E"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"74B0DF"},{token:"variable.predefined",foreground:"4864AA"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"B5CEA8"},{token:"number.hex",foreground:"5BB498"},{token:"regexp",foreground:"B46695"},{token:"annotation",foreground:"cc6666"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"DCDCDC"},{token:"delimiter.html",foreground:"808080"},{token:"delimiter.xml",foreground:"808080"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"A79873"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"DD6A6F"},{token:"metatag.content.html",foreground:"9CDCFE"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key.json",foreground:"9CDCFE"},{token:"string.value.json",foreground:"CE9178"},{token:"attribute.name",foreground:"9CDCFE"},{token:"attribute.value",foreground:"CE9178"},{token:"attribute.value.number.css",foreground:"B5CEA8"},{token:"attribute.value.unit.css",foreground:"B5CEA8"},{token:"attribute.value.hex.css",foreground:"D4D4D4"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"keyword.json",foreground:"CE9178"},{token:"keyword.flow.scss",foreground:"569CD6"},{token:"operator.scss",foreground:"909090"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[m.editorBackground]:"#1E1E1E",[m.editorForeground]:"#D4D4D4",[m.editorInactiveSelection]:"#3A3D41",[w.editorIndentGuides]:"#404040",[w.editorActiveIndentGuides]:"#707070",[m.editorSelectionHighlight]:"#ADD6FF26"}},e.hc_black={base:"hc-black",inherit:!1,rules:[{token:"",foreground:"FFFFFF",background:"000000"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"1AEBFF"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"FFFFFF"},{token:"regexp",foreground:"C0C0C0"},{token:"annotation",foreground:"569CD6"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"FFFF00"},{token:"delimiter.html",foreground:"FFFF00"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta",foreground:"D4D4D4"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"569CD6"},{token:"metatag.content.html",foreground:"1AEBFF"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key",foreground:"9CDCFE"},{token:"string.value",foreground:"CE9178"},{token:"attribute.name",foreground:"569CD6"},{token:"attribute.value",foreground:"3FF23F"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[m.editorBackground]:"#000000",[m.editorForeground]:"#FFFFFF",[w.editorIndentGuides]:"#FFFFFF",[w.editorActiveIndentGuides]:"#FFFFFF"}},e.hc_light={base:"hc-light",inherit:!1,rules:[{token:"",foreground:"292929",background:"FFFFFF"},{token:"invalid",foreground:"B5200D"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"264F70"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"B5200D"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"264F78"},{token:"attribute.value",foreground:"0451A5"},{token:"string",foreground:"A31515"},{token:"string.sql",foreground:"B5200D"},{token:"keyword",foreground:"0000FF"},{token:"keyword.flow",foreground:"AF00DB"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[m.editorBackground]:"#FFFFFF",[m.editorForeground]:"#292929",[w.editorIndentGuides]:"#292929",[w.editorActiveIndentGuides]:"#292929"}}});var In=this&&this.__rest||function(q,e){var w={};for(var m in q)Object.prototype.hasOwnProperty.call(q,m)&&e.indexOf(m)<0&&(w[m]=q[m]);if(q!=null&&typeof Object.getOwnPropertySymbols=="function")for(var k=0,m=Object.getOwnPropertySymbols(q);k<m.length;k++)e.indexOf(m[k])<0&&Object.prototype.propertyIsEnumerable.call(q,m[k])&&(w[m[k]]=q[m[k]]);return w};define(se[32],re([1,0,43,27,6,2,58,26,15,9,96,16]),function(q,e,w,m,k,D,L,b,C,h,g,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.registerAction2=e.Action2=e.MenuItemAction=e.SubmenuItemAction=e.MenuRegistry=e.IMenuService=e.MenuId=e.isISubmenuItem=e.isIMenuItem=void 0;function i(a){return a.command!==void 0}e.isIMenuItem=i;function n(a){return a.submenu!==void 0}e.isISubmenuItem=n;class o{constructor(u){if(o._instances.has(u))throw new TypeError(`MenuId with identifier '${u}' already exists. Use MenuId.for(ident) or a unique identifier`);o._instances.set(u,this),this.id=u}}e.MenuId=o,o._instances=new Map,o.CommandPalette=new o("CommandPalette"),o.DebugBreakpointsContext=new o("DebugBreakpointsContext"),o.DebugCallStackContext=new o("DebugCallStackContext"),o.DebugConsoleContext=new o("DebugConsoleContext"),o.DebugVariablesContext=new o("DebugVariablesContext"),o.DebugWatchContext=new o("DebugWatchContext"),o.DebugToolBar=new o("DebugToolBar"),o.DebugToolBarStop=new o("DebugToolBarStop"),o.EditorContext=new o("EditorContext"),o.SimpleEditorContext=new o("SimpleEditorContext"),o.EditorContent=new o("EditorContent"),o.EditorContextCopy=new o("EditorContextCopy"),o.EditorContextPeek=new o("EditorContextPeek"),o.EditorContextShare=new o("EditorContextShare"),o.EditorTitle=new o("EditorTitle"),o.EditorTitleRun=new o("EditorTitleRun"),o.EditorTitleContext=new o("EditorTitleContext"),o.EmptyEditorGroup=new o("EmptyEditorGroup"),o.EmptyEditorGroupContext=new o("EmptyEditorGroupContext"),o.ExplorerContext=new o("ExplorerContext"),o.ExtensionContext=new o("ExtensionContext"),o.GlobalActivity=new o("GlobalActivity"),o.CommandCenter=new o("CommandCenter"),o.LayoutControlMenuSubmenu=new o("LayoutControlMenuSubmenu"),o.LayoutControlMenu=new o("LayoutControlMenu"),o.MenubarMainMenu=new o("MenubarMainMenu"),o.MenubarAppearanceMenu=new o("MenubarAppearanceMenu"),o.MenubarDebugMenu=new o("MenubarDebugMenu"),o.MenubarEditMenu=new o("MenubarEditMenu"),o.MenubarCopy=new o("MenubarCopy"),o.MenubarFileMenu=new o("MenubarFileMenu"),o.MenubarGoMenu=new o("MenubarGoMenu"),o.MenubarHelpMenu=new o("MenubarHelpMenu"),o.MenubarLayoutMenu=new o("MenubarLayoutMenu"),o.MenubarEditorFeaturesMenu=new o("MenubarEditorFeaturesMenu"),o.MenubarNewBreakpointMenu=new o("MenubarNewBreakpointMenu"),o.MenubarPanelAlignmentMenu=new o("MenubarPanelAlignmentMenu"),o.MenubarPanelPositionMenu=new o("MenubarPanelPositionMenu"),o.MenubarPreferencesMenu=new o("MenubarPreferencesMenu"),o.MenubarRecentMenu=new o("MenubarRecentMenu"),o.MenubarSelectionMenu=new o("MenubarSelectionMenu"),o.MenubarShare=new o("MenubarShare"),o.MenubarSwitchEditorMenu=new o("MenubarSwitchEditorMenu"),o.MenubarSwitchGroupMenu=new o("MenubarSwitchGroupMenu"),o.MenubarTerminalMenu=new o("MenubarTerminalMenu"),o.MenubarViewMenu=new o("MenubarViewMenu"),o.MenubarHomeMenu=new o("MenubarHomeMenu"),o.OpenEditorsContext=new o("OpenEditorsContext"),o.ProblemsPanelContext=new o("ProblemsPanelContext"),o.SCMChangeContext=new o("SCMChangeContext"),o.SCMResourceContext=new o("SCMResourceContext"),o.SCMResourceFolderContext=new o("SCMResourceFolderContext"),o.SCMResourceGroupContext=new o("SCMResourceGroupContext"),o.SCMSourceControl=new o("SCMSourceControl"),o.SCMTitle=new o("SCMTitle"),o.SearchContext=new o("SearchContext"),o.StatusBarWindowIndicatorMenu=new o("StatusBarWindowIndicatorMenu"),o.StatusBarRemoteIndicatorMenu=new o("StatusBarRemoteIndicatorMenu"),o.StickyScrollContext=new o("StickyScrollContext"),o.TestItem=new o("TestItem"),o.TestItemGutter=new o("TestItemGutter"),o.TestPeekElement=new o("TestPeekElement"),o.TestPeekTitle=new o("TestPeekTitle"),o.TouchBarContext=new o("TouchBarContext"),o.TitleBarContext=new o("TitleBarContext"),o.TitleBarTitleContext=new o("TitleBarTitleContext"),o.TunnelContext=new o("TunnelContext"),o.TunnelPrivacy=new o("TunnelPrivacy"),o.TunnelProtocol=new o("TunnelProtocol"),o.TunnelPortInline=new o("TunnelInline"),o.TunnelTitle=new o("TunnelTitle"),o.TunnelLocalAddressInline=new o("TunnelLocalAddressInline"),o.TunnelOriginInline=new o("TunnelOriginInline"),o.ViewItemContext=new o("ViewItemContext"),o.ViewContainerTitle=new o("ViewContainerTitle"),o.ViewContainerTitleContext=new o("ViewContainerTitleContext"),o.ViewTitle=new o("ViewTitle"),o.ViewTitleContext=new o("ViewTitleContext"),o.CommentThreadTitle=new o("CommentThreadTitle"),o.CommentThreadActions=new o("CommentThreadActions"),o.CommentThreadTitleContext=new o("CommentThreadTitleContext"),o.CommentThreadCommentContext=new o("CommentThreadCommentContext"),o.CommentTitle=new o("CommentTitle"),o.CommentActions=new o("CommentActions"),o.InteractiveToolbar=new o("InteractiveToolbar"),o.InteractiveCellTitle=new o("InteractiveCellTitle"),o.InteractiveCellDelete=new o("InteractiveCellDelete"),o.InteractiveCellExecute=new o("InteractiveCellExecute"),o.InteractiveInputExecute=new o("InteractiveInputExecute"),o.NotebookToolbar=new o("NotebookToolbar"),o.NotebookCellTitle=new o("NotebookCellTitle"),o.NotebookCellDelete=new o("NotebookCellDelete"),o.NotebookCellInsert=new o("NotebookCellInsert"),o.NotebookCellBetween=new o("NotebookCellBetween"),o.NotebookCellListTop=new o("NotebookCellTop"),o.NotebookCellExecute=new o("NotebookCellExecute"),o.NotebookCellExecutePrimary=new o("NotebookCellExecutePrimary"),o.NotebookDiffCellInputTitle=new o("NotebookDiffCellInputTitle"),o.NotebookDiffCellMetadataTitle=new o("NotebookDiffCellMetadataTitle"),o.NotebookDiffCellOutputsTitle=new o("NotebookDiffCellOutputsTitle"),o.NotebookOutputToolbar=new o("NotebookOutputToolbar"),o.NotebookEditorLayoutConfigure=new o("NotebookEditorLayoutConfigure"),o.NotebookKernelSource=new o("NotebookKernelSource"),o.BulkEditTitle=new o("BulkEditTitle"),o.BulkEditContext=new o("BulkEditContext"),o.TimelineItemContext=new o("TimelineItemContext"),o.TimelineTitle=new o("TimelineTitle"),o.TimelineTitleContext=new o("TimelineTitleContext"),o.TimelineFilterSubMenu=new o("TimelineFilterSubMenu"),o.AccountsContext=new o("AccountsContext"),o.PanelTitle=new o("PanelTitle"),o.AuxiliaryBarTitle=new o("AuxiliaryBarTitle"),o.TerminalInstanceContext=new o("TerminalInstanceContext"),o.TerminalEditorInstanceContext=new o("TerminalEditorInstanceContext"),o.TerminalNewDropdownContext=new o("TerminalNewDropdownContext"),o.TerminalTabContext=new o("TerminalTabContext"),o.TerminalTabEmptyAreaContext=new o("TerminalTabEmptyAreaContext"),o.TerminalInlineTabContext=new o("TerminalInlineTabContext"),o.WebviewContext=new o("WebviewContext"),o.InlineCompletionsActions=new o("InlineCompletionsActions"),o.NewFile=new o("NewFile"),o.MergeInput1Toolbar=new o("MergeToolbar1Toolbar"),o.MergeInput2Toolbar=new o("MergeToolbar2Toolbar"),o.MergeBaseToolbar=new o("MergeBaseToolbar"),o.MergeInputResultToolbar=new o("MergeToolbarResultToolbar"),e.IMenuService=(0,h.createDecorator)("menuService");class l{static for(u){let p=this._all.get(u);return p||(p=new l(u),this._all.set(u,p)),p}static merge(u){const p=new Set;for(const S of u)S instanceof l&&p.add(S.id);return p}constructor(u){this.id=u,this.has=p=>p===u}}l._all=new Map,e.MenuRegistry=new class{constructor(){this._commands=new Map,this._menuItems=new Map,this._onDidChangeMenu=new k.MicrotaskEmitter({merge:l.merge}),this.onDidChangeMenu=this._onDidChangeMenu.event}addCommand(a){return this._commands.set(a.id,a),this._onDidChangeMenu.fire(l.for(o.CommandPalette)),(0,D.toDisposable)(()=>{this._commands.delete(a.id)&&this._onDidChangeMenu.fire(l.for(o.CommandPalette))})}getCommand(a){return this._commands.get(a)}getCommands(){const a=new Map;return this._commands.forEach((u,p)=>a.set(p,u)),a}appendMenuItem(a,u){let p=this._menuItems.get(a);p||(p=new L.LinkedList,this._menuItems.set(a,p));const S=p.push(u);return this._onDidChangeMenu.fire(l.for(a)),(0,D.toDisposable)(S)}appendMenuItems(a){const u=new D.DisposableStore;for(const{id:p,item:S}of a)u.add(this.appendMenuItem(p,S));return u}getMenuItems(a){let u;return this._menuItems.has(a)?u=[...this._menuItems.get(a)]:u=[],a===o.CommandPalette&&this._appendImplicitItems(u),u}_appendImplicitItems(a){const u=new Set;for(const p of a)i(p)&&(u.add(p.command.id),p.alt&&u.add(p.alt.id));this._commands.forEach((p,S)=>{u.has(S)||a.push({command:p})})}};class c extends w.SubmenuAction{constructor(u,p,S){super(`submenuitem.${u.submenu.id}`,typeof u.title=="string"?u.title:u.title.value,S,"submenu"),this.item=u,this.hideActions=p}}e.SubmenuItemAction=c;let d=class ri{static label(u,p){return p?.renderShortTitle&&u.shortTitle?typeof u.shortTitle=="string"?u.shortTitle:u.shortTitle.value:typeof u.title=="string"?u.title:u.title.value}constructor(u,p,S,f,v,_){var y,E;if(this.hideActions=f,this._commandService=_,this.id=u.id,this.label=ri.label(u,S),this.tooltip=(E=typeof u.tooltip=="string"?u.tooltip:(y=u.tooltip)===null||y===void 0?void 0:y.value)!==null&&E!==void 0?E:"",this.enabled=!u.precondition||v.contextMatchesRules(u.precondition),this.checked=void 0,u.toggled){const T=u.toggled.condition?u.toggled:{condition:u.toggled};this.checked=v.contextMatchesRules(T.condition),this.checked&&T.tooltip&&(this.tooltip=typeof T.tooltip=="string"?T.tooltip:T.tooltip.value),T.title&&(this.label=typeof T.title=="string"?T.title:T.title.value)}this.item=u,this.alt=p?new ri(p,void 0,S,f,v,_):void 0,this._options=S,t.ThemeIcon.isThemeIcon(u.icon)&&(this.class=m.CSSIcon.asClassName(u.icon))}run(...u){var p,S;let f=[];return!((p=this._options)===null||p===void 0)&&p.arg&&(f=[...f,this._options.arg]),!((S=this._options)===null||S===void 0)&&S.shouldForwardArgs&&(f=[...f,...u]),this._commandService.executeCommand(this.id,...f)}};d=De([fe(4,C.IContextKeyService),fe(5,b.ICommandService)],d),e.MenuItemAction=d;class r{constructor(u){this.desc=u}}e.Action2=r;function s(a){const u=new D.DisposableStore,p=new a,S=p.desc,{f1:f,menu:v,keybinding:_,description:y}=S,E=In(S,["f1","menu","keybinding","description"]);if(u.add(b.CommandsRegistry.registerCommand({id:E.id,handler:(T,...I)=>p.run(T,...I),description:y})),Array.isArray(v))for(const T of v)u.add(e.MenuRegistry.appendMenuItem(T.id,Object.assign({command:E},T)));else v&&u.add(e.MenuRegistry.appendMenuItem(v.id,Object.assign({command:E},v)));if(f&&(u.add(e.MenuRegistry.appendMenuItem(o.CommandPalette,{command:E,when:E.precondition})),u.add(e.MenuRegistry.addCommand(E))),Array.isArray(_))for(const T of _)u.add(g.KeybindingsRegistry.registerKeybindingRule(Object.assign(Object.assign({},T),{id:E.id,when:E.precondition?C.ContextKeyExpr.and(E.precondition,T.when):T.when})));else _&&u.add(g.KeybindingsRegistry.registerKeybindingRule(Object.assign(Object.assign({},_),{id:E.id,when:E.precondition?C.ContextKeyExpr.and(E.precondition,_.when):_.when})));return u}e.registerAction2=s}),define(se[13],re([1,0,541,22,29,11,51,61,32,26,15,9,96,33,81,19,72]),function(q,e,w,m,k,D,L,b,C,h,g,t,i,n,o,l,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectAllCommand=e.RedoCommand=e.UndoCommand=e.EditorExtensionsRegistry=e.registerEditorContribution=e.registerInstantiatedEditorAction=e.registerMultiEditorAction=e.registerEditorAction=e.registerEditorCommand=e.registerModelAndPositionCommand=e.EditorAction2=e.MultiEditorAction=e.EditorAction=e.EditorCommand=e.ProxyCommand=e.MultiCommand=e.Command=void 0;class d{constructor(N){this.id=N.id,this.precondition=N.precondition,this._kbOpts=N.kbOpts,this._menuOpts=N.menuOpts,this._description=N.description}register(){if(Array.isArray(this._menuOpts)?this._menuOpts.forEach(this._registerMenuItem,this):this._menuOpts&&this._registerMenuItem(this._menuOpts),this._kbOpts){const N=Array.isArray(this._kbOpts)?this._kbOpts:[this._kbOpts];for(const A of N){let B=A.kbExpr;this.precondition&&(B?B=g.ContextKeyExpr.and(B,this.precondition):B=this.precondition);const W={id:this.id,weight:A.weight,args:A.args,when:B,primary:A.primary,secondary:A.secondary,win:A.win,linux:A.linux,mac:A.mac};i.KeybindingsRegistry.registerKeybindingRule(W)}}h.CommandsRegistry.registerCommand({id:this.id,handler:(N,A)=>this.runCommand(N,A),description:this._description})}_registerMenuItem(N){C.MenuRegistry.appendMenuItem(N.menuId,{group:N.group,command:{id:this.id,title:N.title,icon:N.icon,precondition:this.precondition},when:N.when,order:N.order})}}e.Command=d;class r extends d{constructor(){super(...arguments),this._implementations=[]}addImplementation(N,A,B){return this._implementations.push({priority:N,name:A,implementation:B}),this._implementations.sort((W,x)=>x.priority-W.priority),{dispose:()=>{for(let W=0;W<this._implementations.length;W++)if(this._implementations[W].implementation===B){this._implementations.splice(W,1);return}}}}runCommand(N,A){const B=N.get(c.ILogService);B.trace(`Executing Command '${this.id}' which has ${this._implementations.length} bound.`);for(const W of this._implementations){const x=W.implementation(N,A);if(x)return B.trace(`Command '${this.id}' was handled by '${W.name}'.`),typeof x=="boolean"?void 0:x}B.trace(`The Command '${this.id}' was not handled by any implementation.`)}}e.MultiCommand=r;class s extends d{constructor(N,A){super(A),this.command=N}runCommand(N,A){return this.command.runCommand(N,A)}}e.ProxyCommand=s;class a extends d{static bindToContribution(N){return class extends a{constructor(B){super(B),this._callback=B.handler}runEditorCommand(B,W,x){const P=N(W);P&&this._callback(P,x)}}}static runEditorCommand(N,A,B,W){const x=N.get(k.ICodeEditorService),P=x.getFocusedCodeEditor()||x.getActiveCodeEditor();if(!!P)return P.invokeWithinContext(X=>{if(!!X.get(g.IContextKeyService).contextMatchesRules((0,l.withNullAsUndefined)(B)))return W(X,P,A)})}runCommand(N,A){return a.runEditorCommand(N,A,this.precondition,(B,W,x)=>this.runEditorCommand(B,W,x))}}e.EditorCommand=a;class u extends a{static convertOptions(N){let A;Array.isArray(N.menuOpts)?A=N.menuOpts:N.menuOpts?A=[N.menuOpts]:A=[];function B(W){return W.menuId||(W.menuId=C.MenuId.EditorContext),W.title||(W.title=N.label),W.when=g.ContextKeyExpr.and(N.precondition,W.when),W}return Array.isArray(N.contextMenuOpts)?A.push(...N.contextMenuOpts.map(B)):N.contextMenuOpts&&A.push(B(N.contextMenuOpts)),N.menuOpts=A,N}constructor(N){super(u.convertOptions(N)),this.label=N.label,this.alias=N.alias}runEditorCommand(N,A,B){return this.reportTelemetry(N,A),this.run(N,A,B||{})}reportTelemetry(N,A){N.get(o.ITelemetryService).publicLog2("editorActionInvoked",{name:this.label,id:this.id})}}e.EditorAction=u;class p extends u{constructor(){super(...arguments),this._implementations=[]}addImplementation(N,A){return this._implementations.push([N,A]),this._implementations.sort((B,W)=>W[0]-B[0]),{dispose:()=>{for(let B=0;B<this._implementations.length;B++)if(this._implementations[B][1]===A){this._implementations.splice(B,1);return}}}}run(N,A,B){for(const W of this._implementations){const x=W[1](N,A,B);if(x)return typeof x=="boolean"?void 0:x}}}e.MultiEditorAction=p;class S extends C.Action2{run(N,...A){const B=N.get(k.ICodeEditorService),W=B.getFocusedCodeEditor()||B.getActiveCodeEditor();if(!!W)return W.invokeWithinContext(x=>{if(x.get(g.IContextKeyService).contextMatchesRules((0,l.withNullAsUndefined)(this.desc.precondition)))return this.runEditorCommand(x,W,A)})}}e.EditorAction2=S;function f(M,N){h.CommandsRegistry.registerCommand(M,function(A,...B){const W=A.get(t.IInstantiationService),[x,P]=B;(0,l.assertType)(m.URI.isUri(x)),(0,l.assertType)(D.Position.isIPosition(P));const X=A.get(L.IModelService).getModel(x);if(X){const ie=D.Position.lift(P);return W.invokeFunction(N,X,ie,...B.slice(2))}return A.get(b.ITextModelService).createModelReference(x).then(ie=>new Promise((K,G)=>{try{const Q=W.invokeFunction(N,ie.object.textEditorModel,D.Position.lift(P),B.slice(2));K(Q)}catch(Q){G(Q)}}).finally(()=>{ie.dispose()}))})}e.registerModelAndPositionCommand=f;function v(M){return F.INSTANCE.registerEditorCommand(M),M}e.registerEditorCommand=v;function _(M){const N=new M;return F.INSTANCE.registerEditorAction(N),N}e.registerEditorAction=_;function y(M){return F.INSTANCE.registerEditorAction(M),M}e.registerMultiEditorAction=y;function E(M){F.INSTANCE.registerEditorAction(M)}e.registerInstantiatedEditorAction=E;function T(M,N){F.INSTANCE.registerEditorContribution(M,N)}e.registerEditorContribution=T;var I;(function(M){function N(P){return F.INSTANCE.getEditorCommand(P)}M.getEditorCommand=N;function A(){return F.INSTANCE.getEditorActions()}M.getEditorActions=A;function B(){return F.INSTANCE.getEditorContributions()}M.getEditorContributions=B;function W(P){return F.INSTANCE.getEditorContributions().filter(X=>P.indexOf(X.id)>=0)}M.getSomeEditorContributions=W;function x(){return F.INSTANCE.getDiffEditorContributions()}M.getDiffEditorContributions=x})(I=e.EditorExtensionsRegistry||(e.EditorExtensionsRegistry={}));const R={EditorCommonContributions:"editor.contributions"};class F{constructor(){this.editorContributions=[],this.diffEditorContributions=[],this.editorActions=[],this.editorCommands=Object.create(null)}registerEditorContribution(N,A){this.editorContributions.push({id:N,ctor:A})}getEditorContributions(){return this.editorContributions.slice(0)}getDiffEditorContributions(){return this.diffEditorContributions.slice(0)}registerEditorAction(N){N.register(),this.editorActions.push(N)}getEditorActions(){return this.editorActions}registerEditorCommand(N){N.register(),this.editorCommands[N.id]=N}getEditorCommand(N){return this.editorCommands[N]||null}}F.INSTANCE=new F,n.Registry.add(R.EditorCommonContributions,F.INSTANCE);function O(M){return M.register(),M}e.UndoCommand=O(new r({id:"undo",precondition:void 0,kbOpts:{weight:0,primary:2104},menuOpts:[{menuId:C.MenuId.MenubarEditMenu,group:"1_do",title:w.localize(0,null),order:1},{menuId:C.MenuId.CommandPalette,group:"",title:w.localize(1,null),order:1}]})),O(new s(e.UndoCommand,{id:"default:undo",precondition:void 0})),e.RedoCommand=O(new r({id:"redo",precondition:void 0,kbOpts:{weight:0,primary:2103,secondary:[3128],mac:{primary:3128}},menuOpts:[{menuId:C.MenuId.MenubarEditMenu,group:"1_do",title:w.localize(2,null),order:2},{menuId:C.MenuId.CommandPalette,group:"",title:w.localize(3,null),order:1}]})),O(new s(e.RedoCommand,{id:"default:redo",precondition:void 0})),e.SelectAllCommand=O(new r({id:"editor.action.selectAll",precondition:void 0,kbOpts:{weight:0,kbExpr:null,primary:2079},menuOpts:[{menuId:C.MenuId.MenubarSelectionMenu,group:"1_basic",title:w.localize(4,null),order:1},{menuId:C.MenuId.CommandPalette,group:"",title:w.localize(5,null),order:1}]}))}),define(se[171],re([1,0,540,42,19,50,13,29,427,64,187,188,221,11,3,25,15,96]),function(q,e,w,m,k,D,L,b,C,h,g,t,i,n,o,l,c,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CoreEditingCommands=e.CoreNavigationCommands=e.RevealLine_=e.EditorScroll_=e.CoreEditorCommand=void 0;const r=0;class s extends L.EditorCommand{runEditorCommand(R,F,O){const M=F._getViewModel();!M||this.runCoreEditorCommand(M,O||{})}}e.CoreEditorCommand=s;var a;(function(I){const R=function(O){if(!k.isObject(O))return!1;const M=O;return!(!k.isString(M.to)||!k.isUndefined(M.by)&&!k.isString(M.by)||!k.isUndefined(M.value)&&!k.isNumber(M.value)||!k.isUndefined(M.revealCursor)&&!k.isBoolean(M.revealCursor))};I.description={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'to': A mandatory direction value.\n						```\n						'up', 'down'\n						```\n					* 'by': Unit to move. Default is computed based on 'to' value.\n						```\n						'line', 'wrappedLine', 'page', 'halfPage', 'editor'\n						```\n					* 'value': Number of units to move. Default is '1'.\n					* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\n				",constraint:R,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["up","down"]},by:{type:"string",enum:["line","wrappedLine","page","halfPage","editor"]},value:{type:"number",default:1},revealCursor:{type:"boolean"}}}}]},I.RawDirection={Up:"up",Down:"down"},I.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage",Editor:"editor"};function F(O){let M;switch(O.to){case I.RawDirection.Up:M=1;break;case I.RawDirection.Down:M=2;break;default:return null}let N;switch(O.by){case I.RawUnit.Line:N=1;break;case I.RawUnit.WrappedLine:N=2;break;case I.RawUnit.Page:N=3;break;case I.RawUnit.HalfPage:N=4;break;case I.RawUnit.Editor:N=5;break;default:N=2}const A=Math.floor(O.value||1),B=!!O.revealCursor;return{direction:M,unit:N,value:A,revealCursor:B,select:!!O.select}}I.parse=F})(a=e.EditorScroll_||(e.EditorScroll_={}));var u;(function(I){const R=function(F){if(!k.isObject(F))return!1;const O=F;return!(!k.isNumber(O.lineNumber)&&!k.isString(O.lineNumber)||!k.isUndefined(O.at)&&!k.isString(O.at))};I.description={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'lineNumber': A mandatory line number value.\n					* 'at': Logical position at which line has to be revealed.\n						```\n						'top', 'center', 'bottom'\n						```\n				",constraint:R,schema:{type:"object",required:["lineNumber"],properties:{lineNumber:{type:["number","string"]},at:{type:"string",enum:["top","center","bottom"]}}}}]},I.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"}})(u=e.RevealLine_||(e.RevealLine_={}));class p{constructor(R){R.addImplementation(1e4,"code-editor",(F,O)=>{const M=F.get(b.ICodeEditorService).getFocusedCodeEditor();return M&&M.hasTextFocus()?this._runEditorCommand(F,M,O):!1}),R.addImplementation(1e3,"generic-dom-input-textarea",(F,O)=>{const M=document.activeElement;return M&&["input","textarea"].indexOf(M.tagName.toLowerCase())>=0?(this.runDOMCommand(),!0):!1}),R.addImplementation(0,"generic-dom",(F,O)=>{const M=F.get(b.ICodeEditorService).getActiveCodeEditor();return M?(M.focus(),this._runEditorCommand(F,M,O)):!1})}_runEditorCommand(R,F,O){const M=this.runEditorCommand(R,F,O);return M||!0}}var S;(function(I){class R extends s{constructor(ee){super(ee),this._inSelectionMode=ee.inSelectionMode}runCoreEditorCommand(ee,le){if(!le.position)return;ee.model.pushStackElement(),ee.setCursorStates(le.source,3,[t.CursorMoveCommands.moveTo(ee,ee.getPrimaryCursorState(),this._inSelectionMode,le.position,le.viewPosition)])&&le.revealType!==2&&ee.revealPrimaryCursor(le.source,!0,!0)}}I.MoveTo=(0,L.registerEditorCommand)(new R({id:"_moveTo",inSelectionMode:!1,precondition:void 0})),I.MoveToSelect=(0,L.registerEditorCommand)(new R({id:"_moveToSelect",inSelectionMode:!0,precondition:void 0}));class F extends s{runCoreEditorCommand(ee,le){ee.model.pushStackElement();const V=this._getColumnSelectResult(ee,ee.getPrimaryCursorState(),ee.getCursorColumnSelectData(),le);V!==null&&(ee.setCursorStates(le.source,3,V.viewStates.map($=>h.CursorState.fromViewState($))),ee.setCursorColumnSelectData({isReal:!0,fromViewLineNumber:V.fromLineNumber,fromViewVisualColumn:V.fromVisualColumn,toViewLineNumber:V.toLineNumber,toViewVisualColumn:V.toVisualColumn}),V.reversed?ee.revealTopMostCursor(le.source):ee.revealBottomMostCursor(le.source))}}I.ColumnSelect=(0,L.registerEditorCommand)(new class extends F{constructor(){super({id:"columnSelect",precondition:void 0})}_getColumnSelectResult(Z,ee,le,V){if(typeof V.position>"u"||typeof V.viewPosition>"u"||typeof V.mouseColumn>"u")return null;const $=Z.model.validatePosition(V.position),oe=Z.coordinatesConverter.validateViewPosition(new n.Position(V.viewPosition.lineNumber,V.viewPosition.column),$),U=V.doColumnSelect?le.fromViewLineNumber:oe.lineNumber,ae=V.doColumnSelect?le.fromViewVisualColumn:V.mouseColumn-1;return C.ColumnSelection.columnSelect(Z.cursorConfig,Z,U,ae,oe.lineNumber,V.mouseColumn-1)}}),I.CursorColumnSelectLeft=(0,L.registerEditorCommand)(new class extends F{constructor(){super({id:"cursorColumnSelectLeft",precondition:void 0,kbOpts:{weight:r,kbExpr:l.EditorContextKeys.textInputFocus,primary:3599,linux:{primary:0}}})}_getColumnSelectResult(Z,ee,le,V){return C.ColumnSelection.columnSelectLeft(Z.cursorConfig,Z,le)}}),I.CursorColumnSelectRight=(0,L.registerEditorCommand)(new class extends F{constructor(){super({id:"cursorColumnSelectRight",precondition:void 0,kbOpts:{weight:r,kbExpr:l.EditorContextKeys.textInputFocus,primary:3601,linux:{primary:0}}})}_getColumnSelectResult(Z,ee,le,V){return C.ColumnSelection.columnSelectRight(Z.cursorConfig,Z,le)}});class O extends F{constructor(ee){super(ee),this._isPaged=ee.isPaged}_getColumnSelectResult(ee,le,V,$){return C.ColumnSelection.columnSelectUp(ee.cursorConfig,ee,V,this._isPaged)}}I.CursorColumnSelectUp=(0,L.registerEditorCommand)(new O({isPaged:!1,id:"cursorColumnSelectUp",precondition:void 0,kbOpts:{weight:r,kbExpr:l.EditorContextKeys.textInputFocus,primary:3600,linux:{primary:0}}})),I.CursorColumnSelectPageUp=(0,L.registerEditorCommand)(new O({isPaged:!0,id:"cursorColumnSelectPageUp",precondition:void 0,kbOpts:{weight:r,kbExpr:l.EditorContextKeys.textInputFocus,primary:3595,linux:{primary:0}}}));class M extends F{constructor(ee){super(ee),this._isPaged=ee.isPaged}_getColumnSelectResult(ee,le,V,$){return C.ColumnSelection.columnSelectDown(ee.cursorConfig,ee,V,this._isPaged)}}I.CursorColumnSelectDown=(0,L.registerEditorCommand)(new M({isPaged:!1,id:"cursorColumnSelectDown",precondition:void 0,kbOpts:{weight:r,kbExpr:l.EditorContextKeys.textInputFocus,primary:3602,linux:{primary:0}}})),I.CursorColumnSelectPageDown=(0,L.registerEditorCommand)(new M({isPaged:!0,id:"cursorColumnSelectPageDown",precondition:void 0,kbOpts:{weight:r,kbExpr:l.EditorContextKeys.textInputFocus,primary:3596,linux:{primary:0}}}));class N extends s{constructor(){super({id:"cursorMove",precondition:void 0,description:t.CursorMove.description})}runCoreEditorCommand(ee,le){const V=t.CursorMove.parse(le);!V||this._runCursorMove(ee,le.source,V)}_runCursorMove(ee,le,V){ee.model.pushStackElement(),ee.setCursorStates(le,3,N._move(ee,ee.getCursorStates(),V)),ee.revealPrimaryCursor(le,!0)}static _move(ee,le,V){const $=V.select,oe=V.value;switch(V.direction){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:return t.CursorMoveCommands.simpleMove(ee,le,V.direction,$,oe,V.unit);case 11:case 13:case 12:case 14:return t.CursorMoveCommands.viewportMove(ee,le,V.direction,$,oe);default:return null}}}I.CursorMoveImpl=N,I.CursorMove=(0,L.registerEditorCommand)(new N);class A extends s{constructor(ee){super(ee),this._staticArgs=ee.args}runCoreEditorCommand(ee,le){let V=this._staticArgs;this._staticArgs.value===-1&&(V={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:le.pageSize||ee.cursorConfig.pageSize}),ee.model.pushStackElement(),ee.setCursorStates(le.source,3,t.CursorMoveCommands.simpleMove(ee,ee.getCursorStates(),V.direction,V.select,V.value,V.unit)),ee.revealPrimaryCursor(le.source,!0)}}I.CursorLeft=(0,L.registerEditorCommand)(new A({args:{direction:0,unit:0,select:!1,value:1},id:"cursorLeft",precondition:void 0,kbOpts:{weight:r,kbExpr:l.EditorContextKeys.textInputFocus,primary:15,mac:{primary:15,secondary:[288]}}})),I.CursorLeftSelect=(0,L.registerEditorCommand)(new A({args:{direction:0,unit:0,select:!0,value:1},id:"cursorLeftSelect",precondition:void 0,kbOpts:{weight:r,kbExpr:l.EditorContextKeys.textInputFocus,primary:1039}})),I.CursorRight=(0,L.registerEditorCommand)(new A({args:{direction:1,unit:0,select:!1,value:1},id:"cursorRight",precondition:void 0,kbOpts:{weight:r,kbExpr:l.EditorContextKeys.textInputFocus,primary:17,mac:{primary:17,secondary:[292]}}})),I.CursorRightSelect=(0,L.registerEditorCommand)(new A({args:{direction:1,unit:0,select:!0,value:1},id:"cursorRightSelect",precondition:void 0,kbOpts:{weight:r,kbExpr:l.EditorContextKeys.textInputFocus,primary:1041}})),I.CursorUp=(0,L.registerEditorCommand)(new A({args:{direction:2,unit:2,select:!1,value:1},id:"cursorUp",precondition:void 0,kbOpts:{weight:r,kbExpr:l.EditorContextKeys.textInputFocus,primary:16,mac:{primary:16,secondary:[302]}}})),I.CursorUpSelect=(0,L.registerEditorCommand)(new A({args:{direction:2,unit:2,select:!0,value:1},id:"cursorUpSelect",precondition:void 0,kbOpts:{weight:r,kbExpr:l.EditorContextKeys.textInputFocus,primary:1040,secondary:[3088],mac:{primary:1040},linux:{primary:1040}}})),I.CursorPageUp=(0,L.registerEditorCommand)(new A({args:{direction:2,unit:2,select:!1,value:-1},id:"cursorPageUp",precondition:void 0,kbOpts:{weight:r,kbExpr:l.EditorContextKeys.textInputFocus,primary:11}})),I.CursorPageUpSelect=(0,L.registerEditorCommand)(new A({args:{direction:2,unit:2,select:!0,value:-1},id:"cursorPageUpSelect",precondition:void 0,kbOpts:{weight:r,kbExpr:l.EditorContextKeys.textInputFocus,primary:1035}})),I.CursorDown=(0,L.registerEditorCommand)(new A({args:{direction:3,unit:2,select:!1,value:1},id:"cursorDown",precondition:void 0,kbOpts:{weight:r,kbExpr:l.EditorContextKeys.textInputFocus,primary:18,mac:{primary:18,secondary:[300]}}})),I.CursorDownSelect=(0,L.registerEditorCommand)(new A({args:{direction:3,unit:2,select:!0,value:1},id:"cursorDownSelect",precondition:void 0,kbOpts:{weight:r,kbExpr:l.EditorContextKeys.textInputFocus,primary:1042,secondary:[3090],mac:{primary:1042},linux:{primary:1042}}})),I.CursorPageDown=(0,L.registerEditorCommand)(new A({args:{direction:3,unit:2,select:!1,value:-1},id:"cursorPageDown",precondition:void 0,kbOpts:{weight:r,kbExpr:l.EditorContextKeys.textInputFocus,primary:12}})),I.CursorPageDownSelect=(0,L.registerEditorCommand)(new A({args:{direction:3,unit:2,select:!0,value:-1},id:"cursorPageDownSelect",precondition:void 0,kbOpts:{weight:r,kbExpr:l.EditorContextKeys.textInputFocus,primary:1036}})),I.CreateCursor=(0,L.registerEditorCommand)(new class extends s{constructor(){super({id:"createCursor",precondition:void 0})}runCoreEditorCommand(Z,ee){if(!ee.position)return;let le;ee.wholeLine?le=t.CursorMoveCommands.line(Z,Z.getPrimaryCursorState(),!1,ee.position,ee.viewPosition):le=t.CursorMoveCommands.moveTo(Z,Z.getPrimaryCursorState(),!1,ee.position,ee.viewPosition);const V=Z.getCursorStates();if(V.length>1){const $=le.modelState?le.modelState.position:null,oe=le.viewState?le.viewState.position:null;for(let U=0,ae=V.length;U<ae;U++){const z=V[U];if(!($&&!z.modelState.selection.containsPosition($))&&!(oe&&!z.viewState.selection.containsPosition(oe))){V.splice(U,1),Z.model.pushStackElement(),Z.setCursorStates(ee.source,3,V);return}}}V.push(le),Z.model.pushStackElement(),Z.setCursorStates(ee.source,3,V)}}),I.LastCursorMoveToSelect=(0,L.registerEditorCommand)(new class extends s{constructor(){super({id:"_lastCursorMoveToSelect",precondition:void 0})}runCoreEditorCommand(Z,ee){if(!ee.position)return;const le=Z.getLastAddedCursorIndex(),V=Z.getCursorStates(),$=V.slice(0);$[le]=t.CursorMoveCommands.moveTo(Z,V[le],!0,ee.position,ee.viewPosition),Z.model.pushStackElement(),Z.setCursorStates(ee.source,3,$)}});class B extends s{constructor(ee){super(ee),this._inSelectionMode=ee.inSelectionMode}runCoreEditorCommand(ee,le){ee.model.pushStackElement(),ee.setCursorStates(le.source,3,t.CursorMoveCommands.moveToBeginningOfLine(ee,ee.getCursorStates(),this._inSelectionMode)),ee.revealPrimaryCursor(le.source,!0)}}I.CursorHome=(0,L.registerEditorCommand)(new B({inSelectionMode:!1,id:"cursorHome",precondition:void 0,kbOpts:{weight:r,kbExpr:l.EditorContextKeys.textInputFocus,primary:14,mac:{primary:14,secondary:[2063]}}})),I.CursorHomeSelect=(0,L.registerEditorCommand)(new B({inSelectionMode:!0,id:"cursorHomeSelect",precondition:void 0,kbOpts:{weight:r,kbExpr:l.EditorContextKeys.textInputFocus,primary:1038,mac:{primary:1038,secondary:[3087]}}}));class W extends s{constructor(ee){super(ee),this._inSelectionMode=ee.inSelectionMode}runCoreEditorCommand(ee,le){ee.model.pushStackElement(),ee.setCursorStates(le.source,3,this._exec(ee.getCursorStates())),ee.revealPrimaryCursor(le.source,!0)}_exec(ee){const le=[];for(let V=0,$=ee.length;V<$;V++){const oe=ee[V],U=oe.modelState.position.lineNumber;le[V]=h.CursorState.fromModelState(oe.modelState.move(this._inSelectionMode,U,1,0))}return le}}I.CursorLineStart=(0,L.registerEditorCommand)(new W({inSelectionMode:!1,id:"cursorLineStart",precondition:void 0,kbOpts:{weight:r,kbExpr:l.EditorContextKeys.textInputFocus,primary:0,mac:{primary:287}}})),I.CursorLineStartSelect=(0,L.registerEditorCommand)(new W({inSelectionMode:!0,id:"cursorLineStartSelect",precondition:void 0,kbOpts:{weight:r,kbExpr:l.EditorContextKeys.textInputFocus,primary:0,mac:{primary:1311}}}));class x extends s{constructor(ee){super(ee),this._inSelectionMode=ee.inSelectionMode}runCoreEditorCommand(ee,le){ee.model.pushStackElement(),ee.setCursorStates(le.source,3,t.CursorMoveCommands.moveToEndOfLine(ee,ee.getCursorStates(),this._inSelectionMode,le.sticky||!1)),ee.revealPrimaryCursor(le.source,!0)}}I.CursorEnd=(0,L.registerEditorCommand)(new x({inSelectionMode:!1,id:"cursorEnd",precondition:void 0,kbOpts:{args:{sticky:!1},weight:r,kbExpr:l.EditorContextKeys.textInputFocus,primary:13,mac:{primary:13,secondary:[2065]}},description:{description:"Go to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:w.localize(0,null),type:"boolean",default:!1}}}}]}})),I.CursorEndSelect=(0,L.registerEditorCommand)(new x({inSelectionMode:!0,id:"cursorEndSelect",precondition:void 0,kbOpts:{args:{sticky:!1},weight:r,kbExpr:l.EditorContextKeys.textInputFocus,primary:1037,mac:{primary:1037,secondary:[3089]}},description:{description:"Select to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:w.localize(1,null),type:"boolean",default:!1}}}}]}}));class P extends s{constructor(ee){super(ee),this._inSelectionMode=ee.inSelectionMode}runCoreEditorCommand(ee,le){ee.model.pushStackElement(),ee.setCursorStates(le.source,3,this._exec(ee,ee.getCursorStates())),ee.revealPrimaryCursor(le.source,!0)}_exec(ee,le){const V=[];for(let $=0,oe=le.length;$<oe;$++){const U=le[$],ae=U.modelState.position.lineNumber,z=ee.model.getLineMaxColumn(ae);V[$]=h.CursorState.fromModelState(U.modelState.move(this._inSelectionMode,ae,z,0))}return V}}I.CursorLineEnd=(0,L.registerEditorCommand)(new P({inSelectionMode:!1,id:"cursorLineEnd",precondition:void 0,kbOpts:{weight:r,kbExpr:l.EditorContextKeys.textInputFocus,primary:0,mac:{primary:291}}})),I.CursorLineEndSelect=(0,L.registerEditorCommand)(new P({inSelectionMode:!0,id:"cursorLineEndSelect",precondition:void 0,kbOpts:{weight:r,kbExpr:l.EditorContextKeys.textInputFocus,primary:0,mac:{primary:1315}}}));class X extends s{constructor(ee){super(ee),this._inSelectionMode=ee.inSelectionMode}runCoreEditorCommand(ee,le){ee.model.pushStackElement(),ee.setCursorStates(le.source,3,t.CursorMoveCommands.moveToBeginningOfBuffer(ee,ee.getCursorStates(),this._inSelectionMode)),ee.revealPrimaryCursor(le.source,!0)}}I.CursorTop=(0,L.registerEditorCommand)(new X({inSelectionMode:!1,id:"cursorTop",precondition:void 0,kbOpts:{weight:r,kbExpr:l.EditorContextKeys.textInputFocus,primary:2062,mac:{primary:2064}}})),I.CursorTopSelect=(0,L.registerEditorCommand)(new X({inSelectionMode:!0,id:"cursorTopSelect",precondition:void 0,kbOpts:{weight:r,kbExpr:l.EditorContextKeys.textInputFocus,primary:3086,mac:{primary:3088}}}));class ie extends s{constructor(ee){super(ee),this._inSelectionMode=ee.inSelectionMode}runCoreEditorCommand(ee,le){ee.model.pushStackElement(),ee.setCursorStates(le.source,3,t.CursorMoveCommands.moveToEndOfBuffer(ee,ee.getCursorStates(),this._inSelectionMode)),ee.revealPrimaryCursor(le.source,!0)}}I.CursorBottom=(0,L.registerEditorCommand)(new ie({inSelectionMode:!1,id:"cursorBottom",precondition:void 0,kbOpts:{weight:r,kbExpr:l.EditorContextKeys.textInputFocus,primary:2061,mac:{primary:2066}}})),I.CursorBottomSelect=(0,L.registerEditorCommand)(new ie({inSelectionMode:!0,id:"cursorBottomSelect",precondition:void 0,kbOpts:{weight:r,kbExpr:l.EditorContextKeys.textInputFocus,primary:3085,mac:{primary:3090}}}));class K extends s{constructor(){super({id:"editorScroll",precondition:void 0,description:a.description})}runCoreEditorCommand(ee,le){const V=a.parse(le);!V||this._runEditorScroll(ee,le.source,V)}_runEditorScroll(ee,le,V){const $=this._computeDesiredScrollTop(ee,V);if(V.revealCursor){const oe=ee.getCompletelyVisibleViewRangeAtScrollTop($);ee.setCursorStates(le,3,[t.CursorMoveCommands.findPositionInViewportIfOutside(ee,ee.getPrimaryCursorState(),oe,V.select)])}ee.viewLayout.setScrollPosition({scrollTop:$},0)}_computeDesiredScrollTop(ee,le){if(le.unit===1){const oe=ee.getCompletelyVisibleViewRange(),U=ee.coordinatesConverter.convertViewRangeToModelRange(oe);let ae;le.direction===1?ae=Math.max(1,U.startLineNumber-le.value):ae=Math.min(ee.model.getLineCount(),U.startLineNumber+le.value);const z=ee.coordinatesConverter.convertModelPositionToViewPosition(new n.Position(ae,1));return ee.viewLayout.getVerticalOffsetForLineNumber(z.lineNumber)}if(le.unit===5){let oe=0;return le.direction===2&&(oe=ee.model.getLineCount()-ee.cursorConfig.pageSize),ee.viewLayout.getVerticalOffsetForLineNumber(oe)}let V;le.unit===3?V=ee.cursorConfig.pageSize*le.value:le.unit===4?V=Math.round(ee.cursorConfig.pageSize/2)*le.value:V=le.value;const $=(le.direction===1?-1:1)*V;return ee.viewLayout.getCurrentScrollTop()+$*ee.cursorConfig.lineHeight}}I.EditorScrollImpl=K,I.EditorScroll=(0,L.registerEditorCommand)(new K),I.ScrollLineUp=(0,L.registerEditorCommand)(new class extends s{constructor(){super({id:"scrollLineUp",precondition:void 0,kbOpts:{weight:r,kbExpr:l.EditorContextKeys.textInputFocus,primary:2064,mac:{primary:267}}})}runCoreEditorCommand(Z,ee){I.EditorScroll._runEditorScroll(Z,ee.source,{direction:1,unit:2,value:1,revealCursor:!1,select:!1})}}),I.ScrollPageUp=(0,L.registerEditorCommand)(new class extends s{constructor(){super({id:"scrollPageUp",precondition:void 0,kbOpts:{weight:r,kbExpr:l.EditorContextKeys.textInputFocus,primary:2059,win:{primary:523},linux:{primary:523}}})}runCoreEditorCommand(Z,ee){I.EditorScroll._runEditorScroll(Z,ee.source,{direction:1,unit:3,value:1,revealCursor:!1,select:!1})}}),I.ScrollEditorTop=(0,L.registerEditorCommand)(new class extends s{constructor(){super({id:"scrollEditorTop",precondition:void 0,kbOpts:{weight:r,kbExpr:l.EditorContextKeys.textInputFocus}})}runCoreEditorCommand(Z,ee){I.EditorScroll._runEditorScroll(Z,ee.source,{direction:1,unit:5,value:1,revealCursor:!1,select:!1})}}),I.ScrollLineDown=(0,L.registerEditorCommand)(new class extends s{constructor(){super({id:"scrollLineDown",precondition:void 0,kbOpts:{weight:r,kbExpr:l.EditorContextKeys.textInputFocus,primary:2066,mac:{primary:268}}})}runCoreEditorCommand(Z,ee){I.EditorScroll._runEditorScroll(Z,ee.source,{direction:2,unit:2,value:1,revealCursor:!1,select:!1})}}),I.ScrollPageDown=(0,L.registerEditorCommand)(new class extends s{constructor(){super({id:"scrollPageDown",precondition:void 0,kbOpts:{weight:r,kbExpr:l.EditorContextKeys.textInputFocus,primary:2060,win:{primary:524},linux:{primary:524}}})}runCoreEditorCommand(Z,ee){I.EditorScroll._runEditorScroll(Z,ee.source,{direction:2,unit:3,value:1,revealCursor:!1,select:!1})}}),I.ScrollEditorBottom=(0,L.registerEditorCommand)(new class extends s{constructor(){super({id:"scrollEditorBottom",precondition:void 0,kbOpts:{weight:r,kbExpr:l.EditorContextKeys.textInputFocus}})}runCoreEditorCommand(Z,ee){I.EditorScroll._runEditorScroll(Z,ee.source,{direction:2,unit:5,value:1,revealCursor:!1,select:!1})}});class G extends s{constructor(ee){super(ee),this._inSelectionMode=ee.inSelectionMode}runCoreEditorCommand(ee,le){!le.position||(ee.model.pushStackElement(),ee.setCursorStates(le.source,3,[t.CursorMoveCommands.word(ee,ee.getPrimaryCursorState(),this._inSelectionMode,le.position)]),le.revealType!==2&&ee.revealPrimaryCursor(le.source,!0,!0))}}I.WordSelect=(0,L.registerEditorCommand)(new G({inSelectionMode:!1,id:"_wordSelect",precondition:void 0})),I.WordSelectDrag=(0,L.registerEditorCommand)(new G({inSelectionMode:!0,id:"_wordSelectDrag",precondition:void 0})),I.LastCursorWordSelect=(0,L.registerEditorCommand)(new class extends s{constructor(){super({id:"lastCursorWordSelect",precondition:void 0})}runCoreEditorCommand(Z,ee){if(!ee.position)return;const le=Z.getLastAddedCursorIndex(),V=Z.getCursorStates(),$=V.slice(0),oe=V[le];$[le]=t.CursorMoveCommands.word(Z,oe,oe.modelState.hasSelection(),ee.position),Z.model.pushStackElement(),Z.setCursorStates(ee.source,3,$)}});class Q extends s{constructor(ee){super(ee),this._inSelectionMode=ee.inSelectionMode}runCoreEditorCommand(ee,le){!le.position||(ee.model.pushStackElement(),ee.setCursorStates(le.source,3,[t.CursorMoveCommands.line(ee,ee.getPrimaryCursorState(),this._inSelectionMode,le.position,le.viewPosition)]),le.revealType!==2&&ee.revealPrimaryCursor(le.source,!1,!0))}}I.LineSelect=(0,L.registerEditorCommand)(new Q({inSelectionMode:!1,id:"_lineSelect",precondition:void 0})),I.LineSelectDrag=(0,L.registerEditorCommand)(new Q({inSelectionMode:!0,id:"_lineSelectDrag",precondition:void 0}));class ne extends s{constructor(ee){super(ee),this._inSelectionMode=ee.inSelectionMode}runCoreEditorCommand(ee,le){if(!le.position)return;const V=ee.getLastAddedCursorIndex(),$=ee.getCursorStates(),oe=$.slice(0);oe[V]=t.CursorMoveCommands.line(ee,$[V],this._inSelectionMode,le.position,le.viewPosition),ee.model.pushStackElement(),ee.setCursorStates(le.source,3,oe)}}I.LastCursorLineSelect=(0,L.registerEditorCommand)(new ne({inSelectionMode:!1,id:"lastCursorLineSelect",precondition:void 0})),I.LastCursorLineSelectDrag=(0,L.registerEditorCommand)(new ne({inSelectionMode:!0,id:"lastCursorLineSelectDrag",precondition:void 0})),I.CancelSelection=(0,L.registerEditorCommand)(new class extends s{constructor(){super({id:"cancelSelection",precondition:l.EditorContextKeys.hasNonEmptySelection,kbOpts:{weight:r,kbExpr:l.EditorContextKeys.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(Z,ee){Z.model.pushStackElement(),Z.setCursorStates(ee.source,3,[t.CursorMoveCommands.cancelSelection(Z,Z.getPrimaryCursorState())]),Z.revealPrimaryCursor(ee.source,!0)}}),I.RemoveSecondaryCursors=(0,L.registerEditorCommand)(new class extends s{constructor(){super({id:"removeSecondaryCursors",precondition:l.EditorContextKeys.hasMultipleSelections,kbOpts:{weight:r+1,kbExpr:l.EditorContextKeys.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(Z,ee){Z.model.pushStackElement(),Z.setCursorStates(ee.source,3,[Z.getPrimaryCursorState()]),Z.revealPrimaryCursor(ee.source,!0),(0,D.status)(w.localize(2,null))}}),I.RevealLine=(0,L.registerEditorCommand)(new class extends s{constructor(){super({id:"revealLine",precondition:void 0,description:u.description})}runCoreEditorCommand(Z,ee){const le=ee,V=le.lineNumber||0;let $=typeof V=="number"?V+1:parseInt(V)+1;$<1&&($=1);const oe=Z.model.getLineCount();$>oe&&($=oe);const U=new o.Range($,1,$,Z.model.getLineMaxColumn($));let ae=0;if(le.at)switch(le.at){case u.RawAtArgument.Top:ae=3;break;case u.RawAtArgument.Center:ae=1;break;case u.RawAtArgument.Bottom:ae=4;break;default:break}const z=Z.coordinatesConverter.convertModelRangeToViewRange(U);Z.revealRange(ee.source,!1,z,ae,0)}}),I.SelectAll=new class extends p{constructor(){super(L.SelectAllCommand)}runDOMCommand(){m.isFirefox&&(document.activeElement.focus(),document.activeElement.select()),document.execCommand("selectAll")}runEditorCommand(Z,ee,le){const V=ee._getViewModel();!V||this.runCoreEditorCommand(V,le)}runCoreEditorCommand(Z,ee){Z.model.pushStackElement(),Z.setCursorStates("keyboard",3,[t.CursorMoveCommands.selectAll(Z,Z.getPrimaryCursorState())])}},I.SetSelection=(0,L.registerEditorCommand)(new class extends s{constructor(){super({id:"setSelection",precondition:void 0})}runCoreEditorCommand(Z,ee){!ee.selection||(Z.model.pushStackElement(),Z.setCursorStates(ee.source,3,[h.CursorState.fromModelSelection(ee.selection)]))}})})(S=e.CoreNavigationCommands||(e.CoreNavigationCommands={}));const f=c.ContextKeyExpr.and(l.EditorContextKeys.textInputFocus,l.EditorContextKeys.columnSelection);function v(I,R){d.KeybindingsRegistry.registerKeybindingRule({id:I,primary:R,when:f,weight:r+1})}v(S.CursorColumnSelectLeft.id,1039),v(S.CursorColumnSelectRight.id,1041),v(S.CursorColumnSelectUp.id,1040),v(S.CursorColumnSelectPageUp.id,1035),v(S.CursorColumnSelectDown.id,1042),v(S.CursorColumnSelectPageDown.id,1036);function _(I){return I.register(),I}var y;(function(I){class R extends L.EditorCommand{runEditorCommand(O,M,N){const A=M._getViewModel();!A||this.runCoreEditingCommand(M,A,N||{})}}I.CoreEditingCommand=R,I.LineBreakInsert=(0,L.registerEditorCommand)(new class extends R{constructor(){super({id:"lineBreakInsert",precondition:l.EditorContextKeys.writable,kbOpts:{weight:r,kbExpr:l.EditorContextKeys.textInputFocus,primary:0,mac:{primary:301}}})}runCoreEditingCommand(F,O,M){F.pushUndoStop(),F.executeCommands(this.id,i.TypeOperations.lineBreakInsert(O.cursorConfig,O.model,O.getCursorStates().map(N=>N.modelState.selection)))}}),I.Outdent=(0,L.registerEditorCommand)(new class extends R{constructor(){super({id:"outdent",precondition:l.EditorContextKeys.writable,kbOpts:{weight:r,kbExpr:c.ContextKeyExpr.and(l.EditorContextKeys.editorTextFocus,l.EditorContextKeys.tabDoesNotMoveFocus),primary:1026}})}runCoreEditingCommand(F,O,M){F.pushUndoStop(),F.executeCommands(this.id,i.TypeOperations.outdent(O.cursorConfig,O.model,O.getCursorStates().map(N=>N.modelState.selection))),F.pushUndoStop()}}),I.Tab=(0,L.registerEditorCommand)(new class extends R{constructor(){super({id:"tab",precondition:l.EditorContextKeys.writable,kbOpts:{weight:r,kbExpr:c.ContextKeyExpr.and(l.EditorContextKeys.editorTextFocus,l.EditorContextKeys.tabDoesNotMoveFocus),primary:2}})}runCoreEditingCommand(F,O,M){F.pushUndoStop(),F.executeCommands(this.id,i.TypeOperations.tab(O.cursorConfig,O.model,O.getCursorStates().map(N=>N.modelState.selection))),F.pushUndoStop()}}),I.DeleteLeft=(0,L.registerEditorCommand)(new class extends R{constructor(){super({id:"deleteLeft",precondition:void 0,kbOpts:{weight:r,kbExpr:l.EditorContextKeys.textInputFocus,primary:1,secondary:[1025],mac:{primary:1,secondary:[1025,294,257]}}})}runCoreEditingCommand(F,O,M){const[N,A]=g.DeleteOperations.deleteLeft(O.getPrevEditOperationType(),O.cursorConfig,O.model,O.getCursorStates().map(B=>B.modelState.selection),O.getCursorAutoClosedCharacters());N&&F.pushUndoStop(),F.executeCommands(this.id,A),O.setPrevEditOperationType(2)}}),I.DeleteRight=(0,L.registerEditorCommand)(new class extends R{constructor(){super({id:"deleteRight",precondition:void 0,kbOpts:{weight:r,kbExpr:l.EditorContextKeys.textInputFocus,primary:20,mac:{primary:20,secondary:[290,276]}}})}runCoreEditingCommand(F,O,M){const[N,A]=g.DeleteOperations.deleteRight(O.getPrevEditOperationType(),O.cursorConfig,O.model,O.getCursorStates().map(B=>B.modelState.selection));N&&F.pushUndoStop(),F.executeCommands(this.id,A),O.setPrevEditOperationType(3)}}),I.Undo=new class extends p{constructor(){super(L.UndoCommand)}runDOMCommand(){document.execCommand("undo")}runEditorCommand(F,O,M){if(!(!O.hasModel()||O.getOption(82)===!0))return O.getModel().undo()}},I.Redo=new class extends p{constructor(){super(L.RedoCommand)}runDOMCommand(){document.execCommand("redo")}runEditorCommand(F,O,M){if(!(!O.hasModel()||O.getOption(82)===!0))return O.getModel().redo()}}})(y=e.CoreEditingCommands||(e.CoreEditingCommands={}));class E extends L.Command{constructor(R,F,O){super({id:R,precondition:void 0,description:O}),this._handlerId=F}runCommand(R,F){const O=R.get(b.ICodeEditorService).getFocusedCodeEditor();!O||O.trigger("keyboard",this._handlerId,F)}}function T(I,R){_(new E("default:"+I,I)),_(new E(I,I,R))}T("type",{description:"Type",args:[{name:"args",schema:{type:"object",required:["text"],properties:{text:{type:"string"}}}}]}),T("replacePreviousChar"),T("compositionType"),T("compositionStart"),T("compositionEnd"),T("paste"),T("cut")}),define(se[713],re([1,0,214,13]),function(q,e,w,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerDecorationsContribution=void 0;let k=class{constructor(L,b){}dispose(){}};k.ID="editor.contrib.markerDecorations",k=De([fe(1,w.IMarkerDecorationsService)],k),e.MarkerDecorationsContribution=k,(0,m.registerEditorContribution)(k.ID,k)}),define(se[714],re([1,0,171,11,17]),function(q,e,w,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewController=void 0;class D{constructor(b,C,h,g){this.configuration=b,this.viewModel=C,this.userInputEvents=h,this.commandDelegate=g}paste(b,C,h,g){this.commandDelegate.paste(b,C,h,g)}type(b){this.commandDelegate.type(b)}compositionType(b,C,h,g){this.commandDelegate.compositionType(b,C,h,g)}compositionStart(){this.commandDelegate.startComposition()}compositionEnd(){this.commandDelegate.endComposition()}cut(){this.commandDelegate.cut()}setSelection(b){w.CoreNavigationCommands.SetSelection.runCoreEditorCommand(this.viewModel,{source:"keyboard",selection:b})}_validateViewColumn(b){const C=this.viewModel.getLineMinColumn(b.lineNumber);return b.column<C?new m.Position(b.lineNumber,C):b}_hasMulticursorModifier(b){switch(this.configuration.options.get(71)){case"altKey":return b.altKey;case"ctrlKey":return b.ctrlKey;case"metaKey":return b.metaKey;default:return!1}}_hasNonMulticursorModifier(b){switch(this.configuration.options.get(71)){case"altKey":return b.ctrlKey||b.metaKey;case"ctrlKey":return b.altKey||b.metaKey;case"metaKey":return b.ctrlKey||b.altKey;default:return!1}}dispatchMouse(b){const C=this.configuration.options,h=k.isLinux&&C.get(97),g=C.get(18);b.middleButton&&!h?this._columnSelect(b.position,b.mouseColumn,b.inSelectionMode):b.startedOnLineNumbers?this._hasMulticursorModifier(b)?b.inSelectionMode?this._lastCursorLineSelect(b.position,b.revealType):this._createCursor(b.position,!0):b.inSelectionMode?this._lineSelectDrag(b.position,b.revealType):this._lineSelect(b.position,b.revealType):b.mouseDownCount>=4?this._selectAll():b.mouseDownCount===3?this._hasMulticursorModifier(b)?b.inSelectionMode?this._lastCursorLineSelectDrag(b.position,b.revealType):this._lastCursorLineSelect(b.position,b.revealType):b.inSelectionMode?this._lineSelectDrag(b.position,b.revealType):this._lineSelect(b.position,b.revealType):b.mouseDownCount===2?b.onInjectedText||(this._hasMulticursorModifier(b)?this._lastCursorWordSelect(b.position,b.revealType):b.inSelectionMode?this._wordSelectDrag(b.position,b.revealType):this._wordSelect(b.position,b.revealType)):this._hasMulticursorModifier(b)?this._hasNonMulticursorModifier(b)||(b.shiftKey?this._columnSelect(b.position,b.mouseColumn,!0):b.inSelectionMode?this._lastCursorMoveToSelect(b.position,b.revealType):this._createCursor(b.position,!1)):b.inSelectionMode?b.altKey?this._columnSelect(b.position,b.mouseColumn,!0):g?this._columnSelect(b.position,b.mouseColumn,!0):this._moveToSelect(b.position,b.revealType):this.moveTo(b.position,b.revealType)}_usualArgs(b,C){return b=this._validateViewColumn(b),{source:"mouse",position:this._convertViewToModelPosition(b),viewPosition:b,revealType:C}}moveTo(b,C){w.CoreNavigationCommands.MoveTo.runCoreEditorCommand(this.viewModel,this._usualArgs(b,C))}_moveToSelect(b,C){w.CoreNavigationCommands.MoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(b,C))}_columnSelect(b,C,h){b=this._validateViewColumn(b),w.CoreNavigationCommands.ColumnSelect.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(b),viewPosition:b,mouseColumn:C,doColumnSelect:h})}_createCursor(b,C){b=this._validateViewColumn(b),w.CoreNavigationCommands.CreateCursor.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(b),viewPosition:b,wholeLine:C})}_lastCursorMoveToSelect(b,C){w.CoreNavigationCommands.LastCursorMoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(b,C))}_wordSelect(b,C){w.CoreNavigationCommands.WordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(b,C))}_wordSelectDrag(b,C){w.CoreNavigationCommands.WordSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(b,C))}_lastCursorWordSelect(b,C){w.CoreNavigationCommands.LastCursorWordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(b,C))}_lineSelect(b,C){w.CoreNavigationCommands.LineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(b,C))}_lineSelectDrag(b,C){w.CoreNavigationCommands.LineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(b,C))}_lastCursorLineSelect(b,C){w.CoreNavigationCommands.LastCursorLineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(b,C))}_lastCursorLineSelectDrag(b,C){w.CoreNavigationCommands.LastCursorLineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(b,C))}_selectAll(){w.CoreNavigationCommands.SelectAll.runCoreEditorCommand(this.viewModel,{source:"mouse"})}_convertViewToModelPosition(b){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(b)}emitKeyDown(b){this.userInputEvents.emitKeyDown(b)}emitKeyUp(b){this.userInputEvents.emitKeyUp(b)}emitContextMenu(b){this.userInputEvents.emitContextMenu(b)}emitMouseMove(b){this.userInputEvents.emitMouseMove(b)}emitMouseLeave(b){this.userInputEvents.emitMouseLeave(b)}emitMouseUp(b){this.userInputEvents.emitMouseUp(b)}emitMouseDown(b){this.userInputEvents.emitMouseDown(b)}emitMouseDrag(b){this.userInputEvents.emitMouseDrag(b)}emitMouseDrop(b){this.userInputEvents.emitMouseDrop(b)}emitMouseDropCanceled(){this.userInputEvents.emitMouseDropCanceled()}emitMouseWheel(b){this.userInputEvents.emitMouseWheel(b)}}e.ViewController=D}),define(se[715],re([1,0,7,24,35,14,689,699,714,234,519,48,517,697,451,693,192,698,304,690,452,249,453,694,454,700,461,701,695,696,702,455,11,3,129,462,458,133,16,303,450]),function(q,e,w,m,k,D,L,b,C,h,g,t,i,n,o,l,c,d,r,s,a,u,p,S,f,v,_,y,E,T,I,R,F,O,M,N,A,B,W,x,P){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.View=void 0;class X extends B.ViewEventHandler{constructor(G,Q,ne,Z,ee,le){super(),this._selections=[new m.Selection(1,1,1,1)],this._renderAnimationFrame=null;const V=new C.ViewController(Q,Z,ee,G);this._context=new N.ViewContext(Q,ne,Z),this._context.addEventHandler(this),this._viewParts=[],this._textAreaHandler=new b.TextAreaHandler(this._context,V,this._createTextAreaHandlerHelper()),this._viewParts.push(this._textAreaHandler),this._linesContent=(0,k.createFastDomNode)(document.createElement("div")),this._linesContent.setClassName("lines-content monaco-editor-background"),this._linesContent.setPosition("absolute"),this.domNode=(0,k.createFastDomNode)(document.createElement("div")),this.domNode.setClassName(this._getEditorClassName()),this.domNode.setAttribute("role","code"),this._overflowGuardContainer=(0,k.createFastDomNode)(document.createElement("div")),t.PartFingerprints.write(this._overflowGuardContainer,3),this._overflowGuardContainer.setClassName("overflow-guard"),this._scrollbar=new l.EditorScrollbar(this._context,this._linesContent,this.domNode,this._overflowGuardContainer),this._viewParts.push(this._scrollbar),this._viewLines=new s.ViewLines(this._context,this._linesContent),this._viewZones=new R.ViewZones(this._context),this._viewParts.push(this._viewZones);const $=new v.DecorationsOverviewRuler(this._context);this._viewParts.push($);const oe=new E.ScrollDecorationViewPart(this._context);this._viewParts.push(oe);const U=new g.ContentViewOverlays(this._context);this._viewParts.push(U),U.addDynamicOverlay(new n.CurrentLineHighlightOverlay(this._context)),U.addDynamicOverlay(new T.SelectionsOverlay(this._context)),U.addDynamicOverlay(new d.IndentGuidesOverlay(this._context)),U.addDynamicOverlay(new o.DecorationsOverlay(this._context));const ae=new g.MarginViewOverlays(this._context);this._viewParts.push(ae),ae.addDynamicOverlay(new n.CurrentLineMarginHighlightOverlay(this._context)),ae.addDynamicOverlay(new c.GlyphMarginOverlay(this._context)),ae.addDynamicOverlay(new p.MarginViewLineDecorationsOverlay(this._context)),ae.addDynamicOverlay(new a.LinesDecorationsOverlay(this._context)),ae.addDynamicOverlay(new r.LineNumbersOverlay(this._context));const z=new u.Margin(this._context);z.getDomNode().appendChild(this._viewZones.marginDomNode),z.getDomNode().appendChild(ae.getDomNode()),this._viewParts.push(z),this._contentWidgets=new i.ViewContentWidgets(this._context,this.domNode),this._viewParts.push(this._contentWidgets),this._viewCursors=new I.ViewCursors(this._context),this._viewParts.push(this._viewCursors),this._overlayWidgets=new f.ViewOverlayWidgets(this._context),this._viewParts.push(this._overlayWidgets);const J=new y.Rulers(this._context);this._viewParts.push(J);const Y=new P.BlockDecorations(this._context);this._viewParts.push(Y);const H=new S.Minimap(this._context);if(this._viewParts.push(H),$){const j=this._scrollbar.getOverviewRulerLayoutInfo();j.parent.insertBefore($.getDomNode(),j.insertBefore)}this._linesContent.appendChild(U.getDomNode()),this._linesContent.appendChild(J.domNode),this._linesContent.appendChild(Y.domNode),this._linesContent.appendChild(this._viewZones.domNode),this._linesContent.appendChild(this._viewLines.getDomNode()),this._linesContent.appendChild(this._contentWidgets.domNode),this._linesContent.appendChild(this._viewCursors.getDomNode()),this._overflowGuardContainer.appendChild(z.getDomNode()),this._overflowGuardContainer.appendChild(this._scrollbar.getDomNode()),this._overflowGuardContainer.appendChild(oe.getDomNode()),this._overflowGuardContainer.appendChild(this._textAreaHandler.textArea),this._overflowGuardContainer.appendChild(this._textAreaHandler.textAreaCover),this._overflowGuardContainer.appendChild(this._overlayWidgets.getDomNode()),this._overflowGuardContainer.appendChild(H.getDomNode()),this.domNode.appendChild(this._overflowGuardContainer),le?le.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode.domNode):this.domNode.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode),this._applyLayout(),this._pointerHandler=this._register(new L.PointerHandler(this._context,V,this._createPointerHandlerHelper()))}_flushAccumulatedAndRenderNow(){this._renderNow()}_createPointerHandlerHelper(){return{viewDomNode:this.domNode.domNode,linesContentDomNode:this._linesContent.domNode,viewLinesDomNode:this._viewLines.getDomNode().domNode,focusTextArea:()=>{this.focus()},dispatchTextAreaEvent:G=>{this._textAreaHandler.textArea.domNode.dispatchEvent(G)},getLastRenderData:()=>{const G=this._viewCursors.getLastRenderData()||[],Q=this._textAreaHandler.getLastRenderData();return new x.PointerHandlerLastRenderData(G,Q)},renderNow:()=>{this.render(!0,!1)},shouldSuppressMouseDownOnViewZone:G=>this._viewZones.shouldSuppressMouseDownOnViewZone(G),shouldSuppressMouseDownOnWidget:G=>this._contentWidgets.shouldSuppressMouseDownOnWidget(G),getPositionFromDOMInfo:(G,Q)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getPositionFromDOMInfo(G,Q)),visibleRangeForPosition:(G,Q)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new F.Position(G,Q))),getLineWidth:G=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getLineWidth(G))}}_createTextAreaHandlerHelper(){return{visibleRangeForPosition:G=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(G))}}_applyLayout(){const Q=this._context.configuration.options.get(133);this.domNode.setWidth(Q.width),this.domNode.setHeight(Q.height),this._overflowGuardContainer.setWidth(Q.width),this._overflowGuardContainer.setHeight(Q.height),this._linesContent.setWidth(1e6),this._linesContent.setHeight(1e6)}_getEditorClassName(){const G=this._textAreaHandler.isFocused()?" focused":"";return this._context.configuration.options.get(130)+" "+(0,W.getThemeTypeSelector)(this._context.theme.type)+G}handleEvents(G){super.handleEvents(G),this._scheduleRender()}onConfigurationChanged(G){return this.domNode.setClassName(this._getEditorClassName()),this._applyLayout(),!1}onCursorStateChanged(G){return this._selections=G.selections,!1}onFocusChanged(G){return this.domNode.setClassName(this._getEditorClassName()),!1}onThemeChanged(G){return this._context.theme.update(G.theme),this.domNode.setClassName(this._getEditorClassName()),!1}dispose(){this._renderAnimationFrame!==null&&(this._renderAnimationFrame.dispose(),this._renderAnimationFrame=null),this._contentWidgets.overflowingContentWidgetsDomNode.domNode.remove(),this._context.removeEventHandler(this),this._viewLines.dispose();for(const G of this._viewParts)G.dispose();super.dispose()}_scheduleRender(){this._renderAnimationFrame===null&&(this._renderAnimationFrame=w.runAtThisOrScheduleAtNextAnimationFrame(this._onRenderScheduled.bind(this),100))}_onRenderScheduled(){this._renderAnimationFrame=null,this._flushAccumulatedAndRenderNow()}_renderNow(){ie(()=>this._actualRender())}_getViewPartsToRender(){const G=[];let Q=0;for(const ne of this._viewParts)ne.shouldRender()&&(G[Q++]=ne);return G}_actualRender(){if(!w.isInDOM(this.domNode.domNode))return;let G=this._getViewPartsToRender();if(!this._viewLines.shouldRender()&&G.length===0)return;const Q=this._context.viewLayout.getLinesViewportData();this._context.viewModel.setViewport(Q.startLineNumber,Q.endLineNumber,Q.centeredLineNumber);const ne=new A.ViewportData(this._selections,Q,this._context.viewLayout.getWhitespaceViewportData(),this._context.viewModel);this._contentWidgets.shouldRender()&&this._contentWidgets.onBeforeRender(ne),this._viewLines.shouldRender()&&(this._viewLines.renderText(ne),this._viewLines.onDidRender(),G=this._getViewPartsToRender());const Z=new M.RenderingContext(this._context.viewLayout,ne,this._viewLines);for(const ee of G)ee.prepareRender(Z);for(const ee of G)ee.render(Z),ee.onDidRender()}delegateVerticalScrollbarPointerDown(G){this._scrollbar.delegateVerticalScrollbarPointerDown(G)}restoreState(G){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:G.scrollTop},1),this._context.viewModel.tokenizeViewport(),this._renderNow(),this._viewLines.updateLineWidths(),this._context.viewModel.viewLayout.setScrollPosition({scrollLeft:G.scrollLeft},1)}getOffsetForColumn(G,Q){const ne=this._context.viewModel.model.validatePosition({lineNumber:G,column:Q}),Z=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(ne);this._flushAccumulatedAndRenderNow();const ee=this._viewLines.visibleRangeForPosition(new F.Position(Z.lineNumber,Z.column));return ee?ee.left:-1}getTargetAtClientPoint(G,Q){const ne=this._pointerHandler.getTargetAtClientPoint(G,Q);return ne?h.ViewUserInputEvents.convertViewToModelMouseTarget(ne,this._context.viewModel.coordinatesConverter):null}createOverviewRuler(G){return new _.OverviewRuler(this._context,G)}change(G){this._viewZones.changeViewZones(G),this._scheduleRender()}render(G,Q){if(Q){this._viewLines.forceShouldRender();for(const ne of this._viewParts)ne.forceShouldRender()}G?this._flushAccumulatedAndRenderNow():this._scheduleRender()}focus(){this._textAreaHandler.focusTextArea()}isFocused(){return this._textAreaHandler.isFocused()}setAriaOptions(G){this._textAreaHandler.setAriaOptions(G)}addContentWidget(G){this._contentWidgets.addWidget(G.widget),this.layoutContentWidget(G),this._scheduleRender()}layoutContentWidget(G){var Q,ne;let Z=G.position&&G.position.range||null;if(Z===null){const le=G.position?G.position.position:null;le!==null&&(Z=new O.Range(le.lineNumber,le.column,le.lineNumber,le.column))}const ee=G.position?G.position.preference:null;this._contentWidgets.setWidgetPosition(G.widget,Z,ee,(ne=(Q=G.position)===null||Q===void 0?void 0:Q.positionAffinity)!==null&&ne!==void 0?ne:null),this._scheduleRender()}removeContentWidget(G){this._contentWidgets.removeWidget(G.widget),this._scheduleRender()}addOverlayWidget(G){this._overlayWidgets.addWidget(G.widget),this.layoutOverlayWidget(G),this._scheduleRender()}layoutOverlayWidget(G){const Q=G.position?G.position.preference:null;this._overlayWidgets.setWidgetPosition(G.widget,Q)&&this._scheduleRender()}removeOverlayWidget(G){this._overlayWidgets.removeWidget(G.widget),this._scheduleRender()}}e.View=X;function ie(K){try{return K()}catch(G){(0,D.onUnexpectedError)(G)}}}),define(se[716],re([1,0,50,68,57,13,24,25,555,15,380]),function(q,e,w,m,k,D,L,b,C,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectionAnchorSet=void 0,e.SelectionAnchorSet=new h.RawContextKey("selectionAnchorSet",!1);let g=class Ai{static get(c){return c.getContribution(Ai.ID)}constructor(c,d){this.editor=c,this.selectionAnchorSetContextKey=e.SelectionAnchorSet.bindTo(d),this.modelChangeListener=c.onDidChangeModel(()=>this.selectionAnchorSetContextKey.reset())}setSelectionAnchor(){if(this.editor.hasModel()){const c=this.editor.getPosition();this.editor.changeDecorations(d=>{this.decorationId&&d.removeDecoration(this.decorationId),this.decorationId=d.addDecoration(L.Selection.fromPositions(c,c),{description:"selection-anchor",stickiness:1,hoverMessage:new m.MarkdownString().appendText((0,C.localize)(0,null)),className:"selection-anchor"})}),this.selectionAnchorSetContextKey.set(!!this.decorationId),(0,w.alert)((0,C.localize)(1,null,c.lineNumber,c.column))}}goToSelectionAnchor(){if(this.editor.hasModel()&&this.decorationId){const c=this.editor.getModel().getDecorationRange(this.decorationId);c&&this.editor.setPosition(c.getStartPosition())}}selectFromAnchorToCursor(){if(this.editor.hasModel()&&this.decorationId){const c=this.editor.getModel().getDecorationRange(this.decorationId);if(c){const d=this.editor.getPosition();this.editor.setSelection(L.Selection.fromPositions(c.getStartPosition(),d)),this.cancelSelectionAnchor()}}}cancelSelectionAnchor(){if(this.decorationId){const c=this.decorationId;this.editor.changeDecorations(d=>{d.removeDecoration(c),this.decorationId=void 0}),this.selectionAnchorSetContextKey.set(!1)}}dispose(){this.cancelSelectionAnchor(),this.modelChangeListener.dispose()}};g.ID="editor.contrib.selectionAnchorController",g=De([fe(1,h.IContextKeyService)],g);class t extends D.EditorAction{constructor(){super({id:"editor.action.setSelectionAnchor",label:(0,C.localize)(2,null),alias:"Set Selection Anchor",precondition:void 0,kbOpts:{kbExpr:b.EditorContextKeys.editorTextFocus,primary:(0,k.KeyChord)(2089,2080),weight:100}})}run(c,d){var r;return Se(this,void 0,void 0,function*(){(r=g.get(d))===null||r===void 0||r.setSelectionAnchor()})}}class i extends D.EditorAction{constructor(){super({id:"editor.action.goToSelectionAnchor",label:(0,C.localize)(3,null),alias:"Go to Selection Anchor",precondition:e.SelectionAnchorSet})}run(c,d){var r;return Se(this,void 0,void 0,function*(){(r=g.get(d))===null||r===void 0||r.goToSelectionAnchor()})}}class n extends D.EditorAction{constructor(){super({id:"editor.action.selectFromAnchorToCursor",label:(0,C.localize)(4,null),alias:"Select from Anchor to Cursor",precondition:e.SelectionAnchorSet,kbOpts:{kbExpr:b.EditorContextKeys.editorTextFocus,primary:(0,k.KeyChord)(2089,2089),weight:100}})}run(c,d){var r;return Se(this,void 0,void 0,function*(){(r=g.get(d))===null||r===void 0||r.selectFromAnchorToCursor()})}}class o extends D.EditorAction{constructor(){super({id:"editor.action.cancelSelectionAnchor",label:(0,C.localize)(5,null),alias:"Cancel Selection Anchor",precondition:e.SelectionAnchorSet,kbOpts:{kbExpr:b.EditorContextKeys.editorTextFocus,primary:9,weight:100}})}run(c,d){var r;return Se(this,void 0,void 0,function*(){(r=g.get(d))===null||r===void 0||r.cancelSelectionAnchor()})}}(0,D.registerEditorContribution)(g.ID,g),(0,D.registerEditorAction)(t),(0,D.registerEditorAction)(i),(0,D.registerEditorAction)(n),(0,D.registerEditorAction)(o)}),define(se[717],re([1,0,13,25,463,557]),function(q,e,w,m,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class L extends w.EditorAction{constructor(g,t){super(t),this.left=g}run(g,t){if(!t.hasModel())return;const i=[],n=t.getSelections();for(const o of n)i.push(new k.MoveCaretCommand(o,this.left));t.pushUndoStop(),t.executeCommands(this.id,i),t.pushUndoStop()}}class b extends L{constructor(){super(!0,{id:"editor.action.moveCarretLeftAction",label:D.localize(0,null),alias:"Move Selected Text Left",precondition:m.EditorContextKeys.writable})}}class C extends L{constructor(){super(!1,{id:"editor.action.moveCarretRightAction",label:D.localize(1,null),alias:"Move Selected Text Right",precondition:m.EditorContextKeys.writable})}}(0,w.registerEditorAction)(b),(0,w.registerEditorAction)(C)}),define(se[718],re([1,0,13,110,186,3,25,558]),function(q,e,w,m,k,D,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class C extends w.EditorAction{constructor(){super({id:"editor.action.transposeLetters",label:b.localize(0,null),alias:"Transpose Letters",precondition:L.EditorContextKeys.writable,kbOpts:{kbExpr:L.EditorContextKeys.textInputFocus,primary:0,mac:{primary:306},weight:100}})}run(g,t){if(!t.hasModel())return;const i=t.getModel(),n=[],o=t.getSelections();for(const l of o){if(!l.isEmpty())continue;const c=l.startLineNumber,d=l.startColumn,r=i.getLineMaxColumn(c);if(c===1&&(d===1||d===2&&r===2))continue;const s=d===r?l.getPosition():k.MoveOperations.rightPosition(i,l.getPosition().lineNumber,l.getPosition().column),a=k.MoveOperations.leftPosition(i,s),u=k.MoveOperations.leftPosition(i,a),p=i.getValueInRange(D.Range.fromPositions(u,a)),S=i.getValueInRange(D.Range.fromPositions(a,s)),f=D.Range.fromPositions(u,s);n.push(new m.ReplaceCommand(f,S+p))}n.length>0&&(t.pushUndoStop(),t.executeCommands(this.id,n),t.pushUndoStop())}}(0,w.registerEditorAction)(C)}),define(se[719],re([1,0,42,17,207,13,29,25,559,32,95]),function(q,e,w,m,k,D,L,b,C,h,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PasteAction=e.CopyAction=e.CutAction=void 0;const t="9_cutcopypaste",i=m.isNative||document.queryCommandSupported("cut"),n=m.isNative||document.queryCommandSupported("copy"),o=typeof navigator.clipboard>"u"||w.isFirefox?document.queryCommandSupported("paste"):!0;function l(r){return r.register(),r}e.CutAction=i?l(new D.MultiCommand({id:"editor.action.clipboardCutAction",precondition:void 0,kbOpts:m.isNative?{primary:2102,win:{primary:2102,secondary:[1044]},weight:100}:void 0,menuOpts:[{menuId:h.MenuId.MenubarEditMenu,group:"2_ccp",title:C.localize(0,null),order:1},{menuId:h.MenuId.EditorContext,group:t,title:C.localize(1,null),when:b.EditorContextKeys.writable,order:1},{menuId:h.MenuId.CommandPalette,group:"",title:C.localize(2,null),order:1},{menuId:h.MenuId.SimpleEditorContext,group:t,title:C.localize(3,null),when:b.EditorContextKeys.writable,order:1}]})):void 0,e.CopyAction=n?l(new D.MultiCommand({id:"editor.action.clipboardCopyAction",precondition:void 0,kbOpts:m.isNative?{primary:2081,win:{primary:2081,secondary:[2067]},weight:100}:void 0,menuOpts:[{menuId:h.MenuId.MenubarEditMenu,group:"2_ccp",title:C.localize(4,null),order:2},{menuId:h.MenuId.EditorContext,group:t,title:C.localize(5,null),order:2},{menuId:h.MenuId.CommandPalette,group:"",title:C.localize(6,null),order:1},{menuId:h.MenuId.SimpleEditorContext,group:t,title:C.localize(7,null),order:2}]})):void 0,h.MenuRegistry.appendMenuItem(h.MenuId.MenubarEditMenu,{submenu:h.MenuId.MenubarCopy,title:{value:C.localize(8,null),original:"Copy As"},group:"2_ccp",order:3}),h.MenuRegistry.appendMenuItem(h.MenuId.EditorContext,{submenu:h.MenuId.EditorContextCopy,title:{value:C.localize(9,null),original:"Copy As"},group:t,order:3}),h.MenuRegistry.appendMenuItem(h.MenuId.EditorContext,{submenu:h.MenuId.EditorContextShare,title:{value:C.localize(10,null),original:"Share"},group:"11_share",order:-1}),e.PasteAction=o?l(new D.MultiCommand({id:"editor.action.clipboardPasteAction",precondition:void 0,kbOpts:m.isNative?{primary:2100,win:{primary:2100,secondary:[1043]},linux:{primary:2100,secondary:[1043]},weight:100}:void 0,menuOpts:[{menuId:h.MenuId.MenubarEditMenu,group:"2_ccp",title:C.localize(11,null),order:4},{menuId:h.MenuId.EditorContext,group:t,title:C.localize(12,null),when:b.EditorContextKeys.writable,order:4},{menuId:h.MenuId.CommandPalette,group:"",title:C.localize(13,null),order:1},{menuId:h.MenuId.SimpleEditorContext,group:t,title:C.localize(14,null),when:b.EditorContextKeys.writable,order:4}]})):void 0;class c extends D.EditorAction{constructor(){super({id:"editor.action.clipboardCopyWithSyntaxHighlightingAction",label:C.localize(15,null),alias:"Copy With Syntax Highlighting",precondition:void 0,kbOpts:{kbExpr:b.EditorContextKeys.textInputFocus,primary:0,weight:100}})}run(s,a){!a.hasModel()||!a.getOption(33)&&a.getSelection().isEmpty()||(k.CopyOptions.forceCopyWithSyntaxHighlighting=!0,a.focus(),document.execCommand("copy"),k.CopyOptions.forceCopyWithSyntaxHighlighting=!1)}}function d(r,s){!r||(r.addImplementation(1e4,"code-editor",(a,u)=>{const p=a.get(L.ICodeEditorService).getFocusedCodeEditor();if(p&&p.hasTextFocus()){const S=p.getOption(33),f=p.getSelection();return f&&f.isEmpty()&&!S||document.execCommand(s),!0}return!1}),r.addImplementation(0,"generic-dom",(a,u)=>(document.execCommand(s),!0)))}d(e.CutAction,"cut"),d(e.CopyAction,"copy"),e.PasteAction&&(e.PasteAction.addImplementation(1e4,"code-editor",(r,s)=>{const a=r.get(L.ICodeEditorService),u=r.get(g.IClipboardService),p=a.getFocusedCodeEditor();return p&&p.hasTextFocus()?!document.execCommand("paste")&&m.isWeb?(()=>Se(void 0,void 0,void 0,function*(){const f=yield u.readText();if(f!==""){const v=k.InMemoryClipboardMetadataManager.INSTANCE.get(f);let _=!1,y=null,E=null;v&&(_=p.getOption(33)&&!!v.isFromEmptySelection,y=typeof v.multicursorText<"u"?v.multicursorText:null,E=v.mode),p.trigger("keyboard","paste",{text:f,pasteOnNewLine:_,multicursorText:y,mode:E})}}))():!0:!1}),e.PasteAction.addImplementation(0,"generic-dom",(r,s)=>(document.execCommand("paste"),!0))),n&&(0,D.registerEditorAction)(c)}),define(se[720],re([1,0,57,13,3,25,34,251,464,567,32]),function(q,e,w,m,k,D,L,b,C,h,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class t extends m.EditorAction{constructor(d,r){super(r),this._type=d}run(d,r){const s=d.get(L.ILanguageConfigurationService);if(!r.hasModel())return;const a=r.getModel(),u=[],p=a.getOptions(),S=r.getOption(19),f=r.getSelections().map((_,y)=>({selection:_,index:y,ignoreFirstLine:!1}));f.sort((_,y)=>k.Range.compareRangesUsingStarts(_.selection,y.selection));let v=f[0];for(let _=1;_<f.length;_++){const y=f[_];v.selection.endLineNumber===y.selection.startLineNumber&&(v.index<y.index?y.ignoreFirstLine=!0:(v.ignoreFirstLine=!0,v=y))}for(const _ of f)u.push(new C.LineCommentCommand(s,_.selection,p.tabSize,this._type,S.insertSpace,S.ignoreEmptyLines,_.ignoreFirstLine));r.pushUndoStop(),r.executeCommands(this.id,u),r.pushUndoStop()}}class i extends t{constructor(){super(0,{id:"editor.action.commentLine",label:h.localize(0,null),alias:"Toggle Line Comment",precondition:D.EditorContextKeys.writable,kbOpts:{kbExpr:D.EditorContextKeys.editorTextFocus,primary:2133,weight:100},menuOpts:{menuId:g.MenuId.MenubarEditMenu,group:"5_insert",title:h.localize(1,null),order:1}})}}class n extends t{constructor(){super(1,{id:"editor.action.addCommentLine",label:h.localize(2,null),alias:"Add Line Comment",precondition:D.EditorContextKeys.writable,kbOpts:{kbExpr:D.EditorContextKeys.editorTextFocus,primary:(0,w.KeyChord)(2089,2081),weight:100}})}}class o extends t{constructor(){super(2,{id:"editor.action.removeCommentLine",label:h.localize(3,null),alias:"Remove Line Comment",precondition:D.EditorContextKeys.writable,kbOpts:{kbExpr:D.EditorContextKeys.editorTextFocus,primary:(0,w.KeyChord)(2089,2099),weight:100}})}}class l extends m.EditorAction{constructor(){super({id:"editor.action.blockComment",label:h.localize(4,null),alias:"Toggle Block Comment",precondition:D.EditorContextKeys.writable,kbOpts:{kbExpr:D.EditorContextKeys.editorTextFocus,primary:1567,linux:{primary:3103},weight:100},menuOpts:{menuId:g.MenuId.MenubarEditMenu,group:"5_insert",title:h.localize(5,null),order:2}})}run(d,r){const s=d.get(L.ILanguageConfigurationService);if(!r.hasModel())return;const a=r.getOption(19),u=[],p=r.getSelections();for(const S of p)u.push(new b.BlockCommentCommand(S,a.insertSpace,s));r.pushUndoStop(),r.executeCommands(this.id,u),r.pushUndoStop()}}(0,m.registerEditorAction)(i),(0,m.registerEditorAction)(n),(0,m.registerEditorAction)(o),(0,m.registerEditorAction)(l)}),define(se[721],re([1,0,7,138,43,2,17,13,25,568,32,15,71,41,30]),function(q,e,w,m,k,D,L,b,C,h,g,t,i,n,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextMenuController=void 0;let l=class Ri{static get(r){return r.getContribution(Ri.ID)}constructor(r,s,a,u,p,S,f){this._contextMenuService=s,this._contextViewService=a,this._contextKeyService=u,this._keybindingService=p,this._menuService=S,this._configurationService=f,this._toDispose=new D.DisposableStore,this._contextMenuIsBeingShownCount=0,this._editor=r,this._toDispose.add(this._editor.onContextMenu(v=>this._onContextMenu(v))),this._toDispose.add(this._editor.onMouseWheel(v=>{if(this._contextMenuIsBeingShownCount>0){const _=this._contextViewService.getContextViewElement(),y=v.srcElement;y.shadowRoot&&w.getShadowRoot(_)===y.shadowRoot||this._contextViewService.hideContextView()}})),this._toDispose.add(this._editor.onKeyDown(v=>{!this._editor.getOption(20)||v.keyCode===58&&(v.preventDefault(),v.stopPropagation(),this.showContextMenu())}))}_onContextMenu(r){if(!this._editor.hasModel())return;if(!this._editor.getOption(20)){this._editor.focus(),r.target.position&&!this._editor.getSelection().containsPosition(r.target.position)&&this._editor.setPosition(r.target.position);return}if(r.target.type===12||r.target.type===6&&r.target.detail.injectedText)return;if(r.event.preventDefault(),r.event.stopPropagation(),r.target.type===11)return this._showScrollbarContextMenu({x:r.event.posx-1,width:2,y:r.event.posy-1,height:2});if(r.target.type!==6&&r.target.type!==7&&r.target.type!==1)return;if(this._editor.focus(),r.target.position){let a=!1;for(const u of this._editor.getSelections())if(u.containsPosition(r.target.position)){a=!0;break}a||this._editor.setPosition(r.target.position)}let s=null;r.target.type!==1&&(s={x:r.event.posx-1,width:2,y:r.event.posy-1,height:2}),this.showContextMenu(s)}showContextMenu(r){if(!this._editor.getOption(20)||!this._editor.hasModel())return;const s=this._getMenuActions(this._editor.getModel(),this._editor.isSimpleWidget?g.MenuId.SimpleEditorContext:g.MenuId.EditorContext);s.length>0&&this._doShowContextMenu(s,r)}_getMenuActions(r,s){const a=[],u=this._menuService.createMenu(s,this._contextKeyService),p=u.getActions({arg:r.uri});u.dispose();for(const S of p){const[,f]=S;let v=0;for(const _ of f)if(_ instanceof g.SubmenuItemAction){const y=this._getMenuActions(r,_.item.submenu);y.length>0&&(a.push(new k.SubmenuAction(_.id,_.label,y)),v++)}else a.push(_),v++;v&&a.push(new k.Separator)}return a.length&&a.pop(),a}_doShowContextMenu(r,s=null){if(!this._editor.hasModel())return;const a=this._editor.getOption(54);if(this._editor.updateOptions({hover:{enabled:!1}}),!s){this._editor.revealPosition(this._editor.getPosition(),1),this._editor.render();const p=this._editor.getScrolledVisiblePosition(this._editor.getPosition()),S=w.getDomNodePagePosition(this._editor.getDomNode()),f=S.left+p.left,v=S.top+p.top+p.height;s={x:f,y:v}}const u=this._editor.getOption(117)&&!L.isIOS;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:u?this._editor.getDomNode():void 0,getAnchor:()=>s,getActions:()=>r,getActionViewItem:p=>{const S=this._keybindingFor(p);if(S)return new m.ActionViewItem(p,p,{label:!0,keybinding:S.getLabel(),isMenu:!0});const f=p;return typeof f.getActionViewItem=="function"?f.getActionViewItem():new m.ActionViewItem(p,p,{icon:!0,label:!0,isMenu:!0})},getKeyBinding:p=>this._keybindingFor(p),onHide:p=>{this._contextMenuIsBeingShownCount--,this._editor.focus(),this._editor.updateOptions({hover:a})}})}_showScrollbarContextMenu(r){if(!this._editor.hasModel())return;const s=this._editor.getOption(66);let a=0;const u=_=>({id:`menu-action-${++a}`,label:_.label,tooltip:"",class:void 0,enabled:typeof _.enabled>"u"?!0:_.enabled,checked:_.checked,run:_.run}),p=(_,y)=>new k.SubmenuAction(`menu-action-${++a}`,_,y,void 0),S=(_,y,E,T,I)=>{if(!y)return u({label:_,enabled:y,run:()=>{}});const R=O=>()=>{this._configurationService.updateValue(E,O)},F=[];for(const O of I)F.push(u({label:O.label,checked:T===O.value,run:R(O.value)}));return p(_,F)},f=[];f.push(u({label:h.localize(0,null),checked:s.enabled,run:()=>{this._configurationService.updateValue("editor.minimap.enabled",!s.enabled)}})),f.push(new k.Separator),f.push(u({label:h.localize(1,null),enabled:s.enabled,checked:s.renderCharacters,run:()=>{this._configurationService.updateValue("editor.minimap.renderCharacters",!s.renderCharacters)}})),f.push(S(h.localize(2,null),s.enabled,"editor.minimap.size",s.size,[{label:h.localize(3,null),value:"proportional"},{label:h.localize(4,null),value:"fill"},{label:h.localize(5,null),value:"fit"}])),f.push(S(h.localize(6,null),s.enabled,"editor.minimap.showSlider",s.showSlider,[{label:h.localize(7,null),value:"mouseover"},{label:h.localize(8,null),value:"always"}]));const v=this._editor.getOption(117)&&!L.isIOS;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:v?this._editor.getDomNode():void 0,getAnchor:()=>r,getActions:()=>f,onHide:_=>{this._contextMenuIsBeingShownCount--,this._editor.focus()}})}_keybindingFor(r){return this._keybindingService.lookupKeybinding(r.id)}dispose(){this._contextMenuIsBeingShownCount>0&&this._contextViewService.hideContextView(),this._toDispose.dispose()}};l.ID="editor.contrib.contextmenu",l=De([fe(1,i.IContextMenuService),fe(2,i.IContextViewService),fe(3,t.IContextKeyService),fe(4,n.IKeybindingService),fe(5,g.IMenuService),fe(6,o.IConfigurationService)],l),e.ContextMenuController=l;class c extends b.EditorAction{constructor(){super({id:"editor.action.showContextMenu",label:h.localize(9,null),alias:"Show Editor Context Menu",precondition:void 0,kbOpts:{kbExpr:C.EditorContextKeys.textInputFocus,primary:1092,weight:100}})}run(r,s){var a;(a=l.get(s))===null||a===void 0||a.showContextMenu()}}(0,b.registerEditorContribution)(l.ID,l),(0,b.registerEditorAction)(c)}),define(se[722],re([1,0,2,13,25,571]),function(q,e,w,m,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorRedo=e.CursorUndo=e.CursorUndoRedoController=void 0;class L{constructor(i){this.selections=i}equals(i){const n=this.selections.length,o=i.selections.length;if(n!==o)return!1;for(let l=0;l<n;l++)if(!this.selections[l].equalsSelection(i.selections[l]))return!1;return!0}}class b{constructor(i,n,o){this.cursorState=i,this.scrollTop=n,this.scrollLeft=o}}class C extends w.Disposable{static get(i){return i.getContribution(C.ID)}constructor(i){super(),this._editor=i,this._isCursorUndoRedo=!1,this._undoStack=[],this._redoStack=[],this._register(i.onDidChangeModel(n=>{this._undoStack=[],this._redoStack=[]})),this._register(i.onDidChangeModelContent(n=>{this._undoStack=[],this._redoStack=[]})),this._register(i.onDidChangeCursorSelection(n=>{if(this._isCursorUndoRedo||!n.oldSelections||n.oldModelVersionId!==n.modelVersionId)return;const o=new L(n.oldSelections);this._undoStack.length>0&&this._undoStack[this._undoStack.length-1].cursorState.equals(o)||(this._undoStack.push(new b(o,i.getScrollTop(),i.getScrollLeft())),this._redoStack=[],this._undoStack.length>50&&this._undoStack.shift())}))}cursorUndo(){!this._editor.hasModel()||this._undoStack.length===0||(this._redoStack.push(new b(new L(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._undoStack.pop()))}cursorRedo(){!this._editor.hasModel()||this._redoStack.length===0||(this._undoStack.push(new b(new L(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._redoStack.pop()))}_applyState(i){this._isCursorUndoRedo=!0,this._editor.setSelections(i.cursorState.selections),this._editor.setScrollPosition({scrollTop:i.scrollTop,scrollLeft:i.scrollLeft}),this._isCursorUndoRedo=!1}}e.CursorUndoRedoController=C,C.ID="editor.contrib.cursorUndoRedoController";class h extends m.EditorAction{constructor(){super({id:"cursorUndo",label:D.localize(0,null),alias:"Cursor Undo",precondition:void 0,kbOpts:{kbExpr:k.EditorContextKeys.textInputFocus,primary:2099,weight:100}})}run(i,n,o){var l;(l=C.get(n))===null||l===void 0||l.cursorUndo()}}e.CursorUndo=h;class g extends m.EditorAction{constructor(){super({id:"cursorRedo",label:D.localize(1,null),alias:"Cursor Redo",precondition:void 0})}run(i,n,o){var l;(l=C.get(n))===null||l===void 0||l.cursorRedo()}}e.CursorRedo=g,(0,m.registerEditorContribution)(C.ID,C),(0,m.registerEditorAction)(h),(0,m.registerEditorAction)(g)}),define(se[723],re([1,0,13,15,21,58,9,52,573]),function(q,e,w,m,k,D,L,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorKeybindingCancellationTokenSource=void 0;const h=(0,L.createDecorator)("IEditorCancelService"),g=new m.RawContextKey("cancellableOperation",!1,(0,C.localize)(0,null));(0,b.registerSingleton)(h,class{constructor(){this._tokens=new WeakMap}add(i,n){let o=this._tokens.get(i);o||(o=i.invokeWithinContext(c=>{const d=g.bindTo(c.get(m.IContextKeyService)),r=new D.LinkedList;return{key:d,tokens:r}}),this._tokens.set(i,o));let l;return o.key.set(!0),l=o.tokens.push(n),()=>{l&&(l(),o.key.set(!o.tokens.isEmpty()),l=void 0)}}cancel(i){const n=this._tokens.get(i);if(!n)return;const o=n.tokens.pop();o&&(o.cancel(),n.key.set(!n.tokens.isEmpty()))}},1);class t extends k.CancellationTokenSource{constructor(n,o){super(o),this.editor=n,this._unregister=n.invokeWithinContext(l=>l.get(h).add(n,this))}dispose(){this._unregister(),super.dispose()}}e.EditorKeybindingCancellationTokenSource=t,(0,w.registerEditorCommand)(new class extends w.EditorCommand{constructor(){super({id:"editor.cancelOperation",kbOpts:{weight:100,primary:9},precondition:g})}runEditorCommand(i,n){i.get(h).cancel(n)}})}),define(se[97],re([1,0,8,3,21,2,723]),function(q,e,w,m,k,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextModelCancellationTokenSource=e.EditorStateCancellationTokenSource=e.EditorState=void 0;class b{constructor(t,i){if(this.flags=i,(this.flags&1)!==0){const n=t.getModel();this.modelVersionId=n?w.format("{0}#{1}",n.uri.toString(),n.getVersionId()):null}else this.modelVersionId=null;(this.flags&4)!==0?this.position=t.getPosition():this.position=null,(this.flags&2)!==0?this.selection=t.getSelection():this.selection=null,(this.flags&8)!==0?(this.scrollLeft=t.getScrollLeft(),this.scrollTop=t.getScrollTop()):(this.scrollLeft=-1,this.scrollTop=-1)}_equals(t){if(!(t instanceof b))return!1;const i=t;return!(this.modelVersionId!==i.modelVersionId||this.scrollLeft!==i.scrollLeft||this.scrollTop!==i.scrollTop||!this.position&&i.position||this.position&&!i.position||this.position&&i.position&&!this.position.equals(i.position)||!this.selection&&i.selection||this.selection&&!i.selection||this.selection&&i.selection&&!this.selection.equalsRange(i.selection))}validate(t){return this._equals(new b(t,this.flags))}}e.EditorState=b;class C extends L.EditorKeybindingCancellationTokenSource{constructor(t,i,n,o){super(t,o),this._listener=new D.DisposableStore,i&4&&this._listener.add(t.onDidChangeCursorPosition(l=>{(!n||!m.Range.containsPosition(n,l.position))&&this.cancel()})),i&2&&this._listener.add(t.onDidChangeCursorSelection(l=>{(!n||!m.Range.containsRange(n,l.selection))&&this.cancel()})),i&8&&this._listener.add(t.onDidScrollChange(l=>this.cancel())),i&1&&(this._listener.add(t.onDidChangeModel(l=>this.cancel())),this._listener.add(t.onDidChangeModelContent(l=>this.cancel())))}dispose(){this._listener.dispose(),super.dispose()}}e.EditorStateCancellationTokenSource=C;class h extends k.CancellationTokenSource{constructor(t,i){super(i),this._listener=t.onDidChangeContent(()=>this.cancel())}dispose(){this._listener.dispose(),super.dispose()}}e.TextModelCancellationTokenSource=h}),define(se[145],re([1,0,18,21,14,2,22,141,3,24,20,51,97,560,26,40,67,81,115]),function(q,e,w,m,k,D,L,b,C,h,g,t,i,n,o,l,c,d,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.applyCodeAction=e.ApplyCodeActionReason=e.getCodeActions=e.previewSelectedCodeActionCommand=e.acceptSelectedCodeActionCommand=e.fixAllCommandId=e.organizeImportsCommandId=e.sourceActionCommandId=e.refactorPreviewCommandId=e.refactorCommandId=e.codeActionCommandId=void 0,e.codeActionCommandId="editor.action.codeAction",e.refactorCommandId="editor.action.refactor",e.refactorPreviewCommandId="editor.action.refactor.preview",e.sourceActionCommandId="editor.action.sourceAction",e.organizeImportsCommandId="editor.action.organizeImports",e.fixAllCommandId="editor.action.fixAll",e.acceptSelectedCodeActionCommand="acceptSelectedCodeAction",e.previewSelectedCodeActionCommand="previewSelectedCodeAction";class s extends D.Disposable{static codeActionsPreferredComparator(T,I){return T.isPreferred&&!I.isPreferred?-1:!T.isPreferred&&I.isPreferred?1:0}static codeActionsComparator({action:T},{action:I}){return(0,w.isNonEmptyArray)(T.diagnostics)?(0,w.isNonEmptyArray)(I.diagnostics)?s.codeActionsPreferredComparator(T,I):-1:(0,w.isNonEmptyArray)(I.diagnostics)?1:s.codeActionsPreferredComparator(T,I)}constructor(T,I,R){super(),this.documentation=I,this._register(R),this.allActions=[...T].sort(s.codeActionsComparator),this.validActions=this.allActions.filter(({action:F})=>!F.disabled)}get hasAutoFix(){return this.validActions.some(({action:T})=>!!T.kind&&r.CodeActionKind.QuickFix.contains(new r.CodeActionKind(T.kind))&&!!T.isPreferred)}}const a={actions:[],documentation:void 0};function u(E,T,I,R,F,O){var M;return Se(this,void 0,void 0,function*(){const N=R.filter||{},A={only:(M=N.include)===null||M===void 0?void 0:M.value,trigger:R.type},B=new i.TextModelCancellationTokenSource(T,O),W=p(E,T,N),x=new D.DisposableStore,P=W.map(ie=>Se(this,void 0,void 0,function*(){try{F.report(ie);const K=yield ie.provideCodeActions(T,I,A,B.token);if(K&&x.add(K),B.token.isCancellationRequested)return a;const G=(K?.actions||[]).filter(ne=>ne&&(0,r.filtersAction)(N,ne)),Q=f(ie,G,N.include);return{actions:G.map(ne=>new r.CodeActionItem(ne,ie)),documentation:Q}}catch(K){if((0,k.isCancellationError)(K))throw K;return(0,k.onUnexpectedExternalError)(K),a}})),X=E.onDidChange(()=>{const ie=E.all(T);(0,w.equals)(ie,W)||B.cancel()});try{const ie=yield Promise.all(P),K=ie.map(Q=>Q.actions).flat(),G=[...(0,w.coalesce)(ie.map(Q=>Q.documentation)),...S(E,T,R,K)];return new s(K,G,x)}finally{X.dispose(),B.dispose()}})}e.getCodeActions=u;function p(E,T,I){return E.all(T).filter(R=>R.providedCodeActionKinds?R.providedCodeActionKinds.some(F=>(0,r.mayIncludeActionsOfKind)(I,new r.CodeActionKind(F))):!0)}function*S(E,T,I,R){var F,O,M;if(T&&R.length)for(const N of E.all(T))N._getAdditionalMenuItems&&(yield*(F=N._getAdditionalMenuItems)===null||F===void 0?void 0:F.call(N,{trigger:I.type,only:(M=(O=I.filter)===null||O===void 0?void 0:O.include)===null||M===void 0?void 0:M.value},R.map(A=>A.action)))}function f(E,T,I){if(!E.documentation)return;const R=E.documentation.map(F=>({kind:new r.CodeActionKind(F.kind),command:F.command}));if(I){let F;for(const O of R)O.kind.contains(I)&&(F?F.kind.contains(O.kind)&&(F=O):F=O);if(F)return F?.command}for(const F of T)if(!!F.kind){for(const O of R)if(O.kind.contains(new r.CodeActionKind(F.kind)))return O.command}}var v;(function(E){E.OnSave="onSave",E.FromProblemsView="fromProblemsView",E.FromCodeActions="fromCodeActions"})(v=e.ApplyCodeActionReason||(e.ApplyCodeActionReason={}));function _(E,T,I,R){return Se(this,void 0,void 0,function*(){const F=E.get(b.IBulkEditService),O=E.get(o.ICommandService),M=E.get(d.ITelemetryService),N=E.get(l.INotificationService);if(M.publicLog2("codeAction.applyCodeAction",{codeActionTitle:T.action.title,codeActionKind:T.action.kind,codeActionIsPreferred:!!T.action.isPreferred,reason:I}),yield T.resolve(m.CancellationToken.None),T.action.edit&&(yield F.apply(T.action.edit,{editor:R?.editor,label:T.action.title,quotableLabel:T.action.title,code:"undoredo.codeAction",respectAutoSaveConfig:!0,showPreview:R?.preview})),T.action.command)try{yield O.executeCommand(T.action.command.id,...T.action.command.arguments||[])}catch(A){const B=y(A);N.error(typeof B=="string"?B:n.localize(0,null))}})}e.applyCodeAction=_;function y(E){return typeof E=="string"?E:E instanceof Error&&typeof E.message=="string"?E.message:void 0}o.CommandsRegistry.registerCommand("_executeCodeActionProvider",function(E,T,I,R,F){return Se(this,void 0,void 0,function*(){if(!(T instanceof L.URI))throw(0,k.illegalArgument)();const{codeActionProvider:O}=E.get(g.ILanguageFeaturesService),M=E.get(t.IModelService).getModel(T);if(!M)throw(0,k.illegalArgument)();const N=h.Selection.isISelection(I)?h.Selection.liftSelection(I):C.Range.isIRange(I)?M.validateRange(I):void 0;if(!N)throw(0,k.illegalArgument)();const A=typeof R=="string"?new r.CodeActionKind(R):void 0,B=yield u(O,M,N,{type:1,triggerAction:r.CodeActionTriggerSource.Default,filter:{includeSourceActions:!0,include:A}},c.Progress.None,m.CancellationToken.None),W=[],x=Math.min(B.validActions.length,typeof F=="number"?F:0);for(let P=0;P<x;P++)W.push(B.validActions[P].resolve(m.CancellationToken.None));try{return yield Promise.all(W),B.validActions.map(P=>P.action)}finally{setTimeout(()=>B.dispose(),100)}})})}),define(se[724],re([1,0,125,145,115]),function(q,e,w,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionKeybindingResolver=void 0;class D{constructor(b){this.keybindingService=b}getResolver(){const b=new w.Lazy(()=>this.keybindingService.getKeybindings().filter(C=>D.codeActionCommands.indexOf(C.command)>=0).filter(C=>C.resolvedKeybinding).map(C=>{let h=C.commandArgs;return C.command===m.organizeImportsCommandId?h={kind:k.CodeActionKind.SourceOrganizeImports.value}:C.command===m.fixAllCommandId&&(h={kind:k.CodeActionKind.SourceFixAll.value}),Object.assign({resolvedKeybinding:C.resolvedKeybinding},k.CodeActionCommandArgs.fromUser(h,{kind:k.CodeActionKind.None,apply:"never"}))}));return C=>{if(C.kind){const h=this.bestKeybindingForCodeAction(C,b.getValue());return h?.resolvedKeybinding}}}bestKeybindingForCodeAction(b,C){if(!b.kind)return;const h=new k.CodeActionKind(b.kind);return C.filter(g=>g.kind.contains(h)).filter(g=>g.preferred?b.isPreferred:!0).reduceRight((g,t)=>g?g.kind.contains(t.kind)?t:g:t,void 0)}}e.CodeActionKeybindingResolver=D,D.codeActionCommands=[m.refactorCommandId,m.codeActionCommandId,m.sourceActionCommandId,m.organizeImportsCommandId,m.fixAllCommandId]});var Rt=this&&this.__classPrivateFieldGet||function(q,e,w,m){if(w==="a"&&!m)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?q!==e||!m:!e.has(q))throw new TypeError("Cannot read private member from an object whose class did not declare it");return w==="m"?m:w==="a"?m.call(q):m?m.value:e.get(q)},ti=this&&this.__classPrivateFieldSet||function(q,e,w,m,k){if(m==="m")throw new TypeError("Private method is not writable");if(m==="a"&&!k)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?q!==e||!k:!e.has(q))throw new TypeError("Cannot write private member to an object whose class did not declare it");return m==="a"?k.call(q,w):k?k.value=w:e.set(q,w),w};define(se[725],re([1,0,10,14,6,2,44,15,67,145,115]),function(q,e,w,m,k,D,L,b,C,h,g){"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionModel=e.CodeActionsState=e.SUPPORTED_CODE_ACTIONS=void 0,e.SUPPORTED_CODE_ACTIONS=new b.RawContextKey("supportedCodeAction","");class i extends D.Disposable{constructor(d,r,s,a=250){super(),this._editor=d,this._markerService=r,this._signalChange=s,this._delay=a,this._autoTriggerTimer=this._register(new w.TimeoutTimer),this._register(this._markerService.onMarkerChanged(u=>this._onMarkerChanges(u))),this._register(this._editor.onDidChangeCursorPosition(()=>this._onCursorChange()))}trigger(d){const r=this._getRangeOfSelectionUnlessWhitespaceEnclosed(d);return this._createEventAndSignalChange(d,r)}_onMarkerChanges(d){const r=this._editor.getModel();!r||d.some(s=>(0,L.isEqual)(s,r.uri))&&this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2,triggerAction:g.CodeActionTriggerSource.Default})},this._delay)}_onCursorChange(){this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2,triggerAction:g.CodeActionTriggerSource.Default})},this._delay)}_getRangeOfSelectionUnlessWhitespaceEnclosed(d){if(!this._editor.hasModel())return;const r=this._editor.getModel(),s=this._editor.getSelection();if(s.isEmpty()&&d.type===2){const{lineNumber:a,column:u}=s.getPosition(),p=r.getLineContent(a);if(p.length===0)return;if(u===1){if(/\s/.test(p[0]))return}else if(u===r.getLineMaxColumn(a)){if(/\s/.test(p[p.length-1]))return}else if(/\s/.test(p[u-2])&&/\s/.test(p[u-1]))return}return s}_createEventAndSignalChange(d,r){const s=this._editor.getModel();if(!r||!s){this._signalChange(void 0);return}const a={trigger:d,selection:r,position:r.getStartPosition()};return this._signalChange(a),a}}var n;(function(c){c.Empty={type:0};class d{constructor(s,a,u,p){this.trigger=s,this.rangeOrSelection=a,this.position=u,this._cancellablePromise=p,this.type=1,this.actions=p.catch(S=>{if((0,m.isCancellationError)(S))return o;throw S})}cancel(){this._cancellablePromise.cancel()}}c.Triggered=d})(n=e.CodeActionsState||(e.CodeActionsState={}));const o={allActions:[],validActions:[],dispose:()=>{},documentation:[],hasAutoFix:!1};class l extends D.Disposable{constructor(d,r,s,a,u){super(),this._editor=d,this._registry=r,this._markerService=s,this._progressService=u,this._codeActionOracle=this._register(new D.MutableDisposable),this._state=n.Empty,this._onDidChangeState=this._register(new k.Emitter),this.onDidChangeState=this._onDidChangeState.event,t.set(this,!1),this._supportedCodeActions=e.SUPPORTED_CODE_ACTIONS.bindTo(a),this._register(this._editor.onDidChangeModel(()=>this._update())),this._register(this._editor.onDidChangeModelLanguage(()=>this._update())),this._register(this._registry.onDidChange(()=>this._update())),this._update()}dispose(){Rt(this,t,"f")||(ti(this,t,!0,"f"),super.dispose(),this.setState(n.Empty,!0))}_update(){if(Rt(this,t,"f"))return;this._codeActionOracle.value=void 0,this.setState(n.Empty);const d=this._editor.getModel();if(d&&this._registry.has(d)&&!this._editor.getOption(82)){const r=[];for(const s of this._registry.all(d))Array.isArray(s.providedCodeActionKinds)&&r.push(...s.providedCodeActionKinds);this._supportedCodeActions.set(r.join(" ")),this._codeActionOracle.value=new i(this._editor,this._markerService,s=>{var a;if(!s){this.setState(n.Empty);return}const u=(0,w.createCancelablePromise)(p=>(0,h.getCodeActions)(this._registry,d,s.selection,s.trigger,C.Progress.None,p));s.trigger.type===1&&((a=this._progressService)===null||a===void 0||a.showWhile(u,250)),this.setState(new n.Triggered(s.trigger,s.selection,s.position,u))},void 0),this._codeActionOracle.value.trigger({type:2,triggerAction:g.CodeActionTriggerSource.Default})}else this._supportedCodeActions.reset()}trigger(d){var r;(r=this._codeActionOracle.value)===null||r===void 0||r.trigger(d)}setState(d,r){d!==this._state&&(this._state.type===1&&this._state.cancel(),this._state=d,!r&&!Rt(this,t,"f")&&this._onDidChangeState.fire(d))}}e.CodeActionModel=l,t=new WeakMap}),define(se[308],re([1,0,7,77,263,102,27,2,17,145,115,563,26,15,71,41,81,724,128,382,222]),function(q,e,w,m,k,D,L,b,C,h,g,t,i,n,o,l,c,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionWidget=e.Context=void 0,e.Context={Visible:new n.RawContextKey("codeActionMenuVisible",!1,(0,t.localize)(0,null))};var r;(function(E){E.CodeAction="action",E.Header="header"})(r||(r={}));function s(E){return E.replace(/\r\n|\r|\n/g," ")}const a=Object.freeze({kind:g.CodeActionKind.Empty,title:(0,t.localize)(1,null)}),u=Object.freeze([{kind:g.CodeActionKind.QuickFix,title:(0,t.localize)(2,null)},{kind:g.CodeActionKind.RefactorExtract,title:(0,t.localize)(3,null),icon:{codicon:L.Codicon.wrench}},{kind:g.CodeActionKind.RefactorInline,title:(0,t.localize)(4,null),icon:{codicon:L.Codicon.wrench}},{kind:g.CodeActionKind.RefactorRewrite,title:(0,t.localize)(5,null),icon:{codicon:L.Codicon.wrench}},{kind:g.CodeActionKind.RefactorMove,title:(0,t.localize)(6,null),icon:{codicon:L.Codicon.wrench}},{kind:g.CodeActionKind.SurroundWith,title:(0,t.localize)(7,null),icon:{codicon:L.Codicon.symbolSnippet}},{kind:g.CodeActionKind.Source,title:(0,t.localize)(8,null),icon:{codicon:L.Codicon.symbolFile}},a]);let p=class{constructor(T,I){this.keybindingResolver=T,this.keybindingService=I}get templateId(){return r.CodeAction}renderTemplate(T){T.classList.add("code-action");const I=document.createElement("div");I.className="icon",T.append(I);const R=document.createElement("span");R.className="title",T.append(R);const F=new k.KeybindingLabel(T,C.OS);return{container:T,icon:I,text:R,keybinding:F}}renderElement(T,I,R){var F,O,M;T.group.icon?(R.icon.className=T.group.icon.codicon.classNames,R.icon.style.color=(F=T.group.icon.color)!==null&&F!==void 0?F:""):(R.icon.className=L.Codicon.lightBulb.classNames,R.icon.style.color="var(--vscode-editorLightBulb-foreground)"),R.text.textContent=s(T.action.action.title);const N=this.keybindingResolver.getResolver()(T.action.action);R.keybinding.set(N),N?w.show(R.keybinding.element):w.hide(R.keybinding.element),T.action.action.disabled?(R.container.title=T.action.action.disabled,R.container.classList.add("option-disabled")):(R.container.title=(0,t.localize)(9,null,(O=this.keybindingService.lookupKeybinding(h.acceptSelectedCodeActionCommand))===null||O===void 0?void 0:O.getLabel(),(M=this.keybindingService.lookupKeybinding(h.previewSelectedCodeActionCommand))===null||M===void 0?void 0:M.getLabel()),R.container.classList.remove("option-disabled"))}disposeTemplate(T){}};p=De([fe(1,l.IKeybindingService)],p);class S{get templateId(){return r.Header}renderTemplate(T){T.classList.add("group-header");const I=document.createElement("span");return T.append(I),{container:T,text:I}}renderElement(T,I,R){R.text.textContent=T.group.title}disposeTemplate(T){}}const f="previewSelectedCodeAction";let v=class extends b.Disposable{constructor(T,I,R,F){super(),this.onDidSelect=R,this.codeActionLineHeight=24,this.headerLineHeight=26,this.domNode=document.createElement("div"),this.domNode.classList.add("codeActionList"),this.list=this._register(new D.List("codeActionWidget",this.domNode,{getHeight:O=>O.kind===r.Header?this.headerLineHeight:this.codeActionLineHeight,getTemplateId:O=>O.kind},[new p(new d.CodeActionKeybindingResolver(F),F),new S],{keyboardSupport:!1,accessibilityProvider:{getAriaLabel:O=>{if(O.kind===r.CodeAction){let M=s(O.action.action.title);return O.action.action.disabled&&(M=(0,t.localize)(10,null,M,O.action.action.disabled)),M}return null},getWidgetAriaLabel:()=>(0,t.localize)(11,null),getRole:()=>"option",getWidgetRole:()=>"code-action-widget"}})),this._register(this.list.onMouseClick(O=>this.onListClick(O))),this._register(this.list.onMouseOver(O=>this.onListHover(O))),this._register(this.list.onDidChangeFocus(()=>this.list.domFocus())),this._register(this.list.onDidChangeSelection(O=>this.onListSelection(O))),this.allMenuItems=this.toMenuItems(T,I),this.list.splice(0,this.list.length,this.allMenuItems),this.focusNext()}layout(T){const I=this.allMenuItems.filter(N=>N.kind===r.Header).length,F=this.allMenuItems.length*this.codeActionLineHeight+I*this.headerLineHeight-I*this.codeActionLineHeight;this.list.layout(F);const O=this.allMenuItems.map((N,A)=>{const B=document.getElementById(this.list.getElementID(A));if(B){B.style.width="auto";const W=B.getBoundingClientRect().width;return B.style.width="",W}return 0}),M=Math.max(...O,T);return this.list.layout(F,M),this.domNode.style.height=`${F}px`,this.list.domFocus(),M}focusPrevious(){this.list.focusPrevious(1,!0,void 0,T=>T.kind===r.CodeAction&&!T.action.action.disabled)}focusNext(){this.list.focusNext(1,!0,void 0,T=>T.kind===r.CodeAction&&!T.action.action.disabled)}acceptSelected(T){const I=this.list.getFocus();if(I.length===0)return;const R=I[0],F=this.list.element(R);if(F.kind!==r.CodeAction||F.action.action.disabled)return;const O=new UIEvent(T?.preview?f:"acceptSelectedCodeAction");this.list.setSelection([R],O)}onListSelection(T){var I;if(!T.elements.length)return;const R=T.elements[0];R.kind===r.CodeAction&&!R.action.action.disabled?this.onDidSelect(R.action,{preview:((I=T.browserEvent)===null||I===void 0?void 0:I.type)===f}):this.list.setSelection([])}onListHover(T){this.list.setFocus(typeof T.index=="number"?[T.index]:[])}onListClick(T){T.element&&T.element.kind===r.CodeAction&&T.element.action.action.disabled&&this.list.setFocus([])}toMenuItems(T,I){if(!I)return T.map(O=>({kind:r.CodeAction,action:O,group:a}));const R=u.map(O=>({group:O,actions:[]}));for(const O of T){const M=O.action.kind?new g.CodeActionKind(O.action.kind):g.CodeActionKind.None;for(const N of R)if(N.group.kind.contains(M)){N.actions.push(O);break}}const F=[];for(const O of R)if(O.actions.length){F.push({kind:r.Header,group:O.group});for(const M of O.actions)F.push({kind:r.CodeAction,action:M,group:O.group})}return F}};v=De([fe(3,l.IKeybindingService)],v);let _=!1,y=class Pi extends b.Disposable{static get INSTANCE(){return this._instance}static getOrCreateInstance(T){return this._instance||(this._instance=T.createInstance(Pi)),this._instance}constructor(T,I,R,F){super(),this._commandService=T,this._contextViewService=I,this._keybindingService=R,this._telemetryService=F,this.codeActionList=this._register(new b.MutableDisposable)}get isVisible(){return!!this.currentShowingContext}show(T,I,R,F,O,M,N){return Se(this,void 0,void 0,function*(){this.currentShowingContext=void 0;const A=e.Context.Visible.bindTo(N),B=O.includeDisabledActions&&(_||I.validActions.length===0)?I.allActions:I.validActions;if(!B.length){A.reset();return}this.currentShowingContext={trigger:T,codeActions:I,anchor:R,container:F,delegate:M,options:O,contextKeyService:N},this._contextViewService.showContextView({getAnchor:()=>R,render:W=>(A.set(!0),this.renderWidget(W,T,I,O,B,M)),onHide:W=>(A.reset(),this.onWidgetClosed(T,O,I,W,M))},F,!1)})}focusPrevious(){var T;(T=this.codeActionList.value)===null||T===void 0||T.focusPrevious()}focusNext(){var T;(T=this.codeActionList.value)===null||T===void 0||T.focusNext()}acceptSelected(T){var I;(I=this.codeActionList.value)===null||I===void 0||I.acceptSelected(T)}hide(){this.codeActionList.clear(),this._contextViewService.hideContextView()}renderWidget(T,I,R,F,O,M){var N;const A=new b.DisposableStore,B=document.createElement("div");B.classList.add("codeActionWidget"),T.appendChild(B),this.codeActionList.value=new v(O,(N=F.showHeaders)!==null&&N!==void 0?N:!0,(Q,ne)=>{this.hide(),M.onSelectCodeAction(Q,I,ne)},this._keybindingService),B.appendChild(this.codeActionList.value.domNode);const W=document.createElement("div"),x=T.appendChild(W);x.classList.add("context-view-block"),x.style.position="fixed",x.style.cursor="initial",x.style.left="0",x.style.top="0",x.style.width="100%",x.style.height="100%",x.style.zIndex="-1",A.add(w.addDisposableListener(x,w.EventType.MOUSE_DOWN,Q=>Q.stopPropagation()));const P=document.createElement("div"),X=T.appendChild(P);X.classList.add("context-view-pointerBlock"),X.style.position="fixed",X.style.cursor="initial",X.style.left="0",X.style.top="0",X.style.width="100%",X.style.height="100%",X.style.zIndex="2",A.add(w.addDisposableListener(X,w.EventType.POINTER_MOVE,()=>X.remove())),A.add(w.addDisposableListener(X,w.EventType.MOUSE_DOWN,()=>X.remove()));let ie=0;if(!F.fromLightbulb){const Q=this.createActionBar(R,F);Q&&(B.appendChild(Q.getContainer().parentElement),A.add(Q),ie=Q.getContainer().offsetWidth)}const K=this.codeActionList.value.layout(ie);B.style.width=`${K}px`;const G=A.add(w.trackFocus(T));return A.add(G.onDidBlur(()=>this.hide())),A}toggleShowDisabled(T){const I=this.currentShowingContext;this.hide(),_=T,I&&this.show(I.trigger,I.codeActions,I.anchor,I.container,I.options,I.delegate,I.contextKeyService)}onWidgetClosed(T,I,R,F,O){this._telemetryService.publicLog2("codeAction.applyCodeAction",{codeActionFrom:I.fromLightbulb?g.CodeActionTriggerSource.Lightbulb:T.triggerAction,validCodeActions:R.validActions.length,cancelled:F}),this.currentShowingContext=void 0,O.onHide(F)}createActionBar(T,I){const R=this.getActionBarActions(T,I);if(!R.length)return;const F=w.$(".codeActionWidget-action-bar"),O=new m.ActionBar(F);return O.push(R,{icon:!1,label:!0}),O}getActionBarActions(T,I){const R=T.documentation.map(F=>{var O;return{id:F.id,label:F.title,tooltip:(O=F.tooltip)!==null&&O!==void 0?O:"",class:void 0,enabled:!0,run:()=>{var M;return this._commandService.executeCommand(F.id,...(M=F.arguments)!==null&&M!==void 0?M:[])}}});return I.includeDisabledActions&&T.validActions.length>0&&T.allActions.length!==T.validActions.length&&R.push(_?{id:"hideMoreCodeActions",label:(0,t.localize)(12,null),enabled:!0,tooltip:"",class:void 0,run:()=>this.toggleShowDisabled(!1)}:{id:"showMoreCodeActions",label:(0,t.localize)(13,null),enabled:!0,tooltip:"",class:void 0,run:()=>this.toggleShowDisabled(!0)}),R}};y=De([fe(0,i.ICommandService),fe(1,o.IContextViewService),fe(2,l.IKeybindingService),fe(3,c.ITelemetryService)],y),e.CodeActionWidget=y}),define(se[726],re([1,0,126,7,10,182,2,99,181,295,141,3,24,20,97,93,570,95,30,67]),function(q,e,w,m,k,D,L,b,C,h,g,t,i,n,o,l,c,d,r,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CopyPasteController=void 0;const a="application/vnd.code.copyMetadata";let u=class extends L.Disposable{constructor(f,v,_,y,E,T){super(),this._bulkEditService=v,this._clipboardService=_,this._configurationService=y,this._languageFeaturesService=E,this._progressService=T,this._editor=f;const I=f.getContainerDomNode();this._register((0,m.addDisposableListener)(I,"copy",R=>this.handleCopy(R))),this._register((0,m.addDisposableListener)(I,"cut",R=>this.handleCopy(R))),this._register((0,m.addDisposableListener)(I,"paste",R=>this.handlePaste(R),!0))}arePasteActionsEnabled(f){return this._configurationService.getValue("editor.experimental.pasteActions.enabled",{resource:f.uri})}handleCopy(f){var v;if(!f.clipboardData||!this._editor.hasTextFocus())return;const _=this._editor.getModel(),y=this._editor.getSelections();if(!_||!y?.length||!this.arePasteActionsEnabled(_))return;const E=[...y],T=y[0],I=T.isEmpty();if(I){if(!this._editor.getOption(33))return;E[0]=new t.Range(T.startLineNumber,0,T.startLineNumber,_.getLineLength(T.startLineNumber))}const R=this._languageFeaturesService.documentPasteEditProvider.ordered(_).filter(N=>!!N.prepareDocumentPaste);if(!R.length){this.setCopyMetadata(f.clipboardData,{wasFromEmptySelection:I});return}const F=(0,h.toVSDataTransfer)(f.clipboardData),O=(0,C.generateUuid)();this.setCopyMetadata(f.clipboardData,{id:O,wasFromEmptySelection:I});const M=(0,k.createCancelablePromise)(N=>Se(this,void 0,void 0,function*(){const A=yield Promise.all(R.map(B=>B.prepareDocumentPaste(_,E,F,N)));for(const B of A)B?.forEach((W,x)=>{F.replace(x,W)});return F}));(v=this._currentClipboardItem)===null||v===void 0||v.dataTransferPromise.cancel(),this._currentClipboardItem={handle:O,dataTransferPromise:M}}setCopyMetadata(f,v){f.setData(a,JSON.stringify(v))}handlePaste(f){var v,_,y,E;return Se(this,void 0,void 0,function*(){if(!f.clipboardData||!this._editor.hasTextFocus())return;const T=this._editor.getSelections();if(!T?.length||!this._editor.hasModel())return;const I=this._editor.getModel();if(!this.arePasteActionsEnabled(I))return;let R;const F=(v=f.clipboardData)===null||v===void 0?void 0:v.getData(a);F&&typeof F=="string"&&(R=JSON.parse(F));const O=this._languageFeaturesService.documentPasteEditProvider.ordered(I);if(!O.length)return;f.preventDefault(),f.stopImmediatePropagation();const M=new o.EditorStateCancellationTokenSource(this._editor,3);try{const N=(0,h.toVSDataTransfer)(f.clipboardData);if(R?.id&&((_=this._currentClipboardItem)===null||_===void 0?void 0:_.handle)===R.id){const B=yield this._currentClipboardItem.dataTransferPromise;if(M.token.isCancellationRequested)return;B.forEach((W,x)=>{N.replace(x,W)})}if(!N.has(b.Mimes.uriList)){const B=yield this._clipboardService.readResources();if(M.token.isCancellationRequested)return;B.length&&N.append(b.Mimes.uriList,(0,D.createStringDataTransferItem)(h.UriList.create(B)))}N.delete(a);const A=yield this._progressService.withProgress({location:15,delay:750,title:(0,c.localize)(0,null),cancellable:!0},()=>this.getProviderPasteEdit(O,N,I,T,M.token),()=>M.cancel());if(M.token.isCancellationRequested)return;if(A){const B=typeof A.insertText=="string"?l.SnippetParser.escape(A.insertText):A.insertText.snippet,W={edits:[new g.ResourceTextEdit(I.uri,{range:i.Selection.liftSelection(this._editor.getSelection()),text:B,insertAsSnippet:!0}),...(E=(y=A.additionalEdit)===null||y===void 0?void 0:y.edits)!==null&&E!==void 0?E:[]]};yield this._bulkEditService.apply(W,{editor:this._editor});return}yield this.applyDefaultPasteHandler(N,R,M.token)}finally{M.dispose()}})}getProviderPasteEdit(f,v,_,y,E){return(0,k.raceCancellation)((()=>Se(this,void 0,void 0,function*(){for(const T of f){if(E.isCancellationRequested)return;if(!p(T,v))continue;const I=yield T.provideDocumentPasteEdits(_,y,v,E);if(I)return I}}))(),E)}applyDefaultPasteHandler(f,v,_){var y;return Se(this,void 0,void 0,function*(){const E=(y=f.get(b.Mimes.text))!==null&&y!==void 0?y:f.get("text");if(!E)return;const T=yield E.asString();_.isCancellationRequested||this._editor.trigger("keyboard","paste",{text:T,pasteOnNewLine:v?.wasFromEmptySelection,multicursorText:null})})}};u.ID="editor.contrib.copyPasteActionController",u=De([fe(1,g.IBulkEditService),fe(2,d.IClipboardService),fe(3,r.IConfigurationService),fe(4,n.ILanguageFeaturesService),fe(5,s.IProgressService)],u),e.CopyPasteController=u;function p(S,f){return S.pasteMimeTypes.some(v=>v.toLowerCase()===w.DataTransfers.FILES.toLowerCase()?[...f.values()].some(_=>_.asFile()):f.has(v))}}),define(se[727],re([1,0,13,217,726,569,89,33]),function(q,e,w,m,k,D,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,w.registerEditorContribution)(k.CopyPasteController.ID,k.CopyPasteController),b.Registry.as(L.Extensions.Configuration).registerConfiguration(Object.assign(Object.assign({},m.editorConfigurationBaseNode),{properties:{"editor.experimental.pasteActions.enabled":{type:"boolean",scope:5,description:D.localize(0,null),default:!1}}}))}),define(se[728],re([1,0,13,165,578]),function(q,e,w,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class D extends w.EditorAction{constructor(){super({id:"editor.action.fontZoomIn",label:k.localize(0,null),alias:"Editor Font Zoom In",precondition:void 0})}run(h,g){m.EditorZoom.setZoomLevel(m.EditorZoom.getZoomLevel()+1)}}class L extends w.EditorAction{constructor(){super({id:"editor.action.fontZoomOut",label:k.localize(1,null),alias:"Editor Font Zoom Out",precondition:void 0})}run(h,g){m.EditorZoom.setZoomLevel(m.EditorZoom.getZoomLevel()-1)}}class b extends w.EditorAction{constructor(){super({id:"editor.action.fontZoomReset",label:k.localize(2,null),alias:"Editor Font Zoom Reset",precondition:void 0})}run(h,g){m.EditorZoom.setZoomLevel(0)}}(0,w.registerEditorAction)(D),(0,w.registerEditorAction)(L),(0,w.registerEditorAction)(b)}),define(se[309],re([1,0,50,18,21,14,55,58,19,22,97,156,11,3,24,103,61,252,579,26,648,9,20]),function(q,e,w,m,k,D,L,b,C,h,g,t,i,n,o,l,c,d,r,s,a,u,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOnTypeFormattingEdits=e.getDocumentFormattingEditsUntilResult=e.getDocumentRangeFormattingEditsUntilResult=e.formatDocumentWithProvider=e.formatDocumentWithSelectedProvider=e.formatDocumentRangesWithProvider=e.formatDocumentRangesWithSelectedProvider=e.FormattingConflicts=e.getRealAndSyntheticDocumentFormattersOrdered=e.alertFormattingEdits=void 0;function S(O){if(O=O.filter(B=>B.range),!O.length)return;let{range:M}=O[0];for(let B=1;B<O.length;B++)M=n.Range.plusRange(M,O[B].range);const{startLineNumber:N,endLineNumber:A}=M;N===A?O.length===1?(0,w.alert)(r.localize(0,null,N)):(0,w.alert)(r.localize(1,null,O.length,N)):O.length===1?(0,w.alert)(r.localize(2,null,N,A)):(0,w.alert)(r.localize(3,null,O.length,N,A))}e.alertFormattingEdits=S;function f(O,M,N){const A=[],B=new Set,W=O.ordered(N);for(const P of W)A.push(P),P.extensionId&&B.add(a.ExtensionIdentifier.toKey(P.extensionId));const x=M.ordered(N);for(const P of x){if(P.extensionId){if(B.has(a.ExtensionIdentifier.toKey(P.extensionId)))continue;B.add(a.ExtensionIdentifier.toKey(P.extensionId))}A.push({displayName:P.displayName,extensionId:P.extensionId,provideDocumentFormattingEdits(X,ie,K){return P.provideDocumentRangeFormattingEdits(X,X.getFullModelRange(),ie,K)}})}return A}e.getRealAndSyntheticDocumentFormattersOrdered=f;class v{static setFormatterSelector(M){return{dispose:v._selectors.unshift(M)}}static select(M,N,A){return Se(this,void 0,void 0,function*(){if(M.length===0)return;const B=L.Iterable.first(v._selectors);if(B)return yield B(M,N,A)})}}e.FormattingConflicts=v,v._selectors=new b.LinkedList;function _(O,M,N,A,B,W){return Se(this,void 0,void 0,function*(){const x=O.get(u.IInstantiationService),{documentRangeFormattingEditProvider:P}=O.get(p.ILanguageFeaturesService),X=(0,t.isCodeEditor)(M)?M.getModel():M,ie=P.ordered(X),K=yield v.select(ie,X,A);K&&(B.report(K),yield x.invokeFunction(y,K,M,N,W))})}e.formatDocumentRangesWithSelectedProvider=_;function y(O,M,N,A,B){return Se(this,void 0,void 0,function*(){const W=O.get(l.IEditorWorkerService);let x,P;(0,t.isCodeEditor)(N)?(x=N.getModel(),P=new g.EditorStateCancellationTokenSource(N,5,void 0,B)):(x=N,P=new g.TextModelCancellationTokenSource(N,B));const X=[];let ie=0;for(const Z of(0,m.asArray)(A).sort(n.Range.compareRangesUsingStarts))ie>0&&n.Range.areIntersectingOrTouching(X[ie-1],Z)?X[ie-1]=n.Range.fromPositions(X[ie-1].getStartPosition(),Z.getEndPosition()):ie=X.push(Z);const K=Z=>Se(this,void 0,void 0,function*(){return(yield M.provideDocumentRangeFormattingEdits(x,Z,x.getFormattingOptions(),P.token))||[]}),G=(Z,ee)=>{if(!Z.length||!ee.length)return!1;const le=Z.reduce((V,$)=>n.Range.plusRange(V,$.range),Z[0].range);if(!ee.some(V=>n.Range.intersectRanges(le,V.range)))return!1;for(const V of Z)for(const $ of ee)if(n.Range.intersectRanges(V.range,$.range))return!0;return!1},Q=[],ne=[];try{for(const Z of X){if(P.token.isCancellationRequested)return!0;ne.push(yield K(Z))}for(let Z=0;Z<X.length;++Z)for(let ee=Z+1;ee<X.length;++ee){if(P.token.isCancellationRequested)return!0;if(G(ne[Z],ne[ee])){const le=n.Range.plusRange(X[Z],X[ee]),V=yield K(le);X.splice(ee,1),X.splice(Z,1),X.push(le),ne.splice(ee,1),ne.splice(Z,1),ne.push(V),Z=0,ee=0}}for(const Z of ne){if(P.token.isCancellationRequested)return!0;const ee=yield W.computeMoreMinimalEdits(x.uri,Z);ee&&Q.push(...ee)}}finally{P.dispose()}if(Q.length===0)return!1;if((0,t.isCodeEditor)(N))d.FormattingEdit.execute(N,Q,!0),S(Q),N.revealPositionInCenterIfOutsideViewport(N.getPosition(),1);else{const[{range:Z}]=Q,ee=new o.Selection(Z.startLineNumber,Z.startColumn,Z.endLineNumber,Z.endColumn);x.pushEditOperations([ee],Q.map(le=>({text:le.text,range:n.Range.lift(le.range),forceMoveMarkers:!0})),le=>{for(const{range:V}of le)if(n.Range.areIntersectingOrTouching(V,ee))return[new o.Selection(V.startLineNumber,V.startColumn,V.endLineNumber,V.endColumn)];return null})}return!0})}e.formatDocumentRangesWithProvider=y;function E(O,M,N,A,B){return Se(this,void 0,void 0,function*(){const W=O.get(u.IInstantiationService),x=O.get(p.ILanguageFeaturesService),P=(0,t.isCodeEditor)(M)?M.getModel():M,X=f(x.documentFormattingEditProvider,x.documentRangeFormattingEditProvider,P),ie=yield v.select(X,P,N);ie&&(A.report(ie),yield W.invokeFunction(T,ie,M,N,B))})}e.formatDocumentWithSelectedProvider=E;function T(O,M,N,A,B){return Se(this,void 0,void 0,function*(){const W=O.get(l.IEditorWorkerService);let x,P;(0,t.isCodeEditor)(N)?(x=N.getModel(),P=new g.EditorStateCancellationTokenSource(N,5,void 0,B)):(x=N,P=new g.TextModelCancellationTokenSource(N,B));let X;try{const ie=yield M.provideDocumentFormattingEdits(x,x.getFormattingOptions(),P.token);if(X=yield W.computeMoreMinimalEdits(x.uri,ie),P.token.isCancellationRequested)return!0}finally{P.dispose()}if(!X||X.length===0)return!1;if((0,t.isCodeEditor)(N))d.FormattingEdit.execute(N,X,A!==2),A!==2&&(S(X),N.revealPositionInCenterIfOutsideViewport(N.getPosition(),1));else{const[{range:ie}]=X,K=new o.Selection(ie.startLineNumber,ie.startColumn,ie.endLineNumber,ie.endColumn);x.pushEditOperations([K],X.map(G=>({text:G.text,range:n.Range.lift(G.range),forceMoveMarkers:!0})),G=>{for(const{range:Q}of G)if(n.Range.areIntersectingOrTouching(Q,K))return[new o.Selection(Q.startLineNumber,Q.startColumn,Q.endLineNumber,Q.endColumn)];return null})}return!0})}e.formatDocumentWithProvider=T;function I(O,M,N,A,B,W){return Se(this,void 0,void 0,function*(){const x=M.documentRangeFormattingEditProvider.ordered(N);for(const P of x){const X=yield Promise.resolve(P.provideDocumentRangeFormattingEdits(N,A,B,W)).catch(D.onUnexpectedExternalError);if((0,m.isNonEmptyArray)(X))return yield O.computeMoreMinimalEdits(N.uri,X)}})}e.getDocumentRangeFormattingEditsUntilResult=I;function R(O,M,N,A,B){return Se(this,void 0,void 0,function*(){const W=f(M.documentFormattingEditProvider,M.documentRangeFormattingEditProvider,N);for(const x of W){const P=yield Promise.resolve(x.provideDocumentFormattingEdits(N,A,B)).catch(D.onUnexpectedExternalError);if((0,m.isNonEmptyArray)(P))return yield O.computeMoreMinimalEdits(N.uri,P)}})}e.getDocumentFormattingEditsUntilResult=R;function F(O,M,N,A,B,W,x){const P=M.onTypeFormattingEditProvider.ordered(N);return P.length===0||P[0].autoFormatTriggerCharacters.indexOf(B)<0?Promise.resolve(void 0):Promise.resolve(P[0].provideOnTypeFormattingEdits(N,A,B,W,x)).catch(D.onUnexpectedExternalError).then(X=>O.computeMoreMinimalEdits(N.uri,X))}e.getOnTypeFormattingEdits=F,s.CommandsRegistry.registerCommand("_executeFormatRangeProvider",function(O,...M){return Se(this,void 0,void 0,function*(){const[N,A,B]=M;(0,C.assertType)(h.URI.isUri(N)),(0,C.assertType)(n.Range.isIRange(A));const W=O.get(c.ITextModelService),x=O.get(l.IEditorWorkerService),P=O.get(p.ILanguageFeaturesService),X=yield W.createModelReference(N);try{return I(x,P,X.object.textEditorModel,n.Range.lift(A),B,k.CancellationToken.None)}finally{X.dispose()}})}),s.CommandsRegistry.registerCommand("_executeFormatDocumentProvider",function(O,...M){return Se(this,void 0,void 0,function*(){const[N,A]=M;(0,C.assertType)(h.URI.isUri(N));const B=O.get(c.ITextModelService),W=O.get(l.IEditorWorkerService),x=O.get(p.ILanguageFeaturesService),P=yield B.createModelReference(N);try{return R(W,x,P.object.textEditorModel,A,k.CancellationToken.None)}finally{P.dispose()}})}),s.CommandsRegistry.registerCommand("_executeFormatOnTypeProvider",function(O,...M){return Se(this,void 0,void 0,function*(){const[N,A,B,W]=M;(0,C.assertType)(h.URI.isUri(N)),(0,C.assertType)(i.Position.isIPosition(A)),(0,C.assertType)(typeof B=="string");const x=O.get(c.ITextModelService),P=O.get(l.IEditorWorkerService),X=O.get(p.ILanguageFeaturesService),ie=yield x.createModelReference(N);try{return F(P,X,ie.object.textEditorModel,i.Position.lift(A),B,W,k.CancellationToken.None)}finally{ie.dispose()}})})}),define(se[729],re([1,0,18,21,14,57,2,13,29,109,3,25,103,20,309,252,580,26,15,9,67]),function(q,e,w,m,k,D,L,b,C,h,g,t,i,n,o,l,c,d,r,s,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});let u=class{constructor(_,y,E){this._editor=_,this._languageFeaturesService=y,this._workerService=E,this._disposables=new L.DisposableStore,this._sessionDisposables=new L.DisposableStore,this._disposables.add(y.onTypeFormattingEditProvider.onDidChange(this._update,this)),this._disposables.add(_.onDidChangeModel(()=>this._update())),this._disposables.add(_.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(_.onDidChangeConfiguration(T=>{T.hasChanged(50)&&this._update()}))}dispose(){this._disposables.dispose(),this._sessionDisposables.dispose()}_update(){if(this._sessionDisposables.clear(),!this._editor.getOption(50)||!this._editor.hasModel())return;const _=this._editor.getModel(),[y]=this._languageFeaturesService.onTypeFormattingEditProvider.ordered(_);if(!y||!y.autoFormatTriggerCharacters)return;const E=new h.CharacterSet;for(const T of y.autoFormatTriggerCharacters)E.add(T.charCodeAt(0));this._sessionDisposables.add(this._editor.onDidType(T=>{const I=T.charCodeAt(T.length-1);E.has(I)&&this._trigger(String.fromCharCode(I))}))}_trigger(_){if(!this._editor.hasModel()||this._editor.getSelections().length>1||!this._editor.getSelection().isEmpty())return;const y=this._editor.getModel(),E=this._editor.getPosition(),T=new m.CancellationTokenSource,I=this._editor.onDidChangeModelContent(R=>{if(R.isFlush){T.cancel(),I.dispose();return}for(let F=0,O=R.changes.length;F<O;F++)if(R.changes[F].range.endLineNumber<=E.lineNumber){T.cancel(),I.dispose();return}});(0,o.getOnTypeFormattingEdits)(this._workerService,this._languageFeaturesService,y,E,_,y.getFormattingOptions(),T.token).then(R=>{T.token.isCancellationRequested||(0,w.isNonEmptyArray)(R)&&(l.FormattingEdit.execute(this._editor,R,!0),(0,o.alertFormattingEdits)(R))}).finally(()=>{I.dispose()})}};u.ID="editor.contrib.autoFormat",u=De([fe(1,n.ILanguageFeaturesService),fe(2,i.IEditorWorkerService)],u);let p=class{constructor(_,y,E){this.editor=_,this._languageFeaturesService=y,this._instantiationService=E,this._callOnDispose=new L.DisposableStore,this._callOnModel=new L.DisposableStore,this._callOnDispose.add(_.onDidChangeConfiguration(()=>this._update())),this._callOnDispose.add(_.onDidChangeModel(()=>this._update())),this._callOnDispose.add(_.onDidChangeModelLanguage(()=>this._update())),this._callOnDispose.add(y.documentRangeFormattingEditProvider.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){this._callOnModel.clear(),this.editor.getOption(49)&&(!this.editor.hasModel()||!this._languageFeaturesService.documentRangeFormattingEditProvider.has(this.editor.getModel())||this._callOnModel.add(this.editor.onDidPaste(({range:_})=>this._trigger(_))))}_trigger(_){!this.editor.hasModel()||this.editor.getSelections().length>1||this._instantiationService.invokeFunction(o.formatDocumentRangesWithSelectedProvider,this.editor,_,2,a.Progress.None,m.CancellationToken.None).catch(k.onUnexpectedError)}};p.ID="editor.contrib.formatOnPaste",p=De([fe(1,n.ILanguageFeaturesService),fe(2,s.IInstantiationService)],p);class S extends b.EditorAction{constructor(){super({id:"editor.action.formatDocument",label:c.localize(0,null),alias:"Format Document",precondition:r.ContextKeyExpr.and(t.EditorContextKeys.notInCompositeEditor,t.EditorContextKeys.writable,t.EditorContextKeys.hasDocumentFormattingProvider),kbOpts:{kbExpr:t.EditorContextKeys.editorTextFocus,primary:1572,linux:{primary:3111},weight:100},contextMenuOpts:{group:"1_modification",order:1.3}})}run(_,y){return Se(this,void 0,void 0,function*(){if(y.hasModel()){const E=_.get(s.IInstantiationService);yield _.get(a.IEditorProgressService).showWhile(E.invokeFunction(o.formatDocumentWithSelectedProvider,y,1,a.Progress.None,m.CancellationToken.None),250)}})}}class f extends b.EditorAction{constructor(){super({id:"editor.action.formatSelection",label:c.localize(1,null),alias:"Format Selection",precondition:r.ContextKeyExpr.and(t.EditorContextKeys.writable,t.EditorContextKeys.hasDocumentSelectionFormattingProvider),kbOpts:{kbExpr:t.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2084),weight:100},contextMenuOpts:{when:t.EditorContextKeys.hasNonEmptySelection,group:"1_modification",order:1.31}})}run(_,y){return Se(this,void 0,void 0,function*(){if(!y.hasModel())return;const E=_.get(s.IInstantiationService),T=y.getModel(),I=y.getSelections().map(F=>F.isEmpty()?new g.Range(F.startLineNumber,1,F.startLineNumber,T.getLineMaxColumn(F.startLineNumber)):F);yield _.get(a.IEditorProgressService).showWhile(E.invokeFunction(o.formatDocumentRangesWithSelectedProvider,y,I,1,a.Progress.None,m.CancellationToken.None),250)})}}(0,b.registerEditorContribution)(u.ID,u),(0,b.registerEditorContribution)(p.ID,p),(0,b.registerEditorAction)(S),(0,b.registerEditorAction)(f),d.CommandsRegistry.registerCommand("editor.action.format",v=>Se(void 0,void 0,void 0,function*(){const _=v.get(C.ICodeEditorService).getFocusedCodeEditor();if(!_||!_.hasModel())return;const y=v.get(d.ICommandService);_.getSelection().isEmpty()?yield y.executeCommand("editor.action.formatDocument"):yield y.executeCommand("editor.action.formatSelection")}))}),define(se[223],re([1,0,18,21,14,13,20,140]),function(q,e,w,m,k,D,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getReferencesAtPosition=e.getTypeDefinitionsAtPosition=e.getImplementationsAtPosition=e.getDeclarationsAtPosition=e.getDefinitionsAtPosition=void 0;function C(l,c,d,r){return Se(this,void 0,void 0,function*(){const a=d.ordered(l).map(p=>Promise.resolve(r(p,l,c)).then(void 0,S=>{(0,k.onUnexpectedExternalError)(S)})),u=yield Promise.all(a);return(0,w.coalesce)(u.flat())})}function h(l,c,d,r){return C(c,d,l,(s,a,u)=>s.provideDefinition(a,u,r))}e.getDefinitionsAtPosition=h;function g(l,c,d,r){return C(c,d,l,(s,a,u)=>s.provideDeclaration(a,u,r))}e.getDeclarationsAtPosition=g;function t(l,c,d,r){return C(c,d,l,(s,a,u)=>s.provideImplementation(a,u,r))}e.getImplementationsAtPosition=t;function i(l,c,d,r){return C(c,d,l,(s,a,u)=>s.provideTypeDefinition(a,u,r))}e.getTypeDefinitionsAtPosition=i;function n(l,c,d,r,s){return C(c,d,l,(a,u,p)=>Se(this,void 0,void 0,function*(){const S=yield a.provideReferences(u,p,{includeDeclaration:!0},s);if(!r||!S||S.length!==2)return S;const f=yield a.provideReferences(u,p,{includeDeclaration:!1},s);return f&&f.length===1?f:S}))}e.getReferencesAtPosition=n;function o(l){return Se(this,void 0,void 0,function*(){const c=yield l(),d=new b.ReferencesModel(c,""),r=d.references.map(s=>s.link);return d.dispose(),r})}(0,D.registerModelAndPositionCommand)("_executeDefinitionProvider",(l,c,d)=>{const r=l.get(L.ILanguageFeaturesService),s=h(r.definitionProvider,c,d,m.CancellationToken.None);return o(()=>s)}),(0,D.registerModelAndPositionCommand)("_executeTypeDefinitionProvider",(l,c,d)=>{const r=l.get(L.ILanguageFeaturesService),s=i(r.typeDefinitionProvider,c,d,m.CancellationToken.None);return o(()=>s)}),(0,D.registerModelAndPositionCommand)("_executeDeclarationProvider",(l,c,d)=>{const r=l.get(L.ILanguageFeaturesService),s=g(r.declarationProvider,c,d,m.CancellationToken.None);return o(()=>s)}),(0,D.registerModelAndPositionCommand)("_executeReferenceProvider",(l,c,d)=>{const r=l.get(L.ILanguageFeaturesService),s=n(r.referenceProvider,c,d,!1,m.CancellationToken.None);return o(()=>s)}),(0,D.registerModelAndPositionCommand)("_executeImplementationProvider",(l,c,d)=>{const r=l.get(L.ILanguageFeaturesService),s=t(r.implementationProvider,c,d,m.CancellationToken.None);return o(()=>s)})}),define(se[730],re([1,0,6,2,44,13,29,3,589,15,52,9,41,96,40]),function(q,e,w,m,k,D,L,b,C,h,g,t,i,n,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ISymbolNavigationService=e.ctxHasSymbols=void 0,e.ctxHasSymbols=new h.RawContextKey("hasSymbols",!1,(0,C.localize)(0,null)),e.ISymbolNavigationService=(0,t.createDecorator)("ISymbolNavigationService");let l=class{constructor(r,s,a,u){this._editorService=s,this._notificationService=a,this._keybindingService=u,this._currentModel=void 0,this._currentIdx=-1,this._ignoreEditorChange=!1,this._ctxHasSymbols=e.ctxHasSymbols.bindTo(r)}reset(){var r,s;this._ctxHasSymbols.reset(),(r=this._currentState)===null||r===void 0||r.dispose(),(s=this._currentMessage)===null||s===void 0||s.dispose(),this._currentModel=void 0,this._currentIdx=-1}put(r){const s=r.parent.parent;if(s.references.length<=1){this.reset();return}this._currentModel=s,this._currentIdx=s.references.indexOf(r),this._ctxHasSymbols.set(!0),this._showMessage();const a=new c(this._editorService),u=a.onDidChange(p=>{if(this._ignoreEditorChange)return;const S=this._editorService.getActiveCodeEditor();if(!S)return;const f=S.getModel(),v=S.getPosition();if(!f||!v)return;let _=!1,y=!1;for(const E of s.references)if((0,k.isEqual)(E.uri,f.uri))_=!0,y=y||b.Range.containsPosition(E.range,v);else if(_)break;(!_||!y)&&this.reset()});this._currentState=(0,m.combinedDisposable)(a,u)}revealNext(r){if(!this._currentModel)return Promise.resolve();this._currentIdx+=1,this._currentIdx%=this._currentModel.references.length;const s=this._currentModel.references[this._currentIdx];return this._showMessage(),this._ignoreEditorChange=!0,this._editorService.openCodeEditor({resource:s.uri,options:{selection:b.Range.collapseToStart(s.range),selectionRevealType:3}},r).finally(()=>{this._ignoreEditorChange=!1})}_showMessage(){var r;(r=this._currentMessage)===null||r===void 0||r.dispose();const s=this._keybindingService.lookupKeybinding("editor.gotoNextSymbolFromResult"),a=s?(0,C.localize)(1,null,this._currentIdx+1,this._currentModel.references.length,s.getLabel()):(0,C.localize)(2,null,this._currentIdx+1,this._currentModel.references.length);this._currentMessage=this._notificationService.status(a)}};l=De([fe(0,h.IContextKeyService),fe(1,L.ICodeEditorService),fe(2,o.INotificationService),fe(3,i.IKeybindingService)],l),(0,g.registerSingleton)(e.ISymbolNavigationService,l,1),(0,D.registerEditorCommand)(new class extends D.EditorCommand{constructor(){super({id:"editor.gotoNextSymbolFromResult",precondition:e.ctxHasSymbols,kbOpts:{weight:100,primary:70}})}runEditorCommand(d,r){return d.get(e.ISymbolNavigationService).revealNext(r)}}),n.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"editor.gotoNextSymbolFromResult.cancel",weight:100,when:e.ctxHasSymbols,primary:9,handler(d){d.get(e.ISymbolNavigationService).reset()}});let c=class{constructor(r){this._listener=new Map,this._disposables=new m.DisposableStore,this._onDidChange=new w.Emitter,this.onDidChange=this._onDidChange.event,this._disposables.add(r.onCodeEditorRemove(this._onDidRemoveEditor,this)),this._disposables.add(r.onCodeEditorAdd(this._onDidAddEditor,this)),r.listCodeEditors().forEach(this._onDidAddEditor,this)}dispose(){this._disposables.dispose(),this._onDidChange.dispose(),(0,m.dispose)(this._listener.values())}_onDidAddEditor(r){this._listener.set(r,(0,m.combinedDisposable)(r.onDidChangeCursorPosition(s=>this._onDidChange.fire({editor:r})),r.onDidChangeModelContent(s=>this._onDidChange.fire({editor:r}))))}_onDidRemoveEditor(r){var s;(s=this._listener.get(r))===null||s===void 0||s.dispose(),this._listener.delete(r)}};c=De([fe(0,L.ICodeEditorService)],c)}),define(se[310],re([1,0,10,21,14,13,20]),function(q,e,w,m,k,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getHoverPromise=e.getHover=e.HoverProviderResult=void 0;class b{constructor(n,o,l){this.provider=n,this.hover=o,this.ordinal=l}}e.HoverProviderResult=b;function C(i,n,o,l,c){return Se(this,void 0,void 0,function*(){try{const d=yield Promise.resolve(i.provideHover(o,l,c));if(d&&t(d))return new b(i,d,n)}catch(d){(0,k.onUnexpectedExternalError)(d)}})}function h(i,n,o,l){const d=i.ordered(n).map((r,s)=>C(r,s,n,o,l));return w.AsyncIterableObject.fromPromises(d).coalesce()}e.getHover=h;function g(i,n,o,l){return h(i,n,o,l).map(c=>c.hover).toPromise()}e.getHoverPromise=g,(0,D.registerModelAndPositionCommand)("_executeHoverProvider",(i,n,o)=>{const l=i.get(L.ILanguageFeaturesService);return g(l.hoverProvider,n,o,m.CancellationToken.None)});function t(i){const n=typeof i.range<"u",o=typeof i.contents<"u"&&i.contents&&i.contents.length>0;return n&&o}}),define(se[224],re([1,0,7,18,10,68,2,119,11,3,39,310,591,30,46,20]),function(q,e,w,m,k,D,L,b,C,h,g,t,i,n,o,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderMarkdownHovers=e.MarkdownHoverParticipant=e.MarkdownHover=void 0;const c=w.$;class d{constructor(u,p,S,f,v){this.owner=u,this.range=p,this.contents=S,this.isBeforeContent=f,this.ordinal=v}isValidForHoverAnchor(u){return u.type===1&&this.range.startColumn<=u.range.startColumn&&this.range.endColumn>=u.range.endColumn}}e.MarkdownHover=d;let r=class{constructor(u,p,S,f,v){this._editor=u,this._languageService=p,this._openerService=S,this._configurationService=f,this._languageFeaturesService=v,this.hoverOrdinal=2}createLoadingMessage(u){return new d(this,u.range,[new D.MarkdownString().appendText(i.localize(0,null))],!1,2e3)}computeSync(u,p){if(!this._editor.hasModel()||u.type!==1)return[];const S=this._editor.getModel(),f=u.range.startLineNumber,v=S.getLineMaxColumn(f),_=[];let y=1e3;const E=S.getLineLength(f),T=S.getLanguageIdAtPosition(u.range.startLineNumber,u.range.startColumn),I=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:T});typeof I=="number"&&E>=I&&_.push(new d(this,u.range,[{value:i.localize(1,null)}],!1,y++));let R=!1;for(const F of p){const O=F.range.startLineNumber===f?F.range.startColumn:1,M=F.range.endLineNumber===f?F.range.endColumn:v,N=F.options.hoverMessage;if(!N||(0,D.isEmptyMarkdownString)(N))continue;F.options.beforeContentClassName&&(R=!0);const A=new h.Range(u.range.startLineNumber,O,u.range.startLineNumber,M);_.push(new d(this,A,(0,m.asArray)(N),R,y++))}return _}computeAsync(u,p,S){if(!this._editor.hasModel()||u.type!==1)return k.AsyncIterableObject.EMPTY;const f=this._editor.getModel();if(!this._languageFeaturesService.hoverProvider.has(f))return k.AsyncIterableObject.EMPTY;const v=new C.Position(u.range.startLineNumber,u.range.startColumn);return(0,t.getHover)(this._languageFeaturesService.hoverProvider,f,v,S).filter(_=>!(0,D.isEmptyMarkdownString)(_.hover.contents)).map(_=>{const y=_.hover.range?h.Range.lift(_.hover.range):u.range;return new d(this,y,_.hover.contents,!1,_.ordinal)})}renderHoverParts(u,p){return s(u,p,this._editor,this._languageService,this._openerService)}};r=De([fe(1,g.ILanguageService),fe(2,o.IOpenerService),fe(3,n.IConfigurationService),fe(4,l.ILanguageFeaturesService)],r),e.MarkdownHoverParticipant=r;function s(a,u,p,S,f){u.sort((_,y)=>_.ordinal-y.ordinal);const v=new L.DisposableStore;for(const _ of u)for(const y of _.contents){if((0,D.isEmptyMarkdownString)(y))continue;const E=c("div.hover-row.markdown-hover"),T=w.append(E,c("div.hover-contents")),I=v.add(new b.MarkdownRenderer({editor:p},S,f));v.add(I.onDidRenderAsync(()=>{T.className="hover-contents code-hover-contents",a.onContentsChanged()}));const R=v.add(I.render(y));T.appendChild(R.element),a.fragment.appendChild(E)}return v}e.renderMarkdownHovers=s}),define(se[731],re([1,0,2,8,13,220,63,3,24,25,34,51,253,594,88,183,218]),function(q,e,w,m,k,D,L,b,C,h,g,t,i,n,o,l,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentationToTabsCommand=e.IndentationToSpacesCommand=e.AutoIndentOnPaste=e.AutoIndentOnPasteCommand=e.ReindentSelectedLinesAction=e.ReindentLinesAction=e.DetectIndentation=e.IndentUsingSpaces=e.IndentUsingTabs=e.ChangeIndentationSizeAction=e.IndentationToTabsAction=e.IndentationToSpacesAction=e.getReindentEditOperations=void 0;function d(R,F,O,M,N){if(R.getLineCount()===1&&R.getLineMaxColumn(1)===1)return[];const A=F.getLanguageConfiguration(R.getLanguageId()).indentationRules;if(!A)return[];for(M=Math.min(M,R.getLineCount());O<=M&&A.unIndentedLinePattern;){const Z=R.getLineContent(O);if(!A.unIndentedLinePattern.test(Z))break;O++}if(O>M-1)return[];const{tabSize:B,indentSize:W,insertSpaces:x}=R.getOptions(),P=(Z,ee)=>(ee=ee||1,D.ShiftCommand.shiftIndent(Z,Z.length+ee,B,W,x)),X=(Z,ee)=>(ee=ee||1,D.ShiftCommand.unshiftIndent(Z,Z.length+ee,B,W,x)),ie=[];let K;const G=R.getLineContent(O);let Q=G;if(N!=null){K=N;const Z=m.getLeadingWhitespace(G);Q=K+G.substring(Z.length),A.decreaseIndentPattern&&A.decreaseIndentPattern.test(Q)&&(K=X(K),Q=K+G.substring(Z.length)),G!==Q&&ie.push(L.EditOperation.replaceMove(new C.Selection(O,1,O,Z.length+1),(0,l.normalizeIndentation)(K,W,x)))}else K=m.getLeadingWhitespace(G);let ne=K;A.increaseIndentPattern&&A.increaseIndentPattern.test(Q)?(ne=P(ne),K=P(K)):A.indentNextLinePattern&&A.indentNextLinePattern.test(Q)&&(ne=P(ne)),O++;for(let Z=O;Z<=M;Z++){const ee=R.getLineContent(Z),le=m.getLeadingWhitespace(ee),V=ne+ee.substring(le.length);A.decreaseIndentPattern&&A.decreaseIndentPattern.test(V)&&(ne=X(ne),K=X(K)),le!==ne&&ie.push(L.EditOperation.replaceMove(new C.Selection(Z,1,Z,le.length+1),(0,l.normalizeIndentation)(ne,W,x))),!(A.unIndentedLinePattern&&A.unIndentedLinePattern.test(ee))&&(A.increaseIndentPattern&&A.increaseIndentPattern.test(V)?(K=P(K),ne=K):A.indentNextLinePattern&&A.indentNextLinePattern.test(V)?ne=P(ne):ne=K)}return ie}e.getReindentEditOperations=d;class r extends k.EditorAction{constructor(){super({id:r.ID,label:n.localize(0,null),alias:"Convert Indentation to Spaces",precondition:h.EditorContextKeys.writable})}run(F,O){const M=O.getModel();if(!M)return;const N=M.getOptions(),A=O.getSelection();if(!A)return;const B=new T(A,N.tabSize);O.pushUndoStop(),O.executeCommands(this.id,[B]),O.pushUndoStop(),M.updateOptions({insertSpaces:!0})}}e.IndentationToSpacesAction=r,r.ID="editor.action.indentationToSpaces";class s extends k.EditorAction{constructor(){super({id:s.ID,label:n.localize(1,null),alias:"Convert Indentation to Tabs",precondition:h.EditorContextKeys.writable})}run(F,O){const M=O.getModel();if(!M)return;const N=M.getOptions(),A=O.getSelection();if(!A)return;const B=new I(A,N.tabSize);O.pushUndoStop(),O.executeCommands(this.id,[B]),O.pushUndoStop(),M.updateOptions({insertSpaces:!1})}}e.IndentationToTabsAction=s,s.ID="editor.action.indentationToTabs";class a extends k.EditorAction{constructor(F,O){super(O),this.insertSpaces=F}run(F,O){const M=F.get(o.IQuickInputService),N=F.get(t.IModelService),A=O.getModel();if(!A)return;const B=N.getCreationOptions(A.getLanguageId(),A.uri,A.isForSimpleWidget),W=[1,2,3,4,5,6,7,8].map(P=>({id:P.toString(),label:P.toString(),description:P===B.tabSize?n.localize(2,null):void 0})),x=Math.min(A.getOptions().tabSize-1,7);setTimeout(()=>{M.pick(W,{placeHolder:n.localize(3,null),activeItem:W[x]}).then(P=>{P&&A&&!A.isDisposed()&&A.updateOptions({tabSize:parseInt(P.label,10),insertSpaces:this.insertSpaces})})},50)}}e.ChangeIndentationSizeAction=a;class u extends a{constructor(){super(!1,{id:u.ID,label:n.localize(4,null),alias:"Indent Using Tabs",precondition:void 0})}}e.IndentUsingTabs=u,u.ID="editor.action.indentUsingTabs";class p extends a{constructor(){super(!0,{id:p.ID,label:n.localize(5,null),alias:"Indent Using Spaces",precondition:void 0})}}e.IndentUsingSpaces=p,p.ID="editor.action.indentUsingSpaces";class S extends k.EditorAction{constructor(){super({id:S.ID,label:n.localize(6,null),alias:"Detect Indentation from Content",precondition:void 0})}run(F,O){const M=F.get(t.IModelService),N=O.getModel();if(!N)return;const A=M.getCreationOptions(N.getLanguageId(),N.uri,N.isForSimpleWidget);N.detectIndentation(A.insertSpaces,A.tabSize)}}e.DetectIndentation=S,S.ID="editor.action.detectIndentation";class f extends k.EditorAction{constructor(){super({id:"editor.action.reindentlines",label:n.localize(7,null),alias:"Reindent Lines",precondition:h.EditorContextKeys.writable})}run(F,O){const M=F.get(g.ILanguageConfigurationService),N=O.getModel();if(!N)return;const A=d(N,M,1,N.getLineCount());A.length>0&&(O.pushUndoStop(),O.executeEdits(this.id,A),O.pushUndoStop())}}e.ReindentLinesAction=f;class v extends k.EditorAction{constructor(){super({id:"editor.action.reindentselectedlines",label:n.localize(8,null),alias:"Reindent Selected Lines",precondition:h.EditorContextKeys.writable})}run(F,O){const M=F.get(g.ILanguageConfigurationService),N=O.getModel();if(!N)return;const A=O.getSelections();if(A===null)return;const B=[];for(const W of A){let x=W.startLineNumber,P=W.endLineNumber;if(x!==P&&W.endColumn===1&&P--,x===1){if(x===P)continue}else x--;const X=d(N,M,x,P);B.push(...X)}B.length>0&&(O.pushUndoStop(),O.executeEdits(this.id,B),O.pushUndoStop())}}e.ReindentSelectedLinesAction=v;class _{constructor(F,O){this._initialSelection=O,this._edits=[],this._selectionId=null;for(const M of F)M.range&&typeof M.text=="string"&&this._edits.push(M)}getEditOperations(F,O){for(const N of this._edits)O.addEditOperation(b.Range.lift(N.range),N.text);let M=!1;Array.isArray(this._edits)&&this._edits.length===1&&this._initialSelection.isEmpty()&&(this._edits[0].range.startColumn===this._initialSelection.endColumn&&this._edits[0].range.startLineNumber===this._initialSelection.endLineNumber?(M=!0,this._selectionId=O.trackSelection(this._initialSelection,!0)):this._edits[0].range.endColumn===this._initialSelection.startColumn&&this._edits[0].range.endLineNumber===this._initialSelection.startLineNumber&&(M=!0,this._selectionId=O.trackSelection(this._initialSelection,!1))),M||(this._selectionId=O.trackSelection(this._initialSelection))}computeCursorState(F,O){return O.getTrackedSelection(this._selectionId)}}e.AutoIndentOnPasteCommand=_;let y=class{constructor(F,O){this.editor=F,this._languageConfigurationService=O,this.callOnDispose=new w.DisposableStore,this.callOnModel=new w.DisposableStore,this.callOnDispose.add(F.onDidChangeConfiguration(()=>this.update())),this.callOnDispose.add(F.onDidChangeModel(()=>this.update())),this.callOnDispose.add(F.onDidChangeModelLanguage(()=>this.update()))}update(){this.callOnModel.clear(),!(this.editor.getOption(9)<4||this.editor.getOption(49))&&(!this.editor.hasModel()||this.callOnModel.add(this.editor.onDidPaste(({range:F})=>{this.trigger(F)})))}trigger(F){const O=this.editor.getSelections();if(O===null||O.length>1)return;const M=this.editor.getModel();if(!M||!M.tokenization.isCheapToTokenize(F.getStartPosition().lineNumber))return;const N=this.editor.getOption(9),{tabSize:A,indentSize:B,insertSpaces:W}=M.getOptions(),x=[],P={shiftIndent:G=>D.ShiftCommand.shiftIndent(G,G.length+1,A,B,W),unshiftIndent:G=>D.ShiftCommand.unshiftIndent(G,G.length+1,A,B,W)};let X=F.startLineNumber;for(;X<=F.endLineNumber;){if(this.shouldIgnoreLine(M,X)){X++;continue}break}if(X>F.endLineNumber)return;let ie=M.getLineContent(X);if(!/\S/.test(ie.substring(0,F.startColumn-1))){const G=(0,c.getGoodIndentForLine)(N,M,M.getLanguageId(),X,P,this._languageConfigurationService);if(G!==null){const Q=m.getLeadingWhitespace(ie),ne=i.getSpaceCnt(G,A),Z=i.getSpaceCnt(Q,A);if(ne!==Z){const ee=i.generateIndent(ne,A,W);x.push({range:new b.Range(X,1,X,Q.length+1),text:ee}),ie=ee+ie.substr(Q.length)}else{const ee=(0,c.getIndentMetadata)(M,X,this._languageConfigurationService);if(ee===0||ee===8)return}}}const K=X;for(;X<F.endLineNumber;){if(!/\S/.test(M.getLineContent(X+1))){X++;continue}break}if(X!==F.endLineNumber){const G={tokenization:{getLineTokens:ne=>M.tokenization.getLineTokens(ne),getLanguageId:()=>M.getLanguageId(),getLanguageIdAtPosition:(ne,Z)=>M.getLanguageIdAtPosition(ne,Z)},getLineContent:ne=>ne===K?ie:M.getLineContent(ne)},Q=(0,c.getGoodIndentForLine)(N,G,M.getLanguageId(),X+1,P,this._languageConfigurationService);if(Q!==null){const ne=i.getSpaceCnt(Q,A),Z=i.getSpaceCnt(m.getLeadingWhitespace(M.getLineContent(X+1)),A);if(ne!==Z){const ee=ne-Z;for(let le=X+1;le<=F.endLineNumber;le++){const V=M.getLineContent(le),$=m.getLeadingWhitespace(V),U=i.getSpaceCnt($,A)+ee,ae=i.generateIndent(U,A,W);ae!==$&&x.push({range:new b.Range(le,1,le,$.length+1),text:ae})}}}}if(x.length>0){this.editor.pushUndoStop();const G=new _(x,this.editor.getSelection());this.editor.executeCommand("autoIndentOnPaste",G),this.editor.pushUndoStop()}}shouldIgnoreLine(F,O){F.tokenization.forceTokenization(O);const M=F.getLineFirstNonWhitespaceColumn(O);if(M===0)return!0;const N=F.tokenization.getLineTokens(O);if(N.getCount()>0){const A=N.findTokenIndexAtOffset(M);if(A>=0&&N.getStandardTokenType(A)===1)return!0}return!1}dispose(){this.callOnDispose.dispose(),this.callOnModel.dispose()}};y.ID="editor.contrib.autoIndentOnPaste",y=De([fe(1,g.ILanguageConfigurationService)],y),e.AutoIndentOnPaste=y;function E(R,F,O,M){if(R.getLineCount()===1&&R.getLineMaxColumn(1)===1)return;let N="";for(let B=0;B<O;B++)N+=" ";const A=new RegExp(N,"gi");for(let B=1,W=R.getLineCount();B<=W;B++){let x=R.getLineFirstNonWhitespaceColumn(B);if(x===0&&(x=R.getLineMaxColumn(B)),x===1)continue;const P=new b.Range(B,1,B,x),X=R.getValueInRange(P),ie=M?X.replace(/\t/ig,N):X.replace(A,"	");F.addEditOperation(P,ie)}}class T{constructor(F,O){this.selection=F,this.tabSize=O,this.selectionId=null}getEditOperations(F,O){this.selectionId=O.trackSelection(this.selection),E(F,O,this.tabSize,!0)}computeCursorState(F,O){return O.getTrackedSelection(this.selectionId)}}e.IndentationToSpacesCommand=T;class I{constructor(F,O){this.selection=F,this.tabSize=O,this.selectionId=null}getEditOperations(F,O){this.selectionId=O.trackSelection(this.selection),E(F,O,this.tabSize,!1)}computeCursorState(F,O){return O.getTrackedSelection(this.selectionId)}}e.IndentationToTabsCommand=I,(0,k.registerEditorContribution)(y.ID,y),(0,k.registerEditorAction)(r),(0,k.registerEditorAction)(s),(0,k.registerEditorAction)(u),(0,k.registerEditorAction)(p),(0,k.registerEditorAction)(S),(0,k.registerEditorAction)(f),(0,k.registerEditorAction)(v)}),define(se[732],re([1,0,13,188,25,598]),function(q,e,w,m,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExpandLineSelectionAction=void 0;class L extends w.EditorAction{constructor(){super({id:"expandLineSelection",label:D.localize(0,null),alias:"Expand Line Selection",precondition:void 0,kbOpts:{weight:0,kbExpr:k.EditorContextKeys.textInputFocus,primary:2090}})}run(C,h,g){if(g=g||{},!h.hasModel())return;const t=h._getViewModel();t.model.pushStackElement(),t.setCursorStates(g.source,3,m.CursorMoveCommands.expandLineSelection(t,t.getCursorStates())),t.revealPrimaryCursor(g.source,!0)}}e.ExpandLineSelectionAction=L,(0,w.registerEditorAction)(L)}),define(se[733],re([1,0,57,171,13,110,416,221,63,11,3,24,25,471,678,472,599,32,34]),function(q,e,w,m,k,D,L,b,C,h,g,t,i,n,o,l,c,d,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KebabCaseAction=e.SnakeCaseAction=e.TitleCaseAction=e.LowerCaseAction=e.UpperCaseAction=e.AbstractCaseAction=e.TransposeAction=e.JoinLinesAction=e.DeleteAllRightAction=e.DeleteAllLeftAction=e.AbstractDeleteAllToBoundaryAction=e.InsertLineAfterAction=e.InsertLineBeforeAction=e.IndentLinesAction=e.DeleteLinesAction=e.TrimTrailingWhitespaceAction=e.DeleteDuplicateLinesAction=e.SortLinesDescendingAction=e.SortLinesAscendingAction=e.AbstractSortLinesAction=e.DuplicateSelectionAction=void 0;class s extends k.EditorAction{constructor(le,V){super(V),this.down=le}run(le,V){if(!V.hasModel())return;const $=V.getSelections().map((ae,z)=>({selection:ae,index:z,ignore:!1}));$.sort((ae,z)=>g.Range.compareRangesUsingStarts(ae.selection,z.selection));let oe=$[0];for(let ae=1;ae<$.length;ae++){const z=$[ae];oe.selection.endLineNumber===z.selection.startLineNumber&&(oe.index<z.index?z.ignore=!0:(oe.ignore=!0,oe=z))}const U=[];for(const ae of $)U.push(new n.CopyLinesCommand(ae.selection,this.down,ae.ignore));V.pushUndoStop(),V.executeCommands(this.id,U),V.pushUndoStop()}}class a extends s{constructor(){super(!1,{id:"editor.action.copyLinesUpAction",label:c.localize(0,null),alias:"Copy Line Up",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:1552,linux:{primary:3600},weight:100},menuOpts:{menuId:d.MenuId.MenubarSelectionMenu,group:"2_line",title:c.localize(1,null),order:1}})}}class u extends s{constructor(){super(!0,{id:"editor.action.copyLinesDownAction",label:c.localize(2,null),alias:"Copy Line Down",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:1554,linux:{primary:3602},weight:100},menuOpts:{menuId:d.MenuId.MenubarSelectionMenu,group:"2_line",title:c.localize(3,null),order:2}})}}class p extends k.EditorAction{constructor(){super({id:"editor.action.duplicateSelection",label:c.localize(4,null),alias:"Duplicate Selection",precondition:i.EditorContextKeys.writable,menuOpts:{menuId:d.MenuId.MenubarSelectionMenu,group:"2_line",title:c.localize(5,null),order:5}})}run(le,V,$){if(!V.hasModel())return;const oe=[],U=V.getSelections(),ae=V.getModel();for(const z of U)if(z.isEmpty())oe.push(new n.CopyLinesCommand(z,!0));else{const J=new t.Selection(z.endLineNumber,z.endColumn,z.endLineNumber,z.endColumn);oe.push(new D.ReplaceCommandThatSelectsText(J,ae.getValueInRange(z)))}V.pushUndoStop(),V.executeCommands(this.id,oe),V.pushUndoStop()}}e.DuplicateSelectionAction=p;class S extends k.EditorAction{constructor(le,V){super(V),this.down=le}run(le,V){const $=le.get(r.ILanguageConfigurationService),oe=[],U=V.getSelections()||[],ae=V.getOption(9);for(const z of U)oe.push(new o.MoveLinesCommand(z,this.down,ae,$));V.pushUndoStop(),V.executeCommands(this.id,oe),V.pushUndoStop()}}class f extends S{constructor(){super(!1,{id:"editor.action.moveLinesUpAction",label:c.localize(6,null),alias:"Move Line Up",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:528,linux:{primary:528},weight:100},menuOpts:{menuId:d.MenuId.MenubarSelectionMenu,group:"2_line",title:c.localize(7,null),order:3}})}}class v extends S{constructor(){super(!0,{id:"editor.action.moveLinesDownAction",label:c.localize(8,null),alias:"Move Line Down",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:530,linux:{primary:530},weight:100},menuOpts:{menuId:d.MenuId.MenubarSelectionMenu,group:"2_line",title:c.localize(9,null),order:4}})}}class _ extends k.EditorAction{constructor(le,V){super(V),this.descending=le}run(le,V){const $=V.getSelections()||[];for(const U of $)if(!l.SortLinesCommand.canRun(V.getModel(),U,this.descending))return;const oe=[];for(let U=0,ae=$.length;U<ae;U++)oe[U]=new l.SortLinesCommand($[U],this.descending);V.pushUndoStop(),V.executeCommands(this.id,oe),V.pushUndoStop()}}e.AbstractSortLinesAction=_;class y extends _{constructor(){super(!1,{id:"editor.action.sortLinesAscending",label:c.localize(10,null),alias:"Sort Lines Ascending",precondition:i.EditorContextKeys.writable})}}e.SortLinesAscendingAction=y;class E extends _{constructor(){super(!0,{id:"editor.action.sortLinesDescending",label:c.localize(11,null),alias:"Sort Lines Descending",precondition:i.EditorContextKeys.writable})}}e.SortLinesDescendingAction=E;class T extends k.EditorAction{constructor(){super({id:"editor.action.removeDuplicateLines",label:c.localize(12,null),alias:"Delete Duplicate Lines",precondition:i.EditorContextKeys.writable})}run(le,V){if(!V.hasModel())return;const $=V.getModel();if($.getLineCount()===1&&$.getLineMaxColumn(1)===1)return;const oe=[],U=[];let ae=0;for(const z of V.getSelections()){const J=new Set,Y=[];for(let ue=z.startLineNumber;ue<=z.endLineNumber;ue++){const ce=$.getLineContent(ue);J.has(ce)||(Y.push(ce),J.add(ce))}const H=new t.Selection(z.startLineNumber,1,z.endLineNumber,$.getLineMaxColumn(z.endLineNumber)),j=z.startLineNumber-ae,de=new t.Selection(j,1,j+Y.length-1,Y[Y.length-1].length);oe.push(C.EditOperation.replace(H,Y.join(`
`))),U.push(de),ae+=z.endLineNumber-z.startLineNumber+1-Y.length}V.pushUndoStop(),V.executeEdits(this.id,oe,U),V.pushUndoStop()}}e.DeleteDuplicateLinesAction=T;class I extends k.EditorAction{constructor(){super({id:I.ID,label:c.localize(13,null),alias:"Trim Trailing Whitespace",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:(0,w.KeyChord)(2089,2102),weight:100}})}run(le,V,$){let oe=[];$.reason==="auto-save"&&(oe=(V.getSelections()||[]).map(z=>new h.Position(z.positionLineNumber,z.positionColumn)));const U=V.getSelection();if(U===null)return;const ae=new L.TrimTrailingWhitespaceCommand(U,oe);V.pushUndoStop(),V.executeCommands(this.id,[ae]),V.pushUndoStop()}}e.TrimTrailingWhitespaceAction=I,I.ID="editor.action.trimTrailingWhitespace";class R extends k.EditorAction{constructor(){super({id:"editor.action.deleteLines",label:c.localize(14,null),alias:"Delete Line",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.textInputFocus,primary:3113,weight:100}})}run(le,V){if(!V.hasModel())return;const $=this._getLinesToRemove(V),oe=V.getModel();if(oe.getLineCount()===1&&oe.getLineMaxColumn(1)===1)return;let U=0;const ae=[],z=[];for(let J=0,Y=$.length;J<Y;J++){const H=$[J];let j=H.startLineNumber,de=H.endLineNumber,ue=1,ce=oe.getLineMaxColumn(de);de<oe.getLineCount()?(de+=1,ce=1):j>1&&(j-=1,ue=oe.getLineMaxColumn(j)),ae.push(C.EditOperation.replace(new t.Selection(j,ue,de,ce),"")),z.push(new t.Selection(j-U,H.positionColumn,j-U,H.positionColumn)),U+=H.endLineNumber-H.startLineNumber+1}V.pushUndoStop(),V.executeEdits(this.id,ae,z),V.pushUndoStop()}_getLinesToRemove(le){const V=le.getSelections().map(U=>{let ae=U.endLineNumber;return U.startLineNumber<U.endLineNumber&&U.endColumn===1&&(ae-=1),{startLineNumber:U.startLineNumber,selectionStartColumn:U.selectionStartColumn,endLineNumber:ae,positionColumn:U.positionColumn}});V.sort((U,ae)=>U.startLineNumber===ae.startLineNumber?U.endLineNumber-ae.endLineNumber:U.startLineNumber-ae.startLineNumber);const $=[];let oe=V[0];for(let U=1;U<V.length;U++)oe.endLineNumber+1>=V[U].startLineNumber?oe.endLineNumber=V[U].endLineNumber:($.push(oe),oe=V[U]);return $.push(oe),$}}e.DeleteLinesAction=R;class F extends k.EditorAction{constructor(){super({id:"editor.action.indentLines",label:c.localize(15,null),alias:"Indent Line",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:2137,weight:100}})}run(le,V){const $=V._getViewModel();!$||(V.pushUndoStop(),V.executeCommands(this.id,b.TypeOperations.indent($.cursorConfig,V.getModel(),V.getSelections())),V.pushUndoStop())}}e.IndentLinesAction=F;class O extends k.EditorAction{constructor(){super({id:"editor.action.outdentLines",label:c.localize(16,null),alias:"Outdent Line",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:2135,weight:100}})}run(le,V){m.CoreEditingCommands.Outdent.runEditorCommand(le,V,null)}}class M extends k.EditorAction{constructor(){super({id:"editor.action.insertLineBefore",label:c.localize(17,null),alias:"Insert Line Above",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:3075,weight:100}})}run(le,V){const $=V._getViewModel();!$||(V.pushUndoStop(),V.executeCommands(this.id,b.TypeOperations.lineInsertBefore($.cursorConfig,V.getModel(),V.getSelections())))}}e.InsertLineBeforeAction=M;class N extends k.EditorAction{constructor(){super({id:"editor.action.insertLineAfter",label:c.localize(18,null),alias:"Insert Line Below",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:2051,weight:100}})}run(le,V){const $=V._getViewModel();!$||(V.pushUndoStop(),V.executeCommands(this.id,b.TypeOperations.lineInsertAfter($.cursorConfig,V.getModel(),V.getSelections())))}}e.InsertLineAfterAction=N;class A extends k.EditorAction{run(le,V){if(!V.hasModel())return;const $=V.getSelection(),oe=this._getRangesToDelete(V),U=[];for(let J=0,Y=oe.length-1;J<Y;J++){const H=oe[J],j=oe[J+1];g.Range.intersectRanges(H,j)===null?U.push(H):oe[J+1]=g.Range.plusRange(H,j)}U.push(oe[oe.length-1]);const ae=this._getEndCursorState($,U),z=U.map(J=>C.EditOperation.replace(J,""));V.pushUndoStop(),V.executeEdits(this.id,z,ae),V.pushUndoStop()}}e.AbstractDeleteAllToBoundaryAction=A;class B extends A{constructor(){super({id:"deleteAllLeft",label:c.localize(19,null),alias:"Delete All Left",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.textInputFocus,primary:0,mac:{primary:2049},weight:100}})}_getEndCursorState(le,V){let $=null;const oe=[];let U=0;return V.forEach(ae=>{let z;if(ae.endColumn===1&&U>0){const J=ae.startLineNumber-U;z=new t.Selection(J,ae.startColumn,J,ae.startColumn)}else z=new t.Selection(ae.startLineNumber,ae.startColumn,ae.startLineNumber,ae.startColumn);U+=ae.endLineNumber-ae.startLineNumber,ae.intersectRanges(le)?$=z:oe.push(z)}),$&&oe.unshift($),oe}_getRangesToDelete(le){const V=le.getSelections();if(V===null)return[];let $=V;const oe=le.getModel();return oe===null?[]:($.sort(g.Range.compareRangesUsingStarts),$=$.map(U=>{if(U.isEmpty())if(U.startColumn===1){const ae=Math.max(1,U.startLineNumber-1),z=U.startLineNumber===1?1:oe.getLineContent(ae).length+1;return new g.Range(ae,z,U.startLineNumber,1)}else return new g.Range(U.startLineNumber,1,U.startLineNumber,U.startColumn);else return new g.Range(U.startLineNumber,1,U.endLineNumber,U.endColumn)}),$)}}e.DeleteAllLeftAction=B;class W extends A{constructor(){super({id:"deleteAllRight",label:c.localize(20,null),alias:"Delete All Right",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.textInputFocus,primary:0,mac:{primary:297,secondary:[2068]},weight:100}})}_getEndCursorState(le,V){let $=null;const oe=[];for(let U=0,ae=V.length,z=0;U<ae;U++){const J=V[U],Y=new t.Selection(J.startLineNumber-z,J.startColumn,J.startLineNumber-z,J.startColumn);J.intersectRanges(le)?$=Y:oe.push(Y)}return $&&oe.unshift($),oe}_getRangesToDelete(le){const V=le.getModel();if(V===null)return[];const $=le.getSelections();if($===null)return[];const oe=$.map(U=>{if(U.isEmpty()){const ae=V.getLineMaxColumn(U.startLineNumber);return U.startColumn===ae?new g.Range(U.startLineNumber,U.startColumn,U.startLineNumber+1,1):new g.Range(U.startLineNumber,U.startColumn,U.startLineNumber,ae)}return U});return oe.sort(g.Range.compareRangesUsingStarts),oe}}e.DeleteAllRightAction=W;class x extends k.EditorAction{constructor(){super({id:"editor.action.joinLines",label:c.localize(21,null),alias:"Join Lines",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:0,mac:{primary:296},weight:100}})}run(le,V){const $=V.getSelections();if($===null)return;let oe=V.getSelection();if(oe===null)return;$.sort(g.Range.compareRangesUsingStarts);const U=[],ae=$.reduce((de,ue)=>de.isEmpty()?de.endLineNumber===ue.startLineNumber?(oe.equalsSelection(de)&&(oe=ue),ue):ue.startLineNumber>de.endLineNumber+1?(U.push(de),ue):new t.Selection(de.startLineNumber,de.startColumn,ue.endLineNumber,ue.endColumn):ue.startLineNumber>de.endLineNumber?(U.push(de),ue):new t.Selection(de.startLineNumber,de.startColumn,ue.endLineNumber,ue.endColumn));U.push(ae);const z=V.getModel();if(z===null)return;const J=[],Y=[];let H=oe,j=0;for(let de=0,ue=U.length;de<ue;de++){const ce=U[de],ge=ce.startLineNumber,ve=1;let _e=0,ye,Ee;const Te=z.getLineContent(ce.endLineNumber).length-ce.endColumn;if(ce.isEmpty()||ce.startLineNumber===ce.endLineNumber){const te=ce.getStartPosition();te.lineNumber<z.getLineCount()?(ye=ge+1,Ee=z.getLineMaxColumn(ye)):(ye=te.lineNumber,Ee=z.getLineMaxColumn(te.lineNumber))}else ye=ce.endLineNumber,Ee=z.getLineMaxColumn(ye);let we=z.getLineContent(ge);for(let te=ge+1;te<=ye;te++){const he=z.getLineContent(te),be=z.getLineFirstNonWhitespaceColumn(te);if(be>=1){let me=!0;we===""&&(me=!1),me&&(we.charAt(we.length-1)===" "||we.charAt(we.length-1)==="	")&&(me=!1,we=we.replace(/[\s\uFEFF\xA0]+$/g," "));const pe=he.substr(be-1);we+=(me?" ":"")+pe,me?_e=pe.length+1:_e=pe.length}else _e=0}const Ce=new g.Range(ge,ve,ye,Ee);if(!Ce.isEmpty()){let te;ce.isEmpty()?(J.push(C.EditOperation.replace(Ce,we)),te=new t.Selection(Ce.startLineNumber-j,we.length-_e+1,ge-j,we.length-_e+1)):ce.startLineNumber===ce.endLineNumber?(J.push(C.EditOperation.replace(Ce,we)),te=new t.Selection(ce.startLineNumber-j,ce.startColumn,ce.endLineNumber-j,ce.endColumn)):(J.push(C.EditOperation.replace(Ce,we)),te=new t.Selection(ce.startLineNumber-j,ce.startColumn,ce.startLineNumber-j,we.length-Te)),g.Range.intersectRanges(Ce,oe)!==null?H=te:Y.push(te)}j+=Ce.endLineNumber-Ce.startLineNumber}Y.unshift(H),V.pushUndoStop(),V.executeEdits(this.id,J,Y),V.pushUndoStop()}}e.JoinLinesAction=x;class P extends k.EditorAction{constructor(){super({id:"editor.action.transpose",label:c.localize(22,null),alias:"Transpose characters around the cursor",precondition:i.EditorContextKeys.writable})}run(le,V){const $=V.getSelections();if($===null)return;const oe=V.getModel();if(oe===null)return;const U=[];for(let ae=0,z=$.length;ae<z;ae++){const J=$[ae];if(!J.isEmpty())continue;const Y=J.getStartPosition(),H=oe.getLineMaxColumn(Y.lineNumber);if(Y.column>=H){if(Y.lineNumber===oe.getLineCount())continue;const j=new g.Range(Y.lineNumber,Math.max(1,Y.column-1),Y.lineNumber+1,1),de=oe.getValueInRange(j).split("").reverse().join("");U.push(new D.ReplaceCommand(new t.Selection(Y.lineNumber,Math.max(1,Y.column-1),Y.lineNumber+1,1),de))}else{const j=new g.Range(Y.lineNumber,Math.max(1,Y.column-1),Y.lineNumber,Y.column+1),de=oe.getValueInRange(j).split("").reverse().join("");U.push(new D.ReplaceCommandThatPreservesSelection(j,de,new t.Selection(Y.lineNumber,Y.column+1,Y.lineNumber,Y.column+1)))}}V.pushUndoStop(),V.executeCommands(this.id,U),V.pushUndoStop()}}e.TransposeAction=P;class X extends k.EditorAction{run(le,V){const $=V.getSelections();if($===null)return;const oe=V.getModel();if(oe===null)return;const U=V.getOption(119),ae=[];for(const z of $)if(z.isEmpty()){const J=z.getStartPosition(),Y=V.getConfiguredWordAtPosition(J);if(!Y)continue;const H=new g.Range(J.lineNumber,Y.startColumn,J.lineNumber,Y.endColumn),j=oe.getValueInRange(H);ae.push(C.EditOperation.replace(H,this._modifyText(j,U)))}else{const J=oe.getValueInRange(z);ae.push(C.EditOperation.replace(z,this._modifyText(J,U)))}V.pushUndoStop(),V.executeEdits(this.id,ae),V.pushUndoStop()}}e.AbstractCaseAction=X;class ie extends X{constructor(){super({id:"editor.action.transformToUppercase",label:c.localize(23,null),alias:"Transform to Uppercase",precondition:i.EditorContextKeys.writable})}_modifyText(le,V){return le.toLocaleUpperCase()}}e.UpperCaseAction=ie;class K extends X{constructor(){super({id:"editor.action.transformToLowercase",label:c.localize(24,null),alias:"Transform to Lowercase",precondition:i.EditorContextKeys.writable})}_modifyText(le,V){return le.toLocaleLowerCase()}}e.LowerCaseAction=K;class G{constructor(le,V){this._pattern=le,this._flags=V,this._actual=null,this._evaluated=!1}get(){if(!this._evaluated){this._evaluated=!0;try{this._actual=new RegExp(this._pattern,this._flags)}catch{}}return this._actual}isSupported(){return this.get()!==null}}class Q extends X{constructor(){super({id:"editor.action.transformToTitlecase",label:c.localize(25,null),alias:"Transform to Title Case",precondition:i.EditorContextKeys.writable})}_modifyText(le,V){const $=Q.titleBoundary.get();return $?le.toLocaleLowerCase().replace($,oe=>oe.toLocaleUpperCase()):le}}e.TitleCaseAction=Q,Q.titleBoundary=new G("(^|[^\\p{L}\\p{N}']|((^|\\P{L})'))\\p{L}","gmu");class ne extends X{constructor(){super({id:"editor.action.transformToSnakecase",label:c.localize(26,null),alias:"Transform to Snake Case",precondition:i.EditorContextKeys.writable})}_modifyText(le,V){const $=ne.caseBoundary.get(),oe=ne.singleLetters.get();return!$||!oe?le:le.replace($,"$1_$2").replace(oe,"$1_$2$3").toLocaleLowerCase()}}e.SnakeCaseAction=ne,ne.caseBoundary=new G("(\\p{Ll})(\\p{Lu})","gmu"),ne.singleLetters=new G("(\\p{Lu}|\\p{N})(\\p{Lu})(\\p{Ll})","gmu");class Z extends X{static isSupported(){return[this.caseBoundary,this.singleLetters,this.underscoreBoundary].every(V=>V.isSupported())}constructor(){super({id:"editor.action.transformToKebabcase",label:c.localize(27,null),alias:"Transform to Kebab Case",precondition:i.EditorContextKeys.writable})}_modifyText(le,V){const $=Z.caseBoundary.get(),oe=Z.singleLetters.get(),U=Z.underscoreBoundary.get();return!$||!oe||!U?le:le.replace(U,"$1-$3").replace($,"$1-$2").replace(oe,"$1-$2").toLocaleLowerCase()}}e.KebabCaseAction=Z,Z.caseBoundary=new G("(\\p{Ll})(\\p{Lu})","gmu"),Z.singleLetters=new G("(\\p{Lu}|\\p{N})(\\p{Lu}\\p{Ll})","gmu"),Z.underscoreBoundary=new G("(\\S)(_)(\\S)","gm"),(0,k.registerEditorAction)(a),(0,k.registerEditorAction)(u),(0,k.registerEditorAction)(p),(0,k.registerEditorAction)(f),(0,k.registerEditorAction)(v),(0,k.registerEditorAction)(y),(0,k.registerEditorAction)(E),(0,k.registerEditorAction)(T),(0,k.registerEditorAction)(I),(0,k.registerEditorAction)(R),(0,k.registerEditorAction)(F),(0,k.registerEditorAction)(O),(0,k.registerEditorAction)(M),(0,k.registerEditorAction)(N),(0,k.registerEditorAction)(B),(0,k.registerEditorAction)(W),(0,k.registerEditorAction)(x),(0,k.registerEditorAction)(P),(0,k.registerEditorAction)(ie),(0,k.registerEditorAction)(K),ne.caseBoundary.isSupported()&&ne.singleLetters.isSupported()&&(0,k.registerEditorAction)(ne),Q.titleBoundary.isSupported()&&(0,k.registerEditorAction)(Q),Z.isSupported()&&(0,k.registerEditorAction)(Z)}),define(se[146],re([1,0,50,10,2,13,3,602,15,394]),function(q,e,w,m,k,D,L,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MessageController=void 0;let h=class ai{static get(n){return n.getContribution(ai.ID)}constructor(n,o){this._messageWidget=new k.MutableDisposable,this._messageListeners=new k.DisposableStore,this._editor=n,this._visible=ai.MESSAGE_VISIBLE.bindTo(o)}dispose(){this._messageListeners.dispose(),this._messageWidget.dispose(),this._visible.reset()}showMessage(n,o){(0,w.alert)(n),this._visible.set(!0),this._messageWidget.clear(),this._messageListeners.clear(),this._messageWidget.value=new t(this._editor,o,n),this._messageListeners.add(this._editor.onDidBlurEditorText(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeCursorPosition(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidDispose(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeModel(()=>this.closeMessage())),this._messageListeners.add(new m.TimeoutTimer(()=>this.closeMessage(),3e3));let l;this._messageListeners.add(this._editor.onMouseMove(c=>{!c.target.position||(l?l.containsPosition(c.target.position)||this.closeMessage():l=new L.Range(o.lineNumber-3,1,c.target.position.lineNumber+3,1))}))}closeMessage(){this._visible.reset(),this._messageListeners.clear(),this._messageWidget.value&&this._messageListeners.add(t.fadeOut(this._messageWidget.value))}};h.ID="editor.contrib.messageController",h.MESSAGE_VISIBLE=new C.RawContextKey("messageVisible",!1,b.localize(0,null)),h=De([fe(1,C.IContextKeyService)],h),e.MessageController=h;const g=D.EditorCommand.bindToContribution(h.get);(0,D.registerEditorCommand)(new g({id:"leaveEditorMessage",precondition:h.MESSAGE_VISIBLE,handler:i=>i.closeMessage(),kbOpts:{weight:100+30,primary:9}}));class t{static fadeOut(n){const o=()=>{n.dispose(),clearTimeout(l),n.getDomNode().removeEventListener("animationend",o)},l=setTimeout(o,110);return n.getDomNode().addEventListener("animationend",o),n.getDomNode().classList.add("fadeOut"),{dispose:o}}constructor(n,{lineNumber:o,column:l},c){this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._editor=n,this._editor.revealLinesInCenterIfOutsideViewport(o,o,0),this._position={lineNumber:o,column:l},this._domNode=document.createElement("div"),this._domNode.classList.add("monaco-editor-overlaymessage"),this._domNode.style.marginLeft="-6px";const d=document.createElement("div");d.classList.add("anchor","top"),this._domNode.appendChild(d);const r=document.createElement("div");r.classList.add("message"),r.textContent=c,this._domNode.appendChild(r);const s=document.createElement("div");s.classList.add("anchor","below"),this._domNode.appendChild(s),this._editor.addContentWidget(this),this._domNode.classList.add("fadeIn")}dispose(){this._editor.removeContentWidget(this)}getId(){return"messageoverlay"}getDomNode(){return this._domNode}getPosition(){return{position:this._position,preference:[1,2],positionAffinity:1}}afterRender(n){this._domNode.classList.toggle("below",n===2)}}(0,D.registerEditorContribution)(h.ID,h)});var ti=this&&this.__classPrivateFieldSet||function(q,e,w,m,k){if(m==="m")throw new TypeError("Private method is not writable");if(m==="a"&&!k)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?q!==e||!k:!e.has(q))throw new TypeError("Cannot write private member to an object whose class did not declare it");return m==="a"?k.call(q,w):k?k.value=w:e.set(q,w),w},Rt=this&&this.__classPrivateFieldGet||function(q,e,w,m){if(w==="a"&&!m)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?q!==e||!m:!e.has(q))throw new TypeError("Cannot read private member from an object whose class did not declare it");return w==="m"?m:w==="a"?m.call(q):m?m.value:e.get(q)};define(se[734],re([1,0,7,14,125,2,11,146,30,15,9,308,705]),function(q,e,w,m,k,D,L,b,C,h,g,t,i){"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionUi=void 0;let o=class extends D.Disposable{constructor(c,d,r,s,a,u,p){super(),this._editor=c,this.delegate=s,this._configurationService=a,this._contextKeyService=u,this._instantiationService=p,this._activeCodeActions=this._register(new D.MutableDisposable),n.set(this,!1),this._lightBulbWidget=new k.Lazy(()=>{const S=this._register(p.createInstance(i.LightBulbWidget,this._editor,d,r));return this._register(S.onClick(f=>this.showCodeActionList(f.trigger,f.actions,f,{includeDisabledActions:!1,fromLightbulb:!0,showHeaders:this.shouldShowHeaders()}))),S}),this._register(this._editor.onDidLayoutChange(()=>{var S;return(S=t.CodeActionWidget.INSTANCE)===null||S===void 0?void 0:S.hide()}))}dispose(){ti(this,n,!0,"f"),super.dispose()}update(c){var d,r,s,a,u,p;return Se(this,void 0,void 0,function*(){if(c.type!==1){(d=this._lightBulbWidget.rawValue)===null||d===void 0||d.hide();return}let S;try{S=yield c.actions}catch(f){(0,m.onUnexpectedError)(f);return}if(!Rt(this,n,"f"))if(this._lightBulbWidget.getValue().update(S,c.trigger,c.position),c.trigger.type===1){if(!((r=c.trigger.filter)===null||r===void 0)&&r.include){const v=this.tryGetValidActionToApply(c.trigger,S);if(v){try{this._lightBulbWidget.getValue().hide(),yield this.delegate.applyCodeAction(v,!1,!1)}finally{S.dispose()}return}if(c.trigger.context){const _=this.getInvalidActionThatWouldHaveBeenApplied(c.trigger,S);if(_&&_.action.disabled){(s=b.MessageController.get(this._editor))===null||s===void 0||s.showMessage(_.action.disabled,c.trigger.context.position),S.dispose();return}}}const f=!!(!((a=c.trigger.filter)===null||a===void 0)&&a.include);if(c.trigger.context&&(!S.allActions.length||!f&&!S.validActions.length)){(u=b.MessageController.get(this._editor))===null||u===void 0||u.showMessage(c.trigger.context.notAvailableMessage,c.trigger.context.position),this._activeCodeActions.value=S,S.dispose();return}this._activeCodeActions.value=S,this.showCodeActionList(c.trigger,S,this.toCoords(c.position),{includeDisabledActions:f,fromLightbulb:!1,showHeaders:this.shouldShowHeaders()})}else!((p=t.CodeActionWidget.INSTANCE)===null||p===void 0)&&p.isVisible?S.dispose():this._activeCodeActions.value=S})}getInvalidActionThatWouldHaveBeenApplied(c,d){if(!!d.allActions.length&&(c.autoApply==="first"&&d.validActions.length===0||c.autoApply==="ifSingle"&&d.allActions.length===1))return d.allActions.find(({action:r})=>r.disabled)}tryGetValidActionToApply(c,d){if(!!d.validActions.length&&(c.autoApply==="first"&&d.validActions.length>0||c.autoApply==="ifSingle"&&d.validActions.length===1))return d.validActions[0]}showCodeActionList(c,d,r,s){return Se(this,void 0,void 0,function*(){const a=this._editor.getDomNode();if(!a)return;const u=L.Position.isIPosition(r)?this.toCoords(r):r;t.CodeActionWidget.getOrCreateInstance(this._instantiationService).show(c,d,u,a,Object.assign(Object.assign({},s),{showHeaders:this.shouldShowHeaders()}),{onSelectCodeAction:(p,S,f)=>Se(this,void 0,void 0,function*(){this.delegate.applyCodeAction(p,!0,Boolean(f.preview||S.preview))}),onHide:()=>{var p;(p=this._editor)===null||p===void 0||p.focus()}},this._contextKeyService)})}toCoords(c){if(!this._editor.hasModel())return{x:0,y:0};this._editor.revealPosition(c,1),this._editor.render();const d=this._editor.getScrolledVisiblePosition(c),r=(0,w.getDomNodePagePosition)(this._editor.getDomNode()),s=r.left+d.left,a=r.top+d.top+d.height;return{x:s,y:a}}shouldShowHeaders(){var c;const d=(c=this._editor)===null||c===void 0?void 0:c.getModel();return this._configurationService.getValue("editor.codeActionWidget.showHeaders",{resource:d?.uri})}};n=new WeakMap,o=De([fe(4,C.IConfigurationService),fe(5,h.IContextKeyService),fe(6,g.IInstantiationService)],o),e.CodeActionUi=o}),define(se[311],re([1,0,125,2,8,13,25,20,145,734,308,146,561,32,15,9,87,67,725,115]),function(q,e,w,m,k,D,L,b,C,h,g,t,i,n,o,l,c,d,r,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AutoFixAction=e.FixAllAction=e.OrganizeImportsAction=e.SourceAction=e.RefactorPreview=e.RefactorAction=e.CodeActionCommand=e.QuickFixAction=e.CodeActionController=void 0;function a(M){return o.ContextKeyExpr.regex(r.SUPPORTED_CODE_ACTIONS.keys()[0],new RegExp("(\\s|^)"+(0,k.escapeRegExpCharacters)(M.value)+"\\b"))}function u(M,N,A,B){const W=s.CodeActionCommandArgs.fromUser(N,{kind:s.CodeActionKind.Refactor,apply:"never"});return f(M,typeof N?.kind=="string"?W.preferred?i.localize(0,null,N.kind):i.localize(1,null,N.kind):W.preferred?i.localize(2,null):i.localize(3,null),{include:s.CodeActionKind.Refactor.contains(W.kind)?W.kind:s.CodeActionKind.None,onlyIncludePreferredActions:W.preferred},W.apply,A,B)}const p={type:"object",defaultSnippets:[{body:{kind:""}}],properties:{kind:{type:"string",description:i.localize(4,null)},apply:{type:"string",description:i.localize(5,null),default:"ifSingle",enum:["first","ifSingle","never"],enumDescriptions:[i.localize(6,null),i.localize(7,null),i.localize(8,null)]},preferred:{type:"boolean",default:!1,description:i.localize(9,null)}}};let S=class Oi extends m.Disposable{static get(N){return N.getContribution(Oi.ID)}constructor(N,A,B,W,x,P){super(),this._instantiationService=x,this._editor=N,this._model=this._register(new r.CodeActionModel(this._editor,P.codeActionProvider,A,B,W)),this._register(this._model.onDidChangeState(X=>this.update(X))),this._ui=new w.Lazy(()=>this._register(x.createInstance(h.CodeActionUi,N,v.Id,F.Id,{applyCodeAction:(X,ie,K)=>Se(this,void 0,void 0,function*(){try{yield this._applyCodeAction(X,K)}finally{ie&&this._trigger({type:2,triggerAction:s.CodeActionTriggerSource.QuickFix,filter:{}})}})})))}update(N){this._ui.getValue().update(N)}showCodeActions(N,A,B){return this._ui.getValue().showCodeActionList(N,A,B,{includeDisabledActions:!1,fromLightbulb:!1})}manualTriggerAtCurrentPosition(N,A,B,W,x){var P;if(!this._editor.hasModel())return;(P=t.MessageController.get(this._editor))===null||P===void 0||P.closeMessage();const X=this._editor.getPosition();this._trigger({type:1,triggerAction:A,filter:B,autoApply:W,context:{notAvailableMessage:N,position:X},preview:x})}_trigger(N){return this._model.trigger(N)}_applyCodeAction(N,A){return this._instantiationService.invokeFunction(C.applyCodeAction,N,C.ApplyCodeActionReason.FromCodeActions,{preview:A,editor:this._editor})}};S.ID="editor.contrib.codeActionController",S=De([fe(1,c.IMarkerService),fe(2,o.IContextKeyService),fe(3,d.IEditorProgressService),fe(4,l.IInstantiationService),fe(5,b.ILanguageFeaturesService)],S),e.CodeActionController=S;function f(M,N,A,B,W=!1,x=s.CodeActionTriggerSource.Default){if(M.hasModel()){const P=S.get(M);P?.manualTriggerAtCurrentPosition(N,x,A,B,W)}}class v extends D.EditorAction{constructor(){super({id:v.Id,label:i.localize(10,null),alias:"Quick Fix...",precondition:o.ContextKeyExpr.and(L.EditorContextKeys.writable,L.EditorContextKeys.hasCodeActionsProvider),kbOpts:{kbExpr:L.EditorContextKeys.editorTextFocus,primary:2132,weight:100}})}run(N,A){return f(A,i.localize(11,null),void 0,void 0,!1,s.CodeActionTriggerSource.QuickFix)}}e.QuickFixAction=v,v.Id="editor.action.quickFix";class _ extends D.EditorCommand{constructor(){super({id:C.codeActionCommandId,precondition:o.ContextKeyExpr.and(L.EditorContextKeys.writable,L.EditorContextKeys.hasCodeActionsProvider),description:{description:"Trigger a code action",args:[{name:"args",schema:p}]}})}runEditorCommand(N,A,B){const W=s.CodeActionCommandArgs.fromUser(B,{kind:s.CodeActionKind.Empty,apply:"ifSingle"});return f(A,typeof B?.kind=="string"?W.preferred?i.localize(12,null,B.kind):i.localize(13,null,B.kind):W.preferred?i.localize(14,null):i.localize(15,null),{include:W.kind,includeSourceActions:!0,onlyIncludePreferredActions:W.preferred},W.apply)}}e.CodeActionCommand=_;class y extends D.EditorAction{constructor(){super({id:C.refactorCommandId,label:i.localize(16,null),alias:"Refactor...",precondition:o.ContextKeyExpr.and(L.EditorContextKeys.writable,L.EditorContextKeys.hasCodeActionsProvider),kbOpts:{kbExpr:L.EditorContextKeys.editorTextFocus,primary:3120,mac:{primary:1328},weight:100},contextMenuOpts:{group:"1_modification",order:2,when:o.ContextKeyExpr.and(L.EditorContextKeys.writable,a(s.CodeActionKind.Refactor))},description:{description:"Refactor...",args:[{name:"args",schema:p}]}})}run(N,A,B){return u(A,B,!1,s.CodeActionTriggerSource.Refactor)}}e.RefactorAction=y;class E extends D.EditorAction{constructor(){super({id:C.refactorPreviewCommandId,label:i.localize(17,null),alias:"Refactor Preview...",precondition:o.ContextKeyExpr.and(L.EditorContextKeys.writable,L.EditorContextKeys.hasCodeActionsProvider),description:{description:"Refactor Preview...",args:[{name:"args",schema:p}]}})}run(N,A,B){return u(A,B,!0,s.CodeActionTriggerSource.RefactorPreview)}}e.RefactorPreview=E;class T extends D.EditorAction{constructor(){super({id:C.sourceActionCommandId,label:i.localize(18,null),alias:"Source Action...",precondition:o.ContextKeyExpr.and(L.EditorContextKeys.writable,L.EditorContextKeys.hasCodeActionsProvider),contextMenuOpts:{group:"1_modification",order:2.1,when:o.ContextKeyExpr.and(L.EditorContextKeys.writable,a(s.CodeActionKind.Source))},description:{description:"Source Action...",args:[{name:"args",schema:p}]}})}run(N,A,B){const W=s.CodeActionCommandArgs.fromUser(B,{kind:s.CodeActionKind.Source,apply:"never"});return f(A,typeof B?.kind=="string"?W.preferred?i.localize(19,null,B.kind):i.localize(20,null,B.kind):W.preferred?i.localize(21,null):i.localize(22,null),{include:s.CodeActionKind.Source.contains(W.kind)?W.kind:s.CodeActionKind.None,includeSourceActions:!0,onlyIncludePreferredActions:W.preferred},W.apply,void 0,s.CodeActionTriggerSource.SourceAction)}}e.SourceAction=T;class I extends D.EditorAction{constructor(){super({id:C.organizeImportsCommandId,label:i.localize(23,null),alias:"Organize Imports",precondition:o.ContextKeyExpr.and(L.EditorContextKeys.writable,a(s.CodeActionKind.SourceOrganizeImports)),kbOpts:{kbExpr:L.EditorContextKeys.editorTextFocus,primary:1581,weight:100}})}run(N,A){return f(A,i.localize(24,null),{include:s.CodeActionKind.SourceOrganizeImports,includeSourceActions:!0},"ifSingle",void 0,s.CodeActionTriggerSource.OrganizeImports)}}e.OrganizeImportsAction=I;class R extends D.EditorAction{constructor(){super({id:C.fixAllCommandId,label:i.localize(25,null),alias:"Fix All",precondition:o.ContextKeyExpr.and(L.EditorContextKeys.writable,a(s.CodeActionKind.SourceFixAll))})}run(N,A){return f(A,i.localize(26,null),{include:s.CodeActionKind.SourceFixAll,includeSourceActions:!0},"ifSingle",void 0,s.CodeActionTriggerSource.FixAll)}}e.FixAllAction=R;class F extends D.EditorAction{constructor(){super({id:F.Id,label:i.localize(27,null),alias:"Auto Fix...",precondition:o.ContextKeyExpr.and(L.EditorContextKeys.writable,a(s.CodeActionKind.QuickFix)),kbOpts:{kbExpr:L.EditorContextKeys.editorTextFocus,primary:1620,mac:{primary:2644},weight:100}})}run(N,A){return f(A,i.localize(28,null),{include:s.CodeActionKind.QuickFix,onlyIncludePreferredActions:!0},"ifSingle",void 0,s.CodeActionTriggerSource.AutoFix)}}e.AutoFixAction=F,F.Id="editor.action.autoFix";const O=100+1e3;(0,n.registerAction2)(class extends n.Action2{constructor(){super({id:"hideCodeActionWidget",title:{value:i.localize(29,null),original:"Hide code action widget"},precondition:g.Context.Visible,keybinding:{weight:O,primary:9,secondary:[1033]}})}run(){var M;(M=g.CodeActionWidget.INSTANCE)===null||M===void 0||M.hide()}}),(0,n.registerAction2)(class extends n.Action2{constructor(){super({id:"selectPrevCodeAction",title:{value:i.localize(30,null),original:"Select previous code action"},precondition:g.Context.Visible,keybinding:{weight:O,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}})}run(){var M;(M=g.CodeActionWidget.INSTANCE)===null||M===void 0||M.focusPrevious()}}),(0,n.registerAction2)(class extends n.Action2{constructor(){super({id:"selectNextCodeAction",title:{value:i.localize(31,null),original:"Select next code action"},precondition:g.Context.Visible,keybinding:{weight:O,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}})}run(){var M;(M=g.CodeActionWidget.INSTANCE)===null||M===void 0||M.focusNext()}}),(0,n.registerAction2)(class extends n.Action2{constructor(){super({id:C.acceptSelectedCodeActionCommand,title:{value:i.localize(32,null),original:"Accept selected code action"},precondition:g.Context.Visible,keybinding:{weight:O,primary:3,secondary:[2132]}})}run(){var M;(M=g.CodeActionWidget.INSTANCE)===null||M===void 0||M.acceptSelected()}}),(0,n.registerAction2)(class extends n.Action2{constructor(){super({id:C.previewSelectedCodeActionCommand,title:{value:i.localize(33,null),original:"Preview selected code action"},precondition:g.Context.Visible,keybinding:{weight:O,primary:2051}})}run(){var M;(M=g.CodeActionWidget.INSTANCE)===null||M===void 0||M.acceptSelected({preview:!0})}})}),define(se[735],re([1,0,13,217,311,562,89,33]),function(q,e,w,m,k,D,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,w.registerEditorContribution)(k.CodeActionController.ID,k.CodeActionController),(0,w.registerEditorAction)(k.QuickFixAction),(0,w.registerEditorAction)(k.RefactorAction),(0,w.registerEditorAction)(k.RefactorPreview),(0,w.registerEditorAction)(k.SourceAction),(0,w.registerEditorAction)(k.OrganizeImportsAction),(0,w.registerEditorAction)(k.AutoFixAction),(0,w.registerEditorAction)(k.FixAllAction),(0,w.registerEditorCommand)(new k.CodeActionCommand),b.Registry.as(L.Extensions.Configuration).registerConfiguration(Object.assign(Object.assign({},m.editorConfigurationBaseNode),{properties:{"editor.codeActionWidget.showHeaders":{type:"boolean",scope:5,description:D.localize(0,null),default:!0}}}))}),define(se[736],re([1,0,2,13,146,609]),function(q,e,w,m,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReadOnlyMessageController=void 0;class L extends w.Disposable{constructor(C){super(),this.editor=C,this._register(this.editor.onDidAttemptReadOnlyEdit(()=>this._onDidAttemptReadOnlyEdit()))}_onDidAttemptReadOnlyEdit(){const C=k.MessageController.get(this.editor);C&&this.editor.hasModel()&&(this.editor.isSimpleWidget?C.showMessage(D.localize(0,null),this.editor.getPosition()):C.showMessage(D.localize(1,null),this.editor.getPosition()))}}e.ReadOnlyMessageController=L,L.ID="editor.contrib.readOnlyMessageController",(0,m.registerEditorContribution)(L.ID,L)}),define(se[737],re([1,0,50,10,21,14,2,19,22,97,13,141,29,11,3,25,168,146,610,89,15,9,72,40,67,33,711,20]),function(q,e,w,m,k,D,L,b,C,h,g,t,i,n,o,l,c,d,r,s,a,u,p,S,f,v,_,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RenameAction=e.rename=void 0;class E{constructor(M,N,A){this.model=M,this.position=N,this._providerRenameIdx=0,this._providers=A.ordered(M)}hasProvider(){return this._providers.length>0}resolveRenameLocation(M){return Se(this,void 0,void 0,function*(){const N=[];for(this._providerRenameIdx=0;this._providerRenameIdx<this._providers.length;this._providerRenameIdx++){const B=this._providers[this._providerRenameIdx];if(!B.resolveRenameLocation)break;const W=yield B.resolveRenameLocation(this.model,this.position,M);if(!!W){if(W.rejectReason){N.push(W.rejectReason);continue}return W}}const A=this.model.getWordAtPosition(this.position);return A?{range:new o.Range(this.position.lineNumber,A.startColumn,this.position.lineNumber,A.endColumn),text:A.word,rejectReason:N.length>0?N.join(`
`):void 0}:{range:o.Range.fromPositions(this.position),text:"",rejectReason:N.length>0?N.join(`
`):void 0}})}provideRenameEdits(M,N){return Se(this,void 0,void 0,function*(){return this._provideRenameEdits(M,this._providerRenameIdx,[],N)})}_provideRenameEdits(M,N,A,B){return Se(this,void 0,void 0,function*(){const W=this._providers[N];if(!W)return{edits:[],rejectReason:A.join(`
`)};const x=yield W.provideRenameEdits(this.model,this.position,M,B);if(x){if(x.rejectReason)return this._provideRenameEdits(M,N+1,A.concat(x.rejectReason),B)}else return this._provideRenameEdits(M,N+1,A.concat(r.localize(0,null)),B);return x})}}function T(O,M,N,A){return Se(this,void 0,void 0,function*(){const B=new E(M,N,O),W=yield B.resolveRenameLocation(k.CancellationToken.None);return W?.rejectReason?{edits:[],rejectReason:W.rejectReason}:B.provideRenameEdits(A,k.CancellationToken.None)})}e.rename=T;let I=class Fi{static get(M){return M.getContribution(Fi.ID)}constructor(M,N,A,B,W,x,P,X){this.editor=M,this._instaService=N,this._notificationService=A,this._bulkEditService=B,this._progressService=W,this._logService=x,this._configService=P,this._languageFeaturesService=X,this._disposableStore=new L.DisposableStore,this._cts=new k.CancellationTokenSource,this._renameInputField=this._disposableStore.add(new m.IdleValue(()=>this._disposableStore.add(this._instaService.createInstance(_.RenameInputField,this.editor,["acceptRenameInput","acceptRenameInputWithPreview"]))))}dispose(){this._disposableStore.dispose(),this._cts.dispose(!0)}run(){var M,N;return Se(this,void 0,void 0,function*(){if(this._cts.dispose(!0),!this.editor.hasModel())return;const A=this.editor.getPosition(),B=new E(this.editor.getModel(),A,this._languageFeaturesService.renameProvider);if(!B.hasProvider())return;this._cts=new h.EditorStateCancellationTokenSource(this.editor,5);let W;try{const Q=B.resolveRenameLocation(this._cts.token);this._progressService.showWhile(Q,250),W=yield Q}catch(Q){(M=d.MessageController.get(this.editor))===null||M===void 0||M.showMessage(Q||r.localize(1,null),A);return}if(!W)return;if(W.rejectReason){(N=d.MessageController.get(this.editor))===null||N===void 0||N.showMessage(W.rejectReason,A);return}if(this._cts.token.isCancellationRequested)return;this._cts.dispose(),this._cts=new h.EditorStateCancellationTokenSource(this.editor,5,W.range);const x=this.editor.getSelection();let P=0,X=W.text.length;!o.Range.isEmpty(x)&&!o.Range.spansMultipleLines(x)&&o.Range.containsRange(W.range,x)&&(P=Math.max(0,x.startColumn-W.range.startColumn),X=Math.min(W.range.endColumn,x.endColumn)-W.range.startColumn);const ie=this._bulkEditService.hasPreviewHandler()&&this._configService.getValue(this.editor.getModel().uri,"editor.rename.enablePreview"),K=yield this._renameInputField.value.getInput(W.range,W.text,P,X,ie,this._cts.token);if(typeof K=="boolean"){K&&this.editor.focus();return}this.editor.focus();const G=(0,m.raceCancellation)(B.provideRenameEdits(K.newName,this._cts.token),this._cts.token).then(Q=>Se(this,void 0,void 0,function*(){if(!(!Q||!this.editor.hasModel())){if(Q.rejectReason){this._notificationService.info(Q.rejectReason);return}this.editor.setSelection(o.Range.fromPositions(this.editor.getSelection().getPosition())),this._bulkEditService.apply(Q,{editor:this.editor,showPreview:K.wantsPreview,label:r.localize(2,null,W?.text,K.newName),code:"undoredo.rename",quotableLabel:r.localize(3,null,W?.text,K.newName),respectAutoSaveConfig:!0}).then(ne=>{ne.ariaSummary&&(0,w.alert)(r.localize(4,null,W.text,K.newName,ne.ariaSummary))}).catch(ne=>{this._notificationService.error(r.localize(5,null)),this._logService.error(ne)})}}),Q=>{this._notificationService.error(r.localize(6,null)),this._logService.error(Q)});return this._progressService.showWhile(G,250),G})}acceptRenameInput(M){this._renameInputField.value.acceptInput(M)}cancelRenameInput(){this._renameInputField.value.cancelInput(!0)}};I.ID="editor.contrib.renameController",I=De([fe(1,u.IInstantiationService),fe(2,S.INotificationService),fe(3,t.IBulkEditService),fe(4,f.IEditorProgressService),fe(5,p.ILogService),fe(6,c.ITextResourceConfigurationService),fe(7,y.ILanguageFeaturesService)],I);class R extends g.EditorAction{constructor(){super({id:"editor.action.rename",label:r.localize(7,null),alias:"Rename Symbol",precondition:a.ContextKeyExpr.and(l.EditorContextKeys.writable,l.EditorContextKeys.hasRenameProvider),kbOpts:{kbExpr:l.EditorContextKeys.editorTextFocus,primary:60,weight:100},contextMenuOpts:{group:"1_modification",order:1.1}})}runCommand(M,N){const A=M.get(i.ICodeEditorService),[B,W]=Array.isArray(N)&&N||[void 0,void 0];return C.URI.isUri(B)&&n.Position.isIPosition(W)?A.openCodeEditor({resource:B},A.getActiveCodeEditor()).then(x=>{!x||(x.setPosition(W),x.invokeWithinContext(P=>(this.reportTelemetry(P,x),this.run(P,x))))},D.onUnexpectedError):super.runCommand(M,N)}run(M,N){const A=I.get(N);return A?A.run():Promise.resolve()}}e.RenameAction=R,(0,g.registerEditorContribution)(I.ID,I),(0,g.registerEditorAction)(R);const F=g.EditorCommand.bindToContribution(I.get);(0,g.registerEditorCommand)(new F({id:"acceptRenameInput",precondition:_.CONTEXT_RENAME_INPUT_VISIBLE,handler:O=>O.acceptRenameInput(!1),kbOpts:{weight:100+99,kbExpr:l.EditorContextKeys.focus,primary:3}})),(0,g.registerEditorCommand)(new F({id:"acceptRenameInputWithPreview",precondition:a.ContextKeyExpr.and(_.CONTEXT_RENAME_INPUT_VISIBLE,a.ContextKeyExpr.has("config.editor.rename.enablePreview")),handler:O=>O.acceptRenameInput(!0),kbOpts:{weight:100+99,kbExpr:l.EditorContextKeys.focus,primary:1024+3}})),(0,g.registerEditorCommand)(new F({id:"cancelRenameInput",precondition:_.CONTEXT_RENAME_INPUT_VISIBLE,handler:O=>O.cancelRenameInput(),kbOpts:{weight:100+99,kbExpr:l.EditorContextKeys.focus,primary:9,secondary:[1033]}})),(0,g.registerModelAndPositionCommand)("_executeDocumentRenameProvider",function(O,M,N,...A){const[B]=A;(0,b.assertType)(typeof B=="string");const{renameProvider:W}=O.get(y.ILanguageFeaturesService);return T(W,M,N,B)}),(0,g.registerModelAndPositionCommand)("_executePrepareRename",function(O,M,N){return Se(this,void 0,void 0,function*(){const{renameProvider:A}=O.get(y.ILanguageFeaturesService),W=yield new E(M,N,A).resolveRenameLocation(k.CancellationToken.None);if(W?.rejectReason)throw new Error(W.rejectReason);return W})}),v.Registry.as(s.Extensions.Configuration).registerConfiguration({id:"editor",properties:{"editor.rename.enablePreview":{scope:5,description:r.localize(8,null),default:!0,type:"boolean"}}})}),define(se[738],re([1,0,18,21,14,13,11,3,24,25,254,473,612,32,26,20,61,19,22]),function(q,e,w,m,k,D,L,b,C,h,g,t,i,n,o,l,c,d,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.provideSelectionRanges=void 0;class s{constructor(_,y){this.index=_,this.ranges=y}mov(_){const y=this.index+(_?1:-1);if(y<0||y>=this.ranges.length)return this;const E=new s(y,this.ranges);return E.ranges[y].equalsRange(this.ranges[this.index])?E.mov(_):E}}let a=class Bi{static get(_){return _.getContribution(Bi.ID)}constructor(_,y){this._editor=_,this._languageFeaturesService=y,this._ignoreSelection=!1}dispose(){var _;(_=this._selectionListener)===null||_===void 0||_.dispose()}run(_){return Se(this,void 0,void 0,function*(){if(!this._editor.hasModel())return;const y=this._editor.getSelections(),E=this._editor.getModel();if(this._state||(yield f(this._languageFeaturesService.selectionRangeProvider,E,y.map(I=>I.getPosition()),this._editor.getOption(103),m.CancellationToken.None).then(I=>{var R;if(!(!w.isNonEmptyArray(I)||I.length!==y.length)&&!(!this._editor.hasModel()||!w.equals(this._editor.getSelections(),y,(F,O)=>F.equalsSelection(O)))){for(let F=0;F<I.length;F++)I[F]=I[F].filter(O=>O.containsPosition(y[F].getStartPosition())&&O.containsPosition(y[F].getEndPosition())),I[F].unshift(y[F]);this._state=I.map(F=>new s(0,F)),(R=this._selectionListener)===null||R===void 0||R.dispose(),this._selectionListener=this._editor.onDidChangeCursorPosition(()=>{var F;this._ignoreSelection||((F=this._selectionListener)===null||F===void 0||F.dispose(),this._state=void 0)})}})),!this._state)return;this._state=this._state.map(I=>I.mov(_));const T=this._state.map(I=>C.Selection.fromPositions(I.ranges[I.index].getStartPosition(),I.ranges[I.index].getEndPosition()));this._ignoreSelection=!0;try{this._editor.setSelections(T)}finally{this._ignoreSelection=!1}})}};a.ID="editor.contrib.smartSelectController",a=De([fe(1,l.ILanguageFeaturesService)],a);class u extends D.EditorAction{constructor(_,y){super(y),this._forward=_}run(_,y){return Se(this,void 0,void 0,function*(){const E=a.get(y);E&&(yield E.run(this._forward))})}}class p extends u{constructor(){super(!0,{id:"editor.action.smartSelect.expand",label:i.localize(0,null),alias:"Expand Selection",precondition:void 0,kbOpts:{kbExpr:h.EditorContextKeys.editorTextFocus,primary:1553,mac:{primary:3345,secondary:[1297]},weight:100},menuOpts:{menuId:n.MenuId.MenubarSelectionMenu,group:"1_basic",title:i.localize(1,null),order:2}})}}o.CommandsRegistry.registerCommandAlias("editor.action.smartSelect.grow","editor.action.smartSelect.expand");class S extends u{constructor(){super(!1,{id:"editor.action.smartSelect.shrink",label:i.localize(2,null),alias:"Shrink Selection",precondition:void 0,kbOpts:{kbExpr:h.EditorContextKeys.editorTextFocus,primary:1551,mac:{primary:3343,secondary:[1295]},weight:100},menuOpts:{menuId:n.MenuId.MenubarSelectionMenu,group:"1_basic",title:i.localize(3,null),order:3}})}}(0,D.registerEditorContribution)(a.ID,a),(0,D.registerEditorAction)(p),(0,D.registerEditorAction)(S);function f(v,_,y,E,T){return Se(this,void 0,void 0,function*(){const I=v.all(_).concat(new t.WordSelectionRangeProvider);I.length===1&&I.unshift(new g.BracketSelectionRangeProvider);const R=[],F=[];for(const O of I)R.push(Promise.resolve(O.provideSelectionRanges(_,y,T)).then(M=>{if(w.isNonEmptyArray(M)&&M.length===y.length)for(let N=0;N<y.length;N++){F[N]||(F[N]=[]);for(const A of M[N])b.Range.isIRange(A.range)&&b.Range.containsPosition(A.range,y[N])&&F[N].push(b.Range.lift(A.range))}},k.onUnexpectedExternalError));return yield Promise.all(R),F.map(O=>{if(O.length===0)return[];O.sort((B,W)=>L.Position.isBefore(B.getStartPosition(),W.getStartPosition())?1:L.Position.isBefore(W.getStartPosition(),B.getStartPosition())||L.Position.isBefore(B.getEndPosition(),W.getEndPosition())?-1:L.Position.isBefore(W.getEndPosition(),B.getEndPosition())?1:0);const M=[];let N;for(const B of O)(!N||b.Range.containsRange(B,N)&&!b.Range.equalsRange(B,N))&&(M.push(B),N=B);if(!E.selectLeadingAndTrailingWhitespace)return M;const A=[M[0]];for(let B=1;B<M.length;B++){const W=M[B-1],x=M[B];if(x.startLineNumber!==W.startLineNumber||x.endLineNumber!==W.endLineNumber){const P=new b.Range(W.startLineNumber,_.getLineFirstNonWhitespaceColumn(W.startLineNumber),W.endLineNumber,_.getLineLastNonWhitespaceColumn(W.endLineNumber));P.containsRange(W)&&!P.equalsRange(W)&&x.containsRange(P)&&!x.equalsRange(P)&&A.push(P);const X=new b.Range(W.startLineNumber,1,W.endLineNumber,_.getLineMaxColumn(W.endLineNumber));X.containsRange(W)&&!X.equalsRange(P)&&x.containsRange(X)&&!x.equalsRange(X)&&A.push(X)}A.push(x)}return A})})}e.provideSelectionRanges=f,o.CommandsRegistry.registerCommand("_executeSelectionRangeProvider",function(v,..._){return Se(this,void 0,void 0,function*(){const[y,E]=_;(0,d.assertType)(r.URI.isUri(y));const T=v.get(l.ILanguageFeaturesService).selectionRangeProvider,I=yield v.get(c.ITextModelService).createModelReference(y);try{return f(T,I.object.textEditorModel,E,{selectLeadingAndTrailingWhitespace:!0},m.CancellationToken.None)}finally{I.dispose()}})})}),define(se[739],re([1,0,615,646,32,30,15]),function(q,e,w,m,k,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ToggleStickyScroll=void 0;class b extends k.Action2{constructor(){super({id:"editor.action.toggleStickyScroll",title:{value:(0,w.localize)(0,null),mnemonicTitle:(0,w.localize)(1,null),original:"Toggle Sticky Scroll"},category:m.Categories.View,toggled:{condition:L.ContextKeyExpr.equals("config.editor.stickyScroll.enabled",!0),title:(0,w.localize)(2,null),mnemonicTitle:(0,w.localize)(3,null)},menu:[{id:k.MenuId.CommandPalette},{id:k.MenuId.MenubarEditorFeaturesMenu,order:6},{id:k.MenuId.StickyScrollContext}]})}run(h){return Se(this,void 0,void 0,function*(){const g=h.get(D.IConfigurationService),t=!g.getValue("editor.stickyScroll.enabled");return g.updateValue("editor.stickyScroll.enabled",t)})}}e.ToggleStickyScroll=b}),define(se[104],re([1,0,21,14,62,2,56,19,22,11,3,61,93,616,32,26,15,20,300]),function(q,e,w,m,k,D,L,b,C,h,g,t,i,n,o,l,c,d,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickSuggestionsOptions=e.showSimpleSuggestions=e.getSuggestionComparator=e.provideSuggestionItems=e.CompletionItemModel=e.getSnippetSuggestSupport=e.CompletionOptions=e.CompletionItem=e.suggestWidgetStatusbarMenu=e.Context=void 0,e.Context={Visible:r.historyNavigationVisible,HasFocusedSuggestion:new c.RawContextKey("suggestWidgetHasFocusedSuggestion",!1,(0,n.localize)(0,null)),DetailsVisible:new c.RawContextKey("suggestWidgetDetailsVisible",!1,(0,n.localize)(1,null)),MultipleSuggestions:new c.RawContextKey("suggestWidgetMultipleSuggestions",!1,(0,n.localize)(2,null)),MakesTextEdit:new c.RawContextKey("suggestionMakesTextEdit",!0,(0,n.localize)(3,null)),AcceptSuggestionsOnEnter:new c.RawContextKey("acceptSuggestionOnEnter",!0,(0,n.localize)(4,null)),HasInsertAndReplaceRange:new c.RawContextKey("suggestionHasInsertAndReplaceRange",!1,(0,n.localize)(5,null)),InsertMode:new c.RawContextKey("suggestionInsertMode",void 0,{type:"string",description:(0,n.localize)(6,null)}),CanResolve:new c.RawContextKey("suggestionCanResolve",!1,(0,n.localize)(7,null))},e.suggestWidgetStatusbarMenu=new o.MenuId("suggestWidgetStatusBar");class s{constructor(O,M,N,A){this.position=O,this.completion=M,this.container=N,this.provider=A,this.isInvalid=!1,this.score=k.FuzzyScore.Default,this.distance=0,this.textLabel=typeof M.label=="string"?M.label:M.label.label,this.labelLow=this.textLabel.toLowerCase(),this.isInvalid=!this.textLabel,this.sortTextLow=M.sortText&&M.sortText.toLowerCase(),this.filterTextLow=M.filterText&&M.filterText.toLowerCase(),this.extensionId=M.extensionId,g.Range.isIRange(M.range)?(this.editStart=new h.Position(M.range.startLineNumber,M.range.startColumn),this.editInsertEnd=new h.Position(M.range.endLineNumber,M.range.endColumn),this.editReplaceEnd=new h.Position(M.range.endLineNumber,M.range.endColumn),this.isInvalid=this.isInvalid||g.Range.spansMultipleLines(M.range)||M.range.startLineNumber!==O.lineNumber):(this.editStart=new h.Position(M.range.insert.startLineNumber,M.range.insert.startColumn),this.editInsertEnd=new h.Position(M.range.insert.endLineNumber,M.range.insert.endColumn),this.editReplaceEnd=new h.Position(M.range.replace.endLineNumber,M.range.replace.endColumn),this.isInvalid=this.isInvalid||g.Range.spansMultipleLines(M.range.insert)||g.Range.spansMultipleLines(M.range.replace)||M.range.insert.startLineNumber!==O.lineNumber||M.range.replace.startLineNumber!==O.lineNumber||M.range.insert.startColumn!==M.range.replace.startColumn),typeof A.resolveCompletionItem!="function"&&(this._resolveCache=Promise.resolve(),this._isResolved=!0)}get isResolved(){return!!this._isResolved}resolve(O){return Se(this,void 0,void 0,function*(){if(!this._resolveCache){const M=O.onCancellationRequested(()=>{this._resolveCache=void 0,this._isResolved=!1});this._resolveCache=Promise.resolve(this.provider.resolveCompletionItem(this.completion,O)).then(N=>{Object.assign(this.completion,N),this._isResolved=!0,M.dispose()},N=>{(0,m.isCancellationError)(N)&&(this._resolveCache=void 0,this._isResolved=!1)})}return this._resolveCache})}}e.CompletionItem=s;class a{constructor(O=2,M=new Set,N=new Set,A=!0){this.snippetSortOrder=O,this.kindFilter=M,this.providerFilter=N,this.showDeprecated=A}}e.CompletionOptions=a,a.default=new a;let u;function p(){return u}e.getSnippetSuggestSupport=p;class S{constructor(O,M,N,A){this.items=O,this.needsClipboard=M,this.durations=N,this.disposable=A}}e.CompletionItemModel=S;function f(F,O,M,N=a.default,A={triggerKind:0},B=w.CancellationToken.None){return Se(this,void 0,void 0,function*(){const W=new L.StopWatch(!0);M=M.clone();const x=O.getWordAtPosition(M),P=x?new g.Range(M.lineNumber,x.startColumn,M.lineNumber,x.endColumn):g.Range.fromPositions(M),X={replace:P,insert:P.setEndPosition(M.lineNumber,M.column)},ie=[],K=new D.DisposableStore,G=[];let Q=!1;const ne=(ee,le,V)=>{var $,oe,U;let ae=!1;if(!le)return ae;for(const z of le.suggestions)if(!N.kindFilter.has(z.kind)){if(!N.showDeprecated&&(($=z?.tags)===null||$===void 0?void 0:$.includes(1)))continue;z.range||(z.range=X),z.sortText||(z.sortText=typeof z.label=="string"?z.label:z.label.label),!Q&&z.insertTextRules&&z.insertTextRules&4&&(Q=i.SnippetParser.guessNeedsClipboard(z.insertText)),ie.push(new s(M,z,le,ee)),ae=!0}return(0,D.isDisposable)(le)&&K.add(le),G.push({providerName:(oe=ee._debugDisplayName)!==null&&oe!==void 0?oe:"unknown_provider",elapsedProvider:(U=le.duration)!==null&&U!==void 0?U:-1,elapsedOverall:V.elapsed()}),ae},Z=(()=>Se(this,void 0,void 0,function*(){if(!u||N.kindFilter.has(27)||N.providerFilter.size>0&&!N.providerFilter.has(u))return;const ee=new L.StopWatch(!0),le=yield u.provideCompletionItems(O,M,A,B);ne(u,le,ee)}))();for(const ee of F.orderedGroups(O)){let le=!1;if(yield Promise.all(ee.map(V=>Se(this,void 0,void 0,function*(){if(!(N.providerFilter.size>0&&!N.providerFilter.has(V)))try{const $=new L.StopWatch(!0),oe=yield V.provideCompletionItems(O,M,A,B);le=ne(V,oe,$)||le}catch($){(0,m.onUnexpectedExternalError)($)}}))),le||B.isCancellationRequested)break}return yield Z,B.isCancellationRequested?(K.dispose(),Promise.reject(new m.CancellationError)):new S(ie.sort(T(N.snippetSortOrder)),Q,{entries:G,elapsed:W.elapsed()},K)})}e.provideSuggestionItems=f;function v(F,O){if(F.sortTextLow&&O.sortTextLow){if(F.sortTextLow<O.sortTextLow)return-1;if(F.sortTextLow>O.sortTextLow)return 1}return F.textLabel<O.textLabel?-1:F.textLabel>O.textLabel?1:F.completion.kind-O.completion.kind}function _(F,O){if(F.completion.kind!==O.completion.kind){if(F.completion.kind===27)return-1;if(O.completion.kind===27)return 1}return v(F,O)}function y(F,O){if(F.completion.kind!==O.completion.kind){if(F.completion.kind===27)return 1;if(O.completion.kind===27)return-1}return v(F,O)}const E=new Map;E.set(0,_),E.set(2,y),E.set(1,v);function T(F){return E.get(F)}e.getSuggestionComparator=T,l.CommandsRegistry.registerCommand("_executeCompletionItemProvider",(F,...O)=>Se(void 0,void 0,void 0,function*(){const[M,N,A,B]=O;(0,b.assertType)(C.URI.isUri(M)),(0,b.assertType)(h.Position.isIPosition(N)),(0,b.assertType)(typeof A=="string"||!A),(0,b.assertType)(typeof B=="number"||!B);const{completionProvider:W}=F.get(d.ILanguageFeaturesService),x=yield F.get(t.ITextModelService).createModelReference(M);try{const P={incomplete:!1,suggestions:[]},X=[],ie=yield f(W,x.object.textEditorModel,h.Position.lift(N),void 0,{triggerCharacter:A,triggerKind:A?1:0});for(const K of ie.items)X.length<(B??0)&&X.push(K.resolve(w.CancellationToken.None)),P.incomplete=P.incomplete||K.container.incomplete,P.suggestions.push(K.completion);try{return yield Promise.all(X),P}finally{setTimeout(()=>ie.disposable.dispose(),100)}}finally{x.dispose()}}));function I(F,O){var M;(M=F.getContribution("editor.contrib.suggestController"))===null||M===void 0||M.triggerSuggest(new Set().add(O),void 0,!0)}e.showSimpleSuggestions=I;class R{static isAllOff(O){return O.other==="off"&&O.comments==="off"&&O.strings==="off"}static isAllOn(O){return O.other==="on"&&O.comments==="on"&&O.strings==="on"}static valueFor(O,M){switch(M){case 1:return O.comments;case 2:return O.strings;default:return O.other}}}e.QuickSuggestionsOptions=R}),define(se[740],re([1,0,21,62,55,2,13,29,3,20,160,255,104,301,256,95,9]),function(q,e,w,m,k,D,L,b,C,h,g,t,i,n,o,l,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestInlineCompletions=void 0;class d{constructor(p,S,f,v,_,y){this.range=p,this.insertText=S,this.filterText=f,this.additionalTextEdits=v,this.command=_,this.completion=y}}let r=class extends D.RefCountedDisposable{constructor(p,S,f,v,_,y){super(_.disposable),this.model=p,this.line=S,this.word=f,this.completionModel=v,this._suggestMemoryService=y}canBeReused(p,S,f){return this.model===p&&this.line===S&&this.word.word.length>0&&this.word.startColumn===f.startColumn&&this.word.endColumn<f.endColumn&&this.completionModel.incomplete.size===0}get items(){var p;const S=[],{items:f}=this.completionModel,v=this._suggestMemoryService.select(this.model,{lineNumber:this.line,column:this.word.endColumn+this.completionModel.lineContext.characterCountDelta},f),_=k.Iterable.slice(f,v),y=k.Iterable.slice(f,0,v);let E=5;for(const T of k.Iterable.concat(_,y)){if(T.score===m.FuzzyScore.Default)continue;const I=new C.Range(T.editStart.lineNumber,T.editStart.column,T.editInsertEnd.lineNumber,T.editInsertEnd.column+this.completionModel.lineContext.characterCountDelta),R=T.completion.insertTextRules&&T.completion.insertTextRules&g.CompletionItemInsertTextRule.InsertAsSnippet?{snippet:T.completion.insertText}:T.completion.insertText;S.push(new d(I,R,(p=T.filterTextLow)!==null&&p!==void 0?p:T.labelLow,T.completion.additionalTextEdits,T.completion.command,T)),E-->=0&&T.resolve(w.CancellationToken.None)}return S}};r=De([fe(5,n.ISuggestMemoryService)],r);let s=class{constructor(p,S,f,v){this._getEditorOption=p,this._languageFeatureService=S,this._clipboardService=f,this._suggestMemoryService=v}provideInlineCompletions(p,S,f,v){var _;return Se(this,void 0,void 0,function*(){if(f.selectedSuggestionInfo)return;const y=this._getEditorOption(80,p);if(i.QuickSuggestionsOptions.isAllOff(y))return;p.tokenization.tokenizeIfCheap(S.lineNumber);const E=p.tokenization.getLineTokens(S.lineNumber),T=E.getStandardTokenType(E.findTokenIndexAtOffset(Math.max(S.column-1-1,0)));if(i.QuickSuggestionsOptions.valueFor(y,T)!=="inline")return;let I=p.getWordAtPosition(S),R;if(I?.word||(R=this._getTriggerCharacterInfo(p,S)),!I?.word&&!R||(I||(I=p.getWordUntilPosition(S)),I.endColumn!==S.column))return;let F;const O=p.getValueInRange(new C.Range(S.lineNumber,1,S.lineNumber,S.column));if(!R&&((_=this._lastResult)===null||_===void 0?void 0:_.canBeReused(p,S.lineNumber,I))){const M=new t.LineContext(O,S.column-this._lastResult.word.endColumn);this._lastResult.completionModel.lineContext=M,this._lastResult.acquire(),F=this._lastResult}else{const M=yield(0,i.provideSuggestionItems)(this._languageFeatureService.completionProvider,p,S,new i.CompletionOptions(void 0,void 0,R?.providers),R&&{triggerKind:1,triggerCharacter:R.ch},v);let N;M.needsClipboard&&(N=yield this._clipboardService.readText());const A=new t.CompletionModel(M.items,S.column,new t.LineContext(O,0),o.WordDistance.None,this._getEditorOption(108,p),this._getEditorOption(102,p),{boostFullMatch:!1,firstMatchCanBeWeak:!1},N);F=new r(p,S.lineNumber,I,A,M,this._suggestMemoryService)}return this._lastResult=F,F})}handleItemDidShow(p,S){S.completion.resolve(w.CancellationToken.None)}freeInlineCompletions(p){p.release()}_getTriggerCharacterInfo(p,S){var f;const v=p.getValueInRange(C.Range.fromPositions({lineNumber:S.lineNumber,column:S.column-1},S)),_=new Set;for(const y of this._languageFeatureService.completionProvider.all(p))!((f=y.triggerCharacters)===null||f===void 0)&&f.includes(v)&&_.add(y);if(_.size!==0)return{providers:_,ch:v}}};s=De([fe(1,h.ILanguageFeaturesService),fe(2,l.IClipboardService),fe(3,n.ISuggestMemoryService)],s),e.SuggestInlineCompletions=s;let a=class Nt{constructor(p,S,f,v){if(++Nt._counter===1){const _=v.createInstance(s,(y,E)=>{var T;return((T=f.listCodeEditors().find(R=>R.getModel()===E))!==null&&T!==void 0?T:p).getOption(y)});Nt._disposable=S.inlineCompletionsProvider.register("*",_)}}dispose(){var p;--Nt._counter===0&&((p=Nt._disposable)===null||p===void 0||p.dispose(),Nt._disposable=void 0)}};a._counter=0,a=De([fe(1,h.ILanguageFeaturesService),fe(2,b.ICodeEditorService),fe(3,c.IInstantiationService)],a),(0,L.registerEditorContribution)("suggest.inlineCompletionsProvider",a)}),define(se[312],re([1,0,50,275,13,623]),function(q,e,w,m,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ToggleTabFocusModeAction=void 0;class L extends k.EditorAction{constructor(){super({id:L.ID,label:D.localize(0,null),alias:"Toggle Tab Key Moves Focus",precondition:void 0,kbOpts:{kbExpr:null,primary:2091,mac:{primary:1323},weight:100}})}run(C,h){const t=!m.TabFocus.getTabFocusMode();m.TabFocus.setTabFocusMode(t),t?(0,w.alert)(D.localize(1,null)):(0,w.alert)(D.localize(2,null))}}e.ToggleTabFocusModeAction=L,L.ID="editor.action.toggleTabFocusMode",(0,k.registerEditorAction)(L)}),define(se[741],re([1,0,56,13,624]),function(q,e,w,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class D extends m.EditorAction{constructor(){super({id:"editor.action.forceRetokenize",label:k.localize(0,null),alias:"Developer: Force Retokenize",precondition:void 0})}run(b,C){if(!C.hasModel())return;const h=C.getModel();h.tokenization.resetTokenization();const g=new w.StopWatch(!0);h.tokenization.forceTokenization(h.getLineCount()),g.stop(),console.log(`tokenization took ${g.elapsed()}`)}}(0,m.registerEditorAction)(D)}),define(se[742],re([1,0,2,44,13,29,626,142]),function(q,e,w,m,k,D,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UnusualLineTerminatorsDetector=void 0;const C="ignoreUnusualLineTerminators";function h(i,n,o){i.setModelProperty(n.uri,C,o)}function g(i,n){return i.getModelProperty(n.uri,C)}let t=class extends w.Disposable{constructor(n,o,l){super(),this._editor=n,this._dialogService=o,this._codeEditorService=l,this._config=this._editor.getOption(116),this._register(this._editor.onDidChangeConfiguration(c=>{c.hasChanged(116)&&(this._config=this._editor.getOption(116),this._checkForUnusualLineTerminators())})),this._register(this._editor.onDidChangeModel(()=>{this._checkForUnusualLineTerminators()})),this._register(this._editor.onDidChangeModelContent(c=>{c.isUndoing||this._checkForUnusualLineTerminators()}))}_checkForUnusualLineTerminators(){return Se(this,void 0,void 0,function*(){if(this._config==="off"||!this._editor.hasModel())return;const n=this._editor.getModel();if(!n.mightContainUnusualLineTerminators()||g(this._codeEditorService,n)===!0||this._editor.getOption(82))return;if(this._config==="auto"){n.removeUnusualLineTerminators(this._editor.getSelections());return}if(!(yield this._dialogService.confirm({title:L.localize(0,null),message:L.localize(1,null),detail:L.localize(2,null,(0,m.basename)(n.uri)),primaryButton:L.localize(3,null),secondaryButton:L.localize(4,null)})).confirmed){h(this._codeEditorService,n,!0);return}n.removeUnusualLineTerminators(this._editor.getSelections())})}};t.ID="editor.contrib.unusualLineTerminatorsDetector",t=De([fe(1,b.IDialogService),fe(2,D.ICodeEditorService)],t),e.UnusualLineTerminatorsDetector=t,(0,k.registerEditorContribution)(t.ID,t)}),define(se[313],re([1,0,13,110,38,64,157,131,11,3,24,25,34,628,79,15,292]),function(q,e,w,m,k,D,L,b,C,h,g,t,i,n,o,l,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DeleteInsideWord=e.DeleteWordRight=e.DeleteWordEndRight=e.DeleteWordStartRight=e.DeleteWordLeft=e.DeleteWordEndLeft=e.DeleteWordStartLeft=e.DeleteWordRightCommand=e.DeleteWordLeftCommand=e.DeleteWordCommand=e.CursorWordAccessibilityRightSelect=e.CursorWordAccessibilityRight=e.CursorWordRightSelect=e.CursorWordEndRightSelect=e.CursorWordStartRightSelect=e.CursorWordRight=e.CursorWordEndRight=e.CursorWordStartRight=e.CursorWordAccessibilityLeftSelect=e.CursorWordAccessibilityLeft=e.CursorWordLeftSelect=e.CursorWordEndLeftSelect=e.CursorWordStartLeftSelect=e.CursorWordLeft=e.CursorWordEndLeft=e.CursorWordStartLeft=e.WordRightCommand=e.WordLeftCommand=e.MoveWordCommand=void 0;class d extends w.EditorCommand{constructor(Z){super(Z),this._inSelectionMode=Z.inSelectionMode,this._wordNavigationType=Z.wordNavigationType}runEditorCommand(Z,ee,le){if(!ee.hasModel())return;const V=(0,b.getMapForWordSeparators)(ee.getOption(119)),$=ee.getModel(),U=ee.getSelections().map(ae=>{const z=new C.Position(ae.positionLineNumber,ae.positionColumn),J=this._move(V,$,z,this._wordNavigationType);return this._moveTo(ae,J,this._inSelectionMode)});if($.pushStackElement(),ee._getViewModel().setCursorStates("moveWordCommand",3,U.map(ae=>D.CursorState.fromModelSelection(ae))),U.length===1){const ae=new C.Position(U[0].positionLineNumber,U[0].positionColumn);ee.revealPosition(ae,0)}}_moveTo(Z,ee,le){return le?new g.Selection(Z.selectionStartLineNumber,Z.selectionStartColumn,ee.lineNumber,ee.column):new g.Selection(ee.lineNumber,ee.column,ee.lineNumber,ee.column)}}e.MoveWordCommand=d;class r extends d{_move(Z,ee,le,V){return L.WordOperations.moveWordLeft(Z,ee,le,V)}}e.WordLeftCommand=r;class s extends d{_move(Z,ee,le,V){return L.WordOperations.moveWordRight(Z,ee,le,V)}}e.WordRightCommand=s;class a extends r{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartLeft",precondition:void 0})}}e.CursorWordStartLeft=a;class u extends r{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndLeft",precondition:void 0})}}e.CursorWordEndLeft=u;class p extends r{constructor(){var Z;super({inSelectionMode:!1,wordNavigationType:1,id:"cursorWordLeft",precondition:void 0,kbOpts:{kbExpr:l.ContextKeyExpr.and(t.EditorContextKeys.textInputFocus,(Z=l.ContextKeyExpr.and(o.CONTEXT_ACCESSIBILITY_MODE_ENABLED,c.IsWindowsContext))===null||Z===void 0?void 0:Z.negate()),primary:2063,mac:{primary:527},weight:100}})}}e.CursorWordLeft=p;class S extends r{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartLeftSelect",precondition:void 0})}}e.CursorWordStartLeftSelect=S;class f extends r{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndLeftSelect",precondition:void 0})}}e.CursorWordEndLeftSelect=f;class v extends r{constructor(){var Z;super({inSelectionMode:!0,wordNavigationType:1,id:"cursorWordLeftSelect",precondition:void 0,kbOpts:{kbExpr:l.ContextKeyExpr.and(t.EditorContextKeys.textInputFocus,(Z=l.ContextKeyExpr.and(o.CONTEXT_ACCESSIBILITY_MODE_ENABLED,c.IsWindowsContext))===null||Z===void 0?void 0:Z.negate()),primary:3087,mac:{primary:1551},weight:100}})}}e.CursorWordLeftSelect=v;class _ extends r{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityLeft",precondition:void 0})}_move(Z,ee,le,V){return super._move((0,b.getMapForWordSeparators)(k.EditorOptions.wordSeparators.defaultValue),ee,le,V)}}e.CursorWordAccessibilityLeft=_;class y extends r{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityLeftSelect",precondition:void 0})}_move(Z,ee,le,V){return super._move((0,b.getMapForWordSeparators)(k.EditorOptions.wordSeparators.defaultValue),ee,le,V)}}e.CursorWordAccessibilityLeftSelect=y;class E extends s{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartRight",precondition:void 0})}}e.CursorWordStartRight=E;class T extends s{constructor(){var Z;super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndRight",precondition:void 0,kbOpts:{kbExpr:l.ContextKeyExpr.and(t.EditorContextKeys.textInputFocus,(Z=l.ContextKeyExpr.and(o.CONTEXT_ACCESSIBILITY_MODE_ENABLED,c.IsWindowsContext))===null||Z===void 0?void 0:Z.negate()),primary:2065,mac:{primary:529},weight:100}})}}e.CursorWordEndRight=T;class I extends s{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordRight",precondition:void 0})}}e.CursorWordRight=I;class R extends s{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartRightSelect",precondition:void 0})}}e.CursorWordStartRightSelect=R;class F extends s{constructor(){var Z;super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndRightSelect",precondition:void 0,kbOpts:{kbExpr:l.ContextKeyExpr.and(t.EditorContextKeys.textInputFocus,(Z=l.ContextKeyExpr.and(o.CONTEXT_ACCESSIBILITY_MODE_ENABLED,c.IsWindowsContext))===null||Z===void 0?void 0:Z.negate()),primary:3089,mac:{primary:1553},weight:100}})}}e.CursorWordEndRightSelect=F;class O extends s{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordRightSelect",precondition:void 0})}}e.CursorWordRightSelect=O;class M extends s{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityRight",precondition:void 0})}_move(Z,ee,le,V){return super._move((0,b.getMapForWordSeparators)(k.EditorOptions.wordSeparators.defaultValue),ee,le,V)}}e.CursorWordAccessibilityRight=M;class N extends s{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityRightSelect",precondition:void 0})}_move(Z,ee,le,V){return super._move((0,b.getMapForWordSeparators)(k.EditorOptions.wordSeparators.defaultValue),ee,le,V)}}e.CursorWordAccessibilityRightSelect=N;class A extends w.EditorCommand{constructor(Z){super(Z),this._whitespaceHeuristics=Z.whitespaceHeuristics,this._wordNavigationType=Z.wordNavigationType}runEditorCommand(Z,ee,le){const V=Z.get(i.ILanguageConfigurationService);if(!ee.hasModel())return;const $=(0,b.getMapForWordSeparators)(ee.getOption(119)),oe=ee.getModel(),U=ee.getSelections(),ae=ee.getOption(5),z=ee.getOption(8),J=V.getLanguageConfiguration(oe.getLanguageId()).getAutoClosingPairs(),Y=ee._getViewModel(),H=U.map(j=>{const de=this._delete({wordSeparators:$,model:oe,selection:j,whitespaceHeuristics:this._whitespaceHeuristics,autoClosingDelete:ee.getOption(6),autoClosingBrackets:ae,autoClosingQuotes:z,autoClosingPairs:J,autoClosedCharacters:Y.getCursorAutoClosedCharacters()},this._wordNavigationType);return new m.ReplaceCommand(de,"")});ee.pushUndoStop(),ee.executeCommands(this.id,H),ee.pushUndoStop()}}e.DeleteWordCommand=A;class B extends A{_delete(Z,ee){const le=L.WordOperations.deleteWordLeft(Z,ee);return le||new h.Range(1,1,1,1)}}e.DeleteWordLeftCommand=B;class W extends A{_delete(Z,ee){const le=L.WordOperations.deleteWordRight(Z,ee);if(le)return le;const V=Z.model.getLineCount(),$=Z.model.getLineMaxColumn(V);return new h.Range(V,$,V,$)}}e.DeleteWordRightCommand=W;class x extends B{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartLeft",precondition:t.EditorContextKeys.writable})}}e.DeleteWordStartLeft=x;class P extends B{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndLeft",precondition:t.EditorContextKeys.writable})}}e.DeleteWordEndLeft=P;class X extends B{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordLeft",precondition:t.EditorContextKeys.writable,kbOpts:{kbExpr:t.EditorContextKeys.textInputFocus,primary:2049,mac:{primary:513},weight:100}})}}e.DeleteWordLeft=X;class ie extends W{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartRight",precondition:t.EditorContextKeys.writable})}}e.DeleteWordStartRight=ie;class K extends W{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndRight",precondition:t.EditorContextKeys.writable})}}e.DeleteWordEndRight=K;class G extends W{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordRight",precondition:t.EditorContextKeys.writable,kbOpts:{kbExpr:t.EditorContextKeys.textInputFocus,primary:2068,mac:{primary:532},weight:100}})}}e.DeleteWordRight=G;class Q extends w.EditorAction{constructor(){super({id:"deleteInsideWord",precondition:t.EditorContextKeys.writable,label:n.localize(0,null),alias:"Delete Word"})}run(Z,ee,le){if(!ee.hasModel())return;const V=(0,b.getMapForWordSeparators)(ee.getOption(119)),$=ee.getModel(),U=ee.getSelections().map(ae=>{const z=L.WordOperations.deleteInsideWord(V,$,ae);return new m.ReplaceCommand(z,"")});ee.pushUndoStop(),ee.executeCommands(this.id,U),ee.pushUndoStop()}}e.DeleteInsideWord=Q,(0,w.registerEditorCommand)(new a),(0,w.registerEditorCommand)(new u),(0,w.registerEditorCommand)(new p),(0,w.registerEditorCommand)(new S),(0,w.registerEditorCommand)(new f),(0,w.registerEditorCommand)(new v),(0,w.registerEditorCommand)(new E),(0,w.registerEditorCommand)(new T),(0,w.registerEditorCommand)(new I),(0,w.registerEditorCommand)(new R),(0,w.registerEditorCommand)(new F),(0,w.registerEditorCommand)(new O),(0,w.registerEditorCommand)(new _),(0,w.registerEditorCommand)(new y),(0,w.registerEditorCommand)(new M),(0,w.registerEditorCommand)(new N),(0,w.registerEditorCommand)(new x),(0,w.registerEditorCommand)(new P),(0,w.registerEditorCommand)(new X),(0,w.registerEditorCommand)(new ie),(0,w.registerEditorCommand)(new K),(0,w.registerEditorCommand)(new G),(0,w.registerEditorAction)(Q)}),define(se[743],re([1,0,13,157,3,25,313,26]),function(q,e,w,m,k,D,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorWordPartRightSelect=e.CursorWordPartRight=e.WordPartRightCommand=e.CursorWordPartLeftSelect=e.CursorWordPartLeft=e.WordPartLeftCommand=e.DeleteWordPartRight=e.DeleteWordPartLeft=void 0;class C extends L.DeleteWordCommand{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordPartLeft",precondition:D.EditorContextKeys.writable,kbOpts:{kbExpr:D.EditorContextKeys.textInputFocus,primary:0,mac:{primary:769},weight:100}})}_delete(d,r){const s=m.WordPartOperations.deleteWordPartLeft(d);return s||new k.Range(1,1,1,1)}}e.DeleteWordPartLeft=C;class h extends L.DeleteWordCommand{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordPartRight",precondition:D.EditorContextKeys.writable,kbOpts:{kbExpr:D.EditorContextKeys.textInputFocus,primary:0,mac:{primary:788},weight:100}})}_delete(d,r){const s=m.WordPartOperations.deleteWordPartRight(d);if(s)return s;const a=d.model.getLineCount(),u=d.model.getLineMaxColumn(a);return new k.Range(a,u,a,u)}}e.DeleteWordPartRight=h;class g extends L.MoveWordCommand{_move(d,r,s,a){return m.WordPartOperations.moveWordPartLeft(d,r,s)}}e.WordPartLeftCommand=g;class t extends g{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordPartLeft",precondition:void 0,kbOpts:{kbExpr:D.EditorContextKeys.textInputFocus,primary:0,mac:{primary:783},weight:100}})}}e.CursorWordPartLeft=t,b.CommandsRegistry.registerCommandAlias("cursorWordPartStartLeft","cursorWordPartLeft");class i extends g{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordPartLeftSelect",precondition:void 0,kbOpts:{kbExpr:D.EditorContextKeys.textInputFocus,primary:0,mac:{primary:1807},weight:100}})}}e.CursorWordPartLeftSelect=i,b.CommandsRegistry.registerCommandAlias("cursorWordPartStartLeftSelect","cursorWordPartLeftSelect");class n extends L.MoveWordCommand{_move(d,r,s,a){return m.WordPartOperations.moveWordPartRight(d,r,s)}}e.WordPartRightCommand=n;class o extends n{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordPartRight",precondition:void 0,kbOpts:{kbExpr:D.EditorContextKeys.textInputFocus,primary:0,mac:{primary:785},weight:100}})}}e.CursorWordPartRight=o;class l extends n{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordPartRightSelect",precondition:void 0,kbOpts:{kbExpr:D.EditorContextKeys.textInputFocus,primary:0,mac:{primary:1809},weight:100}})}}e.CursorWordPartRightSelect=l,(0,w.registerEditorCommand)(new C),(0,w.registerEditorCommand)(new h),(0,w.registerEditorCommand)(new t),(0,w.registerEditorCommand)(new i),(0,w.registerEditorCommand)(new o),(0,w.registerEditorCommand)(new l)}),define(se[744],re([1,0,7,35,202,50,66,2,17,8,22,13,25,312,15,9,41,46,23,16,78,404]),function(q,e,w,m,k,D,L,b,C,h,g,t,i,n,o,l,c,d,r,s,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const u=new o.RawContextKey("accessibilityHelpWidgetVisible",!1);let p=class Wi extends b.Disposable{static get(E){return E.getContribution(Wi.ID)}constructor(E,T){super(),this._editor=E,this._widget=this._register(T.createInstance(f,this._editor))}show(){this._widget.show()}hide(){this._widget.hide()}};p.ID="editor.contrib.accessibilityHelpController",p=De([fe(1,l.IInstantiationService)],p);function S(y,E){return!y||y.length===0?a.AccessibilityHelpNLS.noSelection:y.length===1?E?h.format(a.AccessibilityHelpNLS.singleSelectionRange,y[0].positionLineNumber,y[0].positionColumn,E):h.format(a.AccessibilityHelpNLS.singleSelection,y[0].positionLineNumber,y[0].positionColumn):E?h.format(a.AccessibilityHelpNLS.multiSelectionRange,y.length,E):y.length>0?h.format(a.AccessibilityHelpNLS.multiSelection,y.length):""}let f=class jt extends L.Widget{constructor(E,T,I,R){super(),this._contextKeyService=T,this._keybindingService=I,this._openerService=R,this._editor=E,this._isVisibleKey=u.bindTo(this._contextKeyService),this._domNode=(0,m.createFastDomNode)(document.createElement("div")),this._domNode.setClassName("accessibilityHelpWidget"),this._domNode.setDisplay("none"),this._domNode.setAttribute("role","dialog"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode=(0,m.createFastDomNode)(document.createElement("div")),this._contentDomNode.setAttribute("role","document"),this._domNode.appendChild(this._contentDomNode),this._isVisible=!1,this._register(this._editor.onDidLayoutChange(()=>{this._isVisible&&this._layout()})),this._register(w.addStandardDisposableListener(this._contentDomNode.domNode,"keydown",F=>{if(!!this._isVisible&&(F.equals(2083)&&((0,D.alert)(a.AccessibilityHelpNLS.emergencyConfOn),this._editor.updateOptions({accessibilitySupport:"on"}),w.clearNode(this._contentDomNode.domNode),this._buildContent(),this._contentDomNode.domNode.focus(),F.preventDefault(),F.stopPropagation()),F.equals(2086))){(0,D.alert)(a.AccessibilityHelpNLS.openingDocs);let O=this._editor.getRawOptions().accessibilityHelpUrl;typeof O>"u"&&(O="https://go.microsoft.com/fwlink/?linkid=852450"),this._openerService.open(g.URI.parse(O)),F.preventDefault(),F.stopPropagation()}})),this.onblur(this._contentDomNode.domNode,()=>{this.hide()}),this._editor.addOverlayWidget(this)}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return jt.ID}getDomNode(){return this._domNode.domNode}getPosition(){return{preference:null}}show(){this._isVisible||(this._isVisible=!0,this._isVisibleKey.set(!0),this._layout(),this._domNode.setDisplay("block"),this._domNode.setAttribute("aria-hidden","false"),this._contentDomNode.domNode.tabIndex=0,this._buildContent(),this._contentDomNode.domNode.focus())}_descriptionForCommand(E,T,I){const R=this._keybindingService.lookupKeybinding(E);return R?h.format(T,R.getAriaLabel()):h.format(I,E)}_buildContent(){const E=this._editor.getOptions(),T=this._editor.getSelections();let I=0;if(T){const M=this._editor.getModel();M&&T.forEach(N=>{I+=M.getValueLengthInRange(N)})}let R=S(T,I);E.get(55)?E.get(82)?R+=a.AccessibilityHelpNLS.readonlyDiffEditor:R+=a.AccessibilityHelpNLS.editableDiffEditor:E.get(82)?R+=a.AccessibilityHelpNLS.readonlyEditor:R+=a.AccessibilityHelpNLS.editableEditor;const F=C.isMacintosh?a.AccessibilityHelpNLS.changeConfigToOnMac:a.AccessibilityHelpNLS.changeConfigToOnWinLinux;switch(E.get(2)){case 0:R+=`

 - `+F;break;case 2:R+=`

 - `+a.AccessibilityHelpNLS.auto_on;break;case 1:R+=`

 - `+a.AccessibilityHelpNLS.auto_off,R+=" "+F;break}E.get(132)?R+=`

 - `+this._descriptionForCommand(n.ToggleTabFocusModeAction.ID,a.AccessibilityHelpNLS.tabFocusModeOnMsg,a.AccessibilityHelpNLS.tabFocusModeOnMsgNoKb):R+=`

 - `+this._descriptionForCommand(n.ToggleTabFocusModeAction.ID,a.AccessibilityHelpNLS.tabFocusModeOffMsg,a.AccessibilityHelpNLS.tabFocusModeOffMsgNoKb);const O=C.isMacintosh?a.AccessibilityHelpNLS.openDocMac:a.AccessibilityHelpNLS.openDocWinLinux;R+=`

 - `+O,R+=`

`+a.AccessibilityHelpNLS.outroMsg,this._contentDomNode.domNode.appendChild((0,k.renderFormattedText)(R)),this._contentDomNode.domNode.setAttribute("aria-label",R)}hide(){!this._isVisible||(this._isVisible=!1,this._isVisibleKey.reset(),this._domNode.setDisplay("none"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode.domNode.tabIndex=-1,w.clearNode(this._contentDomNode.domNode),this._editor.focus())}_layout(){const E=this._editor.getLayoutInfo(),T=Math.max(5,Math.min(jt.WIDTH,E.width-40)),I=Math.max(5,Math.min(jt.HEIGHT,E.height-40));this._domNode.setWidth(T),this._domNode.setHeight(I);const R=Math.round((E.height-I)/2);this._domNode.setTop(R);const F=Math.round((E.width-T)/2);this._domNode.setLeft(F)}};f.ID="editor.contrib.accessibilityHelpWidget",f.WIDTH=500,f.HEIGHT=300,f=De([fe(1,o.IContextKeyService),fe(2,c.IKeybindingService),fe(3,d.IOpenerService)],f);class v extends t.EditorAction{constructor(){super({id:"editor.action.showAccessibilityHelp",label:a.AccessibilityHelpNLS.showAccessibilityHelpAction,alias:"Show Accessibility Help",precondition:void 0,kbOpts:{primary:571,weight:100,linux:{primary:1595,secondary:[571]}}})}run(E,T){const I=p.get(T);I?.show()}}(0,t.registerEditorContribution)(p.ID,p),(0,t.registerEditorAction)(v);const _=t.EditorCommand.bindToContribution(p.get);(0,t.registerEditorCommand)(new _({id:"closeAccessibilityHelp",precondition:u,handler:y=>y.hide(),kbOpts:{weight:100+100,kbExpr:i.EditorContextKeys.focus,primary:9,secondary:[1033]}})),(0,s.registerThemingParticipant)((y,E)=>{const T=y.getColor(r.editorWidgetBackground);T&&E.addRule(`.monaco-editor .accessibilityHelpWidget { background-color: ${T}; }`);const I=y.getColor(r.editorWidgetForeground);I&&E.addRule(`.monaco-editor .accessibilityHelpWidget { color: ${I}; }`);const R=y.getColor(r.widgetShadow);R&&E.addRule(`.monaco-editor .accessibilityHelpWidget { box-shadow: 0 2px 8px ${R}; }`);const F=y.getColor(r.contrastBorder);F&&E.addRule(`.monaco-editor .accessibilityHelpWidget { border: 2px solid ${F}; }`)})}),define(se[745],re([1,0,7,2,13,17,405]),function(q,e,w,m,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IPadShowKeyboard=void 0;class L extends m.Disposable{constructor(h){super(),this.editor=h,this.widget=null,D.isIOS&&(this._register(h.onDidChangeConfiguration(()=>this.update())),this.update())}update(){const h=!this.editor.getOption(82);!this.widget&&h?this.widget=new b(this.editor):this.widget&&!h&&(this.widget.dispose(),this.widget=null)}dispose(){super.dispose(),this.widget&&(this.widget.dispose(),this.widget=null)}}e.IPadShowKeyboard=L,L.ID="editor.contrib.iPadShowKeyboard";class b extends m.Disposable{constructor(h){super(),this.editor=h,this._domNode=document.createElement("textarea"),this._domNode.className="iPadShowKeyboard",this._register(w.addDisposableListener(this._domNode,"touchstart",g=>{this.editor.focus()})),this._register(w.addDisposableListener(this._domNode,"focus",g=>{this.editor.focus()})),this.editor.addOverlayWidget(this)}dispose(){this.editor.removeOverlayWidget(this),super.dispose()}getId(){return b.ID}getDomNode(){return this._domNode}getPosition(){return{preference:1}}}b.ID="editor.contrib.ShowKeyboardWidget",(0,k.registerEditorContribution)(L.ID,L)}),define(se[746],re([1,0,7,31,2,13,28,111,139,39,117,23,16,78,53,406]),function(q,e,w,m,k,D,L,b,C,h,g,t,i,n,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});let l=class xi extends k.Disposable{static get(u){return u.getContribution(xi.ID)}constructor(u,p,S){super(),this._editor=u,this._languageService=S,this._widget=null,this._register(this._editor.onDidChangeModel(f=>this.stop())),this._register(this._editor.onDidChangeModelLanguage(f=>this.stop())),this._register(L.TokenizationRegistry.onDidChange(f=>this.stop())),this._register(this._editor.onKeyUp(f=>f.keyCode===9&&this.stop()))}dispose(){this.stop(),super.dispose()}launch(){this._widget||!this._editor.hasModel()||(this._widget=new s(this._editor,this._languageService))}stop(){this._widget&&(this._widget.dispose(),this._widget=null)}};l.ID="editor.contrib.inspectTokens",l=De([fe(1,g.IStandaloneThemeService),fe(2,h.ILanguageService)],l);class c extends D.EditorAction{constructor(){super({id:"editor.action.inspectTokens",label:n.InspectTokensNLS.inspectTokensAction,alias:"Developer: Inspect Tokens",precondition:void 0})}run(u,p){const S=l.get(p);S?.launch()}}function d(a){let u="";for(let p=0,S=a.length;p<S;p++){const f=a.charCodeAt(p);switch(f){case 9:u+="\u2192";break;case 32:u+="\xB7";break;default:u+=String.fromCharCode(f)}}return u}function r(a,u){const p=L.TokenizationRegistry.get(u);if(p)return p;const S=a.encodeLanguageId(u);return{getInitialState:()=>C.NullState,tokenize:(f,v,_)=>(0,C.nullTokenize)(u,_),tokenizeEncoded:(f,v,_)=>(0,C.nullTokenizeEncoded)(S,_)}}class s extends k.Disposable{constructor(u,p){super(),this.allowEditorOverflow=!0,this._editor=u,this._languageService=p,this._model=this._editor.getModel(),this._domNode=document.createElement("div"),this._domNode.className="tokens-inspect-widget",this._tokenizationSupport=r(this._languageService.languageIdCodec,this._model.getLanguageId()),this._compute(this._editor.getPosition()),this._register(this._editor.onDidChangeCursorPosition(S=>this._compute(this._editor.getPosition()))),this._editor.addContentWidget(this)}dispose(){this._editor.removeContentWidget(this),super.dispose()}getId(){return s._ID}_compute(u){const p=this._getTokensAtLine(u.lineNumber);let S=0;for(let E=p.tokens1.length-1;E>=0;E--){const T=p.tokens1[E];if(u.column-1>=T.offset){S=E;break}}let f=0;for(let E=p.tokens2.length>>>1;E>=0;E--)if(u.column-1>=p.tokens2[E<<1]){f=E;break}const v=this._model.getLineContent(u.lineNumber);let _="";if(S<p.tokens1.length){const E=p.tokens1[S].offset,T=S+1<p.tokens1.length?p.tokens1[S+1].offset:v.length;_=v.substring(E,T)}(0,w.reset)(this._domNode,(0,w.$)("h2.tm-token",void 0,d(_),(0,w.$)("span.tm-token-length",void 0,`${_.length} ${_.length===1?"char":"chars"}`))),(0,w.append)(this._domNode,(0,w.$)("hr.tokens-inspect-separator",{style:"clear:both"}));const y=(f<<1)+1<p.tokens2.length?this._decodeMetadata(p.tokens2[(f<<1)+1]):null;(0,w.append)(this._domNode,(0,w.$)("table.tm-metadata-table",void 0,(0,w.$)("tbody",void 0,(0,w.$)("tr",void 0,(0,w.$)("td.tm-metadata-key",void 0,"language"),(0,w.$)("td.tm-metadata-value",void 0,`${y?y.languageId:"-?-"}`)),(0,w.$)("tr",void 0,(0,w.$)("td.tm-metadata-key",void 0,"token type"),(0,w.$)("td.tm-metadata-value",void 0,`${y?this._tokenTypeToString(y.tokenType):"-?-"}`)),(0,w.$)("tr",void 0,(0,w.$)("td.tm-metadata-key",void 0,"font style"),(0,w.$)("td.tm-metadata-value",void 0,`${y?this._fontStyleToString(y.fontStyle):"-?-"}`)),(0,w.$)("tr",void 0,(0,w.$)("td.tm-metadata-key",void 0,"foreground"),(0,w.$)("td.tm-metadata-value",void 0,`${y?m.Color.Format.CSS.formatHex(y.foreground):"-?-"}`)),(0,w.$)("tr",void 0,(0,w.$)("td.tm-metadata-key",void 0,"background"),(0,w.$)("td.tm-metadata-value",void 0,`${y?m.Color.Format.CSS.formatHex(y.background):"-?-"}`))))),(0,w.append)(this._domNode,(0,w.$)("hr.tokens-inspect-separator")),S<p.tokens1.length&&(0,w.append)(this._domNode,(0,w.$)("span.tm-token-type",void 0,p.tokens1[S].type)),this._editor.layoutContentWidget(this)}_decodeMetadata(u){const p=L.TokenizationRegistry.getColorMap(),S=b.TokenMetadata.getLanguageId(u),f=b.TokenMetadata.getTokenType(u),v=b.TokenMetadata.getFontStyle(u),_=b.TokenMetadata.getForeground(u),y=b.TokenMetadata.getBackground(u);return{languageId:this._languageService.languageIdCodec.decodeLanguageId(S),tokenType:f,fontStyle:v,foreground:p[_],background:p[y]}}_tokenTypeToString(u){switch(u){case 0:return"Other";case 1:return"Comment";case 2:return"String";case 3:return"RegEx";default:return"??"}}_fontStyleToString(u){let p="";return u&1&&(p+="italic "),u&2&&(p+="bold "),u&4&&(p+="underline "),u&8&&(p+="strikethrough "),p.length===0&&(p="---"),p}_getTokensAtLine(u){const p=this._getStateBeforeLine(u),S=this._tokenizationSupport.tokenize(this._model.getLineContent(u),!0,p),f=this._tokenizationSupport.tokenizeEncoded(this._model.getLineContent(u),!0,p);return{startState:p,tokens1:S.tokens,tokens2:f.tokens,endState:S.endState}}_getStateBeforeLine(u){let p=this._tokenizationSupport.getInitialState();for(let S=1;S<u;S++)p=this._tokenizationSupport.tokenize(this._model.getLineContent(S),!0,p).endState;return p}getDomNode(){return this._domNode}getPosition(){return{position:this._editor.getPosition(),preference:[2,1]}}}s._ID="editor.contrib.inspectTokensWidget",(0,D.registerEditorContribution)(l.ID,l),(0,D.registerEditorAction)(c),(0,i.registerThemingParticipant)((a,u)=>{const p=a.getColor(t.editorHoverBorder);if(p){const v=(0,o.isHighContrast)(a.type)?2:1;u.addRule(`.monaco-editor .tokens-inspect-widget { border: ${v}px solid ${p}; }`),u.addRule(`.monaco-editor .tokens-inspect-widget .tokens-inspect-separator { background-color: ${p}; }`)}const S=a.getColor(t.editorHoverBackground);S&&u.addRule(`.monaco-editor .tokens-inspect-widget { background-color: ${S}; }`);const f=a.getColor(t.editorHoverForeground);f&&u.addRule(`.monaco-editor .tokens-inspect-widget { color: ${f}; }`)})}),define(se[747],re([1,0,33,120,78,29,687,19,9,41,26,81,142,13,25,88]),function(q,e,w,m,k,D,L,b,C,h,g,t,i,n,o,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoLineAction=e.StandaloneCommandsQuickAccessProvider=void 0;let c=class extends L.AbstractEditorCommandsQuickAccessProvider{get activeTextEditorControl(){return(0,b.withNullAsUndefined)(this.codeEditorService.getFocusedCodeEditor())}constructor(s,a,u,p,S,f){super({showAlias:!1},s,u,p,S,f),this.codeEditorService=a}getCommandPicks(){return Se(this,void 0,void 0,function*(){return this.getCodeEditorCommandPicks()})}};c=De([fe(0,C.IInstantiationService),fe(1,D.ICodeEditorService),fe(2,h.IKeybindingService),fe(3,g.ICommandService),fe(4,t.ITelemetryService),fe(5,i.IDialogService)],c),e.StandaloneCommandsQuickAccessProvider=c;class d extends n.EditorAction{constructor(){super({id:d.ID,label:k.QuickCommandNLS.quickCommandActionLabel,alias:"Command Palette",precondition:void 0,kbOpts:{kbExpr:o.EditorContextKeys.focus,primary:59,weight:100},contextMenuOpts:{group:"z_commands",order:1}})}run(s){s.get(l.IQuickInputService).quickAccess.show(c.PREFIX)}}e.GotoLineAction=d,d.ID="editor.action.quickCommand",(0,n.registerEditorAction)(d),w.Registry.as(m.Extensions.Quickaccess).registerQuickAccessProvider({ctor:c,prefix:c.PREFIX,helpEntries:[{description:k.QuickCommandNLS.quickCommandHelp,commandId:d.ID}]})}),define(se[748],re([1,0,709,33,120,29,19,78,6,13,25,88]),function(q,e,w,m,k,D,L,b,C,h,g,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoLineAction=e.StandaloneGotoLineQuickAccessProvider=void 0;let i=class extends w.AbstractGotoLineQuickAccessProvider{constructor(l){super(),this.editorService=l,this.onDidActiveTextEditorControlChange=C.Event.None}get activeTextEditorControl(){return(0,L.withNullAsUndefined)(this.editorService.getFocusedCodeEditor())}};i=De([fe(0,D.ICodeEditorService)],i),e.StandaloneGotoLineQuickAccessProvider=i;class n extends h.EditorAction{constructor(){super({id:n.ID,label:b.GoToLineNLS.gotoLineActionLabel,alias:"Go to Line/Column...",precondition:void 0,kbOpts:{kbExpr:g.EditorContextKeys.focus,primary:2085,mac:{primary:293},weight:100}})}run(l){l.get(t.IQuickInputService).quickAccess.show(i.PREFIX)}}e.GotoLineAction=n,n.ID="editor.action.gotoLine",(0,h.registerEditorAction)(n),m.Registry.as(k.Extensions.Quickaccess).registerQuickAccessProvider({ctor:i,prefix:i.PREFIX,helpEntries:[{description:b.GoToLineNLS.gotoLineActionLabel,commandId:n.ID}]})}),define(se[749],re([1,0,710,33,120,29,19,78,6,13,25,88,170,20,128,222]),function(q,e,w,m,k,D,L,b,C,h,g,t,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoSymbolAction=e.StandaloneGotoSymbolQuickAccessProvider=void 0;let o=class extends w.AbstractGotoSymbolQuickAccessProvider{constructor(d,r,s){super(r,s),this.editorService=d,this.onDidActiveTextEditorControlChange=C.Event.None}get activeTextEditorControl(){return(0,L.withNullAsUndefined)(this.editorService.getFocusedCodeEditor())}};o=De([fe(0,D.ICodeEditorService),fe(1,n.ILanguageFeaturesService),fe(2,i.IOutlineModelService)],o),e.StandaloneGotoSymbolQuickAccessProvider=o;class l extends h.EditorAction{constructor(){super({id:l.ID,label:b.QuickOutlineNLS.quickOutlineActionLabel,alias:"Go to Symbol...",precondition:g.EditorContextKeys.hasDocumentSymbolProvider,kbOpts:{kbExpr:g.EditorContextKeys.focus,primary:3117,weight:100},contextMenuOpts:{group:"navigation",order:3}})}run(d){d.get(t.IQuickInputService).quickAccess.show(w.AbstractGotoSymbolQuickAccessProvider.PREFIX)}}e.GotoSymbolAction=l,l.ID="editor.action.quickOutline",(0,h.registerEditorAction)(l),m.Registry.as(k.Extensions.Quickaccess).registerQuickAccessProvider({ctor:o,prefix:w.AbstractGotoSymbolQuickAccessProvider.PREFIX,helpEntries:[{description:b.QuickOutlineNLS.quickOutlineActionLabel,prefix:w.AbstractGotoSymbolQuickAccessProvider.PREFIX,commandId:l.ID},{description:b.QuickOutlineNLS.quickOutlineByCategoryActionLabel,prefix:w.AbstractGotoSymbolQuickAccessProvider.PREFIX_BY_CATEGORY}]})}),define(se[172],re([1,0,7,45,138,509,43,196,2,17,630,32,645,15,71,9,41,40,80,16,53,19,121,23,409]),function(q,e,w,m,k,D,L,b,C,h,g,t,i,n,o,l,c,d,r,s,a,u,p,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createActionViewItem=e.DropdownWithDefaultActionViewItem=e.SubmenuEntryActionViewItem=e.MenuEntryActionViewItem=e.createAndFillInActionBarActions=e.createAndFillInContextMenuActions=void 0;function f(F,O,M,N){const A=F.getActions(O),B=w.ModifierKeyEmitter.getInstance(),W=B.keyStatus.altKey||(h.isWindows||h.isLinux)&&B.keyStatus.shiftKey;_(A,M,W,N?x=>x===N:x=>x==="navigation")}e.createAndFillInContextMenuActions=f;function v(F,O,M,N,A,B,W){const x=F.getActions(O);_(x,M,!1,typeof N=="string"?X=>X===N:N,A,B,W)}e.createAndFillInActionBarActions=v;function _(F,O,M,N=x=>x==="navigation",A=Number.MAX_SAFE_INTEGER,B=()=>!1,W=!1){let x,P;Array.isArray(O)?(x=O,P=O):(x=O.primary,P=O.secondary);const X=new Set;for(const[ie,K]of F){let G;N(ie)?(G=x,G.length>0&&W&&G.push(new L.Separator)):(G=P,G.length>0&&G.push(new L.Separator));for(let Q of K){M&&(Q=Q instanceof t.MenuItemAction&&Q.alt?Q.alt:Q);const ne=G.push(Q);Q instanceof L.SubmenuAction&&X.add({group:ie,action:Q,index:ne-1})}}for(const{group:ie,action:K,index:G}of X){const Q=N(ie)?x:P,ne=K.actions;(ne.length<=1||Q.length+ne.length-2<=A)&&B(K,ie,Q.length)&&Q.splice(G,1,...ne)}if(x!==P&&x.length>A){const ie=x.splice(A,x.length-A);P.unshift(...ie,new L.Separator)}}let y=class extends k.ActionViewItem{constructor(O,M,N,A,B,W,x){super(void 0,O,{icon:!!(O.class||O.item.icon),label:!O.class&&!O.item.icon,draggable:M?.draggable,keybinding:M?.keybinding,hoverDelegate:M?.hoverDelegate}),this._keybindingService=N,this._notificationService=A,this._contextKeyService=B,this._themeService=W,this._contextMenuService=x,this._wantsAltCommand=!1,this._itemClassDispose=this._register(new C.MutableDisposable),this._altKey=w.ModifierKeyEmitter.getInstance()}get _menuItemAction(){return this._action}get _commandAction(){return this._wantsAltCommand&&this._menuItemAction.alt||this._menuItemAction}onClick(O){return Se(this,void 0,void 0,function*(){O.preventDefault(),O.stopPropagation();try{yield this.actionRunner.run(this._commandAction,this._context)}catch(M){this._notificationService.error(M)}})}render(O){super.render(O),O.classList.add("menu-entry"),this._updateItemClass(this._menuItemAction.item);let M=!1,N=this._altKey.keyStatus.altKey||(h.isWindows||h.isLinux)&&this._altKey.keyStatus.shiftKey;const A=()=>{var B;const W=M&&N&&!!(!((B=this._commandAction.alt)===null||B===void 0)&&B.enabled);W!==this._wantsAltCommand&&(this._wantsAltCommand=W,this.updateLabel(),this.updateTooltip(),this.updateClass())};this._menuItemAction.alt&&this._register(this._altKey.event(B=>{N=B.altKey||(h.isWindows||h.isLinux)&&B.shiftKey,A()})),this._register((0,w.addDisposableListener)(O,"mouseleave",B=>{M=!1,A()})),this._register((0,w.addDisposableListener)(O,"mouseenter",B=>{M=!0,A()}))}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this._commandAction.label)}getTooltip(){var O;const M=this._keybindingService.lookupKeybinding(this._commandAction.id,this._contextKeyService),N=M&&M.getLabel(),A=this._commandAction.tooltip||this._commandAction.label;let B=N?(0,g.localize)(0,null,A,N):A;if(!this._wantsAltCommand&&((O=this._menuItemAction.alt)===null||O===void 0?void 0:O.enabled)){const W=this._menuItemAction.alt.tooltip||this._menuItemAction.alt.label,x=this._keybindingService.lookupKeybinding(this._menuItemAction.alt.id,this._contextKeyService),P=x&&x.getLabel(),X=P?(0,g.localize)(1,null,W,P):W;B=(0,g.localize)(2,null,B,b.UILabelProvider.modifierLabels[h.OS].altKey,X)}return B}updateClass(){this.options.icon&&(this._commandAction!==this._menuItemAction?this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.alt.item):this._updateItemClass(this._menuItemAction.item))}_updateItemClass(O){this._itemClassDispose.value=void 0;const{element:M,label:N}=this;if(!M||!N)return;const A=this._commandAction.checked&&(0,i.isICommandActionToggleInfo)(O.toggled)&&O.toggled.icon?O.toggled.icon:O.icon;if(!!A)if(s.ThemeIcon.isThemeIcon(A)){const B=s.ThemeIcon.asClassNameArray(A);N.classList.add(...B),this._itemClassDispose.value=(0,C.toDisposable)(()=>{N.classList.remove(...B)})}else N.style.backgroundImage=(0,a.isDark)(this._themeService.getColorTheme().type)?(0,w.asCSSUrl)(A.dark):(0,w.asCSSUrl)(A.light),N.classList.add("icon"),this._itemClassDispose.value=(0,C.combinedDisposable)((0,C.toDisposable)(()=>{N.style.backgroundImage="",N.classList.remove("icon")}),this._themeService.onDidColorThemeChange(()=>{this.updateClass()}))}};y=De([fe(2,c.IKeybindingService),fe(3,d.INotificationService),fe(4,n.IContextKeyService),fe(5,s.IThemeService),fe(6,o.IContextMenuService)],y),e.MenuEntryActionViewItem=y;let E=class extends D.DropdownMenuActionViewItem{constructor(O,M,N,A){var B,W;const x=Object.assign({},M??Object.create(null),{menuAsChild:(B=M?.menuAsChild)!==null&&B!==void 0?B:!1,classNames:(W=M?.classNames)!==null&&W!==void 0?W:s.ThemeIcon.isThemeIcon(O.item.icon)?s.ThemeIcon.asClassName(O.item.icon):void 0});super(O,{getActions:()=>O.actions},N,x),this._contextMenuService=N,this._themeService=A}render(O){super.render(O),(0,u.assertType)(this.element),O.classList.add("menu-entry");const M=this._action,{icon:N}=M.item;if(N&&!s.ThemeIcon.isThemeIcon(N)){this.element.classList.add("icon");const A=()=>{this.element&&(this.element.style.backgroundImage=(0,a.isDark)(this._themeService.getColorTheme().type)?(0,w.asCSSUrl)(N.dark):(0,w.asCSSUrl)(N.light))};A(),this._register(this._themeService.onDidColorThemeChange(()=>{A()}))}}};E=De([fe(2,o.IContextMenuService),fe(3,s.IThemeService)],E),e.SubmenuEntryActionViewItem=E;let T=class extends k.BaseActionViewItem{constructor(O,M,N,A,B,W,x,P){var X,ie,K;super(null,O),this._keybindingService=N,this._notificationService=A,this._contextMenuService=B,this._menuService=W,this._instaService=x,this._storageService=P,this._container=null,this._options=M,this._storageKey=`${O.item.submenu.id}_lastActionId`;let G;const Q=P.get(this._storageKey,1);Q&&(G=O.actions.find(Z=>Q===Z.id)),G||(G=O.actions[0]),this._defaultAction=this._instaService.createInstance(y,G,{keybinding:this._getDefaultActionKeybindingLabel(G)});const ne=Object.assign({},M??Object.create(null),{menuAsChild:(X=M?.menuAsChild)!==null&&X!==void 0?X:!0,classNames:(ie=M?.classNames)!==null&&ie!==void 0?ie:["codicon","codicon-chevron-down"],actionRunner:(K=M?.actionRunner)!==null&&K!==void 0?K:new L.ActionRunner});this._dropdown=new D.DropdownMenuActionViewItem(O,O.actions,this._contextMenuService,ne),this._dropdown.actionRunner.onDidRun(Z=>{Z.action instanceof t.MenuItemAction&&this.update(Z.action)})}update(O){this._storageService.store(this._storageKey,O.id,1,0),this._defaultAction.dispose(),this._defaultAction=this._instaService.createInstance(y,O,{keybinding:this._getDefaultActionKeybindingLabel(O)}),this._defaultAction.actionRunner=new class extends L.ActionRunner{runAction(M,N){return Se(this,void 0,void 0,function*(){yield M.run(void 0)})}},this._container&&this._defaultAction.render((0,w.prepend)(this._container,(0,w.$)(".action-container")))}_getDefaultActionKeybindingLabel(O){var M;let N;if(!((M=this._options)===null||M===void 0)&&M.renderKeybindingWithDefaultActionLabel){const A=this._keybindingService.lookupKeybinding(O.id);A&&(N=`(${A.getLabel()})`)}return N}setActionContext(O){super.setActionContext(O),this._defaultAction.setActionContext(O),this._dropdown.setActionContext(O)}render(O){this._container=O,super.render(this._container),this._container.classList.add("monaco-dropdown-with-default");const M=(0,w.$)(".action-container");this._defaultAction.render((0,w.append)(this._container,M)),this._register((0,w.addDisposableListener)(M,w.EventType.KEY_DOWN,A=>{const B=new m.StandardKeyboardEvent(A);B.equals(17)&&(this._defaultAction.element.tabIndex=-1,this._dropdown.focus(),B.stopPropagation())}));const N=(0,w.$)(".dropdown-action-container");this._dropdown.render((0,w.append)(this._container,N)),this._register((0,w.addDisposableListener)(N,w.EventType.KEY_DOWN,A=>{var B;const W=new m.StandardKeyboardEvent(A);W.equals(15)&&(this._defaultAction.element.tabIndex=0,this._dropdown.setFocusable(!1),(B=this._defaultAction.element)===null||B===void 0||B.focus(),W.stopPropagation())}))}focus(O){O?this._dropdown.focus():(this._defaultAction.element.tabIndex=0,this._defaultAction.element.focus())}blur(){this._defaultAction.element.tabIndex=-1,this._dropdown.blur(),this._container.blur()}setFocusable(O){O?this._defaultAction.element.tabIndex=0:(this._defaultAction.element.tabIndex=-1,this._dropdown.setFocusable(!1))}dispose(){this._defaultAction.dispose(),this._dropdown.dispose(),super.dispose()}};T=De([fe(2,c.IKeybindingService),fe(3,d.INotificationService),fe(4,o.IContextMenuService),fe(5,t.IMenuService),fe(6,l.IInstantiationService),fe(7,r.IStorageService)],T),e.DropdownWithDefaultActionViewItem=T;let I=class extends k.SelectActionViewItem{constructor(O,M,N){super(null,O,O.actions.map(A=>({text:A.id===L.Separator.ID?"\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500":A.label,isDisabled:!A.enabled})),0,N,{ariaLabel:O.tooltip,optionsAsChildren:!0}),this.themeService=M,this._register((0,p.attachSelectBoxStyler)(this.selectBox,M)),this.select(Math.max(0,O.actions.findIndex(A=>A.checked)))}render(O){super.render(O),this._register((0,p.attachStylerCallback)(this.themeService,{selectBorder:S.selectBorder},M=>{O.style.borderColor=M.selectBorder?`${M.selectBorder}`:""}))}runAction(O,M){const N=this.action.actions[M];N&&this.actionRunner.run(N)}};I=De([fe(1,s.IThemeService),fe(2,o.IContextViewService)],I);function R(F,O,M){return O instanceof t.MenuItemAction?F.createInstance(y,O,M):O instanceof t.SubmenuItemAction?O.item.isSelection?F.createInstance(I,O):O.item.rememberDefaultAction?F.createInstance(T,O,M):F.createInstance(E,O,M):void 0}e.createActionViewItem=R}),define(se[750],re([1,0,7,77,2,104,621,172,32,15,9]),function(q,e,w,m,k,D,L,b,C,h,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestWidgetStatus=void 0;class t extends b.MenuEntryActionViewItem{updateLabel(){const o=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!o)return super.updateLabel();this.label&&(this.label.textContent=(0,L.localize)(0,null,this._action.label,t.symbolPrintEnter(o)))}static symbolPrintEnter(o){var l;return(l=o.getLabel())===null||l===void 0?void 0:l.replace(/\benter\b/gi,"\u23CE")}}let i=class{constructor(o,l,c,d){this._menuService=c,this._contextKeyService=d,this._menuDisposables=new k.DisposableStore,this.element=w.append(o,w.$(".suggest-status-bar"));const r=s=>s instanceof C.MenuItemAction?l.createInstance(t,s,void 0):void 0;this._leftActions=new m.ActionBar(this.element,{actionViewItemProvider:r}),this._rightActions=new m.ActionBar(this.element,{actionViewItemProvider:r}),this._leftActions.domNode.classList.add("left"),this._rightActions.domNode.classList.add("right")}dispose(){this._menuDisposables.dispose(),this.element.remove()}show(){const o=this._menuService.createMenu(D.suggestWidgetStatusbarMenu,this._contextKeyService),l=()=>{const c=[],d=[];for(const[r,s]of o.getActions())r==="left"?c.push(...s):d.push(...s);this._leftActions.clear(),this._leftActions.push(c),this._rightActions.clear(),this._rightActions.push(d)};this._menuDisposables.add(o.onDidChange(()=>l())),this._menuDisposables.add(o)}hide(){this._menuDisposables.clear()}};i=De([fe(1,g.IInstantiationService),fe(2,C.IMenuService),fe(3,h.IContextKeyService)],i),e.SuggestWidgetStatus=i}),define(se[751],re([1,0,10,6,2,32,26,15,43,80,18,631]),function(q,e,w,m,k,D,L,b,C,h,g,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MenuService=void 0;let i=class{constructor(r,s){this._commandService=r,this._hiddenStates=new n(s)}createMenu(r,s,a){return new l(r,this._hiddenStates,Object.assign({emitEventsForSubmenuChanges:!1,eventDebounceDelay:50},a),this._commandService,s)}};i=De([fe(0,L.ICommandService),fe(1,h.IStorageService)],i),e.MenuService=i;let n=class Pt{constructor(r){this._storageService=r,this._disposables=new k.DisposableStore,this._onDidChange=new m.Emitter,this.onDidChange=this._onDidChange.event,this._ignoreChangeEvent=!1;try{const s=r.get(Pt._key,0,"{}");this._data=JSON.parse(s)}catch{this._data=Object.create(null)}this._disposables.add(r.onDidChangeValue(s=>{if(s.key===Pt._key){if(!this._ignoreChangeEvent)try{const a=r.get(Pt._key,0,"{}");this._data=JSON.parse(a)}catch(a){console.log("FAILED to read storage after UPDATE",a)}this._onDidChange.fire()}}))}dispose(){this._onDidChange.dispose(),this._disposables.dispose()}isHidden(r,s){var a,u;return(u=(a=this._data[r.id])===null||a===void 0?void 0:a.includes(s))!==null&&u!==void 0?u:!1}updateHidden(r,s,a){const u=this._data[r.id];if(a)u?u.indexOf(s)<0&&u.push(s):this._data[r.id]=[s];else if(u){const p=u.indexOf(s);p>=0&&(0,g.removeFastWithoutKeepingOrder)(u,p),u.length===0&&delete this._data[r.id]}this._persist()}_persist(){try{this._ignoreChangeEvent=!0;const r=JSON.stringify(this._data);this._storageService.store(Pt._key,r,0,0)}finally{this._ignoreChangeEvent=!1}}};n._key="menu.hiddenCommands",n=De([fe(0,h.IStorageService)],n);let o=class Dt{constructor(r,s,a,u,p){this._id=r,this._hiddenStates=s,this._collectContextKeysForSubmenus=a,this._commandService=u,this._contextKeyService=p,this._menuGroups=[],this._structureContextKeys=new Set,this._preconditionContextKeys=new Set,this._toggledContextKeys=new Set,this.refresh()}get structureContextKeys(){return this._structureContextKeys}get preconditionContextKeys(){return this._preconditionContextKeys}get toggledContextKeys(){return this._toggledContextKeys}refresh(){this._menuGroups.length=0,this._structureContextKeys.clear(),this._preconditionContextKeys.clear(),this._toggledContextKeys.clear();const r=D.MenuRegistry.getMenuItems(this._id);let s;r.sort(Dt._compareMenuItems);for(const a of r){const u=a.group||"";(!s||s[0]!==u)&&(s=[u,[]],this._menuGroups.push(s)),s[1].push(a),this._collectContextKeys(a)}}_collectContextKeys(r){if(Dt._fillInKbExprKeys(r.when,this._structureContextKeys),(0,D.isIMenuItem)(r)){if(r.command.precondition&&Dt._fillInKbExprKeys(r.command.precondition,this._preconditionContextKeys),r.command.toggled){const s=r.command.toggled.condition||r.command.toggled;Dt._fillInKbExprKeys(s,this._toggledContextKeys)}}else this._collectContextKeysForSubmenus&&D.MenuRegistry.getMenuItems(r.submenu).forEach(this._collectContextKeys,this)}createActionGroups(r){const s=[];for(const a of this._menuGroups){const[u,p]=a,S=[];for(const f of p)if(this._contextKeyService.contextMatchesRules(f.when)){const v=(0,D.isIMenuItem)(f),_=c(this._id,v?f.command:f,this._hiddenStates);if(v){const y=f.command._isFakeAction?void 0:_;S.push(new D.MenuItemAction(f.command,f.alt,r,y,this._contextKeyService,this._commandService))}else{const y=new Dt(f.submenu,this._hiddenStates,this._collectContextKeysForSubmenus,this._commandService,this._contextKeyService).createActionGroups(r),E=C.Separator.join(...y.map(T=>T[1]));E.length>0&&S.push(new D.SubmenuItemAction(f,_,E))}}S.length>0&&s.push([u,S])}return s}static _fillInKbExprKeys(r,s){if(r)for(const a of r.keys())s.add(a)}static _compareMenuItems(r,s){const a=r.group,u=s.group;if(a!==u){if(a){if(!u)return-1}else return 1;if(a==="navigation")return-1;if(u==="navigation")return 1;const f=a.localeCompare(u);if(f!==0)return f}const p=r.order||0,S=s.order||0;return p<S?-1:p>S?1:Dt._compareTitles((0,D.isIMenuItem)(r)?r.command.title:r.title,(0,D.isIMenuItem)(s)?s.command.title:s.title)}static _compareTitles(r,s){const a=typeof r=="string"?r:r.original,u=typeof s=="string"?s:s.original;return a.localeCompare(u)}};o=De([fe(3,L.ICommandService),fe(4,b.IContextKeyService)],o);let l=class{constructor(r,s,a,u,p){this._disposables=new k.DisposableStore,this._menuInfo=new o(r,s,a.emitEventsForSubmenuChanges,u,p);const S=new w.RunOnceScheduler(()=>{this._menuInfo.refresh(),this._onDidChange.fire({menu:this,isStructuralChange:!0,isEnablementChange:!0,isToggleChange:!0})},a.eventDebounceDelay);this._disposables.add(S),this._disposables.add(D.MenuRegistry.onDidChangeMenu(y=>{y.has(r)&&S.schedule()}));const f=this._disposables.add(new k.DisposableStore),v=y=>{let E=!1,T=!1,I=!1;for(const R of y)if(E=E||R.isStructuralChange,T=T||R.isEnablementChange,I=I||R.isToggleChange,E&&T&&I)break;return{menu:this,isStructuralChange:E,isEnablementChange:T,isToggleChange:I}},_=()=>{f.add(p.onDidChangeContext(y=>{const E=y.affectsSome(this._menuInfo.structureContextKeys),T=y.affectsSome(this._menuInfo.preconditionContextKeys),I=y.affectsSome(this._menuInfo.toggledContextKeys);(E||T||I)&&this._onDidChange.fire({menu:this,isStructuralChange:E,isEnablementChange:T,isToggleChange:I})})),f.add(s.onDidChange(y=>{this._onDidChange.fire({menu:this,isStructuralChange:!0,isEnablementChange:!1,isToggleChange:!1})}))};this._onDidChange=new m.DebounceEmitter({onFirstListenerAdd:_,onLastListenerRemove:f.clear.bind(f),delay:a.eventDebounceDelay,merge:v}),this.onDidChange=this._onDidChange.event}getActions(r){return this._menuInfo.createActionGroups(r)}dispose(){this._disposables.dispose(),this._onDidChange.dispose()}};l=De([fe(3,L.ICommandService),fe(4,b.IContextKeyService)],l);function c(d,r,s){const a=(0,D.isISubmenuItem)(r)?r.submenu.id:r.id,u=typeof r.title=="string"?r.title:r.title.value,p=(0,C.toAction)({id:`hide/${d.id}/${a}`,label:(0,t.localize)(0,null,u),run(){s.updateHidden(d,a,!0)}}),S=(0,C.toAction)({id:`toggle/${d.id}/${a}`,label:u,get checked(){return!s.isHidden(d,a)},run(){const f=!s.isHidden(d,a);s.updateHidden(d,a,f)}});return{hide:p,toggle:S,get isHidden(){return!S.checked}}}}),define(se[752],re([1,0,7,43,6,2,172,32,15,41,40,81,16,691,71]),function(q,e,w,m,k,D,L,b,C,h,g,t,i,n,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextMenuMenuDelegate=e.ContextMenuService=void 0;let l=class extends D.Disposable{get contextMenuHandler(){return this._contextMenuHandler||(this._contextMenuHandler=new n.ContextMenuHandler(this.contextViewService,this.telemetryService,this.notificationService,this.keybindingService,this.themeService)),this._contextMenuHandler}constructor(r,s,a,u,p,S,f){super(),this.telemetryService=r,this.notificationService=s,this.contextViewService=a,this.keybindingService=u,this.themeService=p,this.menuService=S,this.contextKeyService=f,this._contextMenuHandler=void 0,this._onDidShowContextMenu=this._store.add(new k.Emitter),this._onDidHideContextMenu=this._store.add(new k.Emitter)}configure(r){this.contextMenuHandler.configure(r)}showContextMenu(r){r=c.transform(r,this.menuService,this.contextKeyService),this.contextMenuHandler.showContextMenu(Object.assign(Object.assign({},r),{onHide:s=>{var a;(a=r.onHide)===null||a===void 0||a.call(r,s),this._onDidHideContextMenu.fire()}})),w.ModifierKeyEmitter.getInstance().resetKeyStatus(),this._onDidShowContextMenu.fire()}};l=De([fe(0,t.ITelemetryService),fe(1,g.INotificationService),fe(2,o.IContextViewService),fe(3,h.IKeybindingService),fe(4,i.IThemeService),fe(5,b.IMenuService),fe(6,C.IContextKeyService)],l),e.ContextMenuService=l;var c;(function(d){function r(a){return a&&a.menuId instanceof b.MenuId}function s(a,u,p){if(!r(a))return a;const{menuId:S,menuActionOptions:f,contextKeyService:v}=a;return Object.assign(Object.assign({},a),{getActions:()=>{const _=[];if(S){const y=u.createMenu(S,v??p);(0,L.createAndFillInContextMenuActions)(y,f,_),y.dispose()}return a.getActions?m.Separator.join(a.getActions(),_):_}})}d.transform=s})(c=e.ContextMenuMenuDelegate||(e.ContextMenuMenuDelegate={}))}),define(se[173],re([1,0,7,505,102,506,164,513,512,271,6,2,637,30,89,15,292,71,9,41,33,121,16]),function(q,e,w,m,k,D,L,b,C,h,g,t,i,n,o,l,c,d,r,s,a,u,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WorkbenchCompressibleAsyncDataTree=e.WorkbenchAsyncDataTree=e.WorkbenchDataTree=e.WorkbenchCompressibleObjectTree=e.WorkbenchObjectTree=e.WorkbenchTable=e.WorkbenchPagedList=e.WorkbenchList=e.WorkbenchTreeFindOpen=e.WorkbenchTreeElementHasChild=e.WorkbenchTreeElementCanExpand=e.WorkbenchTreeElementHasParent=e.WorkbenchTreeElementCanCollapse=e.WorkbenchListSupportsFind=e.WorkbenchListSelectionNavigation=e.WorkbenchListMultiSelection=e.WorkbenchListDoubleSelection=e.WorkbenchListHasSelectionOrFocus=e.WorkbenchListFocusContextKey=e.WorkbenchListSupportsMultiSelectContextKey=e.RawWorkbenchListFocusContextKey=e.ListService=e.IListService=void 0,e.IListService=(0,r.createDecorator)("listService");let S=class{get lastFocusedList(){return this._lastFocusedWidget}constructor(j){this._themeService=j,this.disposables=new t.DisposableStore,this.lists=[],this._lastFocusedWidget=void 0,this._hasCreatedStyleController=!1}setLastFocusedList(j){var de,ue;j!==this._lastFocusedWidget&&((de=this._lastFocusedWidget)===null||de===void 0||de.getHTMLElement().classList.remove("last-focused"),this._lastFocusedWidget=j,(ue=this._lastFocusedWidget)===null||ue===void 0||ue.getHTMLElement().classList.add("last-focused"))}register(j,de){if(!this._hasCreatedStyleController){this._hasCreatedStyleController=!0;const ce=new k.DefaultStyleController((0,w.createStyleSheet)(),"");this.disposables.add((0,u.attachListStyler)(ce,this._themeService))}if(this.lists.some(ce=>ce.widget===j))throw new Error("Cannot register the same widget multiple times");const ue={widget:j,extraContextKeys:de};return this.lists.push(ue),j.getHTMLElement()===document.activeElement&&this.setLastFocusedList(j),(0,t.combinedDisposable)(j.onDidFocus(()=>this.setLastFocusedList(j)),(0,t.toDisposable)(()=>this.lists.splice(this.lists.indexOf(ue),1)),j.onDidDispose(()=>{this.lists=this.lists.filter(ce=>ce!==ue),this._lastFocusedWidget===j&&this.setLastFocusedList(void 0)}))}dispose(){this.disposables.dispose()}};S=De([fe(0,p.IThemeService)],S),e.ListService=S,e.RawWorkbenchListFocusContextKey=new l.RawContextKey("listFocus",!0),e.WorkbenchListSupportsMultiSelectContextKey=new l.RawContextKey("listSupportsMultiselect",!0),e.WorkbenchListFocusContextKey=l.ContextKeyExpr.and(e.RawWorkbenchListFocusContextKey,l.ContextKeyExpr.not(c.InputFocusedContextKey)),e.WorkbenchListHasSelectionOrFocus=new l.RawContextKey("listHasSelectionOrFocus",!1),e.WorkbenchListDoubleSelection=new l.RawContextKey("listDoubleSelection",!1),e.WorkbenchListMultiSelection=new l.RawContextKey("listMultiSelection",!1),e.WorkbenchListSelectionNavigation=new l.RawContextKey("listSelectionNavigation",!1),e.WorkbenchListSupportsFind=new l.RawContextKey("listSupportsFind",!0),e.WorkbenchTreeElementCanCollapse=new l.RawContextKey("treeElementCanCollapse",!1),e.WorkbenchTreeElementHasParent=new l.RawContextKey("treeElementHasParent",!1),e.WorkbenchTreeElementCanExpand=new l.RawContextKey("treeElementCanExpand",!1),e.WorkbenchTreeElementHasChild=new l.RawContextKey("treeElementHasChild",!1),e.WorkbenchTreeFindOpen=new l.RawContextKey("treeFindOpen",!1);const f="listTypeNavigationMode",v="listAutomaticKeyboardNavigation";function _(H,j){const de=H.createScoped(j.getHTMLElement());return e.RawWorkbenchListFocusContextKey.bindTo(de),de}const y="workbench.list.multiSelectModifier",E="workbench.list.openMode",T="workbench.list.horizontalScrolling",I="workbench.list.defaultFindMode",R="workbench.list.keyboardNavigation",F="workbench.tree.indent",O="workbench.tree.renderIndentGuides",M="workbench.list.smoothScrolling",N="workbench.list.mouseWheelScrollSensitivity",A="workbench.list.fastScrollSensitivity",B="workbench.tree.expandMode";function W(H){return H.getValue(y)==="alt"}class x extends t.Disposable{constructor(j){super(),this.configurationService=j,this.useAltAsMultipleSelectionModifier=W(j),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(j=>{j.affectsConfiguration(y)&&(this.useAltAsMultipleSelectionModifier=W(this.configurationService))}))}isSelectionSingleChangeEvent(j){return this.useAltAsMultipleSelectionModifier?j.browserEvent.altKey:(0,k.isSelectionSingleChangeEvent)(j)}isSelectionRangeChangeEvent(j){return(0,k.isSelectionRangeChangeEvent)(j)}}function P(H,j){var de;const ue=H.get(n.IConfigurationService),ce=H.get(s.IKeybindingService),ge=new t.DisposableStore;return[Object.assign(Object.assign({},j),{keyboardNavigationDelegate:{mightProducePrintableCharacter(_e){return ce.mightProducePrintableCharacter(_e)}},smoothScrolling:Boolean(ue.getValue(M)),mouseWheelScrollSensitivity:ue.getValue(N),fastScrollSensitivity:ue.getValue(A),multipleSelectionController:(de=j.multipleSelectionController)!==null&&de!==void 0?de:ge.add(new x(ue)),keyboardNavigationEventFilter:ee(ce)}),ge]}let X=class extends k.List{constructor(j,de,ue,ce,ge,ve,_e,ye,Ee,Te){const we=typeof ge.horizontalScrolling<"u"?ge.horizontalScrolling:Boolean(Ee.getValue(T)),[Ce,te]=Te.invokeFunction(P,ge);super(j,de,ue,ce,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},(0,u.computeStyles)(ye.getColorTheme(),u.defaultListStyles)),Ce),{horizontalScrolling:we})),this.disposables.add(te),this.contextKeyService=_(ve,this),this.themeService=ye,this.listSupportsMultiSelect=e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(ge.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(Boolean(ge.selectionNavigation)),this.listHasSelectionOrFocus=e.WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService),this.listDoubleSelection=e.WorkbenchListDoubleSelection.bindTo(this.contextKeyService),this.listMultiSelection=e.WorkbenchListMultiSelection.bindTo(this.contextKeyService),this.horizontalScrolling=ge.horizontalScrolling,this._useAltAsMultipleSelectionModifier=W(Ee),this.disposables.add(this.contextKeyService),this.disposables.add(_e.register(this)),ge.overrideStyles&&this.updateStyles(ge.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const be=this.getSelection(),me=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(be.length>0||me.length>0),this.listMultiSelection.set(be.length>1),this.listDoubleSelection.set(be.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const be=this.getSelection(),me=this.getFocus();this.listHasSelectionOrFocus.set(be.length>0||me.length>0)})),this.disposables.add(Ee.onDidChangeConfiguration(be=>{be.affectsConfiguration(y)&&(this._useAltAsMultipleSelectionModifier=W(Ee));let me={};if(be.affectsConfiguration(T)&&this.horizontalScrolling===void 0){const pe=Boolean(Ee.getValue(T));me=Object.assign(Object.assign({},me),{horizontalScrolling:pe})}if(be.affectsConfiguration(M)){const pe=Boolean(Ee.getValue(M));me=Object.assign(Object.assign({},me),{smoothScrolling:pe})}if(be.affectsConfiguration(N)){const pe=Ee.getValue(N);me=Object.assign(Object.assign({},me),{mouseWheelScrollSensitivity:pe})}if(be.affectsConfiguration(A)){const pe=Ee.getValue(A);me=Object.assign(Object.assign({},me),{fastScrollSensitivity:pe})}Object.keys(me).length>0&&this.updateOptions(me)})),this.navigator=new Q(this,Object.assign({configurationService:Ee},ge)),this.disposables.add(this.navigator)}updateOptions(j){super.updateOptions(j),j.overrideStyles&&this.updateStyles(j.overrideStyles),j.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!j.multipleSelectionSupport)}updateStyles(j){var de;(de=this._styler)===null||de===void 0||de.dispose(),this._styler=(0,u.attachListStyler)(this,this.themeService,j)}dispose(){var j;(j=this._styler)===null||j===void 0||j.dispose(),super.dispose()}};X=De([fe(5,l.IContextKeyService),fe(6,e.IListService),fe(7,p.IThemeService),fe(8,n.IConfigurationService),fe(9,r.IInstantiationService)],X),e.WorkbenchList=X;let ie=class extends m.PagedList{constructor(j,de,ue,ce,ge,ve,_e,ye,Ee,Te){const we=typeof ge.horizontalScrolling<"u"?ge.horizontalScrolling:Boolean(Ee.getValue(T)),[Ce,te]=Te.invokeFunction(P,ge);super(j,de,ue,ce,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},(0,u.computeStyles)(ye.getColorTheme(),u.defaultListStyles)),Ce),{horizontalScrolling:we})),this.disposables=new t.DisposableStore,this.disposables.add(te),this.contextKeyService=_(ve,this),this.themeService=ye,this.horizontalScrolling=ge.horizontalScrolling,this.listSupportsMultiSelect=e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(ge.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(Boolean(ge.selectionNavigation)),this._useAltAsMultipleSelectionModifier=W(Ee),this.disposables.add(this.contextKeyService),this.disposables.add(_e.register(this)),ge.overrideStyles&&this.updateStyles(ge.overrideStyles),ge.overrideStyles&&this.disposables.add((0,u.attachListStyler)(this,ye,ge.overrideStyles)),this.disposables.add(Ee.onDidChangeConfiguration(be=>{be.affectsConfiguration(y)&&(this._useAltAsMultipleSelectionModifier=W(Ee));let me={};if(be.affectsConfiguration(T)&&this.horizontalScrolling===void 0){const pe=Boolean(Ee.getValue(T));me=Object.assign(Object.assign({},me),{horizontalScrolling:pe})}if(be.affectsConfiguration(M)){const pe=Boolean(Ee.getValue(M));me=Object.assign(Object.assign({},me),{smoothScrolling:pe})}if(be.affectsConfiguration(N)){const pe=Ee.getValue(N);me=Object.assign(Object.assign({},me),{mouseWheelScrollSensitivity:pe})}if(be.affectsConfiguration(A)){const pe=Ee.getValue(A);me=Object.assign(Object.assign({},me),{fastScrollSensitivity:pe})}Object.keys(me).length>0&&this.updateOptions(me)})),this.navigator=new Q(this,Object.assign({configurationService:Ee},ge)),this.disposables.add(this.navigator)}updateOptions(j){super.updateOptions(j),j.overrideStyles&&this.updateStyles(j.overrideStyles),j.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!j.multipleSelectionSupport)}updateStyles(j){var de;(de=this._styler)===null||de===void 0||de.dispose(),this._styler=(0,u.attachListStyler)(this,this.themeService,j)}dispose(){var j;(j=this._styler)===null||j===void 0||j.dispose(),this.disposables.dispose(),super.dispose()}};ie=De([fe(5,l.IContextKeyService),fe(6,e.IListService),fe(7,p.IThemeService),fe(8,n.IConfigurationService),fe(9,r.IInstantiationService)],ie),e.WorkbenchPagedList=ie;let K=class extends D.Table{constructor(j,de,ue,ce,ge,ve,_e,ye,Ee,Te,we){const Ce=typeof ve.horizontalScrolling<"u"?ve.horizontalScrolling:Boolean(Te.getValue(T)),[te,he]=we.invokeFunction(P,ve);super(j,de,ue,ce,ge,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},(0,u.computeStyles)(Ee.getColorTheme(),u.defaultListStyles)),te),{horizontalScrolling:Ce})),this.disposables.add(he),this.contextKeyService=_(_e,this),this.themeService=Ee,this.listSupportsMultiSelect=e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(ve.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(Boolean(ve.selectionNavigation)),this.listHasSelectionOrFocus=e.WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService),this.listDoubleSelection=e.WorkbenchListDoubleSelection.bindTo(this.contextKeyService),this.listMultiSelection=e.WorkbenchListMultiSelection.bindTo(this.contextKeyService),this.horizontalScrolling=ve.horizontalScrolling,this._useAltAsMultipleSelectionModifier=W(Te),this.disposables.add(this.contextKeyService),this.disposables.add(ye.register(this)),ve.overrideStyles&&this.updateStyles(ve.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const me=this.getSelection(),pe=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(me.length>0||pe.length>0),this.listMultiSelection.set(me.length>1),this.listDoubleSelection.set(me.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const me=this.getSelection(),pe=this.getFocus();this.listHasSelectionOrFocus.set(me.length>0||pe.length>0)})),this.disposables.add(Te.onDidChangeConfiguration(me=>{me.affectsConfiguration(y)&&(this._useAltAsMultipleSelectionModifier=W(Te));let pe={};if(me.affectsConfiguration(T)&&this.horizontalScrolling===void 0){const Le=Boolean(Te.getValue(T));pe=Object.assign(Object.assign({},pe),{horizontalScrolling:Le})}if(me.affectsConfiguration(M)){const Le=Boolean(Te.getValue(M));pe=Object.assign(Object.assign({},pe),{smoothScrolling:Le})}if(me.affectsConfiguration(N)){const Le=Te.getValue(N);pe=Object.assign(Object.assign({},pe),{mouseWheelScrollSensitivity:Le})}if(me.affectsConfiguration(A)){const Le=Te.getValue(A);pe=Object.assign(Object.assign({},pe),{fastScrollSensitivity:Le})}Object.keys(pe).length>0&&this.updateOptions(pe)})),this.navigator=new ne(this,Object.assign({configurationService:Te},ve)),this.disposables.add(this.navigator)}updateOptions(j){super.updateOptions(j),j.overrideStyles&&this.updateStyles(j.overrideStyles),j.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!j.multipleSelectionSupport)}updateStyles(j){var de;(de=this._styler)===null||de===void 0||de.dispose(),this._styler=(0,u.attachListStyler)(this,this.themeService,j)}dispose(){var j;(j=this._styler)===null||j===void 0||j.dispose(),this.disposables.dispose(),super.dispose()}};K=De([fe(6,l.IContextKeyService),fe(7,e.IListService),fe(8,p.IThemeService),fe(9,n.IConfigurationService),fe(10,r.IInstantiationService)],K),e.WorkbenchTable=K;class G extends t.Disposable{constructor(j,de){var ue;super(),this.widget=j,this._onDidOpen=this._register(new g.Emitter),this.onDidOpen=this._onDidOpen.event,this._register(g.Event.filter(this.widget.onDidChangeSelection,ce=>ce.browserEvent instanceof KeyboardEvent)(ce=>this.onSelectionFromKeyboard(ce))),this._register(this.widget.onPointer(ce=>this.onPointer(ce.element,ce.browserEvent))),this._register(this.widget.onMouseDblClick(ce=>this.onMouseDblClick(ce.element,ce.browserEvent))),typeof de?.openOnSingleClick!="boolean"&&de?.configurationService?(this.openOnSingleClick=de?.configurationService.getValue(E)!=="doubleClick",this._register(de?.configurationService.onDidChangeConfiguration(()=>{this.openOnSingleClick=de?.configurationService.getValue(E)!=="doubleClick"}))):this.openOnSingleClick=(ue=de?.openOnSingleClick)!==null&&ue!==void 0?ue:!0}onSelectionFromKeyboard(j){if(j.elements.length!==1)return;const de=j.browserEvent,ue=typeof de.preserveFocus=="boolean"?de.preserveFocus:!0,ce=typeof de.pinned=="boolean"?de.pinned:!ue,ge=!1;this._open(this.getSelectedElement(),ue,ce,ge,j.browserEvent)}onPointer(j,de){if(!this.openOnSingleClick||de.detail===2)return;const ce=de.button===1,ge=!0,ve=ce,_e=de.ctrlKey||de.metaKey||de.altKey;this._open(j,ge,ve,_e,de)}onMouseDblClick(j,de){if(!de)return;const ue=de.target;if(ue.classList.contains("monaco-tl-twistie")||ue.classList.contains("monaco-icon-label")&&ue.classList.contains("folder-icon")&&de.offsetX<16)return;const ge=!1,ve=!0,_e=de.ctrlKey||de.metaKey||de.altKey;this._open(j,ge,ve,_e,de)}_open(j,de,ue,ce,ge){!j||this._onDidOpen.fire({editorOptions:{preserveFocus:de,pinned:ue,revealIfVisible:!0},sideBySide:ce,element:j,browserEvent:ge})}}class Q extends G{constructor(j,de){super(j,de),this.widget=j}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class ne extends G{constructor(j,de){super(j,de)}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class Z extends G{constructor(j,de){super(j,de)}getSelectedElement(){var j;return(j=this.widget.getSelection()[0])!==null&&j!==void 0?j:void 0}}function ee(H){let j=!1;return de=>{if(de.toKeybinding().isModifierKey())return!1;if(j)return j=!1,!1;const ue=H.softDispatch(de,de.target);return ue?.enterChord?(j=!0,!1):(j=!1,!ue)}}let le=class extends h.ObjectTree{constructor(j,de,ue,ce,ge,ve,_e,ye,Ee,Te){const{options:we,getTypeNavigationMode:Ce,disposable:te}=ve.invokeFunction(z,ge);super(j,de,ue,ce,we),this.disposables.add(te),this.internals=new J(this,ge,Ce,ge.overrideStyles,_e,ye,Ee,Te),this.disposables.add(this.internals)}updateOptions(j){super.updateOptions(j),this.internals.updateOptions(j)}};le=De([fe(5,r.IInstantiationService),fe(6,l.IContextKeyService),fe(7,e.IListService),fe(8,p.IThemeService),fe(9,n.IConfigurationService)],le),e.WorkbenchObjectTree=le;let V=class extends h.CompressibleObjectTree{constructor(j,de,ue,ce,ge,ve,_e,ye,Ee,Te){const{options:we,getTypeNavigationMode:Ce,disposable:te}=ve.invokeFunction(z,ge);super(j,de,ue,ce,we),this.disposables.add(te),this.internals=new J(this,ge,Ce,ge.overrideStyles,_e,ye,Ee,Te),this.disposables.add(this.internals)}updateOptions(j={}){super.updateOptions(j),j.overrideStyles&&this.internals.updateStyleOverrides(j.overrideStyles),this.internals.updateOptions(j)}};V=De([fe(5,r.IInstantiationService),fe(6,l.IContextKeyService),fe(7,e.IListService),fe(8,p.IThemeService),fe(9,n.IConfigurationService)],V),e.WorkbenchCompressibleObjectTree=V;let $=class extends C.DataTree{constructor(j,de,ue,ce,ge,ve,_e,ye,Ee,Te,we){const{options:Ce,getTypeNavigationMode:te,disposable:he}=_e.invokeFunction(z,ve);super(j,de,ue,ce,ge,Ce),this.disposables.add(he),this.internals=new J(this,ve,te,ve.overrideStyles,ye,Ee,Te,we),this.disposables.add(this.internals)}updateOptions(j={}){super.updateOptions(j),j.overrideStyles&&this.internals.updateStyleOverrides(j.overrideStyles),this.internals.updateOptions(j)}};$=De([fe(6,r.IInstantiationService),fe(7,l.IContextKeyService),fe(8,e.IListService),fe(9,p.IThemeService),fe(10,n.IConfigurationService)],$),e.WorkbenchDataTree=$;let oe=class extends b.AsyncDataTree{get onDidOpen(){return this.internals.onDidOpen}constructor(j,de,ue,ce,ge,ve,_e,ye,Ee,Te,we){const{options:Ce,getTypeNavigationMode:te,disposable:he}=_e.invokeFunction(z,ve);super(j,de,ue,ce,ge,Ce),this.disposables.add(he),this.internals=new J(this,ve,te,ve.overrideStyles,ye,Ee,Te,we),this.disposables.add(this.internals)}updateOptions(j={}){super.updateOptions(j),j.overrideStyles&&this.internals.updateStyleOverrides(j.overrideStyles),this.internals.updateOptions(j)}};oe=De([fe(6,r.IInstantiationService),fe(7,l.IContextKeyService),fe(8,e.IListService),fe(9,p.IThemeService),fe(10,n.IConfigurationService)],oe),e.WorkbenchAsyncDataTree=oe;let U=class extends b.CompressibleAsyncDataTree{constructor(j,de,ue,ce,ge,ve,_e,ye,Ee,Te,we,Ce){const{options:te,getTypeNavigationMode:he,disposable:be}=ye.invokeFunction(z,_e);super(j,de,ue,ce,ge,ve,te),this.disposables.add(be),this.internals=new J(this,_e,he,_e.overrideStyles,Ee,Te,we,Ce),this.disposables.add(this.internals)}updateOptions(j){super.updateOptions(j),this.internals.updateOptions(j)}};U=De([fe(7,r.IInstantiationService),fe(8,l.IContextKeyService),fe(9,e.IListService),fe(10,p.IThemeService),fe(11,n.IConfigurationService)],U),e.WorkbenchCompressibleAsyncDataTree=U;function ae(H){const j=H.getValue(I);if(j==="highlight")return L.TreeFindMode.Highlight;if(j==="filter")return L.TreeFindMode.Filter;const de=H.getValue(R);if(de==="simple"||de==="highlight")return L.TreeFindMode.Highlight;if(de==="filter")return L.TreeFindMode.Filter}function z(H,j){var de;const ue=H.get(n.IConfigurationService),ce=H.get(d.IContextViewService),ge=H.get(l.IContextKeyService),ve=H.get(r.IInstantiationService),_e=()=>{const Ce=ge.getContextKeyValue(f);if(Ce==="automatic")return k.TypeNavigationMode.Automatic;if(Ce==="trigger"||ge.getContextKeyValue(v)===!1)return k.TypeNavigationMode.Trigger},ye=j.horizontalScrolling!==void 0?j.horizontalScrolling:Boolean(ue.getValue(T)),[Ee,Te]=ve.invokeFunction(P,j),we=j.additionalScrollHeight;return{getTypeNavigationMode:_e,disposable:Te,options:Object.assign(Object.assign({keyboardSupport:!1},Ee),{indent:typeof ue.getValue(F)=="number"?ue.getValue(F):void 0,renderIndentGuides:ue.getValue(O),smoothScrolling:Boolean(ue.getValue(M)),defaultFindMode:ae(ue),horizontalScrolling:ye,additionalScrollHeight:we,hideTwistiesOfChildlessElements:j.hideTwistiesOfChildlessElements,expandOnlyOnTwistieClick:(de=j.expandOnlyOnTwistieClick)!==null&&de!==void 0?de:ue.getValue(B)==="doubleClick",contextViewProvider:ce})}}let J=class{get onDidOpen(){return this.navigator.onDidOpen}constructor(j,de,ue,ce,ge,ve,_e,ye){var Ee;this.tree=j,this.themeService=_e,this.disposables=[],this.contextKeyService=_(ge,j),this.listSupportsMultiSelect=e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(de.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(Boolean(de.selectionNavigation)),this.listSupportFindWidget=e.WorkbenchListSupportsFind.bindTo(this.contextKeyService),this.listSupportFindWidget.set((Ee=de.findWidgetEnabled)!==null&&Ee!==void 0?Ee:!0),this.hasSelectionOrFocus=e.WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService),this.hasDoubleSelection=e.WorkbenchListDoubleSelection.bindTo(this.contextKeyService),this.hasMultiSelection=e.WorkbenchListMultiSelection.bindTo(this.contextKeyService),this.treeElementCanCollapse=e.WorkbenchTreeElementCanCollapse.bindTo(this.contextKeyService),this.treeElementHasParent=e.WorkbenchTreeElementHasParent.bindTo(this.contextKeyService),this.treeElementCanExpand=e.WorkbenchTreeElementCanExpand.bindTo(this.contextKeyService),this.treeElementHasChild=e.WorkbenchTreeElementHasChild.bindTo(this.contextKeyService),this.treeFindOpen=e.WorkbenchTreeFindOpen.bindTo(this.contextKeyService),this._useAltAsMultipleSelectionModifier=W(ye),this.updateStyleOverrides(ce);const we=()=>{const te=j.getFocus()[0];if(!te)return;const he=j.getNode(te);this.treeElementCanCollapse.set(he.collapsible&&!he.collapsed),this.treeElementHasParent.set(!!j.getParentElement(te)),this.treeElementCanExpand.set(he.collapsible&&he.collapsed),this.treeElementHasChild.set(!!j.getFirstElementChild(te))},Ce=new Set;Ce.add(f),Ce.add(v),this.disposables.push(this.contextKeyService,ve.register(j),j.onDidChangeSelection(()=>{const te=j.getSelection(),he=j.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.hasSelectionOrFocus.set(te.length>0||he.length>0),this.hasMultiSelection.set(te.length>1),this.hasDoubleSelection.set(te.length===2)})}),j.onDidChangeFocus(()=>{const te=j.getSelection(),he=j.getFocus();this.hasSelectionOrFocus.set(te.length>0||he.length>0),we()}),j.onDidChangeCollapseState(we),j.onDidChangeModel(we),j.onDidChangeFindOpenState(te=>this.treeFindOpen.set(te)),ye.onDidChangeConfiguration(te=>{let he={};if(te.affectsConfiguration(y)&&(this._useAltAsMultipleSelectionModifier=W(ye)),te.affectsConfiguration(F)){const be=ye.getValue(F);he=Object.assign(Object.assign({},he),{indent:be})}if(te.affectsConfiguration(O)){const be=ye.getValue(O);he=Object.assign(Object.assign({},he),{renderIndentGuides:be})}if(te.affectsConfiguration(M)){const be=Boolean(ye.getValue(M));he=Object.assign(Object.assign({},he),{smoothScrolling:be})}if((te.affectsConfiguration(I)||te.affectsConfiguration(R))&&j.updateOptions({defaultFindMode:ae(ye)}),te.affectsConfiguration(T)&&de.horizontalScrolling===void 0){const be=Boolean(ye.getValue(T));he=Object.assign(Object.assign({},he),{horizontalScrolling:be})}if(te.affectsConfiguration(B)&&de.expandOnlyOnTwistieClick===void 0&&(he=Object.assign(Object.assign({},he),{expandOnlyOnTwistieClick:ye.getValue(B)==="doubleClick"})),te.affectsConfiguration(N)){const be=ye.getValue(N);he=Object.assign(Object.assign({},he),{mouseWheelScrollSensitivity:be})}if(te.affectsConfiguration(A)){const be=ye.getValue(A);he=Object.assign(Object.assign({},he),{fastScrollSensitivity:be})}Object.keys(he).length>0&&j.updateOptions(he)}),this.contextKeyService.onDidChangeContext(te=>{te.affectsSome(Ce)&&j.updateOptions({typeNavigationMode:ue()})})),this.navigator=new Z(j,Object.assign({configurationService:ye},de)),this.disposables.push(this.navigator)}updateOptions(j){j.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!j.multipleSelectionSupport)}updateStyleOverrides(j){(0,t.dispose)(this.styler),this.styler=(0,u.attachListStyler)(this.tree,this.themeService,j)}dispose(){this.disposables=(0,t.dispose)(this.disposables),(0,t.dispose)(this.styler),this.styler=void 0}};J=De([fe(4,l.IContextKeyService),fe(5,e.IListService),fe(6,p.IThemeService),fe(7,n.IConfigurationService)],J),a.Registry.as(o.Extensions.Configuration).registerConfiguration({id:"workbench",order:7,title:(0,i.localize)(0,null),type:"object",properties:{[y]:{type:"string",enum:["ctrlCmd","alt"],markdownEnumDescriptions:[(0,i.localize)(1,null),(0,i.localize)(2,null)],default:"ctrlCmd",description:(0,i.localize)(3,null)},[E]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,i.localize)(4,null)},[T]:{type:"boolean",default:!1,description:(0,i.localize)(5,null)},[F]:{type:"number",default:8,minimum:4,maximum:40,description:(0,i.localize)(6,null)},[O]:{type:"string",enum:["none","onHover","always"],default:"onHover",description:(0,i.localize)(7,null)},[M]:{type:"boolean",default:!1,description:(0,i.localize)(8,null)},[N]:{type:"number",default:1,markdownDescription:(0,i.localize)(9,null)},[A]:{type:"number",default:5,description:(0,i.localize)(10,null)},[I]:{type:"string",enum:["highlight","filter"],enumDescriptions:[(0,i.localize)(11,null),(0,i.localize)(12,null)],default:"highlight",description:(0,i.localize)(13,null)},[R]:{type:"string",enum:["simple","highlight","filter"],enumDescriptions:[(0,i.localize)(14,null),(0,i.localize)(15,null),(0,i.localize)(16,null)],default:"highlight",description:(0,i.localize)(17,null),deprecated:!0,deprecationMessage:(0,i.localize)(18,null)},[B]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,i.localize)(19,null)}}})}),define(se[753],re([1,0,7,86,45,60,6,2,46,23,16]),function(q,e,w,m,k,D,L,b,C,h,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Link=void 0;let t=class extends b.Disposable{get enabled(){return this._enabled}set enabled(n){n?(this.el.setAttribute("aria-disabled","false"),this.el.tabIndex=0,this.el.style.pointerEvents="auto",this.el.style.opacity="1",this.el.style.cursor="pointer",this._enabled=!1):(this.el.setAttribute("aria-disabled","true"),this.el.tabIndex=-1,this.el.style.pointerEvents="none",this.el.style.opacity="0.4",this.el.style.cursor="default",this._enabled=!0),this._enabled=n}constructor(n,o,l={},c){var d;super(),this._link=o,this._enabled=!0,this.el=(0,w.append)(n,(0,w.$)("a.monaco-link",{tabIndex:(d=o.tabIndex)!==null&&d!==void 0?d:0,href:o.href,title:o.title},o.label)),this.el.setAttribute("role","button");const r=this._register(new m.DomEmitter(this.el,"click")),s=this._register(new m.DomEmitter(this.el,"keypress")),a=L.Event.chain(s.event).map(S=>new k.StandardKeyboardEvent(S)).filter(S=>S.keyCode===3).event,u=this._register(new m.DomEmitter(this.el,D.EventType.Tap)).event;this._register(D.Gesture.addTarget(this.el));const p=L.Event.any(r.event,a,u);this._register(p(S=>{!this.enabled||(w.EventHelper.stop(S,!0),l?.opener?l.opener(this._link.href):c.open(this._link.href,{allowCommands:!0}))})),this.enabled=!0}};t=De([fe(3,C.IOpenerService)],t),e.Link=t,(0,g.registerThemingParticipant)((i,n)=>{const o=i.getColor(h.textLinkForeground);o&&n.addRule(`.monaco-link { color: ${o}; }`);const l=i.getColor(h.textLinkActiveForeground);l&&n.addRule(`.monaco-link:hover { color: ${l}; }`)})}),define(se[754],re([1,0,21,6,538,79,15,9,118,173,683,23,121,16]),function(q,e,w,m,k,D,L,b,C,h,g,t,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputService=void 0;let o=class extends n.Themable{get controller(){return this._controller||(this._controller=this._register(this.createController())),this._controller}get hasController(){return!!this._controller}get quickAccess(){return this._quickAccess||(this._quickAccess=this._register(this.instantiationService.createInstance(g.QuickAccessController))),this._quickAccess}constructor(c,d,r,s,a){super(r),this.instantiationService=c,this.contextKeyService=d,this.accessibilityService=s,this.layoutService=a,this._onShow=this._register(new m.Emitter),this._onHide=this._register(new m.Emitter),this.contexts=new Map}createController(c=this.layoutService,d){const r={idPrefix:"quickInput_",container:c.container,ignoreFocusOut:()=>!1,isScreenReaderOptimized:()=>this.accessibilityService.isScreenReaderOptimized(),backKeybindingLabel:()=>{},setContextKey:a=>this.setContextKey(a),returnFocus:()=>c.focus(),createList:(a,u,p,S,f)=>this.instantiationService.createInstance(h.WorkbenchList,a,u,p,S,f),styles:this.computeStyles()},s=this._register(new k.QuickInputController(Object.assign(Object.assign({},r),d)));return s.layout(c.dimension,c.offset.quickPickTop),this._register(c.onDidLayout(a=>s.layout(a,c.offset.quickPickTop))),this._register(s.onShow(()=>{this.resetContextKeys(),this._onShow.fire()})),this._register(s.onHide(()=>{this.resetContextKeys(),this._onHide.fire()})),s}setContextKey(c){let d;c&&(d=this.contexts.get(c),d||(d=new L.RawContextKey(c,!1).bindTo(this.contextKeyService),this.contexts.set(c,d))),!(d&&d.get())&&(this.resetContextKeys(),d?.set(!0))}resetContextKeys(){this.contexts.forEach(c=>{c.get()&&c.reset()})}pick(c,d={},r=w.CancellationToken.None){return this.controller.pick(c,d,r)}createQuickPick(){return this.controller.createQuickPick()}updateStyles(){this.hasController&&this.controller.applyStyles(this.computeStyles())}computeStyles(){return{widget:Object.assign({},(0,i.computeStyles)(this.theme,{quickInputBackground:t.quickInputBackground,quickInputForeground:t.quickInputForeground,quickInputTitleBackground:t.quickInputTitleBackground,contrastBorder:t.contrastBorder,widgetShadow:t.widgetShadow})),inputBox:(0,i.computeStyles)(this.theme,{inputForeground:t.inputForeground,inputBackground:t.inputBackground,inputBorder:t.inputBorder,inputValidationInfoBackground:t.inputValidationInfoBackground,inputValidationInfoForeground:t.inputValidationInfoForeground,inputValidationInfoBorder:t.inputValidationInfoBorder,inputValidationWarningBackground:t.inputValidationWarningBackground,inputValidationWarningForeground:t.inputValidationWarningForeground,inputValidationWarningBorder:t.inputValidationWarningBorder,inputValidationErrorBackground:t.inputValidationErrorBackground,inputValidationErrorForeground:t.inputValidationErrorForeground,inputValidationErrorBorder:t.inputValidationErrorBorder}),countBadge:(0,i.computeStyles)(this.theme,{badgeBackground:t.badgeBackground,badgeForeground:t.badgeForeground,badgeBorder:t.contrastBorder}),button:(0,i.computeStyles)(this.theme,{buttonForeground:t.buttonForeground,buttonBackground:t.buttonBackground,buttonHoverBackground:t.buttonHoverBackground,buttonBorder:t.contrastBorder}),progressBar:(0,i.computeStyles)(this.theme,{progressBarBackground:t.progressBarBackground}),keybindingLabel:(0,i.computeStyles)(this.theme,{keybindingLabelBackground:t.keybindingLabelBackground,keybindingLabelForeground:t.keybindingLabelForeground,keybindingLabelBorder:t.keybindingLabelBorder,keybindingLabelBottomBorder:t.keybindingLabelBottomBorder,keybindingLabelShadow:t.widgetShadow}),list:(0,i.computeStyles)(this.theme,{listBackground:t.quickInputBackground,listInactiveFocusForeground:t.quickInputListFocusForeground,listInactiveSelectionIconForeground:t.quickInputListFocusIconForeground,listInactiveFocusBackground:t.quickInputListFocusBackground,listFocusOutline:t.activeContrastBorder,listInactiveFocusOutline:t.activeContrastBorder,pickerGroupBorder:t.pickerGroupBorder,pickerGroupForeground:t.pickerGroupForeground})}}};o=De([fe(0,b.IInstantiationService),fe(1,L.IContextKeyService),fe(2,n.IThemeService),fe(3,D.IAccessibilityService),fe(4,C.ILayoutService)],o),e.QuickInputService=o}),define(se[755],re([1,0,13,16,21,9,15,79,294,29,754,98,407]),function(q,e,w,m,k,D,L,b,C,h,g,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputEditorWidget=e.QuickInputEditorContribution=e.StandaloneQuickInputService=e.EditorScopedQuickInputService=void 0;let i=class extends g.QuickInputService{constructor(d,r,s,a,u,p){super(r,s,a,u,new C.EditorScopedLayoutService(d.getContainerDomNode(),p)),this.host=void 0;const S=o.get(d);if(S){const f=S.widget;this.host={_serviceBrand:void 0,get hasContainer(){return!0},get container(){return f.getDomNode()},get dimension(){return d.getLayoutInfo()},get onDidLayout(){return d.onDidLayoutChange},focus:()=>d.focus(),offset:{top:0,quickPickTop:0}}}else this.host=void 0}createController(){return super.createController(this.host)}};i=De([fe(1,D.IInstantiationService),fe(2,L.IContextKeyService),fe(3,m.IThemeService),fe(4,b.IAccessibilityService),fe(5,h.ICodeEditorService)],i),e.EditorScopedQuickInputService=i;let n=class{get activeService(){const d=this.codeEditorService.getFocusedCodeEditor();if(!d)throw new Error("Quick input service needs a focused editor to work.");let r=this.mapEditorToService.get(d);if(!r){const s=r=this.instantiationService.createInstance(i,d);this.mapEditorToService.set(d,r),(0,t.once)(d.onDidDispose)(()=>{s.dispose(),this.mapEditorToService.delete(d)})}return r}get quickAccess(){return this.activeService.quickAccess}constructor(d,r){this.instantiationService=d,this.codeEditorService=r,this.mapEditorToService=new Map}pick(d,r={},s=k.CancellationToken.None){return this.activeService.pick(d,r,s)}createQuickPick(){return this.activeService.createQuickPick()}};n=De([fe(0,D.IInstantiationService),fe(1,h.ICodeEditorService)],n),e.StandaloneQuickInputService=n;class o{static get(d){return d.getContribution(o.ID)}constructor(d){this.editor=d,this.widget=new l(this.editor)}dispose(){this.widget.dispose()}}e.QuickInputEditorContribution=o,o.ID="editor.controller.quickInput";class l{constructor(d){this.codeEditor=d,this.domNode=document.createElement("div"),this.codeEditor.addOverlayWidget(this)}getId(){return l.ID}getDomNode(){return this.domNode}getPosition(){return{preference:2}}dispose(){this.codeEditor.removeOverlayWidget(this)}}e.QuickInputEditorWidget=l,l.ID="editor.contrib.quickInputWidget",(0,w.registerEditorContribution)(o.ID,o)}),define(se[756],re([1,0,27,90,23,16]),function(q,e,w,m,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SeverityIcon=void 0;var L;(function(b){function C(h){switch(h){case m.default.Ignore:return"severity-ignore "+w.Codicon.info.classNames;case m.default.Info:return w.Codicon.info.classNames;case m.default.Warning:return w.Codicon.warning.classNames;case m.default.Error:return w.Codicon.error.classNames;default:return""}}b.className=C})(L=e.SeverityIcon||(e.SeverityIcon={})),(0,D.registerThemingParticipant)((b,C)=>{const h=b.getColor(k.problemsErrorIconForeground);if(h){const i=w.Codicon.error.cssSelector;C.addRule(`
			.monaco-editor .zone-widget ${i},
			.markers-panel .marker-icon${i},
			.text-search-provider-messages .providerMessage ${i},
			.extensions-viewlet > .extensions ${i} {
				color: ${h};
			}
		`)}const g=b.getColor(k.problemsWarningIconForeground);if(g){const i=w.Codicon.warning.cssSelector;C.addRule(`
			.monaco-editor .zone-widget ${i},
			.markers-panel .marker-icon${i},
			.extensions-viewlet > .extensions ${i},
			.extension-editor ${i},
			.text-search-provider-messages .providerMessage ${i},
			.preferences-editor ${i} {
				color: ${g};
			}
		`)}const t=b.getColor(k.problemsInfoIconForeground);if(t){const i=w.Codicon.info.cssSelector;C.addRule(`
			.monaco-editor .zone-widget ${i},
			.markers-panel .marker-icon${i},
			.extensions-viewlet > .extensions ${i},
			.text-search-provider-messages .providerMessage ${i},
			.extension-editor ${i} {
				color: ${t};
			}
		`)}})}),define(se[82],re([1,0,10,27,6,19,22,642,216,33,16]),function(q,e,w,m,k,D,L,b,C,h,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.spinningLoading=e.syncing=e.gotoNextLocation=e.gotoPreviousLocation=e.widgetClose=e.iconsSchemaId=e.getIconRegistry=e.registerIcon=e.IconFontDefinition=e.IconContribution=e.Extensions=void 0,e.Extensions={IconContribution:"base.contributions.icons"};var t;(function(a){function u(p,S){let f=p.defaults;for(;g.ThemeIcon.isThemeIcon(f);){const v=o.getIcon(f.id);if(!v)return;f=v.defaults}return f}a.getDefinition=u})(t=e.IconContribution||(e.IconContribution={}));var i;(function(a){function u(S){return{weight:S.weight,style:S.style,src:S.src.map(f=>({format:f.format,location:f.location.toString()}))}}a.toJSONObject=u;function p(S){const f=v=>(0,D.isString)(v)?v:void 0;if(S&&Array.isArray(S.src)&&S.src.every(v=>(0,D.isString)(v.format)&&(0,D.isString)(v.location)))return{weight:f(S.weight),style:f(S.style),src:S.src.map(v=>({format:v.format,location:L.URI.parse(v.location)}))}}a.fromJSONObject=p})(i=e.IconFontDefinition||(e.IconFontDefinition={}));class n{constructor(){this._onDidChange=new k.Emitter,this.onDidChange=this._onDidChange.event,this.iconSchema={definitions:{icons:{type:"object",properties:{fontId:{type:"string",description:(0,b.localize)(0,null)},fontCharacter:{type:"string",description:(0,b.localize)(1,null)}},additionalProperties:!1,defaultSnippets:[{body:{fontCharacter:"\\\\e030"}}]}},type:"object",properties:{}},this.iconReferenceSchema={type:"string",pattern:`^${m.CSSIcon.iconNameExpression}$`,enum:[],enumDescriptions:[]},this.iconsById={},this.iconFontsById={}}registerIcon(u,p,S,f){const v=this.iconsById[u];if(v){if(S&&!v.description){v.description=S,this.iconSchema.properties[u].markdownDescription=`${S} $(${u})`;const E=this.iconReferenceSchema.enum.indexOf(u);E!==-1&&(this.iconReferenceSchema.enumDescriptions[E]=S),this._onDidChange.fire()}return v}const _={id:u,description:S,defaults:p,deprecationMessage:f};this.iconsById[u]=_;const y={$ref:"#/definitions/icons"};return f&&(y.deprecationMessage=f),S&&(y.markdownDescription=`${S}: $(${u})`),this.iconSchema.properties[u]=y,this.iconReferenceSchema.enum.push(u),this.iconReferenceSchema.enumDescriptions.push(S||""),this._onDidChange.fire(),{id:u}}getIcons(){return Object.keys(this.iconsById).map(u=>this.iconsById[u])}getIcon(u){return this.iconsById[u]}getIconSchema(){return this.iconSchema}toString(){const u=(v,_)=>v.id.localeCompare(_.id),p=v=>{for(;g.ThemeIcon.isThemeIcon(v.defaults);)v=this.iconsById[v.defaults.id];return`codicon codicon-${v?v.id:""}`},S=[];S.push("| preview     | identifier                        | default codicon ID                | description"),S.push("| ----------- | --------------------------------- | --------------------------------- | --------------------------------- |");const f=Object.keys(this.iconsById).map(v=>this.iconsById[v]);for(const v of f.filter(_=>!!_.description).sort(u))S.push(`|<i class="${p(v)}"></i>|${v.id}|${g.ThemeIcon.isThemeIcon(v.defaults)?v.defaults.id:v.id}|${v.description||""}|`);S.push("| preview     | identifier                        "),S.push("| ----------- | --------------------------------- |");for(const v of f.filter(_=>!g.ThemeIcon.isThemeIcon(_.defaults)).sort(u))S.push(`|<i class="${p(v)}"></i>|${v.id}|`);return S.join(`
`)}}const o=new n;h.Registry.add(e.Extensions.IconContribution,o);function l(a,u,p,S){return o.registerIcon(a,u,p,S)}e.registerIcon=l;function c(){return o}e.getIconRegistry=c;function d(){for(const a of m.Codicon.getAll())o.registerIcon(a.id,a.definition,a.description)}d(),e.iconsSchemaId="vscode://schemas/icons";const r=h.Registry.as(C.Extensions.JSONContribution);r.registerSchema(e.iconsSchemaId,o.getIconSchema());const s=new w.RunOnceScheduler(()=>r.notifySchemaChanged(e.iconsSchemaId),200);o.onDidChange(()=>{s.isScheduled()||s.schedule()}),e.widgetClose=l("widget-close",m.Codicon.close,(0,b.localize)(2,null)),e.gotoPreviousLocation=l("goto-previous-location",m.Codicon.arrowUp,(0,b.localize)(3,null)),e.gotoNextLocation=l("goto-next-location",m.Codicon.arrowDown,(0,b.localize)(4,null)),e.syncing=g.ThemeIcon.modify(m.Codicon.sync,"spin"),e.spinningLoading=g.ThemeIcon.modify(m.Codicon.loading,"spin")}),define(se[757],re([1,0,544,7,35,77,76,43,2,69,13,29,38,84,11,54,116,75,15,23,16,27,82,39,378]),function(q,e,w,m,k,D,L,b,C,h,g,t,i,n,o,l,c,d,r,s,a,u,p,S){"use strict";var f;Object.defineProperty(e,"__esModule",{value:!0}),e.DiffReview=void 0;const v=3;class _{constructor(A,B,W,x){this.originalLineStart=A,this.originalLineEnd=B,this.modifiedLineStart=W,this.modifiedLineEnd=x}getType(){return this.originalLineStart===0?1:this.modifiedLineStart===0?2:0}}class y{constructor(A){this.entries=A}}const E=(0,p.registerIcon)("diff-review-insert",u.Codicon.add,w.localize(0,null)),T=(0,p.registerIcon)("diff-review-remove",u.Codicon.remove,w.localize(1,null)),I=(0,p.registerIcon)("diff-review-close",u.Codicon.close,w.localize(2,null));let R=class It extends C.Disposable{constructor(A,B){super(),this._languageService=B,this._width=0,this._diffEditor=A,this._isVisible=!1,this.shadow=(0,k.createFastDomNode)(document.createElement("div")),this.shadow.setClassName("diff-review-shadow"),this.actionBarContainer=(0,k.createFastDomNode)(document.createElement("div")),this.actionBarContainer.setClassName("diff-review-actions"),this._actionBar=this._register(new D.ActionBar(this.actionBarContainer.domNode)),this._actionBar.push(new b.Action("diffreview.close",w.localize(3,null),"close-diff-review "+a.ThemeIcon.asClassName(I),!0,()=>Se(this,void 0,void 0,function*(){return this.hide()})),{label:!1,icon:!0}),this.domNode=(0,k.createFastDomNode)(document.createElement("div")),this.domNode.setClassName("diff-review monaco-editor-background"),this._content=(0,k.createFastDomNode)(document.createElement("div")),this._content.setClassName("diff-review-content"),this._content.setAttribute("role","code"),this.scrollbar=this._register(new L.DomScrollableElement(this._content.domNode,{})),this.domNode.domNode.appendChild(this.scrollbar.getDomNode()),this._register(A.onDidUpdateDiff(()=>{!this._isVisible||(this._diffs=this._compute(),this._render())})),this._register(A.getModifiedEditor().onDidChangeCursorPosition(()=>{!this._isVisible||this._render()})),this._register(m.addStandardDisposableListener(this.domNode.domNode,"click",W=>{W.preventDefault();const x=m.findParentWithClass(W.target,"diff-review-row");x&&this._goToRow(x)})),this._register(m.addStandardDisposableListener(this.domNode.domNode,"keydown",W=>{(W.equals(18)||W.equals(2066)||W.equals(530))&&(W.preventDefault(),this._goToRow(this._getNextRow())),(W.equals(16)||W.equals(2064)||W.equals(528))&&(W.preventDefault(),this._goToRow(this._getPrevRow())),(W.equals(9)||W.equals(2057)||W.equals(521)||W.equals(1033))&&(W.preventDefault(),this.hide()),(W.equals(10)||W.equals(3))&&(W.preventDefault(),this.accept())})),this._diffs=[],this._currentDiff=null}prev(){let A=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let W=-1;for(let x=0,P=this._diffs.length;x<P;x++)if(this._diffs[x]===this._currentDiff){W=x;break}A=this._diffs.length+W-1}else A=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs.length===0)return;A=A%this._diffs.length;const B=this._diffs[A].entries;this._diffEditor.setPosition(new o.Position(B[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:B[0].modifiedLineStart,endColumn:1073741824,endLineNumber:B[B.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}next(){let A=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let W=-1;for(let x=0,P=this._diffs.length;x<P;x++)if(this._diffs[x]===this._currentDiff){W=x;break}A=W+1}else A=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs.length===0)return;A=A%this._diffs.length;const B=this._diffs[A].entries;this._diffEditor.setPosition(new o.Position(B[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:B[0].modifiedLineStart,endColumn:1073741824,endLineNumber:B[B.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}accept(){let A=-1;const B=this._getCurrentFocusedRow();if(B){const W=parseInt(B.getAttribute("data-line"),10);isNaN(W)||(A=W)}this.hide(),A!==-1&&(this._diffEditor.setPosition(new o.Position(A,1)),this._diffEditor.revealPosition(new o.Position(A,1),1))}hide(){this._isVisible=!1,this._diffEditor.updateOptions({readOnly:!1}),this._diffEditor.focus(),this._diffEditor.doLayout(),this._render()}_getPrevRow(){const A=this._getCurrentFocusedRow();return A?A.previousElementSibling?A.previousElementSibling:A:this._getFirstRow()}_getNextRow(){const A=this._getCurrentFocusedRow();return A?A.nextElementSibling?A.nextElementSibling:A:this._getFirstRow()}_getFirstRow(){return this.domNode.domNode.querySelector(".diff-review-row")}_getCurrentFocusedRow(){const A=document.activeElement;return A&&/diff-review-row/.test(A.className)?A:null}_goToRow(A){const B=this._getCurrentFocusedRow();A.tabIndex=0,A.focus(),B&&B!==A&&(B.tabIndex=-1),this.scrollbar.scanDomNode()}isVisible(){return this._isVisible}layout(A,B,W){this._width=B,this.shadow.setTop(A-6),this.shadow.setWidth(B),this.shadow.setHeight(this._isVisible?6:0),this.domNode.setTop(A),this.domNode.setWidth(B),this.domNode.setHeight(W),this._content.setHeight(W),this._content.setWidth(B),this._isVisible?(this.actionBarContainer.setAttribute("aria-hidden","false"),this.actionBarContainer.setDisplay("block")):(this.actionBarContainer.setAttribute("aria-hidden","true"),this.actionBarContainer.setDisplay("none"))}_compute(){const A=this._diffEditor.getLineChanges();if(!A||A.length===0)return[];const B=this._diffEditor.getOriginalEditor().getModel(),W=this._diffEditor.getModifiedEditor().getModel();return!B||!W?[]:It._mergeAdjacent(A,B.getLineCount(),W.getLineCount())}static _mergeAdjacent(A,B,W){if(!A||A.length===0)return[];const x=[];let P=0;for(let G=0,Q=A.length;G<Q;G++){const ne=A[G],Z=ne.originalStartLineNumber,ee=ne.originalEndLineNumber,le=ne.modifiedStartLineNumber,V=ne.modifiedEndLineNumber,$=[];let oe=0;{const U=ee===0?Z:Z-1,ae=V===0?le:le-1;let z=1,J=1;if(G>0){const j=A[G-1];j.originalEndLineNumber===0?z=j.originalStartLineNumber+1:z=j.originalEndLineNumber+1,j.modifiedEndLineNumber===0?J=j.modifiedStartLineNumber+1:J=j.modifiedEndLineNumber+1}let Y=U-v+1,H=ae-v+1;if(Y<z){const j=z-Y;Y=Y+j,H=H+j}if(H<J){const j=J-H;Y=Y+j,H=H+j}$[oe++]=new _(Y,U,H,ae)}ee!==0&&($[oe++]=new _(Z,ee,0,0)),V!==0&&($[oe++]=new _(0,0,le,V));{const U=ee===0?Z+1:ee+1,ae=V===0?le+1:V+1;let z=B,J=W;if(G+1<Q){const j=A[G+1];j.originalEndLineNumber===0?z=j.originalStartLineNumber:z=j.originalStartLineNumber-1,j.modifiedEndLineNumber===0?J=j.modifiedStartLineNumber:J=j.modifiedStartLineNumber-1}let Y=U+v-1,H=ae+v-1;if(Y>z){const j=z-Y;Y=Y+j,H=H+j}if(H>J){const j=J-H;Y=Y+j,H=H+j}$[oe++]=new _(U,Y,ae,H)}x[P++]=new y($)}let X=x[0].entries;const ie=[];let K=0;for(let G=1,Q=x.length;G<Q;G++){const ne=x[G].entries,Z=X[X.length-1],ee=ne[0];if(Z.getType()===0&&ee.getType()===0&&ee.originalLineStart<=Z.originalLineEnd){X[X.length-1]=new _(Z.originalLineStart,ee.originalLineEnd,Z.modifiedLineStart,ee.modifiedLineEnd),X=X.concat(ne.slice(1));continue}ie[K++]=new y(X),X=ne}return ie[K++]=new y(X),ie}_findDiffIndex(A){const B=A.lineNumber;for(let W=0,x=this._diffs.length;W<x;W++){const P=this._diffs[W].entries,X=P[P.length-1].modifiedLineEnd;if(B<=X)return W}return 0}_render(){const A=this._diffEditor.getOriginalEditor().getOptions(),B=this._diffEditor.getModifiedEditor().getOptions(),W=this._diffEditor.getOriginalEditor().getModel(),x=this._diffEditor.getModifiedEditor().getModel(),P=W.getOptions(),X=x.getOptions();if(!this._isVisible||!W||!x){m.clearNode(this._content.domNode),this._currentDiff=null,this.scrollbar.scanDomNode();return}this._diffEditor.updateOptions({readOnly:!0});const ie=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs[ie]===this._currentDiff)return;this._currentDiff=this._diffs[ie];const K=this._diffs[ie].entries,G=document.createElement("div");G.className="diff-review-table",G.setAttribute("role","list"),G.setAttribute("aria-label",'Difference review. Use "Stage | Unstage | Revert Selected Ranges" commands'),(0,h.applyFontInfo)(G,B.get(45));let Q=0,ne=0,Z=0,ee=0;for(let H=0,j=K.length;H<j;H++){const de=K[H],ue=de.originalLineStart,ce=de.originalLineEnd,ge=de.modifiedLineStart,ve=de.modifiedLineEnd;ue!==0&&(Q===0||ue<Q)&&(Q=ue),ce!==0&&(ne===0||ce>ne)&&(ne=ce),ge!==0&&(Z===0||ge<Z)&&(Z=ge),ve!==0&&(ee===0||ve>ee)&&(ee=ve)}const le=document.createElement("div");le.className="diff-review-row";const V=document.createElement("div");V.className="diff-review-cell diff-review-summary";const $=ne-Q+1,oe=ee-Z+1;V.appendChild(document.createTextNode(`${ie+1}/${this._diffs.length}: @@ -${Q},${$} +${Z},${oe} @@`)),le.setAttribute("data-line",String(Z));const U=H=>H===0?w.localize(4,null):H===1?w.localize(5,null):w.localize(6,null,H),ae=U($),z=U(oe);le.setAttribute("aria-label",w.localize(7,null,ie+1,this._diffs.length,Q,ae,Z,z)),le.appendChild(V),le.setAttribute("role","listitem"),G.appendChild(le);const J=B.get(60);let Y=Z;for(let H=0,j=K.length;H<j;H++){const de=K[H];It._renderSection(G,de,Y,J,this._width,A,W,P,B,x,X,this._languageService.languageIdCodec),de.modifiedLineStart!==0&&(Y=de.modifiedLineEnd)}m.clearNode(this._content.domNode),this._content.domNode.appendChild(G),this.scrollbar.scanDomNode()}static _renderSection(A,B,W,x,P,X,ie,K,G,Q,ne,Z){const ee=B.getType();let le="diff-review-row",V="";const $="diff-review-spacer";let oe=null;switch(ee){case 1:le="diff-review-row line-insert",V=" char-insert",oe=E;break;case 2:le="diff-review-row line-delete",V=" char-delete",oe=T;break}const U=B.originalLineStart,ae=B.originalLineEnd,z=B.modifiedLineStart,J=B.modifiedLineEnd,Y=Math.max(J-z,ae-U),H=X.get(133),j=H.glyphMarginWidth+H.lineNumbersWidth,de=G.get(133),ue=10+de.glyphMarginWidth+de.lineNumbersWidth;for(let ce=0;ce<=Y;ce++){const ge=U===0?0:U+ce,ve=z===0?0:z+ce,_e=document.createElement("div");_e.style.minWidth=P+"px",_e.className=le,_e.setAttribute("role","listitem"),ve!==0&&(W=ve),_e.setAttribute("data-line",String(W));const ye=document.createElement("div");ye.className="diff-review-cell",ye.style.height=`${x}px`,_e.appendChild(ye);const Ee=document.createElement("span");Ee.style.width=j+"px",Ee.style.minWidth=j+"px",Ee.className="diff-review-line-number"+V,ge!==0?Ee.appendChild(document.createTextNode(String(ge))):Ee.innerText="\xA0",ye.appendChild(Ee);const Te=document.createElement("span");Te.style.width=ue+"px",Te.style.minWidth=ue+"px",Te.style.paddingRight="10px",Te.className="diff-review-line-number"+V,ve!==0?Te.appendChild(document.createTextNode(String(ve))):Te.innerText="\xA0",ye.appendChild(Te);const we=document.createElement("span");if(we.className=$,oe){const he=document.createElement("span");he.className=a.ThemeIcon.asClassName(oe),he.innerText="\xA0\xA0",we.appendChild(he)}else we.innerText="\xA0\xA0";ye.appendChild(we);let Ce;if(ve!==0){let he=this._renderLine(Q,G,ne.tabSize,ve,Z);It._ttPolicy&&(he=It._ttPolicy.createHTML(he)),ye.insertAdjacentHTML("beforeend",he),Ce=Q.getLineContent(ve)}else{let he=this._renderLine(ie,X,K.tabSize,ge,Z);It._ttPolicy&&(he=It._ttPolicy.createHTML(he)),ye.insertAdjacentHTML("beforeend",he),Ce=ie.getLineContent(ge)}Ce.length===0&&(Ce=w.localize(8,null));let te="";switch(ee){case 0:ge===ve?te=w.localize(9,null,Ce,ge):te=w.localize(10,null,Ce,ge,ve);break;case 1:te=w.localize(11,null,Ce,ve);break;case 2:te=w.localize(12,null,Ce,ge);break}_e.setAttribute("aria-label",te),A.appendChild(_e)}}static _renderLine(A,B,W,x,P){const X=A.getLineContent(x),ie=B.get(45),K=n.LineTokens.createEmpty(X,P),G=d.ViewLineRenderingData.isBasicASCII(X,A.mightContainNonBasicASCII()),Q=d.ViewLineRenderingData.containsRTL(X,G,A.mightContainRTL());return(0,c.renderViewLine2)(new c.RenderLineInput(ie.isMonospace&&!B.get(29),ie.canUseHalfwidthRightwardsArrow,X,!1,G,Q,0,K,[],W,0,ie.spaceWidth,ie.middotWidth,ie.wsmiddotWidth,B.get(107),B.get(89),B.get(84),B.get(46)!==i.EditorFontLigatures.OFF,null)).html}};R._ttPolicy=(f=window.trustedTypes)===null||f===void 0?void 0:f.createPolicy("diffReview",{createHTML:N=>N}),R=De([fe(1,S.ILanguageService)],R),e.DiffReview=R,(0,a.registerThemingParticipant)((N,A)=>{const B=N.getColor(l.editorLineNumbers);B&&A.addRule(`.monaco-diff-editor .diff-review-line-number { color: ${B}; }`);const W=N.getColor(s.scrollbarShadow);W&&A.addRule(`.monaco-diff-editor .diff-review-shadow { box-shadow: ${W} 0 -6px 6px -6px inset; }`)});class F extends g.EditorAction{constructor(){super({id:"editor.action.diffReview.next",label:w.localize(13,null),alias:"Go to Next Difference",precondition:r.ContextKeyExpr.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:65,weight:100}})}run(A,B){const W=M(A);W?.diffReviewNext()}}class O extends g.EditorAction{constructor(){super({id:"editor.action.diffReview.prev",label:w.localize(14,null),alias:"Go to Previous Difference",precondition:r.ContextKeyExpr.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:1089,weight:100}})}run(A,B){const W=M(A);W?.diffReviewPrev()}}function M(N){const A=N.get(t.ICodeEditorService),B=A.listDiffEditors(),W=A.getActiveCodeEditor();if(!W)return null;for(let x=0,P=B.length;x<P;x++){const X=B[x];if(X.getModifiedEditor().getId()===W.getId()||X.getOriginalEditor().getId()===W.getId())return X}return null}(0,g.registerEditorAction)(F),(0,g.registerEditorAction)(O)}),define(se[758],re([1,0,7,50,76,27,6,2,8,19,39,20,119,655,215,605,15,46,23,82,53,16,395]),function(q,e,w,m,k,D,L,b,C,h,g,t,i,n,o,l,c,d,r,s,a,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.editorHoverWidgetHighlightForeground=e.ParameterHintsWidget=void 0;const p=w.$,S=(0,s.registerIcon)("parameter-hints-next",D.Codicon.chevronDown,l.localize(0,null)),f=(0,s.registerIcon)("parameter-hints-previous",D.Codicon.chevronUp,l.localize(1,null));let v=class zi extends b.Disposable{constructor(y,E,T,I,R){super(),this.editor=y,this.renderDisposeables=this._register(new b.DisposableStore),this.visible=!1,this.announcedLabel=null,this.allowEditorOverflow=!0,this.markdownRenderer=this._register(new i.MarkdownRenderer({editor:y},I,T)),this.model=this._register(new n.ParameterHintsModel(y,R.signatureHelpProvider)),this.keyVisible=o.Context.Visible.bindTo(E),this.keyMultipleSignatures=o.Context.MultipleSignatures.bindTo(E),this._register(this.model.onChangedHints(F=>{F?(this.show(),this.render(F)):this.hide()}))}createParameterHintDOMNodes(){const y=p(".editor-widget.parameter-hints-widget"),E=w.append(y,p(".phwrapper"));E.tabIndex=-1;const T=w.append(E,p(".controls")),I=w.append(T,p(".button"+u.ThemeIcon.asCSSSelector(f))),R=w.append(T,p(".overloads")),F=w.append(T,p(".button"+u.ThemeIcon.asCSSSelector(S)));this._register(w.addDisposableListener(I,"click",W=>{w.EventHelper.stop(W),this.previous()})),this._register(w.addDisposableListener(F,"click",W=>{w.EventHelper.stop(W),this.next()}));const O=p(".body"),M=new k.DomScrollableElement(O,{alwaysConsumeMouseWheel:!0});this._register(M),E.appendChild(M.getDomNode());const N=w.append(O,p(".signature")),A=w.append(O,p(".docs"));y.style.userSelect="text",this.domNodes={element:y,signature:N,overloads:R,docs:A,scrollbar:M},this.editor.addContentWidget(this),this.hide(),this._register(this.editor.onDidChangeCursorSelection(W=>{this.visible&&this.editor.layoutContentWidget(this)}));const B=()=>{if(!this.domNodes)return;const W=this.editor.getOption(45);this.domNodes.element.style.fontSize=`${W.fontSize}px`,this.domNodes.element.style.lineHeight=`${W.lineHeight/W.fontSize}`};B(),this._register(L.Event.chain(this.editor.onDidChangeConfiguration.bind(this.editor)).filter(W=>W.hasChanged(45)).on(B,null)),this._register(this.editor.onDidLayoutChange(W=>this.updateMaxHeight())),this.updateMaxHeight()}show(){this.visible||(this.domNodes||this.createParameterHintDOMNodes(),this.keyVisible.set(!0),this.visible=!0,setTimeout(()=>{var y;(y=this.domNodes)===null||y===void 0||y.element.classList.add("visible")},100),this.editor.layoutContentWidget(this))}hide(){var y;this.renderDisposeables.clear(),this.visible&&(this.keyVisible.reset(),this.visible=!1,this.announcedLabel=null,(y=this.domNodes)===null||y===void 0||y.element.classList.remove("visible"),this.editor.layoutContentWidget(this))}getPosition(){return this.visible?{position:this.editor.getPosition(),preference:[1,2]}:null}render(y){var E;if(this.renderDisposeables.clear(),!this.domNodes)return;const T=y.signatures.length>1;this.domNodes.element.classList.toggle("multiple",T),this.keyMultipleSignatures.set(T),this.domNodes.signature.innerText="",this.domNodes.docs.innerText="";const I=y.signatures[y.activeSignature];if(!I)return;const R=w.append(this.domNodes.signature,p(".code")),F=this.editor.getOption(45);R.style.fontSize=`${F.fontSize}px`,R.style.fontFamily=F.fontFamily;const O=I.parameters.length>0,M=(E=I.activeParameter)!==null&&E!==void 0?E:y.activeParameter;if(O)this.renderParameters(R,I,M);else{const B=w.append(R,p("span"));B.textContent=I.label}const N=I.parameters[M];if(N?.documentation){const B=p("span.documentation");if(typeof N.documentation=="string")B.textContent=N.documentation;else{const W=this.renderMarkdownDocs(N.documentation);B.appendChild(W.element)}w.append(this.domNodes.docs,p("p",{},B))}if(I.documentation!==void 0)if(typeof I.documentation=="string")w.append(this.domNodes.docs,p("p",{},I.documentation));else{const B=this.renderMarkdownDocs(I.documentation);w.append(this.domNodes.docs,B.element)}const A=this.hasDocs(I,N);if(this.domNodes.signature.classList.toggle("has-docs",A),this.domNodes.docs.classList.toggle("empty",!A),this.domNodes.overloads.textContent=String(y.activeSignature+1).padStart(y.signatures.length.toString().length,"0")+"/"+y.signatures.length,N){let B="";const W=I.parameters[M];Array.isArray(W.label)?B=I.label.substring(W.label[0],W.label[1]):B=W.label,W.documentation&&(B+=typeof W.documentation=="string"?`, ${W.documentation}`:`, ${W.documentation.value}`),I.documentation&&(B+=typeof I.documentation=="string"?`, ${I.documentation}`:`, ${I.documentation.value}`),this.announcedLabel!==B&&(m.alert(l.localize(2,null,B)),this.announcedLabel=B)}this.editor.layoutContentWidget(this),this.domNodes.scrollbar.scanDomNode()}renderMarkdownDocs(y){const E=this.renderDisposeables.add(this.markdownRenderer.render(y,{asyncRenderCallback:()=>{var T;(T=this.domNodes)===null||T===void 0||T.scrollbar.scanDomNode()}}));return E.element.classList.add("markdown-docs"),E}hasDocs(y,E){return!!(E&&typeof E.documentation=="string"&&(0,h.assertIsDefined)(E.documentation).length>0||E&&typeof E.documentation=="object"&&(0,h.assertIsDefined)(E.documentation).value.length>0||y.documentation&&typeof y.documentation=="string"&&(0,h.assertIsDefined)(y.documentation).length>0||y.documentation&&typeof y.documentation=="object"&&(0,h.assertIsDefined)(y.documentation.value).length>0)}renderParameters(y,E,T){const[I,R]=this.getParameterLabelOffsets(E,T),F=document.createElement("span");F.textContent=E.label.substring(0,I);const O=document.createElement("span");O.textContent=E.label.substring(I,R),O.className="parameter active";const M=document.createElement("span");M.textContent=E.label.substring(R),w.append(y,F,O,M)}getParameterLabelOffsets(y,E){const T=y.parameters[E];if(T){if(Array.isArray(T.label))return T.label;if(T.label.length){const I=new RegExp(`(\\W|^)${(0,C.escapeRegExpCharacters)(T.label)}(?=\\W|$)`,"g");I.test(y.label);const R=I.lastIndex-T.label.length;return R>=0?[R,I.lastIndex]:[0,0]}else return[0,0]}else return[0,0]}next(){this.editor.focus(),this.model.next()}previous(){this.editor.focus(),this.model.previous()}cancel(){this.model.cancel()}getDomNode(){return this.domNodes||this.createParameterHintDOMNodes(),this.domNodes.element}getId(){return zi.ID}trigger(y){this.model.trigger(y,0)}updateMaxHeight(){if(!this.domNodes)return;const E=`${Math.max(this.editor.getLayoutInfo().height/4,250)}px`;this.domNodes.element.style.maxHeight=E;const T=this.domNodes.element.getElementsByClassName("phwrapper");T.length&&(T[0].style.maxHeight=E)}};v.ID="editor.widget.parameterHintsWidget",v=De([fe(1,c.IContextKeyService),fe(2,d.IOpenerService),fe(3,g.ILanguageService),fe(4,t.ILanguageFeaturesService)],v),e.ParameterHintsWidget=v,e.editorHoverWidgetHighlightForeground=(0,r.registerColor)("editorHoverWidget.highlightForeground",{dark:r.listHighlightForeground,light:r.listHighlightForeground,hcDark:r.listHighlightForeground,hcLight:r.listHighlightForeground},l.localize(3,null)),(0,u.registerThemingParticipant)((_,y)=>{const E=_.getColor(r.editorHoverBorder);if(E){const N=(0,a.isHighContrast)(_.type)?2:1;y.addRule(`.monaco-editor .parameter-hints-widget { border: ${N}px solid ${E}; }`),y.addRule(`.monaco-editor .parameter-hints-widget.multiple .body { border-left: 1px solid ${E.transparent(.5)}; }`),y.addRule(`.monaco-editor .parameter-hints-widget .signature.has-docs { border-bottom: 1px solid ${E.transparent(.5)}; }`)}const T=_.getColor(r.editorHoverBackground);T&&y.addRule(`.monaco-editor .parameter-hints-widget { background-color: ${T}; }`);const I=_.getColor(r.textLinkForeground);I&&y.addRule(`.monaco-editor .parameter-hints-widget a { color: ${I}; }`);const R=_.getColor(r.textLinkActiveForeground);R&&y.addRule(`.monaco-editor .parameter-hints-widget a:hover { color: ${R}; }`);const F=_.getColor(r.editorHoverForeground);F&&y.addRule(`.monaco-editor .parameter-hints-widget { color: ${F}; }`);const O=_.getColor(r.textCodeBlockBackground);O&&y.addRule(`.monaco-editor .parameter-hints-widget code { background-color: ${O}; }`);const M=_.getColor(e.editorHoverWidgetHighlightForeground);M&&y.addRule(`.monaco-editor .parameter-hints-widget .parameter.active { color: ${M}}`)})}),define(se[759],re([1,0,2,13,25,28,215,604,15,9,758]),function(q,e,w,m,k,D,L,b,C,h,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TriggerParameterHintsAction=void 0;let t=class Vi extends w.Disposable{static get(c){return c.getContribution(Vi.ID)}constructor(c,d){super(),this.editor=c,this.widget=this._register(d.createInstance(g.ParameterHintsWidget,this.editor))}cancel(){this.widget.cancel()}previous(){this.widget.previous()}next(){this.widget.next()}trigger(c){this.widget.trigger(c)}};t.ID="editor.controller.parameterHints",t=De([fe(1,h.IInstantiationService)],t);class i extends m.EditorAction{constructor(){super({id:"editor.action.triggerParameterHints",label:b.localize(0,null),alias:"Trigger Parameter Hints",precondition:k.EditorContextKeys.hasSignatureHelpProvider,kbOpts:{kbExpr:k.EditorContextKeys.editorTextFocus,primary:3082,weight:100}})}run(c,d){const r=t.get(d);r&&r.trigger({triggerKind:D.SignatureHelpTriggerKind.Invoke})}}e.TriggerParameterHintsAction=i,(0,m.registerEditorContribution)(t.ID,t),(0,m.registerEditorAction)(i);const n=100+75,o=m.EditorCommand.bindToContribution(t.get);(0,m.registerEditorCommand)(new o({id:"closeParameterHints",precondition:L.Context.Visible,handler:l=>l.cancel(),kbOpts:{weight:n,kbExpr:k.EditorContextKeys.focus,primary:9,secondary:[1033]}})),(0,m.registerEditorCommand)(new o({id:"showPrevParameterHint",precondition:C.ContextKeyExpr.and(L.Context.Visible,L.Context.MultipleSignatures),handler:l=>l.previous(),kbOpts:{weight:n,kbExpr:k.EditorContextKeys.focus,primary:16,secondary:[528],mac:{primary:16,secondary:[528,302]}}})),(0,m.registerEditorCommand)(new o({id:"showNextParameterHint",precondition:C.ContextKeyExpr.and(L.Context.Visible,L.Context.MultipleSignatures),handler:l=>l.next(),kbOpts:{weight:n,kbExpr:k.EditorContextKeys.focus,primary:18,secondary:[530],mac:{primary:18,secondary:[530,300]}}}))}),define(se[760],re([1,0,7,203,27,6,62,2,22,28,674,51,39,620,287,82,16,298]),function(q,e,w,m,k,D,L,b,C,h,g,t,i,n,o,l,c,d){"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.ItemRenderer=e.suggestMoreInfoIcon=e.getAriaId=void 0;function s(S){return`suggest-aria-id:${S}`}e.getAriaId=s,e.suggestMoreInfoIcon=(0,l.registerIcon)("suggest-more-info",k.Codicon.chevronRight,n.localize(0,null));const a=new(r=class qt{extract(f,v){if(f.textLabel.match(qt._regexStrict))return v[0]=f.textLabel,!0;if(f.completion.detail&&f.completion.detail.match(qt._regexStrict))return v[0]=f.completion.detail,!0;if(typeof f.completion.documentation=="string"){const _=qt._regexRelaxed.exec(f.completion.documentation);if(_&&(_.index===0||_.index+_[0].length===f.completion.documentation.length))return v[0]=_[0],!0}return!1}},r._regexRelaxed=/(#([\da-fA-F]{3}){1,2}|(rgb|hsl)a\(\s*(\d{1,3}%?\s*,\s*){3}(1|0?\.\d+)\)|(rgb|hsl)\(\s*\d{1,3}%?(\s*,\s*\d{1,3}%?){2}\s*\))/,r._regexStrict=new RegExp(`^${r._regexRelaxed.source}$`,"i"),r);let u=class{constructor(f,v,_,y){this._editor=f,this._modelService=v,this._languageService=_,this._themeService=y,this._onDidToggleDetails=new D.Emitter,this.onDidToggleDetails=this._onDidToggleDetails.event,this.templateId="suggestion"}dispose(){this._onDidToggleDetails.dispose()}renderTemplate(f){const v=Object.create(null);v.disposables=new b.DisposableStore,v.root=f,v.root.classList.add("show-file-icons"),v.icon=(0,w.append)(f,(0,w.$)(".icon")),v.colorspan=(0,w.append)(v.icon,(0,w.$)("span.colorspan"));const _=(0,w.append)(f,(0,w.$)(".contents")),y=(0,w.append)(_,(0,w.$)(".main"));v.iconContainer=(0,w.append)(y,(0,w.$)(".icon-label.codicon")),v.left=(0,w.append)(y,(0,w.$)("span.left")),v.right=(0,w.append)(y,(0,w.$)("span.right")),v.iconLabel=new m.IconLabel(v.left,{supportHighlights:!0,supportIcons:!0}),v.disposables.add(v.iconLabel),v.parametersLabel=(0,w.append)(v.left,(0,w.$)("span.signature-label")),v.qualifierLabel=(0,w.append)(v.left,(0,w.$)("span.qualifier-label")),v.detailsLabel=(0,w.append)(v.right,(0,w.$)("span.details-label")),v.readMore=(0,w.append)(v.right,(0,w.$)("span.readMore"+c.ThemeIcon.asCSSSelector(e.suggestMoreInfoIcon))),v.readMore.title=n.localize(1,null);const E=()=>{const T=this._editor.getOptions(),I=T.get(45),R=I.getMassagedFontFamily(),F=I.fontFeatureSettings,O=T.get(109)||I.fontSize,M=T.get(110)||I.lineHeight,N=I.fontWeight,A=I.letterSpacing,B=`${O}px`,W=`${M}px`,x=`${A}px`;v.root.style.fontSize=B,v.root.style.fontWeight=N,v.root.style.letterSpacing=x,y.style.fontFamily=R,y.style.fontFeatureSettings=F,y.style.lineHeight=W,v.icon.style.height=W,v.icon.style.width=W,v.readMore.style.height=W,v.readMore.style.width=W};return E(),v.disposables.add(this._editor.onDidChangeConfiguration(T=>{(T.hasChanged(45)||T.hasChanged(109)||T.hasChanged(110))&&E()})),v}renderElement(f,v,_){const{completion:y}=f;_.root.id=s(v),_.colorspan.style.backgroundColor="";const E={labelEscapeNewLines:!0,matches:(0,L.createMatches)(f.score)},T=[];if(y.kind===19&&a.extract(f,T))_.icon.className="icon customcolor",_.iconContainer.className="icon hide",_.colorspan.style.backgroundColor=T[0];else if(y.kind===20&&this._themeService.getFileIconTheme().hasFileIcons){_.icon.className="icon hide",_.iconContainer.className="icon hide";const I=(0,g.getIconClasses)(this._modelService,this._languageService,C.URI.from({scheme:"fake",path:f.textLabel}),o.FileKind.FILE),R=(0,g.getIconClasses)(this._modelService,this._languageService,C.URI.from({scheme:"fake",path:y.detail}),o.FileKind.FILE);E.extraClasses=I.length>R.length?I:R}else y.kind===23&&this._themeService.getFileIconTheme().hasFolderIcons?(_.icon.className="icon hide",_.iconContainer.className="icon hide",E.extraClasses=[(0,g.getIconClasses)(this._modelService,this._languageService,C.URI.from({scheme:"fake",path:f.textLabel}),o.FileKind.FOLDER),(0,g.getIconClasses)(this._modelService,this._languageService,C.URI.from({scheme:"fake",path:y.detail}),o.FileKind.FOLDER)].flat()):(_.icon.className="icon hide",_.iconContainer.className="",_.iconContainer.classList.add("suggest-icon",...k.CSSIcon.asClassNameArray(h.CompletionItemKinds.toIcon(y.kind))));y.tags&&y.tags.indexOf(1)>=0&&(E.extraClasses=(E.extraClasses||[]).concat(["deprecated"]),E.matches=[]),_.iconLabel.setLabel(f.textLabel,void 0,E),typeof y.label=="string"?(_.parametersLabel.textContent="",_.detailsLabel.textContent=p(y.detail||""),_.root.classList.add("string-label")):(_.parametersLabel.textContent=p(y.label.detail||""),_.detailsLabel.textContent=p(y.label.description||""),_.root.classList.remove("string-label")),this._editor.getOption(108).showInlineDetails?(0,w.show)(_.detailsLabel):(0,w.hide)(_.detailsLabel),(0,d.canExpandCompletionItem)(f)?(_.right.classList.add("can-expand-details"),(0,w.show)(_.readMore),_.readMore.onmousedown=I=>{I.stopPropagation(),I.preventDefault()},_.readMore.onclick=I=>{I.stopPropagation(),I.preventDefault(),this._onDidToggleDetails.fire()}):(_.right.classList.remove("can-expand-details"),(0,w.hide)(_.readMore),_.readMore.onmousedown=null,_.readMore.onclick=null)}disposeTemplate(f){f.disposables.dispose()}};u=De([fe(1,t.IModelService),fe(2,i.ILanguageService),fe(3,c.IThemeService)],u),e.ItemRenderer=u;function p(S){return S.replace(/\r\n|\r|\n/g,"")}}),define(se[761],re([1,0,7,77,43,2,119,9,753,82,16,401]),function(q,e,w,m,k,D,L,b,C,h,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BannerController=void 0;const t=26;let i=class extends D.Disposable{constructor(l,c){super(),this._editor=l,this.instantiationService=c,this.banner=this._register(this.instantiationService.createInstance(n))}hide(){this._editor.setBanner(null,0),this.banner.clear()}show(l){this.banner.show(Object.assign(Object.assign({},l),{onClose:()=>{var c;this.hide(),(c=l.onClose)===null||c===void 0||c.call(l)}})),this._editor.setBanner(this.banner.element,t)}};i=De([fe(1,b.IInstantiationService)],i),e.BannerController=i;let n=class extends D.Disposable{constructor(l){super(),this.instantiationService=l,this.markdownRenderer=this.instantiationService.createInstance(L.MarkdownRenderer,{}),this.element=(0,w.$)("div.editor-banner"),this.element.tabIndex=0}getAriaLabel(l){if(l.ariaLabel)return l.ariaLabel;if(typeof l.message=="string")return l.message}getBannerMessage(l){if(typeof l=="string"){const c=(0,w.$)("span");return c.innerText=l,c}return this.markdownRenderer.render(l).element}clear(){(0,w.clearNode)(this.element)}show(l){(0,w.clearNode)(this.element);const c=this.getAriaLabel(l);c&&this.element.setAttribute("aria-label",c);const d=(0,w.append)(this.element,(0,w.$)("div.icon-container"));d.setAttribute("aria-hidden","true"),l.icon&&d.appendChild((0,w.$)(`div${g.ThemeIcon.asCSSSelector(l.icon)}`));const r=(0,w.append)(this.element,(0,w.$)("div.message-container"));if(r.setAttribute("aria-hidden","true"),r.appendChild(this.getBannerMessage(l.message)),this.messageActionsContainer=(0,w.append)(this.element,(0,w.$)("div.message-actions-container")),l.actions)for(const a of l.actions)this._register(this.instantiationService.createInstance(C.Link,this.messageActionsContainer,Object.assign(Object.assign({},a),{tabIndex:-1}),{}));const s=(0,w.append)(this.element,(0,w.$)("div.action-container"));this.actionBar=this._register(new m.ActionBar(s)),this.actionBar.push(this._register(new k.Action("banner.close","Close Banner",g.ThemeIcon.asClassName(h.widgetClose),!0,()=>{typeof l.onClose=="function"&&l.onClose()})),{icon:!0,label:!1}),this.actionBar.setFocusable(!1)}};n=De([fe(0,b.IInstantiationService)],n)}),define(se[762],re([1,0,7,6,82,16]),function(q,e,w,m,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UnthemedProductIconTheme=e.getIconsStyleSheet=void 0;function L(C){const h=new m.Emitter,g=(0,k.getIconRegistry)();return g.onDidChange(()=>h.fire()),C?.onDidProductIconThemeChange(()=>h.fire()),{onDidChange:h.event,getCSS(){const t=C?C.getProductIconTheme():new b,i={},n=l=>{const c=t.getIcon(l);if(!c)return;const d=c.font;return d?(i[d.id]=d.definition,`.codicon-${l.id}:before { content: '${c.fontCharacter}'; font-family: ${(0,w.asCSSPropertyValue)(d.id)}; }`):`.codicon-${l.id}:before { content: '${c.fontCharacter}'; }`},o=[];for(const l of g.getIcons()){const c=n(l);c&&o.push(c)}for(const l in i){const c=i[l],d=c.weight?`font-weight: ${c.weight};`:"",r=c.style?`font-style: ${c.style};`:"",s=c.src.map(a=>`${(0,w.asCSSUrl)(a.location)} format('${a.format}')`).join(", ");o.push(`@font-face { src: ${s}; font-family: ${(0,w.asCSSPropertyValue)(l)};${d}${r} font-display: block; }`)}return o.join(`
`)}}}e.getIconsStyleSheet=L;class b{getIcon(h){const g=(0,k.getIconRegistry)();let t=h.defaults;for(;D.ThemeIcon.isThemeIcon(t);){const i=g.getIcon(t.id);if(!i)return;t=i.defaults}return t}}e.UnthemedProductIconTheme=b}),define(se[314],re([1,0,7,42,31,6,28,111,435,712,33,23,16,2,53,762]),function(q,e,w,m,k,D,L,b,C,h,g,t,i,n,o,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneThemeService=e.HC_LIGHT_THEME_NAME=e.HC_BLACK_THEME_NAME=e.VS_DARK_THEME_NAME=e.VS_LIGHT_THEME_NAME=void 0,e.VS_LIGHT_THEME_NAME="vs",e.VS_DARK_THEME_NAME="vs-dark",e.HC_BLACK_THEME_NAME="hc-black",e.HC_LIGHT_THEME_NAME="hc-light";const c=g.Registry.as(t.Extensions.ColorContribution),d=g.Registry.as(i.Extensions.ThemingContribution);class r{constructor(f,v){this.semanticHighlighting=!1,this.themeData=v;const _=v.base;f.length>0?(s(f)?this.id=f:this.id=_+" "+f,this.themeName=f):(this.id=_,this.themeName=_),this.colors=null,this.defaultColors=Object.create(null),this._tokenTheme=null}get base(){return this.themeData.base}notifyBaseUpdated(){this.themeData.inherit&&(this.colors=null,this._tokenTheme=null)}getColors(){if(!this.colors){const f=new Map;for(const v in this.themeData.colors)f.set(v,k.Color.fromHex(this.themeData.colors[v]));if(this.themeData.inherit){const v=a(this.themeData.base);for(const _ in v.colors)f.has(_)||f.set(_,k.Color.fromHex(v.colors[_]))}this.colors=f}return this.colors}getColor(f,v){const _=this.getColors().get(f);if(_)return _;if(v!==!1)return this.getDefault(f)}getDefault(f){let v=this.defaultColors[f];return v||(v=c.resolveDefaultColor(f,this),this.defaultColors[f]=v,v)}defines(f){return Object.prototype.hasOwnProperty.call(this.getColors(),f)}get type(){switch(this.base){case e.VS_LIGHT_THEME_NAME:return o.ColorScheme.LIGHT;case e.HC_BLACK_THEME_NAME:return o.ColorScheme.HIGH_CONTRAST_DARK;case e.HC_LIGHT_THEME_NAME:return o.ColorScheme.HIGH_CONTRAST_LIGHT;default:return o.ColorScheme.DARK}}get tokenTheme(){if(!this._tokenTheme){let f=[],v=[];if(this.themeData.inherit){const E=a(this.themeData.base);f=E.rules,E.encodedTokensColors&&(v=E.encodedTokensColors)}const _=this.themeData.colors["editor.foreground"],y=this.themeData.colors["editor.background"];if(_||y){const E={token:""};_&&(E.foreground=_),y&&(E.background=y),f.push(E)}f=f.concat(this.themeData.rules),this.themeData.encodedTokensColors&&(v=this.themeData.encodedTokensColors),this._tokenTheme=C.TokenTheme.createFromRawTokenTheme(f,v)}return this._tokenTheme}getTokenStyleMetadata(f,v,_){const E=this.tokenTheme._match([f].concat(v).join(".")).metadata,T=b.TokenMetadata.getForeground(E),I=b.TokenMetadata.getFontStyle(E);return{foreground:T,italic:Boolean(I&1),bold:Boolean(I&2),underline:Boolean(I&4),strikethrough:Boolean(I&8)}}}function s(S){return S===e.VS_LIGHT_THEME_NAME||S===e.VS_DARK_THEME_NAME||S===e.HC_BLACK_THEME_NAME||S===e.HC_LIGHT_THEME_NAME}function a(S){switch(S){case e.VS_LIGHT_THEME_NAME:return h.vs;case e.VS_DARK_THEME_NAME:return h.vs_dark;case e.HC_BLACK_THEME_NAME:return h.hc_black;case e.HC_LIGHT_THEME_NAME:return h.hc_light}}function u(S){const f=a(S);return new r(S,f)}class p extends n.Disposable{constructor(){super(),this._onColorThemeChange=this._register(new D.Emitter),this.onDidColorThemeChange=this._onColorThemeChange.event,this._onProductIconThemeChange=this._register(new D.Emitter),this.onDidProductIconThemeChange=this._onProductIconThemeChange.event,this._environment=Object.create(null),this._builtInProductIconTheme=new l.UnthemedProductIconTheme,this._autoDetectHighContrast=!0,this._knownThemes=new Map,this._knownThemes.set(e.VS_LIGHT_THEME_NAME,u(e.VS_LIGHT_THEME_NAME)),this._knownThemes.set(e.VS_DARK_THEME_NAME,u(e.VS_DARK_THEME_NAME)),this._knownThemes.set(e.HC_BLACK_THEME_NAME,u(e.HC_BLACK_THEME_NAME)),this._knownThemes.set(e.HC_LIGHT_THEME_NAME,u(e.HC_LIGHT_THEME_NAME));const f=(0,l.getIconsStyleSheet)(this);this._codiconCSS=f.getCSS(),this._themeCSS="",this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._globalStyleElement=null,this._styleElements=[],this._colorMapOverride=null,this.setTheme(e.VS_LIGHT_THEME_NAME),this._onOSSchemeChanged(),f.onDidChange(()=>{this._codiconCSS=f.getCSS(),this._updateCSS()}),(0,m.addMatchMediaChangeListener)("(forced-colors: active)",()=>{this._onOSSchemeChanged()})}registerEditorContainer(f){return w.isInShadowDOM(f)?this._registerShadowDomContainer(f):this._registerRegularEditorContainer()}_registerRegularEditorContainer(){return this._globalStyleElement||(this._globalStyleElement=w.createStyleSheet(),this._globalStyleElement.className="monaco-colors",this._globalStyleElement.textContent=this._allCSS,this._styleElements.push(this._globalStyleElement)),n.Disposable.None}_registerShadowDomContainer(f){const v=w.createStyleSheet(f);return v.className="monaco-colors",v.textContent=this._allCSS,this._styleElements.push(v),{dispose:()=>{for(let _=0;_<this._styleElements.length;_++)if(this._styleElements[_]===v){this._styleElements.splice(_,1);return}}}}defineTheme(f,v){if(!/^[a-z0-9\-]+$/i.test(f))throw new Error("Illegal theme name!");if(!s(v.base)&&!s(f))throw new Error("Illegal theme base!");this._knownThemes.set(f,new r(f,v)),s(f)&&this._knownThemes.forEach(_=>{_.base===f&&_.notifyBaseUpdated()}),this._theme.themeName===f&&this.setTheme(f)}getColorTheme(){return this._theme}setColorMapOverride(f){this._colorMapOverride=f,this._updateThemeOrColorMap()}setTheme(f){let v;this._knownThemes.has(f)?v=this._knownThemes.get(f):v=this._knownThemes.get(e.VS_LIGHT_THEME_NAME),this._updateActualTheme(v)}_updateActualTheme(f){!f||this._theme===f||(this._theme=f,this._updateThemeOrColorMap())}_onOSSchemeChanged(){if(this._autoDetectHighContrast){const f=window.matchMedia("(forced-colors: active)").matches;if(f!==(0,o.isHighContrast)(this._theme.type)){let v;(0,o.isDark)(this._theme.type)?v=f?e.HC_BLACK_THEME_NAME:e.VS_DARK_THEME_NAME:v=f?e.HC_LIGHT_THEME_NAME:e.VS_LIGHT_THEME_NAME,this._updateActualTheme(this._knownThemes.get(v))}}}setAutoDetectHighContrast(f){this._autoDetectHighContrast=f,this._onOSSchemeChanged()}_updateThemeOrColorMap(){const f=[],v={},_={addRule:T=>{v[T]||(f.push(T),v[T]=!0)}};d.getThemingParticipants().forEach(T=>T(this._theme,_,this._environment));const y=[];for(const T of c.getColors()){const I=this._theme.getColor(T.id,!0);I&&y.push(`${(0,t.asCssVariableName)(T.id)}: ${I.toString()};`)}_.addRule(`.monaco-editor { ${y.join(`
`)} }`);const E=this._colorMapOverride||this._theme.tokenTheme.getColorMap();_.addRule((0,C.generateTokensCSSForColorMap)(E)),this._themeCSS=f.join(`
`),this._updateCSS(),L.TokenizationRegistry.setColorMap(E),this._onColorThemeChange.fire(this._theme)}_updateCSS(){this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._styleElements.forEach(f=>f.textContent=this._allCSS)}getFileIconTheme(){return{hasFileIcons:!1,hasFolderIcons:!1,hidesExplorerArrows:!1}}getProductIconTheme(){return this._builtInProductIconTheme}}e.StandaloneThemeService=p}),define(se[763],re([1,0,13,117,78,53,314]),function(q,e,w,m,k,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class b extends w.EditorAction{constructor(){super({id:"editor.action.toggleHighContrast",label:k.ToggleHighContrastNLS.toggleHighContrast,alias:"Toggle High Contrast Theme",precondition:void 0}),this._originalThemeName=null}run(h,g){const t=h.get(m.IStandaloneThemeService),i=t.getColorTheme();(0,D.isHighContrast)(i.type)?(t.setTheme(this._originalThemeName||((0,D.isDark)(i.type)?L.VS_DARK_THEME_NAME:L.VS_LIGHT_THEME_NAME)),this._originalThemeName=null):(t.setTheme((0,D.isDark)(i.type)?L.HC_BLACK_THEME_NAME:L.HC_LIGHT_THEME_NAME),this._originalThemeName=i.themeName)}}(0,w.registerEditorAction)(b)}),define(se[174],re([1,0,9]),function(q,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UndoRedoSource=e.UndoRedoGroup=e.ResourceEditStackSnapshot=e.IUndoRedoService=void 0,e.IUndoRedoService=(0,w.createDecorator)("undoRedoService");class m{constructor(b,C){this.resource=b,this.elements=C}}e.ResourceEditStackSnapshot=m;class k{constructor(){this.id=k._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}}e.UndoRedoGroup=k,k._ID=0,k.None=new k;class D{constructor(){this.id=D._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}}e.UndoRedoSource=D,D._ID=0,D.None=new D}),define(se[37],re([1,0,18,31,14,6,2,8,22,130,183,11,3,24,154,39,34,47,524,703,286,248,439,440,278,525,159,529,101,174]),function(q,e,w,m,k,D,L,b,C,h,g,t,i,n,o,l,c,d,r,s,a,u,p,S,f,v,_,y,E,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DidChangeContentEmitter=e.DidChangeDecorationsEmitter=e.ModelDecorationOptions=e.ModelDecorationInjectedTextOptions=e.ModelDecorationMinimapOptions=e.ModelDecorationOverviewRulerOptions=e.TextModel=e.LONG_LINE_BOUNDARY=e.createTextBuffer=e.createTextBufferFactoryFromSnapshot=e.createTextBufferFactory=void 0;function I(oe){const U=new v.PieceTreeTextBufferBuilder;return U.acceptChunk(oe),U.finish()}e.createTextBufferFactory=I;function R(oe){const U=new v.PieceTreeTextBufferBuilder;let ae;for(;typeof(ae=oe.read())=="string";)U.acceptChunk(ae);return U.finish()}e.createTextBufferFactoryFromSnapshot=R;function F(oe,U){let ae;return typeof oe=="string"?ae=I(oe):d.isITextSnapshot(oe)?ae=R(oe):ae=oe,ae.create(U)}e.createTextBuffer=F;let O=0;const M=999;e.LONG_LINE_BOUNDARY=1e4;class N{constructor(U){this._source=U,this._eos=!1}read(){if(this._eos)return null;const U=[];let ae=0,z=0;do{const J=this._source.read();if(J===null)return this._eos=!0,ae===0?null:U.join("");if(J.length>0&&(U[ae++]=J,z+=J.length),z>=64*1024)return U.join("")}while(!0)}}const A=()=>{throw new Error("Invalid change accessor")};let B=class Ot extends L.Disposable{static resolveOptions(U,ae){if(ae.detectIndentation){const z=(0,p.guessIndentation)(U,ae.tabSize,ae.insertSpaces);return new d.TextModelResolvedOptions({tabSize:z.tabSize,indentSize:z.tabSize,insertSpaces:z.insertSpaces,trimAutoWhitespace:ae.trimAutoWhitespace,defaultEOL:ae.defaultEOL,bracketPairColorizationOptions:ae.bracketPairColorizationOptions})}return new d.TextModelResolvedOptions({tabSize:ae.tabSize,indentSize:ae.indentSize,insertSpaces:ae.insertSpaces,trimAutoWhitespace:ae.trimAutoWhitespace,defaultEOL:ae.defaultEOL,bracketPairColorizationOptions:ae.bracketPairColorizationOptions})}get onDidChangeLanguage(){return this._tokenizationTextModelPart.onDidChangeLanguage}get onDidChangeLanguageConfiguration(){return this._tokenizationTextModelPart.onDidChangeLanguageConfiguration}get onDidChangeTokens(){return this._tokenizationTextModelPart.onDidChangeTokens}onDidChangeContent(U){return this._eventEmitter.slowEvent(ae=>U(ae.contentChangedEvent))}onDidChangeContentOrInjectedText(U){return(0,L.combinedDisposable)(this._eventEmitter.fastEvent(ae=>U(ae)),this._onDidChangeInjectedText.event(ae=>U(ae)))}_isDisposing(){return this.__isDisposing}get tokenization(){return this._tokenizationTextModelPart}get bracketPairs(){return this._bracketPairs}get guides(){return this._guidesTextModelPart}constructor(U,ae,z,J=null,Y,H,j){super(),this._undoRedoService=Y,this._languageService=H,this._languageConfigurationService=j,this._onWillDispose=this._register(new D.Emitter),this.onWillDispose=this._onWillDispose.event,this._onDidChangeDecorations=this._register(new V(ve=>this.handleBeforeFireDecorationsChangedEvent(ve))),this.onDidChangeDecorations=this._onDidChangeDecorations.event,this._onDidChangeOptions=this._register(new D.Emitter),this.onDidChangeOptions=this._onDidChangeOptions.event,this._onDidChangeAttached=this._register(new D.Emitter),this.onDidChangeAttached=this._onDidChangeAttached.event,this._onDidChangeInjectedText=this._register(new D.Emitter),this._eventEmitter=this._register(new $),this._deltaDecorationCallCnt=0,O++,this.id="$model"+O,this.isForSimpleWidget=z.isForSimpleWidget,typeof J>"u"||J===null?this._associatedResource=C.URI.parse("inmemory://model/"+O):this._associatedResource=J,this._attachedEditorCount=0;const{textBuffer:de,disposable:ue}=F(U,z.defaultEOL);this._buffer=de,this._bufferDisposable=ue,this._options=Ot.resolveOptions(this._buffer,z),this._bracketPairs=this._register(new r.BracketPairsTextModelPart(this,this._languageConfigurationService)),this._guidesTextModelPart=this._register(new u.GuidesTextModelPart(this,this._languageConfigurationService)),this._decorationProvider=this._register(new s.ColorizedBracketPairsDecorationProvider(this)),this._tokenizationTextModelPart=new y.TokenizationTextModelPart(this._languageService,this._languageConfigurationService,this,this._bracketPairs,ae);const ce=this._buffer.getLineCount(),ge=this._buffer.getValueLengthInRange(new i.Range(1,1,ce,this._buffer.getLineLength(ce)+1),0);z.largeFileOptimizations?this._isTooLargeForTokenization=ge>Ot.LARGE_FILE_SIZE_THRESHOLD||ce>Ot.LARGE_FILE_LINE_COUNT_THRESHOLD:this._isTooLargeForTokenization=!1,this._isTooLargeForSyncing=ge>Ot.MODEL_SYNC_LIMIT,this._versionId=1,this._alternativeVersionId=1,this._initialUndoRedoSnapshot=null,this._isDisposed=!1,this.__isDisposing=!1,this._instanceId=b.singleLetterHash(O),this._lastDecorationId=0,this._decorations=Object.create(null),this._decorationsTree=new X,this._commandManager=new a.EditStack(this,this._undoRedoService),this._isUndoing=!1,this._isRedoing=!1,this._trimAutoWhitespaceLines=null,this._register(this._decorationProvider.onDidChange(()=>{this._onDidChangeDecorations.beginDeferredEmit(),this._onDidChangeDecorations.fire(),this._onDidChangeDecorations.endDeferredEmit()}))}dispose(){this.__isDisposing=!0,this._onWillDispose.fire(),this._tokenizationTextModelPart.dispose(),this._isDisposed=!0,super.dispose(),this._bufferDisposable.dispose(),this.__isDisposing=!1;const U=new f.PieceTreeTextBuffer([],"",`
`,!1,!1,!0,!0);U.dispose(),this._buffer=U,this._bufferDisposable=L.Disposable.None}_assertNotDisposed(){if(this._isDisposed)throw new Error("Model is disposed!")}_emitContentChangedEvent(U,ae){this.__isDisposing||(this._tokenizationTextModelPart.handleDidChangeContent(ae),this._bracketPairs.handleDidChangeContent(ae),this._eventEmitter.fire(new E.InternalModelContentChangeEvent(U,ae)))}setValue(U){if(this._assertNotDisposed(),U===null)return;const{textBuffer:ae,disposable:z}=F(U,this._options.defaultEOL);this._setValueFromTextBuffer(ae,z)}_createContentChanged2(U,ae,z,J,Y,H,j){return{changes:[{range:U,rangeOffset:ae,rangeLength:z,text:J}],eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:Y,isRedoing:H,isFlush:j}}_setValueFromTextBuffer(U,ae){this._assertNotDisposed();const z=this.getFullModelRange(),J=this.getValueLengthInRange(z),Y=this.getLineCount(),H=this.getLineMaxColumn(Y);this._buffer=U,this._bufferDisposable.dispose(),this._bufferDisposable=ae,this._increaseVersionId(),this._tokenizationTextModelPart.flush(),this._decorations=Object.create(null),this._decorationsTree=new X,this._commandManager.clear(),this._trimAutoWhitespaceLines=null,this._emitContentChangedEvent(new E.ModelRawContentChangedEvent([new E.ModelRawFlush],this._versionId,!1,!1),this._createContentChanged2(new i.Range(1,1,Y,H),0,J,this.getValue(),!1,!1,!0))}setEOL(U){this._assertNotDisposed();const ae=U===1?`\r
`:`
`;if(this._buffer.getEOL()===ae)return;const z=this.getFullModelRange(),J=this.getValueLengthInRange(z),Y=this.getLineCount(),H=this.getLineMaxColumn(Y);this._onBeforeEOLChange(),this._buffer.setEOL(ae),this._increaseVersionId(),this._onAfterEOLChange(),this._emitContentChangedEvent(new E.ModelRawContentChangedEvent([new E.ModelRawEOLChanged],this._versionId,!1,!1),this._createContentChanged2(new i.Range(1,1,Y,H),0,J,this.getValue(),!1,!1,!1))}_onBeforeEOLChange(){this._decorationsTree.ensureAllNodesHaveRanges(this)}_onAfterEOLChange(){const U=this.getVersionId(),ae=this._decorationsTree.collectNodesPostOrder();for(let z=0,J=ae.length;z<J;z++){const Y=ae[z],H=Y.range,j=Y.cachedAbsoluteStart-Y.start,de=this._buffer.getOffsetAt(H.startLineNumber,H.startColumn),ue=this._buffer.getOffsetAt(H.endLineNumber,H.endColumn);Y.cachedAbsoluteStart=de,Y.cachedAbsoluteEnd=ue,Y.cachedVersionId=U,Y.start=de-j,Y.end=ue-j,(0,S.recomputeMaxEnd)(Y)}}onBeforeAttached(){this._attachedEditorCount++,this._attachedEditorCount===1&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0))}onBeforeDetached(){this._attachedEditorCount--,this._attachedEditorCount===0&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0))}isAttachedToEditor(){return this._attachedEditorCount>0}getAttachedEditorCount(){return this._attachedEditorCount}isTooLargeForSyncing(){return this._isTooLargeForSyncing}isTooLargeForTokenization(){return this._isTooLargeForTokenization}isDisposed(){return this._isDisposed}isDominatedByLongLines(){if(this._assertNotDisposed(),this.isTooLargeForTokenization())return!1;let U=0,ae=0;const z=this._buffer.getLineCount();for(let J=1;J<=z;J++){const Y=this._buffer.getLineLength(J);Y>=e.LONG_LINE_BOUNDARY?ae+=Y:U+=Y}return ae>U}get uri(){return this._associatedResource}getOptions(){return this._assertNotDisposed(),this._options}getFormattingOptions(){return{tabSize:this._options.indentSize,insertSpaces:this._options.insertSpaces}}updateOptions(U){this._assertNotDisposed();const ae=typeof U.tabSize<"u"?U.tabSize:this._options.tabSize,z=typeof U.indentSize<"u"?U.indentSize:this._options.indentSize,J=typeof U.insertSpaces<"u"?U.insertSpaces:this._options.insertSpaces,Y=typeof U.trimAutoWhitespace<"u"?U.trimAutoWhitespace:this._options.trimAutoWhitespace,H=typeof U.bracketColorizationOptions<"u"?U.bracketColorizationOptions:this._options.bracketPairColorizationOptions,j=new d.TextModelResolvedOptions({tabSize:ae,indentSize:z,insertSpaces:J,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:Y,bracketPairColorizationOptions:H});if(this._options.equals(j))return;const de=this._options.createChangeEvent(j);this._options=j,this._bracketPairs.handleDidChangeOptions(de),this._decorationProvider.handleDidChangeOptions(de),this._onDidChangeOptions.fire(de)}detectIndentation(U,ae){this._assertNotDisposed();const z=(0,p.guessIndentation)(this._buffer,ae,U);this.updateOptions({insertSpaces:z.insertSpaces,tabSize:z.tabSize,indentSize:z.tabSize})}normalizeIndentation(U){return this._assertNotDisposed(),(0,g.normalizeIndentation)(U,this._options.indentSize,this._options.insertSpaces)}getVersionId(){return this._assertNotDisposed(),this._versionId}mightContainRTL(){return this._buffer.mightContainRTL()}mightContainUnusualLineTerminators(){return this._buffer.mightContainUnusualLineTerminators()}removeUnusualLineTerminators(U=null){const ae=this.findMatches(b.UNUSUAL_LINE_TERMINATORS.source,!1,!0,!1,null,!1,1073741824);this._buffer.resetMightContainUnusualLineTerminators(),this.pushEditOperations(U,ae.map(z=>({range:z.range,text:null})),()=>null)}mightContainNonBasicASCII(){return this._buffer.mightContainNonBasicASCII()}getAlternativeVersionId(){return this._assertNotDisposed(),this._alternativeVersionId}getInitialUndoRedoSnapshot(){return this._assertNotDisposed(),this._initialUndoRedoSnapshot}getOffsetAt(U){this._assertNotDisposed();const ae=this._validatePosition(U.lineNumber,U.column,0);return this._buffer.getOffsetAt(ae.lineNumber,ae.column)}getPositionAt(U){this._assertNotDisposed();const ae=Math.min(this._buffer.getLength(),Math.max(0,U));return this._buffer.getPositionAt(ae)}_increaseVersionId(){this._versionId=this._versionId+1,this._alternativeVersionId=this._versionId}_overwriteVersionId(U){this._versionId=U}_overwriteAlternativeVersionId(U){this._alternativeVersionId=U}_overwriteInitialUndoRedoSnapshot(U){this._initialUndoRedoSnapshot=U}getValue(U,ae=!1){this._assertNotDisposed();const z=this.getFullModelRange(),J=this.getValueInRange(z,U);return ae?this._buffer.getBOM()+J:J}createSnapshot(U=!1){return new N(this._buffer.createSnapshot(U))}getValueLength(U,ae=!1){this._assertNotDisposed();const z=this.getFullModelRange(),J=this.getValueLengthInRange(z,U);return ae?this._buffer.getBOM().length+J:J}getValueInRange(U,ae=0){return this._assertNotDisposed(),this._buffer.getValueInRange(this.validateRange(U),ae)}getValueLengthInRange(U,ae=0){return this._assertNotDisposed(),this._buffer.getValueLengthInRange(this.validateRange(U),ae)}getCharacterCountInRange(U,ae=0){return this._assertNotDisposed(),this._buffer.getCharacterCountInRange(this.validateRange(U),ae)}getLineCount(){return this._assertNotDisposed(),this._buffer.getLineCount()}getLineContent(U){if(this._assertNotDisposed(),U<1||U>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineContent(U)}getLineLength(U){if(this._assertNotDisposed(),U<1||U>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(U)}getLinesContent(){return this._assertNotDisposed(),this._buffer.getLinesContent()}getEOL(){return this._assertNotDisposed(),this._buffer.getEOL()}getEndOfLineSequence(){return this._assertNotDisposed(),this._buffer.getEOL()===`
`?0:1}getLineMinColumn(U){return this._assertNotDisposed(),1}getLineMaxColumn(U){if(this._assertNotDisposed(),U<1||U>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(U)+1}getLineFirstNonWhitespaceColumn(U){if(this._assertNotDisposed(),U<1||U>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineFirstNonWhitespaceColumn(U)}getLineLastNonWhitespaceColumn(U){if(this._assertNotDisposed(),U<1||U>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLastNonWhitespaceColumn(U)}_validateRangeRelaxedNoAllocations(U){const ae=this._buffer.getLineCount(),z=U.startLineNumber,J=U.startColumn;let Y=Math.floor(typeof z=="number"&&!isNaN(z)?z:1),H=Math.floor(typeof J=="number"&&!isNaN(J)?J:1);if(Y<1)Y=1,H=1;else if(Y>ae)Y=ae,H=this.getLineMaxColumn(Y);else if(H<=1)H=1;else{const ge=this.getLineMaxColumn(Y);H>=ge&&(H=ge)}const j=U.endLineNumber,de=U.endColumn;let ue=Math.floor(typeof j=="number"&&!isNaN(j)?j:1),ce=Math.floor(typeof de=="number"&&!isNaN(de)?de:1);if(ue<1)ue=1,ce=1;else if(ue>ae)ue=ae,ce=this.getLineMaxColumn(ue);else if(ce<=1)ce=1;else{const ge=this.getLineMaxColumn(ue);ce>=ge&&(ce=ge)}return z===Y&&J===H&&j===ue&&de===ce&&U instanceof i.Range&&!(U instanceof n.Selection)?U:new i.Range(Y,H,ue,ce)}_isValidPosition(U,ae,z){if(typeof U!="number"||typeof ae!="number"||isNaN(U)||isNaN(ae)||U<1||ae<1||(U|0)!==U||(ae|0)!==ae)return!1;const J=this._buffer.getLineCount();if(U>J)return!1;if(ae===1)return!0;const Y=this.getLineMaxColumn(U);if(ae>Y)return!1;if(z===1){const H=this._buffer.getLineCharCode(U,ae-2);if(b.isHighSurrogate(H))return!1}return!0}_validatePosition(U,ae,z){const J=Math.floor(typeof U=="number"&&!isNaN(U)?U:1),Y=Math.floor(typeof ae=="number"&&!isNaN(ae)?ae:1),H=this._buffer.getLineCount();if(J<1)return new t.Position(1,1);if(J>H)return new t.Position(H,this.getLineMaxColumn(H));if(Y<=1)return new t.Position(J,1);const j=this.getLineMaxColumn(J);if(Y>=j)return new t.Position(J,j);if(z===1){const de=this._buffer.getLineCharCode(J,Y-2);if(b.isHighSurrogate(de))return new t.Position(J,Y-1)}return new t.Position(J,Y)}validatePosition(U){return this._assertNotDisposed(),U instanceof t.Position&&this._isValidPosition(U.lineNumber,U.column,1)?U:this._validatePosition(U.lineNumber,U.column,1)}_isValidRange(U,ae){const z=U.startLineNumber,J=U.startColumn,Y=U.endLineNumber,H=U.endColumn;if(!this._isValidPosition(z,J,0)||!this._isValidPosition(Y,H,0))return!1;if(ae===1){const j=J>1?this._buffer.getLineCharCode(z,J-2):0,de=H>1&&H<=this._buffer.getLineLength(Y)?this._buffer.getLineCharCode(Y,H-2):0,ue=b.isHighSurrogate(j),ce=b.isHighSurrogate(de);return!ue&&!ce}return!0}validateRange(U){if(this._assertNotDisposed(),U instanceof i.Range&&!(U instanceof n.Selection)&&this._isValidRange(U,1))return U;const z=this._validatePosition(U.startLineNumber,U.startColumn,0),J=this._validatePosition(U.endLineNumber,U.endColumn,0),Y=z.lineNumber,H=z.column,j=J.lineNumber,de=J.column;{const ue=H>1?this._buffer.getLineCharCode(Y,H-2):0,ce=de>1&&de<=this._buffer.getLineLength(j)?this._buffer.getLineCharCode(j,de-2):0,ge=b.isHighSurrogate(ue),ve=b.isHighSurrogate(ce);return!ge&&!ve?new i.Range(Y,H,j,de):Y===j&&H===de?new i.Range(Y,H-1,j,de-1):ge&&ve?new i.Range(Y,H-1,j,de+1):ge?new i.Range(Y,H-1,j,de):new i.Range(Y,H,j,de+1)}return new i.Range(Y,H,j,de)}modifyPosition(U,ae){this._assertNotDisposed();const z=this.getOffsetAt(U)+ae;return this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,z)))}getFullModelRange(){this._assertNotDisposed();const U=this.getLineCount();return new i.Range(1,1,U,this.getLineMaxColumn(U))}findMatchesLineByLine(U,ae,z,J){return this._buffer.findMatchesLineByLine(U,ae,z,J)}findMatches(U,ae,z,J,Y,H,j=M){this._assertNotDisposed();let de=null;ae!==null&&(Array.isArray(ae)||(ae=[ae]),ae.every(ge=>i.Range.isIRange(ge))&&(de=ae.map(ge=>this.validateRange(ge)))),de===null&&(de=[this.getFullModelRange()]),de=de.sort((ge,ve)=>ge.startLineNumber-ve.startLineNumber||ge.startColumn-ve.startColumn);const ue=[];ue.push(de.reduce((ge,ve)=>i.Range.areIntersecting(ge,ve)?ge.plusRange(ve):(ue.push(ge),ve)));let ce;if(!z&&U.indexOf(`
`)<0){const ve=new _.SearchParams(U,z,J,Y).parseSearchRequest();if(!ve)return[];ce=_e=>this.findMatchesLineByLine(_e,ve,H,j)}else ce=ge=>_.TextModelSearch.findMatches(this,new _.SearchParams(U,z,J,Y),ge,H,j);return ue.map(ce).reduce((ge,ve)=>ge.concat(ve),[])}findNextMatch(U,ae,z,J,Y,H){this._assertNotDisposed();const j=this.validatePosition(ae);if(!z&&U.indexOf(`
`)<0){const ue=new _.SearchParams(U,z,J,Y).parseSearchRequest();if(!ue)return null;const ce=this.getLineCount();let ge=new i.Range(j.lineNumber,j.column,ce,this.getLineMaxColumn(ce)),ve=this.findMatchesLineByLine(ge,ue,H,1);return _.TextModelSearch.findNextMatch(this,new _.SearchParams(U,z,J,Y),j,H),ve.length>0||(ge=new i.Range(1,1,j.lineNumber,this.getLineMaxColumn(j.lineNumber)),ve=this.findMatchesLineByLine(ge,ue,H,1),ve.length>0)?ve[0]:null}return _.TextModelSearch.findNextMatch(this,new _.SearchParams(U,z,J,Y),j,H)}findPreviousMatch(U,ae,z,J,Y,H){this._assertNotDisposed();const j=this.validatePosition(ae);return _.TextModelSearch.findPreviousMatch(this,new _.SearchParams(U,z,J,Y),j,H)}pushStackElement(){this._commandManager.pushStackElement()}popStackElement(){this._commandManager.popStackElement()}pushEOL(U){if((this.getEOL()===`
`?0:1)!==U)try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEOL(U)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_validateEditOperation(U){return U instanceof d.ValidAnnotatedEditOperation?U:new d.ValidAnnotatedEditOperation(U.identifier||null,this.validateRange(U.range),U.text,U.forceMoveMarkers||!1,U.isAutoWhitespaceEdit||!1,U._isTracked||!1)}_validateEditOperations(U){const ae=[];for(let z=0,J=U.length;z<J;z++)ae[z]=this._validateEditOperation(U[z]);return ae}pushEditOperations(U,ae,z){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._pushEditOperations(U,this._validateEditOperations(ae),z)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_pushEditOperations(U,ae,z){if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){const J=ae.map(H=>({range:this.validateRange(H.range),text:H.text}));let Y=!0;if(U)for(let H=0,j=U.length;H<j;H++){const de=U[H];let ue=!1;for(let ce=0,ge=J.length;ce<ge;ce++){const ve=J[ce].range,_e=ve.startLineNumber>de.endLineNumber,ye=de.startLineNumber>ve.endLineNumber;if(!_e&&!ye){ue=!0;break}}if(!ue){Y=!1;break}}if(Y)for(let H=0,j=this._trimAutoWhitespaceLines.length;H<j;H++){const de=this._trimAutoWhitespaceLines[H],ue=this.getLineMaxColumn(de);let ce=!0;for(let ge=0,ve=J.length;ge<ve;ge++){const _e=J[ge].range,ye=J[ge].text;if(!(de<_e.startLineNumber||de>_e.endLineNumber)&&!(de===_e.startLineNumber&&_e.startColumn===ue&&_e.isEmpty()&&ye&&ye.length>0&&ye.charAt(0)===`
`)&&!(de===_e.startLineNumber&&_e.startColumn===1&&_e.isEmpty()&&ye&&ye.length>0&&ye.charAt(ye.length-1)===`
`)){ce=!1;break}}if(ce){const ge=new i.Range(de,1,de,ue);ae.push(new d.ValidAnnotatedEditOperation(null,ge,null,!1,!1,!1))}}this._trimAutoWhitespaceLines=null}return this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEditOperation(U,ae,z)}_applyUndo(U,ae,z,J){const Y=U.map(H=>{const j=this.getPositionAt(H.newPosition),de=this.getPositionAt(H.newEnd);return{range:new i.Range(j.lineNumber,j.column,de.lineNumber,de.column),text:H.oldText}});this._applyUndoRedoEdits(Y,ae,!0,!1,z,J)}_applyRedo(U,ae,z,J){const Y=U.map(H=>{const j=this.getPositionAt(H.oldPosition),de=this.getPositionAt(H.oldEnd);return{range:new i.Range(j.lineNumber,j.column,de.lineNumber,de.column),text:H.newText}});this._applyUndoRedoEdits(Y,ae,!1,!0,z,J)}_applyUndoRedoEdits(U,ae,z,J,Y,H){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._isUndoing=z,this._isRedoing=J,this.applyEdits(U,!1),this.setEOL(ae),this._overwriteAlternativeVersionId(Y)}finally{this._isUndoing=!1,this._isRedoing=!1,this._eventEmitter.endDeferredEmit(H),this._onDidChangeDecorations.endDeferredEmit()}}applyEdits(U,ae=!1){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit();const z=this._validateEditOperations(U);return this._doApplyEdits(z,ae)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_doApplyEdits(U,ae){const z=this._buffer.getLineCount(),J=this._buffer.applyEdits(U,this._options.trimAutoWhitespace,ae),Y=this._buffer.getLineCount(),H=J.changes;if(this._trimAutoWhitespaceLines=J.trimAutoWhitespaceLineNumbers,H.length!==0){for(let ue=0,ce=H.length;ue<ce;ue++){const ge=H[ue],[ve,_e,ye]=(0,h.countEOL)(ge.text);this._tokenizationTextModelPart.acceptEdit(ge.range,ge.text,ve,_e,ye),this._decorationsTree.acceptReplace(ge.rangeOffset,ge.rangeLength,ge.text.length,ge.forceMoveMarkers)}const j=[];this._increaseVersionId();let de=z;for(let ue=0,ce=H.length;ue<ce;ue++){const ge=H[ue],[ve]=(0,h.countEOL)(ge.text);this._onDidChangeDecorations.fire();const _e=ge.range.startLineNumber,ye=ge.range.endLineNumber,Ee=ye-_e,Te=ve,we=Math.min(Ee,Te),Ce=Te-Ee,te=Y-de-Ce+_e,he=te,be=te+Te,me=this._decorationsTree.getInjectedTextInInterval(this,this.getOffsetAt(new t.Position(he,1)),this.getOffsetAt(new t.Position(be,this.getLineMaxColumn(be))),0),pe=E.LineInjectedText.fromDecorations(me),Le=new w.ArrayQueue(pe);for(let Ie=we;Ie>=0;Ie--){const Ne=_e+Ie,Pe=te+Ie;Le.takeFromEndWhile(Ae=>Ae.lineNumber>Pe);const Re=Le.takeFromEndWhile(Ae=>Ae.lineNumber===Pe);j.push(new E.ModelRawLineChanged(Ne,this.getLineContent(Pe),Re))}if(we<Ee){const Ie=_e+we;j.push(new E.ModelRawLinesDeleted(Ie+1,ye))}if(we<Te){const Ie=new w.ArrayQueue(pe),Ne=_e+we,Pe=Te-we,Re=Y-de-Pe+Ne+1,Ae=[],Be=[];for(let Fe=0;Fe<Pe;Fe++){const He=Re+Fe;Be[Fe]=this.getLineContent(He),Ie.takeWhile($e=>$e.lineNumber<He),Ae[Fe]=Ie.takeWhile($e=>$e.lineNumber===He)}j.push(new E.ModelRawLinesInserted(Ne+1,_e+Te,Be,Ae))}de+=Ce}this._emitContentChangedEvent(new E.ModelRawContentChangedEvent(j,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:H,eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1})}return J.reverseEdits===null?void 0:J.reverseEdits}undo(){return this._undoRedoService.undo(this.uri)}canUndo(){return this._undoRedoService.canUndo(this.uri)}redo(){return this._undoRedoService.redo(this.uri)}canRedo(){return this._undoRedoService.canRedo(this.uri)}handleBeforeFireDecorationsChangedEvent(U){if(U===null||U.size===0)return;const z=Array.from(U).map(J=>new E.ModelRawLineChanged(J,this.getLineContent(J),this._getInjectedTextInLine(J)));this._onDidChangeInjectedText.fire(new E.ModelInjectedTextChangedEvent(z))}changeDecorations(U,ae=0){this._assertNotDisposed();try{return this._onDidChangeDecorations.beginDeferredEmit(),this._changeDecorations(ae,U)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_changeDecorations(U,ae){const z={addDecoration:(Y,H)=>this._deltaDecorationsImpl(U,[],[{range:Y,options:H}])[0],changeDecoration:(Y,H)=>{this._changeDecorationImpl(Y,H)},changeDecorationOptions:(Y,H)=>{this._changeDecorationOptionsImpl(Y,le(H))},removeDecoration:Y=>{this._deltaDecorationsImpl(U,[Y],[])},deltaDecorations:(Y,H)=>Y.length===0&&H.length===0?[]:this._deltaDecorationsImpl(U,Y,H)};let J=null;try{J=ae(z)}catch(Y){(0,k.onUnexpectedError)(Y)}return z.addDecoration=A,z.changeDecoration=A,z.changeDecorationOptions=A,z.removeDecoration=A,z.deltaDecorations=A,J}deltaDecorations(U,ae,z=0){if(this._assertNotDisposed(),U||(U=[]),U.length===0&&ae.length===0)return[];try{return this._deltaDecorationCallCnt++,this._deltaDecorationCallCnt>1&&(console.warn("Invoking deltaDecorations recursively could lead to leaking decorations."),(0,k.onUnexpectedError)(new Error("Invoking deltaDecorations recursively could lead to leaking decorations."))),this._onDidChangeDecorations.beginDeferredEmit(),this._deltaDecorationsImpl(z,U,ae)}finally{this._onDidChangeDecorations.endDeferredEmit(),this._deltaDecorationCallCnt--}}_getTrackedRange(U){return this.getDecorationRange(U)}_setTrackedRange(U,ae,z){const J=U?this._decorations[U]:null;if(!J)return ae?this._deltaDecorationsImpl(0,[],[{range:ae,options:ee[z]}])[0]:null;if(!ae)return this._decorationsTree.delete(J),delete this._decorations[J.id],null;const Y=this._validateRangeRelaxedNoAllocations(ae),H=this._buffer.getOffsetAt(Y.startLineNumber,Y.startColumn),j=this._buffer.getOffsetAt(Y.endLineNumber,Y.endColumn);return this._decorationsTree.delete(J),J.reset(this.getVersionId(),H,j,Y),J.setOptions(ee[z]),this._decorationsTree.insert(J),J.id}removeAllDecorationsWithOwnerId(U){if(this._isDisposed)return;const ae=this._decorationsTree.collectNodesFromOwner(U);for(let z=0,J=ae.length;z<J;z++){const Y=ae[z];this._decorationsTree.delete(Y),delete this._decorations[Y.id]}}getDecorationOptions(U){const ae=this._decorations[U];return ae?ae.options:null}getDecorationRange(U){const ae=this._decorations[U];return ae?this._decorationsTree.getNodeRange(this,ae):null}getLineDecorations(U,ae=0,z=!1){return U<1||U>this.getLineCount()?[]:this.getLinesDecorations(U,U,ae,z)}getLinesDecorations(U,ae,z=0,J=!1){const Y=this.getLineCount(),H=Math.min(Y,Math.max(1,U)),j=Math.min(Y,Math.max(1,ae)),de=this.getLineMaxColumn(j),ue=new i.Range(H,1,j,de),ce=this._getDecorationsInRange(ue,z,J);return(0,w.pushMany)(ce,this._decorationProvider.getDecorationsInRange(ue,z,J)),ce}getDecorationsInRange(U,ae=0,z=!1,J=!1){const Y=this.validateRange(U),H=this._getDecorationsInRange(Y,ae,z);return(0,w.pushMany)(H,this._decorationProvider.getDecorationsInRange(Y,ae,z,J)),H}getOverviewRulerDecorations(U=0,ae=!1){return this._decorationsTree.getAll(this,U,ae,!0)}getInjectedTextDecorations(U=0){return this._decorationsTree.getAllInjectedText(this,U)}_getInjectedTextInLine(U){const ae=this._buffer.getOffsetAt(U,1),z=ae+this._buffer.getLineLength(U),J=this._decorationsTree.getInjectedTextInInterval(this,ae,z,0);return E.LineInjectedText.fromDecorations(J).filter(Y=>Y.lineNumber===U)}getAllDecorations(U=0,ae=!1){let z=this._decorationsTree.getAll(this,U,ae,!1);return z=z.concat(this._decorationProvider.getAllDecorations(U,ae)),z}_getDecorationsInRange(U,ae,z){const J=this._buffer.getOffsetAt(U.startLineNumber,U.startColumn),Y=this._buffer.getOffsetAt(U.endLineNumber,U.endColumn);return this._decorationsTree.getAllInInterval(this,J,Y,ae,z)}getRangeAt(U,ae){return this._buffer.getRangeAt(U,ae-U)}_changeDecorationImpl(U,ae){const z=this._decorations[U];if(!z)return;if(z.options.after){const j=this.getDecorationRange(U);this._onDidChangeDecorations.recordLineAffectedByInjectedText(j.endLineNumber)}if(z.options.before){const j=this.getDecorationRange(U);this._onDidChangeDecorations.recordLineAffectedByInjectedText(j.startLineNumber)}const J=this._validateRangeRelaxedNoAllocations(ae),Y=this._buffer.getOffsetAt(J.startLineNumber,J.startColumn),H=this._buffer.getOffsetAt(J.endLineNumber,J.endColumn);this._decorationsTree.delete(z),z.reset(this.getVersionId(),Y,H,J),this._decorationsTree.insert(z),this._onDidChangeDecorations.checkAffectedAndFire(z.options),z.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(J.endLineNumber),z.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(J.startLineNumber)}_changeDecorationOptionsImpl(U,ae){const z=this._decorations[U];if(!z)return;const J=!!(z.options.overviewRuler&&z.options.overviewRuler.color),Y=!!(ae.overviewRuler&&ae.overviewRuler.color);if(this._onDidChangeDecorations.checkAffectedAndFire(z.options),this._onDidChangeDecorations.checkAffectedAndFire(ae),z.options.after||ae.after){const H=this._decorationsTree.getNodeRange(this,z);this._onDidChangeDecorations.recordLineAffectedByInjectedText(H.endLineNumber)}if(z.options.before||ae.before){const H=this._decorationsTree.getNodeRange(this,z);this._onDidChangeDecorations.recordLineAffectedByInjectedText(H.startLineNumber)}J!==Y?(this._decorationsTree.delete(z),z.setOptions(ae),this._decorationsTree.insert(z)):z.setOptions(ae)}_deltaDecorationsImpl(U,ae,z){const J=this.getVersionId(),Y=ae.length;let H=0;const j=z.length;let de=0;const ue=new Array(j);for(;H<Y||de<j;){let ce=null;if(H<Y){do ce=this._decorations[ae[H++]];while(!ce&&H<Y);if(ce){if(ce.options.after){const ge=this._decorationsTree.getNodeRange(this,ce);this._onDidChangeDecorations.recordLineAffectedByInjectedText(ge.endLineNumber)}if(ce.options.before){const ge=this._decorationsTree.getNodeRange(this,ce);this._onDidChangeDecorations.recordLineAffectedByInjectedText(ge.startLineNumber)}this._decorationsTree.delete(ce),this._onDidChangeDecorations.checkAffectedAndFire(ce.options)}}if(de<j){if(!ce){const Te=++this._lastDecorationId,we=`${this._instanceId};${Te}`;ce=new S.IntervalNode(we,0,0),this._decorations[we]=ce}const ge=z[de],ve=this._validateRangeRelaxedNoAllocations(ge.range),_e=le(ge.options),ye=this._buffer.getOffsetAt(ve.startLineNumber,ve.startColumn),Ee=this._buffer.getOffsetAt(ve.endLineNumber,ve.endColumn);ce.ownerId=U,ce.reset(J,ye,Ee,ve),ce.setOptions(_e),ce.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(ve.endLineNumber),ce.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(ve.startLineNumber),this._onDidChangeDecorations.checkAffectedAndFire(_e),this._decorationsTree.insert(ce),ue[de]=ce.id,de++}else ce&&delete this._decorations[ce.id]}return ue}getLanguageId(){return this.tokenization.getLanguageId()}setMode(U,ae){this.tokenization.setLanguageId(U,ae)}getLanguageIdAtPosition(U,ae){return this.tokenization.getLanguageIdAtPosition(U,ae)}getWordAtPosition(U){return this._tokenizationTextModelPart.getWordAtPosition(U)}getWordUntilPosition(U){return this._tokenizationTextModelPart.getWordUntilPosition(U)}normalizePosition(U,ae){return U}getLineIndentColumn(U){return W(this.getLineContent(U))+1}};B.MODEL_SYNC_LIMIT=50*1024*1024,B.LARGE_FILE_SIZE_THRESHOLD=20*1024*1024,B.LARGE_FILE_LINE_COUNT_THRESHOLD=300*1e3,B.DEFAULT_CREATION_OPTIONS={isForSimpleWidget:!1,tabSize:o.EDITOR_MODEL_DEFAULTS.tabSize,indentSize:o.EDITOR_MODEL_DEFAULTS.indentSize,insertSpaces:o.EDITOR_MODEL_DEFAULTS.insertSpaces,detectIndentation:!1,defaultEOL:1,trimAutoWhitespace:o.EDITOR_MODEL_DEFAULTS.trimAutoWhitespace,largeFileOptimizations:o.EDITOR_MODEL_DEFAULTS.largeFileOptimizations,bracketPairColorizationOptions:o.EDITOR_MODEL_DEFAULTS.bracketPairColorizationOptions},B=De([fe(4,T.IUndoRedoService),fe(5,l.ILanguageService),fe(6,c.ILanguageConfigurationService)],B),e.TextModel=B;function W(oe){let U=0;for(const ae of oe)if(ae===" "||ae==="	")U++;else break;return U}function x(oe){return!!(oe.options.overviewRuler&&oe.options.overviewRuler.color)}function P(oe){return!!oe.options.after||!!oe.options.before}class X{constructor(){this._decorationsTree0=new S.IntervalTree,this._decorationsTree1=new S.IntervalTree,this._injectedTextDecorationsTree=new S.IntervalTree}ensureAllNodesHaveRanges(U){this.getAll(U,0,!1,!1)}_ensureNodesHaveRanges(U,ae){for(const z of ae)z.range===null&&(z.range=U.getRangeAt(z.cachedAbsoluteStart,z.cachedAbsoluteEnd));return ae}getAllInInterval(U,ae,z,J,Y){const H=U.getVersionId(),j=this._intervalSearch(ae,z,J,Y,H);return this._ensureNodesHaveRanges(U,j)}_intervalSearch(U,ae,z,J,Y){const H=this._decorationsTree0.intervalSearch(U,ae,z,J,Y),j=this._decorationsTree1.intervalSearch(U,ae,z,J,Y),de=this._injectedTextDecorationsTree.intervalSearch(U,ae,z,J,Y);return H.concat(j).concat(de)}getInjectedTextInInterval(U,ae,z,J){const Y=U.getVersionId(),H=this._injectedTextDecorationsTree.intervalSearch(ae,z,J,!1,Y);return this._ensureNodesHaveRanges(U,H).filter(j=>j.options.showIfCollapsed||!j.range.isEmpty())}getAllInjectedText(U,ae){const z=U.getVersionId(),J=this._injectedTextDecorationsTree.search(ae,!1,z);return this._ensureNodesHaveRanges(U,J).filter(Y=>Y.options.showIfCollapsed||!Y.range.isEmpty())}getAll(U,ae,z,J){const Y=U.getVersionId(),H=this._search(ae,z,J,Y);return this._ensureNodesHaveRanges(U,H)}_search(U,ae,z,J){if(z)return this._decorationsTree1.search(U,ae,J);{const Y=this._decorationsTree0.search(U,ae,J),H=this._decorationsTree1.search(U,ae,J),j=this._injectedTextDecorationsTree.search(U,ae,J);return Y.concat(H).concat(j)}}collectNodesFromOwner(U){const ae=this._decorationsTree0.collectNodesFromOwner(U),z=this._decorationsTree1.collectNodesFromOwner(U),J=this._injectedTextDecorationsTree.collectNodesFromOwner(U);return ae.concat(z).concat(J)}collectNodesPostOrder(){const U=this._decorationsTree0.collectNodesPostOrder(),ae=this._decorationsTree1.collectNodesPostOrder(),z=this._injectedTextDecorationsTree.collectNodesPostOrder();return U.concat(ae).concat(z)}insert(U){P(U)?this._injectedTextDecorationsTree.insert(U):x(U)?this._decorationsTree1.insert(U):this._decorationsTree0.insert(U)}delete(U){P(U)?this._injectedTextDecorationsTree.delete(U):x(U)?this._decorationsTree1.delete(U):this._decorationsTree0.delete(U)}getNodeRange(U,ae){const z=U.getVersionId();return ae.cachedVersionId!==z&&this._resolveNode(ae,z),ae.range===null&&(ae.range=U.getRangeAt(ae.cachedAbsoluteStart,ae.cachedAbsoluteEnd)),ae.range}_resolveNode(U,ae){P(U)?this._injectedTextDecorationsTree.resolveNode(U,ae):x(U)?this._decorationsTree1.resolveNode(U,ae):this._decorationsTree0.resolveNode(U,ae)}acceptReplace(U,ae,z,J){this._decorationsTree0.acceptReplace(U,ae,z,J),this._decorationsTree1.acceptReplace(U,ae,z,J),this._injectedTextDecorationsTree.acceptReplace(U,ae,z,J)}}function ie(oe){return oe.replace(/[^a-z0-9\-_]/gi," ")}class K{constructor(U){this.color=U.color||"",this.darkColor=U.darkColor||""}}class G extends K{constructor(U){super(U),this._resolvedColor=null,this.position=typeof U.position=="number"?U.position:d.OverviewRulerLane.Center}getColor(U){return this._resolvedColor||(U.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,U):this._resolvedColor=this._resolveColor(this.color,U)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=null}_resolveColor(U,ae){if(typeof U=="string")return U;const z=U?ae.getColor(U.id):null;return z?z.toString():""}}e.ModelDecorationOverviewRulerOptions=G;class Q extends K{constructor(U){super(U),this.position=U.position}getColor(U){return this._resolvedColor||(U.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,U):this._resolvedColor=this._resolveColor(this.color,U)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=void 0}_resolveColor(U,ae){return typeof U=="string"?m.Color.fromHex(U):ae.getColor(U.id)}}e.ModelDecorationMinimapOptions=Q;class ne{static from(U){return U instanceof ne?U:new ne(U)}constructor(U){this.content=U.content||"",this.inlineClassName=U.inlineClassName||null,this.inlineClassNameAffectsLetterSpacing=U.inlineClassNameAffectsLetterSpacing||!1,this.attachedData=U.attachedData||null,this.cursorStops=U.cursorStops||null}}e.ModelDecorationInjectedTextOptions=ne;class Z{static register(U){return new Z(U)}static createDynamic(U){return new Z(U)}constructor(U){var ae,z,J;this.description=U.description,this.blockClassName=U.blockClassName?ie(U.blockClassName):null,this.blockIsAfterEnd=(ae=U.blockIsAfterEnd)!==null&&ae!==void 0?ae:null,this.stickiness=U.stickiness||0,this.zIndex=U.zIndex||0,this.className=U.className?ie(U.className):null,this.hoverMessage=U.hoverMessage||null,this.glyphMarginHoverMessage=U.glyphMarginHoverMessage||null,this.isWholeLine=U.isWholeLine||!1,this.showIfCollapsed=U.showIfCollapsed||!1,this.collapseOnReplaceEdit=U.collapseOnReplaceEdit||!1,this.overviewRuler=U.overviewRuler?new G(U.overviewRuler):null,this.minimap=U.minimap?new Q(U.minimap):null,this.glyphMarginClassName=U.glyphMarginClassName?ie(U.glyphMarginClassName):null,this.linesDecorationsClassName=U.linesDecorationsClassName?ie(U.linesDecorationsClassName):null,this.firstLineDecorationClassName=U.firstLineDecorationClassName?ie(U.firstLineDecorationClassName):null,this.marginClassName=U.marginClassName?ie(U.marginClassName):null,this.inlineClassName=U.inlineClassName?ie(U.inlineClassName):null,this.inlineClassNameAffectsLetterSpacing=U.inlineClassNameAffectsLetterSpacing||!1,this.beforeContentClassName=U.beforeContentClassName?ie(U.beforeContentClassName):null,this.afterContentClassName=U.afterContentClassName?ie(U.afterContentClassName):null,this.after=U.after?ne.from(U.after):null,this.before=U.before?ne.from(U.before):null,this.hideInCommentTokens=(z=U.hideInCommentTokens)!==null&&z!==void 0?z:!1,this.hideInStringTokens=(J=U.hideInStringTokens)!==null&&J!==void 0?J:!1}}e.ModelDecorationOptions=Z,Z.EMPTY=Z.register({description:"empty"});const ee=[Z.register({description:"tracked-range-always-grows-when-typing-at-edges",stickiness:0}),Z.register({description:"tracked-range-never-grows-when-typing-at-edges",stickiness:1}),Z.register({description:"tracked-range-grows-only-when-typing-before",stickiness:2}),Z.register({description:"tracked-range-grows-only-when-typing-after",stickiness:3})];function le(oe){return oe instanceof Z?oe:Z.createDynamic(oe)}class V extends L.Disposable{constructor(U){super(),this.handleBeforeFire=U,this._actual=this._register(new D.Emitter),this.event=this._actual.event,this._affectedInjectedTextLines=null,this._deferredCnt=0,this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(){var U;if(this._deferredCnt--,this._deferredCnt===0){if(this._shouldFire){this.handleBeforeFire(this._affectedInjectedTextLines);const ae={affectsMinimap:this._affectsMinimap,affectsOverviewRuler:this._affectsOverviewRuler};this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._actual.fire(ae)}(U=this._affectedInjectedTextLines)===null||U===void 0||U.clear(),this._affectedInjectedTextLines=null}}recordLineAffectedByInjectedText(U){this._affectedInjectedTextLines||(this._affectedInjectedTextLines=new Set),this._affectedInjectedTextLines.add(U)}checkAffectedAndFire(U){this._affectsMinimap||(this._affectsMinimap=!!(U.minimap&&U.minimap.position)),this._affectsOverviewRuler||(this._affectsOverviewRuler=!!(U.overviewRuler&&U.overviewRuler.color)),this._shouldFire=!0}fire(){this._affectsMinimap=!0,this._affectsOverviewRuler=!0,this._shouldFire=!0}}e.DidChangeDecorationsEmitter=V;class $ extends L.Disposable{constructor(){super(),this._fastEmitter=this._register(new D.Emitter),this.fastEvent=this._fastEmitter.event,this._slowEmitter=this._register(new D.Emitter),this.slowEvent=this._slowEmitter.event,this._deferredCnt=0,this._deferredEvent=null}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(U=null){if(this._deferredCnt--,this._deferredCnt===0&&this._deferredEvent!==null){this._deferredEvent.rawContentChangedEvent.resultingSelection=U;const ae=this._deferredEvent;this._deferredEvent=null,this._fastEmitter.fire(ae),this._slowEmitter.fire(ae)}}fire(U){if(this._deferredCnt>0){this._deferredEvent?this._deferredEvent=this._deferredEvent.merge(U):this._deferredEvent=U;return}this._fastEmitter.fire(U),this._slowEmitter.fire(U)}}e.DidChangeContentEmitter=$}),define(se[315],re([1,0,6,2,17,14,37,154,74,39,51,168,30,10,21,16,72,174,107,286,49,305,288,36,34,73,56,20]),function(q,e,w,m,k,D,L,b,C,h,g,t,i,n,o,l,c,d,r,s,a,u,p,S,f,v,_,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModelSemanticColoring=e.isSemanticColoringEnabled=e.SEMANTIC_HIGHLIGHTING_SETTING_ID=e.ModelService=void 0;function E(x){return x.toString()}function T(x){const P=new r.StringSHA1,X=x.createSnapshot();let ie;for(;ie=X.read();)P.update(ie);return P.digest()}class I{constructor(P,X,ie){this._modelEventListeners=new m.DisposableStore,this.model=P,this._languageSelection=null,this._languageSelectionListener=null,this._modelEventListeners.add(P.onWillDispose(()=>X(P))),this._modelEventListeners.add(P.onDidChangeLanguage(K=>ie(P,K)))}_disposeLanguageSelection(){this._languageSelectionListener&&(this._languageSelectionListener.dispose(),this._languageSelectionListener=null)}dispose(){this._modelEventListeners.dispose(),this._disposeLanguageSelection()}setLanguage(P,X){this._disposeLanguageSelection(),this._languageSelection=P,this._languageSelectionListener=this._languageSelection.onDidChange(()=>this.model.setMode(P.languageId,X)),this.model.setMode(P.languageId,X)}}const R=k.isLinux||k.isMacintosh?1:2;class F{constructor(P,X,ie,K,G,Q,ne,Z){this.uri=P,this.initialUndoRedoSnapshot=X,this.time=ie,this.sharesUndoRedoStack=K,this.heapSize=G,this.sha1=Q,this.versionId=ne,this.alternativeVersionId=Z}}let O=class Ft extends m.Disposable{constructor(P,X,ie,K,G,Q,ne,Z,ee){super(),this._configurationService=P,this._resourcePropertiesService=X,this._themeService=ie,this._logService=K,this._undoRedoService=G,this._languageService=Q,this._languageConfigurationService=ne,this._languageFeatureDebounceService=Z,this._onModelAdded=this._register(new w.Emitter),this.onModelAdded=this._onModelAdded.event,this._onModelRemoved=this._register(new w.Emitter),this.onModelRemoved=this._onModelRemoved.event,this._onModelModeChanged=this._register(new w.Emitter),this.onModelLanguageChanged=this._onModelModeChanged.event,this._modelCreationOptionsByLanguageAndResource=Object.create(null),this._models={},this._disposedModels=new Map,this._disposedModelsHeapSize=0,this._semanticStyling=this._register(new A(this._themeService,this._languageService,this._logService)),this._register(this._configurationService.onDidChangeConfiguration(()=>this._updateModelOptions())),this._updateModelOptions(),this._register(new N(this._semanticStyling,this,this._themeService,this._configurationService,this._languageFeatureDebounceService,ee))}static _readModelOptions(P,X){var ie;let K=b.EDITOR_MODEL_DEFAULTS.tabSize;if(P.editor&&typeof P.editor.tabSize<"u"){const oe=parseInt(P.editor.tabSize,10);isNaN(oe)||(K=oe),K<1&&(K=1)}let G=K;if(P.editor&&typeof P.editor.indentSize<"u"&&P.editor.indentSize!=="tabSize"){const oe=parseInt(P.editor.indentSize,10);isNaN(oe)||(G=oe),G<1&&(G=1)}let Q=b.EDITOR_MODEL_DEFAULTS.insertSpaces;P.editor&&typeof P.editor.insertSpaces<"u"&&(Q=P.editor.insertSpaces==="false"?!1:Boolean(P.editor.insertSpaces));let ne=R;const Z=P.eol;Z===`\r
`?ne=2:Z===`
`&&(ne=1);let ee=b.EDITOR_MODEL_DEFAULTS.trimAutoWhitespace;P.editor&&typeof P.editor.trimAutoWhitespace<"u"&&(ee=P.editor.trimAutoWhitespace==="false"?!1:Boolean(P.editor.trimAutoWhitespace));let le=b.EDITOR_MODEL_DEFAULTS.detectIndentation;P.editor&&typeof P.editor.detectIndentation<"u"&&(le=P.editor.detectIndentation==="false"?!1:Boolean(P.editor.detectIndentation));let V=b.EDITOR_MODEL_DEFAULTS.largeFileOptimizations;P.editor&&typeof P.editor.largeFileOptimizations<"u"&&(V=P.editor.largeFileOptimizations==="false"?!1:Boolean(P.editor.largeFileOptimizations));let $=b.EDITOR_MODEL_DEFAULTS.bracketPairColorizationOptions;return((ie=P.editor)===null||ie===void 0?void 0:ie.bracketPairColorization)&&typeof P.editor.bracketPairColorization=="object"&&($={enabled:!!P.editor.bracketPairColorization.enabled,independentColorPoolPerBracketType:!!P.editor.bracketPairColorization.independentColorPoolPerBracketType}),{isForSimpleWidget:X,tabSize:K,indentSize:G,insertSpaces:Q,detectIndentation:le,defaultEOL:ne,trimAutoWhitespace:ee,largeFileOptimizations:V,bracketPairColorizationOptions:$}}_getEOL(P,X){if(P)return this._resourcePropertiesService.getEOL(P,X);const ie=this._configurationService.getValue("files.eol",{overrideIdentifier:X});return ie&&typeof ie=="string"&&ie!=="auto"?ie:k.OS===3||k.OS===2?`
`:`\r
`}_shouldRestoreUndoStack(){const P=this._configurationService.getValue("files.restoreUndoStack");return typeof P=="boolean"?P:!0}getCreationOptions(P,X,ie){let K=this._modelCreationOptionsByLanguageAndResource[P+X];if(!K){const G=this._configurationService.getValue("editor",{overrideIdentifier:P,resource:X}),Q=this._getEOL(X,P);K=Ft._readModelOptions({editor:G,eol:Q},ie),this._modelCreationOptionsByLanguageAndResource[P+X]=K}return K}_updateModelOptions(){const P=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);const X=Object.keys(this._models);for(let ie=0,K=X.length;ie<K;ie++){const G=X[ie],Q=this._models[G],ne=Q.model.getLanguageId(),Z=Q.model.uri,ee=P[ne+Z],le=this.getCreationOptions(ne,Z,Q.model.isForSimpleWidget);Ft._setModelOptionsForModel(Q.model,le,ee)}}static _setModelOptionsForModel(P,X,ie){ie&&ie.defaultEOL!==X.defaultEOL&&P.getLineCount()===1&&P.setEOL(X.defaultEOL===1?0:1),!(ie&&ie.detectIndentation===X.detectIndentation&&ie.insertSpaces===X.insertSpaces&&ie.tabSize===X.tabSize&&ie.indentSize===X.indentSize&&ie.trimAutoWhitespace===X.trimAutoWhitespace&&(0,S.equals)(ie.bracketPairColorizationOptions,X.bracketPairColorizationOptions))&&(X.detectIndentation?(P.detectIndentation(X.insertSpaces,X.tabSize),P.updateOptions({trimAutoWhitespace:X.trimAutoWhitespace,bracketColorizationOptions:X.bracketPairColorizationOptions})):P.updateOptions({insertSpaces:X.insertSpaces,tabSize:X.tabSize,indentSize:X.indentSize,trimAutoWhitespace:X.trimAutoWhitespace,bracketColorizationOptions:X.bracketPairColorizationOptions}))}_insertDisposedModel(P){this._disposedModels.set(E(P.uri),P),this._disposedModelsHeapSize+=P.heapSize}_removeDisposedModel(P){const X=this._disposedModels.get(E(P));return X&&(this._disposedModelsHeapSize-=X.heapSize),this._disposedModels.delete(E(P)),X}_ensureDisposedModelsHeapSize(P){if(this._disposedModelsHeapSize>P){const X=[];for(this._disposedModels.forEach(ie=>{ie.sharesUndoRedoStack||X.push(ie)}),X.sort((ie,K)=>ie.time-K.time);X.length>0&&this._disposedModelsHeapSize>P;){const ie=X.shift();this._removeDisposedModel(ie.uri),ie.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(ie.initialUndoRedoSnapshot)}}}_createModelData(P,X,ie,K){const G=this.getCreationOptions(X,ie,K),Q=new L.TextModel(P,X,G,ie,this._undoRedoService,this._languageService,this._languageConfigurationService);if(ie&&this._disposedModels.has(E(ie))){const ee=this._removeDisposedModel(ie),le=this._undoRedoService.getElements(ie),V=T(Q)===ee.sha1;if(V||ee.sharesUndoRedoStack){for(const $ of le.past)(0,s.isEditStackElement)($)&&$.matchesResource(ie)&&$.setModel(Q);for(const $ of le.future)(0,s.isEditStackElement)($)&&$.matchesResource(ie)&&$.setModel(Q);this._undoRedoService.setElementsValidFlag(ie,!0,$=>(0,s.isEditStackElement)($)&&$.matchesResource(ie)),V&&(Q._overwriteVersionId(ee.versionId),Q._overwriteAlternativeVersionId(ee.alternativeVersionId),Q._overwriteInitialUndoRedoSnapshot(ee.initialUndoRedoSnapshot))}else ee.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(ee.initialUndoRedoSnapshot)}const ne=E(Q.uri);if(this._models[ne])throw new Error("ModelService: Cannot add model because it already exists!");const Z=new I(Q,ee=>this._onWillDispose(ee),(ee,le)=>this._onDidChangeLanguage(ee,le));return this._models[ne]=Z,Z}createModel(P,X,ie,K=!1){let G;return X?(G=this._createModelData(P,X.languageId,ie,K),this.setMode(G.model,X)):G=this._createModelData(P,C.PLAINTEXT_LANGUAGE_ID,ie,K),this._onModelAdded.fire(G.model),G.model}setMode(P,X,ie){if(!X)return;const K=this._models[E(P.uri)];!K||K.setLanguage(X,ie)}getModels(){const P=[],X=Object.keys(this._models);for(let ie=0,K=X.length;ie<K;ie++){const G=X[ie];P.push(this._models[G].model)}return P}getModel(P){const X=E(P),ie=this._models[X];return ie?ie.model:null}getSemanticTokensProviderStyling(P){return this._semanticStyling.get(P)}_schemaShouldMaintainUndoRedoElements(P){return P.scheme===a.Schemas.file||P.scheme===a.Schemas.vscodeRemote||P.scheme===a.Schemas.vscodeUserData||P.scheme===a.Schemas.vscodeNotebookCell||P.scheme==="fake-fs"}_onWillDispose(P){const X=E(P.uri),ie=this._models[X],K=this._undoRedoService.getUriComparisonKey(P.uri)!==P.uri.toString();let G=!1,Q=0;if(K||this._shouldRestoreUndoStack()&&this._schemaShouldMaintainUndoRedoElements(P.uri)){const Z=this._undoRedoService.getElements(P.uri);if(Z.past.length>0||Z.future.length>0){for(const ee of Z.past)(0,s.isEditStackElement)(ee)&&ee.matchesResource(P.uri)&&(G=!0,Q+=ee.heapSize(P.uri),ee.setModel(P.uri));for(const ee of Z.future)(0,s.isEditStackElement)(ee)&&ee.matchesResource(P.uri)&&(G=!0,Q+=ee.heapSize(P.uri),ee.setModel(P.uri))}}const ne=Ft.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK;if(G)if(!K&&Q>ne){const Z=ie.model.getInitialUndoRedoSnapshot();Z!==null&&this._undoRedoService.restoreSnapshot(Z)}else this._ensureDisposedModelsHeapSize(ne-Q),this._undoRedoService.setElementsValidFlag(P.uri,!1,Z=>(0,s.isEditStackElement)(Z)&&Z.matchesResource(P.uri)),this._insertDisposedModel(new F(P.uri,ie.model.getInitialUndoRedoSnapshot(),Date.now(),K,Q,T(P),P.getVersionId(),P.getAlternativeVersionId()));else if(!K){const Z=ie.model.getInitialUndoRedoSnapshot();Z!==null&&this._undoRedoService.restoreSnapshot(Z)}delete this._models[X],ie.dispose(),delete this._modelCreationOptionsByLanguageAndResource[P.getLanguageId()+P.uri],this._onModelRemoved.fire(P)}_onDidChangeLanguage(P,X){const ie=X.oldLanguage,K=P.getLanguageId(),G=this.getCreationOptions(ie,P.uri,P.isForSimpleWidget),Q=this.getCreationOptions(K,P.uri,P.isForSimpleWidget);Ft._setModelOptionsForModel(P,Q,G),this._onModelModeChanged.fire({model:P,oldLanguageId:ie})}};O.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK=20*1024*1024,O=De([fe(0,i.IConfigurationService),fe(1,t.ITextResourcePropertiesService),fe(2,l.IThemeService),fe(3,c.ILogService),fe(4,d.IUndoRedoService),fe(5,h.ILanguageService),fe(6,f.ILanguageConfigurationService),fe(7,v.ILanguageFeatureDebounceService),fe(8,y.ILanguageFeaturesService)],O),e.ModelService=O,e.SEMANTIC_HIGHLIGHTING_SETTING_ID="editor.semanticHighlighting";function M(x,P,X){var ie;const K=(ie=X.getValue(e.SEMANTIC_HIGHLIGHTING_SETTING_ID,{overrideIdentifier:x.getLanguageId(),resource:x.uri}))===null||ie===void 0?void 0:ie.enabled;return typeof K=="boolean"?K:P.getColorTheme().semanticHighlighting}e.isSemanticColoringEnabled=M;let N=class extends m.Disposable{constructor(P,X,ie,K,G,Q){super(),this._watchers=Object.create(null),this._semanticStyling=P;const ne=le=>{this._watchers[le.uri.toString()]=new W(le,this._semanticStyling,ie,G,Q)},Z=(le,V)=>{V.dispose(),delete this._watchers[le.uri.toString()]},ee=()=>{for(const le of X.getModels()){const V=this._watchers[le.uri.toString()];M(le,ie,K)?V||ne(le):V&&Z(le,V)}};this._register(X.onModelAdded(le=>{M(le,ie,K)&&ne(le)})),this._register(X.onModelRemoved(le=>{const V=this._watchers[le.uri.toString()];V&&Z(le,V)})),this._register(K.onDidChangeConfiguration(le=>{le.affectsConfiguration(e.SEMANTIC_HIGHLIGHTING_SETTING_ID)&&ee()})),this._register(ie.onDidColorThemeChange(ee))}dispose(){for(const P of Object.values(this._watchers))P.dispose();super.dispose()}};N=De([fe(1,g.IModelService),fe(2,l.IThemeService),fe(3,i.IConfigurationService),fe(4,v.ILanguageFeatureDebounceService),fe(5,y.ILanguageFeaturesService)],N);class A extends m.Disposable{constructor(P,X,ie){super(),this._themeService=P,this._languageService=X,this._logService=ie,this._caches=new WeakMap,this._register(this._themeService.onDidColorThemeChange(()=>{this._caches=new WeakMap}))}get(P){return this._caches.has(P)||this._caches.set(P,new u.SemanticTokensProviderStyling(P.getLegend(),this._themeService,this._languageService,this._logService)),this._caches.get(P)}}class B{constructor(P,X,ie){this.provider=P,this.resultId=X,this.data=ie}dispose(){this.provider.releaseDocumentSemanticTokens(this.resultId)}}let W=class kt extends m.Disposable{constructor(P,X,ie,K,G){super(),this._isDisposed=!1,this._model=P,this._semanticStyling=X,this._provider=G.documentSemanticTokensProvider,this._debounceInformation=K.for(this._provider,"DocumentSemanticTokens",{min:kt.REQUEST_MIN_DELAY,max:kt.REQUEST_MAX_DELAY}),this._fetchDocumentSemanticTokens=this._register(new n.RunOnceScheduler(()=>this._fetchDocumentSemanticTokensNow(),kt.REQUEST_MIN_DELAY)),this._currentDocumentResponse=null,this._currentDocumentRequestCancellationTokenSource=null,this._documentProvidersChangeListeners=[],this._register(this._model.onDidChangeContent(()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(this._model.onDidChangeLanguage(()=>{this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(0)}));const Q=()=>{(0,m.dispose)(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[];for(const ne of this._provider.all(P))typeof ne.onDidChange=="function"&&this._documentProvidersChangeListeners.push(ne.onDidChange(()=>this._fetchDocumentSemanticTokens.schedule(0)))};Q(),this._register(this._provider.onDidChange(()=>{Q(),this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(ie.onDidColorThemeChange(ne=>{this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._fetchDocumentSemanticTokens.schedule(0)}dispose(){this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._isDisposed=!0,super.dispose()}_fetchDocumentSemanticTokensNow(){if(this._currentDocumentRequestCancellationTokenSource)return;if(!(0,p.hasDocumentSemanticTokensProvider)(this._provider,this._model)){this._currentDocumentResponse&&this._model.tokenization.setSemanticTokens(null,!1);return}const P=new o.CancellationTokenSource,X=this._currentDocumentResponse?this._currentDocumentResponse.provider:null,ie=this._currentDocumentResponse&&this._currentDocumentResponse.resultId||null,K=(0,p.getDocumentSemanticTokens)(this._provider,this._model,X,ie,P.token);this._currentDocumentRequestCancellationTokenSource=P;const G=[],Q=this._model.onDidChangeContent(Z=>{G.push(Z)}),ne=new _.StopWatch(!1);K.then(Z=>{if(this._debounceInformation.update(this._model,ne.elapsed()),this._currentDocumentRequestCancellationTokenSource=null,Q.dispose(),!Z)this._setDocumentSemanticTokens(null,null,null,G);else{const{provider:ee,tokens:le}=Z,V=this._semanticStyling.get(ee);this._setDocumentSemanticTokens(ee,le||null,V,G)}},Z=>{Z&&(D.isCancellationError(Z)||typeof Z.message=="string"&&Z.message.indexOf("busy")!==-1)||D.onUnexpectedError(Z),this._currentDocumentRequestCancellationTokenSource=null,Q.dispose(),G.length>0&&(this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model)))})}static _copy(P,X,ie,K,G){G=Math.min(G,ie.length-K,P.length-X);for(let Q=0;Q<G;Q++)ie[K+Q]=P[X+Q]}_setDocumentSemanticTokens(P,X,ie,K){const G=this._currentDocumentResponse,Q=()=>{K.length>0&&!this._fetchDocumentSemanticTokens.isScheduled()&&this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))};if(this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._isDisposed){P&&X&&P.releaseDocumentSemanticTokens(X.resultId);return}if(!P||!ie){this._model.tokenization.setSemanticTokens(null,!1);return}if(!X){this._model.tokenization.setSemanticTokens(null,!0),Q();return}if((0,p.isSemanticTokensEdits)(X)){if(!G){this._model.tokenization.setSemanticTokens(null,!0);return}if(X.edits.length===0)X={resultId:X.resultId,data:G.data};else{let ne=0;for(const $ of X.edits)ne+=($.data?$.data.length:0)-$.deleteCount;const Z=G.data,ee=new Uint32Array(Z.length+ne);let le=Z.length,V=ee.length;for(let $=X.edits.length-1;$>=0;$--){const oe=X.edits[$];if(oe.start>Z.length){ie.warnInvalidEditStart(G.resultId,X.resultId,$,oe.start,Z.length),this._model.tokenization.setSemanticTokens(null,!0);return}const U=le-(oe.start+oe.deleteCount);U>0&&(kt._copy(Z,le-U,ee,V-U,U),V-=U),oe.data&&(kt._copy(oe.data,0,ee,V-oe.data.length,oe.data.length),V-=oe.data.length),le=oe.start}le>0&&kt._copy(Z,0,ee,0,le),X={resultId:X.resultId,data:ee}}}if((0,p.isSemanticTokens)(X)){this._currentDocumentResponse=new B(P,X.resultId,X.data);const ne=(0,u.toMultilineTokens2)(X,ie,this._model.getLanguageId());if(K.length>0)for(const Z of K)for(const ee of ne)for(const le of Z.changes)ee.applyEdit(le.range,le.text);this._model.tokenization.setSemanticTokens(ne,!0)}else this._model.tokenization.setSemanticTokens(null,!0);Q()}};W.REQUEST_MIN_DELAY=300,W.REQUEST_MAX_DELAY=2e3,W=De([fe(2,l.IThemeService),fe(3,v.ILanguageFeatureDebounceService),fe(4,y.ILanguageFeaturesService)],W),e.ModelSemanticColoring=W}),define(se[764],re([1,0,18,11,3,191,37,101,193,459,243,75]),function(q,e,w,m,k,D,L,b,C,h,g,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewModelLinesFromModelAsIs=e.ViewModelLinesFromProjectedModel=void 0;class i{constructor(a,u,p,S,f,v,_,y,E){this._editorId=a,this.model=u,this._validModelVersionId=-1,this._domLineBreaksComputerFactory=p,this._monospaceLineBreaksComputerFactory=S,this.fontInfo=f,this.tabSize=v,this.wrappingStrategy=_,this.wrappingColumn=y,this.wrappingIndent=E,this._constructLines(!0,null)}dispose(){this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[])}createCoordinatesConverter(){return new c(this)}_constructLines(a,u){this.modelLineProjections=[],a&&(this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[]));const p=this.model.getLinesContent(),S=this.model.getInjectedTextDecorations(this._editorId),f=p.length,v=this.createLineBreaksComputer(),_=new w.ArrayQueue(b.LineInjectedText.fromDecorations(S));for(let M=0;M<f;M++){const N=_.takeWhile(A=>A.lineNumber===M+1);v.addRequest(p[M],N,u?u[M]:null)}const y=v.finalize(),E=[],T=this.hiddenAreasDecorationIds.map(M=>this.model.getDecorationRange(M)).sort(k.Range.compareRangesUsingStarts);let I=1,R=0,F=-1,O=F+1<T.length?R+1:f+2;for(let M=0;M<f;M++){const N=M+1;N===O&&(F++,I=T[F].startLineNumber,R=T[F].endLineNumber,O=F+1<T.length?R+1:f+2);const A=N>=I&&N<=R,B=(0,h.createModelLineProjection)(y[M],!A);E[M]=B.getViewLineCount(),this.modelLineProjections[M]=B}this._validModelVersionId=this.model.getVersionId(),this.projectedModelLineLineCounts=new g.ConstantTimePrefixSumComputer(E)}getHiddenAreas(){return this.hiddenAreasDecorationIds.map(a=>this.model.getDecorationRange(a))}setHiddenAreas(a){const u=a.map(R=>this.model.validateRange(R)),p=n(u),S=this.hiddenAreasDecorationIds.map(R=>this.model.getDecorationRange(R)).sort(k.Range.compareRangesUsingStarts);if(p.length===S.length){let R=!1;for(let F=0;F<p.length;F++)if(!p[F].equalsRange(S[F])){R=!0;break}if(!R)return!1}const f=p.map(R=>({range:R,options:L.ModelDecorationOptions.EMPTY}));this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,f);const v=p;let _=1,y=0,E=-1,T=E+1<v.length?y+1:this.modelLineProjections.length+2,I=!1;for(let R=0;R<this.modelLineProjections.length;R++){const F=R+1;F===T&&(E++,_=v[E].startLineNumber,y=v[E].endLineNumber,T=E+1<v.length?y+1:this.modelLineProjections.length+2);let O=!1;if(F>=_&&F<=y?this.modelLineProjections[R].isVisible()&&(this.modelLineProjections[R]=this.modelLineProjections[R].setVisible(!1),O=!0):(I=!0,this.modelLineProjections[R].isVisible()||(this.modelLineProjections[R]=this.modelLineProjections[R].setVisible(!0),O=!0)),O){const M=this.modelLineProjections[R].getViewLineCount();this.projectedModelLineLineCounts.setValue(R,M)}}return I||this.setHiddenAreas([]),!0}modelPositionIsVisible(a,u){return a<1||a>this.modelLineProjections.length?!1:this.modelLineProjections[a-1].isVisible()}getModelLineViewLineCount(a){return a<1||a>this.modelLineProjections.length?1:this.modelLineProjections[a-1].getViewLineCount()}setTabSize(a){return this.tabSize===a?!1:(this.tabSize=a,this._constructLines(!1,null),!0)}setWrappingSettings(a,u,p,S){const f=this.fontInfo.equals(a),v=this.wrappingStrategy===u,_=this.wrappingColumn===p,y=this.wrappingIndent===S;if(f&&v&&_&&y)return!1;const E=f&&v&&!_&&y;this.fontInfo=a,this.wrappingStrategy=u,this.wrappingColumn=p,this.wrappingIndent=S;let T=null;if(E){T=[];for(let I=0,R=this.modelLineProjections.length;I<R;I++)T[I]=this.modelLineProjections[I].getProjectionData()}return this._constructLines(!1,T),!0}createLineBreaksComputer(){return(this.wrappingStrategy==="advanced"?this._domLineBreaksComputerFactory:this._monospaceLineBreaksComputerFactory).createLineBreaksComputer(this.fontInfo,this.tabSize,this.wrappingColumn,this.wrappingIndent)}onModelFlushed(){this._constructLines(!0,null)}onModelLinesDeleted(a,u,p){if(!a||a<=this._validModelVersionId)return null;const S=u===1?1:this.projectedModelLineLineCounts.getPrefixSum(u-1)+1,f=this.projectedModelLineLineCounts.getPrefixSum(p);return this.modelLineProjections.splice(u-1,p-u+1),this.projectedModelLineLineCounts.removeValues(u-1,p-u+1),new C.ViewLinesDeletedEvent(S,f)}onModelLinesInserted(a,u,p,S){if(!a||a<=this._validModelVersionId)return null;const f=u>2&&!this.modelLineProjections[u-2].isVisible(),v=u===1?1:this.projectedModelLineLineCounts.getPrefixSum(u-1)+1;let _=0;const y=[],E=[];for(let T=0,I=S.length;T<I;T++){const R=(0,h.createModelLineProjection)(S[T],!f);y.push(R);const F=R.getViewLineCount();_+=F,E[T]=F}return this.modelLineProjections=this.modelLineProjections.slice(0,u-1).concat(y).concat(this.modelLineProjections.slice(u-1)),this.projectedModelLineLineCounts.insertValues(u-1,E),new C.ViewLinesInsertedEvent(v,v+_-1)}onModelLineChanged(a,u,p){if(a!==null&&a<=this._validModelVersionId)return[!1,null,null,null];const S=u-1,f=this.modelLineProjections[S].getViewLineCount(),v=this.modelLineProjections[S].isVisible(),_=(0,h.createModelLineProjection)(p,v);this.modelLineProjections[S]=_;const y=this.modelLineProjections[S].getViewLineCount();let E=!1,T=0,I=-1,R=0,F=-1,O=0,M=-1;f>y?(T=this.projectedModelLineLineCounts.getPrefixSum(u-1)+1,I=T+y-1,O=I+1,M=O+(f-y)-1,E=!0):f<y?(T=this.projectedModelLineLineCounts.getPrefixSum(u-1)+1,I=T+f-1,R=I+1,F=R+(y-f)-1,E=!0):(T=this.projectedModelLineLineCounts.getPrefixSum(u-1)+1,I=T+y-1),this.projectedModelLineLineCounts.setValue(S,y);const N=T<=I?new C.ViewLinesChangedEvent(T,I-T+1):null,A=R<=F?new C.ViewLinesInsertedEvent(R,F):null,B=O<=M?new C.ViewLinesDeletedEvent(O,M):null;return[E,N,A,B]}acceptVersionId(a){this._validModelVersionId=a,this.modelLineProjections.length===1&&!this.modelLineProjections[0].isVisible()&&this.setHiddenAreas([])}getViewLineCount(){return this.projectedModelLineLineCounts.getTotalSum()}_toValidViewLineNumber(a){if(a<1)return 1;const u=this.getViewLineCount();return a>u?u:a|0}getActiveIndentGuide(a,u,p){a=this._toValidViewLineNumber(a),u=this._toValidViewLineNumber(u),p=this._toValidViewLineNumber(p);const S=this.convertViewPositionToModelPosition(a,this.getViewLineMinColumn(a)),f=this.convertViewPositionToModelPosition(u,this.getViewLineMinColumn(u)),v=this.convertViewPositionToModelPosition(p,this.getViewLineMinColumn(p)),_=this.model.guides.getActiveIndentGuide(S.lineNumber,f.lineNumber,v.lineNumber),y=this.convertModelPositionToViewPosition(_.startLineNumber,1),E=this.convertModelPositionToViewPosition(_.endLineNumber,this.model.getLineMaxColumn(_.endLineNumber));return{startLineNumber:y.lineNumber,endLineNumber:E.lineNumber,indent:_.indent}}getViewLineInfo(a){a=this._toValidViewLineNumber(a);const u=this.projectedModelLineLineCounts.getIndexOf(a-1),p=u.index,S=u.remainder;return new o(p+1,S)}getMinColumnOfViewLine(a){return this.modelLineProjections[a.modelLineNumber-1].getViewLineMinColumn(this.model,a.modelLineNumber,a.modelLineWrappedLineIdx)}getMaxColumnOfViewLine(a){return this.modelLineProjections[a.modelLineNumber-1].getViewLineMaxColumn(this.model,a.modelLineNumber,a.modelLineWrappedLineIdx)}getModelStartPositionOfViewLine(a){const u=this.modelLineProjections[a.modelLineNumber-1],p=u.getViewLineMinColumn(this.model,a.modelLineNumber,a.modelLineWrappedLineIdx),S=u.getModelColumnOfViewPosition(a.modelLineWrappedLineIdx,p);return new m.Position(a.modelLineNumber,S)}getModelEndPositionOfViewLine(a){const u=this.modelLineProjections[a.modelLineNumber-1],p=u.getViewLineMaxColumn(this.model,a.modelLineNumber,a.modelLineWrappedLineIdx),S=u.getModelColumnOfViewPosition(a.modelLineWrappedLineIdx,p);return new m.Position(a.modelLineNumber,S)}getViewLineInfosGroupedByModelRanges(a,u){const p=this.getViewLineInfo(a),S=this.getViewLineInfo(u),f=new Array;let v=this.getModelStartPositionOfViewLine(p),_=new Array;for(let y=p.modelLineNumber;y<=S.modelLineNumber;y++){const E=this.modelLineProjections[y-1];if(E.isVisible()){const T=y===p.modelLineNumber?p.modelLineWrappedLineIdx:0,I=y===S.modelLineNumber?S.modelLineWrappedLineIdx+1:E.getViewLineCount();for(let R=T;R<I;R++)_.push(new o(y,R))}if(!E.isVisible()&&v){const T=new m.Position(y-1,this.model.getLineMaxColumn(y-1)+1),I=k.Range.fromPositions(v,T);f.push(new l(I,_)),_=[],v=null}else E.isVisible()&&!v&&(v=new m.Position(y,1))}if(v){const y=k.Range.fromPositions(v,this.getModelEndPositionOfViewLine(S));f.push(new l(y,_))}return f}getViewLinesBracketGuides(a,u,p,S){const f=p?this.convertViewPositionToModelPosition(p.lineNumber,p.column):null,v=[];for(const _ of this.getViewLineInfosGroupedByModelRanges(a,u)){const y=_.modelRange.startLineNumber,E=this.model.guides.getLinesBracketGuides(y,_.modelRange.endLineNumber,f,S);for(const T of _.viewLines){const R=E[T.modelLineNumber-y].map(F=>{if(F.forWrappedLinesAfterColumn!==-1&&this.modelLineProjections[T.modelLineNumber-1].getViewPositionOfModelPosition(0,F.forWrappedLinesAfterColumn).lineNumber>=T.modelLineWrappedLineIdx||F.forWrappedLinesBeforeOrAtColumn!==-1&&this.modelLineProjections[T.modelLineNumber-1].getViewPositionOfModelPosition(0,F.forWrappedLinesBeforeOrAtColumn).lineNumber<T.modelLineWrappedLineIdx)return;if(!F.horizontalLine)return F;let O=-1;if(F.column!==-1){const A=this.modelLineProjections[T.modelLineNumber-1].getViewPositionOfModelPosition(0,F.column);if(A.lineNumber===T.modelLineWrappedLineIdx)O=A.column;else if(A.lineNumber<T.modelLineWrappedLineIdx)O=this.getMinColumnOfViewLine(T);else if(A.lineNumber>T.modelLineWrappedLineIdx)return}const M=this.convertModelPositionToViewPosition(T.modelLineNumber,F.horizontalLine.endColumn),N=this.modelLineProjections[T.modelLineNumber-1].getViewPositionOfModelPosition(0,F.horizontalLine.endColumn);return N.lineNumber===T.modelLineWrappedLineIdx?new D.IndentGuide(F.visibleColumn,O,F.className,new D.IndentGuideHorizontalLine(F.horizontalLine.top,M.column),-1,-1):N.lineNumber<T.modelLineWrappedLineIdx||F.visibleColumn!==-1?void 0:new D.IndentGuide(F.visibleColumn,O,F.className,new D.IndentGuideHorizontalLine(F.horizontalLine.top,this.getMaxColumnOfViewLine(T)),-1,-1)});v.push(R.filter(F=>!!F))}}return v}getViewLinesIndentGuides(a,u){a=this._toValidViewLineNumber(a),u=this._toValidViewLineNumber(u);const p=this.convertViewPositionToModelPosition(a,this.getViewLineMinColumn(a)),S=this.convertViewPositionToModelPosition(u,this.getViewLineMaxColumn(u));let f=[];const v=[],_=[],y=p.lineNumber-1,E=S.lineNumber-1;let T=null;for(let O=y;O<=E;O++){const M=this.modelLineProjections[O];if(M.isVisible()){const N=M.getViewLineNumberOfModelPosition(0,O===y?p.column:1),A=M.getViewLineNumberOfModelPosition(0,this.model.getLineMaxColumn(O+1)),B=A-N+1;let W=0;B>1&&M.getViewLineMinColumn(this.model,O+1,A)===1&&(W=N===0?1:2),v.push(B),_.push(W),T===null&&(T=new m.Position(O+1,0))}else T!==null&&(f=f.concat(this.model.guides.getLinesIndentGuides(T.lineNumber,O)),T=null)}T!==null&&(f=f.concat(this.model.guides.getLinesIndentGuides(T.lineNumber,S.lineNumber)),T=null);const I=u-a+1,R=new Array(I);let F=0;for(let O=0,M=f.length;O<M;O++){let N=f[O];const A=Math.min(I-F,v[O]),B=_[O];let W;B===2?W=0:B===1?W=1:W=A;for(let x=0;x<A;x++)x===W&&(N=0),R[F++]=N}return R}getViewLineContent(a){const u=this.getViewLineInfo(a);return this.modelLineProjections[u.modelLineNumber-1].getViewLineContent(this.model,u.modelLineNumber,u.modelLineWrappedLineIdx)}getViewLineLength(a){const u=this.getViewLineInfo(a);return this.modelLineProjections[u.modelLineNumber-1].getViewLineLength(this.model,u.modelLineNumber,u.modelLineWrappedLineIdx)}getViewLineMinColumn(a){const u=this.getViewLineInfo(a);return this.modelLineProjections[u.modelLineNumber-1].getViewLineMinColumn(this.model,u.modelLineNumber,u.modelLineWrappedLineIdx)}getViewLineMaxColumn(a){const u=this.getViewLineInfo(a);return this.modelLineProjections[u.modelLineNumber-1].getViewLineMaxColumn(this.model,u.modelLineNumber,u.modelLineWrappedLineIdx)}getViewLineData(a){const u=this.getViewLineInfo(a);return this.modelLineProjections[u.modelLineNumber-1].getViewLineData(this.model,u.modelLineNumber,u.modelLineWrappedLineIdx)}getViewLinesData(a,u,p){a=this._toValidViewLineNumber(a),u=this._toValidViewLineNumber(u);const S=this.projectedModelLineLineCounts.getIndexOf(a-1);let f=a;const v=S.index,_=S.remainder,y=[];for(let E=v,T=this.model.getLineCount();E<T;E++){const I=this.modelLineProjections[E];if(!I.isVisible())continue;const R=E===v?_:0;let F=I.getViewLineCount()-R,O=!1;if(f+F>u&&(O=!0,F=u-f+1),I.getViewLinesData(this.model,E+1,R,F,f-a,p,y),f+=F,O)break}return y}validateViewPosition(a,u,p){a=this._toValidViewLineNumber(a);const S=this.projectedModelLineLineCounts.getIndexOf(a-1),f=S.index,v=S.remainder,_=this.modelLineProjections[f],y=_.getViewLineMinColumn(this.model,f+1,v),E=_.getViewLineMaxColumn(this.model,f+1,v);u<y&&(u=y),u>E&&(u=E);const T=_.getModelColumnOfViewPosition(v,u);return this.model.validatePosition(new m.Position(f+1,T)).equals(p)?new m.Position(a,u):this.convertModelPositionToViewPosition(p.lineNumber,p.column)}validateViewRange(a,u){const p=this.validateViewPosition(a.startLineNumber,a.startColumn,u.getStartPosition()),S=this.validateViewPosition(a.endLineNumber,a.endColumn,u.getEndPosition());return new k.Range(p.lineNumber,p.column,S.lineNumber,S.column)}convertViewPositionToModelPosition(a,u){const p=this.getViewLineInfo(a),S=this.modelLineProjections[p.modelLineNumber-1].getModelColumnOfViewPosition(p.modelLineWrappedLineIdx,u);return this.model.validatePosition(new m.Position(p.modelLineNumber,S))}convertViewRangeToModelRange(a){const u=this.convertViewPositionToModelPosition(a.startLineNumber,a.startColumn),p=this.convertViewPositionToModelPosition(a.endLineNumber,a.endColumn);return new k.Range(u.lineNumber,u.column,p.lineNumber,p.column)}convertModelPositionToViewPosition(a,u,p=2){const S=this.model.validatePosition(new m.Position(a,u)),f=S.lineNumber,v=S.column;let _=f-1,y=!1;for(;_>0&&!this.modelLineProjections[_].isVisible();)_--,y=!0;if(_===0&&!this.modelLineProjections[_].isVisible())return new m.Position(1,1);const E=1+this.projectedModelLineLineCounts.getPrefixSum(_);let T;return y?T=this.modelLineProjections[_].getViewPositionOfModelPosition(E,this.model.getLineMaxColumn(_+1),p):T=this.modelLineProjections[f-1].getViewPositionOfModelPosition(E,v,p),T}convertModelRangeToViewRange(a,u=0){if(a.isEmpty()){const p=this.convertModelPositionToViewPosition(a.startLineNumber,a.startColumn,u);return k.Range.fromPositions(p)}else{const p=this.convertModelPositionToViewPosition(a.startLineNumber,a.startColumn,1),S=this.convertModelPositionToViewPosition(a.endLineNumber,a.endColumn,0);return new k.Range(p.lineNumber,p.column,S.lineNumber,S.column)}}getViewLineNumberOfModelPosition(a,u){let p=a-1;if(this.modelLineProjections[p].isVisible()){const f=1+this.projectedModelLineLineCounts.getPrefixSum(p);return this.modelLineProjections[p].getViewLineNumberOfModelPosition(f,u)}for(;p>0&&!this.modelLineProjections[p].isVisible();)p--;if(p===0&&!this.modelLineProjections[p].isVisible())return 1;const S=1+this.projectedModelLineLineCounts.getPrefixSum(p);return this.modelLineProjections[p].getViewLineNumberOfModelPosition(S,this.model.getLineMaxColumn(p+1))}getDecorationsInRange(a,u,p,S){const f=this.convertViewPositionToModelPosition(a.startLineNumber,a.startColumn),v=this.convertViewPositionToModelPosition(a.endLineNumber,a.endColumn);if(v.lineNumber-f.lineNumber<=a.endLineNumber-a.startLineNumber)return this.model.getDecorationsInRange(new k.Range(f.lineNumber,1,v.lineNumber,v.column),u,p,S);let _=[];const y=f.lineNumber-1,E=v.lineNumber-1;let T=null;for(let O=y;O<=E;O++)if(this.modelLineProjections[O].isVisible())T===null&&(T=new m.Position(O+1,O===y?f.column:1));else if(T!==null){const N=this.model.getLineMaxColumn(O);_=_.concat(this.model.getDecorationsInRange(new k.Range(T.lineNumber,T.column,O,N),u,p,S)),T=null}T!==null&&(_=_.concat(this.model.getDecorationsInRange(new k.Range(T.lineNumber,T.column,v.lineNumber,v.column),u,p,S)),T=null),_.sort((O,M)=>{const N=k.Range.compareRangesUsingStarts(O.range,M.range);return N===0?O.id<M.id?-1:O.id>M.id?1:0:N});const I=[];let R=0,F=null;for(const O of _){const M=O.id;F!==M&&(F=M,I[R++]=O)}return I}getInjectedTextAt(a){const u=this.getViewLineInfo(a.lineNumber);return this.modelLineProjections[u.modelLineNumber-1].getInjectedTextAt(u.modelLineWrappedLineIdx,a.column)}normalizePosition(a,u){const p=this.getViewLineInfo(a.lineNumber);return this.modelLineProjections[p.modelLineNumber-1].normalizePosition(p.modelLineWrappedLineIdx,a,u)}getLineIndentColumn(a){const u=this.getViewLineInfo(a);return u.modelLineWrappedLineIdx===0?this.model.getLineIndentColumn(u.modelLineNumber):0}}e.ViewModelLinesFromProjectedModel=i;function n(s){if(s.length===0)return[];const a=s.slice();a.sort(k.Range.compareRangesUsingStarts);const u=[];let p=a[0].startLineNumber,S=a[0].endLineNumber;for(let f=1,v=a.length;f<v;f++){const _=a[f];_.startLineNumber>S+1?(u.push(new k.Range(p,1,S,1)),p=_.startLineNumber,S=_.endLineNumber):_.endLineNumber>S&&(S=_.endLineNumber)}return u.push(new k.Range(p,1,S,1)),u}class o{constructor(a,u){this.modelLineNumber=a,this.modelLineWrappedLineIdx=u}}class l{constructor(a,u){this.modelRange=a,this.viewLines=u}}class c{constructor(a){this._lines=a}convertViewPositionToModelPosition(a){return this._lines.convertViewPositionToModelPosition(a.lineNumber,a.column)}convertViewRangeToModelRange(a){return this._lines.convertViewRangeToModelRange(a)}validateViewPosition(a,u){return this._lines.validateViewPosition(a.lineNumber,a.column,u)}validateViewRange(a,u){return this._lines.validateViewRange(a,u)}convertModelPositionToViewPosition(a,u){return this._lines.convertModelPositionToViewPosition(a.lineNumber,a.column,u)}convertModelRangeToViewRange(a,u){return this._lines.convertModelRangeToViewRange(a,u)}modelPositionIsVisible(a){return this._lines.modelPositionIsVisible(a.lineNumber,a.column)}getModelLineViewLineCount(a){return this._lines.getModelLineViewLineCount(a)}getViewLineNumberOfModelPosition(a,u){return this._lines.getViewLineNumberOfModelPosition(a,u)}}class d{constructor(a){this.model=a}dispose(){}createCoordinatesConverter(){return new r(this)}getHiddenAreas(){return[]}setHiddenAreas(a){return!1}setTabSize(a){return!1}setWrappingSettings(a,u,p,S){return!1}createLineBreaksComputer(){const a=[];return{addRequest:(u,p,S)=>{a.push(null)},finalize:()=>a}}onModelFlushed(){}onModelLinesDeleted(a,u,p){return new C.ViewLinesDeletedEvent(u,p)}onModelLinesInserted(a,u,p,S){return new C.ViewLinesInsertedEvent(u,p)}onModelLineChanged(a,u,p){return[!1,new C.ViewLinesChangedEvent(u,1),null,null]}acceptVersionId(a){}getViewLineCount(){return this.model.getLineCount()}getActiveIndentGuide(a,u,p){return{startLineNumber:a,endLineNumber:a,indent:0}}getViewLinesBracketGuides(a,u,p){return new Array(u-a+1).fill([])}getViewLinesIndentGuides(a,u){const p=u-a+1,S=new Array(p);for(let f=0;f<p;f++)S[f]=0;return S}getViewLineContent(a){return this.model.getLineContent(a)}getViewLineLength(a){return this.model.getLineLength(a)}getViewLineMinColumn(a){return this.model.getLineMinColumn(a)}getViewLineMaxColumn(a){return this.model.getLineMaxColumn(a)}getViewLineData(a){const u=this.model.tokenization.getLineTokens(a),p=u.getLineContent();return new t.ViewLineData(p,!1,1,p.length+1,0,u.inflate(),null)}getViewLinesData(a,u,p){const S=this.model.getLineCount();a=Math.min(Math.max(1,a),S),u=Math.min(Math.max(1,u),S);const f=[];for(let v=a;v<=u;v++){const _=v-a;f[_]=p[_]?this.getViewLineData(v):null}return f}getDecorationsInRange(a,u,p,S){return this.model.getDecorationsInRange(a,u,p,S)}normalizePosition(a,u){return this.model.normalizePosition(a,u)}getLineIndentColumn(a){return this.model.getLineIndentColumn(a)}getInjectedTextAt(a){return null}}e.ViewModelLinesFromModelAsIs=d;class r{constructor(a){this._lines=a}_validPosition(a){return this._lines.model.validatePosition(a)}_validRange(a){return this._lines.model.validateRange(a)}convertViewPositionToModelPosition(a){return this._validPosition(a)}convertViewRangeToModelRange(a){return this._validRange(a)}validateViewPosition(a,u){return this._validPosition(u)}validateViewRange(a,u){return this._validRange(u)}convertModelPositionToViewPosition(a){return this._validPosition(a)}convertModelRangeToViewRange(a){return this._validRange(a)}modelPositionIsVisible(a){const u=this._lines.model.getLineCount();return!(a.lineNumber<1||a.lineNumber>u)}getModelLineViewLineCount(a){return 1}getViewLineNumberOfModelPosition(a,u){return a}}}),define(se[765],re([1,0,18,10,31,2,17,8,38,297,64,11,3,101,28,74,279,193,531,281,75,285,210,764]),function(q,e,w,m,k,D,L,b,C,h,g,t,i,n,o,l,c,d,r,s,a,u,p,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewModel=void 0;const f=!0;class v extends D.Disposable{constructor(F,O,M,N,A,B,W,x){if(super(),this.languageConfigurationService=W,this._themeService=x,this.hiddenAreasModel=new E,this.previousHiddenAreas=[],this._editorId=F,this._configuration=O,this.model=M,this._eventDispatcher=new p.ViewModelEventDispatcher,this.onEvent=this._eventDispatcher.onEvent,this.cursorConfig=new g.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._tokenizeViewportSoon=this._register(new m.RunOnceScheduler(()=>this.tokenizeViewport(),50)),this._updateConfigurationViewLineCount=this._register(new m.RunOnceScheduler(()=>this._updateConfigurationViewLineCountNow(),0)),this._hasFocus=!1,this._viewportStart=_.create(this.model),f&&this.model.isTooLargeForTokenization())this._lines=new S.ViewModelLinesFromModelAsIs(this.model);else{const P=this._configuration.options,X=P.get(45),ie=P.get(127),K=P.get(134),G=P.get(126);this._lines=new S.ViewModelLinesFromProjectedModel(this._editorId,this.model,N,A,X,this.model.getOptions().tabSize,ie,K.wrappingColumn,G)}this.coordinatesConverter=this._lines.createCoordinatesConverter(),this._cursor=this._register(new h.CursorsController(M,this,this.coordinatesConverter,this.cursorConfig)),this.viewLayout=this._register(new r.ViewLayout(this._configuration,this.getLineCount(),B)),this._register(this.viewLayout.onDidScroll(P=>{P.scrollTopChanged&&this._tokenizeViewportSoon.schedule(),P.scrollTopChanged&&this._viewportStart.invalidate(),this._eventDispatcher.emitSingleViewEvent(new d.ViewScrollChangedEvent(P)),this._eventDispatcher.emitOutgoingEvent(new p.ScrollChangedEvent(P.oldScrollWidth,P.oldScrollLeft,P.oldScrollHeight,P.oldScrollTop,P.scrollWidth,P.scrollLeft,P.scrollHeight,P.scrollTop))})),this._register(this.viewLayout.onDidContentSizeChange(P=>{this._eventDispatcher.emitOutgoingEvent(P)})),this._decorations=new u.ViewModelDecorations(this._editorId,this.model,this._configuration,this._lines,this.coordinatesConverter),this._registerModelEvents(),this._register(this._configuration.onDidChangeFast(P=>{try{const X=this._eventDispatcher.beginEmitViewEvents();this._onConfigurationChanged(X,P)}finally{this._eventDispatcher.endEmitViewEvents()}})),this._register(s.MinimapTokensColorTracker.getInstance().onDidChange(()=>{this._eventDispatcher.emitSingleViewEvent(new d.ViewTokensColorsChangedEvent)})),this._register(this._themeService.onDidColorThemeChange(P=>{this._invalidateDecorationsColorCache(),this._eventDispatcher.emitSingleViewEvent(new d.ViewThemeChangedEvent(P))})),this._updateConfigurationViewLineCountNow()}dispose(){super.dispose(),this._decorations.dispose(),this._lines.dispose(),this._viewportStart.dispose(),this._eventDispatcher.dispose()}createLineBreaksComputer(){return this._lines.createLineBreaksComputer()}addViewEventHandler(F){this._eventDispatcher.addViewEventHandler(F)}removeViewEventHandler(F){this._eventDispatcher.removeViewEventHandler(F)}_updateConfigurationViewLineCountNow(){this._configuration.setViewLineCount(this._lines.getViewLineCount())}tokenizeViewport(){const F=this.viewLayout.getLinesViewportData(),O=new i.Range(F.startLineNumber,this.getLineMinColumn(F.startLineNumber),F.endLineNumber,this.getLineMaxColumn(F.endLineNumber)),M=this._toModelVisibleRanges(O);for(const N of M)this.model.tokenization.tokenizeViewport(N.startLineNumber,N.endLineNumber)}setHasFocus(F){this._hasFocus=F,this._cursor.setHasFocus(F),this._eventDispatcher.emitSingleViewEvent(new d.ViewFocusChangedEvent(F)),this._eventDispatcher.emitOutgoingEvent(new p.FocusChangedEvent(!F,F))}onCompositionStart(){this._eventDispatcher.emitSingleViewEvent(new d.ViewCompositionStartEvent)}onCompositionEnd(){this._eventDispatcher.emitSingleViewEvent(new d.ViewCompositionEndEvent)}_onConfigurationChanged(F,O){let M=null;if(this._viewportStart.isValid){const X=new t.Position(this._viewportStart.viewLineNumber,this.getLineMinColumn(this._viewportStart.viewLineNumber));M=this.coordinatesConverter.convertViewPositionToModelPosition(X)}let N=!1;const A=this._configuration.options,B=A.get(45),W=A.get(127),x=A.get(134),P=A.get(126);if(this._lines.setWrappingSettings(B,W,x.wrappingColumn,P)&&(F.emitViewEvent(new d.ViewFlushedEvent),F.emitViewEvent(new d.ViewLineMappingChangedEvent),F.emitViewEvent(new d.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(F),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.getCurrentScrollTop()!==0&&(N=!0),this._updateConfigurationViewLineCount.schedule()),O.hasChanged(82)&&(this._decorations.reset(),F.emitViewEvent(new d.ViewDecorationsChangedEvent(null))),F.emitViewEvent(new d.ViewConfigurationChangedEvent(O)),this.viewLayout.onConfigurationChanged(O),N&&M){const X=this.coordinatesConverter.convertModelPositionToViewPosition(M),ie=this.viewLayout.getVerticalOffsetForLineNumber(X.lineNumber);this.viewLayout.setScrollPosition({scrollTop:ie+this._viewportStart.startLineDelta},1)}g.CursorConfiguration.shouldRecreate(O)&&(this.cursorConfig=new g.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig))}_registerModelEvents(){this._register(this.model.onDidChangeContentOrInjectedText(F=>{try{const M=this._eventDispatcher.beginEmitViewEvents();let N=!1,A=!1;const B=F instanceof n.InternalModelContentChangeEvent?F.rawContentChangedEvent.changes:F.changes,W=F instanceof n.InternalModelContentChangeEvent?F.rawContentChangedEvent.versionId:null,x=this._lines.createLineBreaksComputer();for(const ie of B)switch(ie.changeType){case 4:{for(let K=0;K<ie.detail.length;K++){const G=ie.detail[K];let Q=ie.injectedTexts[K];Q&&(Q=Q.filter(ne=>!ne.ownerId||ne.ownerId===this._editorId)),x.addRequest(G,Q,null)}break}case 2:{let K=null;ie.injectedText&&(K=ie.injectedText.filter(G=>!G.ownerId||G.ownerId===this._editorId)),x.addRequest(ie.detail,K,null);break}}const P=x.finalize(),X=new w.ArrayQueue(P);for(const ie of B)switch(ie.changeType){case 1:{this._lines.onModelFlushed(),M.emitViewEvent(new d.ViewFlushedEvent),this._decorations.reset(),this.viewLayout.onFlushed(this.getLineCount()),N=!0;break}case 3:{const K=this._lines.onModelLinesDeleted(W,ie.fromLineNumber,ie.toLineNumber);K!==null&&(M.emitViewEvent(K),this.viewLayout.onLinesDeleted(K.fromLineNumber,K.toLineNumber)),N=!0;break}case 4:{const K=X.takeCount(ie.detail.length),G=this._lines.onModelLinesInserted(W,ie.fromLineNumber,ie.toLineNumber,K);G!==null&&(M.emitViewEvent(G),this.viewLayout.onLinesInserted(G.fromLineNumber,G.toLineNumber)),N=!0;break}case 2:{const K=X.dequeue(),[G,Q,ne,Z]=this._lines.onModelLineChanged(W,ie.lineNumber,K);A=G,Q&&M.emitViewEvent(Q),ne&&(M.emitViewEvent(ne),this.viewLayout.onLinesInserted(ne.fromLineNumber,ne.toLineNumber)),Z&&(M.emitViewEvent(Z),this.viewLayout.onLinesDeleted(Z.fromLineNumber,Z.toLineNumber));break}case 5:break}W!==null&&this._lines.acceptVersionId(W),this.viewLayout.onHeightMaybeChanged(),!N&&A&&(M.emitViewEvent(new d.ViewLineMappingChangedEvent),M.emitViewEvent(new d.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(M),this._decorations.onLineMappingChanged())}finally{this._eventDispatcher.endEmitViewEvents()}const O=this._viewportStart.isValid;if(this._viewportStart.invalidate(),this._configuration.setModelLineCount(this.model.getLineCount()),this._updateConfigurationViewLineCountNow(),!this._hasFocus&&this.model.getAttachedEditorCount()>=2&&O){const M=this.model._getTrackedRange(this._viewportStart.modelTrackedRange);if(M){const N=this.coordinatesConverter.convertModelPositionToViewPosition(M.getStartPosition()),A=this.viewLayout.getVerticalOffsetForLineNumber(N.lineNumber);this.viewLayout.setScrollPosition({scrollTop:A+this._viewportStart.startLineDelta},1)}}try{const M=this._eventDispatcher.beginEmitViewEvents();F instanceof n.InternalModelContentChangeEvent&&M.emitOutgoingEvent(new p.ModelContentChangedEvent(F.contentChangedEvent)),this._cursor.onModelContentChanged(M,F)}finally{this._eventDispatcher.endEmitViewEvents()}this._tokenizeViewportSoon.schedule()})),this._register(this.model.onDidChangeTokens(F=>{const O=[];for(let M=0,N=F.ranges.length;M<N;M++){const A=F.ranges[M],B=this.coordinatesConverter.convertModelPositionToViewPosition(new t.Position(A.fromLineNumber,1)).lineNumber,W=this.coordinatesConverter.convertModelPositionToViewPosition(new t.Position(A.toLineNumber,this.model.getLineMaxColumn(A.toLineNumber))).lineNumber;O[M]={fromLineNumber:B,toLineNumber:W}}this._eventDispatcher.emitSingleViewEvent(new d.ViewTokensChangedEvent(O)),F.tokenizationSupportChanged&&this._tokenizeViewportSoon.schedule(),this._eventDispatcher.emitOutgoingEvent(new p.ModelTokensChangedEvent(F))})),this._register(this.model.onDidChangeLanguageConfiguration(F=>{this._eventDispatcher.emitSingleViewEvent(new d.ViewLanguageConfigurationEvent),this.cursorConfig=new g.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new p.ModelLanguageConfigurationChangedEvent(F))})),this._register(this.model.onDidChangeLanguage(F=>{this.cursorConfig=new g.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new p.ModelLanguageChangedEvent(F))})),this._register(this.model.onDidChangeOptions(F=>{if(this._lines.setTabSize(this.model.getOptions().tabSize)){try{const O=this._eventDispatcher.beginEmitViewEvents();O.emitViewEvent(new d.ViewFlushedEvent),O.emitViewEvent(new d.ViewLineMappingChangedEvent),O.emitViewEvent(new d.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(O),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}this.cursorConfig=new g.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new p.ModelOptionsChangedEvent(F))})),this._register(this.model.onDidChangeDecorations(F=>{this._decorations.onModelDecorationsChanged(),this._eventDispatcher.emitSingleViewEvent(new d.ViewDecorationsChangedEvent(F)),this._eventDispatcher.emitOutgoingEvent(new p.ModelDecorationsChangedEvent(F))}))}setHiddenAreas(F,O){this.hiddenAreasModel.setHiddenAreas(O,F);const M=this.hiddenAreasModel.getMergedRanges();if(M===this.previousHiddenAreas)return;this.previousHiddenAreas=M;let N=!1;try{const A=this._eventDispatcher.beginEmitViewEvents();N=this._lines.setHiddenAreas(M),N&&(A.emitViewEvent(new d.ViewFlushedEvent),A.emitViewEvent(new d.ViewLineMappingChangedEvent),A.emitViewEvent(new d.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(A),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.onHeightMaybeChanged())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule(),N&&this._eventDispatcher.emitOutgoingEvent(new p.HiddenAreasChangedEvent)}getVisibleRangesPlusViewportAboveBelow(){const F=this._configuration.options.get(133),O=this._configuration.options.get(60),M=Math.max(20,Math.round(F.height/O)),N=this.viewLayout.getLinesViewportData(),A=Math.max(1,N.completelyVisibleStartLineNumber-M),B=Math.min(this.getLineCount(),N.completelyVisibleEndLineNumber+M);return this._toModelVisibleRanges(new i.Range(A,this.getLineMinColumn(A),B,this.getLineMaxColumn(B)))}getVisibleRanges(){const F=this.getCompletelyVisibleViewRange();return this._toModelVisibleRanges(F)}getHiddenAreas(){return this._lines.getHiddenAreas()}_toModelVisibleRanges(F){const O=this.coordinatesConverter.convertViewRangeToModelRange(F),M=this._lines.getHiddenAreas();if(M.length===0)return[O];const N=[];let A=0,B=O.startLineNumber,W=O.startColumn;const x=O.endLineNumber,P=O.endColumn;for(let X=0,ie=M.length;X<ie;X++){const K=M[X].startLineNumber,G=M[X].endLineNumber;G<B||K>x||(B<K&&(N[A++]=new i.Range(B,W,K-1,this.model.getLineMaxColumn(K-1))),B=G+1,W=1)}return(B<x||B===x&&W<P)&&(N[A++]=new i.Range(B,W,x,P)),N}getCompletelyVisibleViewRange(){const F=this.viewLayout.getLinesViewportData(),O=F.completelyVisibleStartLineNumber,M=F.completelyVisibleEndLineNumber;return new i.Range(O,this.getLineMinColumn(O),M,this.getLineMaxColumn(M))}getCompletelyVisibleViewRangeAtScrollTop(F){const O=this.viewLayout.getLinesViewportDataAtScrollTop(F),M=O.completelyVisibleStartLineNumber,N=O.completelyVisibleEndLineNumber;return new i.Range(M,this.getLineMinColumn(M),N,this.getLineMaxColumn(N))}saveState(){const F=this.viewLayout.saveState(),O=F.scrollTop,M=this.viewLayout.getLineNumberAtVerticalOffset(O),N=this.coordinatesConverter.convertViewPositionToModelPosition(new t.Position(M,this.getLineMinColumn(M))),A=this.viewLayout.getVerticalOffsetForLineNumber(M)-O;return{scrollLeft:F.scrollLeft,firstPosition:N,firstPositionDeltaTop:A}}reduceRestoreState(F){if(typeof F.firstPosition>"u")return this._reduceRestoreStateCompatibility(F);const O=this.model.validatePosition(F.firstPosition),M=this.coordinatesConverter.convertModelPositionToViewPosition(O),N=this.viewLayout.getVerticalOffsetForLineNumber(M.lineNumber)-F.firstPositionDeltaTop;return{scrollLeft:F.scrollLeft,scrollTop:N}}_reduceRestoreStateCompatibility(F){return{scrollLeft:F.scrollLeft,scrollTop:F.scrollTopWithoutViewZones}}getTabSize(){return this.model.getOptions().tabSize}getLineCount(){return this._lines.getViewLineCount()}setViewport(F,O,M){this._viewportStart.update(this,F)}getActiveIndentGuide(F,O,M){return this._lines.getActiveIndentGuide(F,O,M)}getLinesIndentGuides(F,O){return this._lines.getViewLinesIndentGuides(F,O)}getBracketGuidesInRangeByLine(F,O,M,N){return this._lines.getViewLinesBracketGuides(F,O,M,N)}getLineContent(F){return this._lines.getViewLineContent(F)}getLineLength(F){return this._lines.getViewLineLength(F)}getLineMinColumn(F){return this._lines.getViewLineMinColumn(F)}getLineMaxColumn(F){return this._lines.getViewLineMaxColumn(F)}getLineFirstNonWhitespaceColumn(F){const O=b.firstNonWhitespaceIndex(this.getLineContent(F));return O===-1?0:O+1}getLineLastNonWhitespaceColumn(F){const O=b.lastNonWhitespaceIndex(this.getLineContent(F));return O===-1?0:O+2}getDecorationsInViewport(F,O=!1){return this._decorations.getDecorationsViewportData(F,O).decorations}getInjectedTextAt(F){return this._lines.getInjectedTextAt(F)}getViewportViewLineRenderingData(F,O){const N=this._decorations.getDecorationsViewportData(F).inlineDecorations[O-F.startLineNumber];return this._getViewLineRenderingData(O,N)}getViewLineRenderingData(F){const O=this._decorations.getInlineDecorationsOnLine(F);return this._getViewLineRenderingData(F,O)}_getViewLineRenderingData(F,O){const M=this.model.mightContainRTL(),N=this.model.mightContainNonBasicASCII(),A=this.getTabSize(),B=this._lines.getViewLineData(F);return B.inlineDecorations&&(O=[...O,...B.inlineDecorations.map(W=>W.toInlineDecoration(F))]),new a.ViewLineRenderingData(B.minColumn,B.maxColumn,B.content,B.continuesWithWrappedLine,M,N,B.tokens,O,A,B.startVisibleColumn)}getViewLineData(F){return this._lines.getViewLineData(F)}getMinimapLinesRenderingData(F,O,M){const N=this._lines.getViewLinesData(F,O,M);return new a.MinimapLinesRenderingData(this.getTabSize(),N)}getAllOverviewRulerDecorations(F){const O=this.model.getOverviewRulerDecorations(this._editorId,(0,C.filterValidationDecorations)(this._configuration.options)),M=new y;for(const N of O){const A=N.options,B=A.overviewRuler;if(!B)continue;const W=B.position;if(W===0)continue;const x=B.getColor(F.value),P=this.coordinatesConverter.getViewLineNumberOfModelPosition(N.range.startLineNumber,N.range.startColumn),X=this.coordinatesConverter.getViewLineNumberOfModelPosition(N.range.endLineNumber,N.range.endColumn);M.accept(x,A.zIndex,P,X,W)}return M.asArray}_invalidateDecorationsColorCache(){const F=this.model.getOverviewRulerDecorations();for(const O of F){const M=O.options.overviewRuler;M?.invalidateCachedColor();const N=O.options.minimap;N?.invalidateCachedColor()}}getValueInRange(F,O){const M=this.coordinatesConverter.convertViewRangeToModelRange(F);return this.model.getValueInRange(M,O)}deduceModelPositionRelativeToViewPosition(F,O,M){const N=this.coordinatesConverter.convertViewPositionToModelPosition(F);this.model.getEOL().length===2&&(O<0?O-=M:O+=M);const B=this.model.getOffsetAt(N)+O;return this.model.getPositionAt(B)}getPlainTextToCopy(F,O,M){const N=M?`\r
`:this.model.getEOL();F=F.slice(0),F.sort(i.Range.compareRangesUsingStarts);let A=!1,B=!1;for(const x of F)x.isEmpty()?A=!0:B=!0;if(!B){if(!O)return"";const x=F.map(X=>X.startLineNumber);let P="";for(let X=0;X<x.length;X++)X>0&&x[X-1]===x[X]||(P+=this.model.getLineContent(x[X])+N);return P}if(A&&O){const x=[];let P=0;for(const X of F){const ie=X.startLineNumber;X.isEmpty()?ie!==P&&x.push(this.model.getLineContent(ie)):x.push(this.model.getValueInRange(X,M?2:0)),P=ie}return x.length===1?x[0]:x}const W=[];for(const x of F)x.isEmpty()||W.push(this.model.getValueInRange(x,M?2:0));return W.length===1?W[0]:W}getRichTextToCopy(F,O){const M=this.model.getLanguageId();if(M===l.PLAINTEXT_LANGUAGE_ID||F.length!==1)return null;let N=F[0];if(N.isEmpty()){if(!O)return null;const X=N.startLineNumber;N=new i.Range(X,this.model.getLineMinColumn(X),X,this.model.getLineMaxColumn(X))}const A=this._configuration.options.get(45),B=this._getColorMap(),x=/[:;\\\/<>]/.test(A.fontFamily)||A.fontFamily===C.EDITOR_FONT_DEFAULTS.fontFamily;let P;return x?P=C.EDITOR_FONT_DEFAULTS.fontFamily:(P=A.fontFamily,P=P.replace(/"/g,"'"),/[,']/.test(P)||/[+ ]/.test(P)&&(P=`'${P}'`),P=`${P}, ${C.EDITOR_FONT_DEFAULTS.fontFamily}`),{mode:M,html:`<div style="color: ${B[1]};background-color: ${B[2]};font-family: ${P};font-weight: ${A.fontWeight};font-size: ${A.fontSize}px;line-height: ${A.lineHeight}px;white-space: pre;">`+this._getHTMLToCopy(N,B)+"</div>"}}_getHTMLToCopy(F,O){const M=F.startLineNumber,N=F.startColumn,A=F.endLineNumber,B=F.endColumn,W=this.getTabSize();let x="";for(let P=M;P<=A;P++){const X=this.model.tokenization.getLineTokens(P),ie=X.getLineContent(),K=P===M?N-1:0,G=P===A?B-1:ie.length;ie===""?x+="<br>":x+=(0,c.tokenizeLineToHTML)(ie,X.inflate(),O,K,G,W,L.isWindows)}return x}_getColorMap(){const F=o.TokenizationRegistry.getColorMap(),O=["#000000"];if(F)for(let M=1,N=F.length;M<N;M++)O[M]=k.Color.Format.CSS.formatHex(F[M]);return O}getPrimaryCursorState(){return this._cursor.getPrimaryCursorState()}getLastAddedCursorIndex(){return this._cursor.getLastAddedCursorIndex()}getCursorStates(){return this._cursor.getCursorStates()}setCursorStates(F,O,M){return this._withViewEventsCollector(N=>this._cursor.setStates(N,F,O,M))}getCursorColumnSelectData(){return this._cursor.getCursorColumnSelectData()}getCursorAutoClosedCharacters(){return this._cursor.getAutoClosedCharacters()}setCursorColumnSelectData(F){this._cursor.setCursorColumnSelectData(F)}getPrevEditOperationType(){return this._cursor.getPrevEditOperationType()}setPrevEditOperationType(F){this._cursor.setPrevEditOperationType(F)}getSelection(){return this._cursor.getSelection()}getSelections(){return this._cursor.getSelections()}getPosition(){return this._cursor.getPrimaryCursorState().modelState.position}setSelections(F,O,M=0){this._withViewEventsCollector(N=>this._cursor.setSelections(N,F,O,M))}saveCursorState(){return this._cursor.saveState()}restoreCursorState(F){this._withViewEventsCollector(O=>this._cursor.restoreState(O,F))}_executeCursorEdit(F){if(this._cursor.context.cursorConfig.readOnly){this._eventDispatcher.emitOutgoingEvent(new p.ReadOnlyEditAttemptEvent);return}this._withViewEventsCollector(F)}executeEdits(F,O,M){this._executeCursorEdit(N=>this._cursor.executeEdits(N,F,O,M))}startComposition(){this._executeCursorEdit(F=>this._cursor.startComposition(F))}endComposition(F){this._executeCursorEdit(O=>this._cursor.endComposition(O,F))}type(F,O){this._executeCursorEdit(M=>this._cursor.type(M,F,O))}compositionType(F,O,M,N,A){this._executeCursorEdit(B=>this._cursor.compositionType(B,F,O,M,N,A))}paste(F,O,M,N){this._executeCursorEdit(A=>this._cursor.paste(A,F,O,M,N))}cut(F){this._executeCursorEdit(O=>this._cursor.cut(O,F))}executeCommand(F,O){this._executeCursorEdit(M=>this._cursor.executeCommand(M,F,O))}executeCommands(F,O){this._executeCursorEdit(M=>this._cursor.executeCommands(M,F,O))}revealPrimaryCursor(F,O,M=!1){this._withViewEventsCollector(N=>this._cursor.revealPrimary(N,F,M,0,O,0))}revealTopMostCursor(F){const O=this._cursor.getTopMostViewPosition(),M=new i.Range(O.lineNumber,O.column,O.lineNumber,O.column);this._withViewEventsCollector(N=>N.emitViewEvent(new d.ViewRevealRangeRequestEvent(F,!1,M,null,0,!0,0)))}revealBottomMostCursor(F){const O=this._cursor.getBottomMostViewPosition(),M=new i.Range(O.lineNumber,O.column,O.lineNumber,O.column);this._withViewEventsCollector(N=>N.emitViewEvent(new d.ViewRevealRangeRequestEvent(F,!1,M,null,0,!0,0)))}revealRange(F,O,M,N,A){this._withViewEventsCollector(B=>B.emitViewEvent(new d.ViewRevealRangeRequestEvent(F,!1,M,null,N,O,A)))}changeWhitespace(F){this.viewLayout.changeWhitespace(F)&&(this._eventDispatcher.emitSingleViewEvent(new d.ViewZonesChangedEvent),this._eventDispatcher.emitOutgoingEvent(new p.ViewZonesChangedEvent))}_withViewEventsCollector(F){try{const O=this._eventDispatcher.beginEmitViewEvents();return F(O)}finally{this._eventDispatcher.endEmitViewEvents()}}normalizePosition(F,O){return this._lines.normalizePosition(F,O)}getLineIndentColumn(F){return this._lines.getLineIndentColumn(F)}}e.ViewModel=v;class _{static create(F){const O=F._setTrackedRange(null,new i.Range(1,1,1,1),1);return new _(F,1,!1,O,0)}get viewLineNumber(){return this._viewLineNumber}get isValid(){return this._isValid}get modelTrackedRange(){return this._modelTrackedRange}get startLineDelta(){return this._startLineDelta}constructor(F,O,M,N,A){this._model=F,this._viewLineNumber=O,this._isValid=M,this._modelTrackedRange=N,this._startLineDelta=A}dispose(){this._model._setTrackedRange(this._modelTrackedRange,null,1)}update(F,O){const M=F.coordinatesConverter.convertViewPositionToModelPosition(new t.Position(O,F.getLineMinColumn(O))),N=F.model._setTrackedRange(this._modelTrackedRange,new i.Range(M.lineNumber,M.column,M.lineNumber,M.column),1),A=F.viewLayout.getVerticalOffsetForLineNumber(O),B=F.viewLayout.getCurrentScrollTop();this._viewLineNumber=O,this._isValid=!0,this._modelTrackedRange=N,this._startLineDelta=B-A}invalidate(){this._isValid=!1}}class y{constructor(){this._asMap=Object.create(null),this.asArray=[]}accept(F,O,M,N,A){const B=this._asMap[F];if(B){const W=B.data,x=W[W.length-3],P=W[W.length-1];if(x===A&&P+1>=M){N>P&&(W[W.length-1]=N);return}W.push(A,M,N)}else{const W=new a.OverviewRulerDecorationsGroup(F,O,[A,M,N]);this._asMap[F]=W,this.asArray.push(W)}}}class E{constructor(){this.hiddenAreas=new Map,this.shouldRecompute=!1,this.ranges=[]}setHiddenAreas(F,O){const M=this.hiddenAreas.get(F);M&&I(M,O)||(this.hiddenAreas.set(F,O),this.shouldRecompute=!0)}getMergedRanges(){if(!this.shouldRecompute)return this.ranges;this.shouldRecompute=!1;const F=Array.from(this.hiddenAreas.values()).reduce((O,M)=>T(O,M),[]);return I(this.ranges,F)?this.ranges:(this.ranges=F,this.ranges)}}function T(R,F){const O=[];let M=0,N=0;for(;M<R.length&&N<F.length;){const A=R[M],B=F[N];if(A.endLineNumber<B.startLineNumber-1)O.push(R[M++]);else if(B.endLineNumber<A.startLineNumber-1)O.push(F[N++]);else{const W=Math.min(A.startLineNumber,B.startLineNumber),x=Math.max(A.endLineNumber,B.endLineNumber);O.push(new i.Range(W,1,x,1)),M++,N++}}for(;M<R.length;)O.push(R[M++]);for(;N<F.length;)O.push(F[N++]);return O}function I(R,F){if(R.length!==F.length)return!1;for(let O=0;O<R.length;O++)if(!R[O].equalsRange(F[O]))return!1;return!0}}),define(se[175],re([1,0,542,7,14,6,2,49,658,13,29,715,234,38,297,70,11,3,24,239,155,25,37,54,23,765,26,15,9,169,40,16,79,19,460,518,157,34,69,20,713,379]),function(q,e,w,m,k,D,L,b,C,h,g,t,i,n,o,l,c,d,r,s,a,u,p,S,f,v,_,y,E,T,I,R,F,O,M,N,A,B,W,x){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorModeContext=e.BooleanEventEmitter=e.CodeEditorWidget=void 0;let P=0;class X{constructor(z,J,Y,H,j){this.model=z,this.viewModel=J,this.view=Y,this.hasRealView=H,this.listenersToRemove=j}dispose(){(0,L.dispose)(this.listenersToRemove),this.model.onBeforeDetached(),this.hasRealView&&this.view.dispose(),this.viewModel.dispose()}}let ie=class Tt extends L.Disposable{get isSimpleWidget(){return this._configuration.isSimpleWidget}constructor(z,J,Y,H,j,de,ue,ce,ge,ve,_e,ye){super(),this.languageConfigurationService=_e,this._deliveryQueue=new D.EventDeliveryQueue,this._onDidDispose=this._register(new D.Emitter),this.onDidDispose=this._onDidDispose.event,this._onDidChangeModelContent=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelContent=this._onDidChangeModelContent.event,this._onDidChangeModelLanguage=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelLanguage=this._onDidChangeModelLanguage.event,this._onDidChangeModelLanguageConfiguration=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelLanguageConfiguration=this._onDidChangeModelLanguageConfiguration.event,this._onDidChangeModelOptions=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelOptions=this._onDidChangeModelOptions.event,this._onDidChangeModelDecorations=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelDecorations=this._onDidChangeModelDecorations.event,this._onDidChangeModelTokens=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelTokens=this._onDidChangeModelTokens.event,this._onDidChangeConfiguration=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._onDidChangeModel=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModel=this._onDidChangeModel.event,this._onDidChangeCursorPosition=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeCursorPosition=this._onDidChangeCursorPosition.event,this._onDidChangeCursorSelection=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeCursorSelection=this._onDidChangeCursorSelection.event,this._onDidAttemptReadOnlyEdit=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidAttemptReadOnlyEdit=this._onDidAttemptReadOnlyEdit.event,this._onDidLayoutChange=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidLayoutChange=this._onDidLayoutChange.event,this._editorTextFocus=this._register(new K({deliveryQueue:this._deliveryQueue})),this.onDidFocusEditorText=this._editorTextFocus.onDidChangeToTrue,this.onDidBlurEditorText=this._editorTextFocus.onDidChangeToFalse,this._editorWidgetFocus=this._register(new K({deliveryQueue:this._deliveryQueue})),this.onDidFocusEditorWidget=this._editorWidgetFocus.onDidChangeToTrue,this.onDidBlurEditorWidget=this._editorWidgetFocus.onDidChangeToFalse,this._onWillType=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onWillType=this._onWillType.event,this._onDidType=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidType=this._onDidType.event,this._onDidCompositionStart=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidCompositionStart=this._onDidCompositionStart.event,this._onDidCompositionEnd=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidCompositionEnd=this._onDidCompositionEnd.event,this._onDidPaste=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidPaste=this._onDidPaste.event,this._onMouseUp=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onMouseUp=this._onMouseUp.event,this._onMouseDown=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onMouseDown=this._onMouseDown.event,this._onMouseDrag=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onMouseDrag=this._onMouseDrag.event,this._onMouseDrop=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onMouseDrop=this._onMouseDrop.event,this._onMouseDropCanceled=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onMouseDropCanceled=this._onMouseDropCanceled.event,this._onDropIntoEditor=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDropIntoEditor=this._onDropIntoEditor.event,this._onContextMenu=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onContextMenu=this._onContextMenu.event,this._onMouseMove=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onMouseMove=this._onMouseMove.event,this._onMouseLeave=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onMouseLeave=this._onMouseLeave.event,this._onMouseWheel=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onMouseWheel=this._onMouseWheel.event,this._onKeyUp=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onKeyUp=this._onKeyUp.event,this._onKeyDown=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onKeyDown=this._onKeyDown.event,this._onDidContentSizeChange=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._onDidScrollChange=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidScrollChange=this._onDidScrollChange.event,this._onDidChangeViewZones=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeViewZones=this._onDidChangeViewZones.event,this._onDidChangeHiddenAreas=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeHiddenAreas=this._onDidChangeHiddenAreas.event,this._contributions=new L.DisposableMap,this._actions=new Map,this._bannerDomNode=null,this._dropIntoEditorDecorations=this.createDecorationsCollection();const Ee=Object.assign({},J);this._domElement=z,this._overflowWidgetsDomNode=Ee.overflowWidgetsDomNode,delete Ee.overflowWidgetsDomNode,this._id=++P,this._decorationTypeKeysToIds={},this._decorationTypeSubtypes={},this._telemetryData=Y.telemetryData,this._configuration=this._register(this._createConfiguration(Y.isSimpleWidget||!1,Ee,ve)),this._register(this._configuration.onDidChange(Ce=>{this._onDidChangeConfiguration.fire(Ce);const te=this._configuration.options;if(Ce.hasChanged(133)){const he=te.get(133);this._onDidLayoutChange.fire(he)}})),this._contextKeyService=this._register(ue.createScoped(this._domElement)),this._notificationService=ge,this._codeEditorService=j,this._commandService=de,this._themeService=ce,this._register(new G(this,this._contextKeyService)),this._register(new Q(this,this._contextKeyService,ye)),this._instantiationService=H.createChild(new T.ServiceCollection([y.IContextKeyService,this._contextKeyService])),this._modelData=null,this._focusTracker=new ne(z),this._register(this._focusTracker.onChange(()=>{this._editorWidgetFocus.setValue(this._focusTracker.hasFocus())})),this._contentWidgets={},this._overlayWidgets={};let Te;Array.isArray(Y.contributions)?Te=Y.contributions:Te=h.EditorExtensionsRegistry.getEditorContributions();for(const Ce of Te){if(this._contributions.has(Ce.id)){(0,k.onUnexpectedError)(new Error(`Cannot have two contributions with the same id ${Ce.id}`));continue}try{const te=this._instantiationService.createInstance(Ce.ctor,this);this._contributions.set(Ce.id,te)}catch(te){(0,k.onUnexpectedError)(te)}}for(const Ce of h.EditorExtensionsRegistry.getEditorActions()){if(this._actions.has(Ce.id)){(0,k.onUnexpectedError)(new Error(`Cannot have two actions with the same id ${Ce.id}`));continue}const te=new s.InternalEditorAction(Ce.id,Ce.label,Ce.alias,(0,O.withNullAsUndefined)(Ce.precondition),()=>this._instantiationService.invokeFunction(he=>Promise.resolve(Ce.runEditorCommand(he,this,null))),this._contextKeyService);this._actions.set(te.id,te)}const we=()=>!this._configuration.options.get(82)&&this._configuration.options.get(32).enabled;this._register(new m.DragAndDropObserver(this._domElement,{onDragEnter:()=>{},onDragOver:Ce=>{if(!we())return;const te=this.getTargetAtClientPoint(Ce.clientX,Ce.clientY);te?.position&&this.showDropIndicatorAt(te.position)},onDrop:Ce=>Se(this,void 0,void 0,function*(){if(!we()||(this.removeDropIndicator(),!Ce.dataTransfer))return;const te=this.getTargetAtClientPoint(Ce.clientX,Ce.clientY);te?.position&&this._onDropIntoEditor.fire({position:te.position,event:Ce})}),onDragLeave:()=>{this.removeDropIndicator()},onDragEnd:()=>{this.removeDropIndicator()}})),this._codeEditorService.addCodeEditor(this)}_createConfiguration(z,J,Y){return new C.EditorConfiguration(z,J,this._domElement,Y)}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return a.EditorType.ICodeEditor}dispose(){this._codeEditorService.removeCodeEditor(this),this._focusTracker.dispose(),this._contributions.dispose(),this._actions.clear(),this._contentWidgets={},this._overlayWidgets={},this._removeDecorationTypes(),this._postDetachModelCleanup(this._detachModel()),this._onDidDispose.fire(),super.dispose()}invokeWithinContext(z){return this._instantiationService.invokeFunction(z)}updateOptions(z){this._configuration.updateOptions(z||{})}getOptions(){return this._configuration.options}getOption(z){return this._configuration.options.get(z)}getRawOptions(){return this._configuration.getRawOptions()}getOverflowWidgetsDomNode(){return this._overflowWidgetsDomNode}getConfiguredWordAtPosition(z){return this._modelData?A.WordOperations.getWordAtPosition(this._modelData.model,this._configuration.options.get(119),z):null}getValue(z=null){if(!this._modelData)return"";const J=!!(z&&z.preserveBOM);let Y=0;return z&&z.lineEnding&&z.lineEnding===`
`?Y=1:z&&z.lineEnding&&z.lineEnding===`\r
`&&(Y=2),this._modelData.model.getValue(Y,J)}setValue(z){!this._modelData||this._modelData.model.setValue(z)}getModel(){return this._modelData?this._modelData.model:null}setModel(z=null){const J=z;if(this._modelData===null&&J===null||this._modelData&&this._modelData.model===J)return;const Y=this.hasTextFocus(),H=this._detachModel();this._attachModel(J),Y&&this.hasModel()&&this.focus();const j={oldModelUrl:H?H.uri:null,newModelUrl:J?J.uri:null};this._removeDecorationTypes(),this._onDidChangeModel.fire(j),this._postDetachModelCleanup(H)}_removeDecorationTypes(){if(this._decorationTypeKeysToIds={},this._decorationTypeSubtypes){for(const z in this._decorationTypeSubtypes){const J=this._decorationTypeSubtypes[z];for(const Y in J)this._removeDecorationType(z+"-"+Y)}this._decorationTypeSubtypes={}}}getVisibleRanges(){return this._modelData?this._modelData.viewModel.getVisibleRanges():[]}getVisibleRangesPlusViewportAboveBelow(){return this._modelData?this._modelData.viewModel.getVisibleRangesPlusViewportAboveBelow():[]}getWhitespaces(){return this._modelData?this._modelData.viewModel.viewLayout.getWhitespaces():[]}static _getVerticalOffsetAfterPosition(z,J,Y,H){const j=z.model.validatePosition({lineNumber:J,column:Y}),de=z.viewModel.coordinatesConverter.convertModelPositionToViewPosition(j);return z.viewModel.viewLayout.getVerticalOffsetAfterLineNumber(de.lineNumber,H)}getTopForLineNumber(z,J=!1){return this._modelData?Tt._getVerticalOffsetForPosition(this._modelData,z,1,J):-1}getTopForPosition(z,J){return this._modelData?Tt._getVerticalOffsetForPosition(this._modelData,z,J,!1):-1}static _getVerticalOffsetForPosition(z,J,Y,H=!1){const j=z.model.validatePosition({lineNumber:J,column:Y}),de=z.viewModel.coordinatesConverter.convertModelPositionToViewPosition(j);return z.viewModel.viewLayout.getVerticalOffsetForLineNumber(de.lineNumber,H)}getBottomForLineNumber(z,J=!1){return this._modelData?Tt._getVerticalOffsetAfterPosition(this._modelData,z,1,J):-1}setHiddenAreas(z,J){var Y;(Y=this._modelData)===null||Y===void 0||Y.viewModel.setHiddenAreas(z.map(H=>d.Range.lift(H)),J)}getVisibleColumnFromPosition(z){if(!this._modelData)return z.column;const J=this._modelData.model.validatePosition(z),Y=this._modelData.model.getOptions().tabSize;return l.CursorColumns.visibleColumnFromColumn(this._modelData.model.getLineContent(J.lineNumber),J.column,Y)+1}getPosition(){return this._modelData?this._modelData.viewModel.getPosition():null}setPosition(z,J="api"){if(!!this._modelData){if(!c.Position.isIPosition(z))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(J,[{selectionStartLineNumber:z.lineNumber,selectionStartColumn:z.column,positionLineNumber:z.lineNumber,positionColumn:z.column}])}}_sendRevealRange(z,J,Y,H){if(!this._modelData)return;if(!d.Range.isIRange(z))throw new Error("Invalid arguments");const j=this._modelData.model.validateRange(z),de=this._modelData.viewModel.coordinatesConverter.convertModelRangeToViewRange(j);this._modelData.viewModel.revealRange("api",Y,de,J,H)}revealLine(z,J=0){this._revealLine(z,0,J)}revealLineInCenter(z,J=0){this._revealLine(z,1,J)}revealLineInCenterIfOutsideViewport(z,J=0){this._revealLine(z,2,J)}revealLineNearTop(z,J=0){this._revealLine(z,5,J)}_revealLine(z,J,Y){if(typeof z!="number")throw new Error("Invalid arguments");this._sendRevealRange(new d.Range(z,1,z,1),J,!1,Y)}revealPosition(z,J=0){this._revealPosition(z,0,!0,J)}revealPositionInCenter(z,J=0){this._revealPosition(z,1,!0,J)}revealPositionInCenterIfOutsideViewport(z,J=0){this._revealPosition(z,2,!0,J)}revealPositionNearTop(z,J=0){this._revealPosition(z,5,!0,J)}_revealPosition(z,J,Y,H){if(!c.Position.isIPosition(z))throw new Error("Invalid arguments");this._sendRevealRange(new d.Range(z.lineNumber,z.column,z.lineNumber,z.column),J,Y,H)}getSelection(){return this._modelData?this._modelData.viewModel.getSelection():null}getSelections(){return this._modelData?this._modelData.viewModel.getSelections():null}setSelection(z,J="api"){const Y=r.Selection.isISelection(z),H=d.Range.isIRange(z);if(!Y&&!H)throw new Error("Invalid arguments");if(Y)this._setSelectionImpl(z,J);else if(H){const j={selectionStartLineNumber:z.startLineNumber,selectionStartColumn:z.startColumn,positionLineNumber:z.endLineNumber,positionColumn:z.endColumn};this._setSelectionImpl(j,J)}}_setSelectionImpl(z,J){if(!this._modelData)return;const Y=new r.Selection(z.selectionStartLineNumber,z.selectionStartColumn,z.positionLineNumber,z.positionColumn);this._modelData.viewModel.setSelections(J,[Y])}revealLines(z,J,Y=0){this._revealLines(z,J,0,Y)}revealLinesInCenter(z,J,Y=0){this._revealLines(z,J,1,Y)}revealLinesInCenterIfOutsideViewport(z,J,Y=0){this._revealLines(z,J,2,Y)}revealLinesNearTop(z,J,Y=0){this._revealLines(z,J,5,Y)}_revealLines(z,J,Y,H){if(typeof z!="number"||typeof J!="number")throw new Error("Invalid arguments");this._sendRevealRange(new d.Range(z,1,J,1),Y,!1,H)}revealRange(z,J=0,Y=!1,H=!0){this._revealRange(z,Y?1:0,H,J)}revealRangeInCenter(z,J=0){this._revealRange(z,1,!0,J)}revealRangeInCenterIfOutsideViewport(z,J=0){this._revealRange(z,2,!0,J)}revealRangeNearTop(z,J=0){this._revealRange(z,5,!0,J)}revealRangeNearTopIfOutsideViewport(z,J=0){this._revealRange(z,6,!0,J)}revealRangeAtTop(z,J=0){this._revealRange(z,3,!0,J)}_revealRange(z,J,Y,H){if(!d.Range.isIRange(z))throw new Error("Invalid arguments");this._sendRevealRange(d.Range.lift(z),J,Y,H)}setSelections(z,J="api",Y=0){if(!!this._modelData){if(!z||z.length===0)throw new Error("Invalid arguments");for(let H=0,j=z.length;H<j;H++)if(!r.Selection.isISelection(z[H]))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(J,z,Y)}}getContentWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getContentWidth():-1}getScrollWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollWidth():-1}getScrollLeft(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollLeft():-1}getContentHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getContentHeight():-1}getScrollHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollHeight():-1}getScrollTop(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollTop():-1}setScrollLeft(z,J=1){if(!!this._modelData){if(typeof z!="number")throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollLeft:z},J)}}setScrollTop(z,J=1){if(!!this._modelData){if(typeof z!="number")throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollTop:z},J)}}setScrollPosition(z,J=1){!this._modelData||this._modelData.viewModel.viewLayout.setScrollPosition(z,J)}saveViewState(){if(!this._modelData)return null;const z={};for(const[H,j]of this._contributions)typeof j.saveViewState=="function"&&(z[H]=j.saveViewState());const J=this._modelData.viewModel.saveCursorState(),Y=this._modelData.viewModel.saveState();return{cursorState:J,viewState:Y,contributionsState:z}}restoreViewState(z){if(!this._modelData||!this._modelData.hasRealView)return;const J=z;if(J&&J.cursorState&&J.viewState){const Y=J.cursorState;Array.isArray(Y)?Y.length>0&&this._modelData.viewModel.restoreCursorState(Y):this._modelData.viewModel.restoreCursorState([Y]);const H=J.contributionsState||{};for(const[de,ue]of this._contributions)typeof ue.restoreViewState=="function"&&ue.restoreViewState(H[de]);const j=this._modelData.viewModel.reduceRestoreState(J.viewState);this._modelData.view.restoreState(j)}}getContribution(z){return this._contributions.get(z)||null}getActions(){return Array.from(this._actions.values())}getSupportedActions(){let z=this.getActions();return z=z.filter(J=>J.isSupported()),z}getAction(z){return this._actions.get(z)||null}trigger(z,J,Y){switch(Y=Y||{},J){case"compositionStart":this._startComposition();return;case"compositionEnd":this._endComposition(z);return;case"type":{const j=Y;this._type(z,j.text||"");return}case"replacePreviousChar":{const j=Y;this._compositionType(z,j.text||"",j.replaceCharCnt||0,0,0);return}case"compositionType":{const j=Y;this._compositionType(z,j.text||"",j.replacePrevCharCnt||0,j.replaceNextCharCnt||0,j.positionDelta||0);return}case"paste":{const j=Y;this._paste(z,j.text||"",j.pasteOnNewLine||!1,j.multicursorText||null,j.mode||null);return}case"cut":this._cut(z);return}const H=this.getAction(J);if(H){Promise.resolve(H.run()).then(void 0,k.onUnexpectedError);return}!this._modelData||this._triggerEditorCommand(z,J,Y)||this._triggerCommand(J,Y)}_triggerCommand(z,J){this._commandService.executeCommand(z,J)}_startComposition(){!this._modelData||(this._modelData.viewModel.startComposition(),this._onDidCompositionStart.fire())}_endComposition(z){!this._modelData||(this._modelData.viewModel.endComposition(z),this._onDidCompositionEnd.fire())}_type(z,J){!this._modelData||J.length===0||(z==="keyboard"&&this._onWillType.fire(J),this._modelData.viewModel.type(J,z),z==="keyboard"&&this._onDidType.fire(J))}_compositionType(z,J,Y,H,j){!this._modelData||this._modelData.viewModel.compositionType(J,Y,H,j,z)}_paste(z,J,Y,H,j){if(!this._modelData||J.length===0)return;const de=this._modelData.viewModel,ue=de.getSelection().getStartPosition();de.paste(J,Y,H,z);const ce=de.getSelection().getStartPosition();z==="keyboard"&&this._onDidPaste.fire({range:new d.Range(ue.lineNumber,ue.column,ce.lineNumber,ce.column),languageId:j})}_cut(z){!this._modelData||this._modelData.viewModel.cut(z)}_triggerEditorCommand(z,J,Y){const H=h.EditorExtensionsRegistry.getEditorCommand(J);return H?(Y=Y||{},Y.source=z,this._instantiationService.invokeFunction(j=>{Promise.resolve(H.runEditorCommand(j,this,Y)).then(void 0,k.onUnexpectedError)}),!0):!1}_getViewModel(){return this._modelData?this._modelData.viewModel:null}pushUndoStop(){return!this._modelData||this._configuration.options.get(82)?!1:(this._modelData.model.pushStackElement(),!0)}popUndoStop(){return!this._modelData||this._configuration.options.get(82)?!1:(this._modelData.model.popStackElement(),!0)}executeEdits(z,J,Y){if(!this._modelData||this._configuration.options.get(82))return!1;let H;return Y?Array.isArray(Y)?H=()=>Y:H=Y:H=()=>null,this._modelData.viewModel.executeEdits(z,J,H),!0}executeCommand(z,J){!this._modelData||this._modelData.viewModel.executeCommand(J,z)}executeCommands(z,J){!this._modelData||this._modelData.viewModel.executeCommands(J,z)}createDecorationsCollection(z){return new Z(this,z)}changeDecorations(z){return this._modelData?this._modelData.model.changeDecorations(z,this._id):null}getLineDecorations(z){return this._modelData?this._modelData.model.getLineDecorations(z,this._id,(0,n.filterValidationDecorations)(this._configuration.options)):null}getDecorationsInRange(z){return this._modelData?this._modelData.model.getDecorationsInRange(z,this._id,(0,n.filterValidationDecorations)(this._configuration.options)):null}deltaDecorations(z,J){return this._modelData?z.length===0&&J.length===0?z:this._modelData.model.deltaDecorations(z,J,this._id):[]}removeDecorations(z){!this._modelData||z.length===0||this._modelData.model.changeDecorations(J=>{J.deltaDecorations(z,[])})}removeDecorationsByType(z){const J=this._decorationTypeKeysToIds[z];J&&this.deltaDecorations(J,[]),this._decorationTypeKeysToIds.hasOwnProperty(z)&&delete this._decorationTypeKeysToIds[z],this._decorationTypeSubtypes.hasOwnProperty(z)&&delete this._decorationTypeSubtypes[z]}getLayoutInfo(){return this._configuration.options.get(133)}createOverviewRuler(z){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.createOverviewRuler(z)}getContainerDomNode(){return this._domElement}getDomNode(){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.domNode.domNode}delegateVerticalScrollbarPointerDown(z){!this._modelData||!this._modelData.hasRealView||this._modelData.view.delegateVerticalScrollbarPointerDown(z)}layout(z){this._configuration.observeContainer(z),this.render()}focus(){!this._modelData||!this._modelData.hasRealView||this._modelData.view.focus()}hasTextFocus(){return!this._modelData||!this._modelData.hasRealView?!1:this._modelData.view.isFocused()}hasWidgetFocus(){return this._focusTracker&&this._focusTracker.hasFocus()}addContentWidget(z){const J={widget:z,position:z.getPosition()};this._contentWidgets.hasOwnProperty(z.getId())&&console.warn("Overwriting a content widget with the same id."),this._contentWidgets[z.getId()]=J,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addContentWidget(J)}layoutContentWidget(z){const J=z.getId();if(this._contentWidgets.hasOwnProperty(J)){const Y=this._contentWidgets[J];Y.position=z.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutContentWidget(Y)}}removeContentWidget(z){const J=z.getId();if(this._contentWidgets.hasOwnProperty(J)){const Y=this._contentWidgets[J];delete this._contentWidgets[J],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeContentWidget(Y)}}addOverlayWidget(z){const J={widget:z,position:z.getPosition()};this._overlayWidgets.hasOwnProperty(z.getId())&&console.warn("Overwriting an overlay widget with the same id."),this._overlayWidgets[z.getId()]=J,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addOverlayWidget(J)}layoutOverlayWidget(z){const J=z.getId();if(this._overlayWidgets.hasOwnProperty(J)){const Y=this._overlayWidgets[J];Y.position=z.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutOverlayWidget(Y)}}removeOverlayWidget(z){const J=z.getId();if(this._overlayWidgets.hasOwnProperty(J)){const Y=this._overlayWidgets[J];delete this._overlayWidgets[J],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeOverlayWidget(Y)}}changeViewZones(z){!this._modelData||!this._modelData.hasRealView||this._modelData.view.change(z)}getTargetAtClientPoint(z,J){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.getTargetAtClientPoint(z,J)}getScrolledVisiblePosition(z){if(!this._modelData||!this._modelData.hasRealView)return null;const J=this._modelData.model.validatePosition(z),Y=this._configuration.options,H=Y.get(133),j=Tt._getVerticalOffsetForPosition(this._modelData,J.lineNumber,J.column)-this.getScrollTop(),de=this._modelData.view.getOffsetForColumn(J.lineNumber,J.column)+H.glyphMarginWidth+H.lineNumbersWidth+H.decorationsWidth-this.getScrollLeft();return{top:j,left:de,height:Y.get(60)}}getOffsetForColumn(z,J){return!this._modelData||!this._modelData.hasRealView?-1:this._modelData.view.getOffsetForColumn(z,J)}render(z=!1){!this._modelData||!this._modelData.hasRealView||this._modelData.view.render(!0,z)}setAriaOptions(z){!this._modelData||!this._modelData.hasRealView||this._modelData.view.setAriaOptions(z)}applyFontInfo(z){(0,W.applyFontInfo)(z,this._configuration.options.get(45))}setBanner(z,J){this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),this._bannerDomNode=z,this._configuration.setReservedHeight(z?J:0),this._bannerDomNode&&this._domElement.prepend(this._bannerDomNode)}_attachModel(z){if(!z){this._modelData=null;return}const J=[];this._domElement.setAttribute("data-mode-id",z.getLanguageId()),this._configuration.setIsDominatedByLongLines(z.isDominatedByLongLines()),this._configuration.setModelLineCount(z.getLineCount()),z.onBeforeAttached();const Y=new v.ViewModel(this._id,this._configuration,z,N.DOMLineBreaksComputerFactory.create(),M.MonospaceLineBreaksComputerFactory.create(this._configuration.options),de=>m.scheduleAtNextAnimationFrame(de),this.languageConfigurationService,this._themeService);J.push(z.onWillDispose(()=>this.setModel(null))),J.push(Y.onEvent(de=>{switch(de.kind){case 0:this._onDidContentSizeChange.fire(de);break;case 1:this._editorTextFocus.setValue(de.hasFocus);break;case 2:this._onDidScrollChange.fire(de);break;case 3:this._onDidChangeViewZones.fire();break;case 4:this._onDidChangeHiddenAreas.fire();break;case 5:this._onDidAttemptReadOnlyEdit.fire();break;case 6:{de.reachedMaxCursorCount&&this._notificationService.warn(w.localize(0,null,o.CursorsController.MAX_CURSOR_COUNT));const ue=[];for(let ve=0,_e=de.selections.length;ve<_e;ve++)ue[ve]=de.selections[ve].getPosition();const ce={position:ue[0],secondaryPositions:ue.slice(1),reason:de.reason,source:de.source};this._onDidChangeCursorPosition.fire(ce);const ge={selection:de.selections[0],secondarySelections:de.selections.slice(1),modelVersionId:de.modelVersionId,oldSelections:de.oldSelections,oldModelVersionId:de.oldModelVersionId,source:de.source,reason:de.reason};this._onDidChangeCursorSelection.fire(ge);break}case 7:this._onDidChangeModelDecorations.fire(de.event);break;case 8:this._domElement.setAttribute("data-mode-id",z.getLanguageId()),this._onDidChangeModelLanguage.fire(de.event);break;case 9:this._onDidChangeModelLanguageConfiguration.fire(de.event);break;case 10:this._onDidChangeModelContent.fire(de.event);break;case 11:this._onDidChangeModelOptions.fire(de.event);break;case 12:this._onDidChangeModelTokens.fire(de.event);break}}));const[H,j]=this._createView(Y);if(j){this._domElement.appendChild(H.domNode.domNode);let de=Object.keys(this._contentWidgets);for(let ue=0,ce=de.length;ue<ce;ue++){const ge=de[ue];H.addContentWidget(this._contentWidgets[ge])}de=Object.keys(this._overlayWidgets);for(let ue=0,ce=de.length;ue<ce;ue++){const ge=de[ue];H.addOverlayWidget(this._overlayWidgets[ge])}H.render(!1,!0),H.domNode.domNode.setAttribute("data-uri",z.uri.toString())}this._modelData=new X(z,Y,H,j,J)}_createView(z){let J;this.isSimpleWidget?J={paste:(j,de,ue,ce)=>{this._paste("keyboard",j,de,ue,ce)},type:j=>{this._type("keyboard",j)},compositionType:(j,de,ue,ce)=>{this._compositionType("keyboard",j,de,ue,ce)},startComposition:()=>{this._startComposition()},endComposition:()=>{this._endComposition("keyboard")},cut:()=>{this._cut("keyboard")}}:J={paste:(j,de,ue,ce)=>{const ge={text:j,pasteOnNewLine:de,multicursorText:ue,mode:ce};this._commandService.executeCommand("paste",ge)},type:j=>{const de={text:j};this._commandService.executeCommand("type",de)},compositionType:(j,de,ue,ce)=>{if(ue||ce){const ge={text:j,replacePrevCharCnt:de,replaceNextCharCnt:ue,positionDelta:ce};this._commandService.executeCommand("compositionType",ge)}else{const ge={text:j,replaceCharCnt:de};this._commandService.executeCommand("replacePreviousChar",ge)}},startComposition:()=>{this._commandService.executeCommand("compositionStart",{})},endComposition:()=>{this._commandService.executeCommand("compositionEnd",{})},cut:()=>{this._commandService.executeCommand("cut",{})}};const Y=new i.ViewUserInputEvents(z.coordinatesConverter);return Y.onKeyDown=j=>this._onKeyDown.fire(j),Y.onKeyUp=j=>this._onKeyUp.fire(j),Y.onContextMenu=j=>this._onContextMenu.fire(j),Y.onMouseMove=j=>this._onMouseMove.fire(j),Y.onMouseLeave=j=>this._onMouseLeave.fire(j),Y.onMouseDown=j=>this._onMouseDown.fire(j),Y.onMouseUp=j=>this._onMouseUp.fire(j),Y.onMouseDrag=j=>this._onMouseDrag.fire(j),Y.onMouseDrop=j=>this._onMouseDrop.fire(j),Y.onMouseDropCanceled=j=>this._onMouseDropCanceled.fire(j),Y.onMouseWheel=j=>this._onMouseWheel.fire(j),[new t.View(J,this._configuration,this._themeService.getColorTheme(),z,Y,this._overflowWidgetsDomNode),!0]}_postDetachModelCleanup(z){z?.removeAllDecorationsWithOwnerId(this._id)}_detachModel(){if(!this._modelData)return null;const z=this._modelData.model,J=this._modelData.hasRealView?this._modelData.view.domNode.domNode:null;return this._modelData.dispose(),this._modelData=null,this._domElement.removeAttribute("data-mode-id"),J&&this._domElement.contains(J)&&this._domElement.removeChild(J),this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),z}_removeDecorationType(z){this._codeEditorService.removeDecorationType(z)}hasModel(){return this._modelData!==null}showDropIndicatorAt(z){const J=[{range:new d.Range(z.lineNumber,z.column,z.lineNumber,z.column),options:Tt.dropIntoEditorDecorationOptions}];this._dropIntoEditorDecorations.set(J),this.revealPosition(z,1)}removeDropIndicator(){this._dropIntoEditorDecorations.clear()}};ie.dropIntoEditorDecorationOptions=p.ModelDecorationOptions.register({description:"workbench-dnd-target",className:"dnd-target"}),ie=De([fe(3,E.IInstantiationService),fe(4,g.ICodeEditorService),fe(5,_.ICommandService),fe(6,y.IContextKeyService),fe(7,R.IThemeService),fe(8,I.INotificationService),fe(9,F.IAccessibilityService),fe(10,B.ILanguageConfigurationService),fe(11,x.ILanguageFeaturesService)],ie),e.CodeEditorWidget=ie;class K extends L.Disposable{constructor(z){super(),this._emitterOptions=z,this._onDidChangeToTrue=this._register(new D.Emitter(this._emitterOptions)),this.onDidChangeToTrue=this._onDidChangeToTrue.event,this._onDidChangeToFalse=this._register(new D.Emitter(this._emitterOptions)),this.onDidChangeToFalse=this._onDidChangeToFalse.event,this._value=0}setValue(z){const J=z?2:1;this._value!==J&&(this._value=J,this._value===2?this._onDidChangeToTrue.fire():this._value===1&&this._onDidChangeToFalse.fire())}}e.BooleanEventEmitter=K;class G extends L.Disposable{constructor(z,J){super(),this._editor=z,J.createKey("editorId",z.getId()),this._editorSimpleInput=u.EditorContextKeys.editorSimpleInput.bindTo(J),this._editorFocus=u.EditorContextKeys.focus.bindTo(J),this._textInputFocus=u.EditorContextKeys.textInputFocus.bindTo(J),this._editorTextFocus=u.EditorContextKeys.editorTextFocus.bindTo(J),this._editorTabMovesFocus=u.EditorContextKeys.tabMovesFocus.bindTo(J),this._editorReadonly=u.EditorContextKeys.readOnly.bindTo(J),this._inDiffEditor=u.EditorContextKeys.inDiffEditor.bindTo(J),this._editorColumnSelection=u.EditorContextKeys.columnSelection.bindTo(J),this._hasMultipleSelections=u.EditorContextKeys.hasMultipleSelections.bindTo(J),this._hasNonEmptySelection=u.EditorContextKeys.hasNonEmptySelection.bindTo(J),this._canUndo=u.EditorContextKeys.canUndo.bindTo(J),this._canRedo=u.EditorContextKeys.canRedo.bindTo(J),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromConfig())),this._register(this._editor.onDidChangeCursorSelection(()=>this._updateFromSelection())),this._register(this._editor.onDidFocusEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidFocusEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidChangeModel(()=>this._updateFromModel())),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromModel())),this._updateFromConfig(),this._updateFromSelection(),this._updateFromFocus(),this._updateFromModel(),this._editorSimpleInput.set(this._editor.isSimpleWidget)}_updateFromConfig(){const z=this._editor.getOptions();this._editorTabMovesFocus.set(z.get(132)),this._editorReadonly.set(z.get(82)),this._inDiffEditor.set(z.get(55)),this._editorColumnSelection.set(z.get(18))}_updateFromSelection(){const z=this._editor.getSelections();z?(this._hasMultipleSelections.set(z.length>1),this._hasNonEmptySelection.set(z.some(J=>!J.isEmpty()))):(this._hasMultipleSelections.reset(),this._hasNonEmptySelection.reset())}_updateFromFocus(){this._editorFocus.set(this._editor.hasWidgetFocus()&&!this._editor.isSimpleWidget),this._editorTextFocus.set(this._editor.hasTextFocus()&&!this._editor.isSimpleWidget),this._textInputFocus.set(this._editor.hasTextFocus())}_updateFromModel(){const z=this._editor.getModel();this._canUndo.set(Boolean(z&&z.canUndo())),this._canRedo.set(Boolean(z&&z.canRedo()))}}class Q extends L.Disposable{constructor(z,J,Y){super(),this._editor=z,this._contextKeyService=J,this._languageFeaturesService=Y,this._langId=u.EditorContextKeys.languageId.bindTo(J),this._hasCompletionItemProvider=u.EditorContextKeys.hasCompletionItemProvider.bindTo(J),this._hasCodeActionsProvider=u.EditorContextKeys.hasCodeActionsProvider.bindTo(J),this._hasCodeLensProvider=u.EditorContextKeys.hasCodeLensProvider.bindTo(J),this._hasDefinitionProvider=u.EditorContextKeys.hasDefinitionProvider.bindTo(J),this._hasDeclarationProvider=u.EditorContextKeys.hasDeclarationProvider.bindTo(J),this._hasImplementationProvider=u.EditorContextKeys.hasImplementationProvider.bindTo(J),this._hasTypeDefinitionProvider=u.EditorContextKeys.hasTypeDefinitionProvider.bindTo(J),this._hasHoverProvider=u.EditorContextKeys.hasHoverProvider.bindTo(J),this._hasDocumentHighlightProvider=u.EditorContextKeys.hasDocumentHighlightProvider.bindTo(J),this._hasDocumentSymbolProvider=u.EditorContextKeys.hasDocumentSymbolProvider.bindTo(J),this._hasReferenceProvider=u.EditorContextKeys.hasReferenceProvider.bindTo(J),this._hasRenameProvider=u.EditorContextKeys.hasRenameProvider.bindTo(J),this._hasSignatureHelpProvider=u.EditorContextKeys.hasSignatureHelpProvider.bindTo(J),this._hasInlayHintsProvider=u.EditorContextKeys.hasInlayHintsProvider.bindTo(J),this._hasDocumentFormattingProvider=u.EditorContextKeys.hasDocumentFormattingProvider.bindTo(J),this._hasDocumentSelectionFormattingProvider=u.EditorContextKeys.hasDocumentSelectionFormattingProvider.bindTo(J),this._hasMultipleDocumentFormattingProvider=u.EditorContextKeys.hasMultipleDocumentFormattingProvider.bindTo(J),this._hasMultipleDocumentSelectionFormattingProvider=u.EditorContextKeys.hasMultipleDocumentSelectionFormattingProvider.bindTo(J),this._isInWalkThrough=u.EditorContextKeys.isInWalkThroughSnippet.bindTo(J);const H=()=>this._update();this._register(z.onDidChangeModel(H)),this._register(z.onDidChangeModelLanguage(H)),this._register(Y.completionProvider.onDidChange(H)),this._register(Y.codeActionProvider.onDidChange(H)),this._register(Y.codeLensProvider.onDidChange(H)),this._register(Y.definitionProvider.onDidChange(H)),this._register(Y.declarationProvider.onDidChange(H)),this._register(Y.implementationProvider.onDidChange(H)),this._register(Y.typeDefinitionProvider.onDidChange(H)),this._register(Y.hoverProvider.onDidChange(H)),this._register(Y.documentHighlightProvider.onDidChange(H)),this._register(Y.documentSymbolProvider.onDidChange(H)),this._register(Y.referenceProvider.onDidChange(H)),this._register(Y.renameProvider.onDidChange(H)),this._register(Y.documentFormattingEditProvider.onDidChange(H)),this._register(Y.documentRangeFormattingEditProvider.onDidChange(H)),this._register(Y.signatureHelpProvider.onDidChange(H)),this._register(Y.inlayHintsProvider.onDidChange(H)),H()}dispose(){super.dispose()}reset(){this._contextKeyService.bufferChangeEvents(()=>{this._langId.reset(),this._hasCompletionItemProvider.reset(),this._hasCodeActionsProvider.reset(),this._hasCodeLensProvider.reset(),this._hasDefinitionProvider.reset(),this._hasDeclarationProvider.reset(),this._hasImplementationProvider.reset(),this._hasTypeDefinitionProvider.reset(),this._hasHoverProvider.reset(),this._hasDocumentHighlightProvider.reset(),this._hasDocumentSymbolProvider.reset(),this._hasReferenceProvider.reset(),this._hasRenameProvider.reset(),this._hasDocumentFormattingProvider.reset(),this._hasDocumentSelectionFormattingProvider.reset(),this._hasSignatureHelpProvider.reset(),this._isInWalkThrough.reset()})}_update(){const z=this._editor.getModel();if(!z){this.reset();return}this._contextKeyService.bufferChangeEvents(()=>{this._langId.set(z.getLanguageId()),this._hasCompletionItemProvider.set(this._languageFeaturesService.completionProvider.has(z)),this._hasCodeActionsProvider.set(this._languageFeaturesService.codeActionProvider.has(z)),this._hasCodeLensProvider.set(this._languageFeaturesService.codeLensProvider.has(z)),this._hasDefinitionProvider.set(this._languageFeaturesService.definitionProvider.has(z)),this._hasDeclarationProvider.set(this._languageFeaturesService.declarationProvider.has(z)),this._hasImplementationProvider.set(this._languageFeaturesService.implementationProvider.has(z)),this._hasTypeDefinitionProvider.set(this._languageFeaturesService.typeDefinitionProvider.has(z)),this._hasHoverProvider.set(this._languageFeaturesService.hoverProvider.has(z)),this._hasDocumentHighlightProvider.set(this._languageFeaturesService.documentHighlightProvider.has(z)),this._hasDocumentSymbolProvider.set(this._languageFeaturesService.documentSymbolProvider.has(z)),this._hasReferenceProvider.set(this._languageFeaturesService.referenceProvider.has(z)),this._hasRenameProvider.set(this._languageFeaturesService.renameProvider.has(z)),this._hasSignatureHelpProvider.set(this._languageFeaturesService.signatureHelpProvider.has(z)),this._hasInlayHintsProvider.set(this._languageFeaturesService.inlayHintsProvider.has(z)),this._hasDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.has(z)||this._languageFeaturesService.documentRangeFormattingEditProvider.has(z)),this._hasDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.has(z)),this._hasMultipleDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.all(z).length+this._languageFeaturesService.documentRangeFormattingEditProvider.all(z).length>1),this._hasMultipleDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.all(z).length>1),this._isInWalkThrough.set(z.uri.scheme===b.Schemas.walkThroughSnippet)})}}e.EditorModeContext=Q;class ne extends L.Disposable{constructor(z){super(),this._onChange=this._register(new D.Emitter),this.onChange=this._onChange.event,this._hasFocus=!1,this._domFocusTracker=this._register(m.trackFocus(z)),this._register(this._domFocusTracker.onDidFocus(()=>{this._hasFocus=!0,this._onChange.fire(void 0)})),this._register(this._domFocusTracker.onDidBlur(()=>{this._hasFocus=!1,this._onChange.fire(void 0)}))}hasFocus(){return this._hasFocus}}class Z{get length(){return this._decorationIds.length}constructor(z,J){this._editor=z,this._decorationIds=[],this._isChangingDecorations=!1,Array.isArray(J)&&J.length>0&&this.set(J)}onDidChange(z,J,Y){return this._editor.onDidChangeModelDecorations(H=>{this._isChangingDecorations||z.call(J,H)},Y)}getRange(z){return!this._editor.hasModel()||z>=this._decorationIds.length?null:this._editor.getModel().getDecorationRange(this._decorationIds[z])}getRanges(){if(!this._editor.hasModel())return[];const z=this._editor.getModel(),J=[];for(const Y of this._decorationIds){const H=z.getDecorationRange(Y);H&&J.push(H)}return J}has(z){return this._decorationIds.includes(z.id)}clear(){this._decorationIds.length!==0&&this.set([])}set(z){try{this._isChangingDecorations=!0,this._editor.changeDecorations(J=>{this._decorationIds=J.deltaDecorations(this._decorationIds,z)})}finally{this._isChangingDecorations=!1}}}const ee=encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='"),le=encodeURIComponent("'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>");function V(ae){return ee+encodeURIComponent(ae.toString())+le}const $=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="3" width="12"><g fill="'),oe=encodeURIComponent('"><circle cx="1" cy="1" r="1"/><circle cx="5" cy="1" r="1"/><circle cx="9" cy="1" r="1"/></g></svg>');function U(ae){return $+encodeURIComponent(ae.toString())+oe}(0,R.registerThemingParticipant)((ae,z)=>{const J=ae.getColor(f.editorErrorBorder);J&&z.addRule(`.monaco-editor .squiggly-error { border-bottom: 4px double ${J}; }`);const Y=ae.getColor(f.editorErrorForeground);Y&&z.addRule(`.monaco-editor .squiggly-error { background: url("data:image/svg+xml,${V(Y)}") repeat-x bottom left; }`);const H=ae.getColor(f.editorErrorBackground);H&&z.addRule(`.monaco-editor .squiggly-error::before { display: block; content: ''; width: 100%; height: 100%; background: ${H}; }`);const j=ae.getColor(f.editorWarningBorder);j&&z.addRule(`.monaco-editor .squiggly-warning { border-bottom: 4px double ${j}; }`);const de=ae.getColor(f.editorWarningForeground);de&&z.addRule(`.monaco-editor .squiggly-warning { background: url("data:image/svg+xml,${V(de)}") repeat-x bottom left; }`);const ue=ae.getColor(f.editorWarningBackground);ue&&z.addRule(`.monaco-editor .squiggly-warning::before { display: block; content: ''; width: 100%; height: 100%; background: ${ue}; }`);const ce=ae.getColor(f.editorInfoBorder);ce&&z.addRule(`.monaco-editor .squiggly-info { border-bottom: 4px double ${ce}; }`);const ge=ae.getColor(f.editorInfoForeground);ge&&z.addRule(`.monaco-editor .squiggly-info { background: url("data:image/svg+xml,${V(ge)}") repeat-x bottom left; }`);const ve=ae.getColor(f.editorInfoBackground);ve&&z.addRule(`.monaco-editor .squiggly-info::before { display: block; content: ''; width: 100%; height: 100%; background: ${ve}; }`);const _e=ae.getColor(f.editorHintBorder);_e&&z.addRule(`.monaco-editor .squiggly-hint { border-bottom: 2px dotted ${_e}; }`);const ye=ae.getColor(f.editorHintForeground);ye&&z.addRule(`.monaco-editor .squiggly-hint { background: url("data:image/svg+xml,${U(ye)}") no-repeat bottom left; }`);const Ee=ae.getColor(S.editorUnnecessaryCodeOpacity);Ee&&z.addRule(`.monaco-editor.showUnused .squiggly-inline-unnecessary { opacity: ${Ee.rgba.a}; }`);const Te=ae.getColor(S.editorUnnecessaryCodeBorder);Te&&z.addRule(`.monaco-editor.showUnused .squiggly-unnecessary { border-bottom: 2px dashed ${Te}; }`);const we=ae.getColor(f.editorForeground)||"inherit";z.addRule(`.monaco-editor.showDeprecated .squiggly-inline-deprecated { text-decoration: line-through; text-decoration-color: ${we}}`)})}),define(se[316],re([1,0,543,7,83,35,137,10,6,2,69,153,29,175,757,38,11,3,94,155,37,250,134,116,75,15,9,169,40,23,16,71,546,95,13,14,67,274,27,151,82,53,651,377]),function(q,e,w,m,k,D,L,b,C,h,g,t,i,n,o,l,c,d,r,s,a,u,p,S,f,v,_,y,E,T,I,R,F,O,M,N,A,B,W,x,P,X,ie){"use strict";var K;Object.defineProperty(e,"__esModule",{value:!0}),e.DiffEditorWidget=void 0;class G{constructor(te,he){this._contextMenuService=te,this._clipboardService=he,this._zones=[],this._inlineDiffMargins=[],this._zonesMap={},this._decorations=[]}getForeignViewZones(te){return te.filter(he=>!this._zonesMap[String(he.id)])}clean(te){this._zones.length>0&&te.changeViewZones(he=>{for(const be of this._zones)he.removeZone(be)}),this._zones=[],this._zonesMap={},te.changeDecorations(he=>{this._decorations=he.deltaDecorations(this._decorations,[])})}apply(te,he,be,me){const pe=me?t.StableEditorScrollState.capture(te):null;te.changeViewZones(Le=>{var Ie;for(const Ne of this._zones)Le.removeZone(Ne);for(const Ne of this._inlineDiffMargins)Ne.dispose();this._zones=[],this._zonesMap={},this._inlineDiffMargins=[];for(let Ne=0,Pe=be.zones.length;Ne<Pe;Ne++){const Re=be.zones[Ne];Re.suppressMouseDown=!0;const Ae=Le.addZone(Re);this._zones.push(Ae),this._zonesMap[String(Ae)]=!0,be.zones[Ne].diff&&Re.marginDomNode&&(Re.suppressMouseDown=!1,((Ie=be.zones[Ne].diff)===null||Ie===void 0?void 0:Ie.originalModel.getValueLength())!==0&&this._inlineDiffMargins.push(new F.InlineDiffMargin(Ae,Re.marginDomNode,te,be.zones[Ne].diff,this._contextMenuService,this._clipboardService)))}}),pe?.restore(te),te.changeDecorations(Le=>{this._decorations=Le.deltaDecorations(this._decorations,be.decorations)}),he?.setZones(be.overviewZones)}}let Q=0;const ne=(0,P.registerIcon)("diff-insert",W.Codicon.add,w.localize(0,null)),Z=(0,P.registerIcon)("diff-remove",W.Codicon.remove,w.localize(1,null)),ee=(K=window.trustedTypes)===null||K===void 0?void 0:K.createPolicy("diffEditorWidget",{createHTML:Ce=>Ce}),le=w.localize(2,null);let V=class dt extends h.Disposable{constructor(te,he,be,me,pe,Le,Ie,Ne,Pe,Re,Ae){super(),this._editorProgressService=Ae,this._onDidDispose=this._register(new C.Emitter),this.onDidDispose=this._onDidDispose.event,this._onDidChangeModel=this._register(new C.Emitter),this.onDidChangeModel=this._onDidChangeModel.event,this._onDidUpdateDiff=this._register(new C.Emitter),this.onDidUpdateDiff=this._onDidUpdateDiff.event,this._onDidContentSizeChange=this._register(new C.Emitter),this._lastOriginalWarning=null,this._lastModifiedWarning=null,this._documentDiffProvider=Le.createInstance(ie.WorkerBasedDocumentDiffProvider),this._codeEditorService=Ie,this._contextKeyService=this._register(pe.createScoped(te)),this._instantiationService=Le.createChild(new y.ServiceCollection([v.IContextKeyService,this._contextKeyService])),this._contextKeyService.createKey("isInDiffEditor",!0),this._themeService=Ne,this._notificationService=Pe,this._id=++Q,this._state=0,this._updatingDiffProgress=null,this._domElement=te,he=he||{},this._options=Te(he,{enableSplitViewResizing:!0,renderSideBySide:!0,renderMarginRevertIcon:!0,maxComputationTime:5e3,maxFileSize:50,ignoreTrimWhitespace:!0,renderIndicators:!0,originalEditable:!1,diffCodeLens:!1,renderOverviewRuler:!0,diffWordWrap:"inherit",diffAlgorithm:"smart"}),typeof he.isInEmbeddedEditor<"u"?this._contextKeyService.createKey("isInEmbeddedDiffEditor",he.isInEmbeddedEditor):this._contextKeyService.createKey("isInEmbeddedDiffEditor",!1),this._updateDecorationsRunner=this._register(new b.RunOnceScheduler(()=>this._updateDecorations(),0)),this._containerDomElement=document.createElement("div"),this._containerDomElement.className=dt._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide),this._containerDomElement.style.position="relative",this._containerDomElement.style.height="100%",this._domElement.appendChild(this._containerDomElement),this._overviewViewportDomElement=(0,D.createFastDomNode)(document.createElement("div")),this._overviewViewportDomElement.setClassName("diffViewport"),this._overviewViewportDomElement.setPosition("absolute"),this._overviewDomElement=document.createElement("div"),this._overviewDomElement.className="diffOverview",this._overviewDomElement.style.position="absolute",this._overviewDomElement.appendChild(this._overviewViewportDomElement.domNode),this._register(m.addStandardDisposableListener(this._overviewDomElement,m.EventType.POINTER_DOWN,Fe=>{this._modifiedEditor.delegateVerticalScrollbarPointerDown(Fe)})),this._options.renderOverviewRuler&&this._containerDomElement.appendChild(this._overviewDomElement),this._originalDomNode=document.createElement("div"),this._originalDomNode.className="editor original",this._originalDomNode.style.position="absolute",this._originalDomNode.style.height="100%",this._containerDomElement.appendChild(this._originalDomNode),this._modifiedDomNode=document.createElement("div"),this._modifiedDomNode.className="editor modified",this._modifiedDomNode.style.position="absolute",this._modifiedDomNode.style.height="100%",this._containerDomElement.appendChild(this._modifiedDomNode),this._beginUpdateDecorationsTimeout=-1,this._currentlyChangingViewZones=!1,this._diffComputationToken=0,this._originalEditorState=new G(Re,me),this._modifiedEditorState=new G(Re,me),this._isVisible=!0,this._isHandlingScrollEvent=!1,this._elementSizeObserver=this._register(new B.ElementSizeObserver(this._containerDomElement,he.dimension)),this._register(this._elementSizeObserver.onDidChange(()=>this._onDidContainerSizeChanged())),he.automaticLayout&&this._elementSizeObserver.startObserving(),this._diffComputationResult=null,this._originalEditor=this._createLeftHandSideEditor(he,be.originalEditor||{}),this._modifiedEditor=this._createRightHandSideEditor(he,be.modifiedEditor||{}),this._originalOverviewRuler=null,this._modifiedOverviewRuler=null,this._reviewPane=Le.createInstance(o.DiffReview,this),this._containerDomElement.appendChild(this._reviewPane.domNode.domNode),this._containerDomElement.appendChild(this._reviewPane.shadow.domNode),this._containerDomElement.appendChild(this._reviewPane.actionBarContainer.domNode),this._options.renderSideBySide?this._setStrategy(new J(this._createDataSource(),this._options.enableSplitViewResizing)):this._setStrategy(new H(this._createDataSource(),this._options.enableSplitViewResizing)),this._register(Ne.onDidColorThemeChange(Fe=>{this._strategy&&this._strategy.applyColors(Fe)&&this._updateDecorationsRunner.schedule(),this._containerDomElement.className=dt._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide)}));const Be=M.EditorExtensionsRegistry.getDiffEditorContributions();for(const Fe of Be)try{this._register(Le.createInstance(Fe.ctor,this))}catch(He){(0,N.onUnexpectedError)(He)}this._codeEditorService.addDiffEditor(this)}_setState(te){this._state!==te&&(this._state=te,this._updatingDiffProgress&&(this._updatingDiffProgress.done(),this._updatingDiffProgress=null),this._state===1&&(this._updatingDiffProgress=this._editorProgressService.show(!0,1e3)))}diffReviewNext(){this._reviewPane.next()}diffReviewPrev(){this._reviewPane.prev()}static _getClassName(te,he){let be="monaco-diff-editor monaco-editor-background ";return he&&(be+="side-by-side "),be+=(0,I.getThemeTypeSelector)(te.type),be}_disposeOverviewRulers(){this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose(),this._originalOverviewRuler=null),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose(),this._modifiedOverviewRuler=null)}_createOverviewRulers(){!this._options.renderOverviewRuler||(k.ok(!this._originalOverviewRuler&&!this._modifiedOverviewRuler),this._originalEditor.hasModel()&&(this._originalOverviewRuler=this._originalEditor.createOverviewRuler("original diffOverviewRuler"),this._overviewDomElement.appendChild(this._originalOverviewRuler.getDomNode())),this._modifiedEditor.hasModel()&&(this._modifiedOverviewRuler=this._modifiedEditor.createOverviewRuler("modified diffOverviewRuler"),this._overviewDomElement.appendChild(this._modifiedOverviewRuler.getDomNode())),this._layoutOverviewRulers())}_createLeftHandSideEditor(te,he){const be=this._createInnerEditor(this._instantiationService,this._originalDomNode,this._adjustOptionsForLeftHandSide(te),he);this._register(be.onDidScrollChange(pe=>{this._isHandlingScrollEvent||!pe.scrollTopChanged&&!pe.scrollLeftChanged&&!pe.scrollHeightChanged||(this._isHandlingScrollEvent=!0,this._modifiedEditor.setScrollPosition({scrollLeft:pe.scrollLeft,scrollTop:pe.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(be.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(be.onDidChangeConfiguration(pe=>{!be.getModel()||(pe.hasChanged(45)&&this._updateDecorationsRunner.schedule(),pe.hasChanged(134)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))})),this._register(be.onDidChangeHiddenAreas(()=>{this._updateDecorationsRunner.cancel(),this._updateDecorations()})),this._register(be.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()}));const me=this._contextKeyService.createKey("isInDiffLeftEditor",be.hasWidgetFocus());return this._register(be.onDidFocusEditorWidget(()=>me.set(!0))),this._register(be.onDidBlurEditorWidget(()=>me.set(!1))),this._register(be.onDidContentSizeChange(pe=>{const Le=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+dt.ONE_OVERVIEW_WIDTH,Ie=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:Ie,contentWidth:Le,contentHeightChanged:pe.contentHeightChanged,contentWidthChanged:pe.contentWidthChanged})})),be}_createRightHandSideEditor(te,he){const be=this._createInnerEditor(this._instantiationService,this._modifiedDomNode,this._adjustOptionsForRightHandSide(te),he);this._register(be.onDidScrollChange(pe=>{this._isHandlingScrollEvent||!pe.scrollTopChanged&&!pe.scrollLeftChanged&&!pe.scrollHeightChanged||(this._isHandlingScrollEvent=!0,this._originalEditor.setScrollPosition({scrollLeft:pe.scrollLeft,scrollTop:pe.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(be.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(be.onDidChangeConfiguration(pe=>{!be.getModel()||(pe.hasChanged(45)&&this._updateDecorationsRunner.schedule(),pe.hasChanged(134)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))})),this._register(be.onDidChangeHiddenAreas(()=>{this._updateDecorationsRunner.cancel(),this._updateDecorations()})),this._register(be.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()})),this._register(be.onDidChangeModelOptions(pe=>{pe.tabSize&&this._updateDecorationsRunner.schedule()}));const me=this._contextKeyService.createKey("isInDiffRightEditor",be.hasWidgetFocus());return this._register(be.onDidFocusEditorWidget(()=>me.set(!0))),this._register(be.onDidBlurEditorWidget(()=>me.set(!1))),this._register(be.onDidContentSizeChange(pe=>{const Le=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+dt.ONE_OVERVIEW_WIDTH,Ie=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:Ie,contentWidth:Le,contentHeightChanged:pe.contentHeightChanged,contentWidthChanged:pe.contentWidthChanged})})),this._register(be.onMouseDown(pe=>{var Le,Ie;if(!pe.event.rightButton&&pe.target.position&&((Le=pe.target.element)===null||Le===void 0?void 0:Le.className.includes("arrow-revert-change"))){const Ne=pe.target.position.lineNumber,Pe=(Ie=this._diffComputationResult)===null||Ie===void 0?void 0:Ie.changes.find(Re=>Re.modifiedStartLineNumber===Ne-1||Re.modifiedStartLineNumber===Ne);Pe&&this.revertChange(Pe),pe.event.stopPropagation(),this._updateDecorations();return}})),be}revertChange(te){const he=this._modifiedEditor,be=this._originalEditor.getModel(),me=this._modifiedEditor.getModel();if(!be||!me||!he)return;const pe=te.originalEndLineNumber>0?new d.Range(te.originalStartLineNumber,1,te.originalEndLineNumber,be.getLineMaxColumn(te.originalEndLineNumber)):null,Le=pe?be.getValueInRange(pe):null,Ie=te.modifiedEndLineNumber>0?new d.Range(te.modifiedStartLineNumber,1,te.modifiedEndLineNumber,me.getLineMaxColumn(te.modifiedEndLineNumber)):null,Ne=me.getEOL();if(te.originalEndLineNumber===0&&Ie){let Pe=Ie;te.modifiedStartLineNumber>1?Pe=Ie.setStartPosition(te.modifiedStartLineNumber-1,me.getLineMaxColumn(te.modifiedStartLineNumber-1)):te.modifiedEndLineNumber<me.getLineCount()&&(Pe=Ie.setEndPosition(te.modifiedEndLineNumber+1,1)),he.executeEdits("diffEditor",[{range:Pe,text:""}])}else if(te.modifiedEndLineNumber===0&&Le!==null){const Pe=te.modifiedStartLineNumber<me.getLineCount()?new c.Position(te.modifiedStartLineNumber+1,1):new c.Position(te.modifiedStartLineNumber,me.getLineMaxColumn(te.modifiedStartLineNumber));he.executeEdits("diffEditor",[{range:d.Range.fromPositions(Pe,Pe),text:te.modifiedStartLineNumber<me.getLineCount()?Le+Ne:Ne+Le}])}else Ie&&Le!==null&&he.executeEdits("diffEditor",[{range:Ie,text:Le}])}_createInnerEditor(te,he,be,me){return te.createInstance(n.CodeEditorWidget,he,be,me)}dispose(){this._codeEditorService.removeDiffEditor(this),this._beginUpdateDecorationsTimeout!==-1&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._cleanViewZonesAndDecorations(),this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._overviewDomElement.removeChild(this._overviewViewportDomElement.domNode),this._options.renderOverviewRuler&&this._containerDomElement.removeChild(this._overviewDomElement),this._containerDomElement.removeChild(this._originalDomNode),this._originalEditor.dispose(),this._containerDomElement.removeChild(this._modifiedDomNode),this._modifiedEditor.dispose(),this._strategy.dispose(),this._containerDomElement.removeChild(this._reviewPane.domNode.domNode),this._containerDomElement.removeChild(this._reviewPane.shadow.domNode),this._containerDomElement.removeChild(this._reviewPane.actionBarContainer.domNode),this._reviewPane.dispose(),this._domElement.removeChild(this._containerDomElement),this._onDidDispose.fire(),super.dispose()}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return s.EditorType.IDiffEditor}getLineChanges(){return this._diffComputationResult?this._diffComputationResult.changes:null}getOriginalEditor(){return this._originalEditor}getModifiedEditor(){return this._modifiedEditor}updateOptions(te){const he=Te(te,this._options),be=we(this._options,he);this._options=he;const me=be.ignoreTrimWhitespace||be.renderIndicators||be.renderMarginRevertIcon,pe=this._isVisible&&(be.maxComputationTime||be.maxFileSize||be.diffAlgorithm);me?this._beginUpdateDecorations():pe&&this._beginUpdateDecorationsSoon(),this._modifiedEditor.updateOptions(this._adjustOptionsForRightHandSide(te)),this._originalEditor.updateOptions(this._adjustOptionsForLeftHandSide(te)),this._strategy.setEnableSplitViewResizing(this._options.enableSplitViewResizing),be.renderSideBySide&&(this._options.renderSideBySide?this._setStrategy(new J(this._createDataSource(),this._options.enableSplitViewResizing)):this._setStrategy(new H(this._createDataSource(),this._options.enableSplitViewResizing)),this._containerDomElement.className=dt._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide)),be.renderOverviewRuler&&(this._options.renderOverviewRuler?this._containerDomElement.appendChild(this._overviewDomElement):this._containerDomElement.removeChild(this._overviewDomElement))}getModel(){return{original:this._originalEditor.getModel(),modified:this._modifiedEditor.getModel()}}setModel(te){if(te&&(!te.original||!te.modified))throw new Error(te.original?"DiffEditorWidget.setModel: Modified model is null":"DiffEditorWidget.setModel: Original model is null");this._cleanViewZonesAndDecorations(),this._disposeOverviewRulers(),this._originalEditor.setModel(te?te.original:null),this._modifiedEditor.setModel(te?te.modified:null),this._updateDecorationsRunner.cancel(),te&&(this._originalEditor.setScrollTop(0),this._modifiedEditor.setScrollTop(0)),this._diffComputationResult=null,this._diffComputationToken++,this._setState(0),te&&(this._createOverviewRulers(),this._beginUpdateDecorations()),this._layoutOverviewViewport(),this._onDidChangeModel.fire()}getContainerDomNode(){return this._domElement}getVisibleColumnFromPosition(te){return this._modifiedEditor.getVisibleColumnFromPosition(te)}getPosition(){return this._modifiedEditor.getPosition()}setPosition(te,he="api"){this._modifiedEditor.setPosition(te,he)}revealLine(te,he=0){this._modifiedEditor.revealLine(te,he)}revealLineInCenter(te,he=0){this._modifiedEditor.revealLineInCenter(te,he)}revealLineInCenterIfOutsideViewport(te,he=0){this._modifiedEditor.revealLineInCenterIfOutsideViewport(te,he)}revealLineNearTop(te,he=0){this._modifiedEditor.revealLineNearTop(te,he)}revealPosition(te,he=0){this._modifiedEditor.revealPosition(te,he)}revealPositionInCenter(te,he=0){this._modifiedEditor.revealPositionInCenter(te,he)}revealPositionInCenterIfOutsideViewport(te,he=0){this._modifiedEditor.revealPositionInCenterIfOutsideViewport(te,he)}revealPositionNearTop(te,he=0){this._modifiedEditor.revealPositionNearTop(te,he)}getSelection(){return this._modifiedEditor.getSelection()}getSelections(){return this._modifiedEditor.getSelections()}setSelection(te,he="api"){this._modifiedEditor.setSelection(te,he)}setSelections(te,he="api"){this._modifiedEditor.setSelections(te,he)}revealLines(te,he,be=0){this._modifiedEditor.revealLines(te,he,be)}revealLinesInCenter(te,he,be=0){this._modifiedEditor.revealLinesInCenter(te,he,be)}revealLinesInCenterIfOutsideViewport(te,he,be=0){this._modifiedEditor.revealLinesInCenterIfOutsideViewport(te,he,be)}revealLinesNearTop(te,he,be=0){this._modifiedEditor.revealLinesNearTop(te,he,be)}revealRange(te,he=0,be=!1,me=!0){this._modifiedEditor.revealRange(te,he,be,me)}revealRangeInCenter(te,he=0){this._modifiedEditor.revealRangeInCenter(te,he)}revealRangeInCenterIfOutsideViewport(te,he=0){this._modifiedEditor.revealRangeInCenterIfOutsideViewport(te,he)}revealRangeNearTop(te,he=0){this._modifiedEditor.revealRangeNearTop(te,he)}revealRangeNearTopIfOutsideViewport(te,he=0){this._modifiedEditor.revealRangeNearTopIfOutsideViewport(te,he)}revealRangeAtTop(te,he=0){this._modifiedEditor.revealRangeAtTop(te,he)}getSupportedActions(){return this._modifiedEditor.getSupportedActions()}saveViewState(){const te=this._originalEditor.saveViewState(),he=this._modifiedEditor.saveViewState();return{original:te,modified:he}}restoreViewState(te){if(te&&te.original&&te.modified){const he=te;this._originalEditor.restoreViewState(he.original),this._modifiedEditor.restoreViewState(he.modified)}}layout(te){this._elementSizeObserver.observe(te)}focus(){this._modifiedEditor.focus()}hasTextFocus(){return this._originalEditor.hasTextFocus()||this._modifiedEditor.hasTextFocus()}trigger(te,he,be){this._modifiedEditor.trigger(te,he,be)}createDecorationsCollection(te){return this._modifiedEditor.createDecorationsCollection(te)}changeDecorations(te){return this._modifiedEditor.changeDecorations(te)}_onDidContainerSizeChanged(){this._doLayout()}_getReviewHeight(){return this._reviewPane.isVisible()?this._elementSizeObserver.getHeight():0}_layoutOverviewRulers(){if(!this._options.renderOverviewRuler||!this._originalOverviewRuler||!this._modifiedOverviewRuler)return;const te=this._elementSizeObserver.getHeight(),he=this._getReviewHeight(),be=dt.ENTIRE_DIFF_OVERVIEW_WIDTH-2*dt.ONE_OVERVIEW_WIDTH;this._modifiedEditor.getLayoutInfo()&&(this._originalOverviewRuler.setLayout({top:0,width:dt.ONE_OVERVIEW_WIDTH,right:be+dt.ONE_OVERVIEW_WIDTH,height:te-he}),this._modifiedOverviewRuler.setLayout({top:0,right:0,width:dt.ONE_OVERVIEW_WIDTH,height:te-he}))}_onViewZonesChanged(){this._currentlyChangingViewZones||this._updateDecorationsRunner.schedule()}_beginUpdateDecorationsSoon(){this._beginUpdateDecorationsTimeout!==-1&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._beginUpdateDecorationsTimeout=window.setTimeout(()=>this._beginUpdateDecorations(),dt.UPDATE_DIFF_DECORATIONS_DELAY)}static _equals(te,he){return!te&&!he?!0:!te||!he?!1:te.toString()===he.toString()}_beginUpdateDecorations(){this._beginUpdateDecorationsTimeout=-1;const te=this._originalEditor.getModel(),he=this._modifiedEditor.getModel();if(!te||!he)return;this._diffComputationToken++;const be=this._diffComputationToken,me=this._options.maxFileSize*1024*1024,pe=Le=>{const Ie=Le.getValueLength();return me===0||Ie<=me};if(!pe(te)||!pe(he)){(!dt._equals(te.uri,this._lastOriginalWarning)||!dt._equals(he.uri,this._lastModifiedWarning))&&(this._lastOriginalWarning=te.uri,this._lastModifiedWarning=he.uri,this._notificationService.warn(w.localize(3,null)));return}this._setState(1),this._documentDiffProvider.computeDiff(te,he,{ignoreTrimWhitespace:this._options.ignoreTrimWhitespace,maxComputationTime:this._options.maxComputationTime,diffAlgorithm:this._options.diffAlgorithm}).then(Le=>{be===this._diffComputationToken&&te===this._originalEditor.getModel()&&he===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult={identical:Le.identical,quitEarly:Le.quitEarly,changes:Le.changes.map(Ie=>{let Ne,Pe,Re,Ae,Be=Ie.innerChanges;return Ie.originalRange.isEmpty?(Ne=Ie.originalRange.startLineNumber-1,Pe=0,Be=void 0):(Ne=Ie.originalRange.startLineNumber,Pe=Ie.originalRange.endLineNumberExclusive-1),Ie.modifiedRange.isEmpty?(Re=Ie.modifiedRange.startLineNumber-1,Ae=0,Be=void 0):(Re=Ie.modifiedRange.startLineNumber,Ae=Ie.modifiedRange.endLineNumberExclusive-1),{originalStartLineNumber:Ne,originalEndLineNumber:Pe,modifiedStartLineNumber:Re,modifiedEndLineNumber:Ae,charChanges:Be?.map(Fe=>({originalStartLineNumber:Fe.originalRange.startLineNumber,originalStartColumn:Fe.originalRange.startColumn,originalEndLineNumber:Fe.originalRange.endLineNumber,originalEndColumn:Fe.originalRange.endColumn,modifiedStartLineNumber:Fe.modifiedRange.startLineNumber,modifiedStartColumn:Fe.modifiedRange.startColumn,modifiedEndLineNumber:Fe.modifiedRange.endLineNumber,modifiedEndColumn:Fe.modifiedRange.endColumn}))}})},this._updateDecorationsRunner.schedule(),this._onDidUpdateDiff.fire())},Le=>{be===this._diffComputationToken&&te===this._originalEditor.getModel()&&he===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=null,this._updateDecorationsRunner.schedule())})}_cleanViewZonesAndDecorations(){this._originalEditorState.clean(this._originalEditor),this._modifiedEditorState.clean(this._modifiedEditor)}_updateDecorations(){if(!this._originalEditor.getModel()||!this._modifiedEditor.getModel())return;const te=this._diffComputationResult?this._diffComputationResult.changes:[],he=this._originalEditorState.getForeignViewZones(this._originalEditor.getWhitespaces()),be=this._modifiedEditorState.getForeignViewZones(this._modifiedEditor.getWhitespaces()),me=this._strategy.getEditorsDiffDecorations(te,this._options.ignoreTrimWhitespace,this._options.renderIndicators,this._options.renderMarginRevertIcon,he,be);try{this._currentlyChangingViewZones=!0,this._originalEditorState.apply(this._originalEditor,this._originalOverviewRuler,me.original,!1),this._modifiedEditorState.apply(this._modifiedEditor,this._modifiedOverviewRuler,me.modified,!0)}finally{this._currentlyChangingViewZones=!1}}_adjustOptionsForSubEditor(te){const he=Object.assign({},te);return he.inDiffEditor=!0,he.automaticLayout=!1,he.scrollbar=Object.assign({},he.scrollbar||{}),he.scrollbar.vertical="visible",he.folding=!1,he.codeLens=this._options.diffCodeLens,he.fixedOverflowWidgets=!0,he.minimap=Object.assign({},he.minimap||{}),he.minimap.enabled=!1,he}_adjustOptionsForLeftHandSide(te){const he=this._adjustOptionsForSubEditor(te);return this._options.renderSideBySide?he.wordWrapOverride1=this._options.diffWordWrap:(he.wordWrapOverride1="off",he.wordWrapOverride2="off"),te.originalAriaLabel&&(he.ariaLabel=te.originalAriaLabel),he.ariaLabel+=le,he.readOnly=!this._options.originalEditable,he.dropIntoEditor={enabled:!he.readOnly},he.extraEditorClassName="original-in-monaco-diff-editor",Object.assign(Object.assign({},he),{dimension:{height:0,width:0}})}_adjustOptionsForRightHandSide(te){const he=this._adjustOptionsForSubEditor(te);return te.modifiedAriaLabel&&(he.ariaLabel=te.modifiedAriaLabel),he.ariaLabel+=le,he.wordWrapOverride1=this._options.diffWordWrap,he.revealHorizontalRightPadding=l.EditorOptions.revealHorizontalRightPadding.defaultValue+dt.ENTIRE_DIFF_OVERVIEW_WIDTH,he.scrollbar.verticalHasArrows=!1,he.extraEditorClassName="modified-in-monaco-diff-editor",Object.assign(Object.assign({},he),{dimension:{height:0,width:0}})}doLayout(){this._elementSizeObserver.observe(),this._doLayout()}_doLayout(){const te=this._elementSizeObserver.getWidth(),he=this._elementSizeObserver.getHeight(),be=this._getReviewHeight(),me=this._strategy.layout();this._originalDomNode.style.width=me+"px",this._originalDomNode.style.left="0px",this._modifiedDomNode.style.width=te-me+"px",this._modifiedDomNode.style.left=me+"px",this._overviewDomElement.style.top="0px",this._overviewDomElement.style.height=he-be+"px",this._overviewDomElement.style.width=dt.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewDomElement.style.left=te-dt.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewViewportDomElement.setWidth(dt.ENTIRE_DIFF_OVERVIEW_WIDTH),this._overviewViewportDomElement.setHeight(30),this._originalEditor.layout({width:me,height:he-be}),this._modifiedEditor.layout({width:te-me-(this._options.renderOverviewRuler?dt.ENTIRE_DIFF_OVERVIEW_WIDTH:0),height:he-be}),(this._originalOverviewRuler||this._modifiedOverviewRuler)&&this._layoutOverviewRulers(),this._reviewPane.layout(he-be,te,be),this._layoutOverviewViewport()}_layoutOverviewViewport(){const te=this._computeOverviewViewport();te?(this._overviewViewportDomElement.setTop(te.top),this._overviewViewportDomElement.setHeight(te.height)):(this._overviewViewportDomElement.setTop(0),this._overviewViewportDomElement.setHeight(0))}_computeOverviewViewport(){const te=this._modifiedEditor.getLayoutInfo();if(!te)return null;const he=this._modifiedEditor.getScrollTop(),be=this._modifiedEditor.getScrollHeight(),me=Math.max(0,te.height),pe=Math.max(0,me-2*0),Le=be>0?pe/be:0,Ie=Math.max(0,Math.floor(te.height*Le)),Ne=Math.floor(he*Le);return{height:Ie,top:Ne}}_createDataSource(){return{getWidth:()=>this._elementSizeObserver.getWidth(),getHeight:()=>this._elementSizeObserver.getHeight()-this._getReviewHeight(),getOptions:()=>({renderOverviewRuler:this._options.renderOverviewRuler}),getContainerDomNode:()=>this._containerDomElement,relayoutEditors:()=>{this._doLayout()},getOriginalEditor:()=>this._originalEditor,getModifiedEditor:()=>this._modifiedEditor}}_setStrategy(te){var he;(he=this._strategy)===null||he===void 0||he.dispose(),this._strategy=te,te.applyColors(this._themeService.getColorTheme()),this._diffComputationResult&&this._updateDecorations(),this._doLayout()}_getLineChangeAtOrBeforeLineNumber(te,he){const be=this._diffComputationResult?this._diffComputationResult.changes:[];if(be.length===0||te<he(be[0]))return null;let me=0,pe=be.length-1;for(;me<pe;){const Le=Math.floor((me+pe)/2),Ie=he(be[Le]),Ne=Le+1<=pe?he(be[Le+1]):1073741824;te<Ie?pe=Le-1:te>=Ne?me=Le+1:(me=Le,pe=Le)}return be[me]}_getEquivalentLineForOriginalLineNumber(te){const he=this._getLineChangeAtOrBeforeLineNumber(te,Ne=>Ne.originalStartLineNumber);if(!he)return te;const be=he.originalStartLineNumber+(he.originalEndLineNumber>0?-1:0),me=he.modifiedStartLineNumber+(he.modifiedEndLineNumber>0?-1:0),pe=he.originalEndLineNumber>0?he.originalEndLineNumber-he.originalStartLineNumber+1:0,Le=he.modifiedEndLineNumber>0?he.modifiedEndLineNumber-he.modifiedStartLineNumber+1:0,Ie=te-be;return Ie<=pe?me+Math.min(Ie,Le):me+Le-pe+Ie}_getEquivalentLineForModifiedLineNumber(te){const he=this._getLineChangeAtOrBeforeLineNumber(te,Ne=>Ne.modifiedStartLineNumber);if(!he)return te;const be=he.originalStartLineNumber+(he.originalEndLineNumber>0?-1:0),me=he.modifiedStartLineNumber+(he.modifiedEndLineNumber>0?-1:0),pe=he.originalEndLineNumber>0?he.originalEndLineNumber-he.originalStartLineNumber+1:0,Le=he.modifiedEndLineNumber>0?he.modifiedEndLineNumber-he.modifiedStartLineNumber+1:0,Ie=te-me;return Ie<=Le?be+Math.min(Ie,pe):be+pe-Le+Ie}getDiffLineInformationForOriginal(te){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForOriginalLineNumber(te)}:null}getDiffLineInformationForModified(te){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForModifiedLineNumber(te)}:null}};V.ONE_OVERVIEW_WIDTH=15,V.ENTIRE_DIFF_OVERVIEW_WIDTH=30,V.UPDATE_DIFF_DECORATIONS_DELAY=200,V=De([fe(3,O.IClipboardService),fe(4,v.IContextKeyService),fe(5,_.IInstantiationService),fe(6,i.ICodeEditorService),fe(7,I.IThemeService),fe(8,E.INotificationService),fe(9,R.IContextMenuService),fe(10,A.IEditorProgressService)],V),e.DiffEditorWidget=V;class $ extends h.Disposable{constructor(te){super(),this._dataSource=te,this._insertColor=null,this._removeColor=null}applyColors(te){const he=te.getColor(T.diffOverviewRulerInserted)||(te.getColor(T.diffInserted)||T.defaultInsertColor).transparent(2),be=te.getColor(T.diffOverviewRulerRemoved)||(te.getColor(T.diffRemoved)||T.defaultRemoveColor).transparent(2),me=!he.equals(this._insertColor)||!be.equals(this._removeColor);return this._insertColor=he,this._removeColor=be,me}getEditorsDiffDecorations(te,he,be,me,pe,Le){Le=Le.sort((Re,Ae)=>Re.afterLineNumber-Ae.afterLineNumber),pe=pe.sort((Re,Ae)=>Re.afterLineNumber-Ae.afterLineNumber);const Ie=this._getViewZones(te,pe,Le,be),Ne=this._getOriginalEditorDecorations(Ie,te,he,be),Pe=this._getModifiedEditorDecorations(Ie,te,he,be,me);return{original:{decorations:Ne.decorations,overviewZones:Ne.overviewZones,zones:Ie.original},modified:{decorations:Pe.decorations,overviewZones:Pe.overviewZones,zones:Ie.modified}}}}class oe{constructor(te){this._source=te,this._index=-1,this.current=null,this.advance()}advance(){this._index++,this._index<this._source.length?this.current=this._source[this._index]:this.current=null}}class U{constructor(te,he,be,me,pe){this._lineChanges=te,this._originalForeignVZ=he,this._modifiedForeignVZ=be,this._originalEditor=me,this._modifiedEditor=pe}static _getViewLineCount(te,he,be){const me=te.getModel(),pe=te._getViewModel();if(me&&pe){const Le=Ee(me,pe,he,be);return Le.endLineNumber-Le.startLineNumber+1}return be-he+1}getViewZones(){const te=this._originalEditor.getOption(60),he=this._modifiedEditor.getOption(60),be=this._originalEditor.getOption(134).wrappingColumn!==-1,me=this._modifiedEditor.getOption(134).wrappingColumn!==-1,pe=be||me,Le=this._originalEditor.getModel(),Ie=this._originalEditor._getViewModel().coordinatesConverter,Ne=this._modifiedEditor._getViewModel().coordinatesConverter,Pe={original:[],modified:[]};let Re=0,Ae=0,Be=0,Fe=0,He=0,$e=0;const it=(xe,qe)=>xe.afterLineNumber-qe.afterLineNumber,tt=(xe,qe)=>{if(qe.domNode===null&&xe.length>0){const Ke=xe[xe.length-1];if(Ke.afterLineNumber===qe.afterLineNumber&&Ke.domNode===null){Ke.heightInLines+=qe.heightInLines;return}}xe.push(qe)},ot=new oe(this._modifiedForeignVZ),ze=new oe(this._originalForeignVZ);let ke=1,Oe=1;for(let xe=0,qe=this._lineChanges.length;xe<=qe;xe++){const Ke=xe<qe?this._lineChanges[xe]:null;Ke!==null?(Be=Ke.originalStartLineNumber+(Ke.originalEndLineNumber>0?-1:0),Fe=Ke.modifiedStartLineNumber+(Ke.modifiedEndLineNumber>0?-1:0),Ae=Ke.originalEndLineNumber>0?U._getViewLineCount(this._originalEditor,Ke.originalStartLineNumber,Ke.originalEndLineNumber):0,Re=Ke.modifiedEndLineNumber>0?U._getViewLineCount(this._modifiedEditor,Ke.modifiedStartLineNumber,Ke.modifiedEndLineNumber):0,He=Math.max(Ke.originalStartLineNumber,Ke.originalEndLineNumber),$e=Math.max(Ke.modifiedStartLineNumber,Ke.modifiedEndLineNumber)):(Be+=1e7+Ae,Fe+=1e7+Re,He=Be,$e=Fe);let Qe=[],Xe=[];if(pe){let Ue;Ke?Ke.originalEndLineNumber>0?Ue=Ke.originalStartLineNumber-ke:Ue=Ke.modifiedStartLineNumber-Oe:Ue=Le.getLineCount()-ke+1;for(let Me=0;Me<Ue;Me++){const We=ke+Me,Ve=Oe+Me,je=Ie.getModelLineViewLineCount(We),Ge=Ne.getModelLineViewLineCount(Ve);je<Ge?Qe.push({afterLineNumber:We,heightInLines:Ge-je,domNode:null,marginDomNode:null}):je>Ge&&Xe.push({afterLineNumber:Ve,heightInLines:je-Ge,domNode:null,marginDomNode:null})}Ke&&(ke=(Ke.originalEndLineNumber>0?Ke.originalEndLineNumber:Ke.originalStartLineNumber)+1,Oe=(Ke.modifiedEndLineNumber>0?Ke.modifiedEndLineNumber:Ke.modifiedStartLineNumber)+1)}for(;ot.current&&ot.current.afterLineNumber<=$e;){let Ue;ot.current.afterLineNumber<=Fe?Ue=Be-Fe+ot.current.afterLineNumber:Ue=He;let Me=null;Ke&&Ke.modifiedStartLineNumber<=ot.current.afterLineNumber&&ot.current.afterLineNumber<=Ke.modifiedEndLineNumber&&(Me=this._createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion()),Qe.push({afterLineNumber:Ue,heightInLines:ot.current.height/he,domNode:null,marginDomNode:Me}),ot.advance()}for(;ze.current&&ze.current.afterLineNumber<=He;){let Ue;ze.current.afterLineNumber<=Be?Ue=Fe-Be+ze.current.afterLineNumber:Ue=$e,Xe.push({afterLineNumber:Ue,heightInLines:ze.current.height/te,domNode:null}),ze.advance()}if(Ke!==null&&ue(Ke)){const Ue=this._produceOriginalFromDiff(Ke,Ae,Re);Ue&&Qe.push(Ue)}if(Ke!==null&&ce(Ke)){const Ue=this._produceModifiedFromDiff(Ke,Ae,Re);Ue&&Xe.push(Ue)}let Je=0,st=0;for(Qe=Qe.sort(it),Xe=Xe.sort(it);Je<Qe.length&&st<Xe.length;){const Ue=Qe[Je],Me=Xe[st],We=Ue.afterLineNumber-Be,Ve=Me.afterLineNumber-Fe;We<Ve?(tt(Pe.original,Ue),Je++):Ve<We?(tt(Pe.modified,Me),st++):Ue.shouldNotShrink?(tt(Pe.original,Ue),Je++):Me.shouldNotShrink?(tt(Pe.modified,Me),st++):Ue.heightInLines>=Me.heightInLines?(Ue.heightInLines-=Me.heightInLines,st++):(Me.heightInLines-=Ue.heightInLines,Je++)}for(;Je<Qe.length;)tt(Pe.original,Qe[Je]),Je++;for(;st<Xe.length;)tt(Pe.modified,Xe[st]),st++}return{original:U._ensureDomNodes(Pe.original),modified:U._ensureDomNodes(Pe.modified)}}static _ensureDomNodes(te){return te.map(he=>(he.domNode||(he.domNode=_e()),he))}}function ae(Ce,te,he,be,me){return{range:new d.Range(Ce,te,he,be),options:me}}const z={arrowRevertChange:a.ModelDecorationOptions.register({description:"diff-editor-arrow-revert-change",glyphMarginClassName:"arrow-revert-change "+I.ThemeIcon.asClassName(W.Codicon.arrowRight)}),charDelete:a.ModelDecorationOptions.register({description:"diff-editor-char-delete",className:"char-delete"}),charDeleteWholeLine:a.ModelDecorationOptions.register({description:"diff-editor-char-delete-whole-line",className:"char-delete",isWholeLine:!0}),charInsert:a.ModelDecorationOptions.register({description:"diff-editor-char-insert",className:"char-insert"}),charInsertWholeLine:a.ModelDecorationOptions.register({description:"diff-editor-char-insert-whole-line",className:"char-insert",isWholeLine:!0}),lineInsert:a.ModelDecorationOptions.register({description:"diff-editor-line-insert",className:"line-insert",marginClassName:"gutter-insert",isWholeLine:!0}),lineInsertWithSign:a.ModelDecorationOptions.register({description:"diff-editor-line-insert-with-sign",className:"line-insert",linesDecorationsClassName:"insert-sign "+I.ThemeIcon.asClassName(ne),marginClassName:"gutter-insert",isWholeLine:!0}),lineDelete:a.ModelDecorationOptions.register({description:"diff-editor-line-delete",className:"line-delete",marginClassName:"gutter-delete",isWholeLine:!0}),lineDeleteWithSign:a.ModelDecorationOptions.register({description:"diff-editor-line-delete-with-sign",className:"line-delete",linesDecorationsClassName:"delete-sign "+I.ThemeIcon.asClassName(Z),marginClassName:"gutter-delete",isWholeLine:!0}),lineDeleteMargin:a.ModelDecorationOptions.register({description:"diff-editor-line-delete-margin",marginClassName:"gutter-delete"})};class J extends ${constructor(te,he){super(te),this._disableSash=he===!1,this._sashRatio=null,this._sashPosition=null,this._startSashPosition=null,this._sash=this._register(new L.Sash(this._dataSource.getContainerDomNode(),this,{orientation:0})),this._disableSash&&(this._sash.state=0),this._sash.onDidStart(()=>this._onSashDragStart()),this._sash.onDidChange(be=>this._onSashDrag(be)),this._sash.onDidEnd(()=>this._onSashDragEnd()),this._sash.onDidReset(()=>this._onSashReset())}setEnableSplitViewResizing(te){const he=te===!1;this._disableSash!==he&&(this._disableSash=he,this._sash.state=this._disableSash?0:3)}layout(te=this._sashRatio){const be=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?V.ENTIRE_DIFF_OVERVIEW_WIDTH:0);let me=Math.floor((te||.5)*be);const pe=Math.floor(.5*be);return me=this._disableSash?pe:me||pe,be>J.MINIMUM_EDITOR_WIDTH*2?(me<J.MINIMUM_EDITOR_WIDTH&&(me=J.MINIMUM_EDITOR_WIDTH),me>be-J.MINIMUM_EDITOR_WIDTH&&(me=be-J.MINIMUM_EDITOR_WIDTH)):me=pe,this._sashPosition!==me&&(this._sashPosition=me),this._sash.layout(),this._sashPosition}_onSashDragStart(){this._startSashPosition=this._sashPosition}_onSashDrag(te){const be=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?V.ENTIRE_DIFF_OVERVIEW_WIDTH:0),me=this.layout((this._startSashPosition+(te.currentX-te.startX))/be);this._sashRatio=me/be,this._dataSource.relayoutEditors()}_onSashDragEnd(){this._sash.layout()}_onSashReset(){this._sashRatio=.5,this._dataSource.relayoutEditors(),this._sash.layout()}getVerticalSashTop(te){return 0}getVerticalSashLeft(te){return this._sashPosition}getVerticalSashHeight(te){return this._dataSource.getHeight()}_getViewZones(te,he,be){const me=this._dataSource.getOriginalEditor(),pe=this._dataSource.getModifiedEditor();return new Y(te,he,be,me,pe).getViewZones()}_getOriginalEditorDecorations(te,he,be,me){const pe=this._dataSource.getOriginalEditor(),Le=String(this._removeColor),Ie={decorations:[],overviewZones:[]},Ne=pe.getModel(),Pe=pe._getViewModel();for(const Re of he)if(ce(Re)){Ie.decorations.push({range:new d.Range(Re.originalStartLineNumber,1,Re.originalEndLineNumber,1073741824),options:me?z.lineDeleteWithSign:z.lineDelete}),(!ue(Re)||!Re.charChanges)&&Ie.decorations.push(ae(Re.originalStartLineNumber,1,Re.originalEndLineNumber,1073741824,z.charDeleteWholeLine));const Ae=Ee(Ne,Pe,Re.originalStartLineNumber,Re.originalEndLineNumber);if(Ie.overviewZones.push(new u.OverviewRulerZone(Ae.startLineNumber,Ae.endLineNumber,0,Le)),Re.charChanges){for(const Be of Re.charChanges)if(ve(Be))if(be)for(let Fe=Be.originalStartLineNumber;Fe<=Be.originalEndLineNumber;Fe++){let He,$e;Fe===Be.originalStartLineNumber?He=Be.originalStartColumn:He=Ne.getLineFirstNonWhitespaceColumn(Fe),Fe===Be.originalEndLineNumber?$e=Be.originalEndColumn:$e=Ne.getLineLastNonWhitespaceColumn(Fe),Ie.decorations.push(ae(Fe,He,Fe,$e,z.charDelete))}else Ie.decorations.push(ae(Be.originalStartLineNumber,Be.originalStartColumn,Be.originalEndLineNumber,Be.originalEndColumn,z.charDelete))}}return Ie}_getModifiedEditorDecorations(te,he,be,me,pe){const Le=this._dataSource.getModifiedEditor(),Ie=String(this._insertColor),Ne={decorations:[],overviewZones:[]},Pe=Le.getModel(),Re=Le._getViewModel();for(const Ae of he){if(pe)if(Ae.modifiedEndLineNumber>0)Ne.decorations.push({range:new d.Range(Ae.modifiedStartLineNumber,1,Ae.modifiedStartLineNumber,1),options:z.arrowRevertChange});else{const Be=te.modified.find(Fe=>Fe.afterLineNumber===Ae.modifiedStartLineNumber);Be&&(Be.marginDomNode=ye())}if(ue(Ae)){Ne.decorations.push({range:new d.Range(Ae.modifiedStartLineNumber,1,Ae.modifiedEndLineNumber,1073741824),options:me?z.lineInsertWithSign:z.lineInsert}),(!ce(Ae)||!Ae.charChanges)&&Ne.decorations.push(ae(Ae.modifiedStartLineNumber,1,Ae.modifiedEndLineNumber,1073741824,z.charInsertWholeLine));const Be=Ee(Pe,Re,Ae.modifiedStartLineNumber,Ae.modifiedEndLineNumber);if(Ne.overviewZones.push(new u.OverviewRulerZone(Be.startLineNumber,Be.endLineNumber,0,Ie)),Ae.charChanges){for(const Fe of Ae.charChanges)if(ge(Fe))if(be)for(let He=Fe.modifiedStartLineNumber;He<=Fe.modifiedEndLineNumber;He++){let $e,it;He===Fe.modifiedStartLineNumber?$e=Fe.modifiedStartColumn:$e=Pe.getLineFirstNonWhitespaceColumn(He),He===Fe.modifiedEndLineNumber?it=Fe.modifiedEndColumn:it=Pe.getLineLastNonWhitespaceColumn(He),Ne.decorations.push(ae(He,$e,He,it,z.charInsert))}else Ne.decorations.push(ae(Fe.modifiedStartLineNumber,Fe.modifiedStartColumn,Fe.modifiedEndLineNumber,Fe.modifiedEndColumn,z.charInsert))}}}return Ne}}J.MINIMUM_EDITOR_WIDTH=100;class Y extends U{constructor(te,he,be,me,pe){super(te,he,be,me,pe)}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){return null}_produceOriginalFromDiff(te,he,be){return be>he?{afterLineNumber:Math.max(te.originalStartLineNumber,te.originalEndLineNumber),heightInLines:be-he,domNode:null}:null}_produceModifiedFromDiff(te,he,be){return he>be?{afterLineNumber:Math.max(te.modifiedStartLineNumber,te.modifiedEndLineNumber),heightInLines:he-be,domNode:null}:null}}class H extends ${constructor(te,he){super(te),this._decorationsLeft=te.getOriginalEditor().getLayoutInfo().decorationsLeft,this._register(te.getOriginalEditor().onDidLayoutChange(be=>{this._decorationsLeft!==be.decorationsLeft&&(this._decorationsLeft=be.decorationsLeft,te.relayoutEditors())}))}setEnableSplitViewResizing(te){}_getViewZones(te,he,be,me){const pe=this._dataSource.getOriginalEditor(),Le=this._dataSource.getModifiedEditor();return new j(te,he,be,pe,Le,me).getViewZones()}_getOriginalEditorDecorations(te,he,be,me){const pe=String(this._removeColor),Le={decorations:[],overviewZones:[]},Ie=this._dataSource.getOriginalEditor(),Ne=Ie.getModel(),Pe=Ie._getViewModel();let Re=0;for(const Ae of he)if(ce(Ae)){for(Le.decorations.push({range:new d.Range(Ae.originalStartLineNumber,1,Ae.originalEndLineNumber,1073741824),options:z.lineDeleteMargin});Re<te.modified.length;){const He=te.modified[Re];if(He.diff&&He.diff.originalStartLineNumber>=Ae.originalStartLineNumber)break;Re++}let Be=0;if(Re<te.modified.length){const He=te.modified[Re];He.diff&&He.diff.originalStartLineNumber===Ae.originalStartLineNumber&&He.diff.originalEndLineNumber===Ae.originalEndLineNumber&&He.diff.modifiedStartLineNumber===Ae.modifiedStartLineNumber&&He.diff.modifiedEndLineNumber===Ae.modifiedEndLineNumber&&(Be=He.heightInLines)}const Fe=Ee(Ne,Pe,Ae.originalStartLineNumber,Ae.originalEndLineNumber);Le.overviewZones.push(new u.OverviewRulerZone(Fe.startLineNumber,Fe.endLineNumber,Be,pe))}return Le}_getModifiedEditorDecorations(te,he,be,me,pe){const Le=this._dataSource.getModifiedEditor(),Ie=String(this._insertColor),Ne={decorations:[],overviewZones:[]},Pe=Le.getModel(),Re=Le._getViewModel();for(const Ae of he)if(ue(Ae)){Ne.decorations.push({range:new d.Range(Ae.modifiedStartLineNumber,1,Ae.modifiedEndLineNumber,1073741824),options:me?z.lineInsertWithSign:z.lineInsert});const Be=Ee(Pe,Re,Ae.modifiedStartLineNumber,Ae.modifiedEndLineNumber);if(Ne.overviewZones.push(new u.OverviewRulerZone(Be.startLineNumber,Be.endLineNumber,0,Ie)),Ae.charChanges){for(const Fe of Ae.charChanges)if(ge(Fe))if(be)for(let He=Fe.modifiedStartLineNumber;He<=Fe.modifiedEndLineNumber;He++){let $e,it;He===Fe.modifiedStartLineNumber?$e=Fe.modifiedStartColumn:$e=Pe.getLineFirstNonWhitespaceColumn(He),He===Fe.modifiedEndLineNumber?it=Fe.modifiedEndColumn:it=Pe.getLineLastNonWhitespaceColumn(He),Ne.decorations.push(ae(He,$e,He,it,z.charInsert))}else Ne.decorations.push(ae(Fe.modifiedStartLineNumber,Fe.modifiedStartColumn,Fe.modifiedEndLineNumber,Fe.modifiedEndColumn,z.charInsert))}else Ne.decorations.push(ae(Ae.modifiedStartLineNumber,1,Ae.modifiedEndLineNumber,1073741824,z.charInsertWholeLine))}return Ne}layout(){return Math.max(5,this._decorationsLeft)}}class j extends U{constructor(te,he,be,me,pe,Le){super(te,he,be,me,pe),this._originalModel=me.getModel(),this._renderIndicators=Le,this._pendingLineChange=[],this._pendingViewZones=[],this._lineBreaksComputer=this._modifiedEditor._getViewModel().createLineBreaksComputer()}getViewZones(){const te=super.getViewZones();return this._finalize(te),te}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){const te=document.createElement("div");return te.className="inline-added-margin-view-zone",te}_produceOriginalFromDiff(te,he,be){const me=document.createElement("div");return me.className="inline-added-margin-view-zone",{afterLineNumber:Math.max(te.originalStartLineNumber,te.originalEndLineNumber),heightInLines:be,domNode:document.createElement("div"),marginDomNode:me}}_produceModifiedFromDiff(te,he,be){const me=document.createElement("div");me.className=`view-lines line-delete ${x.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`;const pe=document.createElement("div");pe.className="inline-deleted-margin-view-zone";const Le={shouldNotShrink:!0,afterLineNumber:te.modifiedEndLineNumber===0?te.modifiedStartLineNumber:te.modifiedStartLineNumber-1,heightInLines:he,minWidthInPx:0,domNode:me,marginDomNode:pe,diff:{originalStartLineNumber:te.originalStartLineNumber,originalEndLineNumber:te.originalEndLineNumber,modifiedStartLineNumber:te.modifiedStartLineNumber,modifiedEndLineNumber:te.modifiedEndLineNumber,originalModel:this._originalModel,viewLineCounts:null}};for(let Ie=te.originalStartLineNumber;Ie<=te.originalEndLineNumber;Ie++)this._lineBreaksComputer.addRequest(this._originalModel.getLineContent(Ie),null,null);return this._pendingLineChange.push(te),this._pendingViewZones.push(Le),Le}_finalize(te){const he=this._modifiedEditor.getOptions(),be=this._modifiedEditor.getModel().getOptions().tabSize,me=he.get(45),pe=he.get(29),Le=me.typicalHalfwidthCharacterWidth,Ie=he.get(94),Ne=this._originalModel.mightContainNonBasicASCII(),Pe=this._originalModel.mightContainRTL(),Re=he.get(60),Be=he.get(133).decorationsWidth,Fe=he.get(107),He=he.get(89),$e=he.get(84),it=he.get(46),tt=this._lineBreaksComputer.finalize();let ot=0;for(let ze=0;ze<this._pendingLineChange.length;ze++){const ke=this._pendingLineChange[ze],Oe=this._pendingViewZones[ze],xe=Oe.domNode;(0,g.applyFontInfo)(xe,me);const qe=Oe.marginDomNode;(0,g.applyFontInfo)(qe,me);const Ke=[];if(ke.charChanges)for(const Ve of ke.charChanges)ve(Ve)&&Ke.push(new f.InlineDecoration(new d.Range(Ve.originalStartLineNumber,Ve.originalStartColumn,Ve.originalEndLineNumber,Ve.originalEndColumn),"char-delete",0));const Qe=Ke.length>0,Xe=new r.StringBuilder(1e4);let Je=0,st=0,Ue=null;for(let Ve=ke.originalStartLineNumber;Ve<=ke.originalEndLineNumber;Ve++){const je=Ve-ke.originalStartLineNumber,Ge=this._originalModel.tokenization.getLineTokens(Ve),Ye=Ge.getLineContent(),Ze=tt[ot++],nt=p.LineDecoration.filter(Ke,Ve,1,Ye.length+1);if(Ze){let lt=0;for(const ct of Ze.breakOffsets){const ut=Ge.sliceAndInflate(lt,ct,0),at=Ye.substring(lt,ct);Je=Math.max(Je,this._renderOriginalLine(st++,at,ut,p.LineDecoration.extractWrapped(nt,lt,ct),Qe,Ne,Pe,me,pe,Re,Be,Fe,He,$e,it,be,Xe,qe)),lt=ct}for(Ue||(Ue=[]);Ue.length<je;)Ue[Ue.length]=1;Ue[je]=Ze.breakOffsets.length,Oe.heightInLines+=Ze.breakOffsets.length-1;const gt=document.createElement("div");gt.className="gutter-delete",te.original.push({afterLineNumber:Ve,afterColumn:0,heightInLines:Ze.breakOffsets.length-1,domNode:_e(),marginDomNode:gt})}else Je=Math.max(Je,this._renderOriginalLine(st++,Ye,Ge,nt,Qe,Ne,Pe,me,pe,Re,Be,Fe,He,$e,it,be,Xe,qe))}Je+=Ie;const Me=Xe.build(),We=ee?ee.createHTML(Me):Me;if(xe.innerHTML=We,Oe.minWidthInPx=Je*Le,Ue){const Ve=ke.originalEndLineNumber-ke.originalStartLineNumber;for(;Ue.length<=Ve;)Ue[Ue.length]=1}Oe.diff.viewLineCounts=Ue}te.original.sort((ze,ke)=>ze.afterLineNumber-ke.afterLineNumber)}_renderOriginalLine(te,he,be,me,pe,Le,Ie,Ne,Pe,Re,Ae,Be,Fe,He,$e,it,tt,ot){tt.appendASCIIString('<div class="view-line'),pe||tt.appendASCIIString(" char-delete"),tt.appendASCIIString('" style="top:'),tt.appendASCIIString(String(te*Re)),tt.appendASCIIString('px;width:1000000px;">');const ze=f.ViewLineRenderingData.isBasicASCII(he,Le),ke=f.ViewLineRenderingData.containsRTL(he,ze,Ie),Oe=(0,S.renderViewLine)(new S.RenderLineInput(Ne.isMonospace&&!Pe,Ne.canUseHalfwidthRightwardsArrow,he,!1,ze,ke,0,be,me,it,0,Ne.spaceWidth,Ne.middotWidth,Ne.wsmiddotWidth,Be,Fe,He,$e!==l.EditorFontLigatures.OFF,null),tt);if(tt.appendASCIIString("</div>"),this._renderIndicators){const xe=document.createElement("div");xe.className=`delete-sign ${I.ThemeIcon.asClassName(Z)}`,xe.setAttribute("style",`position:absolute;top:${te*Re}px;width:${Ae}px;height:${Re}px;right:0;`),ot.appendChild(xe)}return Oe.characterMapping.getHorizontalOffset(Oe.characterMapping.length)}}function de(Ce,te){return(0,l.stringSet)(Ce,te,["off","on","inherit"])}function ue(Ce){return Ce.modifiedEndLineNumber>0}function ce(Ce){return Ce.originalEndLineNumber>0}function ge(Ce){return Ce.modifiedStartLineNumber===Ce.modifiedEndLineNumber?Ce.modifiedEndColumn-Ce.modifiedStartColumn>0:Ce.modifiedEndLineNumber-Ce.modifiedStartLineNumber>0}function ve(Ce){return Ce.originalStartLineNumber===Ce.originalEndLineNumber?Ce.originalEndColumn-Ce.originalStartColumn>0:Ce.originalEndLineNumber-Ce.originalStartLineNumber>0}function _e(){const Ce=document.createElement("div");return Ce.className="diagonal-fill",Ce}function ye(){const Ce=document.createElement("div");return Ce.className="arrow-revert-change "+I.ThemeIcon.asClassName(W.Codicon.arrowRight),m.$("div",{},Ce)}function Ee(Ce,te,he,be){const me=Ce.getLineCount();return he=Math.min(me,Math.max(1,he)),be=Math.min(me,Math.max(1,be)),te.coordinatesConverter.convertModelRangeToViewRange(new d.Range(he,Ce.getLineMinColumn(he),be,Ce.getLineMaxColumn(be)))}function Te(Ce,te){return{enableSplitViewResizing:(0,l.boolean)(Ce.enableSplitViewResizing,te.enableSplitViewResizing),renderSideBySide:(0,l.boolean)(Ce.renderSideBySide,te.renderSideBySide),renderMarginRevertIcon:(0,l.boolean)(Ce.renderMarginRevertIcon,te.renderMarginRevertIcon),maxComputationTime:(0,l.clampedInt)(Ce.maxComputationTime,te.maxComputationTime,0,1073741824),maxFileSize:(0,l.clampedInt)(Ce.maxFileSize,te.maxFileSize,0,1073741824),ignoreTrimWhitespace:(0,l.boolean)(Ce.ignoreTrimWhitespace,te.ignoreTrimWhitespace),renderIndicators:(0,l.boolean)(Ce.renderIndicators,te.renderIndicators),originalEditable:(0,l.boolean)(Ce.originalEditable,te.originalEditable),diffCodeLens:(0,l.boolean)(Ce.diffCodeLens,te.diffCodeLens),renderOverviewRuler:(0,l.boolean)(Ce.renderOverviewRuler,te.renderOverviewRuler),diffWordWrap:de(Ce.diffWordWrap,te.diffWordWrap),diffAlgorithm:(0,l.stringSet)(Ce.diffAlgorithm,te.diffAlgorithm,["smart","experimental"])}}function we(Ce,te){return{enableSplitViewResizing:Ce.enableSplitViewResizing!==te.enableSplitViewResizing,renderSideBySide:Ce.renderSideBySide!==te.renderSideBySide,renderMarginRevertIcon:Ce.renderMarginRevertIcon!==te.renderMarginRevertIcon,maxComputationTime:Ce.maxComputationTime!==te.maxComputationTime,maxFileSize:Ce.maxFileSize!==te.maxFileSize,ignoreTrimWhitespace:Ce.ignoreTrimWhitespace!==te.ignoreTrimWhitespace,renderIndicators:Ce.renderIndicators!==te.renderIndicators,originalEditable:Ce.originalEditable!==te.originalEditable,diffCodeLens:Ce.diffCodeLens!==te.diffCodeLens,renderOverviewRuler:Ce.renderOverviewRuler!==te.renderOverviewRuler,diffWordWrap:Ce.diffWordWrap!==te.diffWordWrap,diffAlgorithm:Ce.diffAlgorithm!==te.diffAlgorithm}}(0,I.registerThemingParticipant)((Ce,te)=>{const he=Ce.getColor(T.diffInserted);he&&te.addRule(`.monaco-editor .char-insert, .monaco-diff-editor .char-insert { background-color: ${he}; }`);const be=Ce.getColor(T.diffInsertedLine)||he;be&&te.addRule(`.monaco-editor .line-insert, .monaco-diff-editor .line-insert { background-color: ${be}; }`);const me=Ce.getColor(T.diffInsertedLineGutter)||be;me&&(te.addRule(`.monaco-editor .inline-added-margin-view-zone { background-color: ${me}; }`),te.addRule(`.monaco-editor .gutter-insert, .monaco-diff-editor .gutter-insert { background-color: ${me}; }`));const pe=Ce.getColor(T.diffRemoved);pe&&te.addRule(`.monaco-editor .char-delete, .monaco-diff-editor .char-delete { background-color: ${pe}; }`);const Le=Ce.getColor(T.diffRemovedLine)||pe;Le&&te.addRule(`.monaco-editor .line-delete, .monaco-diff-editor .line-delete { background-color: ${Le}; }`);const Ie=Ce.getColor(T.diffRemovedLineGutter)||Le;Ie&&(te.addRule(`.monaco-editor .inline-deleted-margin-view-zone { background-color: ${Ie}; }`),te.addRule(`.monaco-editor .gutter-delete, .monaco-diff-editor .gutter-delete { background-color: ${Ie}; }`));const Ne=Ce.getColor(T.diffInsertedOutline);Ne&&te.addRule(`.monaco-editor .line-insert, .monaco-editor .char-insert { border: 1px ${(0,X.isHighContrast)(Ce.type)?"dashed":"solid"} ${Ne}; }`);const Pe=Ce.getColor(T.diffRemovedOutline);Pe&&te.addRule(`.monaco-editor .line-delete, .monaco-editor .char-delete { border: 1px ${(0,X.isHighContrast)(Ce.type)?"dashed":"solid"} ${Pe}; }`);const Re=Ce.getColor(T.scrollbarShadow);Re&&te.addRule(`.monaco-diff-editor.side-by-side .editor.modified { box-shadow: -6px 0 5px -5px ${Re}; }`);const Ae=Ce.getColor(T.diffBorder);Ae&&te.addRule(`.monaco-diff-editor.side-by-side .editor.modified { border-left: 1px solid ${Ae}; }`);const Be=Ce.getColor(T.scrollbarSliderBackground);Be&&te.addRule(`
			.monaco-diff-editor .diffViewport {
				background: ${Be};
			}
		`);const Fe=Ce.getColor(T.scrollbarSliderHoverBackground);Fe&&te.addRule(`
			.monaco-diff-editor .diffViewport:hover {
				background: ${Fe};
			}
		`);const He=Ce.getColor(T.scrollbarSliderActiveBackground);He&&te.addRule(`
			.monaco-diff-editor .diffViewport:active {
				background: ${He};
			}
		`);const $e=Ce.getColor(T.diffDiagonalFill);te.addRule(`
	.monaco-editor .diagonal-fill {
		background-image: linear-gradient(
			-45deg,
			${$e} 12.5%,
			#0000 12.5%, #0000 50%,
			${$e} 50%, ${$e} 62.5%,
			#0000 62.5%, #0000 100%
		);
		background-size: 8px 8px;
	}
	`)})}),define(se[176],re([1,0,36,29,175,26,15,9,40,16,79,34,20]),function(q,e,w,m,k,D,L,b,C,h,g,t,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EmbeddedCodeEditorWidget=void 0;let n=class extends k.CodeEditorWidget{constructor(l,c,d,r,s,a,u,p,S,f,v,_){super(l,Object.assign(Object.assign({},d.getRawOptions()),{overflowWidgetsDomNode:d.getOverflowWidgetsDomNode()}),{},r,s,a,u,p,S,f,v,_),this._parentEditor=d,this._overwriteOptions=c,super.updateOptions(this._overwriteOptions),this._register(d.onDidChangeConfiguration(y=>this._onParentConfigurationChanged(y)))}getParentEditor(){return this._parentEditor}_onParentConfigurationChanged(l){super.updateOptions(this._parentEditor.getRawOptions()),super.updateOptions(this._overwriteOptions)}updateOptions(l){w.mixin(this._overwriteOptions,l,!0),super.updateOptions(this._overwriteOptions)}};n=De([fe(3,b.IInstantiationService),fe(4,m.ICodeEditorService),fe(5,D.ICommandService),fe(6,L.IContextKeyService),fe(7,h.IThemeService),fe(8,C.INotificationService),fe(9,g.IAccessibilityService),fe(10,t.ILanguageConfigurationService),fe(11,i.ILanguageFeaturesService)],n),e.EmbeddedCodeEditorWidget=n}),define(se[766],re([1,0,10,2,13,11,3,24,25,47,37,54,556,32,23,16,381]),function(q,e,w,m,k,D,L,b,C,h,g,t,i,n,o,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketMatchingController=void 0;const c=(0,o.registerColor)("editorOverviewRuler.bracketMatchForeground",{dark:"#A0A0A0",light:"#A0A0A0",hcDark:"#A0A0A0",hcLight:"#A0A0A0"},i.localize(0,null));class d extends k.EditorAction{constructor(){super({id:"editor.action.jumpToBracket",label:i.localize(1,null),alias:"Go to Bracket",precondition:void 0,kbOpts:{kbExpr:C.EditorContextKeys.editorTextFocus,primary:3160,weight:100}})}run(p,S){var f;(f=a.get(S))===null||f===void 0||f.jumpToBracket()}}class r extends k.EditorAction{constructor(){super({id:"editor.action.selectToBracket",label:i.localize(2,null),alias:"Select to Bracket",precondition:void 0,description:{description:"Select to Bracket",args:[{name:"args",schema:{type:"object",properties:{selectBrackets:{type:"boolean",default:!0}}}}]}})}run(p,S,f){var v;let _=!0;f&&f.selectBrackets===!1&&(_=!1),(v=a.get(S))===null||v===void 0||v.selectToBracket(_)}}class s{constructor(p,S,f){this.position=p,this.brackets=S,this.options=f}}class a extends m.Disposable{static get(p){return p.getContribution(a.ID)}constructor(p){super(),this._editor=p,this._lastBracketsData=[],this._lastVersionId=0,this._decorations=this._editor.createDecorationsCollection(),this._updateBracketsSoon=this._register(new w.RunOnceScheduler(()=>this._updateBrackets(),50)),this._matchBrackets=this._editor.getOption(65),this._updateBracketsSoon.schedule(),this._register(p.onDidChangeCursorPosition(S=>{this._matchBrackets!=="never"&&this._updateBracketsSoon.schedule()})),this._register(p.onDidChangeModelContent(S=>{this._updateBracketsSoon.schedule()})),this._register(p.onDidChangeModel(S=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(p.onDidChangeModelLanguageConfiguration(S=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(p.onDidChangeConfiguration(S=>{S.hasChanged(65)&&(this._matchBrackets=this._editor.getOption(65),this._decorations.clear(),this._lastBracketsData=[],this._lastVersionId=0,this._updateBracketsSoon.schedule())})),this._register(p.onDidBlurEditorWidget(()=>{this._updateBracketsSoon.schedule()})),this._register(p.onDidFocusEditorWidget(()=>{this._updateBracketsSoon.schedule()}))}jumpToBracket(){if(!this._editor.hasModel())return;const p=this._editor.getModel(),S=this._editor.getSelections().map(f=>{const v=f.getStartPosition(),_=p.bracketPairs.matchBracket(v);let y=null;if(_)_[0].containsPosition(v)&&!_[1].containsPosition(v)?y=_[1].getStartPosition():_[1].containsPosition(v)&&(y=_[0].getStartPosition());else{const E=p.bracketPairs.findEnclosingBrackets(v);if(E)y=E[1].getStartPosition();else{const T=p.bracketPairs.findNextBracket(v);T&&T.range&&(y=T.range.getStartPosition())}}return y?new b.Selection(y.lineNumber,y.column,y.lineNumber,y.column):new b.Selection(v.lineNumber,v.column,v.lineNumber,v.column)});this._editor.setSelections(S),this._editor.revealRange(S[0])}selectToBracket(p){if(!this._editor.hasModel())return;const S=this._editor.getModel(),f=[];this._editor.getSelections().forEach(v=>{const _=v.getStartPosition();let y=S.bracketPairs.matchBracket(_);if(!y&&(y=S.bracketPairs.findEnclosingBrackets(_),!y)){const I=S.bracketPairs.findNextBracket(_);I&&I.range&&(y=S.bracketPairs.matchBracket(I.range.getStartPosition()))}let E=null,T=null;if(y){y.sort(L.Range.compareRangesUsingStarts);const[I,R]=y;if(E=p?I.getStartPosition():I.getEndPosition(),T=p?R.getEndPosition():R.getStartPosition(),R.containsPosition(_)){const F=E;E=T,T=F}}E&&T&&f.push(new b.Selection(E.lineNumber,E.column,T.lineNumber,T.column))}),f.length>0&&(this._editor.setSelections(f),this._editor.revealRange(f[0]))}_updateBrackets(){if(this._matchBrackets==="never")return;this._recomputeBrackets();const p=[];let S=0;for(const f of this._lastBracketsData){const v=f.brackets;v&&(p[S++]={range:v[0],options:f.options},p[S++]={range:v[1],options:f.options})}this._decorations.set(p)}_recomputeBrackets(){if(!this._editor.hasModel()||!this._editor.hasWidgetFocus()){this._lastBracketsData=[],this._lastVersionId=0;return}const p=this._editor.getSelections();if(p.length>100){this._lastBracketsData=[],this._lastVersionId=0;return}const S=this._editor.getModel(),f=S.getVersionId();let v=[];this._lastVersionId===f&&(v=this._lastBracketsData);const _=[];let y=0;for(let F=0,O=p.length;F<O;F++){const M=p[F];M.isEmpty()&&(_[y++]=M.getStartPosition())}_.length>1&&_.sort(D.Position.compare);const E=[];let T=0,I=0;const R=v.length;for(let F=0,O=_.length;F<O;F++){const M=_[F];for(;I<R&&v[I].position.isBefore(M);)I++;if(I<R&&v[I].position.equals(M))E[T++]=v[I];else{let N=S.bracketPairs.matchBracket(M,20),A=a._DECORATION_OPTIONS_WITH_OVERVIEW_RULER;!N&&this._matchBrackets==="always"&&(N=S.bracketPairs.findEnclosingBrackets(M,20),A=a._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER),E[T++]=new s(M,N,A)}}this._lastBracketsData=E,this._lastVersionId=f}}e.BracketMatchingController=a,a.ID="editor.contrib.bracketMatchingController",a._DECORATION_OPTIONS_WITH_OVERVIEW_RULER=g.ModelDecorationOptions.register({description:"bracket-match-overview",stickiness:1,className:"bracket-match",overviewRuler:{color:(0,l.themeColorFromId)(c),position:h.OverviewRulerLane.Center}}),a._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER=g.ModelDecorationOptions.register({description:"bracket-match-no-overview",stickiness:1,className:"bracket-match"}),(0,k.registerEditorContribution)(a.ID,a),(0,k.registerEditorAction)(r),(0,k.registerEditorAction)(d),(0,l.registerThemingParticipant)((u,p)=>{const S=u.getColor(t.editorBracketMatchBackground);S&&p.addRule(`.monaco-editor .bracket-match { background-color: ${S}; }`);const f=u.getColor(t.editorBracketMatchBorder);f&&p.addRule(`.monaco-editor .bracket-match { border: 1px solid ${f}; }`)}),n.MenuRegistry.appendMenuItem(n.MenuId.MenubarGoMenu,{group:"5_infile_nav",command:{id:"editor.action.jumpToBracket",title:i.localize(3,null)},order:2})}),define(se[767],re([1,0,7,136,3,37,384]),function(q,e,w,m,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeLensWidget=e.CodeLensHelper=void 0;class L{constructor(t,i,n){this.afterColumn=1073741824,this.afterLineNumber=t,this.heightInPx=i,this._onHeight=n,this.suppressMouseDown=!0,this.domNode=document.createElement("div")}onComputedHeight(t){this._lastHeight===void 0?this._lastHeight=t:this._lastHeight!==t&&(this._lastHeight=t,this._onHeight())}isVisible(){return this._lastHeight!==0&&this.domNode.hasAttribute("monaco-visible-view-zone")}}class b{constructor(t,i,n){this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this._commands=new Map,this._isEmpty=!0,this._editor=t,this._id=`codelens.widget-${b._idPool++}`,this.updatePosition(n),this._domNode=document.createElement("span"),this._domNode.className=`codelens-decoration ${i}`}withCommands(t,i){this._commands.clear();const n=[];let o=!1;for(let l=0;l<t.length;l++){const c=t[l];if(!!c&&(o=!0,c.command)){const d=(0,m.renderLabelWithIcons)(c.command.title.trim());c.command.id?(n.push(w.$("a",{id:String(l),title:c.command.tooltip,role:"button"},...d)),this._commands.set(String(l),c.command)):n.push(w.$("span",{title:c.command.tooltip},...d)),l+1<t.length&&n.push(w.$("span",void 0,"\xA0|\xA0"))}}o?(w.reset(this._domNode,...n),this._isEmpty&&i&&this._domNode.classList.add("fadein"),this._isEmpty=!1):w.reset(this._domNode,w.$("span",void 0,"no commands"))}getCommand(t){return t.parentElement===this._domNode?this._commands.get(t.id):void 0}getId(){return this._id}getDomNode(){return this._domNode}updatePosition(t){const i=this._editor.getModel().getLineFirstNonWhitespaceColumn(t);this._widgetPosition={position:{lineNumber:t,column:i},preference:[1]}}getPosition(){return this._widgetPosition||null}}b._idPool=0;class C{constructor(){this._removeDecorations=[],this._addDecorations=[],this._addDecorationsCallbacks=[]}addDecoration(t,i){this._addDecorations.push(t),this._addDecorationsCallbacks.push(i)}removeDecoration(t){this._removeDecorations.push(t)}commit(t){const i=t.deltaDecorations(this._removeDecorations,this._addDecorations);for(let n=0,o=i.length;n<o;n++)this._addDecorationsCallbacks[n](i[n])}}e.CodeLensHelper=C;class h{constructor(t,i,n,o,l,c,d){this._isDisposed=!1,this._editor=i,this._className=n,this._data=t,this._decorationIds=[];let r;const s=[];this._data.forEach((a,u)=>{a.symbol.command&&s.push(a.symbol),o.addDecoration({range:a.symbol.range,options:D.ModelDecorationOptions.EMPTY},p=>this._decorationIds[u]=p),r?r=k.Range.plusRange(r,a.symbol.range):r=k.Range.lift(a.symbol.range)}),this._viewZone=new L(r.startLineNumber-1,c,d),this._viewZoneId=l.addZone(this._viewZone),s.length>0&&(this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(s,!1))}_createContentWidgetIfNecessary(){this._contentWidget?this._editor.layoutContentWidget(this._contentWidget):(this._contentWidget=new b(this._editor,this._className,this._viewZone.afterLineNumber+1),this._editor.addContentWidget(this._contentWidget))}dispose(t,i){this._decorationIds.forEach(t.removeDecoration,t),this._decorationIds=[],i?.removeZone(this._viewZoneId),this._contentWidget&&(this._editor.removeContentWidget(this._contentWidget),this._contentWidget=void 0),this._isDisposed=!0}isDisposed(){return this._isDisposed}isValid(){return this._decorationIds.some((t,i)=>{const n=this._editor.getModel().getDecorationRange(t),o=this._data[i].symbol;return!!(n&&k.Range.isEmpty(o.range)===n.isEmpty())})}updateCodeLensSymbols(t,i){this._decorationIds.forEach(i.removeDecoration,i),this._decorationIds=[],this._data=t,this._data.forEach((n,o)=>{i.addDecoration({range:n.symbol.range,options:D.ModelDecorationOptions.EMPTY},l=>this._decorationIds[o]=l)})}updateHeight(t,i){this._viewZone.heightInPx=t,i.layoutZone(this._viewZoneId),this._contentWidget&&this._editor.layoutContentWidget(this._contentWidget)}computeIfNecessary(t){if(!this._viewZone.isVisible())return null;for(let i=0;i<this._decorationIds.length;i++){const n=t.getDecorationRange(this._decorationIds[i]);n&&(this._data[i].symbol.range=n)}return this._data}updateCommands(t){this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(t,!0);for(let i=0;i<this._data.length;i++){const n=t[i];if(n){const{symbol:o}=this._data[i];o.command=n.command||o.command}}}getCommand(t){var i;return(i=this._contentWidget)===null||i===void 0?void 0:i.getCommand(t)}getLineNumber(){const t=this._editor.getModel().getDecorationRange(this._decorationIds[0]);return t?t.startLineNumber:-1}update(t){if(this.isValid()){const i=this._editor.getModel().getDecorationRange(this._decorationIds[0]);i&&(this._viewZone.afterLineNumber=i.startLineNumber-1,t.layoutZone(this._viewZoneId),this._contentWidget&&(this._contentWidget.updatePosition(i.startLineNumber),this._editor.layoutContentWidget(this._contentWidget)))}}}e.CodeLensWidget=h}),define(se[768],re([1,0,7,10,14,107,2,153,13,38,25,289,684,767,565,26,40,88,73,20]),function(q,e,w,m,k,D,L,b,C,h,g,t,i,n,o,l,c,d,r,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeLensContribution=void 0;let a=class{constructor(p,S,f,v,_,y){this._editor=p,this._languageFeaturesService=S,this._commandService=v,this._notificationService=_,this._codeLensCache=y,this._disposables=new L.DisposableStore,this._localToDispose=new L.DisposableStore,this._lenses=[],this._oldCodeLensModels=new L.DisposableStore,this._provideCodeLensDebounce=f.for(S.codeLensProvider,"CodeLensProvide",{min:250}),this._resolveCodeLensesDebounce=f.for(S.codeLensProvider,"CodeLensResolve",{min:250,salt:"resolve"}),this._resolveCodeLensesScheduler=new m.RunOnceScheduler(()=>this._resolveCodeLensesInViewport(),this._resolveCodeLensesDebounce.default()),this._disposables.add(this._editor.onDidChangeModel(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeConfiguration(E=>{(E.hasChanged(45)||E.hasChanged(16)||E.hasChanged(15))&&this._updateLensStyle(),E.hasChanged(14)&&this._onModelChange()})),this._disposables.add(S.codeLensProvider.onDidChange(this._onModelChange,this)),this._onModelChange(),this._styleClassName="_"+(0,D.hash)(this._editor.getId()).toString(16),this._styleElement=w.createStyleSheet(w.isInShadowDOM(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0),this._updateLensStyle()}dispose(){var p;this._localDispose(),this._disposables.dispose(),this._oldCodeLensModels.dispose(),(p=this._currentCodeLensModel)===null||p===void 0||p.dispose(),this._styleElement.remove()}_getLayoutInfo(){const p=Math.max(1.3,this._editor.getOption(60)/this._editor.getOption(47));let S=this._editor.getOption(16);return(!S||S<5)&&(S=this._editor.getOption(47)*.9|0),{fontSize:S,codeLensHeight:S*p|0}}_updateLensStyle(){const{codeLensHeight:p,fontSize:S}=this._getLayoutInfo(),f=this._editor.getOption(15),v=this._editor.getOption(45),_=`--codelens-font-family${this._styleClassName}`,y=`--codelens-font-features${this._styleClassName}`;let E=`
		.monaco-editor .codelens-decoration.${this._styleClassName} { line-height: ${p}px; font-size: ${S}px; padding-right: ${Math.round(S*.5)}px; font-feature-settings: var(${y}) }
		.monaco-editor .codelens-decoration.${this._styleClassName} span.codicon { line-height: ${p}px; font-size: ${S}px; }
		`;f&&(E+=`.monaco-editor .codelens-decoration.${this._styleClassName} { font-family: var(${_}), ${h.EDITOR_FONT_DEFAULTS.fontFamily}}`),this._styleElement.textContent=E,this._editor.getContainerDomNode().style.setProperty(_,f??"inherit"),this._editor.getContainerDomNode().style.setProperty(y,v.fontFeatureSettings),this._editor.changeViewZones(T=>{for(const I of this._lenses)I.updateHeight(p,T)})}_localDispose(){var p,S,f;(p=this._getCodeLensModelPromise)===null||p===void 0||p.cancel(),this._getCodeLensModelPromise=void 0,(S=this._resolveCodeLensesPromise)===null||S===void 0||S.cancel(),this._resolveCodeLensesPromise=void 0,this._localToDispose.clear(),this._oldCodeLensModels.clear(),(f=this._currentCodeLensModel)===null||f===void 0||f.dispose()}_onModelChange(){this._localDispose();const p=this._editor.getModel();if(!p||!this._editor.getOption(14))return;const S=this._codeLensCache.get(p);if(S&&this._renderCodeLensSymbols(S),!this._languageFeaturesService.codeLensProvider.has(p)){S&&this._localToDispose.add((0,m.disposableTimeout)(()=>{const v=this._codeLensCache.get(p);S===v&&(this._codeLensCache.delete(p),this._onModelChange())},30*1e3));return}for(const v of this._languageFeaturesService.codeLensProvider.all(p))if(typeof v.onDidChange=="function"){const _=v.onDidChange(()=>f.schedule());this._localToDispose.add(_)}const f=new m.RunOnceScheduler(()=>{var v;const _=Date.now();(v=this._getCodeLensModelPromise)===null||v===void 0||v.cancel(),this._getCodeLensModelPromise=(0,m.createCancelablePromise)(y=>(0,t.getCodeLensModel)(this._languageFeaturesService.codeLensProvider,p,y)),this._getCodeLensModelPromise.then(y=>{this._currentCodeLensModel&&this._oldCodeLensModels.add(this._currentCodeLensModel),this._currentCodeLensModel=y,this._codeLensCache.put(p,y);const E=this._provideCodeLensDebounce.update(p,Date.now()-_);f.delay=E,this._renderCodeLensSymbols(y),this._resolveCodeLensesInViewportSoon()},k.onUnexpectedError)},this._provideCodeLensDebounce.get(p));this._localToDispose.add(f),this._localToDispose.add((0,L.toDisposable)(()=>this._resolveCodeLensesScheduler.cancel())),this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._editor.changeDecorations(v=>{this._editor.changeViewZones(_=>{const y=[];let E=-1;this._lenses.forEach(I=>{!I.isValid()||E===I.getLineNumber()?y.push(I):(I.update(_),E=I.getLineNumber())});const T=new n.CodeLensHelper;y.forEach(I=>{I.dispose(T,_),this._lenses.splice(this._lenses.indexOf(I),1)}),T.commit(v)})}),f.schedule()})),this._localToDispose.add(this._editor.onDidFocusEditorWidget(()=>{f.schedule()})),this._localToDispose.add(this._editor.onDidScrollChange(v=>{v.scrollTopChanged&&this._lenses.length>0&&this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add(this._editor.onDidLayoutChange(()=>{this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add((0,L.toDisposable)(()=>{if(this._editor.getModel()){const v=b.StableEditorScrollState.capture(this._editor);this._editor.changeDecorations(_=>{this._editor.changeViewZones(y=>{this._disposeAllLenses(_,y)})}),v.restore(this._editor)}else this._disposeAllLenses(void 0,void 0)})),this._localToDispose.add(this._editor.onMouseDown(v=>{if(v.target.type!==9)return;let _=v.target.element;if(_?.tagName==="SPAN"&&(_=_.parentElement),_?.tagName==="A")for(const y of this._lenses){const E=y.getCommand(_);if(E){this._commandService.executeCommand(E.id,...E.arguments||[]).catch(T=>this._notificationService.error(T));break}}})),f.schedule()}_disposeAllLenses(p,S){const f=new n.CodeLensHelper;for(const v of this._lenses)v.dispose(f,S);p&&f.commit(p),this._lenses.length=0}_renderCodeLensSymbols(p){if(!this._editor.hasModel())return;const S=this._editor.getModel().getLineCount(),f=[];let v;for(const E of p.lenses){const T=E.symbol.range.startLineNumber;T<1||T>S||(v&&v[v.length-1].symbol.range.startLineNumber===T?v.push(E):(v=[E],f.push(v)))}const _=b.StableEditorScrollState.capture(this._editor),y=this._getLayoutInfo();this._editor.changeDecorations(E=>{this._editor.changeViewZones(T=>{const I=new n.CodeLensHelper;let R=0,F=0;for(;F<f.length&&R<this._lenses.length;){const O=f[F][0].symbol.range.startLineNumber,M=this._lenses[R].getLineNumber();M<O?(this._lenses[R].dispose(I,T),this._lenses.splice(R,1)):M===O?(this._lenses[R].updateCodeLensSymbols(f[F],I),F++,R++):(this._lenses.splice(R,0,new n.CodeLensWidget(f[F],this._editor,this._styleClassName,I,T,y.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),R++,F++)}for(;R<this._lenses.length;)this._lenses[R].dispose(I,T),this._lenses.splice(R,1);for(;F<f.length;)this._lenses.push(new n.CodeLensWidget(f[F],this._editor,this._styleClassName,I,T,y.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),F++;I.commit(E)})}),_.restore(this._editor)}_resolveCodeLensesInViewportSoon(){this._editor.getModel()&&this._resolveCodeLensesScheduler.schedule()}_resolveCodeLensesInViewport(){var p;(p=this._resolveCodeLensesPromise)===null||p===void 0||p.cancel(),this._resolveCodeLensesPromise=void 0;const S=this._editor.getModel();if(!S)return;const f=[],v=[];if(this._lenses.forEach(E=>{const T=E.computeIfNecessary(S);T&&(f.push(T),v.push(E))}),f.length===0)return;const _=Date.now(),y=(0,m.createCancelablePromise)(E=>{const T=f.map((I,R)=>{const F=new Array(I.length),O=I.map((M,N)=>!M.symbol.command&&typeof M.provider.resolveCodeLens=="function"?Promise.resolve(M.provider.resolveCodeLens(S,M.symbol,E)).then(A=>{F[N]=A},k.onUnexpectedExternalError):(F[N]=M.symbol,Promise.resolve(void 0)));return Promise.all(O).then(()=>{!E.isCancellationRequested&&!v[R].isDisposed()&&v[R].updateCommands(F)})});return Promise.all(T)});this._resolveCodeLensesPromise=y,this._resolveCodeLensesPromise.then(()=>{const E=this._resolveCodeLensesDebounce.update(S,Date.now()-_);this._resolveCodeLensesScheduler.delay=E,this._currentCodeLensModel&&this._codeLensCache.put(S,this._currentCodeLensModel),this._oldCodeLensModels.clear(),y===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)},E=>{(0,k.onUnexpectedError)(E),y===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)})}getModel(){return this._currentCodeLensModel}};a.ID="css.editor.codeLens",a=De([fe(1,s.ILanguageFeaturesService),fe(2,r.ILanguageFeatureDebounceService),fe(3,l.ICommandService),fe(4,c.INotificationService),fe(5,i.ICodeLensCache)],a),e.CodeLensContribution=a,(0,C.registerEditorContribution)(a.ID,a),(0,C.registerEditorAction)(class extends C.EditorAction{constructor(){super({id:"codelens.showLensesInCurrentLine",precondition:g.EditorContextKeys.hasCodeLensProvider,label:(0,o.localize)(0,null),alias:"Show CodeLens Commands For Current Line"})}run(p,S){return Se(this,void 0,void 0,function*(){if(!S.hasModel())return;const f=p.get(d.IQuickInputService),v=p.get(l.ICommandService),_=p.get(c.INotificationService),y=S.getSelection().positionLineNumber,E=S.getContribution(a.ID);if(!E)return;const T=E.getModel();if(!T)return;const I=[];for(const F of T.lenses)F.symbol.command&&F.symbol.range.startLineNumber===y&&I.push({label:F.symbol.command.title,command:F.symbol.command});if(I.length===0)return;const R=yield f.pick(I,{canPickMany:!1});if(!!R){if(T.isDisposed)return yield v.executeCommand(this.id);try{yield v.executeCommand(R.command.id,...R.command.arguments||[])}catch(F){_.error(F)}}})}})}),define(se[317],re([1,0,10,31,14,2,56,8,144,13,3,37,73,20,290,30]),function(q,e,w,m,k,D,L,b,C,h,g,t,i,n,o,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorDetector=e.ColorDecorationInjectedTextMarker=void 0,e.ColorDecorationInjectedTextMarker=Object.create({});const c=500;let d=class Hi extends D.Disposable{constructor(s,a,u,p){super(),this._editor=s,this._configurationService=a,this._languageFeaturesService=u,this._localToDispose=this._register(new D.DisposableStore),this._decorationsIds=[],this._colorDatas=new Map,this._colorDecoratorIds=this._editor.createDecorationsCollection(),this._ruleFactory=new C.DynamicCssRules(this._editor),this._colorDecorationClassRefs=this._register(new D.DisposableStore),this._debounceInformation=p.for(u.colorProvider,"Document Colors",{min:Hi.RECOMPUTE_TIME}),this._register(s.onDidChangeModel(()=>{this._isEnabled=this.isEnabled(),this.onModelChanged()})),this._register(s.onDidChangeModelLanguage(()=>this.onModelChanged())),this._register(u.colorProvider.onDidChange(()=>this.onModelChanged())),this._register(s.onDidChangeConfiguration(()=>{const S=this._isEnabled;this._isEnabled=this.isEnabled(),S!==this._isEnabled&&(this._isEnabled?this.onModelChanged():this.removeAllDecorations())})),this._timeoutTimer=null,this._computePromise=null,this._isEnabled=this.isEnabled(),this.onModelChanged()}isEnabled(){const s=this._editor.getModel();if(!s)return!1;const a=s.getLanguageId(),u=this._configurationService.getValue(a);if(u&&typeof u=="object"){const p=u.colorDecorators;if(p&&p.enable!==void 0&&!p.enable)return p.enable}return this._editor.getOption(17)}static get(s){return s.getContribution(this.ID)}dispose(){this.stop(),this.removeAllDecorations(),super.dispose()}onModelChanged(){if(this.stop(),!this._isEnabled)return;const s=this._editor.getModel();!s||!this._languageFeaturesService.colorProvider.has(s)||(this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._timeoutTimer||(this._timeoutTimer=new w.TimeoutTimer,this._timeoutTimer.cancelAndSet(()=>{this._timeoutTimer=null,this.beginCompute()},this._debounceInformation.get(s)))})),this.beginCompute())}beginCompute(){this._computePromise=(0,w.createCancelablePromise)(s=>Se(this,void 0,void 0,function*(){const a=this._editor.getModel();if(!a)return Promise.resolve([]);const u=new L.StopWatch(!1),p=yield(0,o.getColors)(this._languageFeaturesService.colorProvider,a,s);return this._debounceInformation.update(a,u.elapsed()),p})),this._computePromise.then(s=>{this.updateDecorations(s),this.updateColorDecorators(s),this._computePromise=null},k.onUnexpectedError)}stop(){this._timeoutTimer&&(this._timeoutTimer.cancel(),this._timeoutTimer=null),this._computePromise&&(this._computePromise.cancel(),this._computePromise=null),this._localToDispose.clear()}updateDecorations(s){const a=s.map(u=>({range:{startLineNumber:u.colorInfo.range.startLineNumber,startColumn:u.colorInfo.range.startColumn,endLineNumber:u.colorInfo.range.endLineNumber,endColumn:u.colorInfo.range.endColumn},options:t.ModelDecorationOptions.EMPTY}));this._editor.changeDecorations(u=>{this._decorationsIds=u.deltaDecorations(this._decorationsIds,a),this._colorDatas=new Map,this._decorationsIds.forEach((p,S)=>this._colorDatas.set(p,s[S]))})}updateColorDecorators(s){this._colorDecorationClassRefs.clear();const a=[];for(let u=0;u<s.length&&a.length<c;u++){const{red:p,green:S,blue:f,alpha:v}=s[u].colorInfo.color,_=new m.RGBA(Math.round(p*255),Math.round(S*255),Math.round(f*255),v),y=`rgba(${_.r}, ${_.g}, ${_.b}, ${_.a})`,E=this._colorDecorationClassRefs.add(this._ruleFactory.createClassNameRef({backgroundColor:y}));a.push({range:{startLineNumber:s[u].colorInfo.range.startLineNumber,startColumn:s[u].colorInfo.range.startColumn,endLineNumber:s[u].colorInfo.range.endLineNumber,endColumn:s[u].colorInfo.range.endColumn},options:{description:"colorDetector",before:{content:b.noBreakWhitespace,inlineClassName:`${E.className} colorpicker-color-decoration`,inlineClassNameAffectsLetterSpacing:!0,attachedData:e.ColorDecorationInjectedTextMarker}}})}this._colorDecoratorIds.set(a)}removeAllDecorations(){this._editor.removeDecorations(this._decorationsIds),this._decorationsIds=[],this._colorDecoratorIds.clear(),this._colorDecorationClassRefs.clear()}getColorData(s){const a=this._editor.getModel();if(!a)return null;const u=a.getDecorationsInRange(g.Range.fromPositions(s,s)).filter(p=>this._colorDatas.has(p.id));return u.length===0?null:this._colorDatas.get(u[0].id)}isColorDecoration(s){return this._colorDecoratorIds.has(s)}};d.ID="editor.contrib.colorDetector",d.RECOMPUTE_TIME=1e3,d=De([fe(1,l.IConfigurationService),fe(2,n.ILanguageFeaturesService),fe(3,i.ILanguageFeatureDebounceService)],d),e.ColorDetector=d,(0,h.registerEditorContribution)(d.ID,d)}),define(se[769],re([1,0,10,21,31,2,3,290,317,532,706,16]),function(q,e,w,m,k,D,L,b,C,h,g,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorHoverParticipant=e.ColorHover=void 0;class i{constructor(l,c,d,r){this.owner=l,this.range=c,this.model=d,this.provider=r,this.forceShowAtRange=!0}isValidForHoverAnchor(l){return l.type===1&&this.range.startColumn<=l.range.startColumn&&this.range.endColumn>=l.range.endColumn}}e.ColorHover=i;let n=class{constructor(l,c){this._editor=l,this._themeService=c,this.hoverOrdinal=1}computeSync(l,c){return[]}computeAsync(l,c,d){return w.AsyncIterableObject.fromPromise(this._computeAsync(l,c,d))}_computeAsync(l,c,d){return Se(this,void 0,void 0,function*(){if(!this._editor.hasModel())return[];const r=C.ColorDetector.get(this._editor);if(!r)return[];for(const s of c){if(!r.isColorDecoration(s))continue;const a=r.getColorData(s.range.getStartPosition());if(a)return[yield this._createColorHover(this._editor.getModel(),a.colorInfo,a.provider)]}return[]})}_createColorHover(l,c,d){return Se(this,void 0,void 0,function*(){const r=l.getValueInRange(c.range),{red:s,green:a,blue:u,alpha:p}=c.color,S=new k.RGBA(Math.round(s*255),Math.round(a*255),Math.round(u*255),p),f=new k.Color(S),v=yield(0,b.getColorPresentations)(l,c,d,m.CancellationToken.None),_=new h.ColorPickerModel(f,[],0);return _.colorPresentations=v||[],_.guessColorPresentation(f,r),new i(this,L.Range.lift(c.range),_,d)})}renderHoverParts(l,c){if(c.length===0||!this._editor.hasModel())return D.Disposable.None;const d=new D.DisposableStore,r=c[0],s=this._editor.getModel(),a=r.model,u=d.add(new g.ColorPickerWidget(l.fragment,a,this._editor.getOption(131),this._themeService));l.setColorPicker(u);let p=new L.Range(r.range.startLineNumber,r.range.startColumn,r.range.endLineNumber,r.range.endColumn);const S=()=>{let v,_;if(a.presentation.textEdit){v=[a.presentation.textEdit],_=new L.Range(a.presentation.textEdit.range.startLineNumber,a.presentation.textEdit.range.startColumn,a.presentation.textEdit.range.endLineNumber,a.presentation.textEdit.range.endColumn);const y=this._editor.getModel()._setTrackedRange(null,_,3);this._editor.pushUndoStop(),this._editor.executeEdits("colorpicker",v),_=this._editor.getModel()._getTrackedRange(y)||_}else v=[{range:p,text:a.presentation.label,forceMoveMarkers:!1}],_=p.setEndPosition(p.endLineNumber,p.startColumn+a.presentation.label.length),this._editor.pushUndoStop(),this._editor.executeEdits("colorpicker",v);a.presentation.additionalTextEdits&&(v=[...a.presentation.additionalTextEdits],this._editor.executeEdits("colorpicker",v),l.hide()),this._editor.pushUndoStop(),p=_},f=v=>(0,b.getColorPresentations)(s,{range:p,color:{red:v.rgba.r/255,green:v.rgba.g/255,blue:v.rgba.b/255,alpha:v.rgba.a}},r.provider,m.CancellationToken.None).then(_=>{a.colorPresentations=_||[]});return d.add(a.onColorFlushed(v=>{f(v).then(S)})),d.add(a.onDidChangeColor(f)),d}};n=De([fe(1,t.IThemeService)],n),e.ColorHoverParticipant=n}),define(se[770],re([1,0,2,17,13,11,3,24,37,465,386]),function(q,e,w,m,k,D,L,b,C,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DragAndDropController=void 0;function g(i){return m.isMacintosh?i.altKey:i.ctrlKey}class t extends w.Disposable{constructor(n){super(),this._editor=n,this._dndDecorationIds=this._editor.createDecorationsCollection(),this._register(this._editor.onMouseDown(o=>this._onEditorMouseDown(o))),this._register(this._editor.onMouseUp(o=>this._onEditorMouseUp(o))),this._register(this._editor.onMouseDrag(o=>this._onEditorMouseDrag(o))),this._register(this._editor.onMouseDrop(o=>this._onEditorMouseDrop(o))),this._register(this._editor.onMouseDropCanceled(()=>this._onEditorMouseDropCanceled())),this._register(this._editor.onKeyDown(o=>this.onEditorKeyDown(o))),this._register(this._editor.onKeyUp(o=>this.onEditorKeyUp(o))),this._register(this._editor.onDidBlurEditorWidget(()=>this.onEditorBlur())),this._register(this._editor.onDidBlurEditorText(()=>this.onEditorBlur())),this._mouseDown=!1,this._modifierPressed=!1,this._dragSelection=null}onEditorBlur(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1}onEditorKeyDown(n){!this._editor.getOption(31)||this._editor.getOption(18)||(g(n)&&(this._modifierPressed=!0),this._mouseDown&&g(n)&&this._editor.updateOptions({mouseStyle:"copy"}))}onEditorKeyUp(n){!this._editor.getOption(31)||this._editor.getOption(18)||(g(n)&&(this._modifierPressed=!1),this._mouseDown&&n.keyCode===t.TRIGGER_KEY_VALUE&&this._editor.updateOptions({mouseStyle:"default"}))}_onEditorMouseDown(n){this._mouseDown=!0}_onEditorMouseUp(n){this._mouseDown=!1,this._editor.updateOptions({mouseStyle:"text"})}_onEditorMouseDrag(n){const o=n.target;if(this._dragSelection===null){const c=(this._editor.getSelections()||[]).filter(d=>o.position&&d.containsPosition(o.position));if(c.length===1)this._dragSelection=c[0];else return}g(n.event)?this._editor.updateOptions({mouseStyle:"copy"}):this._editor.updateOptions({mouseStyle:"default"}),o.position&&(this._dragSelection.containsPosition(o.position)?this._removeDecoration():this.showAt(o.position))}_onEditorMouseDropCanceled(){this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}_onEditorMouseDrop(n){if(n.target&&(this._hitContent(n.target)||this._hitMargin(n.target))&&n.target.position){const o=new D.Position(n.target.position.lineNumber,n.target.position.column);if(this._dragSelection===null){let l=null;if(n.event.shiftKey){const c=this._editor.getSelection();if(c){const{selectionStartLineNumber:d,selectionStartColumn:r}=c;l=[new b.Selection(d,r,o.lineNumber,o.column)]}}else l=(this._editor.getSelections()||[]).map(c=>c.containsPosition(o)?new b.Selection(o.lineNumber,o.column,o.lineNumber,o.column):c);this._editor.setSelections(l||[],"mouse",3)}else(!this._dragSelection.containsPosition(o)||(g(n.event)||this._modifierPressed)&&(this._dragSelection.getEndPosition().equals(o)||this._dragSelection.getStartPosition().equals(o)))&&(this._editor.pushUndoStop(),this._editor.executeCommand(t.ID,new h.DragAndDropCommand(this._dragSelection,o,g(n.event)||this._modifierPressed)),this._editor.pushUndoStop())}this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}showAt(n){this._dndDecorationIds.set([{range:new L.Range(n.lineNumber,n.column,n.lineNumber,n.column),options:t._DECORATION_OPTIONS}]),this._editor.revealPosition(n,1)}_removeDecoration(){this._dndDecorationIds.clear()}_hitContent(n){return n.type===6||n.type===7}_hitMargin(n){return n.type===2||n.type===3||n.type===4}dispose(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1,super.dispose()}}e.DragAndDropController=t,t.ID="editor.contrib.dragAndDrop",t.TRIGGER_KEY_VALUE=m.isMacintosh?6:5,t._DECORATION_OPTIONS=C.ModelDecorationOptions.register({description:"dnd-target",className:"dnd-target"}),(0,k.registerEditorContribution)(t.ID,t)}),define(se[771],re([1,0,3,47,37,23,16]),function(q,e,w,m,k,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindDecorations=void 0;class b{constructor(h){this._editor=h,this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null,this._startPosition=this._editor.getPosition()}dispose(){this._editor.removeDecorations(this._allDecorations()),this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}reset(){this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}getCount(){return this._decorations.length}getFindScope(){return this._findScopeDecorationIds[0]?this._editor.getModel().getDecorationRange(this._findScopeDecorationIds[0]):null}getFindScopes(){if(this._findScopeDecorationIds.length){const h=this._findScopeDecorationIds.map(g=>this._editor.getModel().getDecorationRange(g)).filter(g=>!!g);if(h.length)return h}return null}getStartPosition(){return this._startPosition}setStartPosition(h){this._startPosition=h,this.setCurrentFindMatch(null)}_getDecorationIndex(h){const g=this._decorations.indexOf(h);return g>=0?g+1:1}getCurrentMatchesPosition(h){const g=this._editor.getModel().getDecorationsInRange(h);for(const t of g){const i=t.options;if(i===b._FIND_MATCH_DECORATION||i===b._CURRENT_FIND_MATCH_DECORATION)return this._getDecorationIndex(t.id)}return 0}setCurrentFindMatch(h){let g=null,t=0;if(h)for(let i=0,n=this._decorations.length;i<n;i++){const o=this._editor.getModel().getDecorationRange(this._decorations[i]);if(h.equalsRange(o)){g=this._decorations[i],t=i+1;break}}return(this._highlightedDecorationId!==null||g!==null)&&this._editor.changeDecorations(i=>{if(this._highlightedDecorationId!==null&&(i.changeDecorationOptions(this._highlightedDecorationId,b._FIND_MATCH_DECORATION),this._highlightedDecorationId=null),g!==null&&(this._highlightedDecorationId=g,i.changeDecorationOptions(this._highlightedDecorationId,b._CURRENT_FIND_MATCH_DECORATION)),this._rangeHighlightDecorationId!==null&&(i.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),g!==null){let n=this._editor.getModel().getDecorationRange(g);if(n.startLineNumber!==n.endLineNumber&&n.endColumn===1){const o=n.endLineNumber-1,l=this._editor.getModel().getLineMaxColumn(o);n=new w.Range(n.startLineNumber,n.startColumn,o,l)}this._rangeHighlightDecorationId=i.addDecoration(n,b._RANGE_HIGHLIGHT_DECORATION)}}),t}set(h,g){this._editor.changeDecorations(t=>{let i=b._FIND_MATCH_DECORATION;const n=[];if(h.length>1e3){i=b._FIND_MATCH_NO_OVERVIEW_DECORATION;const l=this._editor.getModel().getLineCount(),d=this._editor.getLayoutInfo().height/l,r=Math.max(2,Math.ceil(3/d));let s=h[0].range.startLineNumber,a=h[0].range.endLineNumber;for(let u=1,p=h.length;u<p;u++){const S=h[u].range;a+r>=S.startLineNumber?S.endLineNumber>a&&(a=S.endLineNumber):(n.push({range:new w.Range(s,1,a,1),options:b._FIND_MATCH_ONLY_OVERVIEW_DECORATION}),s=S.startLineNumber,a=S.endLineNumber)}n.push({range:new w.Range(s,1,a,1),options:b._FIND_MATCH_ONLY_OVERVIEW_DECORATION})}const o=new Array(h.length);for(let l=0,c=h.length;l<c;l++)o[l]={range:h[l].range,options:i};this._decorations=t.deltaDecorations(this._decorations,o),this._overviewRulerApproximateDecorations=t.deltaDecorations(this._overviewRulerApproximateDecorations,n),this._rangeHighlightDecorationId&&(t.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),this._findScopeDecorationIds.length&&(this._findScopeDecorationIds.forEach(l=>t.removeDecoration(l)),this._findScopeDecorationIds=[]),g?.length&&(this._findScopeDecorationIds=g.map(l=>t.addDecoration(l,b._FIND_SCOPE_DECORATION)))})}matchBeforePosition(h){if(this._decorations.length===0)return null;for(let g=this._decorations.length-1;g>=0;g--){const t=this._decorations[g],i=this._editor.getModel().getDecorationRange(t);if(!(!i||i.endLineNumber>h.lineNumber)){if(i.endLineNumber<h.lineNumber)return i;if(!(i.endColumn>h.column))return i}}return this._editor.getModel().getDecorationRange(this._decorations[this._decorations.length-1])}matchAfterPosition(h){if(this._decorations.length===0)return null;for(let g=0,t=this._decorations.length;g<t;g++){const i=this._decorations[g],n=this._editor.getModel().getDecorationRange(i);if(!(!n||n.startLineNumber<h.lineNumber)){if(n.startLineNumber>h.lineNumber)return n;if(!(n.startColumn<h.column))return n}}return this._editor.getModel().getDecorationRange(this._decorations[0])}_allDecorations(){let h=[];return h=h.concat(this._decorations),h=h.concat(this._overviewRulerApproximateDecorations),this._findScopeDecorationIds.length&&h.push(...this._findScopeDecorationIds),this._rangeHighlightDecorationId&&h.push(this._rangeHighlightDecorationId),h}}e.FindDecorations=b,b._CURRENT_FIND_MATCH_DECORATION=k.ModelDecorationOptions.register({description:"current-find-match",stickiness:1,zIndex:13,className:"currentFindMatch",showIfCollapsed:!0,overviewRuler:{color:(0,L.themeColorFromId)(D.overviewRulerFindMatchForeground),position:m.OverviewRulerLane.Center},minimap:{color:(0,L.themeColorFromId)(D.minimapFindMatch),position:m.MinimapPosition.Inline}}),b._FIND_MATCH_DECORATION=k.ModelDecorationOptions.register({description:"find-match",stickiness:1,zIndex:10,className:"findMatch",showIfCollapsed:!0,overviewRuler:{color:(0,L.themeColorFromId)(D.overviewRulerFindMatchForeground),position:m.OverviewRulerLane.Center},minimap:{color:(0,L.themeColorFromId)(D.minimapFindMatch),position:m.MinimapPosition.Inline}}),b._FIND_MATCH_NO_OVERVIEW_DECORATION=k.ModelDecorationOptions.register({description:"find-match-no-overview",stickiness:1,className:"findMatch",showIfCollapsed:!0}),b._FIND_MATCH_ONLY_OVERVIEW_DECORATION=k.ModelDecorationOptions.register({description:"find-match-only-overview",stickiness:1,overviewRuler:{color:(0,L.themeColorFromId)(D.overviewRulerFindMatchForeground),position:m.OverviewRulerLane.Center}}),b._RANGE_HIGHLIGHT_DECORATION=k.ModelDecorationOptions.register({description:"find-range-highlight",stickiness:1,className:"rangeHighlight",isWholeLine:!0}),b._FIND_SCOPE_DECORATION=k.ModelDecorationOptions.register({description:"find-scope",className:"findScope",isWholeLine:!0})}),define(se[177],re([1,0,18,10,2,110,11,3,24,159,771,466,467,15]),function(q,e,w,m,k,D,L,b,C,h,g,t,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindModelBoundToEditorModel=e.MATCHES_LIMIT=e.FIND_IDS=e.TogglePreserveCaseKeybinding=e.ToggleSearchScopeKeybinding=e.ToggleRegexKeybinding=e.ToggleWholeWordKeybinding=e.ToggleCaseSensitiveKeybinding=e.CONTEXT_REPLACE_INPUT_FOCUSED=e.CONTEXT_FIND_INPUT_FOCUSED=e.CONTEXT_FIND_WIDGET_NOT_VISIBLE=e.CONTEXT_FIND_WIDGET_VISIBLE=void 0,e.CONTEXT_FIND_WIDGET_VISIBLE=new n.RawContextKey("findWidgetVisible",!1),e.CONTEXT_FIND_WIDGET_NOT_VISIBLE=e.CONTEXT_FIND_WIDGET_VISIBLE.toNegated(),e.CONTEXT_FIND_INPUT_FOCUSED=new n.RawContextKey("findInputFocussed",!1),e.CONTEXT_REPLACE_INPUT_FOCUSED=new n.RawContextKey("replaceInputFocussed",!1),e.ToggleCaseSensitiveKeybinding={primary:545,mac:{primary:2593}},e.ToggleWholeWordKeybinding={primary:565,mac:{primary:2613}},e.ToggleRegexKeybinding={primary:560,mac:{primary:2608}},e.ToggleSearchScopeKeybinding={primary:554,mac:{primary:2602}},e.TogglePreserveCaseKeybinding={primary:558,mac:{primary:2606}},e.FIND_IDS={StartFindAction:"actions.find",StartFindWithSelection:"actions.findWithSelection",StartFindWithArgs:"editor.actions.findWithArgs",NextMatchFindAction:"editor.action.nextMatchFindAction",PreviousMatchFindAction:"editor.action.previousMatchFindAction",NextSelectionMatchFindAction:"editor.action.nextSelectionMatchFindAction",PreviousSelectionMatchFindAction:"editor.action.previousSelectionMatchFindAction",StartFindReplaceAction:"editor.action.startFindReplaceAction",CloseFindWidgetCommand:"closeFindWidget",ToggleCaseSensitiveCommand:"toggleFindCaseSensitive",ToggleWholeWordCommand:"toggleFindWholeWord",ToggleRegexCommand:"toggleFindRegex",ToggleSearchScopeCommand:"toggleFindInSelection",TogglePreserveCaseCommand:"togglePreserveCase",ReplaceOneAction:"editor.action.replaceOne",ReplaceAllAction:"editor.action.replaceAll",SelectAllMatchesAction:"editor.action.selectAllMatches"},e.MATCHES_LIMIT=19999;const o=240;class l{constructor(d,r){this._toDispose=new k.DisposableStore,this._editor=d,this._state=r,this._isDisposed=!1,this._startSearchingTimer=new m.TimeoutTimer,this._decorations=new g.FindDecorations(d),this._toDispose.add(this._decorations),this._updateDecorationsScheduler=new m.RunOnceScheduler(()=>this.research(!1),100),this._toDispose.add(this._updateDecorationsScheduler),this._toDispose.add(this._editor.onDidChangeCursorPosition(s=>{(s.reason===3||s.reason===5||s.reason===6)&&this._decorations.setStartPosition(this._editor.getPosition())})),this._ignoreModelContentChanged=!1,this._toDispose.add(this._editor.onDidChangeModelContent(s=>{this._ignoreModelContentChanged||(s.isFlush&&this._decorations.reset(),this._decorations.setStartPosition(this._editor.getPosition()),this._updateDecorationsScheduler.schedule())})),this._toDispose.add(this._state.onFindReplaceStateChange(s=>this._onStateChanged(s))),this.research(!1,this._state.searchScope)}dispose(){this._isDisposed=!0,(0,k.dispose)(this._startSearchingTimer),this._toDispose.dispose()}_onStateChanged(d){this._isDisposed||!this._editor.hasModel()||(d.searchString||d.isReplaceRevealed||d.isRegex||d.wholeWord||d.matchCase||d.searchScope)&&(this._editor.getModel().isTooLargeForSyncing()?(this._startSearchingTimer.cancel(),this._startSearchingTimer.setIfNotSet(()=>{d.searchScope?this.research(d.moveCursor,this._state.searchScope):this.research(d.moveCursor)},o)):d.searchScope?this.research(d.moveCursor,this._state.searchScope):this.research(d.moveCursor))}static _getSearchRange(d,r){return r||d.getFullModelRange()}research(d,r){let s=null;typeof r<"u"?r!==null&&(Array.isArray(r)?s=r:s=[r]):s=this._decorations.getFindScopes(),s!==null&&(s=s.map(S=>{if(S.startLineNumber!==S.endLineNumber){let f=S.endLineNumber;return S.endColumn===1&&(f=f-1),new b.Range(S.startLineNumber,1,f,this._editor.getModel().getLineMaxColumn(f))}return S}));const a=this._findMatches(s,!1,e.MATCHES_LIMIT);this._decorations.set(a,s);const u=this._editor.getSelection();let p=this._decorations.getCurrentMatchesPosition(u);if(p===0&&a.length>0){const S=(0,w.findFirstInSorted)(a.map(f=>f.range),f=>b.Range.compareRangesUsingStarts(f,u)>=0);p=S>0?S-1+1:p}this._state.changeMatchInfo(p,this._decorations.getCount(),void 0),d&&this._editor.getOption(36).cursorMoveOnType&&this._moveToNextMatch(this._decorations.getStartPosition())}_hasMatches(){return this._state.matchesCount>0}_cannotFind(){if(!this._hasMatches()){const d=this._decorations.getFindScope();return d&&this._editor.revealRangeInCenterIfOutsideViewport(d,0),!0}return!1}_setCurrentFindMatch(d){const r=this._decorations.setCurrentFindMatch(d);this._state.changeMatchInfo(r,this._decorations.getCount(),d),this._editor.setSelection(d),this._editor.revealRangeInCenterIfOutsideViewport(d,0)}_prevSearchPosition(d){const r=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0);let{lineNumber:s,column:a}=d;const u=this._editor.getModel();return r||a===1?(s===1?s=u.getLineCount():s--,a=u.getLineMaxColumn(s)):a--,new L.Position(s,a)}_moveToPrevMatch(d,r=!1){if(!this._state.canNavigateBack()){const _=this._decorations.matchAfterPosition(d);_&&this._setCurrentFindMatch(_);return}if(this._decorations.getCount()<e.MATCHES_LIMIT){let _=this._decorations.matchBeforePosition(d);_&&_.isEmpty()&&_.getStartPosition().equals(d)&&(d=this._prevSearchPosition(d),_=this._decorations.matchBeforePosition(d)),_&&this._setCurrentFindMatch(_);return}if(this._cannotFind())return;const s=this._decorations.getFindScope(),a=l._getSearchRange(this._editor.getModel(),s);a.getEndPosition().isBefore(d)&&(d=a.getEndPosition()),d.isBefore(a.getStartPosition())&&(d=a.getEndPosition());const{lineNumber:u,column:p}=d,S=this._editor.getModel();let f=new L.Position(u,p),v=S.findPreviousMatch(this._state.searchString,f,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(119):null,!1);if(v&&v.range.isEmpty()&&v.range.getStartPosition().equals(f)&&(f=this._prevSearchPosition(f),v=S.findPreviousMatch(this._state.searchString,f,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(119):null,!1)),!!v){if(!r&&!a.containsRange(v.range))return this._moveToPrevMatch(v.range.getStartPosition(),!0);this._setCurrentFindMatch(v.range)}}moveToPrevMatch(){this._moveToPrevMatch(this._editor.getSelection().getStartPosition())}_nextSearchPosition(d){const r=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0);let{lineNumber:s,column:a}=d;const u=this._editor.getModel();return r||a===u.getLineMaxColumn(s)?(s===u.getLineCount()?s=1:s++,a=1):a++,new L.Position(s,a)}_moveToNextMatch(d){if(!this._state.canNavigateForward()){const s=this._decorations.matchBeforePosition(d);s&&this._setCurrentFindMatch(s);return}if(this._decorations.getCount()<e.MATCHES_LIMIT){let s=this._decorations.matchAfterPosition(d);s&&s.isEmpty()&&s.getStartPosition().equals(d)&&(d=this._nextSearchPosition(d),s=this._decorations.matchAfterPosition(d)),s&&this._setCurrentFindMatch(s);return}const r=this._getNextMatch(d,!1,!0);r&&this._setCurrentFindMatch(r.range)}_getNextMatch(d,r,s,a=!1){if(this._cannotFind())return null;const u=this._decorations.getFindScope(),p=l._getSearchRange(this._editor.getModel(),u);p.getEndPosition().isBefore(d)&&(d=p.getStartPosition()),d.isBefore(p.getStartPosition())&&(d=p.getStartPosition());const{lineNumber:S,column:f}=d,v=this._editor.getModel();let _=new L.Position(S,f),y=v.findNextMatch(this._state.searchString,_,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(119):null,r);return s&&y&&y.range.isEmpty()&&y.range.getStartPosition().equals(_)&&(_=this._nextSearchPosition(_),y=v.findNextMatch(this._state.searchString,_,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(119):null,r)),y?!a&&!p.containsRange(y.range)?this._getNextMatch(y.range.getEndPosition(),r,s,!0):y:null}moveToNextMatch(){this._moveToNextMatch(this._editor.getSelection().getEndPosition())}_getReplacePattern(){return this._state.isRegex?(0,i.parseReplaceString)(this._state.replaceString):i.ReplacePattern.fromStaticValue(this._state.replaceString)}replace(){if(!this._hasMatches())return;const d=this._getReplacePattern(),r=this._editor.getSelection(),s=this._getNextMatch(r.getStartPosition(),!0,!1);if(s)if(r.equalsRange(s.range)){const a=d.buildReplaceString(s.matches,this._state.preserveCase),u=new D.ReplaceCommand(r,a);this._executeEditorCommand("replace",u),this._decorations.setStartPosition(new L.Position(r.startLineNumber,r.startColumn+a.length)),this.research(!0)}else this._decorations.setStartPosition(this._editor.getPosition()),this._setCurrentFindMatch(s.range)}_findMatches(d,r,s){const a=(d||[null]).map(u=>l._getSearchRange(this._editor.getModel(),u));return this._editor.getModel().findMatches(this._state.searchString,a,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(119):null,r,s)}replaceAll(){if(!this._hasMatches())return;const d=this._decorations.getFindScopes();d===null&&this._state.matchesCount>=e.MATCHES_LIMIT?this._largeReplaceAll():this._regularReplaceAll(d),this.research(!1)}_largeReplaceAll(){const r=new h.SearchParams(this._state.searchString,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(119):null).parseSearchRequest();if(!r)return;let s=r.regex;if(!s.multiline){let y="mu";s.ignoreCase&&(y+="i"),s.global&&(y+="g"),s=new RegExp(s.source,y)}const a=this._editor.getModel(),u=a.getValue(1),p=a.getFullModelRange(),S=this._getReplacePattern();let f;const v=this._state.preserveCase;S.hasReplacementPatterns||v?f=u.replace(s,function(){return S.buildReplaceString(arguments,v)}):f=u.replace(s,S.buildReplaceString(null,v));const _=new D.ReplaceCommandThatPreservesSelection(p,f,this._editor.getSelection());this._executeEditorCommand("replaceAll",_)}_regularReplaceAll(d){const r=this._getReplacePattern(),s=this._findMatches(d,r.hasReplacementPatterns||this._state.preserveCase,1073741824),a=[];for(let p=0,S=s.length;p<S;p++)a[p]=r.buildReplaceString(s[p].matches,this._state.preserveCase);const u=new t.ReplaceAllCommand(this._editor.getSelection(),s.map(p=>p.range),a);this._executeEditorCommand("replaceAll",u)}selectAllMatches(){if(!this._hasMatches())return;const d=this._decorations.getFindScopes();let s=this._findMatches(d,!1,1073741824).map(u=>new C.Selection(u.range.startLineNumber,u.range.startColumn,u.range.endLineNumber,u.range.endColumn));const a=this._editor.getSelection();for(let u=0,p=s.length;u<p;u++)if(s[u].equalsRange(a)){s=[a].concat(s.slice(0,u)).concat(s.slice(u+1));break}this._editor.setSelections(s)}_executeEditorCommand(d,r){try{this._ignoreModelContentChanged=!0,this._editor.pushUndoStop(),this._editor.executeCommand(d,r),this._editor.pushUndoStop()}finally{this._ignoreModelContentChanged=!1}}}e.FindModelBoundToEditorModel=l}),define(se[772],re([1,0,7,268,66,10,177,23,16]),function(q,e,w,m,k,D,L,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindOptionsWidget=void 0;class h extends k.Widget{constructor(t,i,n,o){super(),this._hideSoon=this._register(new D.RunOnceScheduler(()=>this._hide(),2e3)),this._isVisible=!1,this._editor=t,this._state=i,this._keybindingService=n,this._domNode=document.createElement("div"),this._domNode.className="findOptionsWidget",this._domNode.style.display="none",this._domNode.style.top="10px",this._domNode.style.zIndex="12",this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true");const l=o.getColorTheme().getColor(b.inputActiveOptionBorder),c=o.getColorTheme().getColor(b.inputActiveOptionForeground),d=o.getColorTheme().getColor(b.inputActiveOptionBackground);this.caseSensitive=this._register(new m.CaseSensitiveToggle({appendTitle:this._keybindingLabelFor(L.FIND_IDS.ToggleCaseSensitiveCommand),isChecked:this._state.matchCase,inputActiveOptionBorder:l,inputActiveOptionForeground:c,inputActiveOptionBackground:d})),this._domNode.appendChild(this.caseSensitive.domNode),this._register(this.caseSensitive.onChange(()=>{this._state.change({matchCase:this.caseSensitive.checked},!1)})),this.wholeWords=this._register(new m.WholeWordsToggle({appendTitle:this._keybindingLabelFor(L.FIND_IDS.ToggleWholeWordCommand),isChecked:this._state.wholeWord,inputActiveOptionBorder:l,inputActiveOptionForeground:c,inputActiveOptionBackground:d})),this._domNode.appendChild(this.wholeWords.domNode),this._register(this.wholeWords.onChange(()=>{this._state.change({wholeWord:this.wholeWords.checked},!1)})),this.regex=this._register(new m.RegexToggle({appendTitle:this._keybindingLabelFor(L.FIND_IDS.ToggleRegexCommand),isChecked:this._state.isRegex,inputActiveOptionBorder:l,inputActiveOptionForeground:c,inputActiveOptionBackground:d})),this._domNode.appendChild(this.regex.domNode),this._register(this.regex.onChange(()=>{this._state.change({isRegex:this.regex.checked},!1)})),this._editor.addOverlayWidget(this),this._register(this._state.onFindReplaceStateChange(r=>{let s=!1;r.isRegex&&(this.regex.checked=this._state.isRegex,s=!0),r.wholeWord&&(this.wholeWords.checked=this._state.wholeWord,s=!0),r.matchCase&&(this.caseSensitive.checked=this._state.matchCase,s=!0),!this._state.isRevealed&&s&&this._revealTemporarily()})),this._register(w.addDisposableListener(this._domNode,w.EventType.MOUSE_LEAVE,r=>this._onMouseLeave())),this._register(w.addDisposableListener(this._domNode,"mouseover",r=>this._onMouseOver())),this._applyTheme(o.getColorTheme()),this._register(o.onDidColorThemeChange(this._applyTheme.bind(this)))}_keybindingLabelFor(t){const i=this._keybindingService.lookupKeybinding(t);return i?` (${i.getLabel()})`:""}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return h.ID}getDomNode(){return this._domNode}getPosition(){return{preference:0}}highlightFindOptions(){this._revealTemporarily()}_revealTemporarily(){this._show(),this._hideSoon.schedule()}_onMouseLeave(){this._hideSoon.schedule()}_onMouseOver(){this._hideSoon.cancel()}_show(){this._isVisible||(this._isVisible=!0,this._domNode.style.display="block")}_hide(){!this._isVisible||(this._isVisible=!1,this._domNode.style.display="none")}_applyTheme(t){const i={inputActiveOptionBorder:t.getColor(b.inputActiveOptionBorder),inputActiveOptionForeground:t.getColor(b.inputActiveOptionForeground),inputActiveOptionBackground:t.getColor(b.inputActiveOptionBackground)};this.caseSensitive.style(i),this.wholeWords.style(i),this.regex.style(i)}}e.FindOptionsWidget=h,h.ID="editor.contrib.findOptionsWidget",(0,C.registerThemingParticipant)((g,t)=>{const i=g.getColor(b.editorWidgetBackground);i&&t.addRule(`.monaco-editor .findOptionsWidget { background-color: ${i}; }`);const n=g.getColor(b.editorWidgetForeground);n&&t.addRule(`.monaco-editor .findOptionsWidget { color: ${n}; }`);const o=g.getColor(b.widgetShadow);o&&t.addRule(`.monaco-editor .findOptionsWidget { box-shadow: 0 0 8px 2px ${o}; }`);const l=g.getColor(b.contrastBorder);l&&t.addRule(`.monaco-editor .findOptionsWidget { border: 2px solid ${l}; }`)})}),define(se[773],re([1,0,6,2,3,177]),function(q,e,w,m,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindReplaceState=void 0;function L(C,h){return C===1?!0:C===2?!1:h}class b extends m.Disposable{get searchString(){return this._searchString}get replaceString(){return this._replaceString}get isRevealed(){return this._isRevealed}get isReplaceRevealed(){return this._isReplaceRevealed}get isRegex(){return L(this._isRegexOverride,this._isRegex)}get wholeWord(){return L(this._wholeWordOverride,this._wholeWord)}get matchCase(){return L(this._matchCaseOverride,this._matchCase)}get preserveCase(){return L(this._preserveCaseOverride,this._preserveCase)}get actualIsRegex(){return this._isRegex}get actualWholeWord(){return this._wholeWord}get actualMatchCase(){return this._matchCase}get actualPreserveCase(){return this._preserveCase}get searchScope(){return this._searchScope}get matchesPosition(){return this._matchesPosition}get matchesCount(){return this._matchesCount}get currentMatch(){return this._currentMatch}constructor(){super(),this._onFindReplaceStateChange=this._register(new w.Emitter),this.onFindReplaceStateChange=this._onFindReplaceStateChange.event,this._searchString="",this._replaceString="",this._isRevealed=!1,this._isReplaceRevealed=!1,this._isRegex=!1,this._isRegexOverride=0,this._wholeWord=!1,this._wholeWordOverride=0,this._matchCase=!1,this._matchCaseOverride=0,this._preserveCase=!1,this._preserveCaseOverride=0,this._searchScope=null,this._matchesPosition=0,this._matchesCount=0,this._currentMatch=null,this._loop=!0,this._isSearching=!1,this._filters=null}changeMatchInfo(h,g,t){const i={moveCursor:!1,updateHistory:!1,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1};let n=!1;g===0&&(h=0),h>g&&(h=g),this._matchesPosition!==h&&(this._matchesPosition=h,i.matchesPosition=!0,n=!0),this._matchesCount!==g&&(this._matchesCount=g,i.matchesCount=!0,n=!0),typeof t<"u"&&(k.Range.equalsRange(this._currentMatch,t)||(this._currentMatch=t,i.currentMatch=!0,n=!0)),n&&this._onFindReplaceStateChange.fire(i)}change(h,g,t=!0){var i;const n={moveCursor:g,updateHistory:t,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1};let o=!1;const l=this.isRegex,c=this.wholeWord,d=this.matchCase,r=this.preserveCase;typeof h.searchString<"u"&&this._searchString!==h.searchString&&(this._searchString=h.searchString,n.searchString=!0,o=!0),typeof h.replaceString<"u"&&this._replaceString!==h.replaceString&&(this._replaceString=h.replaceString,n.replaceString=!0,o=!0),typeof h.isRevealed<"u"&&this._isRevealed!==h.isRevealed&&(this._isRevealed=h.isRevealed,n.isRevealed=!0,o=!0),typeof h.isReplaceRevealed<"u"&&this._isReplaceRevealed!==h.isReplaceRevealed&&(this._isReplaceRevealed=h.isReplaceRevealed,n.isReplaceRevealed=!0,o=!0),typeof h.isRegex<"u"&&(this._isRegex=h.isRegex),typeof h.wholeWord<"u"&&(this._wholeWord=h.wholeWord),typeof h.matchCase<"u"&&(this._matchCase=h.matchCase),typeof h.preserveCase<"u"&&(this._preserveCase=h.preserveCase),typeof h.searchScope<"u"&&(!((i=h.searchScope)===null||i===void 0)&&i.every(s=>{var a;return(a=this._searchScope)===null||a===void 0?void 0:a.some(u=>!k.Range.equalsRange(u,s))})||(this._searchScope=h.searchScope,n.searchScope=!0,o=!0)),typeof h.loop<"u"&&this._loop!==h.loop&&(this._loop=h.loop,n.loop=!0,o=!0),typeof h.isSearching<"u"&&this._isSearching!==h.isSearching&&(this._isSearching=h.isSearching,n.isSearching=!0,o=!0),typeof h.filters<"u"&&(this._filters?this._filters.update(h.filters):this._filters=h.filters,n.filters=!0,o=!0),this._isRegexOverride=typeof h.isRegexOverride<"u"?h.isRegexOverride:0,this._wholeWordOverride=typeof h.wholeWordOverride<"u"?h.wholeWordOverride:0,this._matchCaseOverride=typeof h.matchCaseOverride<"u"?h.matchCaseOverride:0,this._preserveCaseOverride=typeof h.preserveCaseOverride<"u"?h.preserveCaseOverride:0,l!==this.isRegex&&(o=!0,n.isRegex=!0),c!==this.wholeWord&&(o=!0,n.wholeWord=!0),d!==this.matchCase&&(o=!0,n.matchCase=!0),r!==this.preserveCase&&(o=!0,n.preserveCase=!0),o&&this._onFindReplaceStateChange.fire(n)}canNavigateBack(){return this.canNavigateInLoop()||this.matchesPosition!==1}canNavigateForward(){return this.canNavigateInLoop()||this.matchesPosition<this.matchesCount}canNavigateInLoop(){return this._loop||this.matchesCount>=D.MATCHES_LIMIT}}e.FindReplaceState=b}),define(se[774],re([1,0,7,50,163,137,66,10,27,14,2,17,8,3,177,575,300,649,23,82,16,53,19,387]),function(q,e,w,m,k,D,L,b,C,h,g,t,i,n,o,l,c,d,r,s,a,u,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SimpleButton=e.FindWidget=e.FindWidgetViewZone=e.NLS_NO_RESULTS=e.NLS_MATCHES_LOCATION=e.findNextMatchIcon=e.findPreviousMatchIcon=e.findReplaceAllIcon=e.findReplaceIcon=void 0;const S=(0,s.registerIcon)("find-selection",C.Codicon.selection,l.localize(0,null)),f=(0,s.registerIcon)("find-collapsed",C.Codicon.chevronRight,l.localize(1,null)),v=(0,s.registerIcon)("find-expanded",C.Codicon.chevronDown,l.localize(2,null));e.findReplaceIcon=(0,s.registerIcon)("find-replace",C.Codicon.replace,l.localize(3,null)),e.findReplaceAllIcon=(0,s.registerIcon)("find-replace-all",C.Codicon.replaceAll,l.localize(4,null)),e.findPreviousMatchIcon=(0,s.registerIcon)("find-previous-match",C.Codicon.arrowUp,l.localize(5,null)),e.findNextMatchIcon=(0,s.registerIcon)("find-next-match",C.Codicon.arrowDown,l.localize(6,null));const _=l.localize(7,null),y=l.localize(8,null),E=l.localize(9,null),T=l.localize(10,null),I=l.localize(11,null),R=l.localize(12,null),F=l.localize(13,null),O=l.localize(14,null),M=l.localize(15,null),N=l.localize(16,null),A=l.localize(17,null),B=l.localize(18,null,o.MATCHES_LIMIT);e.NLS_MATCHES_LOCATION=l.localize(19,null),e.NLS_NO_RESULTS=l.localize(20,null);const W=419,P=275-54;let X=69;const ie=33,K="ctrlEnterReplaceAll.windows.donotask",G=t.isMacintosh?256:2048;class Q{constructor($){this.afterLineNumber=$,this.heightInPx=ie,this.suppressMouseDown=!1,this.domNode=document.createElement("div"),this.domNode.className="dock-find-viewzone"}}e.FindWidgetViewZone=Q;function ne(V,$,oe){const U=!!$.match(/\n/);if(oe&&U&&oe.selectionStart>0){V.stopPropagation();return}}function Z(V,$,oe){const U=!!$.match(/\n/);if(oe&&U&&oe.selectionEnd<oe.value.length){V.stopPropagation();return}}class ee extends L.Widget{constructor($,oe,U,ae,z,J,Y,H,j){super(),this._cachedHeight=null,this._revealTimeouts=[],this._codeEditor=$,this._controller=oe,this._state=U,this._contextViewProvider=ae,this._keybindingService=z,this._contextKeyService=J,this._storageService=H,this._notificationService=j,this._ctrlEnterReplaceAllWarningPrompted=!!H.getBoolean(K,0),this._isVisible=!1,this._isReplaceVisible=!1,this._ignoreChangeEvent=!1,this._updateHistoryDelayer=new b.Delayer(500),this._register((0,g.toDisposable)(()=>this._updateHistoryDelayer.cancel())),this._register(this._state.onFindReplaceStateChange(de=>this._onStateChanged(de))),this._buildDomNode(),this._updateButtons(),this._tryUpdateWidgetWidth(),this._findInput.inputBox.layout(),this._register(this._codeEditor.onDidChangeConfiguration(de=>{if(de.hasChanged(82)&&(this._codeEditor.getOption(82)&&this._state.change({isReplaceRevealed:!1},!1),this._updateButtons()),de.hasChanged(133)&&this._tryUpdateWidgetWidth(),de.hasChanged(2)&&this.updateAccessibilitySupport(),de.hasChanged(36)){const ue=this._codeEditor.getOption(36).addExtraSpaceOnTop;ue&&!this._viewZone&&(this._viewZone=new Q(0),this._showViewZone()),!ue&&this._viewZone&&this._removeViewZone()}})),this.updateAccessibilitySupport(),this._register(this._codeEditor.onDidChangeCursorSelection(()=>{this._isVisible&&this._updateToggleSelectionFindButton()})),this._register(this._codeEditor.onDidFocusEditorWidget(()=>Se(this,void 0,void 0,function*(){if(this._isVisible){const de=yield this._controller.getGlobalBufferTerm();de&&de!==this._state.searchString&&(this._state.change({searchString:de},!1),this._findInput.select())}}))),this._findInputFocused=o.CONTEXT_FIND_INPUT_FOCUSED.bindTo(J),this._findFocusTracker=this._register(w.trackFocus(this._findInput.inputBox.inputElement)),this._register(this._findFocusTracker.onDidFocus(()=>{this._findInputFocused.set(!0),this._updateSearchScope()})),this._register(this._findFocusTracker.onDidBlur(()=>{this._findInputFocused.set(!1)})),this._replaceInputFocused=o.CONTEXT_REPLACE_INPUT_FOCUSED.bindTo(J),this._replaceFocusTracker=this._register(w.trackFocus(this._replaceInput.inputBox.inputElement)),this._register(this._replaceFocusTracker.onDidFocus(()=>{this._replaceInputFocused.set(!0),this._updateSearchScope()})),this._register(this._replaceFocusTracker.onDidBlur(()=>{this._replaceInputFocused.set(!1)})),this._codeEditor.addOverlayWidget(this),this._codeEditor.getOption(36).addExtraSpaceOnTop&&(this._viewZone=new Q(0)),this._applyTheme(Y.getColorTheme()),this._register(Y.onDidColorThemeChange(this._applyTheme.bind(this))),this._register(this._codeEditor.onDidChangeModel(()=>{!this._isVisible||(this._viewZoneId=void 0)})),this._register(this._codeEditor.onDidScrollChange(de=>{if(de.scrollTopChanged){this._layoutViewZone();return}setTimeout(()=>{this._layoutViewZone()},0)}))}getId(){return ee.ID}getDomNode(){return this._domNode}getPosition(){return this._isVisible?{preference:0}:null}_onStateChanged($){if($.searchString){try{this._ignoreChangeEvent=!0,this._findInput.setValue(this._state.searchString)}finally{this._ignoreChangeEvent=!1}this._updateButtons()}if($.replaceString&&(this._replaceInput.inputBox.value=this._state.replaceString),$.isRevealed&&(this._state.isRevealed?this._reveal():this._hide(!0)),$.isReplaceRevealed&&(this._state.isReplaceRevealed?!this._codeEditor.getOption(82)&&!this._isReplaceVisible&&(this._isReplaceVisible=!0,this._replaceInput.width=w.getTotalWidth(this._findInput.domNode),this._updateButtons(),this._replaceInput.inputBox.layout()):this._isReplaceVisible&&(this._isReplaceVisible=!1,this._updateButtons())),($.isRevealed||$.isReplaceRevealed)&&(this._state.isRevealed||this._state.isReplaceRevealed)&&this._tryUpdateHeight()&&this._showViewZone(),$.isRegex&&this._findInput.setRegex(this._state.isRegex),$.wholeWord&&this._findInput.setWholeWords(this._state.wholeWord),$.matchCase&&this._findInput.setCaseSensitive(this._state.matchCase),$.preserveCase&&this._replaceInput.setPreserveCase(this._state.preserveCase),$.searchScope&&(this._state.searchScope?this._toggleSelectionFind.checked=!0:this._toggleSelectionFind.checked=!1,this._updateToggleSelectionFindButton()),$.searchString||$.matchesCount||$.matchesPosition){const oe=this._state.searchString.length>0&&this._state.matchesCount===0;this._domNode.classList.toggle("no-results",oe),this._updateMatchesCount(),this._updateButtons()}($.searchString||$.currentMatch)&&this._layoutViewZone(),$.updateHistory&&this._delayedUpdateHistory(),$.loop&&this._updateButtons()}_delayedUpdateHistory(){this._updateHistoryDelayer.trigger(this._updateHistory.bind(this)).then(void 0,h.onUnexpectedError)}_updateHistory(){this._state.searchString&&this._findInput.inputBox.addToHistory(),this._state.replaceString&&this._replaceInput.inputBox.addToHistory()}_updateMatchesCount(){this._matchesCount.style.minWidth=X+"px",this._state.matchesCount>=o.MATCHES_LIMIT?this._matchesCount.title=B:this._matchesCount.title="",this._matchesCount.firstChild&&this._matchesCount.removeChild(this._matchesCount.firstChild);let $;if(this._state.matchesCount>0){let oe=String(this._state.matchesCount);this._state.matchesCount>=o.MATCHES_LIMIT&&(oe+="+");let U=String(this._state.matchesPosition);U==="0"&&(U="?"),$=i.format(e.NLS_MATCHES_LOCATION,U,oe)}else $=e.NLS_NO_RESULTS;this._matchesCount.appendChild(document.createTextNode($)),(0,m.alert)(this._getAriaLabel($,this._state.currentMatch,this._state.searchString)),X=Math.max(X,this._matchesCount.clientWidth)}_getAriaLabel($,oe,U){if($===e.NLS_NO_RESULTS)return U===""?l.localize(21,null,$):l.localize(22,null,$,U);if(oe){const ae=l.localize(23,null,$,U,oe.startLineNumber+":"+oe.startColumn),z=this._codeEditor.getModel();return z&&oe.startLineNumber<=z.getLineCount()&&oe.startLineNumber>=1?`${z.getLineContent(oe.startLineNumber)}, ${ae}`:ae}return l.localize(24,null,$,U)}_updateToggleSelectionFindButton(){const $=this._codeEditor.getSelection(),oe=$?$.startLineNumber!==$.endLineNumber||$.startColumn!==$.endColumn:!1,U=this._toggleSelectionFind.checked;this._isVisible&&(U||oe)?this._toggleSelectionFind.enable():this._toggleSelectionFind.disable()}_updateButtons(){this._findInput.setEnabled(this._isVisible),this._replaceInput.setEnabled(this._isVisible&&this._isReplaceVisible),this._updateToggleSelectionFindButton(),this._closeBtn.setEnabled(this._isVisible);const $=this._state.searchString.length>0,oe=!!this._state.matchesCount;this._prevBtn.setEnabled(this._isVisible&&$&&oe&&this._state.canNavigateBack()),this._nextBtn.setEnabled(this._isVisible&&$&&oe&&this._state.canNavigateForward()),this._replaceBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&$),this._replaceAllBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&$),this._domNode.classList.toggle("replaceToggled",this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);const U=!this._codeEditor.getOption(82);this._toggleReplaceBtn.setEnabled(this._isVisible&&U)}_reveal(){if(this._revealTimeouts.forEach($=>{clearTimeout($)}),this._revealTimeouts=[],!this._isVisible){this._isVisible=!0;const $=this._codeEditor.getSelection();switch(this._codeEditor.getOption(36).autoFindInSelection){case"always":this._toggleSelectionFind.checked=!0;break;case"never":this._toggleSelectionFind.checked=!1;break;case"multiline":{const U=!!$&&$.startLineNumber!==$.endLineNumber;this._toggleSelectionFind.checked=U;break}default:break}this._tryUpdateWidgetWidth(),this._updateButtons(),this._revealTimeouts.push(setTimeout(()=>{this._domNode.classList.add("visible"),this._domNode.setAttribute("aria-hidden","false")},0)),this._revealTimeouts.push(setTimeout(()=>{this._findInput.validate()},200)),this._codeEditor.layoutOverlayWidget(this);let oe=!0;if(this._codeEditor.getOption(36).seedSearchStringFromSelection&&$){const U=this._codeEditor.getDomNode();if(U){const ae=w.getDomNodePagePosition(U),z=this._codeEditor.getScrolledVisiblePosition($.getStartPosition()),J=ae.left+(z?z.left:0),Y=z?z.top:0;if(this._viewZone&&Y<this._viewZone.heightInPx){$.endLineNumber>$.startLineNumber&&(oe=!1);const H=w.getTopLeftOffset(this._domNode).left;J>H&&(oe=!1);const j=this._codeEditor.getScrolledVisiblePosition($.getEndPosition());ae.left+(j?j.left:0)>H&&(oe=!1)}}}this._showViewZone(oe)}}_hide($){this._revealTimeouts.forEach(oe=>{clearTimeout(oe)}),this._revealTimeouts=[],this._isVisible&&(this._isVisible=!1,this._updateButtons(),this._domNode.classList.remove("visible"),this._domNode.setAttribute("aria-hidden","true"),this._findInput.clearMessage(),$&&this._codeEditor.focus(),this._codeEditor.layoutOverlayWidget(this),this._removeViewZone())}_layoutViewZone($){if(!this._codeEditor.getOption(36).addExtraSpaceOnTop){this._removeViewZone();return}if(!this._isVisible)return;const U=this._viewZone;this._viewZoneId!==void 0||!U||this._codeEditor.changeViewZones(ae=>{U.heightInPx=this._getHeight(),this._viewZoneId=ae.addZone(U),this._codeEditor.setScrollTop($||this._codeEditor.getScrollTop()+U.heightInPx)})}_showViewZone($=!0){if(!this._isVisible||!this._codeEditor.getOption(36).addExtraSpaceOnTop)return;this._viewZone===void 0&&(this._viewZone=new Q(0));const U=this._viewZone;this._codeEditor.changeViewZones(ae=>{if(this._viewZoneId!==void 0){const z=this._getHeight();if(z===U.heightInPx)return;const J=z-U.heightInPx;U.heightInPx=z,ae.layoutZone(this._viewZoneId),$&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+J);return}else{let z=this._getHeight();if(z-=this._codeEditor.getOption(76).top,z<=0)return;U.heightInPx=z,this._viewZoneId=ae.addZone(U),$&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+z)}})}_removeViewZone(){this._codeEditor.changeViewZones($=>{this._viewZoneId!==void 0&&($.removeZone(this._viewZoneId),this._viewZoneId=void 0,this._viewZone&&(this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()-this._viewZone.heightInPx),this._viewZone=void 0))})}_applyTheme($){const oe={inputActiveOptionBorder:$.getColor(r.inputActiveOptionBorder),inputActiveOptionBackground:$.getColor(r.inputActiveOptionBackground),inputActiveOptionForeground:$.getColor(r.inputActiveOptionForeground),inputBackground:$.getColor(r.inputBackground),inputForeground:$.getColor(r.inputForeground),inputBorder:$.getColor(r.inputBorder),inputValidationInfoBackground:$.getColor(r.inputValidationInfoBackground),inputValidationInfoForeground:$.getColor(r.inputValidationInfoForeground),inputValidationInfoBorder:$.getColor(r.inputValidationInfoBorder),inputValidationWarningBackground:$.getColor(r.inputValidationWarningBackground),inputValidationWarningForeground:$.getColor(r.inputValidationWarningForeground),inputValidationWarningBorder:$.getColor(r.inputValidationWarningBorder),inputValidationErrorBackground:$.getColor(r.inputValidationErrorBackground),inputValidationErrorForeground:$.getColor(r.inputValidationErrorForeground),inputValidationErrorBorder:$.getColor(r.inputValidationErrorBorder)};this._findInput.style(oe),this._replaceInput.style(oe),this._toggleSelectionFind.style(oe)}_tryUpdateWidgetWidth(){if(!this._isVisible||!w.isInDOM(this._domNode))return;const $=this._codeEditor.getLayoutInfo();if($.contentWidth<=0){this._domNode.classList.add("hiddenEditor");return}else this._domNode.classList.contains("hiddenEditor")&&this._domNode.classList.remove("hiddenEditor");const U=$.width,ae=$.minimap.minimapWidth;let z=!1,J=!1,Y=!1;if(this._resized&&w.getTotalWidth(this._domNode)>W){this._domNode.style.maxWidth=`${U-28-ae-15}px`,this._replaceInput.width=w.getTotalWidth(this._findInput.domNode);return}if(W+28+ae>=U&&(J=!0),W+28+ae-X>=U&&(Y=!0),W+28+ae-X>=U+50&&(z=!0),this._domNode.classList.toggle("collapsed-find-widget",z),this._domNode.classList.toggle("narrow-find-widget",Y),this._domNode.classList.toggle("reduced-find-widget",J),!Y&&!z&&(this._domNode.style.maxWidth=`${U-28-ae-15}px`),this._resized){this._findInput.inputBox.layout();const H=this._findInput.inputBox.element.clientWidth;H>0&&(this._replaceInput.width=H)}else this._isReplaceVisible&&(this._replaceInput.width=w.getTotalWidth(this._findInput.domNode))}_getHeight(){let $=0;return $+=4,$+=this._findInput.inputBox.height+2,this._isReplaceVisible&&($+=4,$+=this._replaceInput.inputBox.height+2),$+=4,$}_tryUpdateHeight(){const $=this._getHeight();return this._cachedHeight!==null&&this._cachedHeight===$?!1:(this._cachedHeight=$,this._domNode.style.height=`${$}px`,!0)}focusFindInput(){this._findInput.select(),this._findInput.focus()}focusReplaceInput(){this._replaceInput.select(),this._replaceInput.focus()}highlightFindOptions(){this._findInput.highlightFindOptions()}_updateSearchScope(){if(!!this._codeEditor.hasModel()&&this._toggleSelectionFind.checked){const $=this._codeEditor.getSelections();$.map(oe=>{oe.endColumn===1&&oe.endLineNumber>oe.startLineNumber&&(oe=oe.setEndPosition(oe.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(oe.endLineNumber-1)));const U=this._state.currentMatch;return oe.startLineNumber!==oe.endLineNumber&&!n.Range.equalsRange(oe,U)?oe:null}).filter(oe=>!!oe),$.length&&this._state.change({searchScope:$},!0)}}_onFindInputMouseDown($){$.middleButton&&$.stopPropagation()}_onFindInputKeyDown($){if($.equals(G|3))if(this._keybindingService.dispatchEvent($,$.target)){$.preventDefault();return}else{this._findInput.inputBox.insertAtCursor(`
`),$.preventDefault();return}if($.equals(2)){this._isReplaceVisible?this._replaceInput.focus():this._findInput.focusOnCaseSensitive(),$.preventDefault();return}if($.equals(2066)){this._codeEditor.focus(),$.preventDefault();return}if($.equals(16))return ne($,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"));if($.equals(18))return Z($,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"))}_onReplaceInputKeyDown($){if($.equals(G|3))if(this._keybindingService.dispatchEvent($,$.target)){$.preventDefault();return}else{t.isWindows&&t.isNative&&!this._ctrlEnterReplaceAllWarningPrompted&&(this._notificationService.info(l.localize(25,null)),this._ctrlEnterReplaceAllWarningPrompted=!0,this._storageService.store(K,!0,0,0)),this._replaceInput.inputBox.insertAtCursor(`
`),$.preventDefault();return}if($.equals(2)){this._findInput.focusOnCaseSensitive(),$.preventDefault();return}if($.equals(1026)){this._findInput.focus(),$.preventDefault();return}if($.equals(2066)){this._codeEditor.focus(),$.preventDefault();return}if($.equals(16))return ne($,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"));if($.equals(18))return Z($,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"))}getVerticalSashLeft($){return 0}_keybindingLabelFor($){const oe=this._keybindingService.lookupKeybinding($);return oe?` (${oe.getLabel()})`:""}_buildDomNode(){this._findInput=this._register(new c.ContextScopedFindInput(null,this._contextViewProvider,{width:P,label:_,placeholder:y,appendCaseSensitiveLabel:this._keybindingLabelFor(o.FIND_IDS.ToggleCaseSensitiveCommand),appendWholeWordsLabel:this._keybindingLabelFor(o.FIND_IDS.ToggleWholeWordCommand),appendRegexLabel:this._keybindingLabelFor(o.FIND_IDS.ToggleRegexCommand),validation:H=>{if(H.length===0||!this._findInput.getRegex())return null;try{return new RegExp(H,"gu"),null}catch(j){return{content:j.message}}},flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showCommonFindToggles:!0,showHistoryHint:()=>(0,d.showHistoryKeybindingHint)(this._keybindingService)},this._contextKeyService)),this._findInput.setRegex(!!this._state.isRegex),this._findInput.setCaseSensitive(!!this._state.matchCase),this._findInput.setWholeWords(!!this._state.wholeWord),this._register(this._findInput.onKeyDown(H=>this._onFindInputKeyDown(H))),this._register(this._findInput.inputBox.onDidChange(()=>{this._ignoreChangeEvent||this._state.change({searchString:this._findInput.getValue()},!0)})),this._register(this._findInput.onDidOptionChange(()=>{this._state.change({isRegex:this._findInput.getRegex(),wholeWord:this._findInput.getWholeWords(),matchCase:this._findInput.getCaseSensitive()},!0)})),this._register(this._findInput.onCaseSensitiveKeyDown(H=>{H.equals(1026)&&this._isReplaceVisible&&(this._replaceInput.focus(),H.preventDefault())})),this._register(this._findInput.onRegexKeyDown(H=>{H.equals(2)&&this._isReplaceVisible&&(this._replaceInput.focusOnPreserve(),H.preventDefault())})),this._register(this._findInput.inputBox.onDidHeightChange(H=>{this._tryUpdateHeight()&&this._showViewZone()})),t.isLinux&&this._register(this._findInput.onMouseDown(H=>this._onFindInputMouseDown(H))),this._matchesCount=document.createElement("div"),this._matchesCount.className="matchesCount",this._updateMatchesCount(),this._prevBtn=this._register(new le({label:E+this._keybindingLabelFor(o.FIND_IDS.PreviousMatchFindAction),icon:e.findPreviousMatchIcon,onTrigger:()=>{(0,p.assertIsDefined)(this._codeEditor.getAction(o.FIND_IDS.PreviousMatchFindAction)).run().then(void 0,h.onUnexpectedError)}})),this._nextBtn=this._register(new le({label:T+this._keybindingLabelFor(o.FIND_IDS.NextMatchFindAction),icon:e.findNextMatchIcon,onTrigger:()=>{(0,p.assertIsDefined)(this._codeEditor.getAction(o.FIND_IDS.NextMatchFindAction)).run().then(void 0,h.onUnexpectedError)}}));const U=document.createElement("div");U.className="find-part",U.appendChild(this._findInput.domNode);const ae=document.createElement("div");ae.className="find-actions",U.appendChild(ae),ae.appendChild(this._matchesCount),ae.appendChild(this._prevBtn.domNode),ae.appendChild(this._nextBtn.domNode),this._toggleSelectionFind=this._register(new k.Toggle({icon:S,title:I+this._keybindingLabelFor(o.FIND_IDS.ToggleSearchScopeCommand),isChecked:!1})),this._register(this._toggleSelectionFind.onChange(()=>{if(this._toggleSelectionFind.checked){if(this._codeEditor.hasModel()){const H=this._codeEditor.getSelections();H.map(j=>(j.endColumn===1&&j.endLineNumber>j.startLineNumber&&(j=j.setEndPosition(j.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(j.endLineNumber-1))),j.isEmpty()?null:j)).filter(j=>!!j),H.length&&this._state.change({searchScope:H},!0)}}else this._state.change({searchScope:null},!0)})),ae.appendChild(this._toggleSelectionFind.domNode),this._closeBtn=this._register(new le({label:R+this._keybindingLabelFor(o.FIND_IDS.CloseFindWidgetCommand),icon:s.widgetClose,onTrigger:()=>{this._state.change({isRevealed:!1,searchScope:null},!1)},onKeyDown:H=>{H.equals(2)&&this._isReplaceVisible&&(this._replaceBtn.isEnabled()?this._replaceBtn.focus():this._codeEditor.focus(),H.preventDefault())}})),ae.appendChild(this._closeBtn.domNode),this._replaceInput=this._register(new c.ContextScopedReplaceInput(null,void 0,{label:F,placeholder:O,appendPreserveCaseLabel:this._keybindingLabelFor(o.FIND_IDS.TogglePreserveCaseCommand),history:[],flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showHistoryHint:()=>(0,d.showHistoryKeybindingHint)(this._keybindingService)},this._contextKeyService,!0)),this._replaceInput.setPreserveCase(!!this._state.preserveCase),this._register(this._replaceInput.onKeyDown(H=>this._onReplaceInputKeyDown(H))),this._register(this._replaceInput.inputBox.onDidChange(()=>{this._state.change({replaceString:this._replaceInput.inputBox.value},!1)})),this._register(this._replaceInput.inputBox.onDidHeightChange(H=>{this._isReplaceVisible&&this._tryUpdateHeight()&&this._showViewZone()})),this._register(this._replaceInput.onDidOptionChange(()=>{this._state.change({preserveCase:this._replaceInput.getPreserveCase()},!0)})),this._register(this._replaceInput.onPreserveCaseKeyDown(H=>{H.equals(2)&&(this._prevBtn.isEnabled()?this._prevBtn.focus():this._nextBtn.isEnabled()?this._nextBtn.focus():this._toggleSelectionFind.enabled?this._toggleSelectionFind.focus():this._closeBtn.isEnabled()&&this._closeBtn.focus(),H.preventDefault())})),this._replaceBtn=this._register(new le({label:M+this._keybindingLabelFor(o.FIND_IDS.ReplaceOneAction),icon:e.findReplaceIcon,onTrigger:()=>{this._controller.replace()},onKeyDown:H=>{H.equals(1026)&&(this._closeBtn.focus(),H.preventDefault())}})),this._replaceAllBtn=this._register(new le({label:N+this._keybindingLabelFor(o.FIND_IDS.ReplaceAllAction),icon:e.findReplaceAllIcon,onTrigger:()=>{this._controller.replaceAll()}}));const z=document.createElement("div");z.className="replace-part",z.appendChild(this._replaceInput.domNode);const J=document.createElement("div");J.className="replace-actions",z.appendChild(J),J.appendChild(this._replaceBtn.domNode),J.appendChild(this._replaceAllBtn.domNode),this._toggleReplaceBtn=this._register(new le({label:A,className:"codicon toggle left",onTrigger:()=>{this._state.change({isReplaceRevealed:!this._isReplaceVisible},!1),this._isReplaceVisible&&(this._replaceInput.width=w.getTotalWidth(this._findInput.domNode),this._replaceInput.inputBox.layout()),this._showViewZone()}})),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),this._domNode=document.createElement("div"),this._domNode.className="editor-widget find-widget",this._domNode.setAttribute("aria-hidden","true"),this._domNode.style.width=`${W}px`,this._domNode.appendChild(this._toggleReplaceBtn.domNode),this._domNode.appendChild(U),this._domNode.appendChild(z),this._resizeSash=new D.Sash(this._domNode,this,{orientation:0,size:2}),this._resized=!1;let Y=W;this._register(this._resizeSash.onDidStart(()=>{Y=w.getTotalWidth(this._domNode)})),this._register(this._resizeSash.onDidChange(H=>{this._resized=!0;const j=Y+H.startX-H.currentX;if(j<W)return;const de=parseFloat(w.getComputedStyle(this._domNode).maxWidth)||0;j>de||(this._domNode.style.width=`${j}px`,this._isReplaceVisible&&(this._replaceInput.width=w.getTotalWidth(this._findInput.domNode)),this._findInput.inputBox.layout(),this._tryUpdateHeight())})),this._register(this._resizeSash.onDidReset(()=>{const H=w.getTotalWidth(this._domNode);if(H<W)return;let j=W;if(!this._resized||H===W){const de=this._codeEditor.getLayoutInfo();j=de.width-28-de.minimap.minimapWidth-15,this._resized=!0}this._domNode.style.width=`${j}px`,this._isReplaceVisible&&(this._replaceInput.width=w.getTotalWidth(this._findInput.domNode)),this._findInput.inputBox.layout()}))}updateAccessibilitySupport(){const $=this._codeEditor.getOption(2);this._findInput.setFocusInputOnOptionClick($!==2)}}e.FindWidget=ee,ee.ID="editor.contrib.findWidget";class le extends L.Widget{constructor($){super(),this._opts=$;let oe="button";this._opts.className&&(oe=oe+" "+this._opts.className),this._opts.icon&&(oe=oe+" "+a.ThemeIcon.asClassName(this._opts.icon)),this._domNode=document.createElement("div"),this._domNode.title=this._opts.label,this._domNode.tabIndex=0,this._domNode.className=oe,this._domNode.setAttribute("role","button"),this._domNode.setAttribute("aria-label",this._opts.label),this.onclick(this._domNode,U=>{this._opts.onTrigger(),U.preventDefault()}),this.onkeydown(this._domNode,U=>{var ae,z;if(U.equals(10)||U.equals(3)){this._opts.onTrigger(),U.preventDefault();return}(z=(ae=this._opts).onKeyDown)===null||z===void 0||z.call(ae,U)})}get domNode(){return this._domNode}isEnabled(){return this._domNode.tabIndex>=0}focus(){this._domNode.focus()}setEnabled($){this._domNode.classList.toggle("disabled",!$),this._domNode.setAttribute("aria-disabled",String(!$)),this._domNode.tabIndex=$?0:-1}setExpanded($){this._domNode.setAttribute("aria-expanded",String(!!$)),$?(this._domNode.classList.remove(...a.ThemeIcon.asClassNameArray(f)),this._domNode.classList.add(...a.ThemeIcon.asClassNameArray(v))):(this._domNode.classList.remove(...a.ThemeIcon.asClassNameArray(v)),this._domNode.classList.add(...a.ThemeIcon.asClassNameArray(f)))}}e.SimpleButton=le,(0,a.registerThemingParticipant)((V,$)=>{const oe=(ve,_e)=>{_e&&$.addRule(`.monaco-editor ${ve} { background-color: ${_e}; }`)};oe(".findMatch",V.getColor(r.editorFindMatchHighlight)),oe(".currentFindMatch",V.getColor(r.editorFindMatch)),oe(".findScope",V.getColor(r.editorFindRangeHighlight));const U=V.getColor(r.editorWidgetBackground);oe(".find-widget",U);const ae=V.getColor(r.widgetShadow);ae&&$.addRule(`.monaco-editor .find-widget { box-shadow: 0 0 8px 2px ${ae}; }`);const z=V.getColor(r.editorFindMatchHighlightBorder);z&&$.addRule(`.monaco-editor .findMatch { border: 1px ${(0,u.isHighContrast)(V.type)?"dotted":"solid"} ${z}; box-sizing: border-box; }`);const J=V.getColor(r.editorFindMatchBorder);J&&$.addRule(`.monaco-editor .currentFindMatch { border: 2px solid ${J}; padding: 1px; box-sizing: border-box; }`);const Y=V.getColor(r.editorFindRangeHighlightBorder);Y&&$.addRule(`.monaco-editor .findScope { border: 1px ${(0,u.isHighContrast)(V.type)?"dashed":"solid"} ${Y}; }`);const H=V.getColor(r.contrastBorder);H&&$.addRule(`.monaco-editor .find-widget { border: 1px solid ${H}; }`);const j=V.getColor(r.editorWidgetForeground);j&&$.addRule(`.monaco-editor .find-widget { color: ${j}; }`);const de=V.getColor(r.errorForeground);de&&$.addRule(`.monaco-editor .find-widget.no-results .matchesCount { color: ${de}; }`);const ue=V.getColor(r.editorWidgetResizeBorder);if(ue)$.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${ue}; }`);else{const ve=V.getColor(r.editorWidgetBorder);ve&&$.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${ve}; }`)}const ce=V.getColor(r.toolbarHoverBackground);ce&&$.addRule(`
		.monaco-editor .find-widget .button:not(.disabled):hover,
		.monaco-editor .find-widget .codicon-find-selection:hover {
			background-color: ${ce} !important;
		}
	`);const ge=V.getColor(r.focusBorder);ge&&$.addRule(`.monaco-editor .find-widget .monaco-inputbox.synthetic-focus { outline-color: ${ge}; }`)})}),define(se[318],re([1,0,10,2,8,13,25,177,772,773,774,574,32,95,15,71,41,40,80,16]),function(q,e,w,m,k,D,L,b,C,h,g,t,i,n,o,l,c,d,r,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StartFindReplaceAction=e.PreviousSelectionMatchFindAction=e.NextSelectionMatchFindAction=e.SelectionMatchFindAction=e.PreviousMatchFindAction=e.NextMatchFindAction=e.MatchFindAction=e.StartFindWithSelectionAction=e.StartFindWithArgsAction=e.StartFindAction=e.FindController=e.CommonFindController=e.getSelectionSearchString=void 0;const a=524288;function u(M,N="single",A=!1){if(!M.hasModel())return null;const B=M.getSelection();if(N==="single"&&B.startLineNumber===B.endLineNumber||N==="multiple"){if(B.isEmpty()){const W=M.getConfiguredWordAtPosition(B.getStartPosition());if(W&&A===!1)return W.word}else if(M.getModel().getValueLengthInRange(B)<a)return M.getModel().getValueInRange(B)}return null}e.getSelectionSearchString=u;let p=class Ui extends m.Disposable{get editor(){return this._editor}static get(N){return N.getContribution(Ui.ID)}constructor(N,A,B,W){super(),this._editor=N,this._findWidgetVisible=b.CONTEXT_FIND_WIDGET_VISIBLE.bindTo(A),this._contextKeyService=A,this._storageService=B,this._clipboardService=W,this._updateHistoryDelayer=new w.Delayer(500),this._state=this._register(new h.FindReplaceState),this.loadQueryState(),this._register(this._state.onFindReplaceStateChange(x=>this._onStateChanged(x))),this._model=null,this._register(this._editor.onDidChangeModel(()=>{const x=this._editor.getModel()&&this._state.isRevealed;this.disposeModel(),this._state.change({searchScope:null,matchCase:this._storageService.getBoolean("editor.matchCase",1,!1),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,!1),isRegex:this._storageService.getBoolean("editor.isRegex",1,!1),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,!1)},!1),x&&this._start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!1,updateSearchScope:!1,loop:this._editor.getOption(36).loop})}))}dispose(){this.disposeModel(),super.dispose()}disposeModel(){this._model&&(this._model.dispose(),this._model=null)}_onStateChanged(N){this.saveQueryState(N),N.isRevealed&&(this._state.isRevealed?this._findWidgetVisible.set(!0):(this._findWidgetVisible.reset(),this.disposeModel())),N.searchString&&this.setGlobalBufferTerm(this._state.searchString)}saveQueryState(N){N.isRegex&&this._storageService.store("editor.isRegex",this._state.actualIsRegex,1,0),N.wholeWord&&this._storageService.store("editor.wholeWord",this._state.actualWholeWord,1,0),N.matchCase&&this._storageService.store("editor.matchCase",this._state.actualMatchCase,1,0),N.preserveCase&&this._storageService.store("editor.preserveCase",this._state.actualPreserveCase,1,0)}loadQueryState(){this._state.change({matchCase:this._storageService.getBoolean("editor.matchCase",1,this._state.matchCase),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,this._state.wholeWord),isRegex:this._storageService.getBoolean("editor.isRegex",1,this._state.isRegex),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,this._state.preserveCase)},!1)}isFindInputFocused(){return!!b.CONTEXT_FIND_INPUT_FOCUSED.getValue(this._contextKeyService)}getState(){return this._state}closeFindWidget(){this._state.change({isRevealed:!1,searchScope:null},!1),this._editor.focus()}toggleCaseSensitive(){this._state.change({matchCase:!this._state.matchCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleWholeWords(){this._state.change({wholeWord:!this._state.wholeWord},!1),this._state.isRevealed||this.highlightFindOptions()}toggleRegex(){this._state.change({isRegex:!this._state.isRegex},!1),this._state.isRevealed||this.highlightFindOptions()}togglePreserveCase(){this._state.change({preserveCase:!this._state.preserveCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleSearchScope(){if(this._state.searchScope)this._state.change({searchScope:null},!0);else if(this._editor.hasModel()){const N=this._editor.getSelections();N.map(A=>(A.endColumn===1&&A.endLineNumber>A.startLineNumber&&(A=A.setEndPosition(A.endLineNumber-1,this._editor.getModel().getLineMaxColumn(A.endLineNumber-1))),A.isEmpty()?null:A)).filter(A=>!!A),N.length&&this._state.change({searchScope:N},!0)}}setSearchString(N){this._state.isRegex&&(N=k.escapeRegExpCharacters(N)),this._state.change({searchString:N},!1)}highlightFindOptions(N=!1){}_start(N,A){return Se(this,void 0,void 0,function*(){if(this.disposeModel(),!this._editor.hasModel())return;const B=Object.assign(Object.assign({},A),{isRevealed:!0});if(N.seedSearchStringFromSelection==="single"){const W=u(this._editor,N.seedSearchStringFromSelection,N.seedSearchStringFromNonEmptySelection);W&&(this._state.isRegex?B.searchString=k.escapeRegExpCharacters(W):B.searchString=W)}else if(N.seedSearchStringFromSelection==="multiple"&&!N.updateSearchScope){const W=u(this._editor,N.seedSearchStringFromSelection);W&&(B.searchString=W)}if(!B.searchString&&N.seedSearchStringFromGlobalClipboard){const W=yield this.getGlobalBufferTerm();if(!this._editor.hasModel())return;W&&(B.searchString=W)}if(N.forceRevealReplace||B.isReplaceRevealed?B.isReplaceRevealed=!0:this._findWidgetVisible.get()||(B.isReplaceRevealed=!1),N.updateSearchScope){const W=this._editor.getSelections();W.some(x=>!x.isEmpty())&&(B.searchScope=W)}B.loop=N.loop,this._state.change(B,!1),this._model||(this._model=new b.FindModelBoundToEditorModel(this._editor,this._state))})}start(N,A){return this._start(N,A)}moveToNextMatch(){return this._model?(this._model.moveToNextMatch(),!0):!1}moveToPrevMatch(){return this._model?(this._model.moveToPrevMatch(),!0):!1}replace(){return this._model?(this._model.replace(),!0):!1}replaceAll(){return this._model?(this._model.replaceAll(),!0):!1}selectAllMatches(){return this._model?(this._model.selectAllMatches(),this._editor.focus(),!0):!1}getGlobalBufferTerm(){return Se(this,void 0,void 0,function*(){return this._editor.getOption(36).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()?this._clipboardService.readFindText():""})}setGlobalBufferTerm(N){this._editor.getOption(36).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()&&this._clipboardService.writeFindText(N)}};p.ID="editor.contrib.findController",p=De([fe(1,o.IContextKeyService),fe(2,r.IStorageService),fe(3,n.IClipboardService)],p),e.CommonFindController=p;let S=class extends p{constructor(N,A,B,W,x,P,X,ie){super(N,B,X,ie),this._contextViewService=A,this._keybindingService=W,this._themeService=x,this._notificationService=P,this._widget=null,this._findOptionsWidget=null}_start(N,A){const B=Object.create(null,{_start:{get:()=>super._start}});return Se(this,void 0,void 0,function*(){this._widget||this._createFindWidget();const W=this._editor.getSelection();let x=!1;switch(this._editor.getOption(36).autoFindInSelection){case"always":x=!0;break;case"never":x=!1;break;case"multiline":{x=!!W&&W.startLineNumber!==W.endLineNumber;break}default:break}N.updateSearchScope=N.updateSearchScope||x,yield B._start.call(this,N,A),this._widget&&(N.shouldFocus===2?this._widget.focusReplaceInput():N.shouldFocus===1&&this._widget.focusFindInput())})}highlightFindOptions(N=!1){this._widget||this._createFindWidget(),this._state.isRevealed&&!N?this._widget.highlightFindOptions():this._findOptionsWidget.highlightFindOptions()}_createFindWidget(){this._widget=this._register(new g.FindWidget(this._editor,this,this._state,this._contextViewService,this._keybindingService,this._contextKeyService,this._themeService,this._storageService,this._notificationService)),this._findOptionsWidget=this._register(new C.FindOptionsWidget(this._editor,this._state,this._keybindingService,this._themeService))}};S=De([fe(1,l.IContextViewService),fe(2,o.IContextKeyService),fe(3,c.IKeybindingService),fe(4,s.IThemeService),fe(5,d.INotificationService),fe(6,r.IStorageService),fe(7,n.IClipboardService)],S),e.FindController=S,e.StartFindAction=(0,D.registerMultiEditorAction)(new D.MultiEditorAction({id:b.FIND_IDS.StartFindAction,label:t.localize(0,null),alias:"Find",precondition:o.ContextKeyExpr.or(L.EditorContextKeys.focus,o.ContextKeyExpr.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2084,weight:100},menuOpts:{menuId:i.MenuId.MenubarEditMenu,group:"3_find",title:t.localize(1,null),order:1}})),e.StartFindAction.addImplementation(0,(M,N,A)=>{const B=p.get(N);return B?B.start({forceRevealReplace:!1,seedSearchStringFromSelection:N.getOption(36).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:N.getOption(36).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:N.getOption(36).globalFindClipboard,shouldFocus:1,shouldAnimate:!0,updateSearchScope:!1,loop:N.getOption(36).loop}):!1});const f={description:"Open a new In-Editor Find Widget.",args:[{name:"Open a new In-Editor Find Widget args",schema:{properties:{searchString:{type:"string"},replaceString:{type:"string"},regex:{type:"boolean"},regexOverride:{type:"number",description:t.localize(2,null)},wholeWord:{type:"boolean"},wholeWordOverride:{type:"number",description:t.localize(3,null)},matchCase:{type:"boolean"},matchCaseOverride:{type:"number",description:t.localize(4,null)},preserveCase:{type:"boolean"},preserveCaseOverride:{type:"number",description:t.localize(5,null)},findInSelection:{type:"boolean"}}}}]};class v extends D.EditorAction{constructor(){super({id:b.FIND_IDS.StartFindWithArgs,label:t.localize(6,null),alias:"Find With Arguments",precondition:void 0,kbOpts:{kbExpr:null,primary:0,weight:100},description:f})}run(N,A,B){return Se(this,void 0,void 0,function*(){const W=p.get(A);if(W){const x=B?{searchString:B.searchString,replaceString:B.replaceString,isReplaceRevealed:B.replaceString!==void 0,isRegex:B.isRegex,wholeWord:B.matchWholeWord,matchCase:B.isCaseSensitive,preserveCase:B.preserveCase}:{};yield W.start({forceRevealReplace:!1,seedSearchStringFromSelection:W.getState().searchString.length===0&&A.getOption(36).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:A.getOption(36).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:!0,shouldFocus:1,shouldAnimate:!0,updateSearchScope:B?.findInSelection||!1,loop:A.getOption(36).loop},x),W.setGlobalBufferTerm(W.getState().searchString)}})}}e.StartFindWithArgsAction=v;class _ extends D.EditorAction{constructor(){super({id:b.FIND_IDS.StartFindWithSelection,label:t.localize(7,null),alias:"Find With Selection",precondition:void 0,kbOpts:{kbExpr:null,primary:0,mac:{primary:2083},weight:100}})}run(N,A){return Se(this,void 0,void 0,function*(){const B=p.get(A);B&&(yield B.start({forceRevealReplace:!1,seedSearchStringFromSelection:"multiple",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:A.getOption(36).loop}),B.setGlobalBufferTerm(B.getState().searchString))})}}e.StartFindWithSelectionAction=_;class y extends D.EditorAction{run(N,A){return Se(this,void 0,void 0,function*(){const B=p.get(A);B&&!this._run(B)&&(yield B.start({forceRevealReplace:!1,seedSearchStringFromSelection:B.getState().searchString.length===0&&A.getOption(36).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:A.getOption(36).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:!0,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:A.getOption(36).loop}),this._run(B))})}}e.MatchFindAction=y;class E extends y{constructor(){super({id:b.FIND_IDS.NextMatchFindAction,label:t.localize(8,null),alias:"Find Next",precondition:void 0,kbOpts:[{kbExpr:L.EditorContextKeys.focus,primary:61,mac:{primary:2085,secondary:[61]},weight:100},{kbExpr:o.ContextKeyExpr.and(L.EditorContextKeys.focus,b.CONTEXT_FIND_INPUT_FOCUSED),primary:3,weight:100}]})}_run(N){return N.moveToNextMatch()?(N.editor.pushUndoStop(),!0):!1}}e.NextMatchFindAction=E;class T extends y{constructor(){super({id:b.FIND_IDS.PreviousMatchFindAction,label:t.localize(9,null),alias:"Find Previous",precondition:void 0,kbOpts:[{kbExpr:L.EditorContextKeys.focus,primary:1085,mac:{primary:3109,secondary:[1085]},weight:100},{kbExpr:o.ContextKeyExpr.and(L.EditorContextKeys.focus,b.CONTEXT_FIND_INPUT_FOCUSED),primary:1027,weight:100}]})}_run(N){return N.moveToPrevMatch()}}e.PreviousMatchFindAction=T;class I extends D.EditorAction{run(N,A){return Se(this,void 0,void 0,function*(){const B=p.get(A);if(!B)return;const W=A.getOption(36).seedSearchStringFromSelection==="selection";let x=null;A.getOption(36).seedSearchStringFromSelection!=="never"&&(x=u(A,"single",W)),x&&B.setSearchString(x),this._run(B)||(yield B.start({forceRevealReplace:!1,seedSearchStringFromSelection:A.getOption(36).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:W,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:A.getOption(36).loop}),this._run(B))})}}e.SelectionMatchFindAction=I;class R extends I{constructor(){super({id:b.FIND_IDS.NextSelectionMatchFindAction,label:t.localize(10,null),alias:"Find Next Selection",precondition:void 0,kbOpts:{kbExpr:L.EditorContextKeys.focus,primary:2109,weight:100}})}_run(N){return N.moveToNextMatch()}}e.NextSelectionMatchFindAction=R;class F extends I{constructor(){super({id:b.FIND_IDS.PreviousSelectionMatchFindAction,label:t.localize(11,null),alias:"Find Previous Selection",precondition:void 0,kbOpts:{kbExpr:L.EditorContextKeys.focus,primary:3133,weight:100}})}_run(N){return N.moveToPrevMatch()}}e.PreviousSelectionMatchFindAction=F,e.StartFindReplaceAction=(0,D.registerMultiEditorAction)(new D.MultiEditorAction({id:b.FIND_IDS.StartFindReplaceAction,label:t.localize(12,null),alias:"Replace",precondition:o.ContextKeyExpr.or(L.EditorContextKeys.focus,o.ContextKeyExpr.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2086,mac:{primary:2596},weight:100},menuOpts:{menuId:i.MenuId.MenubarEditMenu,group:"3_find",title:t.localize(13,null),order:2}})),e.StartFindReplaceAction.addImplementation(0,(M,N,A)=>{if(!N.hasModel()||N.getOption(82))return!1;const B=p.get(N);if(!B)return!1;const W=N.getSelection(),x=B.isFindInputFocused(),P=!W.isEmpty()&&W.startLineNumber===W.endLineNumber&&N.getOption(36).seedSearchStringFromSelection!=="never"&&!x,X=x||P?2:1;return B.start({forceRevealReplace:!0,seedSearchStringFromSelection:P?"single":"none",seedSearchStringFromNonEmptySelection:N.getOption(36).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:N.getOption(36).seedSearchStringFromSelection!=="never",shouldFocus:X,shouldAnimate:!0,updateSearchScope:!1,loop:N.getOption(36).loop})}),(0,D.registerEditorContribution)(p.ID,S),(0,D.registerEditorAction)(v),(0,D.registerEditorAction)(_),(0,D.registerEditorAction)(E),(0,D.registerEditorAction)(T),(0,D.registerEditorAction)(R),(0,D.registerEditorAction)(F);const O=D.EditorCommand.bindToContribution(p.get);(0,D.registerEditorCommand)(new O({id:b.FIND_IDS.CloseFindWidgetCommand,precondition:b.CONTEXT_FIND_WIDGET_VISIBLE,handler:M=>M.closeFindWidget(),kbOpts:{weight:100+5,kbExpr:o.ContextKeyExpr.and(L.EditorContextKeys.focus,o.ContextKeyExpr.not("isComposing")),primary:9,secondary:[1033]}})),(0,D.registerEditorCommand)(new O({id:b.FIND_IDS.ToggleCaseSensitiveCommand,precondition:void 0,handler:M=>M.toggleCaseSensitive(),kbOpts:{weight:100+5,kbExpr:L.EditorContextKeys.focus,primary:b.ToggleCaseSensitiveKeybinding.primary,mac:b.ToggleCaseSensitiveKeybinding.mac,win:b.ToggleCaseSensitiveKeybinding.win,linux:b.ToggleCaseSensitiveKeybinding.linux}})),(0,D.registerEditorCommand)(new O({id:b.FIND_IDS.ToggleWholeWordCommand,precondition:void 0,handler:M=>M.toggleWholeWords(),kbOpts:{weight:100+5,kbExpr:L.EditorContextKeys.focus,primary:b.ToggleWholeWordKeybinding.primary,mac:b.ToggleWholeWordKeybinding.mac,win:b.ToggleWholeWordKeybinding.win,linux:b.ToggleWholeWordKeybinding.linux}})),(0,D.registerEditorCommand)(new O({id:b.FIND_IDS.ToggleRegexCommand,precondition:void 0,handler:M=>M.toggleRegex(),kbOpts:{weight:100+5,kbExpr:L.EditorContextKeys.focus,primary:b.ToggleRegexKeybinding.primary,mac:b.ToggleRegexKeybinding.mac,win:b.ToggleRegexKeybinding.win,linux:b.ToggleRegexKeybinding.linux}})),(0,D.registerEditorCommand)(new O({id:b.FIND_IDS.ToggleSearchScopeCommand,precondition:void 0,handler:M=>M.toggleSearchScope(),kbOpts:{weight:100+5,kbExpr:L.EditorContextKeys.focus,primary:b.ToggleSearchScopeKeybinding.primary,mac:b.ToggleSearchScopeKeybinding.mac,win:b.ToggleSearchScopeKeybinding.win,linux:b.ToggleSearchScopeKeybinding.linux}})),(0,D.registerEditorCommand)(new O({id:b.FIND_IDS.TogglePreserveCaseCommand,precondition:void 0,handler:M=>M.togglePreserveCase(),kbOpts:{weight:100+5,kbExpr:L.EditorContextKeys.focus,primary:b.TogglePreserveCaseKeybinding.primary,mac:b.TogglePreserveCaseKeybinding.mac,win:b.TogglePreserveCaseKeybinding.win,linux:b.TogglePreserveCaseKeybinding.linux}})),(0,D.registerEditorCommand)(new O({id:b.FIND_IDS.ReplaceOneAction,precondition:b.CONTEXT_FIND_WIDGET_VISIBLE,handler:M=>M.replace(),kbOpts:{weight:100+5,kbExpr:L.EditorContextKeys.focus,primary:3094}})),(0,D.registerEditorCommand)(new O({id:b.FIND_IDS.ReplaceOneAction,precondition:b.CONTEXT_FIND_WIDGET_VISIBLE,handler:M=>M.replace(),kbOpts:{weight:100+5,kbExpr:o.ContextKeyExpr.and(L.EditorContextKeys.focus,b.CONTEXT_REPLACE_INPUT_FOCUSED),primary:3}})),(0,D.registerEditorCommand)(new O({id:b.FIND_IDS.ReplaceAllAction,precondition:b.CONTEXT_FIND_WIDGET_VISIBLE,handler:M=>M.replaceAll(),kbOpts:{weight:100+5,kbExpr:L.EditorContextKeys.focus,primary:2563}})),(0,D.registerEditorCommand)(new O({id:b.FIND_IDS.ReplaceAllAction,precondition:b.CONTEXT_FIND_WIDGET_VISIBLE,handler:M=>M.replaceAll(),kbOpts:{weight:100+5,kbExpr:o.ContextKeyExpr.and(L.EditorContextKeys.focus,b.CONTEXT_REPLACE_INPUT_FOCUSED),primary:void 0,mac:{primary:2051}}})),(0,D.registerEditorCommand)(new O({id:b.FIND_IDS.SelectAllMatchesAction,precondition:b.CONTEXT_FIND_WIDGET_VISIBLE,handler:M=>M.selectAllMatches(),kbOpts:{weight:100+5,kbExpr:L.EditorContextKeys.focus,primary:515}}))}),define(se[775],re([1,0,27,37,577,82,16]),function(q,e,w,m,k,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FoldingDecorationProvider=e.foldingManualExpandedIcon=e.foldingManualCollapsedIcon=e.foldingCollapsedIcon=e.foldingExpandedIcon=void 0,e.foldingExpandedIcon=(0,D.registerIcon)("folding-expanded",w.Codicon.chevronDown,(0,k.localize)(0,null)),e.foldingCollapsedIcon=(0,D.registerIcon)("folding-collapsed",w.Codicon.chevronRight,(0,k.localize)(1,null)),e.foldingManualCollapsedIcon=(0,D.registerIcon)("folding-manual-collapsed",e.foldingCollapsedIcon,(0,k.localize)(2,null)),e.foldingManualExpandedIcon=(0,D.registerIcon)("folding-manual-expanded",e.foldingExpandedIcon,(0,k.localize)(3,null));class b{constructor(h){this.editor=h,this.showFoldingControls="mouseover",this.showFoldingHighlights=!0}getDecorationOption(h,g,t){return g||this.showFoldingControls==="never"?b.HIDDEN_RANGE_DECORATION:h?t?this.showFoldingHighlights?b.MANUALLY_COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:b.MANUALLY_COLLAPSED_VISUAL_DECORATION:this.showFoldingHighlights?b.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:b.COLLAPSED_VISUAL_DECORATION:this.showFoldingControls==="mouseover"?t?b.MANUALLY_EXPANDED_AUTO_HIDE_VISUAL_DECORATION:b.EXPANDED_AUTO_HIDE_VISUAL_DECORATION:t?b.MANUALLY_EXPANDED_VISUAL_DECORATION:b.EXPANDED_VISUAL_DECORATION}changeDecorations(h){return this.editor.changeDecorations(h)}removeDecorations(h){this.editor.removeDecorations(h)}}e.FoldingDecorationProvider=b,b.COLLAPSED_VISUAL_DECORATION=m.ModelDecorationOptions.register({description:"folding-collapsed-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,firstLineDecorationClassName:L.ThemeIcon.asClassName(e.foldingCollapsedIcon)}),b.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=m.ModelDecorationOptions.register({description:"folding-collapsed-highlighted-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",isWholeLine:!0,firstLineDecorationClassName:L.ThemeIcon.asClassName(e.foldingCollapsedIcon)}),b.MANUALLY_COLLAPSED_VISUAL_DECORATION=m.ModelDecorationOptions.register({description:"folding-manually-collapsed-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+L.ThemeIcon.asClassName(e.foldingExpandedIcon)}),b.MANUALLY_COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=m.ModelDecorationOptions.register({description:"folding-manually-collapsed-highlighted-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",isWholeLine:!0,firstLineDecorationClassName:L.ThemeIcon.asClassName(e.foldingManualCollapsedIcon)}),b.EXPANDED_AUTO_HIDE_VISUAL_DECORATION=m.ModelDecorationOptions.register({description:"folding-expanded-auto-hide-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:L.ThemeIcon.asClassName(e.foldingExpandedIcon)}),b.EXPANDED_VISUAL_DECORATION=m.ModelDecorationOptions.register({description:"folding-expanded-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+L.ThemeIcon.asClassName(e.foldingExpandedIcon)}),b.MANUALLY_EXPANDED_VISUAL_DECORATION=m.ModelDecorationOptions.register({description:"folding-manually-expanded-visual-decoration",stickiness:0,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+L.ThemeIcon.asClassName(e.foldingManualExpandedIcon)}),b.MANUALLY_EXPANDED_AUTO_HIDE_VISUAL_DECORATION=m.ModelDecorationOptions.register({description:"folding-manually-expanded-visual-decoration",stickiness:0,isWholeLine:!0,firstLineDecorationClassName:L.ThemeIcon.asClassName(e.foldingManualExpandedIcon)}),b.HIDDEN_RANGE_DECORATION=m.ModelDecorationOptions.register({description:"folding-hidden-range-decoration",stickiness:1})}),define(se[319],re([1,0,10,14,57,2,8,19,153,13,25,28,34,533,534,468,576,15,23,16,775,161,469,40,73,56,20,6,388]),function(q,e,w,m,k,D,L,b,C,h,g,t,i,n,o,l,c,d,r,s,a,u,p,S,f,v,_,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.editorFoldForeground=e.foldBackgroundBackground=e.FoldingController=void 0;const E=new d.RawContextKey("foldingEnabled",!1);let T=class Ki extends D.Disposable{static get($){return $.getContribution(Ki.ID)}constructor($,oe,U,ae,z,J){super(),this.contextKeyService=oe,this.languageConfigurationService=U,this.languageFeaturesService=J,this.localToDispose=this._register(new D.DisposableStore),this._onDidChangeFoldingLimit=new y.Emitter,this.editor=$;const Y=this.editor.getOptions();this._isEnabled=Y.get(38),this._useFoldingProviders=Y.get(39)!=="indentation",this._unfoldOnClickAfterEndOfLine=Y.get(43),this._restoringViewState=!1,this._currentModelHasFoldedImports=!1,this._foldingImportsByDefault=Y.get(41),this._foldingLimitReporter={get limit(){return $.getOptions().get(42)},report:H=>{(!this._foldingLimitInfo||H.limited!==this._foldingLimitInfo.limited)&&(this._foldingLimitInfo=H,this._onDidChangeFoldingLimit.fire(H))}},this.updateDebounceInfo=z.for(J.foldingRangeProvider,"Folding",{min:200}),this.foldingModel=null,this.hiddenRangeModel=null,this.rangeProvider=null,this.foldingRegionPromise=null,this.foldingModelPromise=null,this.updateScheduler=null,this.cursorChangedScheduler=null,this.mouseDownInfo=null,this.foldingDecorationProvider=new a.FoldingDecorationProvider($),this.foldingDecorationProvider.showFoldingControls=Y.get(100),this.foldingDecorationProvider.showFoldingHighlights=Y.get(40),this.foldingEnabled=E.bindTo(this.contextKeyService),this.foldingEnabled.set(this._isEnabled),this._register(this.editor.onDidChangeModel(()=>this.onModelChanged())),this._register(this.editor.onDidChangeConfiguration(H=>{if(H.hasChanged(38)&&(this._isEnabled=this.editor.getOptions().get(38),this.foldingEnabled.set(this._isEnabled),this.onModelChanged()),H.hasChanged(42)&&this.onModelChanged(),H.hasChanged(100)||H.hasChanged(40)){const j=this.editor.getOptions();this.foldingDecorationProvider.showFoldingControls=j.get(100),this.foldingDecorationProvider.showFoldingHighlights=j.get(40),this.triggerFoldingModelChanged()}H.hasChanged(39)&&(this._useFoldingProviders=this.editor.getOptions().get(39)!=="indentation",this.onFoldingStrategyChanged()),H.hasChanged(43)&&(this._unfoldOnClickAfterEndOfLine=this.editor.getOptions().get(43)),H.hasChanged(41)&&(this._foldingImportsByDefault=this.editor.getOptions().get(41))})),this.onModelChanged()}saveViewState(){const $=this.editor.getModel();if(!$||!this._isEnabled||$.isTooLargeForTokenization())return{};if(this.foldingModel){const oe=this.foldingModel.getMemento(),U=this.rangeProvider?this.rangeProvider.id:void 0;return{collapsedRegions:oe,lineCount:$.getLineCount(),provider:U,foldedImports:this._currentModelHasFoldedImports}}}restoreViewState($){const oe=this.editor.getModel();if(!(!oe||!this._isEnabled||oe.isTooLargeForTokenization()||!this.hiddenRangeModel)&&!!$&&(this._currentModelHasFoldedImports=!!$.foldedImports,$.collapsedRegions&&$.collapsedRegions.length>0&&this.foldingModel)){this._restoringViewState=!0;try{this.foldingModel.applyMemento($.collapsedRegions)}finally{this._restoringViewState=!1}}}onModelChanged(){this.localToDispose.clear();const $=this.editor.getModel();!this._isEnabled||!$||$.isTooLargeForTokenization()||(this._currentModelHasFoldedImports=!1,this.foldingModel=new n.FoldingModel($,this.foldingDecorationProvider),this.localToDispose.add(this.foldingModel),this.hiddenRangeModel=new o.HiddenRangeModel(this.foldingModel),this.localToDispose.add(this.hiddenRangeModel),this.localToDispose.add(this.hiddenRangeModel.onDidChange(oe=>this.onHiddenRangesChanges(oe))),this.updateScheduler=new w.Delayer(this.updateDebounceInfo.get($)),this.cursorChangedScheduler=new w.RunOnceScheduler(()=>this.revealCursor(),200),this.localToDispose.add(this.cursorChangedScheduler),this.localToDispose.add(this.languageFeaturesService.foldingRangeProvider.onDidChange(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelLanguageConfiguration(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelContent(oe=>this.onDidChangeModelContent(oe))),this.localToDispose.add(this.editor.onDidChangeCursorPosition(()=>this.onCursorPositionChanged())),this.localToDispose.add(this.editor.onMouseDown(oe=>this.onEditorMouseDown(oe))),this.localToDispose.add(this.editor.onMouseUp(oe=>this.onEditorMouseUp(oe))),this.localToDispose.add({dispose:()=>{var oe,U;this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),(oe=this.updateScheduler)===null||oe===void 0||oe.cancel(),this.updateScheduler=null,this.foldingModel=null,this.foldingModelPromise=null,this.hiddenRangeModel=null,this.cursorChangedScheduler=null,(U=this.rangeProvider)===null||U===void 0||U.dispose(),this.rangeProvider=null}}),this.triggerFoldingModelChanged())}onFoldingStrategyChanged(){var $;($=this.rangeProvider)===null||$===void 0||$.dispose(),this.rangeProvider=null,this.triggerFoldingModelChanged()}getRangeProvider($){if(this.rangeProvider)return this.rangeProvider;if(this.rangeProvider=new l.IndentRangeProvider($,this.languageConfigurationService,this._foldingLimitReporter),this._useFoldingProviders&&this.foldingModel){const oe=this.languageFeaturesService.foldingRangeProvider.ordered(this.foldingModel.textModel);oe.length>0&&(this.rangeProvider=new p.SyntaxRangeProvider($,oe,()=>this.triggerFoldingModelChanged(),this._foldingLimitReporter))}return this.rangeProvider}getFoldingModel(){return this.foldingModelPromise}onDidChangeModelContent($){var oe;(oe=this.hiddenRangeModel)===null||oe===void 0||oe.notifyChangeModelContent($),this.triggerFoldingModelChanged()}triggerFoldingModelChanged(){this.updateScheduler&&(this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.foldingModelPromise=this.updateScheduler.trigger(()=>{const $=this.foldingModel;if(!$)return null;const oe=new v.StopWatch(!0),U=this.getRangeProvider($.textModel),ae=this.foldingRegionPromise=(0,w.createCancelablePromise)(z=>U.compute(z));return ae.then(z=>{if(z&&ae===this.foldingRegionPromise){let J;if(this._foldingImportsByDefault&&!this._currentModelHasFoldedImports){const de=z.setCollapsedAllOfType(t.FoldingRangeKind.Imports.value,!0);de&&(J=C.StableEditorScrollState.capture(this.editor),this._currentModelHasFoldedImports=de)}const Y=this.editor.getSelections(),H=Y?Y.map(de=>de.startLineNumber):[];$.update(z,H),J?.restore(this.editor);const j=this.updateDebounceInfo.update($.textModel,oe.elapsed());this.updateScheduler&&(this.updateScheduler.defaultDelay=j)}return $})}).then(void 0,$=>((0,m.onUnexpectedError)($),null)))}onHiddenRangesChanges($){if(this.hiddenRangeModel&&$.length&&!this._restoringViewState){const oe=this.editor.getSelections();oe&&this.hiddenRangeModel.adjustSelections(oe)&&this.editor.setSelections(oe)}this.editor.setHiddenAreas($,this)}onCursorPositionChanged(){this.hiddenRangeModel&&this.hiddenRangeModel.hasRanges()&&this.cursorChangedScheduler.schedule()}revealCursor(){const $=this.getFoldingModel();!$||$.then(oe=>{if(oe){const U=this.editor.getSelections();if(U&&U.length>0){const ae=[];for(const z of U){const J=z.selectionStartLineNumber;this.hiddenRangeModel&&this.hiddenRangeModel.isHidden(J)&&ae.push(...oe.getAllRegionsAtLine(J,Y=>Y.isCollapsed&&J>Y.startLineNumber))}ae.length&&(oe.toggleCollapseState(ae),this.reveal(U[0].getPosition()))}}}).then(void 0,m.onUnexpectedError)}onEditorMouseDown($){if(this.mouseDownInfo=null,!this.hiddenRangeModel||!$.target||!$.target.range||!$.event.leftButton&&!$.event.middleButton)return;const oe=$.target.range;let U=!1;switch($.target.type){case 4:{const ae=$.target.detail,z=$.target.element.offsetLeft;if(ae.offsetX-z<5)return;U=!0;break}case 7:{if(this._unfoldOnClickAfterEndOfLine&&this.hiddenRangeModel.hasRanges()&&!$.target.detail.isAfterLines)break;return}case 6:{if(this.hiddenRangeModel.hasRanges()){const ae=this.editor.getModel();if(ae&&oe.startColumn===ae.getLineMaxColumn(oe.startLineNumber))break}return}default:return}this.mouseDownInfo={lineNumber:oe.startLineNumber,iconClicked:U}}onEditorMouseUp($){const oe=this.foldingModel;if(!oe||!this.mouseDownInfo||!$.target)return;const U=this.mouseDownInfo.lineNumber,ae=this.mouseDownInfo.iconClicked,z=$.target.range;if(!z||z.startLineNumber!==U)return;if(ae){if($.target.type!==4)return}else{const Y=this.editor.getModel();if(!Y||z.startColumn!==Y.getLineMaxColumn(U))return}const J=oe.getRegionAtLine(U);if(J&&J.startLineNumber===U){const Y=J.isCollapsed;if(ae||Y){const H=$.event.altKey;let j=[];if(H){const de=ce=>!ce.containedBy(J)&&!J.containedBy(ce),ue=oe.getRegionsInside(null,de);for(const ce of ue)ce.isCollapsed&&j.push(ce);j.length===0&&(j=ue)}else{const de=$.event.middleButton||$.event.shiftKey;if(de)for(const ue of oe.getRegionsInside(J))ue.isCollapsed===Y&&j.push(ue);(Y||!de||j.length===0)&&j.push(J)}oe.toggleCollapseState(j),this.reveal({lineNumber:U,column:1})}}}reveal($){this.editor.revealPositionInCenterIfOutsideViewport($,0)}};T.ID="editor.contrib.folding",T=De([fe(1,d.IContextKeyService),fe(2,i.ILanguageConfigurationService),fe(3,S.INotificationService),fe(4,f.ILanguageFeatureDebounceService),fe(5,_.ILanguageFeaturesService)],T),e.FoldingController=T;class I extends h.EditorAction{runEditorCommand($,oe,U){const ae=$.get(i.ILanguageConfigurationService),z=T.get(oe);if(!z)return;const J=z.getFoldingModel();if(J)return this.reportTelemetry($,oe),J.then(Y=>{if(Y){this.invoke(z,Y,oe,U,ae);const H=oe.getSelection();H&&z.reveal(H.getStartPosition())}})}getSelectedLines($){const oe=$.getSelections();return oe?oe.map(U=>U.startLineNumber):[]}getLineNumbers($,oe){return $&&$.selectionLines?$.selectionLines.map(U=>U+1):this.getSelectedLines(oe)}run($,oe){}}function R(V){if(!b.isUndefined(V)){if(!b.isObject(V))return!1;const $=V;if(!b.isUndefined($.levels)&&!b.isNumber($.levels)||!b.isUndefined($.direction)&&!b.isString($.direction)||!b.isUndefined($.selectionLines)&&(!Array.isArray($.selectionLines)||!$.selectionLines.every(b.isNumber)))return!1}return!0}class F extends I{constructor(){super({id:"editor.unfold",label:c.localize(0,null),alias:"Unfold",precondition:E,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:3161,mac:{primary:2649},weight:100},description:{description:"Unfold the content in the editor",args:[{name:"Unfold editor argument",description:`Property-value pairs that can be passed through this argument:
						* 'levels': Number of levels to unfold. If not set, defaults to 1.
						* 'direction': If 'up', unfold given number of levels up otherwise unfolds down.
						* 'selectionLines': Array of the start lines (0-based) of the editor selections to apply the unfold action to. If not set, the active selection(s) will be used.
						`,constraint:R,schema:{type:"object",properties:{levels:{type:"number",default:1},direction:{type:"string",enum:["up","down"],default:"down"},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke($,oe,U,ae){const z=ae&&ae.levels||1,J=this.getLineNumbers(ae,U);ae&&ae.direction==="up"?(0,n.setCollapseStateLevelsUp)(oe,!1,z,J):(0,n.setCollapseStateLevelsDown)(oe,!1,z,J)}}class O extends I{constructor(){super({id:"editor.unfoldRecursively",label:c.localize(1,null),alias:"Unfold Recursively",precondition:E,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:(0,k.KeyChord)(2089,2137),weight:100}})}invoke($,oe,U,ae){(0,n.setCollapseStateLevelsDown)(oe,!1,Number.MAX_VALUE,this.getSelectedLines(U))}}class M extends I{constructor(){super({id:"editor.fold",label:c.localize(2,null),alias:"Fold",precondition:E,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:3159,mac:{primary:2647},weight:100},description:{description:"Fold the content in the editor",args:[{name:"Fold editor argument",description:`Property-value pairs that can be passed through this argument:
							* 'levels': Number of levels to fold.
							* 'direction': If 'up', folds given number of levels up otherwise folds down.
							* 'selectionLines': Array of the start lines (0-based) of the editor selections to apply the fold action to. If not set, the active selection(s) will be used.
							If no levels or direction is set, folds the region at the locations or if already collapsed, the first uncollapsed parent instead.
						`,constraint:R,schema:{type:"object",properties:{levels:{type:"number"},direction:{type:"string",enum:["up","down"]},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke($,oe,U,ae){const z=this.getLineNumbers(ae,U),J=ae&&ae.levels,Y=ae&&ae.direction;typeof J!="number"&&typeof Y!="string"?(0,n.setCollapseStateUp)(oe,!0,z):Y==="up"?(0,n.setCollapseStateLevelsUp)(oe,!0,J||1,z):(0,n.setCollapseStateLevelsDown)(oe,!0,J||1,z)}}class N extends I{constructor(){super({id:"editor.toggleFold",label:c.localize(3,null),alias:"Toggle Fold",precondition:E,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:(0,k.KeyChord)(2089,2090),weight:100}})}invoke($,oe,U){const ae=this.getSelectedLines(U);(0,n.toggleCollapseState)(oe,1,ae)}}class A extends I{constructor(){super({id:"editor.foldRecursively",label:c.localize(4,null),alias:"Fold Recursively",precondition:E,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:(0,k.KeyChord)(2089,2135),weight:100}})}invoke($,oe,U){const ae=this.getSelectedLines(U);(0,n.setCollapseStateLevelsDown)(oe,!0,Number.MAX_VALUE,ae)}}class B extends I{constructor(){super({id:"editor.foldAllBlockComments",label:c.localize(5,null),alias:"Fold All Block Comments",precondition:E,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:(0,k.KeyChord)(2089,2133),weight:100}})}invoke($,oe,U,ae,z){if(oe.regions.hasTypes())(0,n.setCollapseStateForType)(oe,t.FoldingRangeKind.Comment.value,!0);else{const J=U.getModel();if(!J)return;const Y=z.getLanguageConfiguration(J.getLanguageId()).comments;if(Y&&Y.blockCommentStartToken){const H=new RegExp("^\\s*"+(0,L.escapeRegExpCharacters)(Y.blockCommentStartToken));(0,n.setCollapseStateForMatchingLines)(oe,H,!0)}}}}class W extends I{constructor(){super({id:"editor.foldAllMarkerRegions",label:c.localize(6,null),alias:"Fold All Regions",precondition:E,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:(0,k.KeyChord)(2089,2077),weight:100}})}invoke($,oe,U,ae,z){if(oe.regions.hasTypes())(0,n.setCollapseStateForType)(oe,t.FoldingRangeKind.Region.value,!0);else{const J=U.getModel();if(!J)return;const Y=z.getLanguageConfiguration(J.getLanguageId()).foldingRules;if(Y&&Y.markers&&Y.markers.start){const H=new RegExp(Y.markers.start);(0,n.setCollapseStateForMatchingLines)(oe,H,!0)}}}}class x extends I{constructor(){super({id:"editor.unfoldAllMarkerRegions",label:c.localize(7,null),alias:"Unfold All Regions",precondition:E,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:(0,k.KeyChord)(2089,2078),weight:100}})}invoke($,oe,U,ae,z){if(oe.regions.hasTypes())(0,n.setCollapseStateForType)(oe,t.FoldingRangeKind.Region.value,!1);else{const J=U.getModel();if(!J)return;const Y=z.getLanguageConfiguration(J.getLanguageId()).foldingRules;if(Y&&Y.markers&&Y.markers.start){const H=new RegExp(Y.markers.start);(0,n.setCollapseStateForMatchingLines)(oe,H,!1)}}}}class P extends I{constructor(){super({id:"editor.foldAllExcept",label:c.localize(8,null),alias:"Fold All Regions Except Selected",precondition:E,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:(0,k.KeyChord)(2089,2131),weight:100}})}invoke($,oe,U){const ae=this.getSelectedLines(U);(0,n.setCollapseStateForRest)(oe,!0,ae)}}class X extends I{constructor(){super({id:"editor.unfoldAllExcept",label:c.localize(9,null),alias:"Unfold All Regions Except Selected",precondition:E,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:(0,k.KeyChord)(2089,2129),weight:100}})}invoke($,oe,U){const ae=this.getSelectedLines(U);(0,n.setCollapseStateForRest)(oe,!1,ae)}}class ie extends I{constructor(){super({id:"editor.foldAll",label:c.localize(10,null),alias:"Fold All",precondition:E,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:(0,k.KeyChord)(2089,2069),weight:100}})}invoke($,oe,U){(0,n.setCollapseStateLevelsDown)(oe,!0)}}class K extends I{constructor(){super({id:"editor.unfoldAll",label:c.localize(11,null),alias:"Unfold All",precondition:E,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:(0,k.KeyChord)(2089,2088),weight:100}})}invoke($,oe,U){(0,n.setCollapseStateLevelsDown)(oe,!1)}}class G extends I{getFoldingLevel(){return parseInt(this.id.substr(G.ID_PREFIX.length))}invoke($,oe,U){(0,n.setCollapseStateAtLevel)(oe,this.getFoldingLevel(),!0,this.getSelectedLines(U))}}G.ID_PREFIX="editor.foldLevel",G.ID=V=>G.ID_PREFIX+V;class Q extends I{constructor(){super({id:"editor.gotoParentFold",label:c.localize(12,null),alias:"Go to Parent Fold",precondition:E,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,weight:100}})}invoke($,oe,U){const ae=this.getSelectedLines(U);if(ae.length>0){const z=(0,n.getParentFoldLine)(ae[0],oe);z!==null&&U.setSelection({startLineNumber:z,startColumn:1,endLineNumber:z,endColumn:1})}}}class ne extends I{constructor(){super({id:"editor.gotoPreviousFold",label:c.localize(13,null),alias:"Go to Previous Folding Range",precondition:E,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,weight:100}})}invoke($,oe,U){const ae=this.getSelectedLines(U);if(ae.length>0){const z=(0,n.getPreviousFoldLine)(ae[0],oe);z!==null&&U.setSelection({startLineNumber:z,startColumn:1,endLineNumber:z,endColumn:1})}}}class Z extends I{constructor(){super({id:"editor.gotoNextFold",label:c.localize(14,null),alias:"Go to Next Folding Range",precondition:E,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,weight:100}})}invoke($,oe,U){const ae=this.getSelectedLines(U);if(ae.length>0){const z=(0,n.getNextFoldLine)(ae[0],oe);z!==null&&U.setSelection({startLineNumber:z,startColumn:1,endLineNumber:z,endColumn:1})}}}class ee extends I{constructor(){super({id:"editor.createFoldingRangeFromSelection",label:c.localize(15,null),alias:"Create Manual Folding Range from Selection",precondition:E,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:(0,k.KeyChord)(2089,2130),weight:100}})}invoke($,oe,U){var ae;const z=[],J=U.getSelections();if(J){for(const Y of J){let H=Y.endLineNumber;Y.endColumn===1&&--H,H>Y.startLineNumber&&(z.push({startLineNumber:Y.startLineNumber,endLineNumber:H,type:void 0,isCollapsed:!0,source:1}),U.setSelection({startLineNumber:Y.startLineNumber,startColumn:1,endLineNumber:Y.startLineNumber,endColumn:1}))}if(z.length>0){z.sort((H,j)=>H.startLineNumber-j.startLineNumber);const Y=u.FoldingRegions.sanitizeAndMerge(oe.regions,z,(ae=U.getModel())===null||ae===void 0?void 0:ae.getLineCount());oe.updatePost(u.FoldingRegions.fromFoldRanges(Y))}}}}class le extends I{constructor(){super({id:"editor.removeManualFoldingRanges",label:c.localize(16,null),alias:"Remove Manual Folding Ranges",precondition:E,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:(0,k.KeyChord)(2089,2132),weight:100}})}invoke($,oe,U){const ae=U.getSelections();if(ae){const z=[];for(const J of ae){const{startLineNumber:Y,endLineNumber:H}=J;z.push(H>=Y?{startLineNumber:Y,endLineNumber:H}:{endLineNumber:H,startLineNumber:Y})}oe.removeManualRanges(z),$.triggerFoldingModelChanged()}}}(0,h.registerEditorContribution)(T.ID,T),(0,h.registerEditorAction)(F),(0,h.registerEditorAction)(O),(0,h.registerEditorAction)(M),(0,h.registerEditorAction)(A),(0,h.registerEditorAction)(ie),(0,h.registerEditorAction)(K),(0,h.registerEditorAction)(B),(0,h.registerEditorAction)(W),(0,h.registerEditorAction)(x),(0,h.registerEditorAction)(P),(0,h.registerEditorAction)(X),(0,h.registerEditorAction)(N),(0,h.registerEditorAction)(Q),(0,h.registerEditorAction)(ne),(0,h.registerEditorAction)(Z),(0,h.registerEditorAction)(ee),(0,h.registerEditorAction)(le);for(let V=1;V<=7;V++)(0,h.registerInstantiatedEditorAction)(new G({id:G.ID(V),label:c.localize(17,null,V),alias:`Fold Level ${V}`,precondition:E,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:(0,k.KeyChord)(2089,2048|21+V),weight:100}}));e.foldBackgroundBackground=(0,r.registerColor)("editor.foldBackground",{light:(0,r.transparent)(r.editorSelectionBackground,.3),dark:(0,r.transparent)(r.editorSelectionBackground,.3),hcDark:null,hcLight:null},c.localize(18,null),!0),e.editorFoldForeground=(0,r.registerColor)("editorGutter.foldingControlForeground",{dark:r.iconForeground,light:r.iconForeground,hcDark:r.iconForeground,hcLight:r.iconForeground},c.localize(19,null)),(0,s.registerThemingParticipant)((V,$)=>{const oe=V.getColor(e.foldBackgroundBackground);oe&&$.addRule(`.monaco-editor .folded-background { background-color: ${oe}; }`);const U=V.getColor(e.editorFoldForeground);U&&$.addRule(`
		.monaco-editor .cldr${s.ThemeIcon.asCSSSelector(a.foldingExpandedIcon)},
		.monaco-editor .cldr${s.ThemeIcon.asCSSSelector(a.foldingCollapsedIcon)},
		.monaco-editor .cldr${s.ThemeIcon.asCSSSelector(a.foldingManualExpandedIcon)},
		.monaco-editor .cldr${s.ThemeIcon.asCSSSelector(a.foldingManualCollapsedIcon)} {
			color: ${U} !important;
		}
		`)})}),define(se[776],re([1,0,7,266,18,2,11,3,37,28,282,92,15,9,41,104,10,25]),function(q,e,w,m,k,D,L,b,C,h,g,t,i,n,o,l,c,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContentHoverWidget=e.ContentHoverController=void 0;const r=w.$;let s=class li extends D.Disposable{constructor(E,T,I){super(),this._editor=E,this._instantiationService=T,this._keybindingService=I,this._widget=this._register(this._instantiationService.createInstance(S,this._editor)),this._currentResult=null,this._participants=[];for(const R of t.HoverParticipantRegistry.getAll())this._participants.push(this._instantiationService.createInstance(R,this._editor));this._participants.sort((R,F)=>R.hoverOrdinal-F.hoverOrdinal),this._computer=new v(this._editor,this._participants),this._hoverOperation=this._register(new g.HoverOperation(this._editor,this._computer)),this._register(this._hoverOperation.onResult(R=>{if(!this._computer.anchor)return;const F=R.hasLoadingMessage?this._addLoadingMessage(R.value):R.value;this._withResult(new a(this._computer.anchor,F,R.isComplete))})),this._register(w.addStandardDisposableListener(this._widget.getDomNode(),"keydown",R=>{R.equals(9)&&this.hide()})),this._register(h.TokenizationRegistry.onDidChange(()=>{this._widget.position&&this._currentResult&&(this._widget.clear(),this._setCurrentResult(this._currentResult))}))}maybeShowAt(E){const T=[];for(const R of this._participants)if(R.suggestHoverAnchor){const F=R.suggestHoverAnchor(E);F&&T.push(F)}const I=E.target;if(I.type===6&&T.push(new t.HoverRangeAnchor(0,I.range,E.event.posx,E.event.posy)),I.type===7){const R=this._editor.getOption(45).typicalHalfwidthCharacterWidth/2;!I.detail.isAfterLines&&typeof I.detail.horizontalDistanceToText=="number"&&I.detail.horizontalDistanceToText<R&&T.push(new t.HoverRangeAnchor(0,I.range,E.event.posx,E.event.posy))}return T.length===0?this._startShowingOrUpdateHover(null,0,!1,E):(T.sort((R,F)=>F.priority-R.priority),this._startShowingOrUpdateHover(T[0],0,!1,E))}startShowingAtRange(E,T,I){this._startShowingOrUpdateHover(new t.HoverRangeAnchor(0,E,void 0,void 0),T,I,null)}_startShowingOrUpdateHover(E,T,I,R){return!this._widget.position||!this._currentResult?E?(this._startHoverOperationIfNecessary(E,T,I,!1),!0):!1:this._editor.getOption(54).sticky&&R&&this._widget.isMouseGettingCloser(R.event.posx,R.event.posy)?(E&&this._startHoverOperationIfNecessary(E,T,I,!0),!0):E?E&&this._currentResult.anchor.equals(E)?!0:E.canAdoptVisibleHover(this._currentResult.anchor,this._widget.position)?(this._setCurrentResult(this._currentResult.filter(E)),this._startHoverOperationIfNecessary(E,T,I,!1),!0):(this._setCurrentResult(null),this._startHoverOperationIfNecessary(E,T,I,!1),!0):(this._setCurrentResult(null),!1)}_startHoverOperationIfNecessary(E,T,I,R){this._computer.anchor&&this._computer.anchor.equals(E)||(this._hoverOperation.cancel(),this._computer.anchor=E,this._computer.shouldFocus=I,this._computer.insistOnKeepingHoverVisible=R,this._hoverOperation.start(T))}_setCurrentResult(E){this._currentResult!==E&&(E&&E.messages.length===0&&(E=null),this._currentResult=E,this._currentResult?this._renderMessages(this._currentResult.anchor,this._currentResult.messages):this._widget.hide())}hide(){this._computer.anchor=null,this._hoverOperation.cancel(),this._setCurrentResult(null)}isColorPickerVisible(){return this._widget.isColorPickerVisible}containsNode(E){return this._widget.getDomNode().contains(E)}_addLoadingMessage(E){if(this._computer.anchor){for(const T of this._participants)if(T.createLoadingMessage){const I=T.createLoadingMessage(this._computer.anchor);if(I)return E.slice(0).concat([I])}}return E}_withResult(E){this._widget.position&&this._currentResult&&this._currentResult.isComplete&&(!E.isComplete||this._computer.insistOnKeepingHoverVisible&&E.messages.length===0)||this._setCurrentResult(E)}_renderMessages(E,T){const{showAtPosition:I,showAtRange:R,highlightRange:F}=li.computeHoverRanges(this._editor,E.range,T),O=new D.DisposableStore,M=O.add(new f(this._keybindingService)),N=document.createDocumentFragment();let A=null;const B={fragment:N,statusBar:M,setColorPicker:x=>A=x,onContentsChanged:()=>this._widget.onContentsChanged(),hide:()=>this.hide()};for(const x of this._participants){const P=T.filter(X=>X.owner===x);P.length>0&&O.add(x.renderHoverParts(B,P))}const W=T.some(x=>x.isBeforeContent);if(M.hasContent&&N.appendChild(M.hoverElement),N.hasChildNodes()){if(F){const x=this._editor.createDecorationsCollection();x.set([{range:F,options:li._DECORATION_OPTIONS}]),O.add((0,D.toDisposable)(()=>{x.clear()}))}this._widget.showAt(N,new p(A,I,R,this._editor.getOption(54).above,this._computer.shouldFocus,W,E.initialMousePosX,E.initialMousePosY,O))}else O.dispose()}static computeHoverRanges(E,T,I){let R=1,F=1073741824;if(E.hasModel()){const W=E._getViewModel(),x=W.coordinatesConverter,P=x.convertModelRangeToViewRange(T),X=new L.Position(P.startLineNumber,W.getLineMinColumn(P.startLineNumber)),ie=new L.Position(P.endLineNumber,W.getLineMaxColumn(P.endLineNumber));R=x.convertViewPositionToModelPosition(X).column,F=x.convertViewPositionToModelPosition(ie).column}const O=T.startLineNumber;let M=T.startColumn,N=T.endColumn,A=I[0].range,B=null;for(const W of I)A=b.Range.plusRange(A,W.range),W.range.startLineNumber===O&&W.range.endLineNumber===O&&(M=Math.max(Math.min(M,W.range.startColumn),R),N=Math.min(Math.max(N,W.range.endColumn),F)),W.forceShowAtRange&&(B=W.range);return{showAtPosition:B?B.getStartPosition():new L.Position(T.startLineNumber,M),showAtRange:B||new b.Range(O,M,O,N),highlightRange:A}}};s._DECORATION_OPTIONS=C.ModelDecorationOptions.register({description:"content-hover-highlight",className:"hoverHighlight"}),s=De([fe(1,n.IInstantiationService),fe(2,o.IKeybindingService)],s),e.ContentHoverController=s;class a{constructor(E,T,I){this.anchor=E,this.messages=T,this.isComplete=I}filter(E){const T=this.messages.filter(I=>I.isValidForHoverAnchor(E));return T.length===this.messages.length?this:new u(this,this.anchor,T,this.isComplete)}}class u extends a{constructor(E,T,I,R){super(T,I,R),this.original=E}filter(E){return this.original.filter(E)}}class p{constructor(E,T,I,R,F,O,M,N,A){this.colorPicker=E,this.showAtPosition=T,this.showAtRange=I,this.preferAbove=R,this.stoleFocus=F,this.isBeforeContent=O,this.initialMousePosX=M,this.initialMousePosY=N,this.disposables=A,this.closestMouseDistance=void 0}}let S=class ji extends D.Disposable{get position(){var E,T;return(T=(E=this._visibleData)===null||E===void 0?void 0:E.showAtPosition)!==null&&T!==void 0?T:null}get isColorPickerVisible(){var E;return Boolean((E=this._visibleData)===null||E===void 0?void 0:E.colorPicker)}constructor(E,T){super(),this._editor=E,this._contextKeyService=T,this.allowEditorOverflow=!0,this._hoverVisibleKey=d.EditorContextKeys.hoverVisible.bindTo(this._contextKeyService),this._hover=this._register(new m.HoverWidget),this._visibleData=null,this._register(this._editor.onDidLayoutChange(()=>this._layout())),this._register(this._editor.onDidChangeConfiguration(I=>{I.hasChanged(45)&&this._updateFont()})),this._setVisibleData(null),this._layout(),this._editor.addContentWidget(this)}dispose(){this._editor.removeContentWidget(this),this._visibleData&&this._visibleData.disposables.dispose(),super.dispose()}getId(){return ji.ID}getDomNode(){return this._hover.containerDomNode}getPosition(){if(!this._visibleData)return null;let E=this._visibleData.preferAbove;!E&&this._contextKeyService.getContextKeyValue(l.Context.Visible.key)&&(E=!0);const T=this._visibleData.isBeforeContent?3:void 0;return{position:this._visibleData.showAtPosition,range:this._visibleData.showAtRange,preference:E?[1,2]:[2,1],positionAffinity:T}}isMouseGettingCloser(E,T){if(!this._visibleData)return!1;if(typeof this._visibleData.initialMousePosX>"u"||typeof this._visibleData.initialMousePosY>"u")return this._visibleData.initialMousePosX=E,this._visibleData.initialMousePosY=T,!1;const I=w.getDomNodePagePosition(this.getDomNode());typeof this._visibleData.closestMouseDistance>"u"&&(this._visibleData.closestMouseDistance=_(this._visibleData.initialMousePosX,this._visibleData.initialMousePosY,I.left,I.top,I.width,I.height));const R=_(E,T,I.left,I.top,I.width,I.height);return R>this._visibleData.closestMouseDistance+4?!1:(this._visibleData.closestMouseDistance=Math.min(this._visibleData.closestMouseDistance,R),!0)}_setVisibleData(E){this._visibleData&&this._visibleData.disposables.dispose(),this._visibleData=E,this._hoverVisibleKey.set(!!this._visibleData),this._hover.containerDomNode.classList.toggle("hidden",!this._visibleData)}_layout(){const E=Math.max(this._editor.getLayoutInfo().height/4,250),{fontSize:T,lineHeight:I}=this._editor.getOption(45);this._hover.contentsDomNode.style.fontSize=`${T}px`,this._hover.contentsDomNode.style.lineHeight=`${I/T}`,this._hover.contentsDomNode.style.maxHeight=`${E}px`,this._hover.contentsDomNode.style.maxWidth=`${Math.max(this._editor.getLayoutInfo().width*.66,500)}px`}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(T=>this._editor.applyFontInfo(T))}showAt(E,T){var I;this._setVisibleData(T),this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(E),this._hover.contentsDomNode.style.paddingBottom="",this._updateFont(),this.onContentsChanged(),this._editor.render(),this.onContentsChanged(),T.stoleFocus&&this._hover.containerDomNode.focus(),(I=T.colorPicker)===null||I===void 0||I.layout()}hide(){if(this._visibleData){const E=this._visibleData.stoleFocus;this._setVisibleData(null),this._editor.layoutContentWidget(this),E&&this._editor.focus()}}onContentsChanged(){this._editor.layoutContentWidget(this),this._hover.onContentsChanged();const E=this._hover.scrollbar.getScrollDimensions();if(E.scrollWidth>E.width){const I=`${this._hover.scrollbar.options.horizontalScrollbarSize}px`;this._hover.contentsDomNode.style.paddingBottom!==I&&(this._hover.contentsDomNode.style.paddingBottom=I,this._editor.layoutContentWidget(this),this._hover.onContentsChanged())}}clear(){this._hover.contentsDomNode.textContent=""}};S.ID="editor.contrib.contentHoverWidget",S=De([fe(1,i.IContextKeyService)],S),e.ContentHoverWidget=S;let f=class extends D.Disposable{get hasContent(){return this._hasContent}constructor(E){super(),this._keybindingService=E,this._hasContent=!1,this.hoverElement=r("div.hover-row.status-bar"),this.actionsElement=w.append(this.hoverElement,r("div.actions"))}addAction(E){const T=this._keybindingService.lookupKeybinding(E.commandId),I=T?T.getLabel():null;return this._hasContent=!0,this._register(m.HoverAction.render(this.actionsElement,E,I))}append(E){const T=w.append(this.actionsElement,E);return this._hasContent=!0,T}};f=De([fe(0,o.IKeybindingService)],f);class v{get anchor(){return this._anchor}set anchor(E){this._anchor=E}get shouldFocus(){return this._shouldFocus}set shouldFocus(E){this._shouldFocus=E}get insistOnKeepingHoverVisible(){return this._insistOnKeepingHoverVisible}set insistOnKeepingHoverVisible(E){this._insistOnKeepingHoverVisible=E}constructor(E,T){this._editor=E,this._participants=T,this._anchor=null,this._shouldFocus=!1,this._insistOnKeepingHoverVisible=!1}static _getLineDecorations(E,T){if(T.type!==1)return[];const I=E.getModel(),R=T.range.startLineNumber;if(R>I.getLineCount())return[];const F=I.getLineMaxColumn(R);return E.getLineDecorations(R).filter(O=>{if(O.options.isWholeLine)return!0;const M=O.range.startLineNumber===R?O.range.startColumn:1,N=O.range.endLineNumber===R?O.range.endColumn:F;if(O.options.showIfCollapsed){if(M>T.range.startColumn+1||T.range.endColumn-1>N)return!1}else if(M>T.range.startColumn||T.range.endColumn>N)return!1;return!0})}computeAsync(E){const T=this._anchor;if(!this._editor.hasModel()||!T)return c.AsyncIterableObject.EMPTY;const I=v._getLineDecorations(this._editor,T);return c.AsyncIterableObject.merge(this._participants.map(R=>R.computeAsync?R.computeAsync(T,I,E):c.AsyncIterableObject.EMPTY))}computeSync(){if(!this._editor.hasModel()||!this._anchor)return[];const E=v._getLineDecorations(this._editor,this._anchor);let T=[];for(const I of this._participants)T=T.concat(I.computeSync(this._anchor,E));return(0,k.coalesce)(T)}}function _(y,E,T,I,R,F){const O=T+R/2,M=I+F/2,N=Math.max(Math.abs(y-O)-R/2,0),A=Math.max(Math.abs(E-M)-F/2,0);return Math.sqrt(N*N+A*A)}}),define(se[777],re([1,0,10,14,97,13,3,24,25,37,103,54,593,16,470]),function(q,e,w,m,k,D,L,b,C,h,g,t,i,n,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});let l=class di{static get(s){return s.getContribution(di.ID)}constructor(s,a){this.editor=s,this.editorWorkerService=a,this.decorations=this.editor.createDecorationsCollection()}dispose(){}run(s,a){var u;(u=this.currentRequest)===null||u===void 0||u.cancel();const p=this.editor.getSelection(),S=this.editor.getModel();if(!S||!p)return;let f=p;if(f.startLineNumber!==f.endLineNumber)return;const v=new k.EditorState(this.editor,5),_=S.uri;return this.editorWorkerService.canNavigateValueSet(_)?(this.currentRequest=(0,w.createCancelablePromise)(y=>this.editorWorkerService.navigateValueSet(_,f,a)),this.currentRequest.then(y=>{var E;if(!y||!y.range||!y.value||!v.validate(this.editor))return;const T=L.Range.lift(y.range);let I=y.range;const R=y.value.length-(f.endColumn-f.startColumn);I={startLineNumber:I.startLineNumber,startColumn:I.startColumn,endLineNumber:I.endLineNumber,endColumn:I.startColumn+y.value.length},R>1&&(f=new b.Selection(f.startLineNumber,f.startColumn,f.endLineNumber,f.endColumn+R-1));const F=new o.InPlaceReplaceCommand(T,f,y.value);this.editor.pushUndoStop(),this.editor.executeCommand(s,F),this.editor.pushUndoStop(),this.decorations.set([{range:I,options:di.DECORATION}]),(E=this.decorationRemover)===null||E===void 0||E.cancel(),this.decorationRemover=(0,w.timeout)(350),this.decorationRemover.then(()=>this.decorations.clear()).catch(m.onUnexpectedError)}).catch(m.onUnexpectedError)):Promise.resolve(void 0)}};l.ID="editor.contrib.inPlaceReplaceController",l.DECORATION=h.ModelDecorationOptions.register({description:"in-place-replace",className:"valueSetReplacement"}),l=De([fe(1,g.IEditorWorkerService)],l);class c extends D.EditorAction{constructor(){super({id:"editor.action.inPlaceReplace.up",label:i.localize(0,null),alias:"Replace with Previous Value",precondition:C.EditorContextKeys.writable,kbOpts:{kbExpr:C.EditorContextKeys.editorTextFocus,primary:3154,weight:100}})}run(s,a){const u=l.get(a);return u?u.run(this.id,!0):Promise.resolve(void 0)}}class d extends D.EditorAction{constructor(){super({id:"editor.action.inPlaceReplace.down",label:i.localize(1,null),alias:"Replace with Next Value",precondition:C.EditorContextKeys.writable,kbOpts:{kbExpr:C.EditorContextKeys.editorTextFocus,primary:3156,weight:100}})}run(s,a){const u=l.get(a);return u?u.run(this.id,!1):Promise.resolve(void 0)}}(0,D.registerEditorContribution)(l.ID,l),(0,D.registerEditorAction)(c),(0,D.registerEditorAction)(d),(0,n.registerThemingParticipant)((r,s)=>{const a=r.getColor(t.editorBracketMatchBorder);a&&s.addRule(`.monaco-editor.vs .valueSetReplacement { outline: solid 2px ${a}; }`)})}),define(se[778],re([1,0,18,10,21,31,14,6,2,8,22,13,29,11,3,25,37,34,600,15,23,16,20,73,56]),function(q,e,w,m,k,D,L,b,C,h,g,t,i,n,o,l,c,d,r,s,a,u,p,S,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.editorLinkedEditingBackground=e.LinkedEditingAction=e.LinkedEditingContribution=e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE=void 0,e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE=new s.RawContextKey("LinkedEditingInputVisible",!1);const v="linked-editing-decoration";let _=class ci extends C.Disposable{static get(R){return R.getContribution(ci.ID)}constructor(R,F,O,M,N){super(),this.languageConfigurationService=M,this._syncRangesToken=0,this._localToDispose=this._register(new C.DisposableStore),this._editor=R,this._providers=O.linkedEditingRangeProvider,this._enabled=!1,this._visibleContextKey=e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE.bindTo(F),this._debounceInformation=N.for(this._providers,"Linked Editing",{min:200}),this._currentDecorations=this._editor.createDecorationsCollection(),this._languageWordPattern=null,this._currentWordPattern=null,this._ignoreChangeEvent=!1,this._localToDispose=this._register(new C.DisposableStore),this._rangeUpdateTriggerPromise=null,this._rangeSyncTriggerPromise=null,this._currentRequest=null,this._currentRequestPosition=null,this._currentRequestModelVersion=null,this._register(this._editor.onDidChangeModel(()=>this.reinitialize(!0))),this._register(this._editor.onDidChangeConfiguration(A=>{(A.hasChanged(63)||A.hasChanged(83))&&this.reinitialize(!1)})),this._register(this._providers.onDidChange(()=>this.reinitialize(!1))),this._register(this._editor.onDidChangeModelLanguage(()=>this.reinitialize(!0))),this.reinitialize(!0)}reinitialize(R){const F=this._editor.getModel(),O=F!==null&&(this._editor.getOption(63)||this._editor.getOption(83))&&this._providers.has(F);if(O===this._enabled&&!R||(this._enabled=O,this.clearRanges(),this._localToDispose.clear(),!O||F===null))return;this._localToDispose.add(b.Event.runAndSubscribe(F.onDidChangeLanguageConfiguration,()=>{this._languageWordPattern=this.languageConfigurationService.getLanguageConfiguration(F.getLanguageId()).getWordDefinition()}));const M=new m.Delayer(this._debounceInformation.get(F)),N=()=>{var W;this._rangeUpdateTriggerPromise=M.trigger(()=>this.updateRanges(),(W=this._debounceDuration)!==null&&W!==void 0?W:this._debounceInformation.get(F))},A=new m.Delayer(0),B=W=>{this._rangeSyncTriggerPromise=A.trigger(()=>this._syncRanges(W))};this._localToDispose.add(this._editor.onDidChangeCursorPosition(()=>{N()})),this._localToDispose.add(this._editor.onDidChangeModelContent(W=>{if(!this._ignoreChangeEvent&&this._currentDecorations.length>0){const x=this._currentDecorations.getRange(0);if(x&&W.changes.every(P=>x.intersectRanges(P.range))){B(this._syncRangesToken);return}}N()})),this._localToDispose.add({dispose:()=>{M.dispose(),A.dispose()}}),this.updateRanges()}_syncRanges(R){if(!this._editor.hasModel()||R!==this._syncRangesToken||this._currentDecorations.length===0)return;const F=this._editor.getModel(),O=this._currentDecorations.getRange(0);if(!O||O.startLineNumber!==O.endLineNumber)return this.clearRanges();const M=F.getValueInRange(O);if(this._currentWordPattern){const A=M.match(this._currentWordPattern);if((A?A[0].length:0)!==M.length)return this.clearRanges()}const N=[];for(let A=1,B=this._currentDecorations.length;A<B;A++){const W=this._currentDecorations.getRange(A);if(!!W)if(W.startLineNumber!==W.endLineNumber)N.push({range:W,text:M});else{let x=F.getValueInRange(W),P=M,X=W.startColumn,ie=W.endColumn;const K=h.commonPrefixLength(x,P);X+=K,x=x.substr(K),P=P.substr(K);const G=h.commonSuffixLength(x,P);ie-=G,x=x.substr(0,x.length-G),P=P.substr(0,P.length-G),(X!==ie||P.length!==0)&&N.push({range:new o.Range(W.startLineNumber,X,W.endLineNumber,ie),text:P})}}if(N.length!==0)try{this._editor.popUndoStop(),this._ignoreChangeEvent=!0;const A=this._editor._getViewModel().getPrevEditOperationType();this._editor.executeEdits("linkedEditing",N),this._editor._getViewModel().setPrevEditOperationType(A)}finally{this._ignoreChangeEvent=!1}}dispose(){this.clearRanges(),super.dispose()}clearRanges(){this._visibleContextKey.set(!1),this._currentDecorations.clear(),this._currentRequest&&(this._currentRequest.cancel(),this._currentRequest=null,this._currentRequestPosition=null)}updateRanges(R=!1){return Se(this,void 0,void 0,function*(){if(!this._editor.hasModel()){this.clearRanges();return}const F=this._editor.getPosition();if(!this._enabled&&!R||this._editor.getSelections().length>1){this.clearRanges();return}const O=this._editor.getModel(),M=O.getVersionId();if(this._currentRequestPosition&&this._currentRequestModelVersion===M){if(F.equals(this._currentRequestPosition))return;if(this._currentDecorations.length>0){const A=this._currentDecorations.getRange(0);if(A&&A.containsPosition(F))return}}this._currentRequestPosition=F,this._currentRequestModelVersion=M;const N=(0,m.createCancelablePromise)(A=>Se(this,void 0,void 0,function*(){try{const B=new f.StopWatch(!1),W=yield T(this._providers,O,F,A);if(this._debounceInformation.update(O,B.elapsed()),N!==this._currentRequest||(this._currentRequest=null,M!==O.getVersionId()))return;let x=[];W?.ranges&&(x=W.ranges),this._currentWordPattern=W?.wordPattern||this._languageWordPattern;let P=!1;for(let ie=0,K=x.length;ie<K;ie++)if(o.Range.containsPosition(x[ie],F)){if(P=!0,ie!==0){const G=x[ie];x.splice(ie,1),x.unshift(G)}break}if(!P){this.clearRanges();return}const X=x.map(ie=>({range:ie,options:ci.DECORATION}));this._visibleContextKey.set(!0),this._currentDecorations.set(X),this._syncRangesToken++}catch(B){(0,L.isCancellationError)(B)||(0,L.onUnexpectedError)(B),(this._currentRequest===N||!this._currentRequest)&&this.clearRanges()}}));return this._currentRequest=N,N})}};_.ID="editor.contrib.linkedEditing",_.DECORATION=c.ModelDecorationOptions.register({description:"linked-editing",stickiness:0,className:v}),_=De([fe(1,s.IContextKeyService),fe(2,p.ILanguageFeaturesService),fe(3,d.ILanguageConfigurationService),fe(4,S.ILanguageFeatureDebounceService)],_),e.LinkedEditingContribution=_;class y extends t.EditorAction{constructor(){super({id:"editor.action.linkedEditing",label:r.localize(0,null),alias:"Start Linked Editing",precondition:s.ContextKeyExpr.and(l.EditorContextKeys.writable,l.EditorContextKeys.hasRenameProvider),kbOpts:{kbExpr:l.EditorContextKeys.editorTextFocus,primary:3132,weight:100}})}runCommand(R,F){const O=R.get(i.ICodeEditorService),[M,N]=Array.isArray(F)&&F||[void 0,void 0];return g.URI.isUri(M)&&n.Position.isIPosition(N)?O.openCodeEditor({resource:M},O.getActiveCodeEditor()).then(A=>{!A||(A.setPosition(N),A.invokeWithinContext(B=>(this.reportTelemetry(B,A),this.run(B,A))))},L.onUnexpectedError):super.runCommand(R,F)}run(R,F){const O=_.get(F);return O?Promise.resolve(O.updateRanges(!0)):Promise.resolve()}}e.LinkedEditingAction=y;const E=t.EditorCommand.bindToContribution(_.get);(0,t.registerEditorCommand)(new E({id:"cancelLinkedEditingInput",precondition:e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE,handler:I=>I.clearRanges(),kbOpts:{kbExpr:l.EditorContextKeys.editorTextFocus,weight:100+99,primary:9,secondary:[1033]}}));function T(I,R,F,O){const M=I.ordered(R);return(0,m.first)(M.map(N=>()=>Se(this,void 0,void 0,function*(){try{return yield N.provideLinkedEditingRanges(R,F,O)}catch(A){(0,L.onUnexpectedExternalError)(A);return}})),N=>!!N&&w.isNonEmptyArray(N?.ranges))}e.editorLinkedEditingBackground=(0,a.registerColor)("editor.linkedEditingBackground",{dark:D.Color.fromHex("#f00").transparent(.3),light:D.Color.fromHex("#f00").transparent(.3),hcDark:D.Color.fromHex("#f00").transparent(.3),hcLight:D.Color.white},r.localize(1,null)),(0,u.registerThemingParticipant)((I,R)=>{const F=I.getColor(e.editorLinkedEditingBackground);F&&R.addRule(`.monaco-editor .${v} { background: ${F}; border-left-color: ${F}; }`)}),(0,t.registerModelAndPositionCommand)("_executeLinkedEditingProvider",(I,R,F)=>{const{linkedEditingRangeProvider:O}=I.get(p.ILanguageFeaturesService);return T(O,R,F,k.CancellationToken.None)}),(0,t.registerEditorContribution)(_.ID,_),(0,t.registerEditorAction)(y)}),define(se[779],re([1,0,10,21,14,68,2,49,17,44,56,22,13,37,73,20,166,653,601,40,46,23,16,393]),function(q,e,w,m,k,D,L,b,C,h,g,t,i,n,o,l,c,d,r,s,a,u,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinkDetector=void 0;let S=class qi extends L.Disposable{static get(T){return T.getContribution(qi.ID)}constructor(T,I,R,F,O){super(),this.editor=T,this.openerService=I,this.notificationService=R,this.languageFeaturesService=F,this.providers=this.languageFeaturesService.linkProvider,this.debounceInformation=O.for(this.providers,"Links",{min:1e3,max:4e3}),this.computeLinks=this._register(new w.RunOnceScheduler(()=>this.computeLinksNow(),1e3)),this.computePromise=null,this.activeLinksList=null,this.currentOccurrences={},this.activeLinkDecorationId=null;const M=this._register(new c.ClickLinkGesture(T));this._register(M.onMouseMoveOrRelevantKeyDown(([N,A])=>{this._onEditorMouseMove(N,A)})),this._register(M.onExecute(N=>{this.onEditorMouseUp(N)})),this._register(M.onCancel(N=>{this.cleanUpActiveLinkDecoration()})),this._register(T.onDidChangeConfiguration(N=>{!N.hasChanged(64)||(this.updateDecorations([]),this.stop(),this.computeLinks.schedule(0))})),this._register(T.onDidChangeModelContent(N=>{!this.editor.hasModel()||this.computeLinks.schedule(this.debounceInformation.get(this.editor.getModel()))})),this._register(T.onDidChangeModel(N=>{this.currentOccurrences={},this.activeLinkDecorationId=null,this.stop(),this.computeLinks.schedule(0)})),this._register(T.onDidChangeModelLanguage(N=>{this.stop(),this.computeLinks.schedule(0)})),this._register(this.providers.onDidChange(N=>{this.stop(),this.computeLinks.schedule(0)})),this.computeLinks.schedule(0)}computeLinksNow(){return Se(this,void 0,void 0,function*(){if(!this.editor.hasModel()||!this.editor.getOption(64))return;const T=this.editor.getModel();if(!!this.providers.has(T)){this.activeLinksList&&(this.activeLinksList.dispose(),this.activeLinksList=null),this.computePromise=(0,w.createCancelablePromise)(I=>(0,d.getLinks)(this.providers,T,I));try{const I=new g.StopWatch(!1);if(this.activeLinksList=yield this.computePromise,this.debounceInformation.update(T,I.elapsed()),T.isDisposed())return;this.updateDecorations(this.activeLinksList.links)}catch(I){(0,k.onUnexpectedError)(I)}finally{this.computePromise=null}}})}updateDecorations(T){const I=this.editor.getOption(71)==="altKey",R=[],F=Object.keys(this.currentOccurrences);for(const M of F){const N=this.currentOccurrences[M];R.push(N.decorationId)}const O=[];if(T)for(const M of T)O.push(v.decoration(M,I));this.editor.changeDecorations(M=>{const N=M.deltaDecorations(R,O);this.currentOccurrences={},this.activeLinkDecorationId=null;for(let A=0,B=N.length;A<B;A++){const W=new v(T[A],N[A]);this.currentOccurrences[W.decorationId]=W}})}_onEditorMouseMove(T,I){const R=this.editor.getOption(71)==="altKey";if(this.isEnabled(T,I)){this.cleanUpActiveLinkDecoration();const F=this.getLinkOccurrence(T.target.position);F&&this.editor.changeDecorations(O=>{F.activate(O,R),this.activeLinkDecorationId=F.decorationId})}else this.cleanUpActiveLinkDecoration()}cleanUpActiveLinkDecoration(){const T=this.editor.getOption(71)==="altKey";if(this.activeLinkDecorationId){const I=this.currentOccurrences[this.activeLinkDecorationId];I&&this.editor.changeDecorations(R=>{I.deactivate(R,T)}),this.activeLinkDecorationId=null}}onEditorMouseUp(T){if(!this.isEnabled(T))return;const I=this.getLinkOccurrence(T.target.position);!I||this.openLinkOccurrence(I,T.hasSideBySideModifier,!0)}openLinkOccurrence(T,I,R=!1){if(!this.openerService)return;const{link:F}=T;F.resolve(m.CancellationToken.None).then(O=>{if(typeof O=="string"&&this.editor.hasModel()){const M=this.editor.getModel().uri;if(M.scheme===b.Schemas.file&&O.startsWith(`${b.Schemas.file}:`)){const N=t.URI.parse(O);if(N.scheme===b.Schemas.file){const A=h.originalFSPath(N);let B=null;A.startsWith("/./")?B=`.${A.substr(1)}`:A.startsWith("//./")&&(B=`.${A.substr(2)}`),B&&(O=h.joinPath(M,B))}}}return this.openerService.open(O,{openToSide:I,fromUserGesture:R,allowContributedOpeners:!0,allowCommands:!0,fromWorkspace:!0})},O=>{const M=O instanceof Error?O.message:O;M==="invalid"?this.notificationService.warn(r.localize(0,null,F.url.toString())):M==="missing"?this.notificationService.warn(r.localize(1,null)):(0,k.onUnexpectedError)(O)})}getLinkOccurrence(T){if(!this.editor.hasModel()||!T)return null;const I=this.editor.getModel().getDecorationsInRange({startLineNumber:T.lineNumber,startColumn:T.column,endLineNumber:T.lineNumber,endColumn:T.column},0,!0);for(const R of I){const F=this.currentOccurrences[R.id];if(F)return F}return null}isEnabled(T,I){return Boolean(T.target.type===6&&(T.hasTriggerModifier||I&&I.keyCodeIsTriggerKey))}stop(){var T;this.computeLinks.cancel(),this.activeLinksList&&((T=this.activeLinksList)===null||T===void 0||T.dispose(),this.activeLinksList=null),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)}dispose(){super.dispose(),this.stop()}};S.ID="editor.linkDetector",S=De([fe(1,a.IOpenerService),fe(2,s.INotificationService),fe(3,l.ILanguageFeaturesService),fe(4,o.ILanguageFeatureDebounceService)],S),e.LinkDetector=S;const f={general:n.ModelDecorationOptions.register({description:"detected-link",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link"}),active:n.ModelDecorationOptions.register({description:"detected-link-active",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link-active"})};class v{static decoration(T,I){return{range:T.range,options:v._getOptions(T,I,!1)}}static _getOptions(T,I,R){const F=Object.assign({},R?f.active:f.general);return F.hoverMessage=_(T,I),F}constructor(T,I){this.link=T,this.decorationId=I}activate(T,I){T.changeDecorationOptions(this.decorationId,v._getOptions(this.link,I,!0))}deactivate(T,I){T.changeDecorationOptions(this.decorationId,v._getOptions(this.link,I,!1))}}function _(E,T){const I=E.url&&/^command:/i.test(E.url.toString()),R=E.tooltip?E.tooltip:I?r.localize(2,null):r.localize(3,null),F=T?C.isMacintosh?r.localize(4,null):r.localize(5,null):C.isMacintosh?r.localize(6,null):r.localize(7,null);if(E.url){let O="";if(/^command:/i.test(E.url.toString())){const N=E.url.toString().match(/^command:([^?#]+)/);if(N){const A=N[1];O=r.localize(8,null,A)}}return new D.MarkdownString("",!0).appendLink(E.url.toString(!0).replace(/ /g,"%20"),R,O).appendMarkdown(` (${F})`)}else return new D.MarkdownString().appendText(`${R} (${F})`)}class y extends i.EditorAction{constructor(){super({id:"editor.action.openLink",label:r.localize(9,null),alias:"Open Link",precondition:void 0})}run(T,I){const R=S.get(I);if(!R||!I.hasModel())return;const F=I.getSelections();for(const O of F){const M=R.getLinkOccurrence(O.getEndPosition());M&&R.openLinkOccurrence(M,!1)}}}(0,i.registerEditorContribution)(S.ID,S),(0,i.registerEditorAction)(y),(0,p.registerThemingParticipant)((E,T)=>{const I=E.getColor(u.editorActiveLinkForeground);I&&T.addRule(`.monaco-editor .detected-link-active { color: ${I} !important; }`)})}),define(se[780],re([1,0,50,10,57,2,13,188,3,24,25,47,37,318,603,32,15,23,16,20]),function(q,e,w,m,k,D,L,b,C,h,g,t,i,n,o,l,c,d,r,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FocusPreviousCursor=e.FocusNextCursor=e.SelectionHighlighter=e.CompatChangeAll=e.SelectHighlightsAction=e.MoveSelectionToPreviousFindMatchAction=e.MoveSelectionToNextFindMatchAction=e.AddSelectionToPreviousFindMatchAction=e.AddSelectionToNextFindMatchAction=e.MultiCursorSelectionControllerAction=e.MultiCursorSelectionController=e.MultiCursorSession=e.MultiCursorSessionResult=e.InsertCursorBelow=e.InsertCursorAbove=void 0;function a(ie,K){const G=K.filter(Q=>!ie.find(ne=>ne.equals(Q)));if(G.length>=1){const Q=G.map(Z=>`line ${Z.viewState.position.lineNumber} column ${Z.viewState.position.column}`).join(", "),ne=G.length===1?o.localize(0,null,Q):o.localize(1,null,Q);(0,w.status)(ne)}}class u extends L.EditorAction{constructor(){super({id:"editor.action.insertCursorAbove",label:o.localize(2,null),alias:"Add Cursor Above",precondition:void 0,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:2576,linux:{primary:1552,secondary:[3088]},weight:100},menuOpts:{menuId:l.MenuId.MenubarSelectionMenu,group:"3_multi",title:o.localize(3,null),order:2}})}run(K,G,Q){if(!G.hasModel())return;let ne=!0;Q&&Q.logicalLine===!1&&(ne=!1);const Z=G._getViewModel();if(Z.cursorConfig.readOnly)return;Z.model.pushStackElement();const ee=Z.getCursorStates();Z.setCursorStates(Q.source,3,b.CursorMoveCommands.addCursorUp(Z,ee,ne)),Z.revealTopMostCursor(Q.source),a(ee,Z.getCursorStates())}}e.InsertCursorAbove=u;class p extends L.EditorAction{constructor(){super({id:"editor.action.insertCursorBelow",label:o.localize(4,null),alias:"Add Cursor Below",precondition:void 0,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:2578,linux:{primary:1554,secondary:[3090]},weight:100},menuOpts:{menuId:l.MenuId.MenubarSelectionMenu,group:"3_multi",title:o.localize(5,null),order:3}})}run(K,G,Q){if(!G.hasModel())return;let ne=!0;Q&&Q.logicalLine===!1&&(ne=!1);const Z=G._getViewModel();if(Z.cursorConfig.readOnly)return;Z.model.pushStackElement();const ee=Z.getCursorStates();Z.setCursorStates(Q.source,3,b.CursorMoveCommands.addCursorDown(Z,ee,ne)),Z.revealBottomMostCursor(Q.source),a(ee,Z.getCursorStates())}}e.InsertCursorBelow=p;class S extends L.EditorAction{constructor(){super({id:"editor.action.insertCursorAtEndOfEachLineSelected",label:o.localize(6,null),alias:"Add Cursors to Line Ends",precondition:void 0,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:1575,weight:100},menuOpts:{menuId:l.MenuId.MenubarSelectionMenu,group:"3_multi",title:o.localize(7,null),order:4}})}getCursorsForSelection(K,G,Q){if(!K.isEmpty()){for(let ne=K.startLineNumber;ne<K.endLineNumber;ne++){const Z=G.getLineMaxColumn(ne);Q.push(new h.Selection(ne,Z,ne,Z))}K.endColumn>1&&Q.push(new h.Selection(K.endLineNumber,K.endColumn,K.endLineNumber,K.endColumn))}}run(K,G){if(!G.hasModel())return;const Q=G.getModel(),ne=G.getSelections(),Z=G._getViewModel(),ee=Z.getCursorStates(),le=[];ne.forEach(V=>this.getCursorsForSelection(V,Q,le)),le.length>0&&G.setSelections(le),a(ee,Z.getCursorStates())}}class f extends L.EditorAction{constructor(){super({id:"editor.action.addCursorsToBottom",label:o.localize(8,null),alias:"Add Cursors To Bottom",precondition:void 0})}run(K,G){if(!G.hasModel())return;const Q=G.getSelections(),ne=G.getModel().getLineCount(),Z=[];for(let V=Q[0].startLineNumber;V<=ne;V++)Z.push(new h.Selection(V,Q[0].startColumn,V,Q[0].endColumn));const ee=G._getViewModel(),le=ee.getCursorStates();Z.length>0&&G.setSelections(Z),a(le,ee.getCursorStates())}}class v extends L.EditorAction{constructor(){super({id:"editor.action.addCursorsToTop",label:o.localize(9,null),alias:"Add Cursors To Top",precondition:void 0})}run(K,G){if(!G.hasModel())return;const Q=G.getSelections(),ne=[];for(let le=Q[0].startLineNumber;le>=1;le--)ne.push(new h.Selection(le,Q[0].startColumn,le,Q[0].endColumn));const Z=G._getViewModel(),ee=Z.getCursorStates();ne.length>0&&G.setSelections(ne),a(ee,Z.getCursorStates())}}class _{constructor(K,G,Q){this.selections=K,this.revealRange=G,this.revealScrollType=Q}}e.MultiCursorSessionResult=_;class y{static create(K,G){if(!K.hasModel())return null;const Q=G.getState();if(!K.hasTextFocus()&&Q.isRevealed&&Q.searchString.length>0)return new y(K,G,!1,Q.searchString,Q.wholeWord,Q.matchCase,null);let ne=!1,Z,ee;const le=K.getSelections();le.length===1&&le[0].isEmpty()?(ne=!0,Z=!0,ee=!0):(Z=Q.wholeWord,ee=Q.matchCase);const V=K.getSelection();let $,oe=null;if(V.isEmpty()){const U=K.getConfiguredWordAtPosition(V.getStartPosition());if(!U)return null;$=U.word,oe=new h.Selection(V.startLineNumber,U.startColumn,V.startLineNumber,U.endColumn)}else $=K.getModel().getValueInRange(V).replace(/\r\n/g,`
`);return new y(K,G,ne,$,Z,ee,oe)}constructor(K,G,Q,ne,Z,ee,le){this._editor=K,this.findController=G,this.isDisconnectedFromFindController=Q,this.searchText=ne,this.wholeWord=Z,this.matchCase=ee,this.currentMatch=le}addSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const K=this._getNextMatch();if(!K)return null;const G=this._editor.getSelections();return new _(G.concat(K),K,0)}moveSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const K=this._getNextMatch();if(!K)return null;const G=this._editor.getSelections();return new _(G.slice(0,G.length-1).concat(K),K,0)}_getNextMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const ne=this.currentMatch;return this.currentMatch=null,ne}this.findController.highlightFindOptions();const K=this._editor.getSelections(),G=K[K.length-1],Q=this._editor.getModel().findNextMatch(this.searchText,G.getEndPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(119):null,!1);return Q?new h.Selection(Q.range.startLineNumber,Q.range.startColumn,Q.range.endLineNumber,Q.range.endColumn):null}addSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const K=this._getPreviousMatch();if(!K)return null;const G=this._editor.getSelections();return new _(G.concat(K),K,0)}moveSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const K=this._getPreviousMatch();if(!K)return null;const G=this._editor.getSelections();return new _(G.slice(0,G.length-1).concat(K),K,0)}_getPreviousMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const ne=this.currentMatch;return this.currentMatch=null,ne}this.findController.highlightFindOptions();const K=this._editor.getSelections(),G=K[K.length-1],Q=this._editor.getModel().findPreviousMatch(this.searchText,G.getStartPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(119):null,!1);return Q?new h.Selection(Q.range.startLineNumber,Q.range.startColumn,Q.range.endLineNumber,Q.range.endColumn):null}selectAll(K){if(!this._editor.hasModel())return[];this.findController.highlightFindOptions();const G=this._editor.getModel();return K?G.findMatches(this.searchText,K,!1,this.matchCase,this.wholeWord?this._editor.getOption(119):null,!1,1073741824):G.findMatches(this.searchText,!0,!1,this.matchCase,this.wholeWord?this._editor.getOption(119):null,!1,1073741824)}}e.MultiCursorSession=y;class E extends D.Disposable{static get(K){return K.getContribution(E.ID)}constructor(K){super(),this._sessionDispose=this._register(new D.DisposableStore),this._editor=K,this._ignoreSelectionChange=!1,this._session=null}dispose(){this._endSession(),super.dispose()}_beginSessionIfNeeded(K){if(!this._session){const G=y.create(this._editor,K);if(!G)return;this._session=G;const Q={searchString:this._session.searchText};this._session.isDisconnectedFromFindController&&(Q.wholeWordOverride=1,Q.matchCaseOverride=1,Q.isRegexOverride=2),K.getState().change(Q,!1),this._sessionDispose.add(this._editor.onDidChangeCursorSelection(ne=>{this._ignoreSelectionChange||this._endSession()})),this._sessionDispose.add(this._editor.onDidBlurEditorText(()=>{this._endSession()})),this._sessionDispose.add(K.getState().onFindReplaceStateChange(ne=>{(ne.matchCase||ne.wholeWord)&&this._endSession()}))}}_endSession(){if(this._sessionDispose.clear(),this._session&&this._session.isDisconnectedFromFindController){const K={wholeWordOverride:0,matchCaseOverride:0,isRegexOverride:0};this._session.findController.getState().change(K,!1)}this._session=null}_setSelections(K){this._ignoreSelectionChange=!0,this._editor.setSelections(K),this._ignoreSelectionChange=!1}_expandEmptyToWord(K,G){if(!G.isEmpty())return G;const Q=this._editor.getConfiguredWordAtPosition(G.getStartPosition());return Q?new h.Selection(G.startLineNumber,Q.startColumn,G.startLineNumber,Q.endColumn):G}_applySessionResult(K){!K||(this._setSelections(K.selections),K.revealRange&&this._editor.revealRangeInCenterIfOutsideViewport(K.revealRange,K.revealScrollType))}getSession(K){return this._session}addSelectionToNextFindMatch(K){if(!!this._editor.hasModel()){if(!this._session){const G=this._editor.getSelections();if(G.length>1){const ne=K.getState().matchCase;if(!W(this._editor.getModel(),G,ne)){const ee=this._editor.getModel(),le=[];for(let V=0,$=G.length;V<$;V++)le[V]=this._expandEmptyToWord(ee,G[V]);this._editor.setSelections(le);return}}}this._beginSessionIfNeeded(K),this._session&&this._applySessionResult(this._session.addSelectionToNextFindMatch())}}addSelectionToPreviousFindMatch(K){this._beginSessionIfNeeded(K),this._session&&this._applySessionResult(this._session.addSelectionToPreviousFindMatch())}moveSelectionToNextFindMatch(K){this._beginSessionIfNeeded(K),this._session&&this._applySessionResult(this._session.moveSelectionToNextFindMatch())}moveSelectionToPreviousFindMatch(K){this._beginSessionIfNeeded(K),this._session&&this._applySessionResult(this._session.moveSelectionToPreviousFindMatch())}selectAll(K){if(!this._editor.hasModel())return;let G=null;const Q=K.getState();if(Q.isRevealed&&Q.searchString.length>0&&Q.isRegex){const ne=this._editor.getModel();Q.searchScope?G=ne.findMatches(Q.searchString,Q.searchScope,Q.isRegex,Q.matchCase,Q.wholeWord?this._editor.getOption(119):null,!1,1073741824):G=ne.findMatches(Q.searchString,!0,Q.isRegex,Q.matchCase,Q.wholeWord?this._editor.getOption(119):null,!1,1073741824)}else{if(this._beginSessionIfNeeded(K),!this._session)return;G=this._session.selectAll(Q.searchScope)}if(G.length>0){const ne=this._editor.getSelection();for(let Z=0,ee=G.length;Z<ee;Z++){const le=G[Z];if(le.range.intersectRanges(ne)){G[Z]=G[0],G[0]=le;break}}this._setSelections(G.map(Z=>new h.Selection(Z.range.startLineNumber,Z.range.startColumn,Z.range.endLineNumber,Z.range.endColumn)))}}}e.MultiCursorSelectionController=E,E.ID="editor.contrib.multiCursorController";class T extends L.EditorAction{run(K,G){const Q=E.get(G);if(!Q)return;const ne=n.CommonFindController.get(G);if(!ne)return;const Z=G._getViewModel();if(Z){const ee=Z.getCursorStates();this._run(Q,ne),a(ee,Z.getCursorStates())}}}e.MultiCursorSelectionControllerAction=T;class I extends T{constructor(){super({id:"editor.action.addSelectionToNextFindMatch",label:o.localize(10,null),alias:"Add Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:g.EditorContextKeys.focus,primary:2082,weight:100},menuOpts:{menuId:l.MenuId.MenubarSelectionMenu,group:"3_multi",title:o.localize(11,null),order:5}})}_run(K,G){K.addSelectionToNextFindMatch(G)}}e.AddSelectionToNextFindMatchAction=I;class R extends T{constructor(){super({id:"editor.action.addSelectionToPreviousFindMatch",label:o.localize(12,null),alias:"Add Selection To Previous Find Match",precondition:void 0,menuOpts:{menuId:l.MenuId.MenubarSelectionMenu,group:"3_multi",title:o.localize(13,null),order:6}})}_run(K,G){K.addSelectionToPreviousFindMatch(G)}}e.AddSelectionToPreviousFindMatchAction=R;class F extends T{constructor(){super({id:"editor.action.moveSelectionToNextFindMatch",label:o.localize(14,null),alias:"Move Last Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:g.EditorContextKeys.focus,primary:(0,k.KeyChord)(2089,2082),weight:100}})}_run(K,G){K.moveSelectionToNextFindMatch(G)}}e.MoveSelectionToNextFindMatchAction=F;class O extends T{constructor(){super({id:"editor.action.moveSelectionToPreviousFindMatch",label:o.localize(15,null),alias:"Move Last Selection To Previous Find Match",precondition:void 0})}_run(K,G){K.moveSelectionToPreviousFindMatch(G)}}e.MoveSelectionToPreviousFindMatchAction=O;class M extends T{constructor(){super({id:"editor.action.selectHighlights",label:o.localize(16,null),alias:"Select All Occurrences of Find Match",precondition:void 0,kbOpts:{kbExpr:g.EditorContextKeys.focus,primary:3114,weight:100},menuOpts:{menuId:l.MenuId.MenubarSelectionMenu,group:"3_multi",title:o.localize(17,null),order:7}})}_run(K,G){K.selectAll(G)}}e.SelectHighlightsAction=M;class N extends T{constructor(){super({id:"editor.action.changeAll",label:o.localize(18,null),alias:"Change All Occurrences",precondition:c.ContextKeyExpr.and(g.EditorContextKeys.writable,g.EditorContextKeys.editorTextFocus),kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:2108,weight:100},contextMenuOpts:{group:"1_modification",order:1.2}})}_run(K,G){K.selectAll(G)}}e.CompatChangeAll=N;class A{constructor(K,G,Q,ne,Z){this._model=K,this._searchText=G,this._matchCase=Q,this._wordSeparators=ne,this._modelVersionId=this._model.getVersionId(),this._cachedFindMatches=null,Z&&this._model===Z._model&&this._searchText===Z._searchText&&this._matchCase===Z._matchCase&&this._wordSeparators===Z._wordSeparators&&this._modelVersionId===Z._modelVersionId&&(this._cachedFindMatches=Z._cachedFindMatches)}findMatches(){return this._cachedFindMatches===null&&(this._cachedFindMatches=this._model.findMatches(this._searchText,!0,!1,this._matchCase,this._wordSeparators,!1).map(K=>K.range),this._cachedFindMatches.sort(C.Range.compareRangesUsingStarts)),this._cachedFindMatches}}let B=class $t extends D.Disposable{constructor(K,G){super(),this._languageFeaturesService=G,this.editor=K,this._isEnabled=K.getOption(98),this._decorations=K.createDecorationsCollection(),this.updateSoon=this._register(new m.RunOnceScheduler(()=>this._update(),300)),this.state=null,this._register(K.onDidChangeConfiguration(ne=>{this._isEnabled=K.getOption(98)})),this._register(K.onDidChangeCursorSelection(ne=>{!this._isEnabled||(ne.selection.isEmpty()?ne.reason===3?(this.state&&this._setState(null),this.updateSoon.schedule()):this._setState(null):this._update())})),this._register(K.onDidChangeModel(ne=>{this._setState(null)})),this._register(K.onDidChangeModelContent(ne=>{this._isEnabled&&this.updateSoon.schedule()}));const Q=n.CommonFindController.get(K);Q&&this._register(Q.getState().onFindReplaceStateChange(ne=>{this._update()}))}_update(){this._setState($t._createState(this.state,this._isEnabled,this.editor))}static _createState(K,G,Q){if(!G||!Q.hasModel())return null;const ne=Q.getSelection();if(ne.startLineNumber!==ne.endLineNumber)return null;const Z=E.get(Q);if(!Z)return null;const ee=n.CommonFindController.get(Q);if(!ee)return null;let le=Z.getSession(ee);if(!le){const oe=Q.getSelections();if(oe.length>1){const ae=ee.getState().matchCase;if(!W(Q.getModel(),oe,ae))return null}le=y.create(Q,ee)}if(!le||le.currentMatch||/^[ \t]+$/.test(le.searchText)||le.searchText.length>200)return null;const V=ee.getState(),$=V.matchCase;if(V.isRevealed){let oe=V.searchString;$||(oe=oe.toLowerCase());let U=le.searchText;if($||(U=U.toLowerCase()),oe===U&&le.matchCase===V.matchCase&&le.wholeWord===V.wholeWord&&!V.isRegex)return null}return new A(Q.getModel(),le.searchText,le.matchCase,le.wholeWord?Q.getOption(119):null,K)}_setState(K){if(this.state=K,!this.state){this._decorations.clear();return}if(!this.editor.hasModel())return;const G=this.editor.getModel();if(G.isTooLargeForTokenization())return;const Q=this.state.findMatches(),ne=this.editor.getSelections();ne.sort(C.Range.compareRangesUsingStarts);const Z=[];for(let V=0,$=0,oe=Q.length,U=ne.length;V<oe;){const ae=Q[V];if($>=U)Z.push(ae),V++;else{const z=C.Range.compareRangesUsingStarts(ae,ne[$]);z<0?((ne[$].isEmpty()||!C.Range.areIntersecting(ae,ne[$]))&&Z.push(ae),V++):(z>0||V++,$++)}}const ee=this._languageFeaturesService.documentHighlightProvider.has(G)&&this.editor.getOption(73),le=Z.map(V=>({range:V,options:ee?$t._SELECTION_HIGHLIGHT:$t._SELECTION_HIGHLIGHT_OVERVIEW}));this._decorations.set(le)}dispose(){this._setState(null),super.dispose()}};B.ID="editor.contrib.selectionHighlighter",B._SELECTION_HIGHLIGHT_OVERVIEW=i.ModelDecorationOptions.register({description:"selection-highlight-overview",stickiness:1,className:"selectionHighlight",minimap:{color:(0,r.themeColorFromId)(d.minimapSelectionOccurrenceHighlight),position:t.MinimapPosition.Inline},overviewRuler:{color:(0,r.themeColorFromId)(d.overviewRulerSelectionHighlightForeground),position:t.OverviewRulerLane.Center}}),B._SELECTION_HIGHLIGHT=i.ModelDecorationOptions.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight"}),B=De([fe(1,s.ILanguageFeaturesService)],B),e.SelectionHighlighter=B;function W(ie,K,G){const Q=x(ie,K[0],!G);for(let ne=1,Z=K.length;ne<Z;ne++){const ee=K[ne];if(ee.isEmpty())return!1;const le=x(ie,ee,!G);if(Q!==le)return!1}return!0}function x(ie,K,G){const Q=ie.getValueInRange(K);return G?Q.toLowerCase():Q}class P extends L.EditorAction{constructor(){super({id:"editor.action.focusNextCursor",label:o.localize(19,null),description:{description:o.localize(20,null),args:[]},alias:"Focus Next Cursor",precondition:void 0})}run(K,G,Q){if(!G.hasModel())return;const ne=G._getViewModel();if(ne.cursorConfig.readOnly)return;ne.model.pushStackElement();const Z=Array.from(ne.getCursorStates()),ee=Z.shift();!ee||(Z.push(ee),ne.setCursorStates(Q.source,3,Z),ne.revealPrimaryCursor(Q.source,!0),a(Z,ne.getCursorStates()))}}e.FocusNextCursor=P;class X extends L.EditorAction{constructor(){super({id:"editor.action.focusPreviousCursor",label:o.localize(21,null),description:{description:o.localize(22,null),args:[]},alias:"Focus Previous Cursor",precondition:void 0})}run(K,G,Q){if(!G.hasModel())return;const ne=G._getViewModel();if(ne.cursorConfig.readOnly)return;ne.model.pushStackElement();const Z=Array.from(ne.getCursorStates()),ee=Z.pop();!ee||(Z.unshift(ee),ne.setCursorStates(Q.source,3,Z),ne.revealPrimaryCursor(Q.source,!0),a(Z,ne.getCursorStates()))}}e.FocusPreviousCursor=X,(0,L.registerEditorContribution)(E.ID,E),(0,L.registerEditorContribution)(B.ID,B),(0,L.registerEditorAction)(u),(0,L.registerEditorAction)(p),(0,L.registerEditorAction)(S),(0,L.registerEditorAction)(I),(0,L.registerEditorAction)(R),(0,L.registerEditorAction)(F),(0,L.registerEditorAction)(O),(0,L.registerEditorAction)(M),(0,L.registerEditorAction)(N),(0,L.registerEditorAction)(f),(0,L.registerEditorAction)(v),(0,L.registerEditorAction)(P),(0,L.registerEditorAction)(X)}),define(se[781],re([1,0,2,20,170,21,10,6,18,55,319]),function(q,e,w,m,k,D,L,b,C,h,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StickyLineCandidateProvider=e.StickyLineCandidate=e.StickyRange=void 0;class t{constructor(c,d){this.startLineNumber=c,this.endLineNumber=d}}e.StickyRange=t;class i{constructor(c,d,r){this.startLineNumber=c,this.endLineNumber=d,this.nestingDepth=r}}e.StickyLineCandidate=i;let n=class extends w.Disposable{constructor(c,d){super(),this.onStickyScrollChangeEmitter=this._register(new b.Emitter),this.onStickyScrollChange=this.onStickyScrollChangeEmitter.event,this._sessionStore=new w.DisposableStore,this._modelVersionId=0,this._providerID=void 0,this._editor=c,this._languageFeaturesService=d,this._updateSoon=this._register(new L.RunOnceScheduler(()=>this.update(),50)),this._register(this._editor.onDidChangeConfiguration(r=>{r.hasChanged(105)&&this.readConfiguration()})),this.readConfiguration()}readConfiguration(){if(this._editor.getOption(105).enabled===!1){this._sessionStore.clear();return}else this._sessionStore.add(this._editor.onDidChangeModel(()=>{this._providerID=void 0,this.update()})),this._sessionStore.add(this._editor.onDidChangeHiddenAreas(()=>this.update())),this._sessionStore.add(this._editor.onDidChangeModelContent(()=>this._updateSoon.schedule())),this._sessionStore.add(this._languageFeaturesService.documentSymbolProvider.onDidChange(()=>{this._providerID=void 0,this.update()})),this.update()}getVersionId(){return this._modelVersionId}update(){var c;return Se(this,void 0,void 0,function*(){(c=this._cts)===null||c===void 0||c.dispose(!0),this._cts=new D.CancellationTokenSource,yield this.updateOutlineModel(this._cts.token),this.onStickyScrollChangeEmitter.fire()})}updateOutlineModel(c){return Se(this,void 0,void 0,function*(){if(this._editor.hasModel()){const d=this._editor.getModel(),r=d.getVersionId(),s=yield k.OutlineModel.create(this._languageFeaturesService.documentSymbolProvider,d,c);if(c.isCancellationRequested)return;if(s.children.size!==0){const{stickyOutlineElement:a,providerID:u}=o.fromOutlineModel(s,this._providerID);this._outlineModel=a,this._providerID=u}else{const a=g.FoldingController.get(this._editor),u=yield a?.getFoldingModel();if(c.isCancellationRequested)return;u&&u.regions.length!==0?this._outlineModel=o.fromFoldingModel(u):this._outlineModel=new o(new t(-1,-1),[],void 0)}this._modelVersionId=r}})}updateIndex(c){return c===-1?c=0:c<0&&(c=-c-2),c}getCandidateStickyLinesIntersectingFromOutline(c,d,r,s,a){if(d.children.length===0)return;let u=a;const p=[];for(let v=0;v<d.children.length;v++){const _=d.children[v];_.range&&p.push(_.range.startLineNumber)}const S=this.updateIndex((0,C.binarySearch)(p,c.startLineNumber,(v,_)=>v-_)),f=this.updateIndex((0,C.binarySearch)(p,c.startLineNumber+s,(v,_)=>v-_));for(let v=S;v<=f;v++){const _=d.children[v];if(!_)return;if(_.range){const y=_.range.startLineNumber,E=_.range.endLineNumber;c.startLineNumber<=E+1&&y-1<=c.endLineNumber&&y!==u&&(u=y,r.push(new i(y,E-1,s+1)),this.getCandidateStickyLinesIntersectingFromOutline(c,_,r,s+1,y))}else this.getCandidateStickyLinesIntersectingFromOutline(c,_,r,s,a)}}getCandidateStickyLinesIntersecting(c){var d;let r=[];this.getCandidateStickyLinesIntersectingFromOutline(c,this._outlineModel,r,0,-1);const s=(d=this._editor._getViewModel())===null||d===void 0?void 0:d.getHiddenAreas();if(s)for(const a of s)r=r.filter(u=>!(u.startLineNumber>=a.startLineNumber&&u.endLineNumber<=a.endLineNumber+1));return r}dispose(){super.dispose(),this._sessionStore.dispose()}};n=De([fe(1,m.ILanguageFeaturesService)],n),e.StickyLineCandidateProvider=n;class o{static comparator(c,d){return c.startLineNumber!==d.startLineNumber?c.startLineNumber-d.startLineNumber:d.endLineNumber-c.endLineNumber}static fromOutlineElement(c,d){const r=[];for(const a of c.children.values())if(a.symbol.selectionRange.startLineNumber!==a.symbol.range.endLineNumber)if(a.symbol.selectionRange.startLineNumber!==d)r.push(o.fromOutlineElement(a,a.symbol.selectionRange.startLineNumber));else for(const u of a.children.values())r.push(o.fromOutlineElement(u,a.symbol.selectionRange.startLineNumber));r.sort((a,u)=>this.comparator(a.range,u.range));const s=new t(c.symbol.selectionRange.startLineNumber,c.symbol.range.endLineNumber);return new o(s,r,void 0)}static fromOutlineModel(c,d){let r=d,s;if(h.Iterable.first(c.children.values())instanceof k.OutlineGroup){const S=h.Iterable.find(c.children.values(),f=>f.id===d);if(S)s=S.children;else{let f="",v=-1,_;for(const[y,E]of c.children.entries()){const T=o.findSumOfRangesOfGroup(E);T>v&&(_=E,v=T,f=E.id)}r=f,s=_.children}}else s=c.children;const a=[],u=Array.from(s.values()).sort((S,f)=>{const v=new t(S.symbol.range.startLineNumber,S.symbol.range.endLineNumber),_=new t(f.symbol.range.startLineNumber,f.symbol.range.endLineNumber);return this.comparator(v,_)});for(const S of u)a.push(o.fromOutlineElement(S,S.symbol.selectionRange.startLineNumber));return{stickyOutlineElement:new o(void 0,a,void 0),providerID:r}}static findSumOfRangesOfGroup(c){let d=0;for(const r of c.children.values())d+=this.findSumOfRangesOfGroup(r);return c instanceof k.OutlineElement?d+c.symbol.range.endLineNumber-c.symbol.selectionRange.startLineNumber:d}static fromFoldingModel(c){const d=c.regions,r=d.length;let s;const a=[],u=new o(void 0,[],void 0);let p=u;for(let S=0;S<r;S++){for(s=new t(d.getStartLineNumber(S),d.getEndLineNumber(S)+1);a.length!==0&&(s.startLineNumber<a[a.length-1].startLineNumber||s.endLineNumber>a[a.length-1].endLineNumber);)a.pop(),p.parent!==void 0&&(p=p.parent);const f=new o(s,[],p);p.children.push(f),p=f,a.push(s)}return u}constructor(c,d,r){this.range=c,this.children=d,this.parent=r}}}),define(se[782],re([1,0,7,102,10,14,6,2,127,8,176,750,618,15,9,80,23,121,53,16,264,104,298,760,128,400,222]),function(q,e,w,m,k,D,L,b,C,h,g,t,i,n,o,l,c,d,r,s,a,u,p,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestContentWidget=e.SuggestWidget=e.editorSuggestWidgetStatusForeground=e.editorSuggestWidgetHighlightFocusForeground=e.editorSuggestWidgetHighlightForeground=e.editorSuggestWidgetSelectedBackground=e.editorSuggestWidgetSelectedIconForeground=e.editorSuggestWidgetSelectedForeground=e.editorSuggestWidgetForeground=e.editorSuggestWidgetBorder=e.editorSuggestWidgetBackground=void 0,e.editorSuggestWidgetBackground=(0,c.registerColor)("editorSuggestWidget.background",{dark:c.editorWidgetBackground,light:c.editorWidgetBackground,hcDark:c.editorWidgetBackground,hcLight:c.editorWidgetBackground},i.localize(0,null)),e.editorSuggestWidgetBorder=(0,c.registerColor)("editorSuggestWidget.border",{dark:c.editorWidgetBorder,light:c.editorWidgetBorder,hcDark:c.editorWidgetBorder,hcLight:c.editorWidgetBorder},i.localize(1,null)),e.editorSuggestWidgetForeground=(0,c.registerColor)("editorSuggestWidget.foreground",{dark:c.editorForeground,light:c.editorForeground,hcDark:c.editorForeground,hcLight:c.editorForeground},i.localize(2,null)),e.editorSuggestWidgetSelectedForeground=(0,c.registerColor)("editorSuggestWidget.selectedForeground",{dark:c.quickInputListFocusForeground,light:c.quickInputListFocusForeground,hcDark:c.quickInputListFocusForeground,hcLight:c.quickInputListFocusForeground},i.localize(3,null)),e.editorSuggestWidgetSelectedIconForeground=(0,c.registerColor)("editorSuggestWidget.selectedIconForeground",{dark:c.quickInputListFocusIconForeground,light:c.quickInputListFocusIconForeground,hcDark:c.quickInputListFocusIconForeground,hcLight:c.quickInputListFocusIconForeground},i.localize(4,null)),e.editorSuggestWidgetSelectedBackground=(0,c.registerColor)("editorSuggestWidget.selectedBackground",{dark:c.quickInputListFocusBackground,light:c.quickInputListFocusBackground,hcDark:c.quickInputListFocusBackground,hcLight:c.quickInputListFocusBackground},i.localize(5,null)),e.editorSuggestWidgetHighlightForeground=(0,c.registerColor)("editorSuggestWidget.highlightForeground",{dark:c.listHighlightForeground,light:c.listHighlightForeground,hcDark:c.listHighlightForeground,hcLight:c.listHighlightForeground},i.localize(6,null)),e.editorSuggestWidgetHighlightFocusForeground=(0,c.registerColor)("editorSuggestWidget.focusHighlightForeground",{dark:c.listFocusHighlightForeground,light:c.listFocusHighlightForeground,hcDark:c.listFocusHighlightForeground,hcLight:c.listFocusHighlightForeground},i.localize(7,null)),e.editorSuggestWidgetStatusForeground=(0,c.registerColor)("editorSuggestWidgetStatus.foreground",{dark:(0,c.transparent)(e.editorSuggestWidgetForeground,.5),light:(0,c.transparent)(e.editorSuggestWidgetForeground,.5),hcDark:(0,c.transparent)(e.editorSuggestWidgetForeground,.5),hcLight:(0,c.transparent)(e.editorSuggestWidgetForeground,.5)},i.localize(8,null));class f{constructor(E,T){this._service=E,this._key=`suggestWidget.size/${T.getEditorType()}/${T instanceof g.EmbeddedCodeEditorWidget}`}restore(){var E;const T=(E=this._service.get(this._key,0))!==null&&E!==void 0?E:"";try{const I=JSON.parse(T);if(w.Dimension.is(I))return w.Dimension.lift(I)}catch{}}store(E){this._service.store(this._key,JSON.stringify(E),0,1)}reset(){this._service.remove(this._key,0)}}let v=class ui{constructor(E,T,I,R,F){this.editor=E,this._storageService=T,this._state=0,this._isAuto=!1,this._ignoreFocusEvents=!1,this._forceRenderingAbove=!1,this._explainMode=!1,this._showTimeout=new k.TimeoutTimer,this._disposables=new b.DisposableStore,this._onDidSelect=new L.PauseableEmitter,this._onDidFocus=new L.PauseableEmitter,this._onDidHide=new L.Emitter,this._onDidShow=new L.Emitter,this.onDidSelect=this._onDidSelect.event,this.onDidFocus=this._onDidFocus.event,this.onDidHide=this._onDidHide.event,this.onDidShow=this._onDidShow.event,this._onDetailsKeydown=new L.Emitter,this.onDetailsKeyDown=this._onDetailsKeydown.event,this.element=new a.ResizableHTMLElement,this.element.domNode.classList.add("editor-widget","suggest-widget"),this._contentWidget=new _(this,E),this._persistedSize=new f(T,E);class O{constructor(P,X,ie=!1,K=!1){this.persistedSize=P,this.currentSize=X,this.persistHeight=ie,this.persistWidth=K}}let M;this._disposables.add(this.element.onDidWillResize(()=>{this._contentWidget.lockPreference(),M=new O(this._persistedSize.restore(),this.element.size)})),this._disposables.add(this.element.onDidResize(x=>{var P,X,ie,K;if(this._resize(x.dimension.width,x.dimension.height),M&&(M.persistHeight=M.persistHeight||!!x.north||!!x.south,M.persistWidth=M.persistWidth||!!x.east||!!x.west),!!x.done){if(M){const{itemHeight:G,defaultSize:Q}=this.getLayoutInfo(),ne=Math.round(G/2);let{width:Z,height:ee}=this.element.size;(!M.persistHeight||Math.abs(M.currentSize.height-ee)<=ne)&&(ee=(X=(P=M.persistedSize)===null||P===void 0?void 0:P.height)!==null&&X!==void 0?X:Q.height),(!M.persistWidth||Math.abs(M.currentSize.width-Z)<=ne)&&(Z=(K=(ie=M.persistedSize)===null||ie===void 0?void 0:ie.width)!==null&&K!==void 0?K:Q.width),this._persistedSize.store(new w.Dimension(Z,ee))}this._contentWidget.unlockPreference(),M=void 0}})),this._messageElement=w.append(this.element.domNode,w.$(".message")),this._listElement=w.append(this.element.domNode,w.$(".tree"));const N=F.createInstance(p.SuggestDetailsWidget,this.editor);N.onDidClose(this.toggleDetails,this,this._disposables),this._details=new p.SuggestDetailsOverlay(N,this.editor);const A=()=>this.element.domNode.classList.toggle("no-icons",!this.editor.getOption(108).showIcons);A();const B=F.createInstance(S.ItemRenderer,this.editor);this._disposables.add(B),this._disposables.add(B.onDidToggleDetails(()=>this.toggleDetails())),this._list=new m.List("SuggestWidget",this._listElement,{getHeight:x=>this.getLayoutInfo().itemHeight,getTemplateId:x=>"suggestion"},[B],{alwaysConsumeMouseWheel:!0,useShadows:!1,mouseSupport:!1,multipleSelectionSupport:!1,accessibilityProvider:{getRole:()=>"option",getWidgetAriaLabel:()=>i.localize(11,null),getWidgetRole:()=>"listbox",getAriaLabel:x=>{let P=x.textLabel;if(typeof x.completion.label!="string"){const{detail:G,description:Q}=x.completion.label;G&&Q?P=i.localize(12,null,P,G,Q):G?P=i.localize(13,null,P,G):Q&&(P=i.localize(14,null,P,Q))}if(!x.isResolved||!this._isDetailsVisible())return P;const{documentation:X,detail:ie}=x.completion,K=h.format("{0}{1}",ie||"",X?typeof X=="string"?X:X.value:"");return i.localize(15,null,P,K)}}}),this._status=F.createInstance(t.SuggestWidgetStatus,this.element.domNode);const W=()=>this.element.domNode.classList.toggle("with-status-bar",this.editor.getOption(108).showStatusBar);W(),this._disposables.add((0,d.attachListStyler)(this._list,R,{listInactiveFocusBackground:e.editorSuggestWidgetSelectedBackground,listInactiveFocusOutline:c.activeContrastBorder})),this._disposables.add(R.onDidColorThemeChange(x=>this._onThemeChange(x))),this._onThemeChange(R.getColorTheme()),this._disposables.add(this._list.onMouseDown(x=>this._onListMouseDownOrTap(x))),this._disposables.add(this._list.onTap(x=>this._onListMouseDownOrTap(x))),this._disposables.add(this._list.onDidChangeSelection(x=>this._onListSelection(x))),this._disposables.add(this._list.onDidChangeFocus(x=>this._onListFocus(x))),this._disposables.add(this.editor.onDidChangeCursorSelection(()=>this._onCursorSelectionChanged())),this._disposables.add(this.editor.onDidChangeConfiguration(x=>{x.hasChanged(108)&&(W(),A())})),this._ctxSuggestWidgetVisible=u.Context.Visible.bindTo(I),this._ctxSuggestWidgetDetailsVisible=u.Context.DetailsVisible.bindTo(I),this._ctxSuggestWidgetMultipleSuggestions=u.Context.MultipleSuggestions.bindTo(I),this._ctxSuggestWidgetHasFocusedSuggestion=u.Context.HasFocusedSuggestion.bindTo(I),this._disposables.add(w.addStandardDisposableListener(this._details.widget.domNode,"keydown",x=>{this._onDetailsKeydown.fire(x)})),this._disposables.add(this.editor.onMouseDown(x=>this._onEditorMouseDown(x)))}dispose(){var E;this._details.widget.dispose(),this._details.dispose(),this._list.dispose(),this._status.dispose(),this._disposables.dispose(),(E=this._loadingTimeout)===null||E===void 0||E.dispose(),this._showTimeout.dispose(),this._contentWidget.dispose(),this.element.dispose()}_onEditorMouseDown(E){this._details.widget.domNode.contains(E.target.element)?this._details.widget.domNode.focus():this.element.domNode.contains(E.target.element)&&this.editor.focus()}_onCursorSelectionChanged(){this._state!==0&&this._contentWidget.layout()}_onListMouseDownOrTap(E){typeof E.element>"u"||typeof E.index>"u"||(E.browserEvent.preventDefault(),E.browserEvent.stopPropagation(),this._select(E.element,E.index))}_onListSelection(E){E.elements.length&&this._select(E.elements[0],E.indexes[0])}_select(E,T){const I=this._completionModel;I&&(this._onDidSelect.fire({item:E,index:T,model:I}),this.editor.focus())}_onThemeChange(E){this._details.widget.borderWidth=(0,r.isHighContrast)(E.type)?2:1}_onListFocus(E){var T;if(this._ignoreFocusEvents)return;if(!E.elements.length){this._currentSuggestionDetails&&(this._currentSuggestionDetails.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=void 0),this.editor.setAriaOptions({activeDescendant:void 0}),this._ctxSuggestWidgetHasFocusedSuggestion.set(!1);return}if(!this._completionModel)return;this._ctxSuggestWidgetHasFocusedSuggestion.set(!0);const I=E.elements[0],R=E.indexes[0];I!==this._focusedItem&&((T=this._currentSuggestionDetails)===null||T===void 0||T.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=I,this._list.reveal(R),this._currentSuggestionDetails=(0,k.createCancelablePromise)(F=>Se(this,void 0,void 0,function*(){const O=(0,k.disposableTimeout)(()=>{this._isDetailsVisible()&&this.showDetails(!0)},250),M=F.onCancellationRequested(()=>O.dispose()),N=yield I.resolve(F);return O.dispose(),M.dispose(),N})),this._currentSuggestionDetails.then(()=>{R>=this._list.length||I!==this._list.element(R)||(this._ignoreFocusEvents=!0,this._list.splice(R,1,[I]),this._list.setFocus([R]),this._ignoreFocusEvents=!1,this._isDetailsVisible()?this.showDetails(!1):this.element.domNode.classList.remove("docs-side"),this.editor.setAriaOptions({activeDescendant:(0,S.getAriaId)(R)}))}).catch(D.onUnexpectedError)),this._onDidFocus.fire({item:I,index:R,model:this._completionModel})}_setState(E){if(this._state!==E)switch(this._state=E,this.element.domNode.classList.toggle("frozen",E===4),this.element.domNode.classList.remove("message"),E){case 0:w.hide(this._messageElement,this._listElement,this._status.element),this._details.hide(!0),this._status.hide(),this._contentWidget.hide(),this._ctxSuggestWidgetVisible.reset(),this._ctxSuggestWidgetMultipleSuggestions.reset(),this._ctxSuggestWidgetHasFocusedSuggestion.reset(),this._showTimeout.cancel(),this.element.domNode.classList.remove("visible"),this._list.splice(0,this._list.length),this._focusedItem=void 0,this._cappedHeight=void 0,this._explainMode=!1;break;case 1:this.element.domNode.classList.add("message"),this._messageElement.textContent=ui.LOADING_MESSAGE,w.hide(this._listElement,this._status.element),w.show(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 2:this.element.domNode.classList.add("message"),this._messageElement.textContent=ui.NO_SUGGESTIONS_MESSAGE,w.hide(this._listElement,this._status.element),w.show(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 3:w.hide(this._messageElement),w.show(this._listElement,this._status.element),this._show();break;case 4:w.hide(this._messageElement),w.show(this._listElement,this._status.element),this._show();break;case 5:w.hide(this._messageElement),w.show(this._listElement,this._status.element),this._details.show(),this._show();break}}_show(){this._status.show(),this._contentWidget.show(),this._layout(this._persistedSize.restore()),this._ctxSuggestWidgetVisible.set(!0),this._showTimeout.cancelAndSet(()=>{this.element.domNode.classList.add("visible"),this._onDidShow.fire(this)},100)}showTriggered(E,T){this._state===0&&(this._contentWidget.setPosition(this.editor.getPosition()),this._isAuto=!!E,this._isAuto||(this._loadingTimeout=(0,k.disposableTimeout)(()=>this._setState(1),T)))}showSuggestions(E,T,I,R){var F,O;if(this._contentWidget.setPosition(this.editor.getPosition()),(F=this._loadingTimeout)===null||F===void 0||F.dispose(),(O=this._currentSuggestionDetails)===null||O===void 0||O.cancel(),this._currentSuggestionDetails=void 0,this._completionModel!==E&&(this._completionModel=E),I&&this._state!==2&&this._state!==0){this._setState(4);return}const M=this._completionModel.items.length,N=M===0;if(this._ctxSuggestWidgetMultipleSuggestions.set(M>1),N){this._setState(R?0:2),this._completionModel=void 0;return}this._focusedItem=void 0,this._onDidFocus.pause(),this._onDidSelect.pause();try{this._list.splice(0,this._list.length,this._completionModel.items),this._setState(I?4:3),T>=0&&(this._list.reveal(T,0),this._list.setFocus([T]))}finally{this._onDidFocus.resume(),this._onDidSelect.resume()}this._layout(this.element.size),this._details.widget.domNode.classList.remove("focused")}selectNextPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageDown(),!0;case 1:return!this._isAuto;default:return this._list.focusNextPage(),!0}}selectNext(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusNext(1,!0),!0}}selectLast(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollBottom(),!0;case 1:return!this._isAuto;default:return this._list.focusLast(),!0}}selectPreviousPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageUp(),!0;case 1:return!this._isAuto;default:return this._list.focusPreviousPage(),!0}}selectPrevious(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusPrevious(1,!0),!1}}selectFirst(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollTop(),!0;case 1:return!this._isAuto;default:return this._list.focusFirst(),!0}}getFocusedItem(){if(this._state!==0&&this._state!==2&&this._state!==1&&this._completionModel)return{item:this._list.getFocusedElements()[0],index:this._list.getFocus()[0],model:this._completionModel}}toggleDetailsFocus(){this._state===5?(this._setState(3),this._details.widget.domNode.classList.remove("focused")):this._state===3&&this._isDetailsVisible()&&(this._setState(5),this._details.widget.domNode.classList.add("focused"))}toggleDetails(){this._isDetailsVisible()?(this._ctxSuggestWidgetDetailsVisible.set(!1),this._setDetailsVisible(!1),this._details.hide(),this.element.domNode.classList.remove("shows-details")):((0,p.canExpandCompletionItem)(this._list.getFocusedElements()[0])||this._explainMode)&&(this._state===3||this._state===5||this._state===4)&&(this._ctxSuggestWidgetDetailsVisible.set(!0),this._setDetailsVisible(!0),this.showDetails(!1))}showDetails(E){this._details.show(),E?this._details.widget.renderLoading():this._details.widget.renderItem(this._list.getFocusedElements()[0],this._explainMode),this._positionDetails(),this.editor.focus(),this.element.domNode.classList.add("shows-details")}toggleExplainMode(){this._list.getFocusedElements()[0]&&(this._explainMode=!this._explainMode,this._isDetailsVisible()?this.showDetails(!1):this.toggleDetails())}resetPersistedSize(){this._persistedSize.reset()}hideWidget(){var E;(E=this._loadingTimeout)===null||E===void 0||E.dispose(),this._setState(0),this._onDidHide.fire(this),this.element.clearSashHoverState();const T=this._persistedSize.restore(),I=Math.ceil(this.getLayoutInfo().itemHeight*4.3);T&&T.height<I&&this._persistedSize.store(T.with(void 0,I))}isFrozen(){return this._state===4}_afterRender(E){if(E===null){this._isDetailsVisible()&&this._details.hide();return}this._state===2||this._state===1||(this._isDetailsVisible()&&this._details.show(),this._positionDetails())}_layout(E){var T,I,R;if(!this.editor.hasModel()||!this.editor.getDomNode())return;const F=w.getClientArea(document.body),O=this.getLayoutInfo();E||(E=O.defaultSize);let M=E.height,N=E.width;if(this._status.element.style.height=`${O.itemHeight}px`,this._state===2||this._state===1)M=O.itemHeight+O.borderHeight,N=O.defaultSize.width/2,this.element.enableSashes(!1,!1,!1,!1),this.element.minSize=this.element.maxSize=new w.Dimension(N,M),this._contentWidget.setPreference(2);else{const A=F.width-O.borderHeight-2*O.horizontalPadding;N>A&&(N=A);const B=this._completionModel?this._completionModel.stats.pLabelLen*O.typicalHalfwidthCharacterWidth:N,W=O.statusBarHeight+this._list.contentHeight+O.borderHeight,x=O.itemHeight+O.statusBarHeight,P=w.getDomNodePagePosition(this.editor.getDomNode()),X=this.editor.getScrolledVisiblePosition(this.editor.getPosition()),ie=P.top+X.top+X.height,K=Math.min(F.height-ie-O.verticalPadding,W),G=P.top+X.top-O.verticalPadding,Q=Math.min(G,W);let ne=Math.min(Math.max(Q,K)+O.borderHeight,W);M===((T=this._cappedHeight)===null||T===void 0?void 0:T.capped)&&(M=this._cappedHeight.wanted),M<x&&(M=x),M>ne&&(M=ne);const Z=150;M>K||this._forceRenderingAbove&&G>Z?(this._contentWidget.setPreference(1),this.element.enableSashes(!0,!0,!1,!1),ne=Q):(this._contentWidget.setPreference(2),this.element.enableSashes(!1,!0,!0,!1),ne=K),this.element.preferredSize=new w.Dimension(B,O.defaultSize.height),this.element.maxSize=new w.Dimension(A,ne),this.element.minSize=new w.Dimension(220,x),this._cappedHeight=M===W?{wanted:(R=(I=this._cappedHeight)===null||I===void 0?void 0:I.wanted)!==null&&R!==void 0?R:E.height,capped:M}:void 0}this._resize(N,M)}_resize(E,T){const{width:I,height:R}=this.element.maxSize;E=Math.min(I,E),T=Math.min(R,T);const{statusBarHeight:F}=this.getLayoutInfo();this._list.layout(T-F,E),this._listElement.style.height=`${T-F}px`,this.element.layout(T,E),this._contentWidget.layout(),this._positionDetails()}_positionDetails(){var E;this._isDetailsVisible()&&this._details.placeAtAnchor(this.element.domNode,((E=this._contentWidget.getPosition())===null||E===void 0?void 0:E.preference[0])===2)}getLayoutInfo(){const E=this.editor.getOption(45),T=(0,C.clamp)(this.editor.getOption(110)||E.lineHeight,8,1e3),I=!this.editor.getOption(108).showStatusBar||this._state===2||this._state===1?0:T,R=this._details.widget.borderWidth,F=2*R;return{itemHeight:T,statusBarHeight:I,borderWidth:R,borderHeight:F,typicalHalfwidthCharacterWidth:E.typicalHalfwidthCharacterWidth,verticalPadding:22,horizontalPadding:14,defaultSize:new w.Dimension(430,I+12*T+F)}}_isDetailsVisible(){return this._storageService.getBoolean("expandSuggestionDocs",0,!1)}_setDetailsVisible(E){this._storageService.store("expandSuggestionDocs",E,0,0)}forceRenderingAbove(){this._forceRenderingAbove||(this._forceRenderingAbove=!0,this._layout(this._persistedSize.restore()))}stopForceRenderingAbove(){this._forceRenderingAbove=!1}};v.LOADING_MESSAGE=i.localize(9,null),v.NO_SUGGESTIONS_MESSAGE=i.localize(10,null),v=De([fe(1,l.IStorageService),fe(2,n.IContextKeyService),fe(3,s.IThemeService),fe(4,o.IInstantiationService)],v),e.SuggestWidget=v;class _{constructor(E,T){this._widget=E,this._editor=T,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._preferenceLocked=!1,this._added=!1,this._hidden=!1}dispose(){this._added&&(this._added=!1,this._editor.removeContentWidget(this))}getId(){return"editor.widget.suggestWidget"}getDomNode(){return this._widget.element.domNode}show(){this._hidden=!1,this._added||(this._added=!0,this._editor.addContentWidget(this))}hide(){this._hidden||(this._hidden=!0,this.layout())}layout(){this._editor.layoutContentWidget(this)}getPosition(){return this._hidden||!this._position||!this._preference?null:{position:this._position,preference:[this._preference]}}beforeRender(){const{height:E,width:T}=this._widget.element.size,{borderWidth:I,horizontalPadding:R}=this._widget.getLayoutInfo();return new w.Dimension(T+2*I+R,E+2*I)}afterRender(E){this._widget._afterRender(E)}setPreference(E){this._preferenceLocked||(this._preference=E)}lockPreference(){this._preferenceLocked=!0}unlockPreference(){this._preferenceLocked=!1}setPosition(E){this._position=E}}e.SuggestContentWidget=_}),define(se[783],re([1,0,10,2,13,288,51,315,305,30,16,73,56,20]),function(q,e,w,m,k,D,L,b,C,h,g,t,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});let o=class extends m.Disposable{constructor(c,d,r,s,a,u){super(),this._modelService=d,this._themeService=r,this._configurationService=s,this._editor=c,this._provider=u.documentRangeSemanticTokensProvider,this._debounceInformation=a.for(this._provider,"DocumentRangeSemanticTokens",{min:100,max:500}),this._tokenizeViewport=this._register(new w.RunOnceScheduler(()=>this._tokenizeViewportNow(),100)),this._outstandingRequests=[];const p=()=>{this._editor.hasModel()&&this._tokenizeViewport.schedule(this._debounceInformation.get(this._editor.getModel()))};this._register(this._editor.onDidScrollChange(()=>{p()})),this._register(this._editor.onDidChangeModel(()=>{this._cancelAll(),p()})),this._register(this._editor.onDidChangeModelContent(S=>{this._cancelAll(),p()})),this._register(this._provider.onDidChange(()=>{this._cancelAll(),p()})),this._register(this._configurationService.onDidChangeConfiguration(S=>{S.affectsConfiguration(b.SEMANTIC_HIGHLIGHTING_SETTING_ID)&&(this._cancelAll(),p())})),this._register(this._themeService.onDidColorThemeChange(()=>{this._cancelAll(),p()}))}_cancelAll(){for(const c of this._outstandingRequests)c.cancel();this._outstandingRequests=[]}_removeOutstandingRequest(c){for(let d=0,r=this._outstandingRequests.length;d<r;d++)if(this._outstandingRequests[d]===c){this._outstandingRequests.splice(d,1);return}}_tokenizeViewportNow(){if(!this._editor.hasModel())return;const c=this._editor.getModel();if(c.tokenization.hasCompleteSemanticTokens())return;if(!(0,b.isSemanticColoringEnabled)(c,this._themeService,this._configurationService)){c.tokenization.hasSomeSemanticTokens()&&c.tokenization.setSemanticTokens(null,!1);return}if(!(0,D.hasDocumentRangeSemanticTokensProvider)(this._provider,c)){c.tokenization.hasSomeSemanticTokens()&&c.tokenization.setSemanticTokens(null,!1);return}const d=this._editor.getVisibleRangesPlusViewportAboveBelow();this._outstandingRequests=this._outstandingRequests.concat(d.map(r=>this._requestRange(c,r)))}_requestRange(c,d){const r=c.getVersionId(),s=(0,w.createCancelablePromise)(u=>Promise.resolve((0,D.getDocumentRangeSemanticTokens)(this._provider,c,d,u))),a=new i.StopWatch(!1);return s.then(u=>{if(this._debounceInformation.update(c,a.elapsed()),!u||!u.tokens||c.isDisposed()||c.getVersionId()!==r)return;const{provider:p,tokens:S}=u,f=this._modelService.getSemanticTokensProviderStyling(p);c.tokenization.setPartialSemanticTokens(d,(0,C.toMultilineTokens2)(S,f,c.getLanguageId()))}).then(()=>this._removeOutstandingRequest(s),()=>this._removeOutstandingRequest(s)),s}};o.ID="editor.contrib.viewportSemanticTokens",o=De([fe(1,L.IModelService),fe(2,g.IThemeService),fe(3,h.IConfigurationService),fe(4,t.ILanguageFeatureDebounceService),fe(5,n.ILanguageFeaturesService)],o),(0,k.registerEditorContribution)(o.ID,o)}),define(se[784],re([1,0,50,18,10,21,14,2,13,3,25,47,37,28,627,15,23,16,20,53]),function(q,e,w,m,k,D,L,b,C,h,g,t,i,n,o,l,c,d,r,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOccurrencesAtPosition=void 0;const a=(0,c.registerColor)("editor.wordHighlightBackground",{dark:"#575757B8",light:"#57575740",hcDark:null,hcLight:null},o.localize(0,null),!0),u=(0,c.registerColor)("editor.wordHighlightStrongBackground",{dark:"#004972B8",light:"#0e639c40",hcDark:null,hcLight:null},o.localize(1,null),!0),p=(0,c.registerColor)("editor.wordHighlightBorder",{light:null,dark:null,hcDark:c.activeContrastBorder,hcLight:c.activeContrastBorder},o.localize(2,null)),S=(0,c.registerColor)("editor.wordHighlightStrongBorder",{light:null,dark:null,hcDark:c.activeContrastBorder,hcLight:c.activeContrastBorder},o.localize(3,null)),f=(0,c.registerColor)("editorOverviewRuler.wordHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hcDark:"#A0A0A0CC",hcLight:"#A0A0A0CC"},o.localize(4,null),!0),v=(0,c.registerColor)("editorOverviewRuler.wordHighlightStrongForeground",{dark:"#C0A0C0CC",light:"#C0A0C0CC",hcDark:"#C0A0C0CC",hcLight:"#C0A0C0CC"},o.localize(5,null),!0),_=new l.RawContextKey("hasWordHighlights",!1);function y(W,x,P,X){const ie=W.ordered(x);return(0,k.first)(ie.map(K=>()=>Promise.resolve(K.provideDocumentHighlights(x,P,X)).then(void 0,L.onUnexpectedExternalError)),m.isNonEmptyArray)}e.getOccurrencesAtPosition=y;class E{constructor(x,P,X){this._model=x,this._selection=P,this._wordSeparators=X,this._wordRange=this._getCurrentWordRange(x,P),this._result=null}get result(){return this._result||(this._result=(0,k.createCancelablePromise)(x=>this._compute(this._model,this._selection,this._wordSeparators,x))),this._result}_getCurrentWordRange(x,P){const X=x.getWordAtPosition(P.getPosition());return X?new h.Range(P.startLineNumber,X.startColumn,P.startLineNumber,X.endColumn):null}isValid(x,P,X){const ie=P.startLineNumber,K=P.startColumn,G=P.endColumn,Q=this._getCurrentWordRange(x,P);let ne=Boolean(this._wordRange&&this._wordRange.equalsRange(Q));for(let Z=0,ee=X.length;!ne&&Z<ee;Z++){const le=X.getRange(Z);le&&le.startLineNumber===ie&&le.startColumn<=K&&le.endColumn>=G&&(ne=!0)}return ne}cancel(){this.result.cancel()}}class T extends E{constructor(x,P,X,ie){super(x,P,X),this._providers=ie}_compute(x,P,X,ie){return y(this._providers,x,P.getPosition(),ie).then(K=>K||[])}}class I extends E{constructor(x,P,X){super(x,P,X),this._selectionIsEmpty=P.isEmpty()}_compute(x,P,X,ie){return(0,k.timeout)(250,ie).then(()=>{if(!P.isEmpty())return[];const K=x.getWordAtPosition(P.getPosition());return!K||K.word.length>1e3?[]:x.findMatches(K.word,!0,!1,!0,X,!1).map(Q=>({range:Q.range,kind:n.DocumentHighlightKind.Text}))})}isValid(x,P,X){const ie=P.isEmpty();return this._selectionIsEmpty!==ie?!1:super.isValid(x,P,X)}}function R(W,x,P,X){return W.has(x)?new T(x,P,X,W):new I(x,P,X)}(0,C.registerModelAndPositionCommand)("_executeDocumentHighlights",(W,x,P)=>{const X=W.get(r.ILanguageFeaturesService);return y(X.documentHighlightProvider,x,P,D.CancellationToken.None)});class F{constructor(x,P,X){this.toUnhook=new b.DisposableStore,this.workerRequestTokenId=0,this.workerRequestCompleted=!1,this.workerRequestValue=[],this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,this.editor=x,this.providers=P,this._hasWordHighlights=_.bindTo(X),this._ignorePositionChangeEvent=!1,this.occurrencesHighlight=this.editor.getOption(73),this.model=this.editor.getModel(),this.toUnhook.add(x.onDidChangeCursorPosition(ie=>{this._ignorePositionChangeEvent||!this.occurrencesHighlight||this._onPositionChanged(ie)})),this.toUnhook.add(x.onDidChangeModelContent(ie=>{this._stopAll()})),this.toUnhook.add(x.onDidChangeConfiguration(ie=>{const K=this.editor.getOption(73);this.occurrencesHighlight!==K&&(this.occurrencesHighlight=K,this._stopAll())})),this.decorations=this.editor.createDecorationsCollection(),this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1}hasDecorations(){return this.decorations.length>0}restore(){!this.occurrencesHighlight||this._run()}_getSortedHighlights(){return this.decorations.getRanges().sort(h.Range.compareRangesUsingStarts)}moveNext(){const x=this._getSortedHighlights(),X=(x.findIndex(K=>K.containsPosition(this.editor.getPosition()))+1)%x.length,ie=x[X];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(ie.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(ie);const K=this._getWord();if(K){const G=this.editor.getModel().getLineContent(ie.startLineNumber);(0,w.alert)(`${G}, ${X+1} of ${x.length} for '${K.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}moveBack(){const x=this._getSortedHighlights(),X=(x.findIndex(K=>K.containsPosition(this.editor.getPosition()))-1+x.length)%x.length,ie=x[X];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(ie.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(ie);const K=this._getWord();if(K){const G=this.editor.getModel().getLineContent(ie.startLineNumber);(0,w.alert)(`${G}, ${X+1} of ${x.length} for '${K.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}_removeDecorations(){this.decorations.length>0&&(this.decorations.clear(),this._hasWordHighlights.set(!1))}_stopAll(){this._removeDecorations(),this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),this.workerRequest!==null&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)}_onPositionChanged(x){if(!this.occurrencesHighlight){this._stopAll();return}if(x.reason!==3){this._stopAll();return}this._run()}_getWord(){const x=this.editor.getSelection(),P=x.startLineNumber,X=x.startColumn;return this.model.getWordAtPosition({lineNumber:P,column:X})}_run(){const x=this.editor.getSelection();if(x.startLineNumber!==x.endLineNumber){this._stopAll();return}const P=x.startColumn,X=x.endColumn,ie=this._getWord();if(!ie||ie.startColumn>P||ie.endColumn<X){this._stopAll();return}const K=this.workerRequest&&this.workerRequest.isValid(this.model,x,this.decorations);if(this.lastCursorPositionChangeTime=new Date().getTime(),K)this.workerRequestCompleted&&this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1,this._beginRenderDecorations());else{this._stopAll();const G=++this.workerRequestTokenId;this.workerRequestCompleted=!1,this.workerRequest=R(this.providers,this.model,this.editor.getSelection(),this.editor.getOption(119)),this.workerRequest.result.then(Q=>{G===this.workerRequestTokenId&&(this.workerRequestCompleted=!0,this.workerRequestValue=Q||[],this._beginRenderDecorations())},L.onUnexpectedError)}}_beginRenderDecorations(){const x=new Date().getTime(),P=this.lastCursorPositionChangeTime+250;x>=P?(this.renderDecorationsTimer=-1,this.renderDecorations()):this.renderDecorationsTimer=setTimeout(()=>{this.renderDecorations()},P-x)}renderDecorations(){this.renderDecorationsTimer=-1;const x=[];for(const P of this.workerRequestValue)P.range&&x.push({range:P.range,options:F._getDecorationOptions(P.kind)});this.decorations.set(x),this._hasWordHighlights.set(this.hasDecorations())}static _getDecorationOptions(x){return x===n.DocumentHighlightKind.Write?this._WRITE_OPTIONS:x===n.DocumentHighlightKind.Text?this._TEXT_OPTIONS:this._REGULAR_OPTIONS}dispose(){this._stopAll(),this.toUnhook.dispose()}}F._WRITE_OPTIONS=i.ModelDecorationOptions.register({description:"word-highlight-strong",stickiness:1,className:"wordHighlightStrong",overviewRuler:{color:(0,d.themeColorFromId)(v),position:t.OverviewRulerLane.Center},minimap:{color:(0,d.themeColorFromId)(c.minimapSelectionOccurrenceHighlight),position:t.MinimapPosition.Inline}}),F._TEXT_OPTIONS=i.ModelDecorationOptions.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight",overviewRuler:{color:(0,d.themeColorFromId)(c.overviewRulerSelectionHighlightForeground),position:t.OverviewRulerLane.Center},minimap:{color:(0,d.themeColorFromId)(c.minimapSelectionOccurrenceHighlight),position:t.MinimapPosition.Inline}}),F._REGULAR_OPTIONS=i.ModelDecorationOptions.register({description:"word-highlight",stickiness:1,className:"wordHighlight",overviewRuler:{color:(0,d.themeColorFromId)(f),position:t.OverviewRulerLane.Center},minimap:{color:(0,d.themeColorFromId)(c.minimapSelectionOccurrenceHighlight),position:t.MinimapPosition.Inline}});let O=class $i extends b.Disposable{static get(x){return x.getContribution($i.ID)}constructor(x,P,X){super(),this.wordHighlighter=null;const ie=()=>{x.hasModel()&&(this.wordHighlighter=new F(x,X.documentHighlightProvider,P))};this._register(x.onDidChangeModel(K=>{this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),ie()})),ie()}saveViewState(){return!!(this.wordHighlighter&&this.wordHighlighter.hasDecorations())}moveNext(){var x;(x=this.wordHighlighter)===null||x===void 0||x.moveNext()}moveBack(){var x;(x=this.wordHighlighter)===null||x===void 0||x.moveBack()}restoreViewState(x){this.wordHighlighter&&x&&this.wordHighlighter.restore()}dispose(){this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),super.dispose()}};O.ID="editor.contrib.wordHighlighter",O=De([fe(1,l.IContextKeyService),fe(2,r.ILanguageFeaturesService)],O);class M extends C.EditorAction{constructor(x,P){super(P),this._isNext=x}run(x,P){const X=O.get(P);!X||(this._isNext?X.moveNext():X.moveBack())}}class N extends M{constructor(){super(!0,{id:"editor.action.wordHighlight.next",label:o.localize(6,null),alias:"Go to Next Symbol Highlight",precondition:_,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:65,weight:100}})}}class A extends M{constructor(){super(!1,{id:"editor.action.wordHighlight.prev",label:o.localize(7,null),alias:"Go to Previous Symbol Highlight",precondition:_,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:1089,weight:100}})}}class B extends C.EditorAction{constructor(){super({id:"editor.action.wordHighlight.trigger",label:o.localize(8,null),alias:"Trigger Symbol Highlight",precondition:_.toNegated(),kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:0,weight:100}})}run(x,P,X){const ie=O.get(P);!ie||ie.restoreViewState(!0)}}(0,C.registerEditorContribution)(O.ID,O),(0,C.registerEditorAction)(N),(0,C.registerEditorAction)(A),(0,C.registerEditorAction)(B),(0,d.registerThemingParticipant)((W,x)=>{const P=W.getColor(c.editorSelectionHighlight);P&&(x.addRule(`.monaco-editor .focused .selectionHighlight { background-color: ${P}; }`),x.addRule(`.monaco-editor .selectionHighlight { background-color: ${P.transparent(.5)}; }`));const X=W.getColor(a);X&&x.addRule(`.monaco-editor .wordHighlight { background-color: ${X}; }`);const ie=W.getColor(u);ie&&x.addRule(`.monaco-editor .wordHighlightStrong { background-color: ${ie}; }`);const K=W.getColor(c.editorSelectionHighlightBorder);K&&x.addRule(`.monaco-editor .selectionHighlight { border: 1px ${(0,s.isHighContrast)(W.type)?"dotted":"solid"} ${K}; box-sizing: border-box; }`);const G=W.getColor(p);G&&x.addRule(`.monaco-editor .wordHighlight { border: 1px ${(0,s.isHighContrast)(W.type)?"dashed":"solid"} ${G}; box-sizing: border-box; }`);const Q=W.getColor(S);Q&&x.addRule(`.monaco-editor .wordHighlightStrong { border: 1px ${(0,s.isHighContrast)(W.type)?"dashed":"solid"} ${Q}; box-sizing: border-box; }`)})}),define(se[785],re([1,0,7,137,31,147,2,36,3,37,403]),function(q,e,w,m,k,D,L,b,C,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ZoneWidget=e.OverlayWidgetDelegate=e.ViewZoneDelegate=void 0;const g=new k.Color(new k.RGBA(0,122,204)),t={showArrow:!0,showFrame:!0,className:"",frameColor:g,arrowColor:g,keepEditorSelection:!1},i="vs.editor.contrib.zoneWidget";class n{constructor(r,s,a,u,p,S){this.id="",this.domNode=r,this.afterLineNumber=s,this.afterColumn=a,this.heightInLines=u,this._onDomNodeTop=p,this._onComputedHeight=S}onDomNodeTop(r){this._onDomNodeTop(r)}onComputedHeight(r){this._onComputedHeight(r)}}e.ViewZoneDelegate=n;class o{constructor(r,s){this._id=r,this._domNode=s}getId(){return this._id}getDomNode(){return this._domNode}getPosition(){return null}}e.OverlayWidgetDelegate=o;class l{constructor(r){this._editor=r,this._ruleName=l._IdGenerator.nextId(),this._decorations=this._editor.createDecorationsCollection(),this._color=null,this._height=-1}dispose(){this.hide(),w.removeCSSRulesContainingSelector(this._ruleName)}set color(r){this._color!==r&&(this._color=r,this._updateStyle())}set height(r){this._height!==r&&(this._height=r,this._updateStyle())}_updateStyle(){w.removeCSSRulesContainingSelector(this._ruleName),w.createCSSRule(`.monaco-editor ${this._ruleName}`,`border-style: solid; border-color: transparent; border-bottom-color: ${this._color}; border-width: ${this._height}px; bottom: -${this._height}px; margin-left: -${this._height}px; `)}show(r){r.column===1&&(r={lineNumber:r.lineNumber,column:2}),this._decorations.set([{range:C.Range.fromPositions(r),options:{description:"zone-widget-arrow",className:this._ruleName,stickiness:1}}])}hide(){this._decorations.clear()}}l._IdGenerator=new D.IdGenerator(".arrow-decoration-");class c{constructor(r,s={}){this._arrow=null,this._overlayWidget=null,this._resizeSash=null,this._viewZone=null,this._disposables=new L.DisposableStore,this.container=null,this._isShowing=!1,this.editor=r,this._positionMarkerId=this.editor.createDecorationsCollection(),this.options=b.deepClone(s),b.mixin(this.options,t,!1),this.domNode=document.createElement("div"),this.options.isAccessible||(this.domNode.setAttribute("aria-hidden","true"),this.domNode.setAttribute("role","presentation")),this._disposables.add(this.editor.onDidLayoutChange(a=>{const u=this._getWidth(a);this.domNode.style.width=u+"px",this.domNode.style.left=this._getLeft(a)+"px",this._onWidth(u)}))}dispose(){this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._viewZone&&this.editor.changeViewZones(r=>{this._viewZone&&r.removeZone(this._viewZone.id),this._viewZone=null}),this._positionMarkerId.clear(),this._disposables.dispose()}create(){this.domNode.classList.add("zone-widget"),this.options.className&&this.domNode.classList.add(this.options.className),this.container=document.createElement("div"),this.container.classList.add("zone-widget-container"),this.domNode.appendChild(this.container),this.options.showArrow&&(this._arrow=new l(this.editor),this._disposables.add(this._arrow)),this._fillContainer(this.container),this._initSash(),this._applyStyles()}style(r){r.frameColor&&(this.options.frameColor=r.frameColor),r.arrowColor&&(this.options.arrowColor=r.arrowColor),this._applyStyles()}_applyStyles(){if(this.container&&this.options.frameColor){const r=this.options.frameColor.toString();this.container.style.borderTopColor=r,this.container.style.borderBottomColor=r}if(this._arrow&&this.options.arrowColor){const r=this.options.arrowColor.toString();this._arrow.color=r}}_getWidth(r){return r.width-r.minimap.minimapWidth-r.verticalScrollbarWidth}_getLeft(r){return r.minimap.minimapWidth>0&&r.minimap.minimapLeft===0?r.minimap.minimapWidth:0}_onViewZoneTop(r){this.domNode.style.top=r+"px"}_onViewZoneHeight(r){var s;if(this.domNode.style.height=`${r}px`,this.container){const a=r-this._decoratingElementsHeight();this.container.style.height=`${a}px`;const u=this.editor.getLayoutInfo();this._doLayout(a,this._getWidth(u))}(s=this._resizeSash)===null||s===void 0||s.layout()}get position(){const r=this._positionMarkerId.getRange(0);if(!!r)return r.getStartPosition()}show(r,s){const a=C.Range.isIRange(r)?C.Range.lift(r):C.Range.fromPositions(r);this._isShowing=!0,this._showImpl(a,s),this._isShowing=!1,this._positionMarkerId.set([{range:a,options:h.ModelDecorationOptions.EMPTY}])}hide(){var r;this._viewZone&&(this.editor.changeViewZones(s=>{this._viewZone&&s.removeZone(this._viewZone.id)}),this._viewZone=null),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),(r=this._arrow)===null||r===void 0||r.hide()}_decoratingElementsHeight(){const r=this.editor.getOption(60);let s=0;if(this.options.showArrow){const a=Math.round(r/3);s+=2*a}if(this.options.showFrame){const a=Math.round(r/9);s+=2*a}return s}_showImpl(r,s){const a=r.getStartPosition(),u=this.editor.getLayoutInfo(),p=this._getWidth(u);this.domNode.style.width=`${p}px`,this.domNode.style.left=this._getLeft(u)+"px";const S=document.createElement("div");S.style.overflow="hidden";const f=this.editor.getOption(60),v=Math.max(12,this.editor.getLayoutInfo().height/f*.8);s=Math.min(s,v);let _=0,y=0;if(this._arrow&&this.options.showArrow&&(_=Math.round(f/3),this._arrow.height=_,this._arrow.show(a)),this.options.showFrame&&(y=Math.round(f/9)),this.editor.changeViewZones(I=>{this._viewZone&&I.removeZone(this._viewZone.id),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this.domNode.style.top="-1000px",this._viewZone=new n(S,a.lineNumber,a.column,s,R=>this._onViewZoneTop(R),R=>this._onViewZoneHeight(R)),this._viewZone.id=I.addZone(this._viewZone),this._overlayWidget=new o(i+this._viewZone.id,this.domNode),this.editor.addOverlayWidget(this._overlayWidget)}),this.container&&this.options.showFrame){const I=this.options.frameWidth?this.options.frameWidth:y;this.container.style.borderTopWidth=I+"px",this.container.style.borderBottomWidth=I+"px"}const E=s*f-this._decoratingElementsHeight();this.container&&(this.container.style.top=_+"px",this.container.style.height=E+"px",this.container.style.overflow="hidden"),this._doLayout(E,p),this.options.keepEditorSelection||this.editor.setSelection(r);const T=this.editor.getModel();if(T){const I=r.endLineNumber+1;I<=T.getLineCount()?this.revealLine(I,!1):this.revealLine(T.getLineCount(),!0)}}revealLine(r,s){s?this.editor.revealLineInCenter(r,0):this.editor.revealLine(r,0)}setCssClass(r,s){!this.container||(s&&this.container.classList.remove(s),this.container.classList.add(r))}_onWidth(r){}_doLayout(r,s){}_relayout(r){this._viewZone&&this._viewZone.heightInLines!==r&&this.editor.changeViewZones(s=>{this._viewZone&&(this._viewZone.heightInLines=r,s.layoutZone(this._viewZone.id))})}_initSash(){if(this._resizeSash)return;this._resizeSash=this._disposables.add(new m.Sash(this.domNode,this,{orientation:1})),this.options.isResizeable||(this._resizeSash.state=0);let r;this._disposables.add(this._resizeSash.onDidStart(s=>{this._viewZone&&(r={startY:s.startY,heightInLines:this._viewZone.heightInLines})})),this._disposables.add(this._resizeSash.onDidEnd(()=>{r=void 0})),this._disposables.add(this._resizeSash.onDidChange(s=>{if(r){const a=(s.currentY-r.startY)/this.editor.getOption(60),u=a<0?Math.ceil(a):Math.floor(a),p=r.heightInLines+u;p>5&&p<35&&this._relayout(p)}}))}getHorizontalSashLeft(){return 0}getHorizontalSashTop(){return(this.domNode.style.height===null?0:parseInt(this.domNode.style.height))-this._decoratingElementsHeight()/2}getHorizontalSashWidth(){const r=this.editor.getLayoutInfo();return r.width-r.minimap.minimapWidth}}e.ZoneWidget=c}),define(se[122],re([1,0,7,77,43,27,31,6,36,13,29,176,785,606,172,15,52,9,23,396]),function(q,e,w,m,k,D,L,b,C,h,g,t,i,n,o,l,c,d,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.peekViewEditorMatchHighlightBorder=e.peekViewEditorMatchHighlight=e.peekViewResultsMatchHighlight=e.peekViewEditorGutterBackground=e.peekViewEditorBackground=e.peekViewResultsSelectionForeground=e.peekViewResultsSelectionBackground=e.peekViewResultsFileForeground=e.peekViewResultsMatchForeground=e.peekViewResultsBackground=e.peekViewBorder=e.peekViewTitleInfoForeground=e.peekViewTitleForeground=e.peekViewTitleBackground=e.PeekViewWidget=e.getOuterEditor=e.PeekContext=e.IPeekViewService=void 0,e.IPeekViewService=(0,d.createDecorator)("IPeekViewService"),(0,c.registerSingleton)(e.IPeekViewService,class{constructor(){this._widgets=new Map}addExclusiveWidget(f,v){const _=this._widgets.get(f);_&&(_.listener.dispose(),_.widget.dispose());const y=()=>{const E=this._widgets.get(f);E&&E.widget===v&&(E.listener.dispose(),this._widgets.delete(f))};this._widgets.set(f,{widget:v,listener:v.onDidClose(y)})}},1);var s;(function(f){f.inPeekEditor=new l.RawContextKey("inReferenceSearchEditor",!0,n.localize(0,null)),f.notInPeekEditor=f.inPeekEditor.toNegated()})(s=e.PeekContext||(e.PeekContext={}));let a=class{constructor(v,_){v instanceof t.EmbeddedCodeEditorWidget&&s.inPeekEditor.bindTo(_)}dispose(){}};a.ID="editor.contrib.referenceController",a=De([fe(1,l.IContextKeyService)],a),(0,h.registerEditorContribution)(a.ID,a);function u(f){const v=f.get(g.ICodeEditorService).getFocusedCodeEditor();return v instanceof t.EmbeddedCodeEditorWidget?v.getParentEditor():v}e.getOuterEditor=u;const p={headerBackgroundColor:L.Color.white,primaryHeadingColor:L.Color.fromHex("#333333"),secondaryHeadingColor:L.Color.fromHex("#6c6c6cb3")};let S=class extends i.ZoneWidget{constructor(v,_,y){super(v,_),this.instantiationService=y,this._onDidClose=new b.Emitter,this.onDidClose=this._onDidClose.event,C.mixin(this.options,p,!1)}dispose(){this.disposed||(this.disposed=!0,super.dispose(),this._onDidClose.fire(this))}style(v){const _=this.options;v.headerBackgroundColor&&(_.headerBackgroundColor=v.headerBackgroundColor),v.primaryHeadingColor&&(_.primaryHeadingColor=v.primaryHeadingColor),v.secondaryHeadingColor&&(_.secondaryHeadingColor=v.secondaryHeadingColor),super.style(v)}_applyStyles(){super._applyStyles();const v=this.options;this._headElement&&v.headerBackgroundColor&&(this._headElement.style.backgroundColor=v.headerBackgroundColor.toString()),this._primaryHeading&&v.primaryHeadingColor&&(this._primaryHeading.style.color=v.primaryHeadingColor.toString()),this._secondaryHeading&&v.secondaryHeadingColor&&(this._secondaryHeading.style.color=v.secondaryHeadingColor.toString()),this._bodyElement&&v.frameColor&&(this._bodyElement.style.borderColor=v.frameColor.toString())}_fillContainer(v){this.setCssClass("peekview-widget"),this._headElement=w.$(".head"),this._bodyElement=w.$(".body"),this._fillHead(this._headElement),this._fillBody(this._bodyElement),v.appendChild(this._headElement),v.appendChild(this._bodyElement)}_fillHead(v,_){const y=w.$(".peekview-title");this.options.supportOnTitleClick&&(y.classList.add("clickable"),w.addStandardDisposableListener(y,"click",I=>this._onTitleClick(I))),w.append(this._headElement,y),this._fillTitleIcon(y),this._primaryHeading=w.$("span.filename"),this._secondaryHeading=w.$("span.dirname"),this._metaHeading=w.$("span.meta"),w.append(y,this._primaryHeading,this._secondaryHeading,this._metaHeading);const E=w.$(".peekview-actions");w.append(this._headElement,E);const T=this._getActionBarOptions();this._actionbarWidget=new m.ActionBar(E,T),this._disposables.add(this._actionbarWidget),_||this._actionbarWidget.push(new k.Action("peekview.close",n.localize(1,null),D.Codicon.close.classNames,!0,()=>(this.dispose(),Promise.resolve())),{label:!1,icon:!0})}_fillTitleIcon(v){}_getActionBarOptions(){return{actionViewItemProvider:o.createActionViewItem.bind(void 0,this.instantiationService),orientation:0}}_onTitleClick(v){}setTitle(v,_){this._primaryHeading&&this._secondaryHeading&&(this._primaryHeading.innerText=v,this._primaryHeading.setAttribute("title",v),_?this._secondaryHeading.innerText=_:w.clearNode(this._secondaryHeading))}setMetaTitle(v){this._metaHeading&&(v?(this._metaHeading.innerText=v,w.show(this._metaHeading)):w.hide(this._metaHeading))}_doLayout(v,_){if(!this._isShowing&&v<0){this.dispose();return}const y=Math.ceil(this.editor.getOption(60)*1.2),E=Math.round(v-(y+2));this._doLayoutHead(y,_),this._doLayoutBody(E,_)}_doLayoutHead(v,_){this._headElement&&(this._headElement.style.height=`${v}px`,this._headElement.style.lineHeight=this._headElement.style.height)}_doLayoutBody(v,_){this._bodyElement&&(this._bodyElement.style.height=`${v}px`)}};S=De([fe(2,d.IInstantiationService)],S),e.PeekViewWidget=S,e.peekViewTitleBackground=(0,r.registerColor)("peekViewTitle.background",{dark:(0,r.transparent)(r.editorInfoForeground,.1),light:(0,r.transparent)(r.editorInfoForeground,.1),hcDark:null,hcLight:null},n.localize(2,null)),e.peekViewTitleForeground=(0,r.registerColor)("peekViewTitleLabel.foreground",{dark:L.Color.white,light:L.Color.black,hcDark:L.Color.white,hcLight:r.editorForeground},n.localize(3,null)),e.peekViewTitleInfoForeground=(0,r.registerColor)("peekViewTitleDescription.foreground",{dark:"#ccccccb3",light:"#616161",hcDark:"#FFFFFF99",hcLight:"#292929"},n.localize(4,null)),e.peekViewBorder=(0,r.registerColor)("peekView.border",{dark:r.editorInfoForeground,light:r.editorInfoForeground,hcDark:r.contrastBorder,hcLight:r.contrastBorder},n.localize(5,null)),e.peekViewResultsBackground=(0,r.registerColor)("peekViewResult.background",{dark:"#252526",light:"#F3F3F3",hcDark:L.Color.black,hcLight:L.Color.white},n.localize(6,null)),e.peekViewResultsMatchForeground=(0,r.registerColor)("peekViewResult.lineForeground",{dark:"#bbbbbb",light:"#646465",hcDark:L.Color.white,hcLight:r.editorForeground},n.localize(7,null)),e.peekViewResultsFileForeground=(0,r.registerColor)("peekViewResult.fileForeground",{dark:L.Color.white,light:"#1E1E1E",hcDark:L.Color.white,hcLight:r.editorForeground},n.localize(8,null)),e.peekViewResultsSelectionBackground=(0,r.registerColor)("peekViewResult.selectionBackground",{dark:"#3399ff33",light:"#3399ff33",hcDark:null,hcLight:null},n.localize(9,null)),e.peekViewResultsSelectionForeground=(0,r.registerColor)("peekViewResult.selectionForeground",{dark:L.Color.white,light:"#6C6C6C",hcDark:L.Color.white,hcLight:r.editorForeground},n.localize(10,null)),e.peekViewEditorBackground=(0,r.registerColor)("peekViewEditor.background",{dark:"#001F33",light:"#F2F8FC",hcDark:L.Color.black,hcLight:L.Color.white},n.localize(11,null)),e.peekViewEditorGutterBackground=(0,r.registerColor)("peekViewEditorGutter.background",{dark:e.peekViewEditorBackground,light:e.peekViewEditorBackground,hcDark:e.peekViewEditorBackground,hcLight:e.peekViewEditorBackground},n.localize(12,null)),e.peekViewResultsMatchHighlight=(0,r.registerColor)("peekViewResult.matchHighlightBackground",{dark:"#ea5c004d",light:"#ea5c004d",hcDark:null,hcLight:null},n.localize(13,null)),e.peekViewEditorMatchHighlight=(0,r.registerColor)("peekViewEditor.matchHighlightBackground",{dark:"#ff8f0099",light:"#f5d802de",hcDark:null,hcLight:null},n.localize(14,null)),e.peekViewEditorMatchHighlightBorder=(0,r.registerColor)("peekViewEditor.matchHighlightBorder",{dark:null,light:null,hcDark:r.activeContrastBorder,hcLight:r.activeContrastBorder},n.localize(15,null))}),define(se[786],re([1,0,7,76,18,31,6,2,44,8,3,122,582,172,32,15,9,143,87,46,756,23,16,389]),function(q,e,w,m,k,D,L,b,C,h,g,t,i,n,o,l,c,d,r,s,a,u,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.editorMarkerNavigationBackground=e.editorMarkerNavigationInfoHeader=e.editorMarkerNavigationInfo=e.editorMarkerNavigationWarningHeader=e.editorMarkerNavigationWarning=e.editorMarkerNavigationErrorHeader=e.editorMarkerNavigationError=e.MarkerNavigationWidget=void 0;class S{constructor(T,I,R,F,O){this._openerService=F,this._labelService=O,this._lines=0,this._longestLineLength=0,this._relatedDiagnostics=new WeakMap,this._disposables=new b.DisposableStore,this._editor=I;const M=document.createElement("div");M.className="descriptioncontainer",this._messageBlock=document.createElement("div"),this._messageBlock.classList.add("message"),this._messageBlock.setAttribute("aria-live","assertive"),this._messageBlock.setAttribute("role","alert"),M.appendChild(this._messageBlock),this._relatedBlock=document.createElement("div"),M.appendChild(this._relatedBlock),this._disposables.add(w.addStandardDisposableListener(this._relatedBlock,"click",N=>{N.preventDefault();const A=this._relatedDiagnostics.get(N.target);A&&R(A)})),this._scrollable=new m.ScrollableElement(M,{horizontal:1,vertical:1,useShadows:!1,horizontalScrollbarSize:6,verticalScrollbarSize:6}),T.appendChild(this._scrollable.getDomNode()),this._disposables.add(this._scrollable.onScroll(N=>{M.style.left=`-${N.scrollLeft}px`,M.style.top=`-${N.scrollTop}px`})),this._disposables.add(this._scrollable)}dispose(){(0,b.dispose)(this._disposables)}update(T){const{source:I,message:R,relatedInformation:F,code:O}=T;let M=(I?.length||0)+2;O&&(typeof O=="string"?M+=O.length:M+=O.value.length);const N=(0,h.splitLines)(R);this._lines=N.length,this._longestLineLength=0;for(const P of N)this._longestLineLength=Math.max(P.length+M,this._longestLineLength);w.clearNode(this._messageBlock),this._messageBlock.setAttribute("aria-label",this.getAriaLabel(T)),this._editor.applyFontInfo(this._messageBlock);let A=this._messageBlock;for(const P of N)A=document.createElement("div"),A.innerText=P,P===""&&(A.style.height=this._messageBlock.style.lineHeight),this._messageBlock.appendChild(A);if(I||O){const P=document.createElement("span");if(P.classList.add("details"),A.appendChild(P),I){const X=document.createElement("span");X.innerText=I,X.classList.add("source"),P.appendChild(X)}if(O)if(typeof O=="string"){const X=document.createElement("span");X.innerText=`(${O})`,X.classList.add("code"),P.appendChild(X)}else{this._codeLink=w.$("a.code-link"),this._codeLink.setAttribute("href",`${O.target.toString()}`),this._codeLink.onclick=ie=>{this._openerService.open(O.target,{allowCommands:!0}),ie.preventDefault(),ie.stopPropagation()};const X=w.append(this._codeLink,w.$("span"));X.innerText=O.value,P.appendChild(this._codeLink)}}if(w.clearNode(this._relatedBlock),this._editor.applyFontInfo(this._relatedBlock),(0,k.isNonEmptyArray)(F)){const P=this._relatedBlock.appendChild(document.createElement("div"));P.style.paddingTop=`${Math.floor(this._editor.getOption(60)*.66)}px`,this._lines+=1;for(const X of F){const ie=document.createElement("div"),K=document.createElement("a");K.classList.add("filename"),K.innerText=`${this._labelService.getUriBasenameLabel(X.resource)}(${X.startLineNumber}, ${X.startColumn}): `,K.title=this._labelService.getUriLabel(X.resource),this._relatedDiagnostics.set(K,X);const G=document.createElement("span");G.innerText=X.message,ie.appendChild(K),ie.appendChild(G),this._lines+=1,P.appendChild(ie)}}const B=this._editor.getOption(45),W=Math.ceil(B.typicalFullwidthCharacterWidth*this._longestLineLength*.75),x=B.lineHeight*this._lines;this._scrollable.setScrollDimensions({scrollWidth:W,scrollHeight:x})}layout(T,I){this._scrollable.getDomNode().style.height=`${T}px`,this._scrollable.getDomNode().style.width=`${I}px`,this._scrollable.setScrollDimensions({width:I,height:T})}getHeightInLines(){return Math.min(17,this._lines)}getAriaLabel(T){let I="";switch(T.severity){case r.MarkerSeverity.Error:I=i.localize(0,null);break;case r.MarkerSeverity.Warning:I=i.localize(1,null);break;case r.MarkerSeverity.Info:I=i.localize(2,null);break;case r.MarkerSeverity.Hint:I=i.localize(3,null);break}let R=i.localize(4,null,I,T.startLineNumber+":"+T.startColumn);const F=this._editor.getModel();return F&&T.startLineNumber<=F.getLineCount()&&T.startLineNumber>=1&&(R=`${F.getLineContent(T.startLineNumber)}, ${R}`),R}}let f=class Gi extends t.PeekViewWidget{constructor(T,I,R,F,O,M,N){super(T,{showArrow:!0,showFrame:!0,isAccessible:!0,frameWidth:1},O),this._themeService=I,this._openerService=R,this._menuService=F,this._contextKeyService=M,this._labelService=N,this._callOnDispose=new b.DisposableStore,this._onDidSelectRelatedInformation=new L.Emitter,this.onDidSelectRelatedInformation=this._onDidSelectRelatedInformation.event,this._severity=r.MarkerSeverity.Warning,this._backgroundColor=D.Color.white,this._applyTheme(I.getColorTheme()),this._callOnDispose.add(I.onDidColorThemeChange(this._applyTheme.bind(this))),this.create()}_applyTheme(T){this._backgroundColor=T.getColor(e.editorMarkerNavigationBackground);let I=e.editorMarkerNavigationError,R=e.editorMarkerNavigationErrorHeader;this._severity===r.MarkerSeverity.Warning?(I=e.editorMarkerNavigationWarning,R=e.editorMarkerNavigationWarningHeader):this._severity===r.MarkerSeverity.Info&&(I=e.editorMarkerNavigationInfo,R=e.editorMarkerNavigationInfoHeader);const F=T.getColor(I),O=T.getColor(R);this.style({arrowColor:F,frameColor:F,headerBackgroundColor:O,primaryHeadingColor:T.getColor(t.peekViewTitleForeground),secondaryHeadingColor:T.getColor(t.peekViewTitleInfoForeground)})}_applyStyles(){this._parentContainer&&(this._parentContainer.style.backgroundColor=this._backgroundColor?this._backgroundColor.toString():""),super._applyStyles()}dispose(){this._callOnDispose.dispose(),super.dispose()}_fillHead(T){super._fillHead(T),this._disposables.add(this._actionbarWidget.actionRunner.onWillRun(F=>this.editor.focus()));const I=[],R=this._menuService.createMenu(Gi.TitleMenu,this._contextKeyService);(0,n.createAndFillInActionBarActions)(R,void 0,I),this._actionbarWidget.push(I,{label:!1,icon:!0,index:0}),R.dispose()}_fillTitleIcon(T){this._icon=w.append(T,w.$(""))}_fillBody(T){this._parentContainer=T,T.classList.add("marker-widget"),this._parentContainer.tabIndex=0,this._parentContainer.setAttribute("role","tooltip"),this._container=document.createElement("div"),T.appendChild(this._container),this._message=new S(this._container,this.editor,I=>this._onDidSelectRelatedInformation.fire(I),this._openerService,this._labelService),this._disposables.add(this._message)}show(){throw new Error("call showAtMarker")}showAtMarker(T,I,R){this._container.classList.remove("stale"),this._message.update(T),this._severity=T.severity,this._applyTheme(this._themeService.getColorTheme());const F=g.Range.lift(T),O=this.editor.getPosition(),M=O&&F.containsPosition(O)?O:F.getStartPosition();super.show(M,this.computeRequiredHeight());const N=this.editor.getModel();if(N){const A=R>1?i.localize(5,null,I,R):i.localize(6,null,I,R);this.setTitle((0,C.basename)(N.uri),A)}this._icon.className=`codicon ${a.SeverityIcon.className(r.MarkerSeverity.toSeverity(this._severity))}`,this.editor.revealPositionNearTop(M,0),this.editor.focus()}updateMarker(T){this._container.classList.remove("stale"),this._message.update(T)}showStale(){this._container.classList.add("stale"),this._relayout()}_doLayoutBody(T,I){super._doLayoutBody(T,I),this._heightInPixel=T,this._message.layout(T,I),this._container.style.height=`${T}px`}_onWidth(T){this._message.layout(this._heightInPixel,T)}_relayout(){super._relayout(this.computeRequiredHeight())}computeRequiredHeight(){return 3+this._message.getHeightInLines()}};f.TitleMenu=new o.MenuId("gotoErrorTitleMenu"),f=De([fe(1,p.IThemeService),fe(2,s.IOpenerService),fe(3,o.IMenuService),fe(4,c.IInstantiationService),fe(5,l.IContextKeyService),fe(6,d.ILabelService)],f),e.MarkerNavigationWidget=f;const v=(0,u.oneOf)(u.editorErrorForeground,u.editorErrorBorder),_=(0,u.oneOf)(u.editorWarningForeground,u.editorWarningBorder),y=(0,u.oneOf)(u.editorInfoForeground,u.editorInfoBorder);e.editorMarkerNavigationError=(0,u.registerColor)("editorMarkerNavigationError.background",{dark:v,light:v,hcDark:u.contrastBorder,hcLight:u.contrastBorder},i.localize(7,null)),e.editorMarkerNavigationErrorHeader=(0,u.registerColor)("editorMarkerNavigationError.headerBackground",{dark:(0,u.transparent)(e.editorMarkerNavigationError,.1),light:(0,u.transparent)(e.editorMarkerNavigationError,.1),hcDark:null,hcLight:null},i.localize(8,null)),e.editorMarkerNavigationWarning=(0,u.registerColor)("editorMarkerNavigationWarning.background",{dark:_,light:_,hcDark:u.contrastBorder,hcLight:u.contrastBorder},i.localize(9,null)),e.editorMarkerNavigationWarningHeader=(0,u.registerColor)("editorMarkerNavigationWarning.headerBackground",{dark:(0,u.transparent)(e.editorMarkerNavigationWarning,.1),light:(0,u.transparent)(e.editorMarkerNavigationWarning,.1),hcDark:"#0C141F",hcLight:(0,u.transparent)(e.editorMarkerNavigationWarning,.2)},i.localize(10,null)),e.editorMarkerNavigationInfo=(0,u.registerColor)("editorMarkerNavigationInfo.background",{dark:y,light:y,hcDark:u.contrastBorder,hcLight:u.contrastBorder},i.localize(11,null)),e.editorMarkerNavigationInfoHeader=(0,u.registerColor)("editorMarkerNavigationInfo.headerBackground",{dark:(0,u.transparent)(e.editorMarkerNavigationInfo,.1),light:(0,u.transparent)(e.editorMarkerNavigationInfo,.1),hcDark:null,hcLight:null},i.localize(12,null)),e.editorMarkerNavigationBackground=(0,u.registerColor)("editorMarkerNavigation.background",{dark:u.editorBackground,light:u.editorBackground,hcDark:u.editorBackground,hcLight:u.editorBackground},i.localize(13,null))}),define(se[320],re([1,0,27,2,13,29,11,3,25,667,581,32,15,9,82,786]),function(q,e,w,m,k,D,L,b,C,h,g,t,i,n,o,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NextMarkerAction=e.MarkerController=void 0;let c=class Gt{static get(v){return v.getContribution(Gt.ID)}constructor(v,_,y,E,T){this._markerNavigationService=_,this._contextKeyService=y,this._editorService=E,this._instantiationService=T,this._sessionDispoables=new m.DisposableStore,this._editor=v,this._widgetVisible=p.bindTo(this._contextKeyService)}dispose(){this._cleanUp(),this._sessionDispoables.dispose()}_cleanUp(){this._widgetVisible.reset(),this._sessionDispoables.clear(),this._widget=void 0,this._model=void 0}_getOrCreateModel(v){if(this._model&&this._model.matches(v))return this._model;let _=!1;return this._model&&(_=!0,this._cleanUp()),this._model=this._markerNavigationService.getMarkerList(v),_&&this._model.move(!0,this._editor.getModel(),this._editor.getPosition()),this._widget=this._instantiationService.createInstance(l.MarkerNavigationWidget,this._editor),this._widget.onDidClose(()=>this.close(),this,this._sessionDispoables),this._widgetVisible.set(!0),this._sessionDispoables.add(this._model),this._sessionDispoables.add(this._widget),this._sessionDispoables.add(this._editor.onDidChangeCursorPosition(y=>{var E,T,I;(!(!((E=this._model)===null||E===void 0)&&E.selected)||!b.Range.containsPosition((T=this._model)===null||T===void 0?void 0:T.selected.marker,y.position))&&((I=this._model)===null||I===void 0||I.resetIndex())})),this._sessionDispoables.add(this._model.onDidChange(()=>{if(!this._widget||!this._widget.position||!this._model)return;const y=this._model.find(this._editor.getModel().uri,this._widget.position);y?this._widget.updateMarker(y.marker):this._widget.showStale()})),this._sessionDispoables.add(this._widget.onDidSelectRelatedInformation(y=>{this._editorService.openCodeEditor({resource:y.resource,options:{pinned:!0,revealIfOpened:!0,selection:b.Range.lift(y).collapseToStart()}},this._editor),this.close(!1)})),this._sessionDispoables.add(this._editor.onDidChangeModel(()=>this._cleanUp())),this._model}close(v=!0){this._cleanUp(),v&&this._editor.focus()}showAtMarker(v){if(this._editor.hasModel()){const _=this._getOrCreateModel(this._editor.getModel().uri);_.resetIndex(),_.move(!0,this._editor.getModel(),new L.Position(v.startLineNumber,v.startColumn)),_.selected&&this._widget.showAtMarker(_.selected.marker,_.selected.index,_.selected.total)}}nagivate(v,_){var y,E;return Se(this,void 0,void 0,function*(){if(this._editor.hasModel()){const T=this._getOrCreateModel(_?void 0:this._editor.getModel().uri);if(T.move(v,this._editor.getModel(),this._editor.getPosition()),!T.selected)return;if(T.selected.marker.resource.toString()!==this._editor.getModel().uri.toString()){this._cleanUp();const I=yield this._editorService.openCodeEditor({resource:T.selected.marker.resource,options:{pinned:!1,revealIfOpened:!0,selectionRevealType:2,selection:T.selected.marker}},this._editor);I&&((y=Gt.get(I))===null||y===void 0||y.close(),(E=Gt.get(I))===null||E===void 0||E.nagivate(v,_))}else this._widget.showAtMarker(T.selected.marker,T.selected.index,T.selected.total)}})}};c.ID="editor.contrib.markerController",c=De([fe(1,h.IMarkerNavigationService),fe(2,i.IContextKeyService),fe(3,D.ICodeEditorService),fe(4,n.IInstantiationService)],c),e.MarkerController=c;class d extends k.EditorAction{constructor(v,_,y){super(y),this._next=v,this._multiFile=_}run(v,_){var y;return Se(this,void 0,void 0,function*(){_.hasModel()&&((y=c.get(_))===null||y===void 0||y.nagivate(this._next,this._multiFile))})}}class r extends d{constructor(){super(!0,!1,{id:r.ID,label:r.LABEL,alias:"Go to Next Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:C.EditorContextKeys.focus,primary:578,weight:100},menuOpts:{menuId:l.MarkerNavigationWidget.TitleMenu,title:r.LABEL,icon:(0,o.registerIcon)("marker-navigation-next",w.Codicon.arrowDown,g.localize(1,null)),group:"navigation",order:1}})}}e.NextMarkerAction=r,r.ID="editor.action.marker.next",r.LABEL=g.localize(0,null);class s extends d{constructor(){super(!1,!1,{id:s.ID,label:s.LABEL,alias:"Go to Previous Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:C.EditorContextKeys.focus,primary:1602,weight:100},menuOpts:{menuId:l.MarkerNavigationWidget.TitleMenu,title:s.LABEL,icon:(0,o.registerIcon)("marker-navigation-previous",w.Codicon.arrowUp,g.localize(3,null)),group:"navigation",order:2}})}}s.ID="editor.action.marker.prev",s.LABEL=g.localize(2,null);class a extends d{constructor(){super(!0,!0,{id:"editor.action.marker.nextInFiles",label:g.localize(4,null),alias:"Go to Next Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:C.EditorContextKeys.focus,primary:66,weight:100},menuOpts:{menuId:t.MenuId.MenubarGoMenu,title:g.localize(5,null),group:"6_problem_nav",order:1}})}}class u extends d{constructor(){super(!1,!0,{id:"editor.action.marker.prevInFiles",label:g.localize(6,null),alias:"Go to Previous Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:C.EditorContextKeys.focus,primary:1090,weight:100},menuOpts:{menuId:t.MenuId.MenubarGoMenu,title:g.localize(7,null),group:"6_problem_nav",order:2}})}}(0,k.registerEditorContribution)(c.ID,c),(0,k.registerEditorAction)(r),(0,k.registerEditorAction)(s),(0,k.registerEditorAction)(a),(0,k.registerEditorAction)(u);const p=new i.RawContextKey("markersNavigationVisible",!1),S=k.EditorCommand.bindToContribution(c.get);(0,k.registerEditorCommand)(new S({id:"closeMarkersNavigation",precondition:p,handler:f=>f.close(),kbOpts:{weight:100+50,kbExpr:C.EditorContextKeys.focus,primary:9,secondary:[1033]}}))}),define(se[787],re([1,0,7,267,31,6,2,49,44,176,3,37,34,74,39,61,707,122,587,9,41,143,173,16,174,140,391]),function(q,e,w,m,k,D,L,b,C,h,g,t,i,n,o,l,c,d,r,s,a,u,p,S,f,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReferenceWidget=e.LayoutData=void 0;class _{constructor(R,F){this._editor=R,this._model=F,this._decorations=new Map,this._decorationIgnoreSet=new Set,this._callOnDispose=new L.DisposableStore,this._callOnModelChange=new L.DisposableStore,this._callOnDispose.add(this._editor.onDidChangeModel(()=>this._onModelChanged())),this._onModelChanged()}dispose(){this._callOnModelChange.dispose(),this._callOnDispose.dispose(),this.removeDecorations()}_onModelChanged(){this._callOnModelChange.clear();const R=this._editor.getModel();if(!!R){for(const F of this._model.references)if(F.uri.toString()===R.uri.toString()){this._addDecorations(F.parent);return}}}_addDecorations(R){if(!this._editor.hasModel())return;this._callOnModelChange.add(this._editor.getModel().onDidChangeDecorations(()=>this._onDecorationChanged()));const F=[],O=[];for(let M=0,N=R.children.length;M<N;M++){const A=R.children[M];this._decorationIgnoreSet.has(A.id)||A.uri.toString()===this._editor.getModel().uri.toString()&&(F.push({range:A.range,options:_.DecorationOptions}),O.push(M))}this._editor.changeDecorations(M=>{const N=M.deltaDecorations([],F);for(let A=0;A<N.length;A++)this._decorations.set(N[A],R.children[O[A]])})}_onDecorationChanged(){const R=[],F=this._editor.getModel();if(!!F){for(const[O,M]of this._decorations){const N=F.getDecorationRange(O);if(!N)continue;let A=!1;if(!g.Range.equalsRange(N,M.range)){if(g.Range.spansMultipleLines(N))A=!0;else{const B=M.range.endColumn-M.range.startColumn,W=N.endColumn-N.startColumn;B!==W&&(A=!0)}A?(this._decorationIgnoreSet.add(M.id),R.push(O)):M.range=N}}for(let O=0,M=R.length;O<M;O++)this._decorations.delete(R[O]);this._editor.removeDecorations(R)}}removeDecorations(){this._editor.removeDecorations([...this._decorations.keys()]),this._decorations.clear()}}_.DecorationOptions=t.ModelDecorationOptions.register({description:"reference-decoration",stickiness:1,className:"reference-decoration"});class y{constructor(){this.ratio=.7,this.heightInLines=18}static fromJSON(R){let F,O;try{const M=JSON.parse(R);F=M.ratio,O=M.heightInLines}catch{}return{ratio:F||.7,heightInLines:O||18}}}e.LayoutData=y;class E extends p.WorkbenchAsyncDataTree{}let T=class extends d.PeekViewWidget{constructor(R,F,O,M,N,A,B,W,x,P,X,ie){super(R,{showFrame:!1,showArrow:!0,isResizeable:!0,isAccessible:!0,supportOnTitleClick:!0},A),this._defaultTreeKeyboardSupport=F,this.layoutData=O,this._textModelResolverService=N,this._instantiationService=A,this._peekViewService=B,this._uriLabel=W,this._undoRedoService=x,this._keybindingService=P,this._languageService=X,this._languageConfigurationService=ie,this._disposeOnNewModel=new L.DisposableStore,this._callOnDispose=new L.DisposableStore,this._onDidSelectReference=new D.Emitter,this.onDidSelectReference=this._onDidSelectReference.event,this._dim=new w.Dimension(0,0),this._applyTheme(M.getColorTheme()),this._callOnDispose.add(M.onDidColorThemeChange(this._applyTheme.bind(this))),this._peekViewService.addExclusiveWidget(R,this),this.create()}dispose(){this.setModel(void 0),this._callOnDispose.dispose(),this._disposeOnNewModel.dispose(),(0,L.dispose)(this._preview),(0,L.dispose)(this._previewNotAvailableMessage),(0,L.dispose)(this._tree),(0,L.dispose)(this._previewModelReference),this._splitView.dispose(),super.dispose()}_applyTheme(R){const F=R.getColor(d.peekViewBorder)||k.Color.transparent;this.style({arrowColor:F,frameColor:F,headerBackgroundColor:R.getColor(d.peekViewTitleBackground)||k.Color.transparent,primaryHeadingColor:R.getColor(d.peekViewTitleForeground),secondaryHeadingColor:R.getColor(d.peekViewTitleInfoForeground)})}show(R){super.show(R,this.layoutData.heightInLines||18)}focusOnReferenceTree(){this._tree.domFocus()}focusOnPreviewEditor(){this._preview.focus()}isPreviewEditorFocused(){return this._preview.hasTextFocus()}_onTitleClick(R){this._preview&&this._preview.getModel()&&this._onDidSelectReference.fire({element:this._getFocusedReference(),kind:R.ctrlKey||R.metaKey||R.altKey?"side":"open",source:"title"})}_fillBody(R){this.setCssClass("reference-zone-widget"),this._messageContainer=w.append(R,w.$("div.messages")),w.hide(this._messageContainer),this._splitView=new m.SplitView(R,{orientation:1}),this._previewContainer=w.append(R,w.$("div.preview.inline"));const F={scrollBeyondLastLine:!1,scrollbar:{verticalScrollbarSize:14,horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,alwaysConsumeMouseWheel:!1},overviewRulerLanes:2,fixedOverflowWidgets:!0,minimap:{enabled:!1}};this._preview=this._instantiationService.createInstance(h.EmbeddedCodeEditorWidget,this._previewContainer,F,this.editor),w.hide(this._previewContainer),this._previewNotAvailableMessage=new t.TextModel(r.localize(0,null),n.PLAINTEXT_LANGUAGE_ID,t.TextModel.DEFAULT_CREATION_OPTIONS,null,this._undoRedoService,this._languageService,this._languageConfigurationService),this._treeContainer=w.append(R,w.$("div.ref-tree.inline"));const O={keyboardSupport:this._defaultTreeKeyboardSupport,accessibilityProvider:new c.AccessibilityProvider,keyboardNavigationLabelProvider:this._instantiationService.createInstance(c.StringRepresentationProvider),identityProvider:new c.IdentityProvider,openOnSingleClick:!0,selectionNavigation:!0,overrideStyles:{listBackground:d.peekViewResultsBackground}};this._defaultTreeKeyboardSupport&&this._callOnDispose.add(w.addStandardDisposableListener(this._treeContainer,"keydown",N=>{N.equals(9)&&(this._keybindingService.dispatchEvent(N,N.target),N.stopPropagation())},!0)),this._tree=this._instantiationService.createInstance(E,"ReferencesWidget",this._treeContainer,new c.Delegate,[this._instantiationService.createInstance(c.FileReferencesRenderer),this._instantiationService.createInstance(c.OneReferenceRenderer)],this._instantiationService.createInstance(c.DataSource),O),this._splitView.addView({onDidChange:D.Event.None,element:this._previewContainer,minimumSize:200,maximumSize:Number.MAX_VALUE,layout:N=>{this._preview.layout({height:this._dim.height,width:N})}},m.Sizing.Distribute),this._splitView.addView({onDidChange:D.Event.None,element:this._treeContainer,minimumSize:100,maximumSize:Number.MAX_VALUE,layout:N=>{this._treeContainer.style.height=`${this._dim.height}px`,this._treeContainer.style.width=`${N}px`,this._tree.layout(this._dim.height,N)}},m.Sizing.Distribute),this._disposables.add(this._splitView.onDidSashChange(()=>{this._dim.width&&(this.layoutData.ratio=this._splitView.getViewSize(0)/this._dim.width)},void 0));const M=(N,A)=>{N instanceof v.OneReference&&(A==="show"&&this._revealReference(N,!1),this._onDidSelectReference.fire({element:N,kind:A,source:"tree"}))};this._tree.onDidOpen(N=>{N.sideBySide?M(N.element,"side"):N.editorOptions.pinned?M(N.element,"goto"):M(N.element,"show")}),w.hide(this._treeContainer)}_onWidth(R){this._dim&&this._doLayoutBody(this._dim.height,R)}_doLayoutBody(R,F){super._doLayoutBody(R,F),this._dim=new w.Dimension(F,R),this.layoutData.heightInLines=this._viewZone?this._viewZone.heightInLines:this.layoutData.heightInLines,this._splitView.layout(F),this._splitView.resizeView(0,F*this.layoutData.ratio)}setSelection(R){return this._revealReference(R,!0).then(()=>{!this._model||(this._tree.setSelection([R]),this._tree.setFocus([R]))})}setModel(R){return this._disposeOnNewModel.clear(),this._model=R,this._model?this._onNewModel():Promise.resolve()}_onNewModel(){return this._model?this._model.isEmpty?(this.setTitle(""),this._messageContainer.innerText=r.localize(1,null),w.show(this._messageContainer),Promise.resolve(void 0)):(w.hide(this._messageContainer),this._decorationsManager=new _(this._preview,this._model),this._disposeOnNewModel.add(this._decorationsManager),this._disposeOnNewModel.add(this._model.onDidChangeReferenceRange(R=>this._tree.rerender(R))),this._disposeOnNewModel.add(this._preview.onMouseDown(R=>{const{event:F,target:O}=R;if(F.detail!==2)return;const M=this._getFocusedReference();!M||this._onDidSelectReference.fire({element:{uri:M.uri,range:O.range},kind:F.ctrlKey||F.metaKey||F.altKey?"side":"open",source:"editor"})})),this.container.classList.add("results-loaded"),w.show(this._treeContainer),w.show(this._previewContainer),this._splitView.layout(this._dim.width),this.focusOnReferenceTree(),this._tree.setInput(this._model.groups.length===1?this._model.groups[0]:this._model)):Promise.resolve(void 0)}_getFocusedReference(){const[R]=this._tree.getFocus();if(R instanceof v.OneReference)return R;if(R instanceof v.FileReferences&&R.children.length>0)return R.children[0]}revealReference(R){return Se(this,void 0,void 0,function*(){yield this._revealReference(R,!1),this._onDidSelectReference.fire({element:R,kind:"goto",source:"tree"})})}_revealReference(R,F){return Se(this,void 0,void 0,function*(){if(this._revealedReference===R)return;this._revealedReference=R,R.uri.scheme!==b.Schemas.inMemory?this.setTitle((0,C.basenameOrAuthority)(R.uri),this._uriLabel.getUriLabel((0,C.dirname)(R.uri))):this.setTitle(r.localize(2,null));const O=this._textModelResolverService.createModelReference(R.uri);this._tree.getInput()===R.parent?this._tree.reveal(R):(F&&this._tree.reveal(R.parent),yield this._tree.expand(R.parent),this._tree.reveal(R));const M=yield O;if(!this._model){M.dispose();return}(0,L.dispose)(this._previewModelReference);const N=M.object;if(N){const A=this._preview.getModel()===N.textEditorModel?0:1,B=g.Range.lift(R.range).collapseToStart();this._previewModelReference=M,this._preview.setModel(N.textEditorModel),this._preview.setSelection(B),this._preview.revealRangeInCenter(B,A)}else this._preview.setModel(this._previewNotAvailableMessage),M.dispose()})}};T=De([fe(3,S.IThemeService),fe(4,l.ITextModelService),fe(5,s.IInstantiationService),fe(6,d.IPeekViewService),fe(7,u.ILabelService),fe(8,f.IUndoRedoService),fe(9,a.IKeybindingService),fe(10,o.ILanguageService),fe(11,i.ILanguageConfigurationService)],T),e.ReferenceWidget=T}),define(se[321],re([1,0,10,14,57,2,29,11,3,122,585,26,30,15,9,96,173,40,80,140,787]),function(q,e,w,m,k,D,L,b,C,h,g,t,i,n,o,l,c,d,r,s,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReferencesController=e.ctxReferenceSearchVisible=void 0,e.ctxReferenceSearchVisible=new n.RawContextKey("referenceSearchVisible",!1,g.localize(0,null));let u=class hi{static get(f){return f.getContribution(hi.ID)}constructor(f,v,_,y,E,T,I,R){this._defaultTreeKeyboardSupport=f,this._editor=v,this._editorService=y,this._notificationService=E,this._instantiationService=T,this._storageService=I,this._configurationService=R,this._disposables=new D.DisposableStore,this._requestIdPool=0,this._ignoreModelChangeEvent=!1,this._referenceSearchVisible=e.ctxReferenceSearchVisible.bindTo(_)}dispose(){var f,v;this._referenceSearchVisible.reset(),this._disposables.dispose(),(f=this._widget)===null||f===void 0||f.dispose(),(v=this._model)===null||v===void 0||v.dispose(),this._widget=void 0,this._model=void 0}toggleWidget(f,v,_){let y;if(this._widget&&(y=this._widget.position),this.closeWidget(),!!y&&f.containsPosition(y))return;this._peekMode=_,this._referenceSearchVisible.set(!0),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>{this.closeWidget()})),this._disposables.add(this._editor.onDidChangeModel(()=>{this._ignoreModelChangeEvent||this.closeWidget()}));const E="peekViewLayout",T=a.LayoutData.fromJSON(this._storageService.get(E,0,"{}"));this._widget=this._instantiationService.createInstance(a.ReferenceWidget,this._editor,this._defaultTreeKeyboardSupport,T),this._widget.setTitle(g.localize(1,null)),this._widget.show(f),this._disposables.add(this._widget.onDidClose(()=>{v.cancel(),this._widget&&(this._storageService.store(E,JSON.stringify(this._widget.layoutData),0,1),this._widget=void 0),this.closeWidget()})),this._disposables.add(this._widget.onDidSelectReference(R=>{const{element:F,kind:O}=R;if(!!F)switch(O){case"open":(R.source!=="editor"||!this._configurationService.getValue("editor.stablePeek"))&&this.openReference(F,!1,!1);break;case"side":this.openReference(F,!0,!1);break;case"goto":_?this._gotoReference(F):this.openReference(F,!1,!0);break}}));const I=++this._requestIdPool;v.then(R=>{var F;if(I!==this._requestIdPool||!this._widget){R.dispose();return}return(F=this._model)===null||F===void 0||F.dispose(),this._model=R,this._widget.setModel(this._model).then(()=>{if(this._widget&&this._model&&this._editor.hasModel()){this._model.isEmpty?this._widget.setMetaTitle(""):this._widget.setMetaTitle(g.localize(2,null,this._model.title,this._model.references.length));const O=this._editor.getModel().uri,M=new b.Position(f.startLineNumber,f.startColumn),N=this._model.nearestReference(O,M);if(N)return this._widget.setSelection(N).then(()=>{this._widget&&this._editor.getOption(78)==="editor"&&this._widget.focusOnPreviewEditor()})}})},R=>{this._notificationService.error(R)})}changeFocusBetweenPreviewAndReferences(){!this._widget||(this._widget.isPreviewEditorFocused()?this._widget.focusOnReferenceTree():this._widget.focusOnPreviewEditor())}goToNextOrPreviousReference(f){return Se(this,void 0,void 0,function*(){if(!this._editor.hasModel()||!this._model||!this._widget)return;const v=this._widget.position;if(!v)return;const _=this._model.nearestReference(this._editor.getModel().uri,v);if(!_)return;const y=this._model.nextOrPreviousReference(_,f),E=this._editor.hasTextFocus(),T=this._widget.isPreviewEditorFocused();yield this._widget.setSelection(y),yield this._gotoReference(y),E?this._editor.focus():this._widget&&T&&this._widget.focusOnPreviewEditor()})}revealReference(f){return Se(this,void 0,void 0,function*(){!this._editor.hasModel()||!this._model||!this._widget||(yield this._widget.revealReference(f))})}closeWidget(f=!0){var v,_;(v=this._widget)===null||v===void 0||v.dispose(),(_=this._model)===null||_===void 0||_.dispose(),this._referenceSearchVisible.reset(),this._disposables.clear(),this._widget=void 0,this._model=void 0,f&&this._editor.focus(),this._requestIdPool+=1}_gotoReference(f){var v;(v=this._widget)===null||v===void 0||v.hide(),this._ignoreModelChangeEvent=!0;const _=C.Range.lift(f.range).collapseToStart();return this._editorService.openCodeEditor({resource:f.uri,options:{selection:_,selectionSource:"code.jump"}},this._editor).then(y=>{var E;if(this._ignoreModelChangeEvent=!1,!y||!this._widget){this.closeWidget();return}if(this._editor===y)this._widget.show(_),this._widget.focusOnReferenceTree();else{const T=hi.get(y),I=this._model.clone();this.closeWidget(),y.focus(),T?.toggleWidget(_,(0,w.createCancelablePromise)(R=>Promise.resolve(I)),(E=this._peekMode)!==null&&E!==void 0?E:!1)}},y=>{this._ignoreModelChangeEvent=!1,(0,m.onUnexpectedError)(y)})}openReference(f,v,_){v||this.closeWidget();const{uri:y,range:E}=f;this._editorService.openCodeEditor({resource:y,options:{selection:E,selectionSource:"code.jump",pinned:_}},this._editor,v)}};u.ID="editor.contrib.referencesController",u=De([fe(2,n.IContextKeyService),fe(3,L.ICodeEditorService),fe(4,d.INotificationService),fe(5,o.IInstantiationService),fe(6,r.IStorageService),fe(7,i.IConfigurationService)],u),e.ReferencesController=u;function p(S,f){const v=(0,h.getOuterEditor)(S);if(!v)return;const _=u.get(v);_&&f(_)}l.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"togglePeekWidgetFocus",weight:100,primary:(0,k.KeyChord)(2089,60),when:n.ContextKeyExpr.or(e.ctxReferenceSearchVisible,h.PeekContext.inPeekEditor),handler(S){p(S,f=>{f.changeFocusBetweenPreviewAndReferences()})}}),l.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"goToNextReference",weight:100-10,primary:62,secondary:[70],when:n.ContextKeyExpr.or(e.ctxReferenceSearchVisible,h.PeekContext.inPeekEditor),handler(S){p(S,f=>{f.goToNextOrPreviousReference(!0)})}}),l.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"goToPreviousReference",weight:100-10,primary:1086,secondary:[1094],when:n.ContextKeyExpr.or(e.ctxReferenceSearchVisible,h.PeekContext.inPeekEditor),handler(S){p(S,f=>{f.goToNextOrPreviousReference(!1)})}}),t.CommandsRegistry.registerCommandAlias("goToNextReferenceFromEmbeddedEditor","goToNextReference"),t.CommandsRegistry.registerCommandAlias("goToPreviousReferenceFromEmbeddedEditor","goToPreviousReference"),t.CommandsRegistry.registerCommandAlias("closeReferenceSearchEditor","closeReferenceSearch"),t.CommandsRegistry.registerCommand("closeReferenceSearch",S=>p(S,f=>f.closeWidget())),l.KeybindingsRegistry.registerKeybindingRule({id:"closeReferenceSearch",weight:100-101,primary:9,secondary:[1033],when:n.ContextKeyExpr.and(h.PeekContext.inPeekEditor,n.ContextKeyExpr.not("config.editor.stablePeek"))}),l.KeybindingsRegistry.registerKeybindingRule({id:"closeReferenceSearch",weight:200+50,primary:9,secondary:[1033],when:n.ContextKeyExpr.and(e.ctxReferenceSearchVisible,n.ContextKeyExpr.not("config.editor.stablePeek"))}),l.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"revealReference",weight:200,primary:3,mac:{primary:3,secondary:[2066]},when:n.ContextKeyExpr.and(e.ctxReferenceSearchVisible,c.WorkbenchListFocusContextKey,c.WorkbenchTreeElementCanCollapse.negate(),c.WorkbenchTreeElementCanExpand.negate()),handler(S){var f;const _=(f=S.get(c.IListService).lastFocusedList)===null||f===void 0?void 0:f.getFocus();Array.isArray(_)&&_[0]instanceof s.OneReference&&p(S,y=>y.revealReference(_[0]))}}),l.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"openReferenceToSide",weight:100,primary:2051,mac:{primary:259},when:n.ContextKeyExpr.and(e.ctxReferenceSearchVisible,c.WorkbenchListFocusContextKey,c.WorkbenchTreeElementCanCollapse.negate(),c.WorkbenchTreeElementCanExpand.negate()),handler(S){var f;const _=(f=S.get(c.IListService).lastFocusedList)===null||f===void 0?void 0:f.getFocus();Array.isArray(_)&&_[0]instanceof s.OneReference&&p(S,y=>y.openReference(_[0],!0,!0))}}),t.CommandsRegistry.registerCommand("openReference",S=>{var f;const _=(f=S.get(c.IListService).lastFocusedList)===null||f===void 0?void 0:f.getFocus();Array.isArray(_)&&_[0]instanceof s.OneReference&&p(S,y=>y.openReference(_[0],!1,!0))})}),define(se[225],re([1,0,42,50,10,57,17,19,22,97,156,13,29,176,11,3,25,28,321,140,730,146,122,583,32,26,15,9,40,67,223,20,18]),function(q,e,w,m,k,D,L,b,C,h,g,t,i,n,o,l,c,d,r,s,a,u,p,S,f,v,_,y,E,T,I,R,F){"use strict";var O,M,N,A,B,W,x,P;Object.defineProperty(e,"__esModule",{value:!0}),e.DefinitionAction=e.SymbolNavigationAction=e.SymbolNavigationAnchor=void 0,f.MenuRegistry.appendMenuItem(f.MenuId.EditorContext,{submenu:f.MenuId.EditorContextPeek,title:S.localize(0,null),group:"navigation",order:100});class X{static is($){return!$||typeof $!="object"?!1:!!($ instanceof X||o.Position.isIPosition($.position)&&$.model)}constructor($,oe){this.model=$,this.position=oe}}e.SymbolNavigationAnchor=X;class ie extends t.EditorAction2{static all(){return ie._allSymbolNavigationCommands.values()}static _patchConfig($){const oe=Object.assign(Object.assign({},$),{f1:!0});if(oe.menu)for(const U of(0,F.asArray)(oe.menu))(U.id===f.MenuId.EditorContext||U.id===f.MenuId.EditorContextPeek)&&(U.when=_.ContextKeyExpr.and($.precondition,U.when));return oe}constructor($,oe){super(ie._patchConfig(oe)),this.configuration=$,ie._allSymbolNavigationCommands.set(oe.id,this)}runEditorCommand($,oe,U,ae){if(!oe.hasModel())return Promise.resolve(void 0);const z=$.get(E.INotificationService),J=$.get(i.ICodeEditorService),Y=$.get(T.IEditorProgressService),H=$.get(a.ISymbolNavigationService),j=$.get(R.ILanguageFeaturesService),de=$.get(y.IInstantiationService),ue=oe.getModel(),ce=oe.getPosition(),ge=X.is(U)?U:new X(ue,ce),ve=new h.EditorStateCancellationTokenSource(oe,5),_e=(0,k.raceCancellation)(this._getLocationModel(j,ge.model,ge.position,ve.token),ve.token).then(ye=>Se(this,void 0,void 0,function*(){var Ee;if(!ye||ve.token.isCancellationRequested)return;(0,m.alert)(ye.ariaMessage);let Te;if(ye.referenceAt(ue.uri,ce)){const Ce=this._getAlternativeCommand(oe);!ie._activeAlternativeCommands.has(Ce)&&ie._allSymbolNavigationCommands.has(Ce)&&(Te=ie._allSymbolNavigationCommands.get(Ce))}const we=ye.references.length;if(we===0){if(!this.configuration.muteMessage){const Ce=ue.getWordAtPosition(ce);(Ee=u.MessageController.get(oe))===null||Ee===void 0||Ee.showMessage(this._getNoResultFoundMessage(Ce),ce)}}else if(we===1&&Te)ie._activeAlternativeCommands.add(this.desc.id),de.invokeFunction(Ce=>Te.runEditorCommand(Ce,oe,U,ae).finally(()=>{ie._activeAlternativeCommands.delete(this.desc.id)}));else return this._onResult(J,H,oe,ye,ae)}),ye=>{z.error(ye)}).finally(()=>{ve.dispose()});return Y.showWhile(_e,250),_e}_onResult($,oe,U,ae,z){return Se(this,void 0,void 0,function*(){const J=this._getGoToPreference(U);if(!(U instanceof n.EmbeddedCodeEditorWidget)&&(this.configuration.openInPeek||J==="peek"&&ae.references.length>1))this._openInPeek(U,ae,z);else{const Y=ae.firstReference(),H=ae.references.length>1&&J==="gotoAndPeek",j=yield this._openReference(U,$,Y,this.configuration.openToSide,!H);H&&j?this._openInPeek(j,ae,z):ae.dispose(),J==="goto"&&oe.put(Y)}})}_openReference($,oe,U,ae,z){return Se(this,void 0,void 0,function*(){let J;if((0,d.isLocationLink)(U)&&(J=U.targetSelectionRange),J||(J=U.range),!J)return;const Y=yield oe.openCodeEditor({resource:U.uri,options:{selection:l.Range.collapseToStart(J),selectionRevealType:3,selectionSource:"code.jump"}},$,ae);if(!!Y){if(z){const H=Y.getModel(),j=Y.createDecorationsCollection([{range:J,options:{description:"symbol-navigate-action-highlight",className:"symbolHighlight"}}]);setTimeout(()=>{Y.getModel()===H&&j.clear()},350)}return Y}})}_openInPeek($,oe,U){const ae=r.ReferencesController.get($);ae&&$.hasModel()?ae.toggleWidget(U??$.getSelection(),(0,k.createCancelablePromise)(z=>Promise.resolve(oe)),this.configuration.openInPeek):oe.dispose()}}e.SymbolNavigationAction=ie,ie._allSymbolNavigationCommands=new Map,ie._activeAlternativeCommands=new Set;class K extends ie{_getLocationModel($,oe,U,ae){return Se(this,void 0,void 0,function*(){return new s.ReferencesModel(yield(0,I.getDefinitionsAtPosition)($.definitionProvider,oe,U,ae),S.localize(1,null))})}_getNoResultFoundMessage($){return $&&$.word?S.localize(2,null,$.word):S.localize(3,null)}_getAlternativeCommand($){return $.getOption(52).alternativeDefinitionCommand}_getGoToPreference($){return $.getOption(52).multipleDefinitions}}e.DefinitionAction=K;const G=L.isWeb&&!(0,w.isStandalone)()?2118:70;(0,f.registerAction2)((O=class gi extends K{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:gi.id,title:{value:S.localize(4,null),original:"Go to Definition",mnemonicTitle:S.localize(5,null)},precondition:_.ContextKeyExpr.and(c.EditorContextKeys.hasDefinitionProvider,c.EditorContextKeys.isInWalkThroughSnippet.toNegated()),keybinding:{when:c.EditorContextKeys.editorTextFocus,primary:G,weight:100},menu:[{id:f.MenuId.EditorContext,group:"navigation",order:1.1},{id:f.MenuId.MenubarGoMenu,group:"4_symbol_nav",order:2}]}),v.CommandsRegistry.registerCommandAlias("editor.action.goToDeclaration",gi.id)}},O.id="editor.action.revealDefinition",O)),(0,f.registerAction2)((M=class fi extends K{constructor(){super({openToSide:!0,openInPeek:!1,muteMessage:!1},{id:fi.id,title:{value:S.localize(6,null),original:"Open Definition to the Side"},precondition:_.ContextKeyExpr.and(c.EditorContextKeys.hasDefinitionProvider,c.EditorContextKeys.isInWalkThroughSnippet.toNegated()),keybinding:{when:c.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,G),weight:100}}),v.CommandsRegistry.registerCommandAlias("editor.action.openDeclarationToTheSide",fi.id)}},M.id="editor.action.revealDefinitionAside",M)),(0,f.registerAction2)((N=class mi extends K{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:mi.id,title:{value:S.localize(7,null),original:"Peek Definition"},precondition:_.ContextKeyExpr.and(c.EditorContextKeys.hasDefinitionProvider,p.PeekContext.notInPeekEditor,c.EditorContextKeys.isInWalkThroughSnippet.toNegated()),keybinding:{when:c.EditorContextKeys.editorTextFocus,primary:582,linux:{primary:3140},weight:100},menu:{id:f.MenuId.EditorContextPeek,group:"peek",order:2}}),v.CommandsRegistry.registerCommandAlias("editor.action.previewDeclaration",mi.id)}},N.id="editor.action.peekDefinition",N));class Q extends ie{_getLocationModel($,oe,U,ae){return Se(this,void 0,void 0,function*(){return new s.ReferencesModel(yield(0,I.getDeclarationsAtPosition)($.declarationProvider,oe,U,ae),S.localize(8,null))})}_getNoResultFoundMessage($){return $&&$.word?S.localize(9,null,$.word):S.localize(10,null)}_getAlternativeCommand($){return $.getOption(52).alternativeDeclarationCommand}_getGoToPreference($){return $.getOption(52).multipleDeclarations}}(0,f.registerAction2)((A=class Yi extends Q{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:Yi.id,title:{value:S.localize(11,null),original:"Go to Declaration",mnemonicTitle:S.localize(12,null)},precondition:_.ContextKeyExpr.and(c.EditorContextKeys.hasDeclarationProvider,c.EditorContextKeys.isInWalkThroughSnippet.toNegated()),menu:[{id:f.MenuId.EditorContext,group:"navigation",order:1.3},{id:f.MenuId.MenubarGoMenu,group:"4_symbol_nav",order:3}]})}_getNoResultFoundMessage($){return $&&$.word?S.localize(13,null,$.word):S.localize(14,null)}},A.id="editor.action.revealDeclaration",A)),(0,f.registerAction2)(class extends Q{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.peekDeclaration",title:{value:S.localize(15,null),original:"Peek Declaration"},precondition:_.ContextKeyExpr.and(c.EditorContextKeys.hasDeclarationProvider,p.PeekContext.notInPeekEditor,c.EditorContextKeys.isInWalkThroughSnippet.toNegated()),menu:{id:f.MenuId.EditorContextPeek,group:"peek",order:3}})}});class ne extends ie{_getLocationModel($,oe,U,ae){return Se(this,void 0,void 0,function*(){return new s.ReferencesModel(yield(0,I.getTypeDefinitionsAtPosition)($.typeDefinitionProvider,oe,U,ae),S.localize(16,null))})}_getNoResultFoundMessage($){return $&&$.word?S.localize(17,null,$.word):S.localize(18,null)}_getAlternativeCommand($){return $.getOption(52).alternativeTypeDefinitionCommand}_getGoToPreference($){return $.getOption(52).multipleTypeDefinitions}}(0,f.registerAction2)((B=class Zi extends ne{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:Zi.ID,title:{value:S.localize(19,null),original:"Go to Type Definition",mnemonicTitle:S.localize(20,null)},precondition:_.ContextKeyExpr.and(c.EditorContextKeys.hasTypeDefinitionProvider,c.EditorContextKeys.isInWalkThroughSnippet.toNegated()),keybinding:{when:c.EditorContextKeys.editorTextFocus,primary:0,weight:100},menu:[{id:f.MenuId.EditorContext,group:"navigation",order:1.4},{id:f.MenuId.MenubarGoMenu,group:"4_symbol_nav",order:3}]})}},B.ID="editor.action.goToTypeDefinition",B)),(0,f.registerAction2)((W=class Qi extends ne{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:Qi.ID,title:{value:S.localize(21,null),original:"Peek Type Definition"},precondition:_.ContextKeyExpr.and(c.EditorContextKeys.hasTypeDefinitionProvider,p.PeekContext.notInPeekEditor,c.EditorContextKeys.isInWalkThroughSnippet.toNegated()),menu:{id:f.MenuId.EditorContextPeek,group:"peek",order:4}})}},W.ID="editor.action.peekTypeDefinition",W));class Z extends ie{_getLocationModel($,oe,U,ae){return Se(this,void 0,void 0,function*(){return new s.ReferencesModel(yield(0,I.getImplementationsAtPosition)($.implementationProvider,oe,U,ae),S.localize(22,null))})}_getNoResultFoundMessage($){return $&&$.word?S.localize(23,null,$.word):S.localize(24,null)}_getAlternativeCommand($){return $.getOption(52).alternativeImplementationCommand}_getGoToPreference($){return $.getOption(52).multipleImplementations}}(0,f.registerAction2)((x=class Xi extends Z{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:Xi.ID,title:{value:S.localize(25,null),original:"Go to Implementations",mnemonicTitle:S.localize(26,null)},precondition:_.ContextKeyExpr.and(c.EditorContextKeys.hasImplementationProvider,c.EditorContextKeys.isInWalkThroughSnippet.toNegated()),keybinding:{when:c.EditorContextKeys.editorTextFocus,primary:2118,weight:100},menu:[{id:f.MenuId.EditorContext,group:"navigation",order:1.45},{id:f.MenuId.MenubarGoMenu,group:"4_symbol_nav",order:4}]})}},x.ID="editor.action.goToImplementation",x)),(0,f.registerAction2)((P=class Ji extends Z{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:Ji.ID,title:{value:S.localize(27,null),original:"Peek Implementations"},precondition:_.ContextKeyExpr.and(c.EditorContextKeys.hasImplementationProvider,p.PeekContext.notInPeekEditor,c.EditorContextKeys.isInWalkThroughSnippet.toNegated()),keybinding:{when:c.EditorContextKeys.editorTextFocus,primary:3142,weight:100},menu:{id:f.MenuId.EditorContextPeek,group:"peek",order:5}})}},P.ID="editor.action.peekImplementation",P));class ee extends ie{_getNoResultFoundMessage($){return $?S.localize(28,null,$.word):S.localize(29,null)}_getAlternativeCommand($){return $.getOption(52).alternativeReferenceCommand}_getGoToPreference($){return $.getOption(52).multipleReferences}}(0,f.registerAction2)(class extends ee{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:"editor.action.goToReferences",title:{value:S.localize(30,null),original:"Go to References",mnemonicTitle:S.localize(31,null)},precondition:_.ContextKeyExpr.and(c.EditorContextKeys.hasReferenceProvider,p.PeekContext.notInPeekEditor,c.EditorContextKeys.isInWalkThroughSnippet.toNegated()),keybinding:{when:c.EditorContextKeys.editorTextFocus,primary:1094,weight:100},menu:[{id:f.MenuId.EditorContext,group:"navigation",order:1.45},{id:f.MenuId.MenubarGoMenu,group:"4_symbol_nav",order:5}]})}_getLocationModel($,oe,U,ae){return Se(this,void 0,void 0,function*(){return new s.ReferencesModel(yield(0,I.getReferencesAtPosition)($.referenceProvider,oe,U,!0,ae),S.localize(32,null))})}}),(0,f.registerAction2)(class extends ee{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.referenceSearch.trigger",title:{value:S.localize(33,null),original:"Peek References"},precondition:_.ContextKeyExpr.and(c.EditorContextKeys.hasReferenceProvider,p.PeekContext.notInPeekEditor,c.EditorContextKeys.isInWalkThroughSnippet.toNegated()),menu:{id:f.MenuId.EditorContextPeek,group:"peek",order:6}})}_getLocationModel($,oe,U,ae){return Se(this,void 0,void 0,function*(){return new s.ReferencesModel(yield(0,I.getReferencesAtPosition)($.referenceProvider,oe,U,!1,ae),S.localize(34,null))})}});class le extends ie{constructor($,oe,U){super($,{id:"editor.action.goToLocation",title:{value:S.localize(35,null),original:"Go to Any Symbol"},precondition:_.ContextKeyExpr.and(p.PeekContext.notInPeekEditor,c.EditorContextKeys.isInWalkThroughSnippet.toNegated())}),this._references=oe,this._gotoMultipleBehaviour=U}_getLocationModel($,oe,U,ae){return Se(this,void 0,void 0,function*(){return new s.ReferencesModel(this._references,S.localize(36,null))})}_getNoResultFoundMessage($){return $&&S.localize(37,null,$.word)||""}_getGoToPreference($){var oe;return(oe=this._gotoMultipleBehaviour)!==null&&oe!==void 0?oe:$.getOption(52).multipleReferences}_getAlternativeCommand(){return""}}v.CommandsRegistry.registerCommand({id:"editor.action.goToLocations",description:{description:"Go to locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:C.URI},{name:"position",description:"The position at which to start",constraint:o.Position.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"},{name:"noResultsMessage",description:"Human readable message that shows when locations is empty."}]},handler:(V,$,oe,U,ae,z,J)=>Se(void 0,void 0,void 0,function*(){(0,b.assertType)(C.URI.isUri($)),(0,b.assertType)(o.Position.isIPosition(oe)),(0,b.assertType)(Array.isArray(U)),(0,b.assertType)(typeof ae>"u"||typeof ae=="string"),(0,b.assertType)(typeof J>"u"||typeof J=="boolean");const Y=V.get(i.ICodeEditorService),H=yield Y.openCodeEditor({resource:$},Y.getFocusedCodeEditor());if((0,g.isCodeEditor)(H))return H.setPosition(oe),H.revealPositionInCenterIfOutsideViewport(oe,0),H.invokeWithinContext(j=>{const de=new class extends le{_getNoResultFoundMessage(ue){return z||super._getNoResultFoundMessage(ue)}}({muteMessage:!Boolean(z),openInPeek:Boolean(J),openToSide:!1},U,ae);j.get(y.IInstantiationService).invokeFunction(de.run.bind(de),H)})})}),v.CommandsRegistry.registerCommand({id:"editor.action.peekLocations",description:{description:"Peek locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:C.URI},{name:"position",description:"The position at which to start",constraint:o.Position.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"}]},handler:(V,$,oe,U,ae)=>Se(void 0,void 0,void 0,function*(){V.get(v.ICommandService).executeCommand("editor.action.goToLocations",$,oe,U,ae,void 0,!0)})}),v.CommandsRegistry.registerCommand({id:"editor.action.findReferences",handler:(V,$,oe)=>{(0,b.assertType)(C.URI.isUri($)),(0,b.assertType)(o.Position.isIPosition(oe));const U=V.get(R.ILanguageFeaturesService),ae=V.get(i.ICodeEditorService);return ae.openCodeEditor({resource:$},ae.getFocusedCodeEditor()).then(z=>{if(!(0,g.isCodeEditor)(z)||!z.hasModel())return;const J=r.ReferencesController.get(z);if(!J)return;const Y=(0,k.createCancelablePromise)(j=>(0,I.getReferencesAtPosition)(U.referenceProvider,z.getModel(),o.Position.lift(oe),!1,j).then(de=>new s.ReferencesModel(de,S.localize(38,null)))),H=new l.Range(oe.lineNumber,oe.column,oe.lineNumber,oe.column);return Promise.resolve(J.toggleWidget(H,Y,!1))})}}),v.CommandsRegistry.registerCommandAlias("editor.action.showReferences","editor.action.peekLocations")}),define(se[322],re([1,0,10,14,68,2,19,97,13,3,39,61,166,122,584,15,23,16,225,223,20,390]),function(q,e,w,m,k,D,L,b,C,h,g,t,i,n,o,l,c,d,r,s,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoDefinitionAtPositionEditorContribution=void 0;let u=class Yt{constructor(S,f,v,_){this.textModelResolverService=f,this.languageService=v,this.languageFeaturesService=_,this.toUnhook=new D.DisposableStore,this.toUnhookForKeyboard=new D.DisposableStore,this.currentWordAtPosition=null,this.previousPromise=null,this.editor=S,this.linkDecorations=this.editor.createDecorationsCollection();const y=new i.ClickLinkGesture(S);this.toUnhook.add(y),this.toUnhook.add(y.onMouseMoveOrRelevantKeyDown(([E,T])=>{this.startFindDefinitionFromMouse(E,(0,L.withNullAsUndefined)(T))})),this.toUnhook.add(y.onExecute(E=>{this.isEnabled(E)&&this.gotoDefinition(E.target.position,E.hasSideBySideModifier).then(()=>{this.removeLinkDecorations()},T=>{this.removeLinkDecorations(),(0,m.onUnexpectedError)(T)})})),this.toUnhook.add(y.onCancel(()=>{this.removeLinkDecorations(),this.currentWordAtPosition=null}))}static get(S){return S.getContribution(Yt.ID)}startFindDefinitionFromCursor(S){return this.startFindDefinition(S).then(()=>{this.toUnhookForKeyboard.add(this.editor.onDidChangeCursorPosition(()=>{this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear()})),this.toUnhookForKeyboard.add(this.editor.onKeyDown(f=>{f&&(this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear())}))})}startFindDefinitionFromMouse(S,f){if(S.target.type===9&&this.linkDecorations.length>0)return;if(!this.editor.hasModel()||!this.isEnabled(S,f)){this.currentWordAtPosition=null,this.removeLinkDecorations();return}const v=S.target.position;this.startFindDefinition(v)}startFindDefinition(S){var f;this.toUnhookForKeyboard.clear();const v=S?(f=this.editor.getModel())===null||f===void 0?void 0:f.getWordAtPosition(S):null;if(!v)return this.currentWordAtPosition=null,this.removeLinkDecorations(),Promise.resolve(0);if(this.currentWordAtPosition&&this.currentWordAtPosition.startColumn===v.startColumn&&this.currentWordAtPosition.endColumn===v.endColumn&&this.currentWordAtPosition.word===v.word)return Promise.resolve(0);this.currentWordAtPosition=v;const _=new b.EditorState(this.editor,15);return this.previousPromise&&(this.previousPromise.cancel(),this.previousPromise=null),this.previousPromise=(0,w.createCancelablePromise)(y=>this.findDefinition(S,y)),this.previousPromise.then(y=>{if(!y||!y.length||!_.validate(this.editor)){this.removeLinkDecorations();return}if(y.length>1)this.addDecoration(new h.Range(S.lineNumber,v.startColumn,S.lineNumber,v.endColumn),new k.MarkdownString().appendText(o.localize(0,null,y.length)));else{const E=y[0];if(!E.uri)return;this.textModelResolverService.createModelReference(E.uri).then(T=>{if(!T.object||!T.object.textEditorModel){T.dispose();return}const{object:{textEditorModel:I}}=T,{startLineNumber:R}=E.range;if(R<1||R>I.getLineCount()){T.dispose();return}const F=this.getPreviewValue(I,R,E);let O;E.originSelectionRange?O=h.Range.lift(E.originSelectionRange):O=new h.Range(S.lineNumber,v.startColumn,S.lineNumber,v.endColumn);const M=this.languageService.guessLanguageIdByFilepathOrFirstLine(I.uri);this.addDecoration(O,new k.MarkdownString().appendCodeblock(M||"",F)),T.dispose()})}}).then(void 0,m.onUnexpectedError)}getPreviewValue(S,f,v){let _=v.range;return _.endLineNumber-_.startLineNumber>=Yt.MAX_SOURCE_PREVIEW_LINES&&(_=this.getPreviewRangeBasedOnIndentation(S,f)),this.stripIndentationFromPreviewRange(S,f,_)}stripIndentationFromPreviewRange(S,f,v){let y=S.getLineFirstNonWhitespaceColumn(f);for(let T=f+1;T<v.endLineNumber;T++){const I=S.getLineFirstNonWhitespaceColumn(T);y=Math.min(y,I)}return S.getValueInRange(v).replace(new RegExp(`^\\s{${y-1}}`,"gm"),"").trim()}getPreviewRangeBasedOnIndentation(S,f){const v=S.getLineFirstNonWhitespaceColumn(f),_=Math.min(S.getLineCount(),f+Yt.MAX_SOURCE_PREVIEW_LINES);let y=f+1;for(;y<_;y++){const E=S.getLineFirstNonWhitespaceColumn(y);if(v===E)break}return new h.Range(f,1,y+1,1)}addDecoration(S,f){const v={range:S,options:{description:"goto-definition-link",inlineClassName:"goto-definition-link",hoverMessage:f}};this.linkDecorations.set([v])}removeLinkDecorations(){this.linkDecorations.clear()}isEnabled(S,f){return this.editor.hasModel()&&S.isLeftClick&&S.isNoneOrSingleMouseDown&&S.target.type===6&&(S.hasTriggerModifier||(f?f.keyCodeIsTriggerKey:!1))&&this.languageFeaturesService.definitionProvider.has(this.editor.getModel())}findDefinition(S,f){const v=this.editor.getModel();return v?(0,s.getDefinitionsAtPosition)(this.languageFeaturesService.definitionProvider,v,S,f):Promise.resolve(null)}gotoDefinition(S,f){return this.editor.setPosition(S),this.editor.invokeWithinContext(v=>{const _=!f&&this.editor.getOption(79)&&!this.isInPeekEditor(v);return new r.DefinitionAction({openToSide:f,openInPeek:_,muteMessage:!0},{title:{value:"",original:""},id:"",precondition:void 0}).run(v,this.editor)})}isInPeekEditor(S){const f=S.get(l.IContextKeyService);return n.PeekContext.inPeekEditor.getValue(f)}dispose(){this.toUnhook.dispose()}};u.ID="editor.contrib.gotodefinitionatposition",u.MAX_SOURCE_PREVIEW_LINES=8,u=De([fe(1,t.ITextModelService),fe(2,g.ILanguageService),fe(3,a.ILanguageFeaturesService)],u),e.GotoDefinitionAtPositionEditorContribution=u,(0,C.registerEditorContribution)(u.ID,u),(0,d.registerThemingParticipant)((p,S)=>{const f=p.getColor(c.editorActiveLinkForeground);f&&S.addRule(`.monaco-editor .goto-definition-link { color: ${f} !important; }`)})}),define(se[788],re([1,0,7,18,10,14,2,44,3,214,145,311,115,320,592,87,46,67,23,16,20]),function(q,e,w,m,k,D,L,b,C,h,g,t,i,n,o,l,c,d,r,s,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerHoverParticipant=e.MarkerHover=void 0;const u=w.$;class p{constructor(_,y,E){this.owner=_,this.range=y,this.marker=E}isValidForHoverAnchor(_){return _.type===1&&this.range.startColumn<=_.range.startColumn&&this.range.endColumn>=_.range.endColumn}}e.MarkerHover=p;const S={type:1,filter:{include:i.CodeActionKind.QuickFix},triggerAction:i.CodeActionTriggerSource.QuickFixHover};let f=class{constructor(_,y,E,T){this._editor=_,this._markerDecorationsService=y,this._openerService=E,this._languageFeaturesService=T,this.hoverOrdinal=5,this.recentMarkerCodeActionsInfo=void 0}computeSync(_,y){if(!this._editor.hasModel()||_.type!==1)return[];const E=this._editor.getModel(),T=_.range.startLineNumber,I=E.getLineMaxColumn(T),R=[];for(const F of y){const O=F.range.startLineNumber===T?F.range.startColumn:1,M=F.range.endLineNumber===T?F.range.endColumn:I,N=this._markerDecorationsService.getMarker(E.uri,F);if(!N)continue;const A=new C.Range(_.range.startLineNumber,O,_.range.startLineNumber,M);R.push(new p(this,A,N))}return R}renderHoverParts(_,y){if(!y.length)return L.Disposable.None;const E=new L.DisposableStore;y.forEach(I=>_.fragment.appendChild(this.renderMarkerHover(I,E)));const T=y.length===1?y[0]:y.sort((I,R)=>l.MarkerSeverity.compare(I.marker.severity,R.marker.severity))[0];return this.renderMarkerStatusbar(_,T,E),E}renderMarkerHover(_,y){const E=u("div.hover-row"),T=w.append(E,u("div.marker.hover-contents")),{source:I,message:R,code:F,relatedInformation:O}=_.marker;this._editor.applyFontInfo(T);const M=w.append(T,u("span"));if(M.style.whiteSpace="pre-wrap",M.innerText=R,I||F)if(F&&typeof F!="string"){const N=u("span");if(I){const x=w.append(N,u("span"));x.innerText=I}const A=w.append(N,u("a.code-link"));A.setAttribute("href",F.target.toString()),y.add(w.addDisposableListener(A,"click",x=>{this._openerService.open(F.target,{allowCommands:!0}),x.preventDefault(),x.stopPropagation()}));const B=w.append(A,u("span"));B.innerText=F.value;const W=w.append(T,N);W.style.opacity="0.6",W.style.paddingLeft="6px"}else{const N=w.append(T,u("span"));N.style.opacity="0.6",N.style.paddingLeft="6px",N.innerText=I&&F?`${I}(${F})`:I||`(${F})`}if((0,m.isNonEmptyArray)(O))for(const{message:N,resource:A,startLineNumber:B,startColumn:W}of O){const x=w.append(T,u("div"));x.style.marginTop="8px";const P=w.append(x,u("a"));P.innerText=`${(0,b.basename)(A)}(${B}, ${W}): `,P.style.cursor="pointer",y.add(w.addDisposableListener(P,"click",ie=>{ie.stopPropagation(),ie.preventDefault(),this._openerService&&this._openerService.open(A,{fromUserGesture:!0,editorOptions:{selection:{startLineNumber:B,startColumn:W}}}).catch(D.onUnexpectedError)}));const X=w.append(x,u("span"));X.innerText=N,this._editor.applyFontInfo(X)}return E}renderMarkerStatusbar(_,y,E){if((y.marker.severity===l.MarkerSeverity.Error||y.marker.severity===l.MarkerSeverity.Warning||y.marker.severity===l.MarkerSeverity.Info)&&_.statusBar.addAction({label:o.localize(0,null),commandId:n.NextMarkerAction.ID,run:()=>{var T;_.hide(),(T=n.MarkerController.get(this._editor))===null||T===void 0||T.showAtMarker(y.marker),this._editor.focus()}}),!this._editor.getOption(82)){const T=_.statusBar.append(u("div"));this.recentMarkerCodeActionsInfo&&(l.IMarkerData.makeKey(this.recentMarkerCodeActionsInfo.marker)===l.IMarkerData.makeKey(y.marker)?this.recentMarkerCodeActionsInfo.hasCodeActions||(T.textContent=o.localize(1,null)):this.recentMarkerCodeActionsInfo=void 0);const I=this.recentMarkerCodeActionsInfo&&!this.recentMarkerCodeActionsInfo.hasCodeActions?L.Disposable.None:E.add((0,k.disposableTimeout)(()=>T.textContent=o.localize(2,null),200));T.textContent||(T.textContent=String.fromCharCode(160));const R=this.getCodeActions(y.marker);E.add((0,L.toDisposable)(()=>R.cancel())),R.then(F=>{if(I.dispose(),this.recentMarkerCodeActionsInfo={marker:y.marker,hasCodeActions:F.validActions.length>0},!this.recentMarkerCodeActionsInfo.hasCodeActions){F.dispose(),T.textContent=o.localize(3,null);return}T.style.display="none";let O=!1;E.add((0,L.toDisposable)(()=>{O||F.dispose()})),_.statusBar.addAction({label:o.localize(4,null),commandId:t.QuickFixAction.Id,run:M=>{O=!0;const N=t.CodeActionController.get(this._editor),A=w.getDomNodePagePosition(M);_.hide(),N?.showCodeActions(S,F,{x:A.left+6,y:A.top+A.height+6,width:A.width,height:A.height})}})},D.onUnexpectedError)}}getCodeActions(_){return(0,k.createCancelablePromise)(y=>(0,g.getCodeActions)(this._languageFeaturesService.codeActionProvider,this._editor.getModel(),new C.Range(_.startLineNumber,_.startColumn,_.endLineNumber,_.endColumn),S,d.Progress.None,y))}};f=De([fe(1,h.IMarkerDecorationsService),fe(2,c.IOpenerService),fe(3,a.ILanguageFeaturesService)],f),e.MarkerHoverParticipant=f,(0,s.registerThemingParticipant)((v,_)=>{const y=v.getColor(r.textLinkForeground);y&&_.addRule(`.monaco-hover .hover-contents a.code-link span { color: ${y}; }`);const E=v.getColor(r.textLinkActiveForeground);E&&_.addRule(`.monaco-hover .hover-contents a.code-link span:hover { color: ${E}; }`)})}),define(se[323],re([1,0,57,2,13,3,25,39,322,776,679,590,15,9,46,23,16,92,224,788]),function(q,e,w,m,k,D,L,b,C,h,g,t,i,n,o,l,c,d,r,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModesHoverController=void 0;let a=class en{static get(f){return f.getContribution(en.ID)}constructor(f,v,_,y,E){this._editor=f,this._instantiationService=v,this._openerService=_,this._languageService=y,this._toUnhook=new m.DisposableStore,this._isMouseDown=!1,this._hoverClicked=!1,this._contentWidget=null,this._glyphWidget=null,this._hookEvents(),this._didChangeConfigurationHandler=this._editor.onDidChangeConfiguration(T=>{T.hasChanged(54)&&(this._unhookEvents(),this._hookEvents())})}_hookEvents(){const f=()=>this._hideWidgets(),v=this._editor.getOption(54);this._isHoverEnabled=v.enabled,this._isHoverSticky=v.sticky,this._isHoverEnabled?(this._toUnhook.add(this._editor.onMouseDown(_=>this._onEditorMouseDown(_))),this._toUnhook.add(this._editor.onMouseUp(_=>this._onEditorMouseUp(_))),this._toUnhook.add(this._editor.onMouseMove(_=>this._onEditorMouseMove(_))),this._toUnhook.add(this._editor.onKeyDown(_=>this._onKeyDown(_)))):(this._toUnhook.add(this._editor.onMouseMove(_=>this._onEditorMouseMove(_))),this._toUnhook.add(this._editor.onKeyDown(_=>this._onKeyDown(_)))),this._toUnhook.add(this._editor.onMouseLeave(_=>this._onEditorMouseLeave(_))),this._toUnhook.add(this._editor.onDidChangeModel(f)),this._toUnhook.add(this._editor.onDidScrollChange(_=>this._onEditorScrollChanged(_)))}_unhookEvents(){this._toUnhook.clear()}_onEditorScrollChanged(f){(f.scrollTopChanged||f.scrollLeftChanged)&&this._hideWidgets()}_onEditorMouseDown(f){this._isMouseDown=!0;const v=f.target;if(v.type===9&&v.detail===h.ContentHoverWidget.ID){this._hoverClicked=!0;return}v.type===12&&v.detail===g.MarginHoverWidget.ID||(v.type!==12&&(this._hoverClicked=!1),this._hideWidgets())}_onEditorMouseUp(f){this._isMouseDown=!1}_onEditorMouseLeave(f){var v;const _=f.event.browserEvent.relatedTarget;!((v=this._contentWidget)===null||v===void 0)&&v.containsNode(_)||this._hideWidgets()}_onEditorMouseMove(f){var v,_,y,E,T;const I=f.target;if(this._isMouseDown&&this._hoverClicked||this._isHoverSticky&&I.type===9&&I.detail===h.ContentHoverWidget.ID||this._isHoverSticky&&!(!((_=(v=f.event.browserEvent.view)===null||v===void 0?void 0:v.getSelection())===null||_===void 0)&&_.isCollapsed)||!this._isHoverSticky&&I.type===9&&I.detail===h.ContentHoverWidget.ID&&((y=this._contentWidget)===null||y===void 0?void 0:y.isColorPickerVisible())||this._isHoverSticky&&I.type===12&&I.detail===g.MarginHoverWidget.ID)return;if(!this._isHoverEnabled){this._hideWidgets();return}if(this._getOrCreateContentWidget().maybeShowAt(f)){(E=this._glyphWidget)===null||E===void 0||E.hide();return}if(I.type===2&&I.position){(T=this._contentWidget)===null||T===void 0||T.hide(),this._glyphWidget||(this._glyphWidget=new g.MarginHoverWidget(this._editor,this._languageService,this._openerService)),this._glyphWidget.startShowingAt(I.position.lineNumber);return}this._hideWidgets()}_onKeyDown(f){f.keyCode!==5&&f.keyCode!==6&&f.keyCode!==57&&f.keyCode!==4&&this._hideWidgets()}_hideWidgets(){var f,v,_;this._isMouseDown&&this._hoverClicked&&((f=this._contentWidget)===null||f===void 0?void 0:f.isColorPickerVisible())||(this._hoverClicked=!1,(v=this._glyphWidget)===null||v===void 0||v.hide(),(_=this._contentWidget)===null||_===void 0||_.hide())}_getOrCreateContentWidget(){return this._contentWidget||(this._contentWidget=this._instantiationService.createInstance(h.ContentHoverController,this._editor)),this._contentWidget}isColorPickerVisible(){var f;return((f=this._contentWidget)===null||f===void 0?void 0:f.isColorPickerVisible())||!1}showContentHover(f,v,_){this._getOrCreateContentWidget().startShowingAtRange(f,v,_)}dispose(){var f,v;this._unhookEvents(),this._toUnhook.dispose(),this._didChangeConfigurationHandler.dispose(),(f=this._glyphWidget)===null||f===void 0||f.dispose(),(v=this._contentWidget)===null||v===void 0||v.dispose()}};a.ID="editor.contrib.hover",a=De([fe(1,n.IInstantiationService),fe(2,o.IOpenerService),fe(3,b.ILanguageService),fe(4,i.IContextKeyService)],a),e.ModesHoverController=a;class u extends k.EditorAction{constructor(){super({id:"editor.action.showHover",label:t.localize(0,null),alias:"Show Hover",precondition:void 0,kbOpts:{kbExpr:L.EditorContextKeys.editorTextFocus,primary:(0,w.KeyChord)(2089,2087),weight:100}})}run(f,v){if(!v.hasModel())return;const _=a.get(v);if(!_)return;const y=v.getPosition(),E=new D.Range(y.lineNumber,y.column,y.lineNumber,y.column),T=v.getOption(2)===2;_.showContentHover(E,1,T)}}class p extends k.EditorAction{constructor(){super({id:"editor.action.showDefinitionPreviewHover",label:t.localize(1,null),alias:"Show Definition Preview Hover",precondition:void 0})}run(f,v){const _=a.get(v);if(!_)return;const y=v.getPosition();if(!y)return;const E=new D.Range(y.lineNumber,y.column,y.lineNumber,y.column),T=C.GotoDefinitionAtPositionEditorContribution.get(v);if(!T)return;T.startFindDefinitionFromCursor(y).then(()=>{_.showContentHover(E,1,!0)})}}(0,k.registerEditorContribution)(a.ID,a),(0,k.registerEditorAction)(u),(0,k.registerEditorAction)(p),d.HoverParticipantRegistry.register(r.MarkdownHoverParticipant),d.HoverParticipantRegistry.register(s.MarkerHoverParticipant),(0,c.registerThemingParticipant)((S,f)=>{const v=S.getColor(l.editorHoverHighlight);v&&f.addRule(`.monaco-editor .hoverHighlight { background-color: ${v}; }`);const _=S.getColor(l.editorHoverBackground);_&&f.addRule(`.monaco-editor .monaco-hover { background-color: ${_}; }`);const y=S.getColor(l.editorHoverBorder);y&&(f.addRule(`.monaco-editor .monaco-hover { border: 1px solid ${y}; }`),f.addRule(`.monaco-editor .monaco-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ${y.transparent(.5)}; }`),f.addRule(`.monaco-editor .monaco-hover hr { border-top: 1px solid ${y.transparent(.5)}; }`),f.addRule(`.monaco-editor .monaco-hover hr { border-bottom: 0px solid ${y.transparent(.5)}; }`));const E=S.getColor(l.textLinkForeground);E&&f.addRule(`.monaco-editor .monaco-hover a { color: ${E}; }`);const T=S.getColor(l.textLinkActiveForeground);T&&f.addRule(`.monaco-editor .monaco-hover a:hover { color: ${T}; }`);const I=S.getColor(l.editorHoverForeground);I&&f.addRule(`.monaco-editor .monaco-hover { color: ${I}; }`);const R=S.getColor(l.editorHoverStatusBarBackground);R&&f.addRule(`.monaco-editor .monaco-hover .hover-row .actions { background-color: ${R}; }`);const F=S.getColor(l.textCodeBlockBackground);F&&f.addRule(`.monaco-editor .monaco-hover code { background-color: ${F}; }`)})}),define(se[789],re([1,0,2,13,3,317,769,323,92]),function(q,e,w,m,k,D,L,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorContribution=void 0;class h extends w.Disposable{constructor(t){super(),this._editor=t,this._register(t.onMouseDown(i=>this.onMouseDown(i)))}dispose(){super.dispose()}onMouseDown(t){const i=t.target;if(i.type!==6||!i.detail.injectedText||i.detail.injectedText.options.attachedData!==D.ColorDecorationInjectedTextMarker||!i.range)return;const n=this._editor.getContribution(b.ModesHoverController.ID);if(!!n&&!n.isColorPickerVisible()){const o=new k.Range(i.range.startLineNumber,i.range.startColumn+1,i.range.endLineNumber,i.range.endColumn+1);n.showContentHover(o,1,!1)}}}e.ColorContribution=h,h.ID="editor.contrib.colorContribution",(0,m.registerEditorContribution)(h.ID,h),C.HoverParticipantRegistry.register(L.ColorHoverParticipant)}),define(se[324],re([1,0,7,43,21,3,61,225,122,32,26,15,71,9,40]),function(q,e,w,m,k,D,L,b,C,h,g,t,i,n,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.goToDefinitionWithLocation=e.showGoToContextMenu=void 0;function l(d,r,s,a){var u;return Se(this,void 0,void 0,function*(){const p=d.get(L.ITextModelService),S=d.get(i.IContextMenuService),f=d.get(g.ICommandService),v=d.get(n.IInstantiationService),_=d.get(o.INotificationService);if(yield a.item.resolve(k.CancellationToken.None),!a.part.location)return;const y=a.part.location,E=[],T=new Set(h.MenuRegistry.getMenuItems(h.MenuId.EditorContext).map(R=>(0,h.isIMenuItem)(R)?R.command.id:""));for(const R of b.SymbolNavigationAction.all())T.has(R.desc.id)&&E.push(new m.Action(R.desc.id,h.MenuItemAction.label(R.desc,{renderShortTitle:!0}),void 0,!0,()=>Se(this,void 0,void 0,function*(){const F=yield p.createModelReference(y.uri);try{yield v.invokeFunction(R.run.bind(R),r,new b.SymbolNavigationAnchor(F.object.textEditorModel,D.Range.getStartPosition(y.range)))}finally{F.dispose()}})));if(a.part.command){const{command:R}=a.part;E.push(new m.Separator),E.push(new m.Action(R.id,R.title,void 0,!0,()=>Se(this,void 0,void 0,function*(){var F;try{yield f.executeCommand(R.id,...(F=R.arguments)!==null&&F!==void 0?F:[])}catch(O){_.notify({severity:o.Severity.Error,source:a.item.provider.displayName,message:O})}})))}const I=r.getOption(117);S.showContextMenu({domForShadowRoot:I&&(u=r.getDomNode())!==null&&u!==void 0?u:void 0,getAnchor:()=>{const R=w.getDomNodePagePosition(s);return{x:R.left,y:R.top+R.height+8}},getActions:()=>E,onHide:()=>{r.focus()},autoSelectFirstItem:!0})})}e.showGoToContextMenu=l;function c(d,r,s,a){return Se(this,void 0,void 0,function*(){const p=yield d.get(L.ITextModelService).createModelReference(a.uri);yield s.invokeWithinContext(S=>Se(this,void 0,void 0,function*(){const f=r.hasSideBySideModifier,v=S.get(t.IContextKeyService),_=C.PeekContext.inPeekEditor.getValue(v),y=!f&&s.getOption(79)&&!_;return new b.DefinitionAction({openToSide:f,openInPeek:y,muteMessage:!0},{title:{value:"",original:""},id:"",precondition:void 0}).run(S,s,{model:p.object.textEditorModel,position:D.Range.getStartPosition(a.range)},D.Range.lift(a.range))})),p.dispose()})}e.goToDefinitionWithLocation=c}),define(se[325],re([1,0,7,18,10,21,14,2,59,19,22,144,38,63,3,28,47,37,73,20,61,166,283,324,26,52,9,40,23,16]),function(q,e,w,m,k,D,L,b,C,h,g,t,i,n,o,l,c,d,r,s,a,u,p,S,f,v,_,y,E,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlayHintsController=e.RenderedInlayHintLabelPart=void 0;class I{constructor(){this._entries=new C.LRUCache(50)}get(B){const W=I._key(B);return this._entries.get(W)}set(B,W){const x=I._key(B);this._entries.set(x,W)}static _key(B){return`${B.uri.toString()}/${B.getVersionId()}`}}const R=(0,_.createDecorator)("IInlayHintsCache");(0,v.registerSingleton)(R,I,1);class F{constructor(B,W){this.item=B,this.index=W}get part(){const B=this.item.hint.label;return typeof B=="string"?{label:B}:B[this.index]}}e.RenderedInlayHintLabelPart=F;class O{constructor(B,W){this.part=B,this.hasTriggerModifier=W}}let M=class pi{static get(B){var W;return(W=B.getContribution(pi.ID))!==null&&W!==void 0?W:void 0}constructor(B,W,x,P,X,ie,K){this._editor=B,this._languageFeaturesService=W,this._inlayHintsCache=P,this._commandService=X,this._notificationService=ie,this._instaService=K,this._disposables=new b.DisposableStore,this._sessionDisposables=new b.DisposableStore,this._decorationsMetadata=new Map,this._ruleFactory=new t.DynamicCssRules(this._editor),this._activeRenderMode=0,this._debounceInfo=x.for(W.inlayHintsProvider,"InlayHint",{min:25}),this._disposables.add(W.inlayHintsProvider.onDidChange(()=>this._update())),this._disposables.add(B.onDidChangeModel(()=>this._update())),this._disposables.add(B.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(B.onDidChangeConfiguration(G=>{G.hasChanged(129)&&this._update()})),this._update()}dispose(){this._sessionDisposables.dispose(),this._removeAllDecorations(),this._disposables.dispose()}_update(){this._sessionDisposables.clear(),this._removeAllDecorations();const B=this._editor.getOption(129);if(B.enabled==="off")return;const W=this._editor.getModel();if(!W||!this._languageFeaturesService.inlayHintsProvider.has(W))return;const x=this._inlayHintsCache.get(W);x&&this._updateHintsDecorators([W.getFullModelRange()],x),this._sessionDisposables.add((0,b.toDisposable)(()=>{W.isDisposed()||this._cacheHintsForFastRestore(W)}));let P;const X=new Set,ie=new k.RunOnceScheduler(()=>Se(this,void 0,void 0,function*(){const K=Date.now();P?.dispose(!0),P=new D.CancellationTokenSource;const G=W.onWillDispose(()=>P?.cancel());try{const Q=P.token,ne=yield p.InlayHintsFragments.create(this._languageFeaturesService.inlayHintsProvider,W,this._getHintsRanges(),Q);if(ie.delay=this._debounceInfo.update(W,Date.now()-K),Q.isCancellationRequested){ne.dispose();return}for(const Z of ne.provider)typeof Z.onDidChangeInlayHints=="function"&&!X.has(Z)&&(X.add(Z),this._sessionDisposables.add(Z.onDidChangeInlayHints(()=>{ie.isScheduled()||ie.schedule()})));this._sessionDisposables.add(ne),this._updateHintsDecorators(ne.ranges,ne.items),this._cacheHintsForFastRestore(W)}catch(Q){(0,L.onUnexpectedError)(Q)}finally{P.dispose(),G.dispose()}}),this._debounceInfo.get(W));if(this._sessionDisposables.add(ie),this._sessionDisposables.add((0,b.toDisposable)(()=>P?.dispose(!0))),ie.schedule(0),this._sessionDisposables.add(this._editor.onDidScrollChange(K=>{(K.scrollTopChanged||!ie.isScheduled())&&ie.schedule()})),this._sessionDisposables.add(this._editor.onDidChangeModelContent(K=>{const G=Math.max(ie.delay,1250);ie.schedule(G)})),B.enabled==="on")this._activeRenderMode=0;else{let K,G;B.enabled==="onUnlessPressed"?(K=0,G=1):(K=1,G=0),this._activeRenderMode=K,this._sessionDisposables.add(w.ModifierKeyEmitter.getInstance().event(Q=>{if(!this._editor.hasModel())return;const ne=Q.altKey&&Q.ctrlKey?G:K;if(ne!==this._activeRenderMode){this._activeRenderMode=ne;const Z=this._editor.getModel(),ee=this._copyInlayHintsWithCurrentAnchor(Z);this._updateHintsDecorators([Z.getFullModelRange()],ee),ie.schedule(0)}}))}this._sessionDisposables.add(this._installDblClickGesture(()=>ie.schedule(0))),this._sessionDisposables.add(this._installLinkGesture()),this._sessionDisposables.add(this._installContextMenu())}_installLinkGesture(){const B=new b.DisposableStore,W=B.add(new u.ClickLinkGesture(this._editor)),x=new b.DisposableStore;return B.add(x),B.add(W.onMouseMoveOrRelevantKeyDown(P=>{const[X]=P,ie=this._getInlayHintLabelPart(X),K=this._editor.getModel();if(!ie||!K){x.clear();return}const G=new D.CancellationTokenSource;x.add((0,b.toDisposable)(()=>G.dispose(!0))),ie.item.resolve(G.token),this._activeInlayHintPart=ie.part.command||ie.part.location?new O(ie,X.hasTriggerModifier):void 0;const Q=ie.item.hint.position.lineNumber,ne=new o.Range(Q,1,Q,K.getLineMaxColumn(Q)),Z=this._getInlineHintsForRange(ne);this._updateHintsDecorators([ne],Z),x.add((0,b.toDisposable)(()=>{this._activeInlayHintPart=void 0,this._updateHintsDecorators([ne],Z)}))})),B.add(W.onCancel(()=>x.clear())),B.add(W.onExecute(P=>Se(this,void 0,void 0,function*(){const X=this._getInlayHintLabelPart(P);if(X){const ie=X.part;ie.location?this._instaService.invokeFunction(S.goToDefinitionWithLocation,P,this._editor,ie.location):l.Command.is(ie.command)&&(yield this._invokeCommand(ie.command,X.item))}}))),B}_getInlineHintsForRange(B){const W=new Set;for(const x of this._decorationsMetadata.values())B.containsRange(x.item.anchor.range)&&W.add(x.item);return Array.from(W)}_installDblClickGesture(B){return this._editor.onMouseUp(W=>Se(this,void 0,void 0,function*(){if(W.event.detail!==2)return;const x=this._getInlayHintLabelPart(W);if(!!x&&(W.event.preventDefault(),yield x.item.resolve(D.CancellationToken.None),(0,m.isNonEmptyArray)(x.item.hint.textEdits))){const P=x.item.hint.textEdits.map(X=>n.EditOperation.replace(o.Range.lift(X.range),X.text));this._editor.executeEdits("inlayHint.default",P),B()}}))}_installContextMenu(){return this._editor.onContextMenu(B=>Se(this,void 0,void 0,function*(){if(!(B.event.target instanceof HTMLElement))return;const W=this._getInlayHintLabelPart(B);W&&(yield this._instaService.invokeFunction(S.showGoToContextMenu,this._editor,B.event.target,W))}))}_getInlayHintLabelPart(B){var W;if(B.target.type!==6)return;const x=(W=B.target.detail.injectedText)===null||W===void 0?void 0:W.options;if(x instanceof d.ModelDecorationInjectedTextOptions&&x?.attachedData instanceof F)return x.attachedData}_invokeCommand(B,W){var x;return Se(this,void 0,void 0,function*(){try{yield this._commandService.executeCommand(B.id,...(x=B.arguments)!==null&&x!==void 0?x:[])}catch(P){this._notificationService.notify({severity:y.Severity.Error,source:W.provider.displayName,message:P})}})}_cacheHintsForFastRestore(B){const W=this._copyInlayHintsWithCurrentAnchor(B);this._inlayHintsCache.set(B,W)}_copyInlayHintsWithCurrentAnchor(B){const W=new Map;for(const[x,P]of this._decorationsMetadata){if(W.has(P.item))continue;const X=B.getDecorationRange(x);if(X){const ie=new p.InlayHintAnchor(X,P.item.anchor.direction),K=P.item.with({anchor:ie});W.set(P.item,K)}}return Array.from(W.values())}_getHintsRanges(){const W=this._editor.getModel(),x=this._editor.getVisibleRangesPlusViewportAboveBelow(),P=[];for(const X of x.sort(o.Range.compareRangesUsingStarts)){const ie=W.validateRange(new o.Range(X.startLineNumber-30,X.startColumn,X.endLineNumber+30,X.endColumn));P.length===0||!o.Range.areIntersectingOrTouching(P[P.length-1],ie)?P.push(ie):P[P.length-1]=o.Range.plusRange(P[P.length-1],ie)}return P}_updateHintsDecorators(B,W){var x,P;const X=[],ie=(V,$,oe,U,ae)=>{const z={content:oe,inlineClassNameAffectsLetterSpacing:!0,inlineClassName:$.className,cursorStops:U,attachedData:ae};X.push({item:V,classNameRef:$,decoration:{range:V.anchor.range,options:{description:"InlayHint",showIfCollapsed:V.anchor.range.isEmpty(),collapseOnReplaceEdit:!V.anchor.range.isEmpty(),stickiness:0,[V.anchor.direction]:this._activeRenderMode===0?z:void 0}}})},K=(V,$)=>{const oe=this._ruleFactory.createClassNameRef({width:`${G/3|0}px`,display:"inline-block"});ie(V,oe,"\u200A",$?c.InjectedTextCursorStops.Right:c.InjectedTextCursorStops.None)},{fontSize:G,fontFamily:Q,padding:ne,isUniform:Z}=this._getLayoutInfo(),ee="--code-editorInlayHintsFontFamily";this._editor.getContainerDomNode().style.setProperty(ee,Q);for(const V of W){V.hint.paddingLeft&&K(V,!1);const $=typeof V.hint.label=="string"?[{label:V.hint.label}]:V.hint.label;for(let oe=0;oe<$.length;oe++){const U=$[oe],ae=oe===0,z=oe===$.length-1,J={fontSize:`${G}px`,fontFamily:`var(${ee}), ${i.EDITOR_FONT_DEFAULTS.fontFamily}`,verticalAlign:Z?"baseline":"middle"};(0,m.isNonEmptyArray)(V.hint.textEdits)&&(J.cursor="default"),this._fillInColors(J,V.hint),(U.command||U.location)&&((x=this._activeInlayHintPart)===null||x===void 0?void 0:x.part.item)===V&&this._activeInlayHintPart.part.index===oe&&(J.textDecoration="underline",this._activeInlayHintPart.hasTriggerModifier&&(J.color=(0,T.themeColorFromId)(E.editorActiveLinkForeground),J.cursor="pointer")),ne&&(ae&&z?(J.padding=`1px ${Math.max(1,G/4)|0}px`,J.borderRadius=`${G/4|0}px`):ae?(J.padding=`1px 0 1px ${Math.max(1,G/4)|0}px`,J.borderRadius=`${G/4|0}px 0 0 ${G/4|0}px`):z?(J.padding=`1px ${Math.max(1,G/4)|0}px 1px 0`,J.borderRadius=`0 ${G/4|0}px ${G/4|0}px 0`):J.padding="1px 0 1px 0"),ie(V,this._ruleFactory.createClassNameRef(J),N(U.label),z&&!V.hint.paddingRight?c.InjectedTextCursorStops.Right:c.InjectedTextCursorStops.None,new F(V,oe))}if(V.hint.paddingRight&&K(V,!0),X.length>pi._MAX_DECORATORS)break}const le=[];for(const V of B)for(const{id:$}of(P=this._editor.getDecorationsInRange(V))!==null&&P!==void 0?P:[]){const oe=this._decorationsMetadata.get($);oe&&(le.push($),oe.classNameRef.dispose(),this._decorationsMetadata.delete($))}this._editor.changeDecorations(V=>{const $=V.deltaDecorations(le,X.map(oe=>oe.decoration));for(let oe=0;oe<$.length;oe++){const U=X[oe];this._decorationsMetadata.set($[oe],U)}})}_fillInColors(B,W){W.kind===l.InlayHintKind.Parameter?(B.backgroundColor=(0,T.themeColorFromId)(E.editorInlayHintParameterBackground),B.color=(0,T.themeColorFromId)(E.editorInlayHintParameterForeground)):W.kind===l.InlayHintKind.Type?(B.backgroundColor=(0,T.themeColorFromId)(E.editorInlayHintTypeBackground),B.color=(0,T.themeColorFromId)(E.editorInlayHintTypeForeground)):(B.backgroundColor=(0,T.themeColorFromId)(E.editorInlayHintBackground),B.color=(0,T.themeColorFromId)(E.editorInlayHintForeground))}_getLayoutInfo(){const B=this._editor.getOption(129),W=B.padding,x=this._editor.getOption(47),P=this._editor.getOption(44);let X=B.fontSize;(!X||X<5||X>x)&&(X=x);const ie=B.fontFamily||P;return{fontSize:X,fontFamily:ie,padding:W,isUniform:!W&&ie===P&&X===x}}_removeAllDecorations(){this._editor.removeDecorations(Array.from(this._decorationsMetadata.keys()));for(const B of this._decorationsMetadata.values())B.classNameRef.dispose();this._decorationsMetadata.clear()}};M.ID="editor.contrib.InlayHints",M._MAX_DECORATORS=1500,M=De([fe(1,s.ILanguageFeaturesService),fe(2,r.ILanguageFeatureDebounceService),fe(3,R),fe(4,f.ICommandService),fe(5,y.INotificationService),fe(6,_.IInstantiationService)],M),e.InlayHintsController=M;function N(A){const B="\xA0";return A.replace(/[ \t]/g,B)}f.CommandsRegistry.registerCommand("_executeInlayHintProvider",(A,...B)=>Se(void 0,void 0,void 0,function*(){const[W,x]=B;(0,h.assertType)(g.URI.isUri(W)),(0,h.assertType)(o.Range.isIRange(x));const{inlayHintsProvider:P}=A.get(s.ILanguageFeaturesService),X=yield A.get(a.ITextModelService).createModelReference(W);try{const ie=yield p.InlayHintsFragments.create(P,X.object.textEditorModel,[o.Range.lift(x)],D.CancellationToken.None),K=ie.items.map(G=>G.hint);return setTimeout(()=>ie.dispose(),0),K}finally{X.dispose()}}))});var _t=this&&this.__asyncValues||function(q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=q[Symbol.asyncIterator],w;return e?e.call(q):(q=typeof __values=="function"?__values(q):q[Symbol.iterator](),w={},m("next"),m("throw"),m("return"),w[Symbol.asyncIterator]=function(){return this},w);function m(D){w[D]=q[D]&&function(L){return new Promise(function(b,C){L=q[D](L),k(b,C,L.done,L.value)})}}function k(D,L,b,C){Promise.resolve(C).then(function(h){D({value:h,done:b})},L)}};define(se[790],re([1,0,10,68,11,37,92,39,61,310,224,325,30,46,20,595,17,283,18]),function(q,e,w,m,k,D,L,b,C,h,g,t,i,n,o,l,c,d,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlayHintsHover=void 0;class s extends L.HoverForeignElementAnchor{constructor(p,S,f,v){super(10,S,p.item.anchor.range,f,v),this.part=p}}let a=class extends g.MarkdownHoverParticipant{constructor(p,S,f,v,_,y){super(p,S,f,v,y),this._resolverService=_,this.hoverOrdinal=6}suggestHoverAnchor(p){var S;if(!t.InlayHintsController.get(this._editor)||p.target.type!==6)return null;const v=(S=p.target.detail.injectedText)===null||S===void 0?void 0:S.options;return v instanceof D.ModelDecorationInjectedTextOptions&&v.attachedData instanceof t.RenderedInlayHintLabelPart?new s(v.attachedData,this,p.event.posx,p.event.posy):null}computeSync(){return[]}computeAsync(p,S,f){return p instanceof s?new w.AsyncIterableObject(v=>Se(this,void 0,void 0,function*(){var _,y;const{part:E}=p;if(yield E.item.resolve(f),f.isCancellationRequested)return;let T;typeof E.item.hint.tooltip=="string"?T=new m.MarkdownString().appendText(E.item.hint.tooltip):E.item.hint.tooltip&&(T=E.item.hint.tooltip),T&&v.emitOne(new g.MarkdownHover(this,p.range,[T],!1,0)),(0,r.isNonEmptyArray)(E.item.hint.textEdits)&&v.emitOne(new g.MarkdownHover(this,p.range,[new m.MarkdownString().appendText((0,l.localize)(0,null))],!1,10001));let I;if(typeof E.part.tooltip=="string"?I=new m.MarkdownString().appendText(E.part.tooltip):E.part.tooltip&&(I=E.part.tooltip),I&&v.emitOne(new g.MarkdownHover(this,p.range,[I],!1,1)),E.part.location||E.part.command){let M;const A=this._editor.getOption(71)==="altKey"?c.isMacintosh?(0,l.localize)(1,null):(0,l.localize)(2,null):c.isMacintosh?(0,l.localize)(3,null):(0,l.localize)(4,null);E.part.location&&E.part.command?M=new m.MarkdownString().appendText((0,l.localize)(5,null,A)):E.part.location?M=new m.MarkdownString().appendText((0,l.localize)(6,null,A)):E.part.command&&(M=new m.MarkdownString(`[${(0,l.localize)(7,null)}](${(0,d.asCommandLink)(E.part.command)} "${E.part.command.title}") (${A})`,{isTrusted:!0})),M&&v.emitOne(new g.MarkdownHover(this,p.range,[M],!1,1e4))}const R=yield this._resolveInlayHintLabelPartHover(E,f);try{for(var F=_t(R),O;O=yield F.next(),!O.done;){const M=O.value;v.emitOne(M)}}catch(M){_={error:M}}finally{try{O&&!O.done&&(y=F.return)&&(yield y.call(F))}finally{if(_)throw _.error}}})):w.AsyncIterableObject.EMPTY}_resolveInlayHintLabelPartHover(p,S){return Se(this,void 0,void 0,function*(){if(!p.part.location)return w.AsyncIterableObject.EMPTY;const{uri:f,range:v}=p.part.location,_=yield this._resolverService.createModelReference(f);try{const y=_.object.textEditorModel;return this._languageFeaturesService.hoverProvider.has(y)?(0,h.getHover)(this._languageFeaturesService.hoverProvider,y,new k.Position(v.startLineNumber,v.startColumn),S).filter(E=>!(0,m.isEmptyMarkdownString)(E.hover.contents)).map(E=>new g.MarkdownHover(this,p.item.anchor.range,E.hover.contents,!1,2+E.ordinal)):w.AsyncIterableObject.EMPTY}finally{_.dispose()}})}};a=De([fe(1,b.ILanguageService),fe(2,n.IOpenerService),fe(3,i.IConfigurationService),fe(4,C.ITextModelService),fe(5,o.ILanguageFeaturesService)],a),e.InlayHintsHover=a}),define(se[791],re([1,0,13,92,325,790]),function(q,e,w,m,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,w.registerEditorContribution)(k.InlayHintsController.ID,k.InlayHintsController),m.HoverParticipantRegistry.register(D.InlayHintsHover)}),define(se[792],re([1,0,2,7,94,116,134,11,166,223,20,324,9,21,3,65,399]),function(q,e,w,m,k,D,L,b,C,h,g,t,i,n,o,l){"use strict";var c;Object.defineProperty(e,"__esModule",{value:!0}),e.StickyScrollWidget=e.StickyScrollWidgetState=void 0;class d{constructor(u,p){this.lineNumbers=u,this.lastLineRelativePosition=p}}e.StickyScrollWidgetState=d;const r=(c=window.trustedTypes)===null||c===void 0?void 0:c.createPolicy("stickyScrollViewLayer",{createHTML:a=>a});let s=class extends w.Disposable{constructor(u,p,S){super(),this._editor=u,this._languageFeatureService=p,this._instaService=S,this._rootDomNode=document.createElement("div"),this._disposableStore=this._register(new w.DisposableStore),this._layoutInfo=this._editor.getLayoutInfo(),this._rootDomNode=document.createElement("div"),this._rootDomNode.className="sticky-widget",this._rootDomNode.style.width=`${this._layoutInfo.width-this._layoutInfo.minimap.minimapCanvasOuterWidth-this._layoutInfo.verticalScrollbarWidth}px`,this._lineNumbers=[],this._lastLineRelativePosition=0,this._hoverOnLine=-1,this._hoverOnColumn=-1,this._stickyRangeProjectedOnEditor=null,this._candidateDefinitionsLength=-1,this._lineHeight=this._editor.getOption(60),this._register(this._editor.onDidChangeConfiguration(f=>{f.hasChanged(60)&&(this._lineHeight=this._editor.getOption(60))})),this._register(this.updateLinkGesture())}updateLinkGesture(){const u=new w.DisposableStore,p=new w.DisposableStore;u.add(p);const S=new C.ClickLinkGesture(this._editor,!0);return u.add(S),u.add(S.onMouseMoveOrRelevantKeyDown(([f,v])=>{if(!this._editor.hasModel()||!f.hasTriggerModifier){p.clear();return}const _=f.target;if(_.detail===this.getId()&&_.element.innerText===_.element.innerHTML){const y=_.element.innerText;if(this._hoverOnColumn===-1)return;const E=this._hoverOnLine,T=this._hoverOnColumn,I=new o.Range(E,T,E,T+y.length);if(!I.equalsRange(this._stickyRangeProjectedOnEditor))this._stickyRangeProjectedOnEditor=I,p.clear();else if(_.element.style.textDecoration==="underline")return;const R=new n.CancellationTokenSource;p.add((0,w.toDisposable)(()=>R.dispose(!0)));let F;(0,h.getDefinitionsAtPosition)(this._languageFeatureService.definitionProvider,this._editor.getModel(),new b.Position(E,T+1),R.token).then(O=>{if(!R.token.isCancellationRequested)if(O.length!==0){this._candidateDefinitionsLength=O.length;const M=_.element;F!==M?(p.clear(),F=M,F.style.textDecoration="underline",p.add((0,w.toDisposable)(()=>{F.style.textDecoration="none"}))):F||(F=M,F.style.textDecoration="underline",p.add((0,w.toDisposable)(()=>{F.style.textDecoration="none"})))}else p.clear()})}else p.clear()})),u.add(S.onCancel(()=>{p.clear()})),u.add(S.onExecute(f=>Se(this,void 0,void 0,function*(){f.target.detail===this.getId()&&(f.hasTriggerModifier?(this._candidateDefinitionsLength>1&&this._editor.revealPosition({lineNumber:this._hoverOnLine,column:1}),this._instaService.invokeFunction(t.goToDefinitionWithLocation,f,this._editor,{uri:this._editor.getModel().uri,range:this._stickyRangeProjectedOnEditor})):f.isRightClick||this._editor.revealPosition({lineNumber:this._hoverOnLine,column:1}))}))),u}getCurrentLines(){return this._lineNumbers}setState(u){this._disposableStore.clear(),this._lineNumbers.length=0,m.clearNode(this._rootDomNode),this._lastLineRelativePosition=u.lastLineRelativePosition,this._lineNumbers=u.lineNumbers,this.renderRootNode()}getChildNode(u,p){const S=document.createElement("div"),f=this._editor._getViewModel(),v=f.coordinatesConverter.convertModelPositionToViewPosition(new b.Position(p,1)).lineNumber,_=f.getViewLineRenderingData(v),y=this._editor.getLayoutInfo(),E=y.width-y.minimap.minimapCanvasOuterWidth-y.verticalScrollbarWidth,T=this._editor.getOption(66).side,I=this._editor.getOption(60),R=this._editor.getOption(61);let F;try{F=L.LineDecoration.filter(_.inlineDecorations,v,_.minColumn,_.maxColumn)}catch{F=[]}const O=new D.RenderLineInput(!0,!0,_.content,_.continuesWithWrappedLine,_.isBasicASCII,_.containsRTL,0,_.tokens,F,_.tabSize,_.startVisibleColumn,1,1,1,500,"none",!0,!0,null),M=new k.StringBuilder(2e3);(0,D.renderViewLine)(O,M);let N;r?N=r.createHTML(M.build()):N=M.build();const A=document.createElement("span");A.className="sticky-line",A.classList.add(`stickyLine${p}`),A.style.lineHeight=`${I}px`,A.innerHTML=N;const B=document.createElement("span");B.className="sticky-line",B.style.lineHeight=`${I}px`,T==="left"?B.style.width=`${y.contentLeft-y.minimap.minimapCanvasOuterWidth}px`:T==="right"&&(B.style.width=`${y.contentLeft}px`);const W=document.createElement("span");return R.renderType===1||R.renderType===3&&p%10===0?W.innerText=p.toString():R.renderType===2&&(W.innerText=Math.abs(p-this._editor.getPosition().lineNumber).toString()),W.className="sticky-line-number",W.style.lineHeight=`${I}px`,W.style.width=`${y.lineNumbersWidth}px`,T==="left"?W.style.paddingLeft=`${y.lineNumbersLeft-y.minimap.minimapCanvasOuterWidth}px`:T==="right"&&(W.style.paddingLeft=`${y.lineNumbersLeft}px`),B.appendChild(W),this._editor.applyFontInfo(A),this._editor.applyFontInfo(W),S.appendChild(B),S.appendChild(A),S.className="sticky-line-root",S.style.lineHeight=`${I}px`,S.style.width=`${E}px`,S.style.height=`${I}px`,S.style.zIndex="0",u===this._lineNumbers.length-1&&(S.style.position="relative",S.style.zIndex="-1",S.style.top=this._lastLineRelativePosition+"px"),this._disposableStore.add(m.addDisposableListener(S,"mouseover",x=>{if(this._editor.hasModel()){const X=new l.StandardMouseEvent(x).target.innerText;this._hoverOnLine=p,this._hoverOnColumn=this._editor.getModel().getLineContent(p).indexOf(X)+1||-1}})),S}renderRootNode(){if(!this._editor._getViewModel())return;for(const[S,f]of this._lineNumbers.entries())this._rootDomNode.appendChild(this.getChildNode(S,f));const u=this._lineNumbers.length*this._lineHeight+this._lastLineRelativePosition;this._rootDomNode.style.height=u.toString()+"px";const p=this._editor.getOption(66).side;p==="left"?this._rootDomNode.style.marginLeft=this._editor.getLayoutInfo().minimap.minimapCanvasOuterWidth+"px":p==="right"&&(this._rootDomNode.style.marginLeft="1px"),this._rootDomNode.style.zIndex="11"}getId(){return"editor.contrib.stickyScrollWidget"}getDomNode(){return this._rootDomNode}getPosition(){return{preference:null}}dispose(){super.dispose()}};s=De([fe(1,g.ILanguageFeaturesService),fe(2,i.IInstantiationService)],s),e.StickyScrollWidget=s}),define(se[793],re([1,0,2,20,792,781,9,7,71,32]),function(q,e,w,m,k,D,L,b,C,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StickyScrollController=void 0;let g=class extends w.Disposable{constructor(i,n,o,l){super(),this._contextMenuService=l,this._sessionStore=new w.DisposableStore,this._editor=i,this._stickyScrollWidget=new k.StickyScrollWidget(this._editor,n,o),this._stickyLineCandidateProvider=new D.StickyLineCandidateProvider(this._editor,n),this._widgetState=new k.StickyScrollWidgetState([],0),this._register(this._stickyScrollWidget),this._register(this._stickyLineCandidateProvider),this._register(this._editor.onDidChangeConfiguration(c=>{c.hasChanged(105)&&this.readConfiguration()})),this.readConfiguration(),this._register(b.addDisposableListener(this._stickyScrollWidget.getDomNode(),b.EventType.CONTEXT_MENU,c=>Se(this,void 0,void 0,function*(){this.onContextMenu(c)})))}onContextMenu(i){this._contextMenuService.showContextMenu({menuId:h.MenuId.StickyScrollContext,getAnchor:()=>i})}readConfiguration(){if(this._editor.getOption(105).enabled===!1){this._editor.removeOverlayWidget(this._stickyScrollWidget),this._sessionStore.clear();return}else this._editor.addOverlayWidget(this._stickyScrollWidget),this._sessionStore.add(this._editor.onDidScrollChange(()=>this.renderStickyScroll())),this._sessionStore.add(this._editor.onDidLayoutChange(()=>this.onDidResize())),this._sessionStore.add(this._editor.onDidChangeModelTokens(o=>this.onTokensChange(o))),this._sessionStore.add(this._stickyLineCandidateProvider.onStickyScrollChange(()=>this.renderStickyScroll())),this._editor.getOption(61).renderType===2&&this._sessionStore.add(this._editor.onDidChangeCursorPosition(()=>this.renderStickyScroll()))}needsUpdate(i){const n=this._stickyScrollWidget.getCurrentLines();for(const o of n)for(const l of i.ranges)if(o>=l.fromLineNumber&&o<=l.toLineNumber)return!0;return!1}onTokensChange(i){this.needsUpdate(i)&&this.renderStickyScroll()}onDidResize(){const i=this._editor.getLayoutInfo().width-this._editor.getLayoutInfo().minimap.minimapCanvasOuterWidth-this._editor.getLayoutInfo().verticalScrollbarWidth;this._stickyScrollWidget.getDomNode().style.width=`${i}px`}renderStickyScroll(){if(!this._editor.hasModel())return;const i=this._editor.getModel();this._stickyLineCandidateProvider.getVersionId()===i.getVersionId()&&(this._widgetState=this.getScrollWidgetState(),this._stickyScrollWidget.setState(this._widgetState))}getScrollWidgetState(){const i=this._editor.getOption(60),n=this._editor.getOption(105).maxLineCount,o=this._editor.getScrollTop();let l=0;const c=[],d=this._editor.getVisibleRanges();if(d.length!==0){const r=new D.StickyRange(d[0].startLineNumber,d[d.length-1].endLineNumber),s=this._stickyLineCandidateProvider.getCandidateStickyLinesIntersecting(r);for(const a of s){const u=a.startLineNumber,p=a.endLineNumber,S=a.nestingDepth;if(p-u>0){const f=(S-1)*i,v=S*i,_=this._editor.getBottomForLineNumber(u)-o,y=this._editor.getTopForLineNumber(p)-o,E=this._editor.getBottomForLineNumber(p)-o;if(f>y&&f<=E){c.push(u),l=E-v;break}else v>_&&v<=E&&c.push(u);if(c.length===n)break}}}return new k.StickyScrollWidgetState(c,l)}dispose(){super.dispose(),this._sessionStore.dispose()}};g.ID="store.contrib.stickyScrollController",g=De([fe(1,m.ILanguageFeaturesService),fe(2,L.IInstantiationService),fe(3,C.IContextMenuService)],g),e.StickyScrollController=g}),define(se[794],re([1,0,13,739,793,32]),function(q,e,w,m,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,w.registerEditorContribution)(k.StickyScrollController.ID,k.StickyScrollController),(0,D.registerAction2)(m.ToggleStickyScroll)}),define(se[795],re([1,0,13,29,321,30,15,9,40,80]),function(q,e,w,m,k,D,L,b,C,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneReferencesController=void 0;let g=class extends k.ReferencesController{constructor(i,n,o,l,c,d,r){super(!0,i,n,o,l,c,d,r)}};g=De([fe(1,L.IContextKeyService),fe(2,m.ICodeEditorService),fe(3,C.INotificationService),fe(4,b.IInstantiationService),fe(5,h.IStorageService),fe(6,D.IConfigurationService)],g),e.StandaloneReferencesController=g,(0,w.registerEditorContribution)(k.ReferencesController.ID,g)}),define(se[796],re([1,0,14,2,49,90,643,142,52,40,174]),function(q,e,w,m,k,D,L,b,C,h,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UndoRedoService=void 0;const t=!1;function i(S){return S.scheme===k.Schemas.file?S.fsPath:S.path}let n=0;class o{constructor(f,v,_,y,E,T,I){this.id=++n,this.type=0,this.actual=f,this.label=f.label,this.confirmBeforeUndo=f.confirmBeforeUndo||!1,this.resourceLabel=v,this.strResource=_,this.resourceLabels=[this.resourceLabel],this.strResources=[this.strResource],this.groupId=y,this.groupOrder=E,this.sourceId=T,this.sourceOrder=I,this.isValid=!0}setValid(f){this.isValid=f}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.isValid?"  VALID":"INVALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class l{constructor(f,v){this.resourceLabel=f,this.reason=v}}class c{constructor(){this.elements=new Map}createMessage(){const f=[],v=[];for(const[,y]of this.elements)(y.reason===0?f:v).push(y.resourceLabel);const _=[];return f.length>0&&_.push(L.localize(0,null,f.join(", "))),v.length>0&&_.push(L.localize(1,null,v.join(", "))),_.join(`
`)}get size(){return this.elements.size}has(f){return this.elements.has(f)}set(f,v){this.elements.set(f,v)}delete(f){return this.elements.delete(f)}}class d{constructor(f,v,_,y,E,T,I){this.id=++n,this.type=1,this.actual=f,this.label=f.label,this.confirmBeforeUndo=f.confirmBeforeUndo||!1,this.resourceLabels=v,this.strResources=_,this.groupId=y,this.groupOrder=E,this.sourceId=T,this.sourceOrder=I,this.removedResources=null,this.invalidatedResources=null}canSplit(){return typeof this.actual.split=="function"}removeResource(f,v,_){this.removedResources||(this.removedResources=new c),this.removedResources.has(v)||this.removedResources.set(v,new l(f,_))}setValid(f,v,_){_?this.invalidatedResources&&(this.invalidatedResources.delete(v),this.invalidatedResources.size===0&&(this.invalidatedResources=null)):(this.invalidatedResources||(this.invalidatedResources=new c),this.invalidatedResources.has(v)||this.invalidatedResources.set(v,new l(f,0)))}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.invalidatedResources?"INVALID":"  VALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class r{constructor(f,v){this.resourceLabel=f,this.strResource=v,this._past=[],this._future=[],this.locked=!1,this.versionId=1}dispose(){for(const f of this._past)f.type===1&&f.removeResource(this.resourceLabel,this.strResource,0);for(const f of this._future)f.type===1&&f.removeResource(this.resourceLabel,this.strResource,0);this.versionId++}toString(){const f=[];f.push(`* ${this.strResource}:`);for(let v=0;v<this._past.length;v++)f.push(`   * [UNDO] ${this._past[v]}`);for(let v=this._future.length-1;v>=0;v--)f.push(`   * [REDO] ${this._future[v]}`);return f.join(`
`)}flushAllElements(){this._past=[],this._future=[],this.versionId++}_setElementValidFlag(f,v){f.type===1?f.setValid(this.resourceLabel,this.strResource,v):f.setValid(v)}setElementsValidFlag(f,v){for(const _ of this._past)v(_.actual)&&this._setElementValidFlag(_,f);for(const _ of this._future)v(_.actual)&&this._setElementValidFlag(_,f)}pushElement(f){for(const v of this._future)v.type===1&&v.removeResource(this.resourceLabel,this.strResource,1);this._future=[],this._past.push(f),this.versionId++}createSnapshot(f){const v=[];for(let _=0,y=this._past.length;_<y;_++)v.push(this._past[_].id);for(let _=this._future.length-1;_>=0;_--)v.push(this._future[_].id);return new g.ResourceEditStackSnapshot(f,v)}restoreSnapshot(f){const v=f.elements.length;let _=!0,y=0,E=-1;for(let I=0,R=this._past.length;I<R;I++,y++){const F=this._past[I];_&&(y>=v||F.id!==f.elements[y])&&(_=!1,E=0),!_&&F.type===1&&F.removeResource(this.resourceLabel,this.strResource,0)}let T=-1;for(let I=this._future.length-1;I>=0;I--,y++){const R=this._future[I];_&&(y>=v||R.id!==f.elements[y])&&(_=!1,T=I),!_&&R.type===1&&R.removeResource(this.resourceLabel,this.strResource,0)}E!==-1&&(this._past=this._past.slice(0,E)),T!==-1&&(this._future=this._future.slice(T+1)),this.versionId++}getElements(){const f=[],v=[];for(const _ of this._past)f.push(_.actual);for(const _ of this._future)v.push(_.actual);return{past:f,future:v}}getClosestPastElement(){return this._past.length===0?null:this._past[this._past.length-1]}getSecondClosestPastElement(){return this._past.length<2?null:this._past[this._past.length-2]}getClosestFutureElement(){return this._future.length===0?null:this._future[this._future.length-1]}hasPastElements(){return this._past.length>0}hasFutureElements(){return this._future.length>0}splitPastWorkspaceElement(f,v){for(let _=this._past.length-1;_>=0;_--)if(this._past[_]===f){v.has(this.strResource)?this._past[_]=v.get(this.strResource):this._past.splice(_,1);break}this.versionId++}splitFutureWorkspaceElement(f,v){for(let _=this._future.length-1;_>=0;_--)if(this._future[_]===f){v.has(this.strResource)?this._future[_]=v.get(this.strResource):this._future.splice(_,1);break}this.versionId++}moveBackward(f){this._past.pop(),this._future.push(f),this.versionId++}moveForward(f){this._future.pop(),this._past.push(f),this.versionId++}}class s{constructor(f){this.editStacks=f,this._versionIds=[];for(let v=0,_=this.editStacks.length;v<_;v++)this._versionIds[v]=this.editStacks[v].versionId}isValid(){for(let f=0,v=this.editStacks.length;f<v;f++)if(this._versionIds[f]!==this.editStacks[f].versionId)return!1;return!0}}const a=new r("","");a.locked=!0;let u=class{constructor(f,v){this._dialogService=f,this._notificationService=v,this._editStacks=new Map,this._uriComparisonKeyComputers=[]}getUriComparisonKey(f){for(const v of this._uriComparisonKeyComputers)if(v[0]===f.scheme)return v[1].getComparisonKey(f);return f.toString()}_print(f){console.log("------------------------------------"),console.log(`AFTER ${f}: `);const v=[];for(const _ of this._editStacks)v.push(_[1].toString());console.log(v.join(`
`))}pushElement(f,v=g.UndoRedoGroup.None,_=g.UndoRedoSource.None){if(f.type===0){const y=i(f.resource),E=this.getUriComparisonKey(f.resource);this._pushElement(new o(f,y,E,v.id,v.nextOrder(),_.id,_.nextOrder()))}else{const y=new Set,E=[],T=[];for(const I of f.resources){const R=i(I),F=this.getUriComparisonKey(I);y.has(F)||(y.add(F),E.push(R),T.push(F))}E.length===1?this._pushElement(new o(f,E[0],T[0],v.id,v.nextOrder(),_.id,_.nextOrder())):this._pushElement(new d(f,E,T,v.id,v.nextOrder(),_.id,_.nextOrder()))}t&&this._print("pushElement")}_pushElement(f){for(let v=0,_=f.strResources.length;v<_;v++){const y=f.resourceLabels[v],E=f.strResources[v];let T;this._editStacks.has(E)?T=this._editStacks.get(E):(T=new r(y,E),this._editStacks.set(E,T)),T.pushElement(f)}}getLastElement(f){const v=this.getUriComparisonKey(f);if(this._editStacks.has(v)){const _=this._editStacks.get(v);if(_.hasFutureElements())return null;const y=_.getClosestPastElement();return y?y.actual:null}return null}_splitPastWorkspaceElement(f,v){const _=f.actual.split(),y=new Map;for(const E of _){const T=i(E.resource),I=this.getUriComparisonKey(E.resource),R=new o(E,T,I,0,0,0,0);y.set(R.strResource,R)}for(const E of f.strResources){if(v&&v.has(E))continue;this._editStacks.get(E).splitPastWorkspaceElement(f,y)}}_splitFutureWorkspaceElement(f,v){const _=f.actual.split(),y=new Map;for(const E of _){const T=i(E.resource),I=this.getUriComparisonKey(E.resource),R=new o(E,T,I,0,0,0,0);y.set(R.strResource,R)}for(const E of f.strResources){if(v&&v.has(E))continue;this._editStacks.get(E).splitFutureWorkspaceElement(f,y)}}removeElements(f){const v=typeof f=="string"?f:this.getUriComparisonKey(f);this._editStacks.has(v)&&(this._editStacks.get(v).dispose(),this._editStacks.delete(v)),t&&this._print("removeElements")}setElementsValidFlag(f,v,_){const y=this.getUriComparisonKey(f);this._editStacks.has(y)&&this._editStacks.get(y).setElementsValidFlag(v,_),t&&this._print("setElementsValidFlag")}createSnapshot(f){const v=this.getUriComparisonKey(f);return this._editStacks.has(v)?this._editStacks.get(v).createSnapshot(f):new g.ResourceEditStackSnapshot(f,[])}restoreSnapshot(f){const v=this.getUriComparisonKey(f.resource);if(this._editStacks.has(v)){const _=this._editStacks.get(v);_.restoreSnapshot(f),!_.hasPastElements()&&!_.hasFutureElements()&&(_.dispose(),this._editStacks.delete(v))}t&&this._print("restoreSnapshot")}getElements(f){const v=this.getUriComparisonKey(f);return this._editStacks.has(v)?this._editStacks.get(v).getElements():{past:[],future:[]}}_findClosestUndoElementWithSource(f){if(!f)return[null,null];let v=null,_=null;for(const[y,E]of this._editStacks){const T=E.getClosestPastElement();!T||T.sourceId===f&&(!v||T.sourceOrder>v.sourceOrder)&&(v=T,_=y)}return[v,_]}canUndo(f){if(f instanceof g.UndoRedoSource){const[,_]=this._findClosestUndoElementWithSource(f.id);return!!_}const v=this.getUriComparisonKey(f);return this._editStacks.has(v)?this._editStacks.get(v).hasPastElements():!1}_onError(f,v){(0,w.onUnexpectedError)(f);for(const _ of v.strResources)this.removeElements(_);this._notificationService.error(f)}_acquireLocks(f){for(const v of f.editStacks)if(v.locked)throw new Error("Cannot acquire edit stack lock");for(const v of f.editStacks)v.locked=!0;return()=>{for(const v of f.editStacks)v.locked=!1}}_safeInvokeWithLocks(f,v,_,y,E){const T=this._acquireLocks(_);let I;try{I=v()}catch(R){return T(),y.dispose(),this._onError(R,f)}return I?I.then(()=>(T(),y.dispose(),E()),R=>(T(),y.dispose(),this._onError(R,f))):(T(),y.dispose(),E())}_invokeWorkspacePrepare(f){return Se(this,void 0,void 0,function*(){if(typeof f.actual.prepareUndoRedo>"u")return m.Disposable.None;const v=f.actual.prepareUndoRedo();return typeof v>"u"?m.Disposable.None:v})}_invokeResourcePrepare(f,v){if(f.actual.type!==1||typeof f.actual.prepareUndoRedo>"u")return v(m.Disposable.None);const _=f.actual.prepareUndoRedo();return _?(0,m.isDisposable)(_)?v(_):_.then(y=>v(y)):v(m.Disposable.None)}_getAffectedEditStacks(f){const v=[];for(const _ of f.strResources)v.push(this._editStacks.get(_)||a);return new s(v)}_tryToSplitAndUndo(f,v,_,y){if(v.canSplit())return this._splitPastWorkspaceElement(v,_),this._notificationService.warn(y),new p(this._undo(f,0,!0));for(const E of v.strResources)this.removeElements(E);return this._notificationService.warn(y),new p}_checkWorkspaceUndo(f,v,_,y){if(v.removedResources)return this._tryToSplitAndUndo(f,v,v.removedResources,L.localize(2,null,v.label,v.removedResources.createMessage()));if(y&&v.invalidatedResources)return this._tryToSplitAndUndo(f,v,v.invalidatedResources,L.localize(3,null,v.label,v.invalidatedResources.createMessage()));const E=[];for(const I of _.editStacks)I.getClosestPastElement()!==v&&E.push(I.resourceLabel);if(E.length>0)return this._tryToSplitAndUndo(f,v,null,L.localize(4,null,v.label,E.join(", ")));const T=[];for(const I of _.editStacks)I.locked&&T.push(I.resourceLabel);return T.length>0?this._tryToSplitAndUndo(f,v,null,L.localize(5,null,v.label,T.join(", "))):_.isValid()?null:this._tryToSplitAndUndo(f,v,null,L.localize(6,null,v.label))}_workspaceUndo(f,v,_){const y=this._getAffectedEditStacks(v),E=this._checkWorkspaceUndo(f,v,y,!1);return E?E.returnValue:this._confirmAndExecuteWorkspaceUndo(f,v,y,_)}_isPartOfUndoGroup(f){if(!f.groupId)return!1;for(const[,v]of this._editStacks){const _=v.getClosestPastElement();if(!!_){if(_===f){const y=v.getSecondClosestPastElement();if(y&&y.groupId===f.groupId)return!0}if(_.groupId===f.groupId)return!0}}return!1}_confirmAndExecuteWorkspaceUndo(f,v,_,y){return Se(this,void 0,void 0,function*(){if(v.canSplit()&&!this._isPartOfUndoGroup(v)){const I=yield this._dialogService.show(D.default.Info,L.localize(7,null,v.label),[L.localize(8,null,_.editStacks.length),L.localize(9,null),L.localize(10,null)],{cancelId:2});if(I.choice===2)return;if(I.choice===1)return this._splitPastWorkspaceElement(v,null),this._undo(f,0,!0);const R=this._checkWorkspaceUndo(f,v,_,!1);if(R)return R.returnValue;y=!0}let E;try{E=yield this._invokeWorkspacePrepare(v)}catch(I){return this._onError(I,v)}const T=this._checkWorkspaceUndo(f,v,_,!0);if(T)return E.dispose(),T.returnValue;for(const I of _.editStacks)I.moveBackward(v);return this._safeInvokeWithLocks(v,()=>v.actual.undo(),_,E,()=>this._continueUndoInGroup(v.groupId,y))})}_resourceUndo(f,v,_){if(!v.isValid){f.flushAllElements();return}if(f.locked){const y=L.localize(11,null,v.label);this._notificationService.warn(y);return}return this._invokeResourcePrepare(v,y=>(f.moveBackward(v),this._safeInvokeWithLocks(v,()=>v.actual.undo(),new s([f]),y,()=>this._continueUndoInGroup(v.groupId,_))))}_findClosestUndoElementInGroup(f){if(!f)return[null,null];let v=null,_=null;for(const[y,E]of this._editStacks){const T=E.getClosestPastElement();!T||T.groupId===f&&(!v||T.groupOrder>v.groupOrder)&&(v=T,_=y)}return[v,_]}_continueUndoInGroup(f,v){if(!f)return;const[,_]=this._findClosestUndoElementInGroup(f);if(_)return this._undo(_,0,v)}undo(f){if(f instanceof g.UndoRedoSource){const[,v]=this._findClosestUndoElementWithSource(f.id);return v?this._undo(v,f.id,!1):void 0}return typeof f=="string"?this._undo(f,0,!1):this._undo(this.getUriComparisonKey(f),0,!1)}_undo(f,v=0,_){if(!this._editStacks.has(f))return;const y=this._editStacks.get(f),E=y.getClosestPastElement();if(!E)return;if(E.groupId){const[I,R]=this._findClosestUndoElementInGroup(E.groupId);if(E!==I&&R)return this._undo(R,v,_)}if((E.sourceId!==v||E.confirmBeforeUndo)&&!_)return this._confirmAndContinueUndo(f,v,E);try{return E.type===1?this._workspaceUndo(f,E,_):this._resourceUndo(y,E,_)}finally{t&&this._print("undo")}}_confirmAndContinueUndo(f,v,_){return Se(this,void 0,void 0,function*(){if((yield this._dialogService.show(D.default.Info,L.localize(12,null,_.label),[L.localize(13,null),L.localize(14,null)],{cancelId:1})).choice!==1)return this._undo(f,v,!0)})}_findClosestRedoElementWithSource(f){if(!f)return[null,null];let v=null,_=null;for(const[y,E]of this._editStacks){const T=E.getClosestFutureElement();!T||T.sourceId===f&&(!v||T.sourceOrder<v.sourceOrder)&&(v=T,_=y)}return[v,_]}canRedo(f){if(f instanceof g.UndoRedoSource){const[,_]=this._findClosestRedoElementWithSource(f.id);return!!_}const v=this.getUriComparisonKey(f);return this._editStacks.has(v)?this._editStacks.get(v).hasFutureElements():!1}_tryToSplitAndRedo(f,v,_,y){if(v.canSplit())return this._splitFutureWorkspaceElement(v,_),this._notificationService.warn(y),new p(this._redo(f));for(const E of v.strResources)this.removeElements(E);return this._notificationService.warn(y),new p}_checkWorkspaceRedo(f,v,_,y){if(v.removedResources)return this._tryToSplitAndRedo(f,v,v.removedResources,L.localize(15,null,v.label,v.removedResources.createMessage()));if(y&&v.invalidatedResources)return this._tryToSplitAndRedo(f,v,v.invalidatedResources,L.localize(16,null,v.label,v.invalidatedResources.createMessage()));const E=[];for(const I of _.editStacks)I.getClosestFutureElement()!==v&&E.push(I.resourceLabel);if(E.length>0)return this._tryToSplitAndRedo(f,v,null,L.localize(17,null,v.label,E.join(", ")));const T=[];for(const I of _.editStacks)I.locked&&T.push(I.resourceLabel);return T.length>0?this._tryToSplitAndRedo(f,v,null,L.localize(18,null,v.label,T.join(", "))):_.isValid()?null:this._tryToSplitAndRedo(f,v,null,L.localize(19,null,v.label))}_workspaceRedo(f,v){const _=this._getAffectedEditStacks(v),y=this._checkWorkspaceRedo(f,v,_,!1);return y?y.returnValue:this._executeWorkspaceRedo(f,v,_)}_executeWorkspaceRedo(f,v,_){return Se(this,void 0,void 0,function*(){let y;try{y=yield this._invokeWorkspacePrepare(v)}catch(T){return this._onError(T,v)}const E=this._checkWorkspaceRedo(f,v,_,!0);if(E)return y.dispose(),E.returnValue;for(const T of _.editStacks)T.moveForward(v);return this._safeInvokeWithLocks(v,()=>v.actual.redo(),_,y,()=>this._continueRedoInGroup(v.groupId))})}_resourceRedo(f,v){if(!v.isValid){f.flushAllElements();return}if(f.locked){const _=L.localize(20,null,v.label);this._notificationService.warn(_);return}return this._invokeResourcePrepare(v,_=>(f.moveForward(v),this._safeInvokeWithLocks(v,()=>v.actual.redo(),new s([f]),_,()=>this._continueRedoInGroup(v.groupId))))}_findClosestRedoElementInGroup(f){if(!f)return[null,null];let v=null,_=null;for(const[y,E]of this._editStacks){const T=E.getClosestFutureElement();!T||T.groupId===f&&(!v||T.groupOrder<v.groupOrder)&&(v=T,_=y)}return[v,_]}_continueRedoInGroup(f){if(!f)return;const[,v]=this._findClosestRedoElementInGroup(f);if(v)return this._redo(v)}redo(f){if(f instanceof g.UndoRedoSource){const[,v]=this._findClosestRedoElementWithSource(f.id);return v?this._redo(v):void 0}return typeof f=="string"?this._redo(f):this._redo(this.getUriComparisonKey(f))}_redo(f){if(!this._editStacks.has(f))return;const v=this._editStacks.get(f),_=v.getClosestFutureElement();if(!!_){if(_.groupId){const[y,E]=this._findClosestRedoElementInGroup(_.groupId);if(_!==y&&E)return this._redo(E)}try{return _.type===1?this._workspaceRedo(f,_):this._resourceRedo(v,_)}finally{t&&this._print("redo")}}}};u=De([fe(0,b.IDialogService),fe(1,h.INotificationService)],u),e.UndoRedoService=u;class p{constructor(f){this.returnValue=f}}(0,C.registerSingleton)(g.IUndoRedoService,u,1)}),define(se[178],re([1,0,644,85,180,22,9]),function(q,e,w,m,k,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WORKSPACE_FILTER=e.WORKSPACE_EXTENSION=e.WorkspaceFolder=e.Workspace=e.toWorkspaceIdentifier=e.EXTENSION_DEVELOPMENT_EMPTY_WINDOW_WORKSPACE=e.isSingleFolderWorkspaceIdentifier=e.IWorkspaceContextService=void 0,e.IWorkspaceContextService=(0,L.createDecorator)("contextService");function b(t){const i=t;return typeof i?.id=="string"&&D.URI.isUri(i.uri)}e.isSingleFolderWorkspaceIdentifier=b,e.EXTENSION_DEVELOPMENT_EMPTY_WINDOW_WORKSPACE={id:"ext-dev"};function C(t,i){if(typeof t=="string"||typeof t>"u")return typeof t=="string"?{id:(0,m.basename)(t)}:i?e.EXTENSION_DEVELOPMENT_EMPTY_WINDOW_WORKSPACE:void 0;const n=t;if(n.configuration)return{id:n.id,configPath:n.configuration};if(n.folders.length===1)return{id:n.id,uri:n.folders[0].uri}}e.toWorkspaceIdentifier=C;class h{constructor(i,n,o,l,c){this._id=i,this._transient=o,this._configuration=l,this._ignorePathCasing=c,this._foldersMap=k.TernarySearchTree.forUris(this._ignorePathCasing,()=>!0),this.folders=n}get folders(){return this._folders}set folders(i){this._folders=i,this.updateFoldersMap()}get id(){return this._id}get transient(){return this._transient}get configuration(){return this._configuration}set configuration(i){this._configuration=i}getFolder(i){return i&&this._foldersMap.findSubstr(i)||null}updateFoldersMap(){this._foldersMap=k.TernarySearchTree.forUris(this._ignorePathCasing,()=>!0);for(const i of this.folders)this._foldersMap.set(i.uri,i)}toJSON(){return{id:this.id,folders:this.folders,transient:this.transient,configuration:this.configuration}}}e.Workspace=h;class g{constructor(i,n){this.raw=n,this.uri=i.uri,this.index=i.index,this.name=i.name}toJSON(){return{uri:this.uri,name:this.name,index:this.index}}}e.WorkspaceFolder=g,e.WORKSPACE_EXTENSION="code-workspace",e.WORKSPACE_FILTER=[{name:(0,w.localize)(0,null),extensions:[e.WORKSPACE_EXTENSION]}]}),define(se[797],re([1,0,10,182,2,99,44,22,295,13,141,3,20,97,93,572,67,178]),function(q,e,w,m,k,D,L,b,C,h,g,t,i,n,o,l,c,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DropIntoEditorController=void 0;let r=class extends k.Disposable{constructor(u,p,S,f,v){super(),this._bulkEditService=p,this._languageFeaturesService=S,this._progressService=f,this._register(u.onDropIntoEditor(_=>this.onDropIntoEditor(u,_.position,_.event))),this._languageFeaturesService.documentOnDropEditProvider.register("*",new s(v))}onDropIntoEditor(u,p,S){var f,v;return Se(this,void 0,void 0,function*(){if(!S.dataTransfer||!u.hasModel())return;const _=u.getModel(),y=_.getVersionId(),E=yield this.extractDataTransferData(S);if(E.size===0||u.getModel().getVersionId()!==y)return;const T=new n.EditorStateCancellationTokenSource(u,1);try{const I=this._languageFeaturesService.documentOnDropEditProvider.ordered(_),R=yield this._progressService.withProgress({location:15,delay:750,title:(0,l.localize)(0,null),cancellable:!0},()=>(0,w.raceCancellation)((()=>Se(this,void 0,void 0,function*(){for(const F of I){const O=yield F.provideDocumentOnDropEdits(_,p,E,T.token);if(T.token.isCancellationRequested)return;if(O)return O}}))(),T.token),()=>{T.cancel()});if(T.token.isCancellationRequested||u.getModel().getVersionId()!==y)return;if(R){const F=typeof R.insertText=="string"?o.SnippetParser.escape(R.insertText):R.insertText.snippet,O={edits:[new g.ResourceTextEdit(_.uri,{range:new t.Range(p.lineNumber,p.column,p.lineNumber,p.column),text:F,insertAsSnippet:!0}),...(v=(f=R.additionalEdit)===null||f===void 0?void 0:f.edits)!==null&&v!==void 0?v:[]]};yield this._bulkEditService.apply(O,{editor:u});return}}finally{T.dispose()}})}extractDataTransferData(u){return Se(this,void 0,void 0,function*(){if(!u.dataTransfer)return new m.VSDataTransfer;const p=(0,C.toVSDataTransfer)(u.dataTransfer);return(0,C.addExternalEditorsDropData)(p,u),p})}};r.ID="editor.contrib.dropIntoEditorController",r=De([fe(1,g.IBulkEditService),fe(2,i.ILanguageFeaturesService),fe(3,c.IProgressService),fe(4,d.IWorkspaceContextService)],r),e.DropIntoEditorController=r;let s=class{constructor(u){this._workspaceContextService=u}provideDocumentOnDropEdits(u,p,S,f){var v;return Se(this,void 0,void 0,function*(){const _=S.get(D.Mimes.uriList);if(_){const E=yield _.asString(),T=this.getUriListInsertText(E);if(T)return{insertText:T}}const y=(v=S.get("text"))!==null&&v!==void 0?v:S.get(D.Mimes.text);if(y)return{insertText:yield y.asString()}})}getUriListInsertText(u){const p=[];for(const S of C.UriList.parse(u))try{p.push(b.URI.parse(S))}catch{}if(!!p.length)return p.map(S=>{const f=this._workspaceContextService.getWorkspaceFolder(S);if(f){const v=(0,L.relativePath)(f.uri,S);if(v)return v}return S.fsPath}).join(" ")}};s=De([fe(0,d.IWorkspaceContextService)],s),(0,h.registerEditorContribution)(r.ID,r)}),define(se[798],re([1,0,493,85,44,8,181,34,93,614,178]),function(q,e,w,m,k,D,L,b,C,h,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RandomBasedVariableResolver=e.WorkspaceBasedVariableResolver=e.TimeBasedVariableResolver=e.CommentBasedVariableResolver=e.ClipboardBasedVariableResolver=e.ModelBasedVariableResolver=e.SelectionBasedVariableResolver=e.CompositeSnippetVariableResolver=e.KnownSnippetVariableNames=void 0,e.KnownSnippetVariableNames=Object.freeze({CURRENT_YEAR:!0,CURRENT_YEAR_SHORT:!0,CURRENT_MONTH:!0,CURRENT_DATE:!0,CURRENT_HOUR:!0,CURRENT_MINUTE:!0,CURRENT_SECOND:!0,CURRENT_DAY_NAME:!0,CURRENT_DAY_NAME_SHORT:!0,CURRENT_MONTH_NAME:!0,CURRENT_MONTH_NAME_SHORT:!0,CURRENT_SECONDS_UNIX:!0,SELECTION:!0,CLIPBOARD:!0,TM_SELECTED_TEXT:!0,TM_CURRENT_LINE:!0,TM_CURRENT_WORD:!0,TM_LINE_INDEX:!0,TM_LINE_NUMBER:!0,TM_FILENAME:!0,TM_FILENAME_BASE:!0,TM_DIRECTORY:!0,TM_FILEPATH:!0,CURSOR_INDEX:!0,CURSOR_NUMBER:!0,RELATIVE_FILEPATH:!0,BLOCK_COMMENT_START:!0,BLOCK_COMMENT_END:!0,LINE_COMMENT:!0,WORKSPACE_NAME:!0,WORKSPACE_FOLDER:!0,RANDOM:!0,RANDOM_HEX:!0,UUID:!0});class t{constructor(a){this._delegates=a}resolve(a){for(const u of this._delegates){const p=u.resolve(a);if(p!==void 0)return p}}}e.CompositeSnippetVariableResolver=t;class i{constructor(a,u,p,S){this._model=a,this._selection=u,this._selectionIdx=p,this._overtypingCapturer=S}resolve(a){const{name:u}=a;if(u==="SELECTION"||u==="TM_SELECTED_TEXT"){let p=this._model.getValueInRange(this._selection)||void 0,S=this._selection.startLineNumber!==this._selection.endLineNumber;if(!p&&this._overtypingCapturer){const f=this._overtypingCapturer.getLastOvertypedInfo(this._selectionIdx);f&&(p=f.value,S=f.multiline)}if(p&&S&&a.snippet){const f=this._model.getLineContent(this._selection.startLineNumber),v=(0,D.getLeadingWhitespace)(f,0,this._selection.startColumn-1);let _=v;a.snippet.walk(E=>E===a?!1:(E instanceof C.Text&&(_=(0,D.getLeadingWhitespace)((0,D.splitLines)(E.value).pop())),!0));const y=(0,D.commonPrefixLength)(_,v);p=p.replace(/(\r\n|\r|\n)(.*)/g,(E,T,I)=>`${T}${_.substr(y)}${I}`)}return p}else{if(u==="TM_CURRENT_LINE")return this._model.getLineContent(this._selection.positionLineNumber);if(u==="TM_CURRENT_WORD"){const p=this._model.getWordAtPosition({lineNumber:this._selection.positionLineNumber,column:this._selection.positionColumn});return p&&p.word||void 0}else{if(u==="TM_LINE_INDEX")return String(this._selection.positionLineNumber-1);if(u==="TM_LINE_NUMBER")return String(this._selection.positionLineNumber);if(u==="CURSOR_INDEX")return String(this._selectionIdx);if(u==="CURSOR_NUMBER")return String(this._selectionIdx+1)}}}}e.SelectionBasedVariableResolver=i;class n{constructor(a,u){this._labelService=a,this._model=u}resolve(a){const{name:u}=a;if(u==="TM_FILENAME")return m.basename(this._model.uri.fsPath);if(u==="TM_FILENAME_BASE"){const p=m.basename(this._model.uri.fsPath),S=p.lastIndexOf(".");return S<=0?p:p.slice(0,S)}else{if(u==="TM_DIRECTORY")return m.dirname(this._model.uri.fsPath)==="."?"":this._labelService.getUriLabel((0,k.dirname)(this._model.uri));if(u==="TM_FILEPATH")return this._labelService.getUriLabel(this._model.uri);if(u==="RELATIVE_FILEPATH")return this._labelService.getUriLabel(this._model.uri,{relative:!0,noPrefix:!0})}}}e.ModelBasedVariableResolver=n;class o{constructor(a,u,p,S){this._readClipboardText=a,this._selectionIdx=u,this._selectionCount=p,this._spread=S}resolve(a){if(a.name!=="CLIPBOARD")return;const u=this._readClipboardText();if(!!u){if(this._spread){const p=u.split(/\r\n|\n|\r/).filter(S=>!(0,D.isFalsyOrWhitespace)(S));if(p.length===this._selectionCount)return p[this._selectionIdx]}return u}}}e.ClipboardBasedVariableResolver=o;let l=class{constructor(a,u,p){this._model=a,this._selection=u,this._languageConfigurationService=p}resolve(a){const{name:u}=a,p=this._model.getLanguageIdAtPosition(this._selection.selectionStartLineNumber,this._selection.selectionStartColumn),S=this._languageConfigurationService.getLanguageConfiguration(p).comments;if(!!S){if(u==="LINE_COMMENT")return S.lineCommentToken||void 0;if(u==="BLOCK_COMMENT_START")return S.blockCommentStartToken||void 0;if(u==="BLOCK_COMMENT_END")return S.blockCommentEndToken||void 0}}};l=De([fe(2,b.ILanguageConfigurationService)],l),e.CommentBasedVariableResolver=l;class c{constructor(){this._date=new Date}resolve(a){const{name:u}=a;if(u==="CURRENT_YEAR")return String(this._date.getFullYear());if(u==="CURRENT_YEAR_SHORT")return String(this._date.getFullYear()).slice(-2);if(u==="CURRENT_MONTH")return String(this._date.getMonth().valueOf()+1).padStart(2,"0");if(u==="CURRENT_DATE")return String(this._date.getDate().valueOf()).padStart(2,"0");if(u==="CURRENT_HOUR")return String(this._date.getHours().valueOf()).padStart(2,"0");if(u==="CURRENT_MINUTE")return String(this._date.getMinutes().valueOf()).padStart(2,"0");if(u==="CURRENT_SECOND")return String(this._date.getSeconds().valueOf()).padStart(2,"0");if(u==="CURRENT_DAY_NAME")return c.dayNames[this._date.getDay()];if(u==="CURRENT_DAY_NAME_SHORT")return c.dayNamesShort[this._date.getDay()];if(u==="CURRENT_MONTH_NAME")return c.monthNames[this._date.getMonth()];if(u==="CURRENT_MONTH_NAME_SHORT")return c.monthNamesShort[this._date.getMonth()];if(u==="CURRENT_SECONDS_UNIX")return String(Math.floor(this._date.getTime()/1e3))}}e.TimeBasedVariableResolver=c,c.dayNames=[h.localize(0,null),h.localize(1,null),h.localize(2,null),h.localize(3,null),h.localize(4,null),h.localize(5,null),h.localize(6,null)],c.dayNamesShort=[h.localize(7,null),h.localize(8,null),h.localize(9,null),h.localize(10,null),h.localize(11,null),h.localize(12,null),h.localize(13,null)],c.monthNames=[h.localize(14,null),h.localize(15,null),h.localize(16,null),h.localize(17,null),h.localize(18,null),h.localize(19,null),h.localize(20,null),h.localize(21,null),h.localize(22,null),h.localize(23,null),h.localize(24,null),h.localize(25,null)],c.monthNamesShort=[h.localize(26,null),h.localize(27,null),h.localize(28,null),h.localize(29,null),h.localize(30,null),h.localize(31,null),h.localize(32,null),h.localize(33,null),h.localize(34,null),h.localize(35,null),h.localize(36,null),h.localize(37,null)];class d{constructor(a){this._workspaceService=a}resolve(a){if(!this._workspaceService)return;const u=(0,g.toWorkspaceIdentifier)(this._workspaceService.getWorkspace());if(!!u){if(a.name==="WORKSPACE_NAME")return this._resolveWorkspaceName(u);if(a.name==="WORKSPACE_FOLDER")return this._resoveWorkspacePath(u)}}_resolveWorkspaceName(a){if((0,g.isSingleFolderWorkspaceIdentifier)(a))return m.basename(a.uri.path);let u=m.basename(a.configPath.path);return u.endsWith(g.WORKSPACE_EXTENSION)&&(u=u.substr(0,u.length-g.WORKSPACE_EXTENSION.length-1)),u}_resoveWorkspacePath(a){if((0,g.isSingleFolderWorkspaceIdentifier)(a))return(0,w.normalizeDriveLetter)(a.uri.fsPath);const u=m.basename(a.configPath.path);let p=a.configPath.fsPath;return p.endsWith(u)&&(p=p.substr(0,p.length-u.length-1)),p?(0,w.normalizeDriveLetter)(p):"/"}}e.WorkspaceBasedVariableResolver=d;class r{resolve(a){const{name:u}=a;if(u==="RANDOM")return Math.random().toString().slice(-6);if(u==="RANDOM_HEX")return Math.random().toString(16).slice(-6);if(u==="UUID")return(0,L.generateUuid)()}}e.RandomBasedVariableResolver=r}),define(se[326],re([1,0,18,2,8,63,3,24,34,37,143,178,93,798,398]),function(q,e,w,m,k,D,L,b,C,h,g,t,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SnippetSession=e.OneSnippet=void 0;class o{constructor(r,s,a){this._editor=r,this._snippet=s,this._snippetLineLeadingWhitespace=a,this._offset=-1,this._nestingLevel=1,this._placeholderGroups=(0,w.groupBy)(s.placeholders,i.Placeholder.compareByIndex),this._placeholderGroupsIdx=-1}initialize(r){this._offset=r.newPosition}dispose(){this._placeholderDecorations&&this._editor.removeDecorations([...this._placeholderDecorations.values()]),this._placeholderGroups.length=0}_initDecorations(){if(this._offset===-1)throw new Error("Snippet not initialized!");if(this._placeholderDecorations)return;this._placeholderDecorations=new Map;const r=this._editor.getModel();this._editor.changeDecorations(s=>{for(const a of this._snippet.placeholders){const u=this._snippet.offset(a),p=this._snippet.fullLen(a),S=L.Range.fromPositions(r.getPositionAt(this._offset+u),r.getPositionAt(this._offset+u+p)),f=a.isFinalTabstop?o._decor.inactiveFinal:o._decor.inactive,v=s.addDecoration(S,f);this._placeholderDecorations.set(a,v)}})}move(r){if(!this._editor.hasModel())return[];if(this._initDecorations(),this._placeholderGroupsIdx>=0){const u=[];for(const p of this._placeholderGroups[this._placeholderGroupsIdx])if(p.transform){const S=this._placeholderDecorations.get(p),f=this._editor.getModel().getDecorationRange(S),v=this._editor.getModel().getValueInRange(f),_=p.transform.resolve(v).split(/\r\n|\r|\n/);for(let y=1;y<_.length;y++)_[y]=this._editor.getModel().normalizeIndentation(this._snippetLineLeadingWhitespace+_[y]);u.push(D.EditOperation.replace(f,_.join(this._editor.getModel().getEOL())))}u.length>0&&this._editor.executeEdits("snippet.placeholderTransform",u)}let s=!1;r===!0&&this._placeholderGroupsIdx<this._placeholderGroups.length-1?(this._placeholderGroupsIdx+=1,s=!0):r===!1&&this._placeholderGroupsIdx>0&&(this._placeholderGroupsIdx-=1,s=!0);const a=this._editor.getModel().changeDecorations(u=>{const p=new Set,S=[];for(const f of this._placeholderGroups[this._placeholderGroupsIdx]){const v=this._placeholderDecorations.get(f),_=this._editor.getModel().getDecorationRange(v);S.push(new b.Selection(_.startLineNumber,_.startColumn,_.endLineNumber,_.endColumn)),s=s&&this._hasPlaceholderBeenCollapsed(f),u.changeDecorationOptions(v,f.isFinalTabstop?o._decor.activeFinal:o._decor.active),p.add(f);for(const y of this._snippet.enclosingPlaceholders(f)){const E=this._placeholderDecorations.get(y);u.changeDecorationOptions(E,y.isFinalTabstop?o._decor.activeFinal:o._decor.active),p.add(y)}}for(const[f,v]of this._placeholderDecorations)p.has(f)||u.changeDecorationOptions(v,f.isFinalTabstop?o._decor.inactiveFinal:o._decor.inactive);return S});return s?this.move(r):a??[]}_hasPlaceholderBeenCollapsed(r){let s=r;for(;s;){if(s instanceof i.Placeholder){const a=this._placeholderDecorations.get(s);if(this._editor.getModel().getDecorationRange(a).isEmpty()&&s.toString().length>0)return!0}s=s.parent}return!1}get isAtFirstPlaceholder(){return this._placeholderGroupsIdx<=0||this._placeholderGroups.length===0}get isAtLastPlaceholder(){return this._placeholderGroupsIdx===this._placeholderGroups.length-1}get hasPlaceholder(){return this._snippet.placeholders.length>0}get isTrivialSnippet(){return this._snippet.placeholders.length===0||this._snippet.placeholders.length===1&&this._snippet.placeholders[0].isFinalTabstop}computePossibleSelections(){const r=new Map;for(const s of this._placeholderGroups){let a;for(const u of s){if(u.isFinalTabstop)break;a||(a=[],r.set(u.index,a));const p=this._placeholderDecorations.get(u),S=this._editor.getModel().getDecorationRange(p);if(!S){r.delete(u.index);break}a.push(S)}}return r}get activeChoice(){if(!this._placeholderDecorations)return;const r=this._placeholderGroups[this._placeholderGroupsIdx][0];if(!r?.choice)return;const s=this._placeholderDecorations.get(r);if(!s)return;const a=this._editor.getModel().getDecorationRange(s);if(!!a)return{range:a,choice:r.choice}}get hasChoice(){let r=!1;return this._snippet.walk(s=>(r=s instanceof i.Choice,!r)),r}merge(r){const s=this._editor.getModel();this._nestingLevel*=10,this._editor.changeDecorations(a=>{for(const u of this._placeholderGroups[this._placeholderGroupsIdx]){const p=r.shift();console.assert(p._offset!==-1),console.assert(!p._placeholderDecorations);const S=p._snippet.placeholderInfo.last.index;for(const v of p._snippet.placeholderInfo.all)v.isFinalTabstop?v.index=u.index+(S+1)/this._nestingLevel:v.index=u.index+v.index/this._nestingLevel;this._snippet.replace(u,p._snippet.children);const f=this._placeholderDecorations.get(u);a.removeDecoration(f),this._placeholderDecorations.delete(u);for(const v of p._snippet.placeholders){const _=p._snippet.offset(v),y=p._snippet.fullLen(v),E=L.Range.fromPositions(s.getPositionAt(p._offset+_),s.getPositionAt(p._offset+_+y)),T=a.addDecoration(E,o._decor.inactive);this._placeholderDecorations.set(v,T)}}this._placeholderGroups=(0,w.groupBy)(this._snippet.placeholders,i.Placeholder.compareByIndex)})}}e.OneSnippet=o,o._decor={active:h.ModelDecorationOptions.register({description:"snippet-placeholder-1",stickiness:0,className:"snippet-placeholder"}),inactive:h.ModelDecorationOptions.register({description:"snippet-placeholder-2",stickiness:1,className:"snippet-placeholder"}),activeFinal:h.ModelDecorationOptions.register({description:"snippet-placeholder-3",stickiness:1,className:"finish-snippet-placeholder"}),inactiveFinal:h.ModelDecorationOptions.register({description:"snippet-placeholder-4",stickiness:1,className:"finish-snippet-placeholder"})};const l={overwriteBefore:0,overwriteAfter:0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let c=class wt{static adjustWhitespace(r,s,a,u,p){const S=r.getLineContent(s.lineNumber),f=(0,k.getLeadingWhitespace)(S,0,s.column-1);let v;return a.walk(_=>{if(!(_ instanceof i.Text)||_.parent instanceof i.Choice)return!0;const y=_.value.split(/\r\n|\r|\n/);if(u){const T=a.offset(_);if(T===0)y[0]=r.normalizeIndentation(y[0]);else{v=v??a.toString();const I=v.charCodeAt(T-1);(I===10||I===13)&&(y[0]=r.normalizeIndentation(f+y[0]))}for(let I=1;I<y.length;I++)y[I]=r.normalizeIndentation(f+y[I])}const E=y.join(r.getEOL());return E!==_.value&&(_.parent.replace(_,[new i.Text(E)]),v=void 0),!0}),f}static adjustSelection(r,s,a,u){if(a!==0||u!==0){const{positionLineNumber:p,positionColumn:S}=s,f=S-a,v=S+u,_=r.validateRange({startLineNumber:p,startColumn:f,endLineNumber:p,endColumn:v});s=b.Selection.createWithDirection(_.startLineNumber,_.startColumn,_.endLineNumber,_.endColumn,s.getDirection())}return s}static createEditsAndSnippetsFromSelections(r,s,a,u,p,S,f,v,_){const y=[],E=[];if(!r.hasModel())return{edits:y,snippets:E};const T=r.getModel(),I=r.invokeWithinContext(B=>B.get(t.IWorkspaceContextService)),R=r.invokeWithinContext(B=>new n.ModelBasedVariableResolver(B.get(g.ILabelService),T)),F=()=>f,O=T.getValueInRange(wt.adjustSelection(T,r.getSelection(),a,0)),M=T.getValueInRange(wt.adjustSelection(T,r.getSelection(),0,u)),N=T.getLineFirstNonWhitespaceColumn(r.getSelection().positionLineNumber),A=r.getSelections().map((B,W)=>({selection:B,idx:W})).sort((B,W)=>L.Range.compareRangesUsingStarts(B.selection,W.selection));for(const{selection:B,idx:W}of A){let x=wt.adjustSelection(T,B,a,0),P=wt.adjustSelection(T,B,0,u);O!==T.getValueInRange(x)&&(x=B),M!==T.getValueInRange(P)&&(P=B);const X=B.setStartPosition(x.startLineNumber,x.startColumn).setEndPosition(P.endLineNumber,P.endColumn),ie=new i.SnippetParser().parse(s,!0,p),K=X.getStartPosition(),G=wt.adjustWhitespace(T,K,ie,S||W>0&&N!==T.getLineFirstNonWhitespaceColumn(B.positionLineNumber),!0);ie.resolveVariables(new n.CompositeSnippetVariableResolver([R,new n.ClipboardBasedVariableResolver(F,W,A.length,r.getOption(72)==="spread"),new n.SelectionBasedVariableResolver(T,B,W,v),new n.CommentBasedVariableResolver(T,B,_),new n.TimeBasedVariableResolver,new n.WorkspaceBasedVariableResolver(I),new n.RandomBasedVariableResolver])),y[W]=D.EditOperation.replace(X,ie.toString()),y[W].identifier={major:W,minor:0},y[W]._isTracked=!0,E[W]=new o(r,ie,G)}return{edits:y,snippets:E}}static createEditsAndSnippetsFromEdits(r,s,a,u,p,S,f){if(!r.hasModel()||s.length===0)return{edits:[],snippets:[]};const v=[],_=r.getModel(),y=new i.SnippetParser,E=new i.TextmateSnippet,T=new n.CompositeSnippetVariableResolver([r.invokeWithinContext(R=>new n.ModelBasedVariableResolver(R.get(g.ILabelService),_)),new n.ClipboardBasedVariableResolver(()=>p,0,r.getSelections().length,r.getOption(72)==="spread"),new n.SelectionBasedVariableResolver(_,r.getSelection(),0,S),new n.CommentBasedVariableResolver(_,r.getSelection(),f),new n.TimeBasedVariableResolver,new n.WorkspaceBasedVariableResolver(r.invokeWithinContext(R=>R.get(t.IWorkspaceContextService))),new n.RandomBasedVariableResolver]);s=s.sort((R,F)=>L.Range.compareRangesUsingStarts(R.range,F.range));let I=0;for(let R=0;R<s.length;R++){const{range:F,template:O}=s[R];if(R>0){const B=s[R-1].range,W=L.Range.fromPositions(B.getEndPosition(),F.getStartPosition()),x=new i.Text(_.getValueInRange(W));E.appendChild(x),I+=x.value.length}y.parseFragment(O,E),E.resolveVariables(T);const M=E.toString(),N=M.slice(I);I=M.length;const A=D.EditOperation.replace(F,N);A.identifier={major:R,minor:0},A._isTracked=!0,v.push(A)}return y.ensureFinalTabstop(E,a,!0),{edits:v,snippets:[new o(r,E,"")]}}constructor(r,s,a=l,u){this._editor=r,this._template=s,this._options=a,this._languageConfigurationService=u,this._templateMerges=[],this._snippets=[]}dispose(){(0,m.dispose)(this._snippets)}_logInfo(){return`template="${this._template}", merged_templates="${this._templateMerges.join(" -> ")}"`}insert(){if(!this._editor.hasModel())return;const{edits:r,snippets:s}=typeof this._template=="string"?wt.createEditsAndSnippetsFromSelections(this._editor,this._template,this._options.overwriteBefore,this._options.overwriteAfter,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer,this._languageConfigurationService):wt.createEditsAndSnippetsFromEdits(this._editor,this._template,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer,this._languageConfigurationService);this._snippets=s,this._editor.executeEdits("snippet",r,a=>{const u=a.filter(p=>!!p.identifier);for(let p=0;p<s.length;p++)s[p].initialize(u[p].textChange);return this._snippets[0].hasPlaceholder?this._move(!0):u.map(p=>b.Selection.fromPositions(p.range.getEndPosition()))}),this._editor.revealRange(this._editor.getSelections()[0])}merge(r,s=l){if(!this._editor.hasModel())return;this._templateMerges.push([this._snippets[0]._nestingLevel,this._snippets[0]._placeholderGroupsIdx,r]);const{edits:a,snippets:u}=wt.createEditsAndSnippetsFromSelections(this._editor,r,s.overwriteBefore,s.overwriteAfter,!0,s.adjustWhitespace,s.clipboardText,s.overtypingCapturer,this._languageConfigurationService);this._editor.executeEdits("snippet",a,p=>{const S=p.filter(v=>!!v.identifier);for(let v=0;v<u.length;v++)u[v].initialize(S[v].textChange);const f=u[0].isTrivialSnippet;if(!f){for(const v of this._snippets)v.merge(u);console.assert(u.length===0)}return this._snippets[0].hasPlaceholder&&!f?this._move(void 0):S.map(v=>b.Selection.fromPositions(v.range.getEndPosition()))})}next(){const r=this._move(!0);this._editor.setSelections(r),this._editor.revealPositionInCenterIfOutsideViewport(r[0].getPosition())}prev(){const r=this._move(!1);this._editor.setSelections(r),this._editor.revealPositionInCenterIfOutsideViewport(r[0].getPosition())}_move(r){const s=[];for(const a of this._snippets){const u=a.move(r);s.push(...u)}return s}get isAtFirstPlaceholder(){return this._snippets[0].isAtFirstPlaceholder}get isAtLastPlaceholder(){return this._snippets[0].isAtLastPlaceholder}get hasPlaceholder(){return this._snippets[0].hasPlaceholder}get hasChoice(){return this._snippets[0].hasChoice}get activeChoice(){return this._snippets[0].activeChoice}isSelectionWithinPlaceholders(){if(!this.hasPlaceholder)return!1;const r=this._editor.getSelections();if(r.length<this._snippets.length)return!1;const s=new Map;for(const a of this._snippets){const u=a.computePossibleSelections();if(s.size===0)for(const[p,S]of u){S.sort(L.Range.compareRangesUsingStarts);for(const f of r)if(S[0].containsRange(f)){s.set(p,[]);break}}if(s.size===0)return!1;s.forEach((p,S)=>{p.push(...u.get(S))})}r.sort(L.Range.compareRangesUsingStarts);for(const[a,u]of s){if(u.length!==r.length){s.delete(a);continue}u.sort(L.Range.compareRangesUsingStarts);for(let p=0;p<u.length;p++)if(!u[p].containsRange(r[p])){s.delete(a);continue}}return s.size>0}};c=De([fe(3,C.ILanguageConfigurationService)],c),e.SnippetSession=c}),define(se[179],re([1,0,2,19,13,11,25,34,20,104,613,15,72,326]),function(q,e,w,m,k,D,L,b,C,h,g,t,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SnippetController2=void 0;const o={overwriteBefore:0,overwriteAfter:0,undoStopBefore:!0,undoStopAfter:!0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let l=class Bt{static get(r){return r.getContribution(Bt.ID)}constructor(r,s,a,u,p){this._editor=r,this._logService=s,this._languageFeaturesService=a,this._languageConfigurationService=p,this._snippetListener=new w.DisposableStore,this._modelVersionId=-1,this._inSnippet=Bt.InSnippetMode.bindTo(u),this._hasNextTabstop=Bt.HasNextTabstop.bindTo(u),this._hasPrevTabstop=Bt.HasPrevTabstop.bindTo(u)}dispose(){var r;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),(r=this._session)===null||r===void 0||r.dispose(),this._snippetListener.dispose()}insert(r,s){try{this._doInsert(r,typeof s>"u"?o:Object.assign(Object.assign({},o),s))}catch(a){this.cancel(),this._logService.error(a),this._logService.error("snippet_error"),this._logService.error("insert_template=",r),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}}_doInsert(r,s){var a;if(!!this._editor.hasModel()){if(this._snippetListener.clear(),s.undoStopBefore&&this._editor.getModel().pushStackElement(),this._session&&typeof r!="string"&&this.cancel(),this._session?((0,m.assertType)(typeof r=="string"),this._session.merge(r,s)):(this._modelVersionId=this._editor.getModel().getAlternativeVersionId(),this._session=new n.SnippetSession(this._editor,r,s,this._languageConfigurationService),this._session.insert()),s.undoStopAfter&&this._editor.getModel().pushStackElement(),!((a=this._session)===null||a===void 0)&&a.hasChoice){this._choiceCompletionItemProvider={provideCompletionItems:(p,S)=>{if(!this._session||p!==this._editor.getModel()||!D.Position.equals(this._editor.getPosition(),S))return;const{activeChoice:f}=this._session;if(!f||f.choice.options.length===0)return;const v=p.getValueInRange(f.range),_=Boolean(f.choice.options.find(E=>E.value===v)),y=[];for(let E=0;E<f.choice.options.length;E++){const T=f.choice.options[E];y.push({kind:13,label:T.value,insertText:T.value,sortText:"a".repeat(E+1),range:f.range,filterText:_?`${v}_${T.value}`:void 0,command:{id:"jumpToNextSnippetPlaceholder",title:(0,g.localize)(3,null)}})}return{suggestions:y}}};const u=this._languageFeaturesService.completionProvider.register({language:this._editor.getModel().getLanguageId(),pattern:this._editor.getModel().uri.fsPath,scheme:this._editor.getModel().uri.scheme},this._choiceCompletionItemProvider);this._snippetListener.add(u)}this._updateState(),this._snippetListener.add(this._editor.onDidChangeModelContent(u=>u.isFlush&&this.cancel())),this._snippetListener.add(this._editor.onDidChangeModel(()=>this.cancel())),this._snippetListener.add(this._editor.onDidChangeCursorSelection(()=>this._updateState()))}}_updateState(){if(!(!this._session||!this._editor.hasModel())){if(this._modelVersionId===this._editor.getModel().getAlternativeVersionId())return this.cancel();if(!this._session.hasPlaceholder)return this.cancel();if(this._session.isAtLastPlaceholder||!this._session.isSelectionWithinPlaceholders())return this._editor.getModel().pushStackElement(),this.cancel();this._inSnippet.set(!0),this._hasPrevTabstop.set(!this._session.isAtFirstPlaceholder),this._hasNextTabstop.set(!this._session.isAtLastPlaceholder),this._handleChoice()}}_handleChoice(){if(!this._session||!this._editor.hasModel()){this._currentChoice=void 0;return}const{activeChoice:r}=this._session;if(!r||!this._choiceCompletionItemProvider){this._currentChoice=void 0;return}this._currentChoice!==r.choice&&(this._currentChoice=r.choice,queueMicrotask(()=>{(0,h.showSimpleSuggestions)(this._editor,this._choiceCompletionItemProvider)}))}finish(){for(;this._inSnippet.get();)this.next()}cancel(r=!1){var s;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),this._snippetListener.clear(),this._currentChoice=void 0,(s=this._session)===null||s===void 0||s.dispose(),this._session=void 0,this._modelVersionId=-1,r&&this._editor.setSelections([this._editor.getSelection()])}prev(){var r;(r=this._session)===null||r===void 0||r.prev(),this._updateState()}next(){var r;(r=this._session)===null||r===void 0||r.next(),this._updateState()}isInSnippet(){return Boolean(this._inSnippet.get())}};l.ID="snippetController2",l.InSnippetMode=new t.RawContextKey("inSnippetMode",!1,(0,g.localize)(0,null)),l.HasNextTabstop=new t.RawContextKey("hasNextTabstop",!1,(0,g.localize)(1,null)),l.HasPrevTabstop=new t.RawContextKey("hasPrevTabstop",!1,(0,g.localize)(2,null)),l=De([fe(1,i.ILogService),fe(2,C.ILanguageFeaturesService),fe(3,t.IContextKeyService),fe(4,b.ILanguageConfigurationService)],l),e.SnippetController2=l,(0,k.registerEditorContribution)(l.ID,l);const c=k.EditorCommand.bindToContribution(l.get);(0,k.registerEditorCommand)(new c({id:"jumpToNextSnippetPlaceholder",precondition:t.ContextKeyExpr.and(l.InSnippetMode,l.HasNextTabstop),handler:d=>d.next(),kbOpts:{weight:100+30,kbExpr:L.EditorContextKeys.editorTextFocus,primary:2}})),(0,k.registerEditorCommand)(new c({id:"jumpToPrevSnippetPlaceholder",precondition:t.ContextKeyExpr.and(l.InSnippetMode,l.HasPrevTabstop),handler:d=>d.prev(),kbOpts:{weight:100+30,kbExpr:L.EditorContextKeys.editorTextFocus,primary:1026}})),(0,k.registerEditorCommand)(new c({id:"leaveSnippet",precondition:l.InSnippetMode,handler:d=>d.cancel(!0),kbOpts:{weight:100+30,kbExpr:L.EditorContextKeys.editorTextFocus,primary:9,secondary:[1033]}})),(0,k.registerEditorCommand)(new c({id:"acceptSnippet",precondition:l.InSnippetMode,handler:d=>d.finish()}))}),define(se[327],re([1,0,10,21,14,6,2,171,63,3,28,167,26,194,211,34,438,20,73,93,179,83,62,195,30]),function(q,e,w,m,k,D,L,b,C,h,g,t,i,n,o,l,c,d,r,s,a,u,p,S,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.provideInlineCompletions=e.SynchronizedInlineCompletionsCache=e.UpdateOperation=e.InlineCompletionsSession=e.InlineCompletionsModel=void 0;let v=class extends L.Disposable{constructor(M,N,A,B,W,x,P){super(),this.editor=M,this.cache=N,this.commandService=A,this.languageConfigurationService=B,this.languageFeaturesService=W,this.debounceService=x,this.onDidChangeEmitter=new D.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this.completionSession=this._register(new L.MutableDisposable),this.active=!1,this.disposed=!1,this.debounceValue=this.debounceService.for(this.languageFeaturesService.inlineCompletionsProvider,"InlineCompletionsDebounce",{min:50,max:50}),this._register(A.onDidExecuteCommand(X=>{new Set([b.CoreEditingCommands.Tab.id,b.CoreEditingCommands.DeleteLeft.id,b.CoreEditingCommands.DeleteRight.id,n.inlineSuggestCommitId,"acceptSelectedSuggestion"]).has(X.commandId)&&M.hasTextFocus()&&this.handleUserInput()})),this._register(this.editor.onDidType(X=>{this.handleUserInput()})),this._register(this.editor.onDidChangeCursorPosition(X=>{(X.reason===3||this.session&&!this.session.isValid)&&this.hide()})),this._register((0,L.toDisposable)(()=>{this.disposed=!0})),this._register(this.editor.onDidBlurEditorWidget(()=>{P.getValue("editor.inlineSuggest.hideOnBlur")||this.hide()}))}handleUserInput(){this.session&&!this.session.isValid&&this.hide(),setTimeout(()=>{this.disposed||this.startSessionIfTriggered()},0)}get session(){return this.completionSession.value}get ghostText(){var M;return(M=this.session)===null||M===void 0?void 0:M.ghostText}get minReservedLineCount(){return this.session?this.session.minReservedLineCount:0}setExpanded(M){var N;(N=this.session)===null||N===void 0||N.setExpanded(M)}setActive(M){var N;this.active=M,M&&((N=this.session)===null||N===void 0||N.scheduleAutomaticUpdate())}startSessionIfTriggered(){!this.editor.getOption(56).enabled||this.session&&this.session.isValid||this.trigger(g.InlineCompletionTriggerKind.Automatic)}trigger(M){if(this.completionSession.value){M===g.InlineCompletionTriggerKind.Explicit&&this.completionSession.value.ensureUpdateWithExplicitContext();return}this.completionSession.value=new _(this.editor,this.editor.getPosition(),()=>this.active,this.commandService,this.cache,M,this.languageConfigurationService,this.languageFeaturesService.inlineCompletionsProvider,this.debounceValue),this.completionSession.value.takeOwnership(this.completionSession.value.onDidChange(()=>{this.onDidChangeEmitter.fire()}))}hide(){this.completionSession.clear(),this.onDidChangeEmitter.fire()}commitCurrentSuggestion(){var M;(M=this.session)===null||M===void 0||M.commitCurrentCompletion()}showNext(){var M;(M=this.session)===null||M===void 0||M.showNextInlineCompletion()}showPrevious(){var M;(M=this.session)===null||M===void 0||M.showPreviousInlineCompletion()}hasMultipleInlineCompletions(){var M;return Se(this,void 0,void 0,function*(){const N=yield(M=this.session)===null||M===void 0?void 0:M.hasMultipleInlineCompletions();return N!==void 0?N:!1})}};v=De([fe(2,i.ICommandService),fe(3,l.ILanguageConfigurationService),fe(4,d.ILanguageFeaturesService),fe(5,r.ILanguageFeatureDebounceService),fe(6,f.IConfigurationService)],v),e.InlineCompletionsModel=v;class _ extends t.BaseGhostTextWidgetModel{constructor(M,N,A,B,W,x,P,X,ie){super(M),this.triggerPosition=N,this.shouldUpdate=A,this.commandService=B,this.cache=W,this.initialTriggerKind=x,this.languageConfigurationService=P,this.registry=X,this.debounce=ie,this.minReservedLineCount=0,this.updateOperation=this._register(new L.MutableDisposable),this.updateSoon=this._register(new w.RunOnceScheduler(()=>{const G=this.initialTriggerKind;return this.initialTriggerKind=g.InlineCompletionTriggerKind.Automatic,this.update(G)},50)),this.filteredCompletions=[],this.currentlySelectedCompletionId=void 0;let K;this._register(this.onDidChange(()=>{var G;const Q=this.currentCompletion;if(Q&&Q.sourceInlineCompletion!==K){K=Q.sourceInlineCompletion;const ne=Q.sourceProvider;(G=ne.handleItemDidShow)===null||G===void 0||G.call(ne,Q.sourceInlineCompletions,K)}})),this._register((0,L.toDisposable)(()=>{this.cache.clear()})),this._register(this.editor.onDidChangeCursorPosition(G=>{var Q;G.reason!==3&&((Q=this.cache.value)===null||Q===void 0||Q.updateRanges(),this.cache.value&&(this.updateFilteredInlineCompletions(),this.onDidChangeEmitter.fire()))})),this._register(this.editor.onDidChangeModelContent(G=>{var Q;(Q=this.cache.value)===null||Q===void 0||Q.updateRanges(),this.updateFilteredInlineCompletions(),this.scheduleAutomaticUpdate()})),this._register(this.registry.onDidChange(()=>{this.updateSoon.schedule(this.debounce.get(this.editor.getModel()))})),this.scheduleAutomaticUpdate()}updateFilteredInlineCompletions(){if(!this.cache.value){this.filteredCompletions=[];return}const M=this.editor.getModel(),N=M.validatePosition(this.editor.getPosition());this.filteredCompletions=this.cache.value.completions.filter(A=>{const B=M.getValueInRange(A.synchronizedRange).toLowerCase(),W=A.inlineCompletion.filterText.toLowerCase(),x=M.getLineIndentColumn(A.synchronizedRange.startLineNumber),P=Math.max(0,N.column-A.synchronizedRange.startColumn);let X=W.substring(0,P),ie=W.substring(P),K=B.substring(0,P),G=B.substring(P);return A.synchronizedRange.startColumn<=x&&(K=K.trimStart(),K.length===0&&(G=G.trimStart()),X=X.trimStart(),X.length===0&&(ie=ie.trimStart())),X.startsWith(K)&&(0,p.matchesSubString)(G,ie)})}fixAndGetIndexOfCurrentSelection(){if(!this.currentlySelectedCompletionId||!this.cache.value||this.cache.value.completions.length===0)return 0;const M=this.filteredCompletions.findIndex(N=>N.semanticId===this.currentlySelectedCompletionId);return M===-1?(this.currentlySelectedCompletionId=void 0,0):M}get currentCachedCompletion(){if(!!this.cache.value)return this.filteredCompletions[this.fixAndGetIndexOfCurrentSelection()]}showNextInlineCompletion(){return Se(this,void 0,void 0,function*(){yield this.ensureUpdateWithExplicitContext();const M=this.filteredCompletions||[];if(M.length>0){const N=(this.fixAndGetIndexOfCurrentSelection()+1)%M.length;this.currentlySelectedCompletionId=M[N].semanticId}else this.currentlySelectedCompletionId=void 0;this.onDidChangeEmitter.fire()})}showPreviousInlineCompletion(){return Se(this,void 0,void 0,function*(){yield this.ensureUpdateWithExplicitContext();const M=this.filteredCompletions||[];if(M.length>0){const N=(this.fixAndGetIndexOfCurrentSelection()+M.length-1)%M.length;this.currentlySelectedCompletionId=M[N].semanticId}else this.currentlySelectedCompletionId=void 0;this.onDidChangeEmitter.fire()})}ensureUpdateWithExplicitContext(){var M;return Se(this,void 0,void 0,function*(){this.updateOperation.value?this.updateOperation.value.triggerKind===g.InlineCompletionTriggerKind.Explicit?yield this.updateOperation.value.promise:yield this.update(g.InlineCompletionTriggerKind.Explicit):((M=this.cache.value)===null||M===void 0?void 0:M.triggerKind)!==g.InlineCompletionTriggerKind.Explicit&&(yield this.update(g.InlineCompletionTriggerKind.Explicit))})}hasMultipleInlineCompletions(){var M;return Se(this,void 0,void 0,function*(){return yield this.ensureUpdateWithExplicitContext(),(((M=this.cache.value)===null||M===void 0?void 0:M.completions.length)||0)>1})}get ghostText(){const M=this.currentCompletion;if(!M)return;const N=this.editor.getPosition();if(M.range.getEndPosition().isBefore(N))return;const A=this.editor.getOptions().get(56).mode,B=(0,o.inlineCompletionToGhostText)(M,this.editor.getModel(),A,N);return B?B.isEmpty()?void 0:B:new t.GhostTextReplacement(M.range.startLineNumber,M.range.startColumn,M.range.endColumn-M.range.startColumn,M.insertText.split(`
`),0)}get currentCompletion(){const M=this.currentCachedCompletion;if(!!M)return M.toLiveInlineCompletion()}get isValid(){return this.editor.getPosition().lineNumber===this.triggerPosition.lineNumber}scheduleAutomaticUpdate(){this.updateOperation.clear(),this.updateSoon.schedule(this.debounce.get(this.editor.getModel()))}update(M){return Se(this,void 0,void 0,function*(){if(!this.shouldUpdate())return;const N=this.editor.getPosition(),A=new Date,B=(0,w.createCancelablePromise)(x=>Se(this,void 0,void 0,function*(){let P;try{P=yield I(this.registry,N,this.editor.getModel(),{triggerKind:M,selectedSuggestionInfo:void 0},x,this.languageConfigurationService);const X=new Date;this.debounce.update(this.editor.getModel(),X.getTime()-A.getTime())}catch(X){(0,k.onUnexpectedError)(X);return}x.isCancellationRequested||(this.cache.setValue(this.editor,P,M),this.updateFilteredInlineCompletions(),this.onDidChangeEmitter.fire())})),W=new y(B,M);this.updateOperation.value=W,yield B,this.updateOperation.value===W&&this.updateOperation.clear()})}takeOwnership(M){this._register(M)}commitCurrentCompletion(){if(!this.ghostText)return;const N=this.currentCompletion;N&&this.commit(N)}commit(M){var N;const A=this.cache.clearAndLeak();this.editor.pushUndoStop(),M.snippetInfo?(this.editor.executeEdits("inlineSuggestion.accept",[C.EditOperation.replaceMove(M.range,""),...M.additionalTextEdits]),this.editor.setPosition(M.snippetInfo.range.getStartPosition()),(N=a.SnippetController2.get(this.editor))===null||N===void 0||N.insert(M.snippetInfo.snippet)):this.editor.executeEdits("inlineSuggestion.accept",[C.EditOperation.replaceMove(M.range,M.insertText),...M.additionalTextEdits]),M.command?this.commandService.executeCommand(M.command.id,...M.command.arguments||[]).finally(()=>{A?.dispose()}).then(void 0,k.onUnexpectedExternalError):A?.dispose(),this.onDidChangeEmitter.fire()}get commands(){var M;return[...new Set(((M=this.cache.value)===null||M===void 0?void 0:M.completions.map(A=>A.inlineCompletion.sourceInlineCompletions))||[])].flatMap(A=>A.commands||[])}}e.InlineCompletionsSession=_;class y{constructor(M,N){this.promise=M,this.triggerKind=N}dispose(){this.promise.cancel()}}e.UpdateOperation=y;class E extends L.Disposable{constructor(M,N,A,B){super(),this.editor=N,this.onChange=A,this.triggerKind=B,this.isDisposing=!1;const W=N.changeDecorations(x=>x.deltaDecorations([],M.items.map(P=>({range:P.range,options:{description:"inline-completion-tracking-range"}}))));this._register((0,L.toDisposable)(()=>{this.isDisposing=!0,N.removeDecorations(W)})),this.completions=M.items.map((x,P)=>new T(x,W[P])),this._register(N.onDidChangeModelContent(()=>{this.updateRanges()})),this._register(M)}updateRanges(){if(this.isDisposing)return;let M=!1;const N=this.editor.getModel();for(const A of this.completions){const B=N.getDecorationRange(A.decorationId);if(!B){(0,k.onUnexpectedError)(new Error("Decoration has no range"));continue}A.synchronizedRange.equalsRange(B)||(M=!0,A.synchronizedRange=B)}M&&this.onChange()}}e.SynchronizedInlineCompletionsCache=E;class T{constructor(M,N){this.inlineCompletion=M,this.decorationId=N,this.semanticId=JSON.stringify({text:this.inlineCompletion.insertText,abbreviation:this.inlineCompletion.filterText,startLine:this.inlineCompletion.range.startLineNumber,startColumn:this.inlineCompletion.range.startColumn,command:this.inlineCompletion.command}),this.synchronizedRange=M.range}toLiveInlineCompletion(){return{insertText:this.inlineCompletion.insertText,range:this.synchronizedRange,command:this.inlineCompletion.command,sourceProvider:this.inlineCompletion.sourceProvider,sourceInlineCompletions:this.inlineCompletion.sourceInlineCompletions,sourceInlineCompletion:this.inlineCompletion.sourceInlineCompletion,snippetInfo:this.inlineCompletion.snippetInfo,filterText:this.inlineCompletion.filterText,additionalTextEdits:this.inlineCompletion.additionalTextEdits}}}function I(O,M,N,A,B=m.CancellationToken.None,W){return Se(this,void 0,void 0,function*(){const x=R(M,N),P=O.all(N),X=yield Promise.all(P.map(K=>Se(this,void 0,void 0,function*(){const G=yield Promise.resolve(K.provideInlineCompletions(N,M,A,B)).catch(k.onUnexpectedExternalError);return{completions:G,provider:K,dispose:()=>{G&&K.freeInlineCompletions(G)}}}))),ie=new Map;for(const K of X){const G=K.completions;if(!!G)for(const Q of G.items){let ne=Q.range?h.Range.lift(Q.range):x;if(ne.startLineNumber!==ne.endLineNumber)continue;let Z,ee;if(typeof Q.insertText=="string"){if(Z=Q.insertText,W&&Q.completeBracketPairs){Z=F(Z,ne.getStartPosition(),N,W);const V=Z.length-Q.insertText.length;V!==0&&(ne=new h.Range(ne.startLineNumber,ne.startColumn,ne.endLineNumber,ne.endColumn+V))}ee=void 0}else if("snippet"in Q.insertText){const V=Q.insertText.snippet.length;if(W&&Q.completeBracketPairs){Q.insertText.snippet=F(Q.insertText.snippet,ne.getStartPosition(),N,W);const oe=Q.insertText.snippet.length-V;oe!==0&&(ne=new h.Range(ne.startLineNumber,ne.startColumn,ne.endLineNumber,ne.endColumn+oe))}Z=new s.SnippetParser().parse(Q.insertText.snippet).toString(),ee={snippet:Q.insertText.snippet,range:ne}}else(0,u.assertNever)(Q.insertText);const le={insertText:Z,snippetInfo:ee,range:ne,command:Q.command,sourceProvider:K.provider,sourceInlineCompletions:G,sourceInlineCompletion:Q,filterText:Q.filterText||Z,additionalTextEdits:Q.additionalTextEdits||(0,S.getReadonlyEmptyArray)()};ie.set(JSON.stringify({insertText:Z,range:Q.range}),le)}}return{items:[...ie.values()],dispose:()=>{for(const K of X)K.dispose()}}})}e.provideInlineCompletions=I;function R(O,M){const N=M.getWordAtPosition(O),A=M.getLineMaxColumn(O.lineNumber);return N?new h.Range(O.lineNumber,N.startColumn,O.lineNumber,A):h.Range.fromPositions(O,O.with(void 0,A))}function F(O,M,N,A){const W=N.getLineContent(M.lineNumber).substring(0,M.column-1)+O,x=N.tokenization.tokenizeLineWithEdit(M,W.length-(M.column-1),O),P=x?.sliceAndInflate(M.column-1,W.length,0);return P?(0,c.fixBracketsInLine)(P,A):O}}),define(se[799],re([1,0,10,21,14,6,2,8,24,103,179,256,95,30,15,72,81,255,104,20,62,19]),function(q,e,w,m,k,D,L,b,C,h,g,t,i,n,o,l,c,d,r,s,a,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestModel=e.LineContext=void 0;class p{static shouldAutoTrigger(E){if(!E.hasModel())return!1;const T=E.getModel(),I=E.getPosition();T.tokenization.tokenizeIfCheap(I.lineNumber);const R=T.getWordAtPosition(I);return!(!R||R.endColumn!==I.column||!isNaN(Number(R.word)))}constructor(E,T,I,R,F){this.leadingLineContent=E.getLineContent(T.lineNumber).substr(0,T.column-1),this.leadingWord=E.getWordUntilPosition(T),this.lineNumber=T.lineNumber,this.column=T.column,this.auto=I,this.shy=R,this.noSelect=F}}e.LineContext=p;function S(y){return y.getOption(108).preview}function f(y,E,T){if(!Boolean(E.getContextKeyValue("inlineSuggestionVisible")))return!0;const I=T.getValue("editor.inlineSuggest.allowQuickSuggestions");return I!==void 0?Boolean(I):!1}function v(y,E,T){if(!Boolean(E.getContextKeyValue("inlineSuggestionVisible")))return!0;const I=T.getValue("editor.inlineSuggest.allowSuggestOnTriggerCharacters");return I!==void 0?Boolean(I):!1}let _=class tn{constructor(E,T,I,R,F,O,M,N){this._editor=E,this._editorWorkerService=T,this._clipboardService=I,this._telemetryService=R,this._logService=F,this._contextKeyService=O,this._configurationService=M,this._languageFeaturesService=N,this._toDispose=new L.DisposableStore,this._triggerCharacterListener=new L.DisposableStore,this._triggerQuickSuggest=new w.TimeoutTimer,this._state=0,this._completionDisposables=new L.DisposableStore,this._onDidCancel=new D.Emitter,this._onDidTrigger=new D.Emitter,this._onDidSuggest=new D.Emitter,this.onDidCancel=this._onDidCancel.event,this.onDidTrigger=this._onDidTrigger.event,this.onDidSuggest=this._onDidSuggest.event,this._telemetryGate=0,this._currentSelection=this._editor.getSelection()||new C.Selection(1,1,1,1),this._toDispose.add(this._editor.onDidChangeModel(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeModelLanguage(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeConfiguration(()=>{this._updateTriggerCharacters()})),this._toDispose.add(this._languageFeaturesService.completionProvider.onDidChange(()=>{this._updateTriggerCharacters(),this._updateActiveSuggestSession()}));let A=!1;this._toDispose.add(this._editor.onDidCompositionStart(()=>{A=!0})),this._toDispose.add(this._editor.onDidCompositionEnd(()=>{A=!1,this._onCompositionEnd()})),this._toDispose.add(this._editor.onDidChangeCursorSelection(B=>{A||this._onCursorChange(B)})),this._toDispose.add(this._editor.onDidChangeModelContent(()=>{A||this._refilterCompletionItems()})),this._updateTriggerCharacters()}dispose(){(0,L.dispose)(this._triggerCharacterListener),(0,L.dispose)([this._onDidCancel,this._onDidSuggest,this._onDidTrigger,this._triggerQuickSuggest]),this._toDispose.dispose(),this._completionDisposables.dispose(),this.cancel()}_updateTriggerCharacters(){if(this._triggerCharacterListener.clear(),this._editor.getOption(82)||!this._editor.hasModel()||!this._editor.getOption(111))return;const E=new Map;for(const I of this._languageFeaturesService.completionProvider.all(this._editor.getModel()))for(const R of I.triggerCharacters||[]){let F=E.get(R);F||(F=new Set,F.add((0,r.getSnippetSuggestSupport)()),E.set(R,F)),F.add(I)}const T=I=>{if(!v(this._editor,this._contextKeyService,this._configurationService)||p.shouldAutoTrigger(this._editor))return;if(!I){const O=this._editor.getPosition();I=this._editor.getModel().getLineContent(O.lineNumber).substr(0,O.column-1)}let R="";(0,b.isLowSurrogate)(I.charCodeAt(I.length-1))?(0,b.isHighSurrogate)(I.charCodeAt(I.length-2))&&(R=I.substr(I.length-2)):R=I.charAt(I.length-1);const F=E.get(R);if(F){const O=this._completionModel?{items:this._completionModel.adopt(F),clipboardText:this._completionModel.clipboardText}:void 0;this.trigger({auto:!0,shy:!1,noSelect:!1,triggerCharacter:R},Boolean(this._completionModel),F,O)}};this._triggerCharacterListener.add(this._editor.onDidType(T)),this._triggerCharacterListener.add(this._editor.onDidCompositionEnd(()=>T()))}get state(){return this._state}cancel(E=!1){var T;this._state!==0&&(this._triggerQuickSuggest.cancel(),(T=this._requestToken)===null||T===void 0||T.cancel(),this._requestToken=void 0,this._state=0,this._completionModel=void 0,this._context=void 0,this._onDidCancel.fire({retrigger:E}))}clear(){this._completionDisposables.clear()}_updateActiveSuggestSession(){this._state!==0&&(!this._editor.hasModel()||!this._languageFeaturesService.completionProvider.has(this._editor.getModel())?this.cancel():this.trigger({auto:this._state===2,shy:!1,noSelect:!1},!0))}_onCursorChange(E){if(!this._editor.hasModel())return;const T=this._currentSelection;if(this._currentSelection=this._editor.getSelection(),!E.selection.isEmpty()||E.reason!==0&&E.reason!==3||E.source!=="keyboard"&&E.source!=="deleteLeft"){this.cancel();return}this._state===0&&E.reason===0?(T.containsRange(this._currentSelection)||T.getEndPosition().isBeforeOrEqual(this._currentSelection.getPosition()))&&this._doTriggerQuickSuggest():this._state!==0&&E.reason===3&&this._refilterCompletionItems()}_onCompositionEnd(){this._state===0?this._doTriggerQuickSuggest():this._refilterCompletionItems()}_doTriggerQuickSuggest(){var E;r.QuickSuggestionsOptions.isAllOff(this._editor.getOption(80))||this._editor.getOption(108).snippetsPreventQuickSuggestions&&((E=g.SnippetController2.get(this._editor))===null||E===void 0?void 0:E.isInSnippet())||(this.cancel(),this._triggerQuickSuggest.cancelAndSet(()=>{if(this._state!==0||!p.shouldAutoTrigger(this._editor)||!this._editor.hasModel()||!this._editor.hasWidgetFocus())return;const T=this._editor.getModel(),I=this._editor.getPosition(),R=this._editor.getOption(80);if(!r.QuickSuggestionsOptions.isAllOff(R)){if(!r.QuickSuggestionsOptions.isAllOn(R)){T.tokenization.tokenizeIfCheap(I.lineNumber);const F=T.tokenization.getLineTokens(I.lineNumber),O=F.getStandardTokenType(F.findTokenIndexAtOffset(Math.max(I.column-1-1,0)));if(r.QuickSuggestionsOptions.valueFor(R,O)!=="on")return}!f(this._editor,this._contextKeyService,this._configurationService)||!this._languageFeaturesService.completionProvider.has(T)||this.trigger({auto:!0,shy:!1,noSelect:!1})}},this._editor.getOption(81)))}_refilterCompletionItems(){(0,u.assertType)(this._editor.hasModel());const E=this._editor.getModel(),T=this._editor.getPosition(),I=new p(E,T,this._state===2,!1,!1);this._onNewContext(I)}trigger(E,T=!1,I,R,F){var O;if(!this._editor.hasModel())return;const M=this._editor.getModel(),N=E.auto,A=new p(M,this._editor.getPosition(),N,E.shy,E.noSelect);this.cancel(T),this._state=N?2:1,this._onDidTrigger.fire({auto:N,shy:E.shy,position:this._editor.getPosition()}),this._context=A;let B={triggerKind:(O=E.triggerKind)!==null&&O!==void 0?O:0};E.triggerCharacter&&(B={triggerKind:1,triggerCharacter:E.triggerCharacter}),this._requestToken=new m.CancellationTokenSource;const W=this._editor.getOption(102);let x=1;switch(W){case"top":x=0;break;case"bottom":x=2;break}const{itemKind:P,showDeprecated:X}=tn._createSuggestFilter(this._editor),ie=new r.CompletionOptions(x,F?new Set:P,I,X),K=t.WordDistance.create(this._editorWorkerService,this._editor),G=(0,r.provideSuggestionItems)(this._languageFeaturesService.completionProvider,M,this._editor.getPosition(),ie,B,this._requestToken.token);Promise.all([G,K]).then(([Q,ne])=>Se(this,void 0,void 0,function*(){var Z;if((Z=this._requestToken)===null||Z===void 0||Z.dispose(),!this._editor.hasModel())return;let ee=R?.clipboardText;if(!ee&&Q.needsClipboard&&(ee=yield this._clipboardService.readText()),this._state===0)return;const le=this._editor.getModel();let V=Q.items;if(R){const U=(0,r.getSuggestionComparator)(x);V=V.concat(R.items).sort(U)}const $=new p(le,this._editor.getPosition(),N,E.shy,E.noSelect),oe=Object.assign(Object.assign({},a.FuzzyScoreOptions.default),{firstMatchCanBeWeak:!this._editor.getOption(108).matchOnWordStartOnly});this._completionModel=new d.CompletionModel(V,this._context.column,{leadingLineContent:$.leadingLineContent,characterCountDelta:$.column-this._context.column},ne,this._editor.getOption(108),this._editor.getOption(102),oe,ee),this._completionDisposables.add(Q.disposable),this._onNewContext($),this._reportDurationsTelemetry(Q.durations)})).catch(k.onUnexpectedError)}_reportDurationsTelemetry(E){this._telemetryGate++%230===0&&setTimeout(()=>{this._telemetryService.publicLog2("suggest.durations.json",{data:JSON.stringify(E)}),this._logService.debug("suggest.durations.json",E)})}static _createSuggestFilter(E){const T=new Set;E.getOption(102)==="none"&&T.add(27);const R=E.getOption(108);return R.showMethods||T.add(0),R.showFunctions||T.add(1),R.showConstructors||T.add(2),R.showFields||T.add(3),R.showVariables||T.add(4),R.showClasses||T.add(5),R.showStructs||T.add(6),R.showInterfaces||T.add(7),R.showModules||T.add(8),R.showProperties||T.add(9),R.showEvents||T.add(10),R.showOperators||T.add(11),R.showUnits||T.add(12),R.showValues||T.add(13),R.showConstants||T.add(14),R.showEnums||T.add(15),R.showEnumMembers||T.add(16),R.showKeywords||T.add(17),R.showWords||T.add(18),R.showColors||T.add(19),R.showFiles||T.add(20),R.showReferences||T.add(21),R.showColors||T.add(22),R.showFolders||T.add(23),R.showTypeParameters||T.add(24),R.showSnippets||T.add(27),R.showUsers||T.add(25),R.showIssues||T.add(26),{itemKind:T,showDeprecated:R.showDeprecated}}_onNewContext(E){if(!!this._context){if(E.lineNumber!==this._context.lineNumber){this.cancel();return}if((0,b.getLeadingWhitespace)(E.leadingLineContent)!==(0,b.getLeadingWhitespace)(this._context.leadingLineContent)){this.cancel();return}if(E.column<this._context.column){E.leadingWord.word?this.trigger({auto:this._context.auto,shy:!1,noSelect:!1},!0):this.cancel();return}if(!!this._completionModel){if(E.leadingWord.word.length!==0&&E.leadingWord.startColumn>this._context.leadingWord.startColumn){const T=new Set(this._languageFeaturesService.completionProvider.all(this._editor.getModel()));for(const R of this._completionModel.allProvider)T.delete(R);const I=this._completionModel.adopt(new Set);this.trigger({auto:this._context.auto,shy:!1,noSelect:!1},!0,T,{items:I,clipboardText:this._completionModel.clipboardText});return}if(E.column>this._context.column&&this._completionModel.incomplete.size>0&&E.leadingWord.word.length!==0){const{incomplete:T}=this._completionModel,I=this._completionModel.adopt(T);this.trigger({auto:this._state===2,shy:!1,noSelect:!1,triggerKind:2},!0,T,{items:I,clipboardText:this._completionModel.clipboardText})}else{const T=this._completionModel.lineContext;let I=!1;if(this._completionModel.lineContext={leadingLineContent:E.leadingLineContent,characterCountDelta:E.column-this._context.column},this._completionModel.items.length===0){if(p.shouldAutoTrigger(this._editor)&&this._context.leadingWord.endColumn<E.leadingWord.startColumn){this.trigger({auto:this._context.auto,shy:!1,noSelect:!1},!0);return}if(this._context.auto){this.cancel();return}else if(this._completionModel.lineContext=T,I=this._completionModel.items.length>0,I&&E.leadingWord.word.length===0){this.cancel();return}}this._onDidSuggest.fire({completionModel:this._completionModel,auto:this._context.auto,shy:this._context.shy,noSelect:this._context.noSelect,isFrozen:I})}}}}};_=De([fe(1,h.IEditorWorkerService),fe(2,i.IClipboardService),fe(3,c.ITelemetryService),fe(4,l.ILogService),fe(5,o.IContextKeyService),fe(6,n.IConfigurationService),fe(7,s.ILanguageFeaturesService)],_),e.SuggestModel=_}),define(se[328],re([1,0,50,18,10,21,14,6,106,2,17,56,19,153,13,63,11,3,25,179,93,301,657,617,26,15,9,72,104,656,474,799,475,782,81,44,107]),function(q,e,w,m,k,D,L,b,C,h,g,t,i,n,o,l,c,d,r,s,a,u,p,S,f,v,_,y,E,T,I,R,F,O,M,N,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TriggerSuggestAction=e.SuggestController=void 0;const B=!1;class W{constructor(Q,ne){if(this._model=Q,this._position=ne,Q.getLineMaxColumn(ne.lineNumber)!==ne.column){const ee=Q.getOffsetAt(ne),le=Q.getPositionAt(ee+1);this._marker=Q.deltaDecorations([],[{range:d.Range.fromPositions(ne,le),options:{description:"suggest-line-suffix",stickiness:1}}])}}dispose(){this._marker&&!this._model.isDisposed()&&this._model.deltaDecorations(this._marker,[])}delta(Q){if(this._model.isDisposed()||this._position.lineNumber!==Q.lineNumber)return 0;if(this._marker){const ne=this._model.getDecorationRange(this._marker[0]);return this._model.getOffsetAt(ne.getStartPosition())-this._model.getOffsetAt(Q)}else return this._model.getLineMaxColumn(Q.lineNumber)-Q.column}}let x=class nn{static get(Q){return Q.getContribution(nn.ID)}constructor(Q,ne,Z,ee,le,V,$){this._memoryService=ne,this._commandService=Z,this._contextKeyService=ee,this._instantiationService=le,this._logService=V,this._telemetryService=$,this._lineSuffix=new h.MutableDisposable,this._toDispose=new h.DisposableStore,this._selectors=new P(z=>z.priority),this._telemetryGate=0,this.editor=Q,this.model=le.createInstance(R.SuggestModel,this.editor);const oe=E.Context.InsertMode.bindTo(ee);oe.set(Q.getOption(108).insertMode),this.model.onDidTrigger(()=>oe.set(Q.getOption(108).insertMode)),this.widget=this._toDispose.add(new k.IdleValue(()=>{const z=this._instantiationService.createInstance(O.SuggestWidget,this.editor);this._toDispose.add(z),this._toDispose.add(z.onDidSelect(de=>this._insertSuggestion(de,0),this));const J=new I.CommitCharacterController(this.editor,z,this.model,de=>this._insertSuggestion(de,2));this._toDispose.add(J);const Y=E.Context.MakesTextEdit.bindTo(this._contextKeyService),H=E.Context.HasInsertAndReplaceRange.bindTo(this._contextKeyService),j=E.Context.CanResolve.bindTo(this._contextKeyService);return this._toDispose.add((0,h.toDisposable)(()=>{Y.reset(),H.reset(),j.reset()})),this._toDispose.add(z.onDidFocus(({item:de})=>{const ue=this.editor.getPosition(),ce=de.editStart.column,ge=ue.column;let ve=!0;this.editor.getOption(1)==="smart"&&this.model.state===2&&!de.completion.additionalTextEdits&&!(de.completion.insertTextRules&4)&&ge-ce===de.completion.insertText.length&&(ve=this.editor.getModel().getValueInRange({startLineNumber:ue.lineNumber,startColumn:ce,endLineNumber:ue.lineNumber,endColumn:ge})!==de.completion.insertText),Y.set(ve),H.set(!c.Position.equals(de.editInsertEnd,de.editReplaceEnd)),j.set(Boolean(de.provider.resolveCompletionItem)||Boolean(de.completion.documentation)||de.completion.detail!==de.completion.label)})),this._toDispose.add(z.onDetailsKeyDown(de=>{if(de.toKeybinding().equals(new C.SimpleKeybinding(!0,!1,!1,!1,33))||g.isMacintosh&&de.toKeybinding().equals(new C.SimpleKeybinding(!1,!1,!1,!0,33))){de.stopPropagation();return}de.toKeybinding().isModifierKey()||this.editor.focus()})),z})),this._overtypingCapturer=this._toDispose.add(new k.IdleValue(()=>this._toDispose.add(new F.OvertypingCapturer(this.editor,this.model)))),this._alternatives=this._toDispose.add(new k.IdleValue(()=>this._toDispose.add(new T.SuggestAlternatives(this.editor,this._contextKeyService)))),this._toDispose.add(le.createInstance(p.WordContextKey,Q)),this._toDispose.add(this.model.onDidTrigger(z=>{this.widget.value.showTriggered(z.auto,z.shy?250:50),this._lineSuffix.value=new W(this.editor.getModel(),z.position)})),this._toDispose.add(this.model.onDidSuggest(z=>{if(z.shy)return;let J=-1;if(!z.noSelect){for(const Y of this._selectors.itemsOrderedByPriorityDesc)if(J=Y.select(this.editor.getModel(),this.editor.getPosition(),z.completionModel.items),J!==-1)break;J===-1&&(J=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),z.completionModel.items))}this.widget.value.showSuggestions(z.completionModel,J,z.isFrozen,z.auto)})),this._toDispose.add(this.model.onDidCancel(z=>{z.retrigger||this.widget.value.hideWidget()})),this._toDispose.add(this.editor.onDidBlurEditorWidget(()=>{B||(this.model.cancel(),this.model.clear())}));const U=E.Context.AcceptSuggestionsOnEnter.bindTo(ee),ae=()=>{const z=this.editor.getOption(1);U.set(z==="on"||z==="smart")};this._toDispose.add(this.editor.onDidChangeConfiguration(()=>ae())),ae()}dispose(){this._alternatives.dispose(),this._toDispose.dispose(),this.widget.dispose(),this.model.dispose(),this._lineSuffix.dispose()}_insertSuggestion(Q,ne){if(!Q||!Q.item){this._alternatives.value.reset(),this.model.cancel(),this.model.clear();return}if(!this.editor.hasModel())return;const Z=s.SnippetController2.get(this.editor);if(!Z)return;const ee=this.editor.getModel(),le=ee.getAlternativeVersionId(),{item:V}=Q,$=[],oe=new D.CancellationTokenSource;ne&1||this.editor.pushUndoStop();const U=this.getOverwriteInfo(V,Boolean(ne&8));if(this._memoryService.memorize(ee,this.editor.getPosition(),V),Array.isArray(V.completion.additionalTextEdits)){const z=n.StableEditorScrollState.capture(this.editor);this.editor.executeEdits("suggestController.additionalTextEdits.sync",V.completion.additionalTextEdits.map(J=>l.EditOperation.replaceMove(d.Range.lift(J.range),J.text))),z.restoreRelativeVerticalPositionOfCursor(this.editor)}else if(!V.isResolved){const z=new t.StopWatch(!0);let J;const Y=ee.onDidChangeContent(ue=>{if(ue.isFlush){oe.cancel(),Y.dispose();return}for(const ce of ue.changes){const ge=d.Range.getEndPosition(ce.range);(!J||c.Position.isBefore(ge,J))&&(J=ge)}}),H=ne;ne|=2;let j=!1;const de=this.editor.onWillType(()=>{de.dispose(),j=!0,H&2||this.editor.pushUndoStop()});$.push(V.resolve(oe.token).then(()=>{if(!V.completion.additionalTextEdits||oe.token.isCancellationRequested||J&&V.completion.additionalTextEdits.some(ce=>c.Position.isBefore(J,d.Range.getStartPosition(ce.range))))return!1;j&&this.editor.pushUndoStop();const ue=n.StableEditorScrollState.capture(this.editor);return this.editor.executeEdits("suggestController.additionalTextEdits.async",V.completion.additionalTextEdits.map(ce=>l.EditOperation.replaceMove(d.Range.lift(ce.range),ce.text))),ue.restoreRelativeVerticalPositionOfCursor(this.editor),(j||!(H&2))&&this.editor.pushUndoStop(),!0}).then(ue=>{this._logService.trace("[suggest] async resolving of edits DONE (ms, applied?)",z.elapsed(),ue),Y.dispose(),de.dispose()}))}let{insertText:ae}=V.completion;V.completion.insertTextRules&4||(ae=a.SnippetParser.escape(ae)),Z.insert(ae,{overwriteBefore:U.overwriteBefore,overwriteAfter:U.overwriteAfter,undoStopBefore:!1,undoStopAfter:!1,adjustWhitespace:!(V.completion.insertTextRules&1),clipboardText:Q.model.clipboardText,overtypingCapturer:this._overtypingCapturer.value}),ne&2||this.editor.pushUndoStop(),V.completion.command?V.completion.command.id===X.id?this.model.trigger({auto:!0,shy:!1,noSelect:!1},!0):($.push(this._commandService.executeCommand(V.completion.command.id,...V.completion.command.arguments?[...V.completion.command.arguments]:[]).catch(L.onUnexpectedError)),this.model.cancel()):this.model.cancel(),ne&4&&this._alternatives.value.set(Q,z=>{for(oe.cancel();ee.canUndo();){le!==ee.getAlternativeVersionId()&&ee.undo(),this._insertSuggestion(z,3|(ne&8?8:0));break}}),this._alertCompletionItem(V),Promise.all($).finally(()=>{this._reportSuggestionAcceptedTelemetry(V,ee,Q),this.model.clear(),oe.dispose()})}_reportSuggestionAcceptedTelemetry(Q,ne,Z){var ee;if(this._telemetryGate++%100!==0)return;const le=Q.extensionId?Q.extensionId.value:((ee=Z.item.provider._debugDisplayName)!==null&&ee!==void 0?ee:"unknown").split("(",1)[0].toLowerCase();this._telemetryService.publicLog2("suggest.acceptedSuggestion",{providerId:le,kind:Q.completion.kind,basenameHash:(0,A.hash)((0,N.basename)(ne.uri)).toString(16),languageId:ne.getLanguageId(),fileExtension:(0,N.extname)(ne.uri)})}getOverwriteInfo(Q,ne){(0,i.assertType)(this.editor.hasModel());let Z=this.editor.getOption(108).insertMode==="replace";ne&&(Z=!Z);const ee=Q.position.column-Q.editStart.column,le=(Z?Q.editReplaceEnd.column:Q.editInsertEnd.column)-Q.position.column,V=this.editor.getPosition().column-Q.position.column,$=this._lineSuffix.value?this._lineSuffix.value.delta(this.editor.getPosition()):0;return{overwriteBefore:ee+V,overwriteAfter:le+$}}_alertCompletionItem(Q){if((0,m.isNonEmptyArray)(Q.completion.additionalTextEdits)){const ne=S.localize(0,null,Q.textLabel,Q.completion.additionalTextEdits.length);(0,w.alert)(ne)}}triggerSuggest(Q,ne,Z,ee){this.editor.hasModel()&&(this.model.trigger({auto:ne??!1,shy:!1,noSelect:ee??!1},!1,Q,void 0,Z),this.editor.revealPosition(this.editor.getPosition(),0),this.editor.focus())}triggerSuggestAndAcceptBest(Q){if(!this.editor.hasModel())return;const ne=this.editor.getPosition(),Z=()=>{ne.equals(this.editor.getPosition())&&this._commandService.executeCommand(Q.fallback)},ee=le=>{if(le.completion.insertTextRules&4||le.completion.additionalTextEdits)return!0;const V=this.editor.getPosition(),$=le.editStart.column,oe=V.column;return oe-$!==le.completion.insertText.length?!0:this.editor.getModel().getValueInRange({startLineNumber:V.lineNumber,startColumn:$,endLineNumber:V.lineNumber,endColumn:oe})!==le.completion.insertText};b.Event.once(this.model.onDidTrigger)(le=>{const V=[];b.Event.any(this.model.onDidTrigger,this.model.onDidCancel)(()=>{(0,h.dispose)(V),Z()},void 0,V),this.model.onDidSuggest(({completionModel:$})=>{if((0,h.dispose)(V),$.items.length===0){Z();return}const oe=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),$.items),U=$.items[oe];if(!ee(U)){Z();return}this.editor.pushUndoStop(),this._insertSuggestion({index:oe,item:U,model:$},7)},void 0,V)}),this.model.trigger({auto:!1,shy:!0,noSelect:!1}),this.editor.revealPosition(ne,0),this.editor.focus()}acceptSelectedSuggestion(Q,ne){const Z=this.widget.value.getFocusedItem();let ee=0;Q&&(ee|=4),ne&&(ee|=8),this._insertSuggestion(Z,ee)}acceptNextSuggestion(){this._alternatives.value.next()}acceptPrevSuggestion(){this._alternatives.value.prev()}cancelSuggestWidget(){this.model.cancel(),this.model.clear(),this.widget.value.hideWidget()}selectNextSuggestion(){this.widget.value.selectNext()}selectNextPageSuggestion(){this.widget.value.selectNextPage()}selectLastSuggestion(){this.widget.value.selectLast()}selectPrevSuggestion(){this.widget.value.selectPrevious()}selectPrevPageSuggestion(){this.widget.value.selectPreviousPage()}selectFirstSuggestion(){this.widget.value.selectFirst()}toggleSuggestionDetails(){this.widget.value.toggleDetails()}toggleExplainMode(){this.widget.value.toggleExplainMode()}toggleSuggestionFocus(){this.widget.value.toggleDetailsFocus()}resetWidgetSize(){this.widget.value.resetPersistedSize()}forceRenderingAbove(){this.widget.value.forceRenderingAbove()}stopForceRenderingAbove(){!this.widget.isInitialized||this.widget.value.stopForceRenderingAbove()}registerSelector(Q){return this._selectors.register(Q)}};x.ID="editor.contrib.suggestController",x=De([fe(1,u.ISuggestMemoryService),fe(2,f.ICommandService),fe(3,v.IContextKeyService),fe(4,_.IInstantiationService),fe(5,y.ILogService),fe(6,M.ITelemetryService)],x),e.SuggestController=x;class P{constructor(Q){this.prioritySelector=Q,this._items=new Array}register(Q){if(this._items.indexOf(Q)!==-1)throw new Error("Value is already registered");return this._items.push(Q),this._items.sort((ne,Z)=>this.prioritySelector(Z)-this.prioritySelector(ne)),{dispose:()=>{const ne=this._items.indexOf(Q);ne>=0&&this._items.splice(ne,1)}}}get itemsOrderedByPriorityDesc(){return this._items}}class X extends o.EditorAction{constructor(){super({id:X.id,label:S.localize(1,null),alias:"Trigger Suggest",precondition:v.ContextKeyExpr.and(r.EditorContextKeys.writable,r.EditorContextKeys.hasCompletionItemProvider),kbOpts:{kbExpr:r.EditorContextKeys.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[521,2087]},weight:100}})}run(Q,ne,Z){const ee=x.get(ne);if(!ee)return;let le,V;Z&&typeof Z=="object"&&(Z.auto===!0&&(le=!0),Z.noSelection===!0&&(V=!0)),ee.triggerSuggest(void 0,le,void 0,V)}}e.TriggerSuggestAction=X,X.id="editor.action.triggerSuggest",(0,o.registerEditorContribution)(x.ID,x),(0,o.registerEditorAction)(X);const ie=100+90,K=o.EditorCommand.bindToContribution(x.get);(0,o.registerEditorCommand)(new K({id:"acceptSelectedSuggestion",precondition:v.ContextKeyExpr.and(E.Context.Visible,E.Context.HasFocusedSuggestion),handler(G){G.acceptSelectedSuggestion(!0,!1)},kbOpts:[{primary:2,kbExpr:v.ContextKeyExpr.and(E.Context.Visible,r.EditorContextKeys.textInputFocus),weight:ie},{primary:3,kbExpr:v.ContextKeyExpr.and(E.Context.Visible,r.EditorContextKeys.textInputFocus,E.Context.AcceptSuggestionsOnEnter,E.Context.MakesTextEdit),weight:ie}],menuOpts:[{menuId:E.suggestWidgetStatusbarMenu,title:S.localize(2,null),group:"left",order:1,when:E.Context.HasInsertAndReplaceRange.toNegated()},{menuId:E.suggestWidgetStatusbarMenu,title:S.localize(3,null),group:"left",order:1,when:v.ContextKeyExpr.and(E.Context.HasInsertAndReplaceRange,E.Context.InsertMode.isEqualTo("insert"))},{menuId:E.suggestWidgetStatusbarMenu,title:S.localize(4,null),group:"left",order:1,when:v.ContextKeyExpr.and(E.Context.HasInsertAndReplaceRange,E.Context.InsertMode.isEqualTo("replace"))}]})),(0,o.registerEditorCommand)(new K({id:"acceptAlternativeSelectedSuggestion",precondition:v.ContextKeyExpr.and(E.Context.Visible,r.EditorContextKeys.textInputFocus,E.Context.HasFocusedSuggestion),kbOpts:{weight:ie,kbExpr:r.EditorContextKeys.textInputFocus,primary:1027,secondary:[1026]},handler(G){G.acceptSelectedSuggestion(!1,!0)},menuOpts:[{menuId:E.suggestWidgetStatusbarMenu,group:"left",order:2,when:v.ContextKeyExpr.and(E.Context.HasInsertAndReplaceRange,E.Context.InsertMode.isEqualTo("insert")),title:S.localize(5,null)},{menuId:E.suggestWidgetStatusbarMenu,group:"left",order:2,when:v.ContextKeyExpr.and(E.Context.HasInsertAndReplaceRange,E.Context.InsertMode.isEqualTo("replace")),title:S.localize(6,null)}]})),f.CommandsRegistry.registerCommandAlias("acceptSelectedSuggestionOnEnter","acceptSelectedSuggestion"),(0,o.registerEditorCommand)(new K({id:"hideSuggestWidget",precondition:E.Context.Visible,handler:G=>G.cancelSuggestWidget(),kbOpts:{weight:ie,kbExpr:r.EditorContextKeys.textInputFocus,primary:9,secondary:[1033]}})),(0,o.registerEditorCommand)(new K({id:"selectNextSuggestion",precondition:v.ContextKeyExpr.and(E.Context.Visible,E.Context.MultipleSuggestions),handler:G=>G.selectNextSuggestion(),kbOpts:{weight:ie,kbExpr:r.EditorContextKeys.textInputFocus,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}})),(0,o.registerEditorCommand)(new K({id:"selectNextPageSuggestion",precondition:v.ContextKeyExpr.and(E.Context.Visible,E.Context.MultipleSuggestions),handler:G=>G.selectNextPageSuggestion(),kbOpts:{weight:ie,kbExpr:r.EditorContextKeys.textInputFocus,primary:12,secondary:[2060]}})),(0,o.registerEditorCommand)(new K({id:"selectLastSuggestion",precondition:v.ContextKeyExpr.and(E.Context.Visible,E.Context.MultipleSuggestions),handler:G=>G.selectLastSuggestion()})),(0,o.registerEditorCommand)(new K({id:"selectPrevSuggestion",precondition:v.ContextKeyExpr.and(E.Context.Visible,E.Context.MultipleSuggestions),handler:G=>G.selectPrevSuggestion(),kbOpts:{weight:ie,kbExpr:r.EditorContextKeys.textInputFocus,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}})),(0,o.registerEditorCommand)(new K({id:"selectPrevPageSuggestion",precondition:v.ContextKeyExpr.and(E.Context.Visible,E.Context.MultipleSuggestions),handler:G=>G.selectPrevPageSuggestion(),kbOpts:{weight:ie,kbExpr:r.EditorContextKeys.textInputFocus,primary:11,secondary:[2059]}})),(0,o.registerEditorCommand)(new K({id:"selectFirstSuggestion",precondition:v.ContextKeyExpr.and(E.Context.Visible,E.Context.MultipleSuggestions),handler:G=>G.selectFirstSuggestion()})),(0,o.registerEditorCommand)(new K({id:"toggleSuggestionDetails",precondition:E.Context.Visible,handler:G=>G.toggleSuggestionDetails(),kbOpts:{weight:ie,kbExpr:r.EditorContextKeys.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[2087]}},menuOpts:[{menuId:E.suggestWidgetStatusbarMenu,group:"right",order:1,when:v.ContextKeyExpr.and(E.Context.DetailsVisible,E.Context.CanResolve),title:S.localize(7,null)},{menuId:E.suggestWidgetStatusbarMenu,group:"right",order:1,when:v.ContextKeyExpr.and(E.Context.DetailsVisible.toNegated(),E.Context.CanResolve),title:S.localize(8,null)}]})),(0,o.registerEditorCommand)(new K({id:"toggleExplainMode",precondition:E.Context.Visible,handler:G=>G.toggleExplainMode(),kbOpts:{weight:100,primary:2133}})),(0,o.registerEditorCommand)(new K({id:"toggleSuggestionFocus",precondition:E.Context.Visible,handler:G=>G.toggleSuggestionFocus(),kbOpts:{weight:ie,kbExpr:r.EditorContextKeys.textInputFocus,primary:2570,mac:{primary:778}}})),(0,o.registerEditorCommand)(new K({id:"insertBestCompletion",precondition:v.ContextKeyExpr.and(r.EditorContextKeys.textInputFocus,v.ContextKeyExpr.equals("config.editor.tabCompletion","on"),p.WordContextKey.AtEnd,E.Context.Visible.toNegated(),T.SuggestAlternatives.OtherSuggestions.toNegated(),s.SnippetController2.InSnippetMode.toNegated()),handler:(G,Q)=>{G.triggerSuggestAndAcceptBest((0,i.isObject)(Q)?Object.assign({fallback:"tab"},Q):{fallback:"tab"})},kbOpts:{weight:ie,primary:2}})),(0,o.registerEditorCommand)(new K({id:"insertNextSuggestion",precondition:v.ContextKeyExpr.and(r.EditorContextKeys.textInputFocus,v.ContextKeyExpr.equals("config.editor.tabCompletion","on"),T.SuggestAlternatives.OtherSuggestions,E.Context.Visible.toNegated(),s.SnippetController2.InSnippetMode.toNegated()),handler:G=>G.acceptNextSuggestion(),kbOpts:{weight:ie,kbExpr:r.EditorContextKeys.textInputFocus,primary:2}})),(0,o.registerEditorCommand)(new K({id:"insertPrevSuggestion",precondition:v.ContextKeyExpr.and(r.EditorContextKeys.textInputFocus,v.ContextKeyExpr.equals("config.editor.tabCompletion","on"),T.SuggestAlternatives.OtherSuggestions,E.Context.Visible.toNegated(),s.SnippetController2.InSnippetMode.toNegated()),handler:G=>G.acceptPrevSuggestion(),kbOpts:{weight:ie,kbExpr:r.EditorContextKeys.textInputFocus,primary:1026}})),(0,o.registerEditorAction)(class extends o.EditorAction{constructor(){super({id:"editor.action.resetSuggestSize",label:S.localize(9,null),alias:"Reset Suggest Widget Size",precondition:void 0})}run(G,Q){var ne;(ne=x.get(Q))===null||ne===void 0||ne.resetWidgetSize()}})}),define(se[800],re([1,0,18,10,6,2,11,3,93,326,328,211]),function(q,e,w,m,k,D,L,b,C,h,g,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.rangeStartsWith=e.SuggestWidgetInlineCompletionProvider=void 0;class i extends D.Disposable{get state(){if(!!this._isActive)return{selectedItem:this._currentSuggestItemInfo}}constructor(d,r){super(),this.editor=d,this.suggestControllerPreselector=r,this.isSuggestWidgetVisible=!1,this.isShiftKeyPressed=!1,this._isActive=!1,this._currentSuggestItemInfo=void 0,this.onDidChangeEmitter=new k.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this.setInactiveDelayed=this._register(new m.RunOnceScheduler(()=>{this.isSuggestWidgetVisible||this._isActive&&(this._isActive=!1,this.onDidChangeEmitter.fire())},100)),this._register(d.onKeyDown(a=>{a.shiftKey&&!this.isShiftKeyPressed&&(this.isShiftKeyPressed=!0,this.update(this._isActive))})),this._register(d.onKeyUp(a=>{a.shiftKey&&this.isShiftKeyPressed&&(this.isShiftKeyPressed=!1,this.update(this._isActive))}));const s=g.SuggestController.get(this.editor);if(s){this._register(s.registerSelector({priority:100,select:(p,S,f)=>{const v=this.editor.getModel(),_=(0,t.minimizeInlineCompletion)(v,this.suggestControllerPreselector());if(!_)return-1;const y=L.Position.lift(S),E=f.map((I,R)=>{const F=l(s,y,I,this.isShiftKeyPressed),O=(0,t.minimizeInlineCompletion)(v,F?.normalizedInlineCompletion);if(!O)return;const M=n(_.range,O.range)&&_.insertText.startsWith(O.insertText);return{index:R,valid:M,prefixLength:O.insertText.length,suggestItem:I}}).filter(I=>I&&I.valid),T=(0,w.findMaxBy)(E,(0,w.compareBy)(I=>I.prefixLength,w.numberComparator));return T?T.index:-1}}));let a=!1;const u=()=>{a||(a=!0,this._register(s.widget.value.onDidShow(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})),this._register(s.widget.value.onDidHide(()=>{this.isSuggestWidgetVisible=!1,this.setInactiveDelayed.schedule(),this.update(this._isActive)})),this._register(s.widget.value.onDidFocus(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})))};this._register(k.Event.once(s.model.onDidTrigger)(p=>{u()}))}this.update(this._isActive)}update(d){const r=this.getSuggestItemInfo();let s=!1;o(this._currentSuggestItemInfo,r)||(this._currentSuggestItemInfo=r,s=!0),this._isActive!==d&&(this._isActive=d,s=!0),s&&this.onDidChangeEmitter.fire()}getSuggestItemInfo(){const d=g.SuggestController.get(this.editor);if(!d||!this.isSuggestWidgetVisible)return;const r=d.widget.value.getFocusedItem();if(!!r)return l(d,this.editor.getPosition(),r.item,this.isShiftKeyPressed)}stopForceRenderingAbove(){const d=g.SuggestController.get(this.editor);d?.stopForceRenderingAbove()}forceRenderingAbove(){const d=g.SuggestController.get(this.editor);d?.forceRenderingAbove()}}e.SuggestWidgetInlineCompletionProvider=i;function n(c,d){return d.startLineNumber===c.startLineNumber&&d.startColumn===c.startColumn&&(d.endLineNumber<c.endLineNumber||d.endLineNumber===c.endLineNumber&&d.endColumn<=c.endColumn)}e.rangeStartsWith=n;function o(c,d){return c===d?!0:!c||!d?!1:c.completionItemKind===d.completionItemKind&&c.isSnippetText===d.isSnippetText&&(0,t.normalizedInlineCompletionsEquals)(c.normalizedInlineCompletion,d.normalizedInlineCompletion)}function l(c,d,r,s){if(Array.isArray(r.completion.additionalTextEdits)&&r.completion.additionalTextEdits.length>0)return{completionItemKind:r.completion.kind,isSnippetText:!1,normalizedInlineCompletion:{range:b.Range.fromPositions(d,d),insertText:"",filterText:"",snippetInfo:void 0,additionalTextEdits:[]}};let{insertText:a}=r.completion,u=!1;if(r.completion.insertTextRules&4){const S=new C.SnippetParser().parse(a),f=c.editor.getModel();if(S.children.length>100)return;h.SnippetSession.adjustWhitespace(f,d,S,!0,!0),a=S.toString(),u=!0}const p=c.getOverwriteInfo(r,s);return{isSnippetText:u,completionItemKind:r.completion.kind,normalizedInlineCompletion:{insertText:a,filterText:a,range:b.Range.fromPositions(d.delta(0,-p.overwriteBefore),d.delta(0,Math.max(p.overwriteAfter,0))),snippetInfo:void 0,additionalTextEdits:[]}}}}),define(se[801],re([1,0,10,14,2,28,20,167,327,211,800]),function(q,e,w,m,k,D,L,b,C,h,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestWidgetPreviewModel=void 0;let t=class extends b.BaseGhostTextWidgetModel{get isActive(){return this.suggestionInlineCompletionSource.state!==void 0}constructor(o,l,c){super(o),this.cache=l,this.languageFeaturesService=c,this.suggestionInlineCompletionSource=this._register(new g.SuggestWidgetInlineCompletionProvider(this.editor,()=>{var d,r;return(r=(d=this.cache.value)===null||d===void 0?void 0:d.completions[0])===null||r===void 0?void 0:r.toLiveInlineCompletion()})),this.updateOperation=this._register(new k.MutableDisposable),this.updateCacheSoon=this._register(new w.RunOnceScheduler(()=>this.updateCache(),50)),this.minReservedLineCount=0,this._register(this.suggestionInlineCompletionSource.onDidChange(()=>{if(!this.editor.hasModel())return;this.updateCacheSoon.schedule(),this.suggestionInlineCompletionSource.state||(this.minReservedLineCount=0);const r=this.ghostText;r&&(this.minReservedLineCount=Math.max(this.minReservedLineCount,i(r.parts.map(s=>s.lines.length-1)))),this.minReservedLineCount>=1?this.suggestionInlineCompletionSource.forceRenderingAbove():this.suggestionInlineCompletionSource.stopForceRenderingAbove(),this.onDidChangeEmitter.fire()})),this._register(this.cache.onDidChange(()=>{this.onDidChangeEmitter.fire()})),this._register(this.editor.onDidChangeCursorPosition(d=>{this.minReservedLineCount=0,this.updateCacheSoon.schedule(),this.onDidChangeEmitter.fire()})),this._register((0,k.toDisposable)(()=>this.suggestionInlineCompletionSource.stopForceRenderingAbove()))}isSuggestionPreviewEnabled(){return this.editor.getOption(108).preview}updateCache(){return Se(this,void 0,void 0,function*(){const o=this.suggestionInlineCompletionSource.state;if(!o||!o.selectedItem)return;const l={text:o.selectedItem.normalizedInlineCompletion.insertText,range:o.selectedItem.normalizedInlineCompletion.range,isSnippetText:o.selectedItem.isSnippetText,completionKind:o.selectedItem.completionItemKind},c=this.editor.getPosition();if(o.selectedItem.isSnippetText||o.selectedItem.completionItemKind===27||o.selectedItem.completionItemKind===20||o.selectedItem.completionItemKind===23){this.cache.clear();return}const d=(0,w.createCancelablePromise)(s=>Se(this,void 0,void 0,function*(){let a;try{a=yield(0,C.provideInlineCompletions)(this.languageFeaturesService.inlineCompletionsProvider,c,this.editor.getModel(),{triggerKind:D.InlineCompletionTriggerKind.Automatic,selectedSuggestionInfo:l},s)}catch(u){(0,m.onUnexpectedError)(u);return}if(s.isCancellationRequested){a.dispose();return}this.cache.setValue(this.editor,a,D.InlineCompletionTriggerKind.Automatic),this.onDidChangeEmitter.fire()})),r=new C.UpdateOperation(d,D.InlineCompletionTriggerKind.Automatic);this.updateOperation.value=r,yield d,this.updateOperation.value===r&&this.updateOperation.clear()})}get ghostText(){var o,l,c;const d=this.isSuggestionPreviewEnabled(),r=this.editor.getModel(),s=(0,h.minimizeInlineCompletion)(r,(l=(o=this.cache.value)===null||o===void 0?void 0:o.completions[0])===null||l===void 0?void 0:l.toLiveInlineCompletion()),a=this.suggestionInlineCompletionSource.state,u=(0,h.minimizeInlineCompletion)(r,(c=a?.selectedItem)===null||c===void 0?void 0:c.normalizedInlineCompletion),p=s&&u&&s.insertText.startsWith(u.insertText)&&s.range.equalsRange(u.range);if(!d&&!p)return;const S=p?s:u||s,f=p?S.insertText.length-u.insertText.length:0;return this.toGhostText(S,f)}toGhostText(o,l){const c=this.editor.getOptions().get(108).previewMode;return o?(0,h.inlineCompletionToGhostText)(o,this.editor.getModel(),c,this.editor.getPosition(),l)||new b.GhostText(o.range.endLineNumber,[],this.minReservedLineCount):void 0}};t=De([fe(2,L.ILanguageFeaturesService)],t),e.SuggestWidgetPreviewModel=t;function i(n){return n.reduce((o,l)=>o+l,0)}}),define(se[802],re([1,0,6,2,11,28,327,801,195,9]),function(q,e,w,m,k,D,L,b,C,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SharedInlineCompletionCache=e.GhostTextModel=e.DelegatingModel=void 0;class g extends m.Disposable{constructor(){super(...arguments),this.onDidChangeEmitter=new w.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this.hasCachedGhostText=!1,this.currentModelRef=this._register(new m.MutableDisposable)}get targetModel(){var o;return(o=this.currentModelRef.value)===null||o===void 0?void 0:o.object}setTargetModel(o){var l;((l=this.currentModelRef.value)===null||l===void 0?void 0:l.object)!==o&&(this.currentModelRef.clear(),this.currentModelRef.value=o?(0,C.createDisposableRef)(o,o.onDidChange(()=>{this.hasCachedGhostText=!1,this.onDidChangeEmitter.fire()})):void 0,this.hasCachedGhostText=!1,this.onDidChangeEmitter.fire())}get ghostText(){var o,l;return this.hasCachedGhostText||(this.cachedGhostText=(l=(o=this.currentModelRef.value)===null||o===void 0?void 0:o.object)===null||l===void 0?void 0:l.ghostText,this.hasCachedGhostText=!0),this.cachedGhostText}setExpanded(o){var l;(l=this.targetModel)===null||l===void 0||l.setExpanded(o)}get minReservedLineCount(){return this.targetModel?this.targetModel.minReservedLineCount:0}}e.DelegatingModel=g;let t=class extends g{get activeInlineCompletionsModel(){if(this.targetModel===this.inlineCompletionsModel)return this.inlineCompletionsModel}constructor(o,l){super(),this.editor=o,this.instantiationService=l,this.sharedCache=this._register(new i),this.suggestWidgetAdapterModel=this._register(this.instantiationService.createInstance(b.SuggestWidgetPreviewModel,this.editor,this.sharedCache)),this.inlineCompletionsModel=this._register(this.instantiationService.createInstance(L.InlineCompletionsModel,this.editor,this.sharedCache)),this._register(this.suggestWidgetAdapterModel.onDidChange(()=>{this.updateModel()})),this.updateModel()}updateModel(){this.setTargetModel(this.suggestWidgetAdapterModel.isActive?this.suggestWidgetAdapterModel:this.inlineCompletionsModel),this.inlineCompletionsModel.setActive(this.targetModel===this.inlineCompletionsModel)}shouldShowHoverAt(o){var l;const c=(l=this.activeInlineCompletionsModel)===null||l===void 0?void 0:l.ghostText;return c?c.parts.some(d=>o.containsPosition(new k.Position(c.lineNumber,d.column))):!1}triggerInlineCompletion(){var o;(o=this.activeInlineCompletionsModel)===null||o===void 0||o.trigger(D.InlineCompletionTriggerKind.Explicit)}commitInlineCompletion(){var o;(o=this.activeInlineCompletionsModel)===null||o===void 0||o.commitCurrentSuggestion()}hideInlineCompletion(){var o;(o=this.activeInlineCompletionsModel)===null||o===void 0||o.hide()}showNextInlineCompletion(){var o;(o=this.activeInlineCompletionsModel)===null||o===void 0||o.showNext()}showPreviousInlineCompletion(){var o;(o=this.activeInlineCompletionsModel)===null||o===void 0||o.showPrevious()}hasMultipleInlineCompletions(){var o;return Se(this,void 0,void 0,function*(){const l=yield(o=this.activeInlineCompletionsModel)===null||o===void 0?void 0:o.hasMultipleInlineCompletions();return l!==void 0?l:!1})}};t=De([fe(1,h.IInstantiationService)],t),e.GhostTextModel=t;class i extends m.Disposable{constructor(){super(...arguments),this.onDidChangeEmitter=new w.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this.cache=this._register(new m.MutableDisposable)}get value(){return this.cache.value}setValue(o,l,c){this.cache.value=new L.SynchronizedInlineCompletionsCache(l,o,()=>this.onDidChangeEmitter.fire(),c)}clearAndLeak(){return this.cache.clearAndLeak()}clear(){this.cache.clear()}}e.SharedInlineCompletionCache=i}),define(se[329],re([1,0,6,2,8,13,70,25,802,708,596,15,9]),function(q,e,w,m,k,D,L,b,C,h,g,t,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TriggerInlineSuggestionAction=e.ShowPreviousInlineSuggestionAction=e.ShowNextInlineSuggestionAction=e.ActiveGhostTextController=e.GhostTextController=void 0;let n=class on extends m.Disposable{static get(a){return a.getContribution(on.ID)}get activeModel(){var a;return(a=this.activeController.value)===null||a===void 0?void 0:a.model}constructor(a,u){super(),this.editor=a,this.instantiationService=u,this.triggeredExplicitly=!1,this.activeController=this._register(new m.MutableDisposable),this.activeModelDidChangeEmitter=this._register(new w.Emitter),this._register(this.editor.onDidChangeModel(()=>{this.updateModelController()})),this._register(this.editor.onDidChangeConfiguration(p=>{p.hasChanged(108)&&this.updateModelController(),p.hasChanged(56)&&this.updateModelController()})),this.updateModelController()}updateModelController(){const a=this.editor.getOption(108),u=this.editor.getOption(56);this.activeController.value=void 0,this.activeController.value=this.editor.hasModel()&&(a.preview||u.enabled||this.triggeredExplicitly)?this.instantiationService.createInstance(l,this.editor):void 0,this.activeModelDidChangeEmitter.fire()}shouldShowHoverAt(a){var u;return((u=this.activeModel)===null||u===void 0?void 0:u.shouldShowHoverAt(a))||!1}shouldShowHoverAtViewZone(a){var u,p;return((p=(u=this.activeController.value)===null||u===void 0?void 0:u.widget)===null||p===void 0?void 0:p.shouldShowHoverAtViewZone(a))||!1}trigger(){var a;this.triggeredExplicitly=!0,this.activeController.value||this.updateModelController(),(a=this.activeModel)===null||a===void 0||a.triggerInlineCompletion()}commit(){var a;(a=this.activeModel)===null||a===void 0||a.commitInlineCompletion()}hide(){var a;(a=this.activeModel)===null||a===void 0||a.hideInlineCompletion()}showNextInlineCompletion(){var a;(a=this.activeModel)===null||a===void 0||a.showNextInlineCompletion()}showPreviousInlineCompletion(){var a;(a=this.activeModel)===null||a===void 0||a.showPreviousInlineCompletion()}hasMultipleInlineCompletions(){var a;return Se(this,void 0,void 0,function*(){const u=yield(a=this.activeModel)===null||a===void 0?void 0:a.hasMultipleInlineCompletions();return u!==void 0?u:!1})}};n.inlineSuggestionVisible=new t.RawContextKey("inlineSuggestionVisible",!1,g.localize(0,null)),n.inlineSuggestionHasIndentation=new t.RawContextKey("inlineSuggestionHasIndentation",!1,g.localize(1,null)),n.inlineSuggestionHasIndentationLessThanTabSize=new t.RawContextKey("inlineSuggestionHasIndentationLessThanTabSize",!0,g.localize(2,null)),n.ID="editor.contrib.ghostTextController",n=De([fe(1,i.IInstantiationService)],n),e.GhostTextController=n;class o{constructor(a){this.contextKeyService=a,this.inlineCompletionVisible=n.inlineSuggestionVisible.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentation=n.inlineSuggestionHasIndentation.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentationLessThanTabSize=n.inlineSuggestionHasIndentationLessThanTabSize.bindTo(this.contextKeyService)}}let l=class extends m.Disposable{constructor(a,u,p){super(),this.editor=a,this.instantiationService=u,this.contextKeyService=p,this.contextKeys=new o(this.contextKeyService),this.model=this._register(this.instantiationService.createInstance(C.GhostTextModel,this.editor)),this.widget=this._register(this.instantiationService.createInstance(h.GhostTextWidget,this.editor,this.model)),this._register((0,m.toDisposable)(()=>{this.contextKeys.inlineCompletionVisible.set(!1),this.contextKeys.inlineCompletionSuggestsIndentation.set(!1),this.contextKeys.inlineCompletionSuggestsIndentationLessThanTabSize.set(!0)})),this._register(this.model.onDidChange(()=>{this.updateContextKeys()})),this.updateContextKeys()}updateContextKeys(){var a;this.contextKeys.inlineCompletionVisible.set(((a=this.model.activeInlineCompletionsModel)===null||a===void 0?void 0:a.ghostText)!==void 0);let u=!1,p=!0;const S=this.model.inlineCompletionsModel.ghostText;if(!!this.model.activeInlineCompletionsModel&&S&&S.parts.length>0){const{column:f,lines:v}=S.parts[0],_=v[0],y=this.editor.getModel().getLineIndentColumn(S.lineNumber);if(f<=y){let T=(0,k.firstNonWhitespaceIndex)(_);T===-1&&(T=_.length-1),u=T>0;const I=this.editor.getModel().getOptions().tabSize;p=L.CursorColumns.visibleColumnFromColumn(_,T+1,I)<I}}this.contextKeys.inlineCompletionSuggestsIndentation.set(u),this.contextKeys.inlineCompletionSuggestsIndentationLessThanTabSize.set(p)}};l=De([fe(1,i.IInstantiationService),fe(2,t.IContextKeyService)],l),e.ActiveGhostTextController=l;class c extends D.EditorAction{constructor(){super({id:c.ID,label:g.localize(3,null),alias:"Show Next Inline Suggestion",precondition:t.ContextKeyExpr.and(b.EditorContextKeys.writable,n.inlineSuggestionVisible),kbOpts:{weight:100,primary:601}})}run(a,u){return Se(this,void 0,void 0,function*(){const p=n.get(u);p&&(p.showNextInlineCompletion(),u.focus())})}}e.ShowNextInlineSuggestionAction=c,c.ID="editor.action.inlineSuggest.showNext";class d extends D.EditorAction{constructor(){super({id:d.ID,label:g.localize(4,null),alias:"Show Previous Inline Suggestion",precondition:t.ContextKeyExpr.and(b.EditorContextKeys.writable,n.inlineSuggestionVisible),kbOpts:{weight:100,primary:599}})}run(a,u){return Se(this,void 0,void 0,function*(){const p=n.get(u);p&&(p.showPreviousInlineCompletion(),u.focus())})}}e.ShowPreviousInlineSuggestionAction=d,d.ID="editor.action.inlineSuggest.showPrevious";class r extends D.EditorAction{constructor(){super({id:"editor.action.inlineSuggest.trigger",label:g.localize(5,null),alias:"Trigger Inline Suggestion",precondition:b.EditorContextKeys.writable})}run(a,u){return Se(this,void 0,void 0,function*(){const p=n.get(u);p?.trigger()})}}e.TriggerInlineSuggestionAction=r}),define(se[803],re([1,0,7,68,2,119,3,39,92,329,597,79,32,26,15,46,194]),function(q,e,w,m,k,D,L,b,C,h,g,t,i,n,o,l,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineCompletionsHoverParticipant=e.InlineCompletionsHover=void 0;class d{constructor(a,u,p){this.owner=a,this.range=u,this.controller=p}isValidForHoverAnchor(a){return a.type===1&&this.range.startColumn<=a.range.startColumn&&this.range.endColumn>=a.range.endColumn}hasMultipleSuggestions(){return this.controller.hasMultipleInlineCompletions()}get commands(){var a,u,p;return((p=(u=(a=this.controller.activeModel)===null||a===void 0?void 0:a.activeInlineCompletionsModel)===null||u===void 0?void 0:u.completionSession.value)===null||p===void 0?void 0:p.commands)||[]}}e.InlineCompletionsHover=d;let r=class{constructor(a,u,p,S,f,v,_){this._editor=a,this._commandService=u,this._menuService=p,this._contextKeyService=S,this._languageService=f,this._openerService=v,this.accessibilityService=_,this.hoverOrdinal=3}suggestHoverAnchor(a){const u=h.GhostTextController.get(this._editor);if(!u)return null;const p=a.target;if(p.type===8){const S=p.detail;if(u.shouldShowHoverAtViewZone(S.viewZoneId))return new C.HoverForeignElementAnchor(1e3,this,L.Range.fromPositions(S.positionBefore||S.position,S.positionBefore||S.position),a.event.posx,a.event.posy)}return p.type===7&&u.shouldShowHoverAt(p.range)?new C.HoverForeignElementAnchor(1e3,this,p.range,a.event.posx,a.event.posy):p.type===6&&p.detail.mightBeForeignElement&&u.shouldShowHoverAt(p.range)?new C.HoverForeignElementAnchor(1e3,this,p.range,a.event.posx,a.event.posy):null}computeSync(a,u){const p=h.GhostTextController.get(this._editor);return p&&p.shouldShowHoverAt(a.range)?[new d(this,a.range,p)]:[]}renderHoverParts(a,u){const p=new k.DisposableStore,S=u[0];this.accessibilityService.isScreenReaderOptimized()&&this.renderScreenReaderText(a,S,p);const f=p.add(this._menuService.createMenu(i.MenuId.InlineCompletionsActions,this._contextKeyService)),v=a.statusBar.addAction({label:g.localize(0,null),commandId:h.ShowNextInlineSuggestionAction.ID,run:()=>this._commandService.executeCommand(h.ShowNextInlineSuggestionAction.ID)}),_=a.statusBar.addAction({label:g.localize(1,null),commandId:h.ShowPreviousInlineSuggestionAction.ID,run:()=>this._commandService.executeCommand(h.ShowPreviousInlineSuggestionAction.ID)});a.statusBar.addAction({label:g.localize(2,null),commandId:c.inlineSuggestCommitId,run:()=>this._commandService.executeCommand(c.inlineSuggestCommitId)});const y=[v,_];for(const E of y)E.setEnabled(!1);S.hasMultipleSuggestions().then(E=>{for(const T of y)T.setEnabled(E)});for(const E of S.commands)a.statusBar.addAction({label:E.title,commandId:E.id,run:()=>this._commandService.executeCommand(E.id,...E.arguments||[])});for(const[E,T]of f.getActions())for(const I of T)I instanceof i.MenuItemAction&&a.statusBar.addAction({label:I.label,commandId:I.item.id,run:()=>this._commandService.executeCommand(I.item.id)});return p}renderScreenReaderText(a,u,p){var S,f;const v=w.$,_=v("div.hover-row.markdown-hover"),y=w.append(_,v("div.hover-contents")),E=p.add(new D.MarkdownRenderer({editor:this._editor},this._languageService,this._openerService)),T=R=>{p.add(E.onDidRenderAsync(()=>{y.className="hover-contents code-hover-contents",a.onContentsChanged()}));const F=g.localize(3,null),O=p.add(E.render(new m.MarkdownString().appendText(F).appendCodeblock("text",R)));y.replaceChildren(O.element)},I=(f=(S=u.controller.activeModel)===null||S===void 0?void 0:S.inlineCompletionsModel)===null||f===void 0?void 0:f.ghostText;if(I){const R=this._editor.getModel().getLineContent(I.lineNumber);T(I.renderForScreenReader(R))}a.fragment.appendChild(_)}};r=De([fe(1,n.ICommandService),fe(2,i.IMenuService),fe(3,o.IContextKeyService),fe(4,b.ILanguageService),fe(5,l.IOpenerService),fe(6,t.IAccessibilityService)],r),e.InlineCompletionsHoverParticipant=r}),define(se[804],re([1,0,13,25,92,194,329,803,15,96]),function(q,e,w,m,k,D,L,b,C,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.commitInlineSuggestionAction=void 0,(0,w.registerEditorContribution)(L.GhostTextController.ID,L.GhostTextController),(0,w.registerEditorAction)(L.TriggerInlineSuggestionAction),(0,w.registerEditorAction)(L.ShowNextInlineSuggestionAction),(0,w.registerEditorAction)(L.ShowPreviousInlineSuggestionAction),k.HoverParticipantRegistry.register(b.InlineCompletionsHoverParticipant);const g=w.EditorCommand.bindToContribution(L.GhostTextController.get);e.commitInlineSuggestionAction=new g({id:D.inlineSuggestCommitId,precondition:L.GhostTextController.inlineSuggestionVisible,handler(t){t.commit(),t.editor.focus()}}),(0,w.registerEditorCommand)(e.commitInlineSuggestionAction),h.KeybindingsRegistry.registerKeybindingRule({primary:2,weight:200,id:e.commitInlineSuggestionAction.id,when:C.ContextKeyExpr.and(e.commitInlineSuggestionAction.precondition,m.EditorContextKeys.tabMovesFocus.toNegated(),L.GhostTextController.inlineSuggestionHasIndentationLessThanTabSize)}),(0,w.registerEditorCommand)(new g({id:"editor.action.inlineSuggest.hide",precondition:L.GhostTextController.inlineSuggestionVisible,kbOpts:{weight:100,primary:9},handler(t){t.hide()}}))}),define(se[330],re([1,0,9]),function(q,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IWorkspaceTrustManagementService=void 0,e.IWorkspaceTrustManagementService=(0,w.createDecorator)("workspaceTrustManagementService")}),define(se[805],re([1,0,10,27,68,2,17,8,13,38,37,247,103,39,285,92,224,761,625,30,9,46,88,82,330,402]),function(q,e,w,m,k,D,L,b,C,h,g,t,i,n,o,l,c,d,r,s,a,u,p,S,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ShowExcludeOptions=e.DisableHighlightingOfNonBasicAsciiCharactersAction=e.DisableHighlightingOfInvisibleCharactersAction=e.DisableHighlightingOfAmbiguousCharactersAction=e.DisableHighlightingInStringsAction=e.DisableHighlightingInCommentsAction=e.UnicodeHighlighterHoverParticipant=e.UnicodeHighlighter=e.warningIcon=void 0,e.warningIcon=(0,S.registerIcon)("extensions-warning-message",m.Codicon.warning,r.localize(0,null));let v=class extends D.Disposable{constructor(Q,ne,Z,ee){super(),this._editor=Q,this._editorWorkerService=ne,this._workspaceTrustService=Z,this._highlighter=null,this._bannerClosed=!1,this._updateState=le=>{if(le&&le.hasMore){if(this._bannerClosed)return;const V=Math.max(le.ambiguousCharacterCount,le.nonBasicAsciiCharacterCount,le.invisibleCharacterCount);let $;if(le.nonBasicAsciiCharacterCount>=V)$={message:r.localize(1,null),command:new x};else if(le.ambiguousCharacterCount>=V)$={message:r.localize(2,null),command:new B};else if(le.invisibleCharacterCount>=V)$={message:r.localize(3,null),command:new W};else throw new Error("Unreachable");this._bannerController.show({id:"unicodeHighlightBanner",message:$.message,icon:e.warningIcon,actions:[{label:$.command.shortLabel,href:`command:${$.command.id}`}],onClose:()=>{this._bannerClosed=!0}})}else this._bannerController.hide()},this._bannerController=this._register(ee.createInstance(d.BannerController,Q)),this._register(this._editor.onDidChangeModel(()=>{this._bannerClosed=!1,this._updateHighlighter()})),this._options=Q.getOption(115),this._register(Z.onDidChangeTrust(le=>{this._updateHighlighter()})),this._register(Q.onDidChangeConfiguration(le=>{le.hasChanged(115)&&(this._options=Q.getOption(115),this._updateHighlighter())})),this._updateHighlighter()}dispose(){this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),super.dispose()}_updateHighlighter(){if(this._updateState(null),this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),!this._editor.hasModel())return;const Q=_(this._workspaceTrustService.isWorkspaceTrusted(),this._options);if([Q.nonBasicASCII,Q.ambiguousCharacters,Q.invisibleCharacters].every(Z=>Z===!1))return;const ne={nonBasicASCII:Q.nonBasicASCII,ambiguousCharacters:Q.ambiguousCharacters,invisibleCharacters:Q.invisibleCharacters,includeComments:Q.includeComments,includeStrings:Q.includeStrings,allowedCodePoints:Object.keys(Q.allowedCharacters).map(Z=>Z.codePointAt(0)),allowedLocales:Object.keys(Q.allowedLocales).map(Z=>Z==="_os"?new Intl.NumberFormat().resolvedOptions().locale:Z==="_vscode"?L.language:Z)};this._editorWorkerService.canComputeUnicodeHighlights(this._editor.getModel().uri)?this._highlighter=new y(this._editor,ne,this._updateState,this._editorWorkerService):this._highlighter=new E(this._editor,ne,this._updateState)}getDecorationInfo(Q){return this._highlighter?this._highlighter.getDecorationInfo(Q):null}};v.ID="editor.contrib.unicodeHighlighter",v=De([fe(1,i.IEditorWorkerService),fe(2,f.IWorkspaceTrustManagementService),fe(3,a.IInstantiationService)],v),e.UnicodeHighlighter=v;function _(G,Q){return{nonBasicASCII:Q.nonBasicASCII===h.inUntrustedWorkspace?!G:Q.nonBasicASCII,ambiguousCharacters:Q.ambiguousCharacters,invisibleCharacters:Q.invisibleCharacters,includeComments:Q.includeComments===h.inUntrustedWorkspace?!G:Q.includeComments,includeStrings:Q.includeStrings===h.inUntrustedWorkspace?!G:Q.includeStrings,allowedCharacters:Q.allowedCharacters,allowedLocales:Q.allowedLocales}}let y=class extends D.Disposable{constructor(Q,ne,Z,ee){super(),this._editor=Q,this._options=ne,this._updateState=Z,this._editorWorkerService=ee,this._model=this._editor.getModel(),this._decorations=this._editor.createDecorationsCollection(),this._updateSoon=this._register(new w.RunOnceScheduler(()=>this._update(),250)),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorations.clear(),super.dispose()}_update(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII()){this._decorations.clear();return}const Q=this._model.getVersionId();this._editorWorkerService.computedUnicodeHighlights(this._model.uri,this._options).then(ne=>{if(this._model.isDisposed()||this._model.getVersionId()!==Q)return;this._updateState(ne);const Z=[];if(!ne.hasMore)for(const ee of ne.ranges)Z.push({range:ee,options:M.instance.getDecorationFromOptions(this._options)});this._decorations.set(Z)})}getDecorationInfo(Q){if(!this._decorations.has(Q))return null;const ne=this._editor.getModel();if(!(0,o.isModelDecorationVisible)(ne,Q))return null;const Z=ne.getValueInRange(Q.range);return{reason:O(Z,this._options),inComment:(0,o.isModelDecorationInComment)(ne,Q),inString:(0,o.isModelDecorationInString)(ne,Q)}}};y=De([fe(3,i.IEditorWorkerService)],y);class E extends D.Disposable{constructor(Q,ne,Z){super(),this._editor=Q,this._options=ne,this._updateState=Z,this._model=this._editor.getModel(),this._decorations=this._editor.createDecorationsCollection(),this._updateSoon=this._register(new w.RunOnceScheduler(()=>this._update(),250)),this._register(this._editor.onDidLayoutChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidScrollChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeHiddenAreas(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorations.clear(),super.dispose()}_update(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII()){this._decorations.clear();return}const Q=this._editor.getVisibleRanges(),ne=[],Z={ranges:[],ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0,hasMore:!1};for(const ee of Q){const le=t.UnicodeTextModelHighlighter.computeUnicodeHighlights(this._model,this._options,ee);for(const V of le.ranges)Z.ranges.push(V);Z.ambiguousCharacterCount+=Z.ambiguousCharacterCount,Z.invisibleCharacterCount+=Z.invisibleCharacterCount,Z.nonBasicAsciiCharacterCount+=Z.nonBasicAsciiCharacterCount,Z.hasMore=Z.hasMore||le.hasMore}if(!Z.hasMore)for(const ee of Z.ranges)ne.push({range:ee,options:M.instance.getDecorationFromOptions(this._options)});this._updateState(Z),this._decorations.set(ne)}getDecorationInfo(Q){if(!this._decorations.has(Q))return null;const ne=this._editor.getModel(),Z=ne.getValueInRange(Q.range);return(0,o.isModelDecorationVisible)(ne,Q)?{reason:O(Z,this._options),inComment:(0,o.isModelDecorationInComment)(ne,Q),inString:(0,o.isModelDecorationInString)(ne,Q)}:null}}let T=class{constructor(Q,ne,Z){this._editor=Q,this._languageService=ne,this._openerService=Z,this.hoverOrdinal=4}computeSync(Q,ne){if(!this._editor.hasModel()||Q.type!==1)return[];const Z=this._editor.getModel(),ee=this._editor.getContribution(v.ID);if(!ee)return[];const le=[];let V=300;for(const $ of ne){const oe=ee.getDecorationInfo($);if(!oe)continue;const ae=Z.getValueInRange($.range).codePointAt(0),z=R(ae);let J;switch(oe.reason.kind){case 0:J=r.localize(4,null,z,R(oe.reason.confusableWith.codePointAt(0)));break;case 1:J=r.localize(5,null,z);break;case 2:J=r.localize(6,null,z);break}const Y={codePoint:ae,reason:oe.reason,inComment:oe.inComment,inString:oe.inString},H=r.localize(7,null),j=`command:${P.ID}?${encodeURIComponent(JSON.stringify(Y))}`,de=new k.MarkdownString("",!0).appendMarkdown(J).appendText(" ").appendLink(j,H);le.push(new c.MarkdownHover(this,$.range,[de],!1,V++))}return le}renderHoverParts(Q,ne){return(0,c.renderMarkdownHovers)(Q,ne,this._editor,this._languageService,this._openerService)}};T=De([fe(1,n.ILanguageService),fe(2,u.IOpenerService)],T),e.UnicodeHighlighterHoverParticipant=T;function I(G){return`U+${G.toString(16).padStart(4,"0")}`}function R(G){let Q=`\`${I(G)}\``;return b.InvisibleCharacters.isInvisibleCharacter(G)||(Q+=` "${`${F(G)}`}"`),Q}function F(G){return G===96?"`` ` ``":"`"+String.fromCodePoint(G)+"`"}function O(G,Q){return t.UnicodeTextModelHighlighter.computeUnicodeHighlightReason(G,Q)}class M{constructor(){this.map=new Map}getDecorationFromOptions(Q){return this.getDecoration(!Q.includeComments,!Q.includeStrings)}getDecoration(Q,ne){const Z=`${Q}${ne}`;let ee=this.map.get(Z);return ee||(ee=g.ModelDecorationOptions.createDynamic({description:"unicode-highlight",stickiness:1,className:"unicode-highlight",showIfCollapsed:!0,overviewRuler:null,minimap:null,hideInCommentTokens:Q,hideInStringTokens:ne}),this.map.set(Z,ee)),ee}}M.instance=new M;class N extends C.EditorAction{constructor(){super({id:B.ID,label:r.localize(9,null),alias:"Disable highlighting of characters in comments",precondition:void 0}),this.shortLabel=r.localize(8,null)}run(Q,ne,Z){return Se(this,void 0,void 0,function*(){const ee=Q?.get(s.IConfigurationService);ee&&this.runAction(ee)})}runAction(Q){return Se(this,void 0,void 0,function*(){yield Q.updateValue(h.unicodeHighlightConfigKeys.includeComments,!1,2)})}}e.DisableHighlightingInCommentsAction=N;class A extends C.EditorAction{constructor(){super({id:B.ID,label:r.localize(11,null),alias:"Disable highlighting of characters in strings",precondition:void 0}),this.shortLabel=r.localize(10,null)}run(Q,ne,Z){return Se(this,void 0,void 0,function*(){const ee=Q?.get(s.IConfigurationService);ee&&this.runAction(ee)})}runAction(Q){return Se(this,void 0,void 0,function*(){yield Q.updateValue(h.unicodeHighlightConfigKeys.includeStrings,!1,2)})}}e.DisableHighlightingInStringsAction=A;class B extends C.EditorAction{constructor(){super({id:B.ID,label:r.localize(13,null),alias:"Disable highlighting of ambiguous characters",precondition:void 0}),this.shortLabel=r.localize(12,null)}run(Q,ne,Z){return Se(this,void 0,void 0,function*(){const ee=Q?.get(s.IConfigurationService);ee&&this.runAction(ee)})}runAction(Q){return Se(this,void 0,void 0,function*(){yield Q.updateValue(h.unicodeHighlightConfigKeys.ambiguousCharacters,!1,2)})}}e.DisableHighlightingOfAmbiguousCharactersAction=B,B.ID="editor.action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters";class W extends C.EditorAction{constructor(){super({id:W.ID,label:r.localize(15,null),alias:"Disable highlighting of invisible characters",precondition:void 0}),this.shortLabel=r.localize(14,null)}run(Q,ne,Z){return Se(this,void 0,void 0,function*(){const ee=Q?.get(s.IConfigurationService);ee&&this.runAction(ee)})}runAction(Q){return Se(this,void 0,void 0,function*(){yield Q.updateValue(h.unicodeHighlightConfigKeys.invisibleCharacters,!1,2)})}}e.DisableHighlightingOfInvisibleCharactersAction=W,W.ID="editor.action.unicodeHighlight.disableHighlightingOfInvisibleCharacters";class x extends C.EditorAction{constructor(){super({id:x.ID,label:r.localize(17,null),alias:"Disable highlighting of non basic ASCII characters",precondition:void 0}),this.shortLabel=r.localize(16,null)}run(Q,ne,Z){return Se(this,void 0,void 0,function*(){const ee=Q?.get(s.IConfigurationService);ee&&this.runAction(ee)})}runAction(Q){return Se(this,void 0,void 0,function*(){yield Q.updateValue(h.unicodeHighlightConfigKeys.nonBasicASCII,!1,2)})}}e.DisableHighlightingOfNonBasicAsciiCharactersAction=x,x.ID="editor.action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters";class P extends C.EditorAction{constructor(){super({id:P.ID,label:r.localize(18,null),alias:"Show Exclude Options",precondition:void 0})}run(Q,ne,Z){return Se(this,void 0,void 0,function*(){const{codePoint:ee,reason:le,inString:V,inComment:$}=Z,oe=String.fromCodePoint(ee),U=Q.get(p.IQuickInputService),ae=Q.get(s.IConfigurationService);function z(H){return b.InvisibleCharacters.isInvisibleCharacter(H)?r.localize(19,null,I(H)):r.localize(20,null,`${I(H)} "${oe}"`)}const J=[];if(le.kind===0)for(const H of le.notAmbiguousInLocales)J.push({label:r.localize(21,null,H),run:()=>Se(this,void 0,void 0,function*(){ie(ae,[H])})});if(J.push({label:z(ee),run:()=>X(ae,[ee])}),$){const H=new N;J.push({label:H.label,run:()=>Se(this,void 0,void 0,function*(){return H.runAction(ae)})})}else if(V){const H=new A;J.push({label:H.label,run:()=>Se(this,void 0,void 0,function*(){return H.runAction(ae)})})}if(le.kind===0){const H=new B;J.push({label:H.label,run:()=>Se(this,void 0,void 0,function*(){return H.runAction(ae)})})}else if(le.kind===1){const H=new W;J.push({label:H.label,run:()=>Se(this,void 0,void 0,function*(){return H.runAction(ae)})})}else if(le.kind===2){const H=new x;J.push({label:H.label,run:()=>Se(this,void 0,void 0,function*(){return H.runAction(ae)})})}else K(le);const Y=yield U.pick(J,{title:r.localize(22,null)});Y&&(yield Y.run())})}}e.ShowExcludeOptions=P,P.ID="editor.action.unicodeHighlight.showExcludeOptions";function X(G,Q){return Se(this,void 0,void 0,function*(){const ne=G.getValue(h.unicodeHighlightConfigKeys.allowedCharacters);let Z;typeof ne=="object"&&ne?Z=ne:Z={};for(const ee of Q)Z[String.fromCodePoint(ee)]=!0;yield G.updateValue(h.unicodeHighlightConfigKeys.allowedCharacters,Z,2)})}function ie(G,Q){var ne;return Se(this,void 0,void 0,function*(){const Z=(ne=G.inspect(h.unicodeHighlightConfigKeys.allowedLocales).user)===null||ne===void 0?void 0:ne.value;let ee;typeof Z=="object"&&Z?ee=Object.assign({},Z):ee={};for(const le of Q)ee[le]=!0;yield G.updateValue(h.unicodeHighlightConfigKeys.allowedLocales,ee,2)})}function K(G){throw new Error(`Unexpected value: ${G}`)}(0,C.registerEditorAction)(B),(0,C.registerEditorAction)(W),(0,C.registerEditorAction)(x),(0,C.registerEditorAction)(P),(0,C.registerEditorContribution)(v.ID,v),l.HoverParticipantRegistry.register(T)}),define(se[806],re([1,0,171,175,316,276,716,766,717,718,719,735,768,789,727,720,721,722,770,797,318,319,728,729,670,804,225,322,320,323,731,791,777,732,733,778,779,780,759,737,794,738,179,328,740,741,312,805,742,783,784,313,743,736,78,128]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),define(se[226],re([1,0,8,7,45,6,106,2,17,90,22,141,217,63,11,3,51,61,168,26,30,299,15,142,9,660,41,662,96,293,663,143,40,67,81,178,118,78,44,29,72,330,71,665,677,752,16,52,669,103,296,39,704,214,315,755,314,117,664,79,32,751,666,95,685,213,659,169,173,87,668,46,88,80,680,34,307,294,796,73,652]),function(q,e,w,m,k,D,L,b,C,h,g,t,i,n,o,l,c,d,r,s,a,u,p,S,f,v,_,y,E,T,I,R,F,O,M,N,A,B,W,x,P,X,ie,K,G,Q,ne,Z,ee,le,V,$,oe,U,ae,z,J,Y,H,j,de,ue,ce,ge,ve,_e,ye,Ee,Te,we,Ce,te,he,be,me){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneServices=e.updateConfigurationService=e.StandaloneConfigurationService=e.StandaloneKeybindingService=e.StandaloneCommandService=e.StandaloneNotificationService=void 0;class pe{constructor(Me){this.disposed=!1,this.model=Me,this._onWillDispose=new D.Emitter}get textEditorModel(){return this.model}dispose(){this.disposed=!0,this._onWillDispose.fire()}}let Le=class{constructor(Me){this.modelService=Me}createModelReference(Me){const We=this.modelService.getModel(Me);return We?Promise.resolve(new b.ImmortalReference(new pe(We))):Promise.reject(new Error("Model not found"))}};Le=De([fe(0,c.IModelService)],Le);class Ie{show(){return Ie.NULL_PROGRESS_RUNNER}showWhile(Me,We){return Se(this,void 0,void 0,function*(){yield Me})}}Ie.NULL_PROGRESS_RUNNER={done:()=>{},total:()=>{},worked:()=>{}};class Ne{withProgress(Me,We,Ve){return We({report:()=>{}})}}class Pe{confirm(Me){return this.doConfirm(Me).then(We=>({confirmed:We,checkboxChecked:!1}))}doConfirm(Me){let We=Me.message;return Me.detail&&(We=We+`

`+Me.detail),Promise.resolve(window.confirm(We))}show(Me,We,Ve,je){return Promise.resolve({choice:0})}}class Re{info(Me){return this.notify({severity:h.default.Info,message:Me})}warn(Me){return this.notify({severity:h.default.Warning,message:Me})}error(Me){return this.notify({severity:h.default.Error,message:Me})}notify(Me){switch(Me.severity){case h.default.Error:console.error(Me.message);break;case h.default.Warning:console.warn(Me.message);break;default:console.log(Me.message);break}return Re.NO_OP}status(Me,We){return b.Disposable.None}}e.StandaloneNotificationService=Re,Re.NO_OP=new F.NoOpNotification;let Ae=class{constructor(Me){this._onWillExecuteCommand=new D.Emitter,this._onDidExecuteCommand=new D.Emitter,this.onWillExecuteCommand=this._onWillExecuteCommand.event,this.onDidExecuteCommand=this._onDidExecuteCommand.event,this._instantiationService=Me}executeCommand(Me,...We){const Ve=s.CommandsRegistry.getCommand(Me);if(!Ve)return Promise.reject(new Error(`command '${Me}' not found`));try{this._onWillExecuteCommand.fire({commandId:Me,args:We});const je=this._instantiationService.invokeFunction.apply(this._instantiationService,[Ve.handler,...We]);return this._onDidExecuteCommand.fire({commandId:Me,args:We}),Promise.resolve(je)}catch(je){return Promise.reject(je)}}};Ae=De([fe(0,f.IInstantiationService)],Ae),e.StandaloneCommandService=Ae;let Be=class extends v.AbstractKeybindingService{constructor(Me,We,Ve,je,Ge,Ye){super(Me,We,Ve,je,Ge),this._cachedResolver=null,this._dynamicKeybindings=[],this._domNodeListeners=[];const Ze=at=>{const pt=new b.DisposableStore;pt.add(m.addDisposableListener(at,m.EventType.KEY_DOWN,St=>{const ft=new k.StandardKeyboardEvent(St);this._dispatch(ft,ft.target)&&(ft.preventDefault(),ft.stopPropagation())})),pt.add(m.addDisposableListener(at,m.EventType.KEY_UP,St=>{const ft=new k.StandardKeyboardEvent(St);this._singleModifierDispatch(ft,ft.target)&&ft.preventDefault()})),this._domNodeListeners.push(new Fe(at,pt))},nt=at=>{for(let pt=0;pt<this._domNodeListeners.length;pt++){const St=this._domNodeListeners[pt];St.domNode===at&&(this._domNodeListeners.splice(pt,1),St.dispose())}},lt=at=>{at.getOption(55)||Ze(at.getContainerDomNode())},gt=at=>{at.getOption(55)||nt(at.getContainerDomNode())};this._register(Ye.onCodeEditorAdd(lt)),this._register(Ye.onCodeEditorRemove(gt)),Ye.listCodeEditors().forEach(lt);const ct=at=>{Ze(at.getContainerDomNode())},ut=at=>{nt(at.getContainerDomNode())};this._register(Ye.onDiffEditorAdd(ct)),this._register(Ye.onDiffEditorRemove(ut)),Ye.listDiffEditors().forEach(ct)}addDynamicKeybinding(Me,We,Ve,je){return(0,b.combinedDisposable)(s.CommandsRegistry.registerCommand(Me,Ve),this.addDynamicKeybindings([{keybinding:We,command:Me,when:je}]))}addDynamicKeybindings(Me){const We=Me.map(Ve=>{var je,Ge;const Ye=(0,L.createKeybinding)(Ve.keybinding,C.OS);return{keybinding:(je=Ye?.parts)!==null&&je!==void 0?je:null,command:(Ge=Ve.command)!==null&&Ge!==void 0?Ge:null,commandArgs:Ve.commandArgs,when:Ve.when,weight1:1e3,weight2:0,extensionId:null,isBuiltinExtension:!1}});return this._dynamicKeybindings=this._dynamicKeybindings.concat(We),this.updateResolver(),(0,b.toDisposable)(()=>{for(let Ve=0;Ve<this._dynamicKeybindings.length;Ve++)if(this._dynamicKeybindings[Ve]===We[0]){this._dynamicKeybindings.splice(Ve,We.length),this.updateResolver();return}})}updateResolver(){this._cachedResolver=null,this._onDidUpdateKeybindings.fire()}_getResolver(){if(!this._cachedResolver){const Me=this._toNormalizedKeybindingItems(E.KeybindingsRegistry.getDefaultKeybindings(),!0),We=this._toNormalizedKeybindingItems(this._dynamicKeybindings,!1);this._cachedResolver=new y.KeybindingResolver(Me,We,Ve=>this._log(Ve))}return this._cachedResolver}_documentHasFocus(){return document.hasFocus()}_toNormalizedKeybindingItems(Me,We){const Ve=[];let je=0;for(const Ge of Me){const Ye=Ge.when||void 0,Ze=Ge.keybinding;if(!Ze)Ve[je++]=new T.ResolvedKeybindingItem(void 0,Ge.command,Ge.commandArgs,Ye,We,null,!1);else{const nt=I.USLayoutResolvedKeybinding.resolveUserBinding(Ze,C.OS);for(const lt of nt)Ve[je++]=new T.ResolvedKeybindingItem(lt,Ge.command,Ge.commandArgs,Ye,We,null,!1)}}return Ve}resolveKeyboardEvent(Me){const We=new L.SimpleKeybinding(Me.ctrlKey,Me.shiftKey,Me.altKey,Me.metaKey,Me.keyCode).toChord();return new I.USLayoutResolvedKeybinding(We,C.OS)}};Be=De([fe(0,p.IContextKeyService),fe(1,s.ICommandService),fe(2,M.ITelemetryService),fe(3,F.INotificationService),fe(4,P.ILogService),fe(5,x.ICodeEditorService)],Be),e.StandaloneKeybindingService=Be;class Fe extends b.Disposable{constructor(Me,We){super(),this.domNode=Me,this._register(We)}}function He(Ue){return Ue&&typeof Ue=="object"&&(!Ue.overrideIdentifier||typeof Ue.overrideIdentifier=="string")&&(!Ue.resource||Ue.resource instanceof g.URI)}class $e{constructor(){this._onDidChangeConfiguration=new D.Emitter,this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._configuration=new u.Configuration(new me.DefaultConfigurationModel,new u.ConfigurationModel,new u.ConfigurationModel,new u.ConfigurationModel)}getValue(Me,We){const Ve=typeof Me=="string"?Me:void 0,je=He(Me)?Me:He(We)?We:{};return this._configuration.getValue(Ve,je,void 0)}updateValues(Me){const We={data:this._configuration.toData()},Ve=[];for(const je of Me){const[Ge,Ye]=je;this.getValue(Ge)!==Ye&&(this._configuration.updateValue(Ge,Ye),Ve.push(Ge))}if(Ve.length>0){const je=new u.ConfigurationChangeEvent({keys:Ve,overrides:[]},We,this._configuration);je.source=8,je.sourceConfig=null,this._onDidChangeConfiguration.fire(je)}return Promise.resolve()}updateValue(Me,We,Ve,je){return this.updateValues([[Me,We]])}inspect(Me,We={}){return this._configuration.inspect(Me,We,void 0)}}e.StandaloneConfigurationService=$e;let it=class{constructor(Me){this.configurationService=Me,this._onDidChangeConfiguration=new D.Emitter,this.configurationService.onDidChangeConfiguration(We=>{this._onDidChangeConfiguration.fire({affectedKeys:We.affectedKeys,affectsConfiguration:(Ve,je)=>We.affectsConfiguration(je)})})}getValue(Me,We,Ve){const Ge=(o.Position.isIPosition(We)?We:null)?typeof Ve=="string"?Ve:void 0:typeof We=="string"?We:void 0;return typeof Ge>"u"?this.configurationService.getValue():this.configurationService.getValue(Ge)}};it=De([fe(0,a.IConfigurationService)],it);let tt=class{constructor(Me){this.configurationService=Me}getEOL(Me,We){const Ve=this.configurationService.getValue("files.eol",{overrideIdentifier:We,resource:Me});return Ve&&typeof Ve=="string"&&Ve!=="auto"?Ve:C.isLinux||C.isMacintosh?`
`:`\r
`}};tt=De([fe(0,a.IConfigurationService)],tt);class ot{publicLog(Me,We){return Promise.resolve(void 0)}publicLog2(Me,We){return this.publicLog(Me,We)}}class ze{constructor(){const Me=g.URI.from({scheme:ze.SCHEME,authority:"model",path:"/"});this.workspace={id:"4064f6ec-cb38-4ad0-af64-ee6467e63c82",folders:[new N.WorkspaceFolder({uri:Me,name:"",index:0})]}}getWorkspace(){return this.workspace}getWorkspaceFolder(Me){return Me&&Me.scheme===ze.SCHEME?this.workspace.folders[0]:null}}ze.SCHEME="inmemory";function ke(Ue,Me,We){if(!Me||!(Ue instanceof $e))return;const Ve=[];Object.keys(Me).forEach(je=>{(0,i.isEditorConfigurationKey)(je)&&Ve.push([`editor.${je}`,Me[je]]),We&&(0,i.isDiffEditorConfigurationKey)(je)&&Ve.push([`diffEditor.${je}`,Me[je]])}),Ve.length>0&&Ue.updateValues(Ve)}e.updateConfigurationService=ke;let Oe=class{constructor(Me){this._modelService=Me}hasPreviewHandler(){return!1}apply(Me,We){return Se(this,void 0,void 0,function*(){const Ve=Array.isArray(Me)?Me:t.ResourceEdit.convert(Me),je=new Map;for(const Ze of Ve){if(!(Ze instanceof t.ResourceTextEdit))throw new Error("bad edit - only text edits are supported");const nt=this._modelService.getModel(Ze.resource);if(!nt)throw new Error("bad edit - model not found");if(typeof Ze.versionId=="number"&&nt.getVersionId()!==Ze.versionId)throw new Error("bad state - model changed in the meantime");let lt=je.get(nt);lt||(lt=[],je.set(nt,lt)),lt.push(n.EditOperation.replaceMove(l.Range.lift(Ze.textEdit.range),Ze.textEdit.text))}let Ge=0,Ye=0;for(const[Ze,nt]of je)Ze.pushStackElement(),Ze.pushEditOperations([],nt,()=>[]),Ze.pushStackElement(),Ye+=1,Ge+=nt.length;return{ariaSummary:w.format(B.StandaloneServicesNLS.bulkEditServiceSummary,Ge,Ye),isApplied:Ge>0}})}};Oe=De([fe(0,c.IModelService)],Oe);class xe{getUriLabel(Me,We){return Me.scheme==="file"?Me.fsPath:Me.path}getUriBasenameLabel(Me){return(0,W.basename)(Me)}}let qe=class extends K.ContextViewService{constructor(Me,We){super(Me),this._codeEditorService=We}showContextView(Me,We,Ve){if(!We){const je=this._codeEditorService.getFocusedCodeEditor()||this._codeEditorService.getActiveCodeEditor();je&&(We=je.getContainerDomNode())}return super.showContextView(Me,We,Ve)}};qe=De([fe(0,A.ILayoutService),fe(1,x.ICodeEditorService)],qe);class Ke{constructor(){this._neverEmitter=new D.Emitter,this.onDidChangeTrust=this._neverEmitter.event}isWorkspaceTrusted(){return!0}}class Qe extends G.LanguageService{constructor(){super()}}class Xe extends P.LogService{constructor(){super(new P.ConsoleLogger)}}let Je=class extends Q.ContextMenuService{constructor(Me,We,Ve,je,Ge,Ye,Ze){super(Me,We,Ve,je,Ge,Ye,Ze),this.configure({blockMouse:!1})}};Je=De([fe(0,M.ITelemetryService),fe(1,F.INotificationService),fe(2,ie.IContextViewService),fe(3,_.IKeybindingService),fe(4,ne.IThemeService),fe(5,de.IMenuService),fe(6,p.IContextKeyService)],Je),(0,Z.registerSingleton)(a.IConfigurationService,$e,!1),(0,Z.registerSingleton)(r.ITextResourceConfigurationService,it,!1),(0,Z.registerSingleton)(r.ITextResourcePropertiesService,tt,!1),(0,Z.registerSingleton)(N.IWorkspaceContextService,ze,!1),(0,Z.registerSingleton)(R.ILabelService,xe,!1),(0,Z.registerSingleton)(M.ITelemetryService,ot,!1),(0,Z.registerSingleton)(S.IDialogService,Pe,!1),(0,Z.registerSingleton)(F.INotificationService,Re,!1),(0,Z.registerSingleton)(we.IMarkerService,Ce.MarkerService,!1),(0,Z.registerSingleton)($.ILanguageService,Qe,!1),(0,Z.registerSingleton)(Y.IStandaloneThemeService,J.StandaloneThemeService,!1),(0,Z.registerSingleton)(P.ILogService,Xe,!1),(0,Z.registerSingleton)(c.IModelService,ae.ModelService,!1),(0,Z.registerSingleton)(U.IMarkerDecorationsService,oe.MarkerDecorationsService,!1),(0,Z.registerSingleton)(p.IContextKeyService,ve.ContextKeyService,!1),(0,Z.registerSingleton)(O.IProgressService,Ne,!1),(0,Z.registerSingleton)(O.IEditorProgressService,Ie,!1),(0,Z.registerSingleton)(be.IStorageService,be.InMemoryStorageService,!1),(0,Z.registerSingleton)(le.IEditorWorkerService,V.EditorWorkerService,!1),(0,Z.registerSingleton)(t.IBulkEditService,Oe,!1),(0,Z.registerSingleton)(X.IWorkspaceTrustManagementService,Ke,!1),(0,Z.registerSingleton)(d.ITextModelService,Le,!1),(0,Z.registerSingleton)(j.IAccessibilityService,H.AccessibilityService,!1),(0,Z.registerSingleton)(Te.IListService,Te.ListService,!1),(0,Z.registerSingleton)(s.ICommandService,Ae,!1),(0,Z.registerSingleton)(_.IKeybindingService,Be,!1),(0,Z.registerSingleton)(he.IQuickInputService,z.StandaloneQuickInputService,!1),(0,Z.registerSingleton)(ie.IContextViewService,qe,!1),(0,Z.registerSingleton)(te.IOpenerService,ee.OpenerService,!1),(0,Z.registerSingleton)(ge.IClipboardService,ce.BrowserClipboardService,!1),(0,Z.registerSingleton)(ie.IContextMenuService,Je,!1),(0,Z.registerSingleton)(de.IMenuService,ue.MenuService,!1);var st;(function(Ue){const Me=new Ee.ServiceCollection;for(const[Ye,Ze]of(0,Z.getSingletonServiceDescriptors)())Me.set(Ye,Ze);const We=new ye.InstantiationService(Me,!0);Me.set(f.IInstantiationService,We);function Ve(Ye){const Ze=Me.get(Ye);if(!Ze)throw new Error("Missing service "+Ye);return Ze instanceof _e.SyncDescriptor?We.invokeFunction(nt=>nt.get(Ye)):Ze}Ue.get=Ve;let je=!1;function Ge(Ye){if(je)return We;je=!0;for(const[Ze,nt]of(0,Z.getSingletonServiceDescriptors)())Me.get(Ze)||Me.set(Ze,nt);for(const Ze in Ye)if(Ye.hasOwnProperty(Ze)){const nt=(0,f.createDecorator)(Ze);Me.get(nt)instanceof _e.SyncDescriptor&&Me.set(nt,Ye[Ze])}return We}Ue.initialize=Ge})(st=e.StandaloneServices||(e.StandaloneServices={}))}),define(se[807],re([1,0,50,2,29,175,316,239,226,117,32,26,30,15,71,9,41,40,16,79,78,95,67,51,39,307,74,34,20]),function(q,e,w,m,k,D,L,b,C,h,g,t,i,n,o,l,c,d,r,s,a,u,p,S,f,v,_,y,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createTextModel=e.StandaloneDiffEditor=e.StandaloneEditor=e.StandaloneCodeEditor=void 0;let T=0,I=!1;function R(B){if(!B){if(I)return;I=!0}w.setARIAContainer(B||document.body)}let F=class extends D.CodeEditorWidget{constructor(W,x,P,X,ie,K,G,Q,ne,Z,ee,le){const V=Object.assign({},x);V.ariaLabel=V.ariaLabel||a.StandaloneCodeEditorNLS.editorViewAccessibleLabel,V.ariaLabel=V.ariaLabel+";"+a.StandaloneCodeEditorNLS.accessibilityHelpMessage,super(W,V,{},P,X,ie,K,Q,ne,Z,ee,le),G instanceof C.StandaloneKeybindingService?this._standaloneKeybindingService=G:this._standaloneKeybindingService=null,R(V.ariaContainerElement)}addCommand(W,x,P){if(!this._standaloneKeybindingService)return console.warn("Cannot add command because the editor is configured with an unrecognized KeybindingService"),null;const X="DYNAMIC_"+ ++T,ie=n.ContextKeyExpr.deserialize(P);return this._standaloneKeybindingService.addDynamicKeybinding(X,W,x,ie),X}createContextKey(W,x){return this._contextKeyService.createKey(W,x)}addAction(W){if(typeof W.id!="string"||typeof W.label!="string"||typeof W.run!="function")throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");if(!this._standaloneKeybindingService)return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),m.Disposable.None;const x=W.id,P=W.label,X=n.ContextKeyExpr.and(n.ContextKeyExpr.equals("editorId",this.getId()),n.ContextKeyExpr.deserialize(W.precondition)),ie=W.keybindings,K=n.ContextKeyExpr.and(X,n.ContextKeyExpr.deserialize(W.keybindingContext)),G=W.contextMenuGroupId||null,Q=W.contextMenuOrder||0,ne=(V,...$)=>Promise.resolve(W.run(this,...$)),Z=new m.DisposableStore,ee=this.getId()+":"+x;if(Z.add(t.CommandsRegistry.registerCommand(ee,ne)),G){const V={command:{id:ee,title:P},when:X,group:G,order:Q};Z.add(g.MenuRegistry.appendMenuItem(g.MenuId.EditorContext,V))}if(Array.isArray(ie))for(const V of ie)Z.add(this._standaloneKeybindingService.addDynamicKeybinding(ee,V,ne,K));const le=new b.InternalEditorAction(ee,P,P,X,ne,this._contextKeyService);return this._actions.set(x,le),Z.add((0,m.toDisposable)(()=>{this._actions.delete(x)})),Z}_triggerCommand(W,x){if(this._codeEditorService instanceof v.StandaloneCodeEditorService)try{this._codeEditorService.setActiveCodeEditor(this),super._triggerCommand(W,x)}finally{this._codeEditorService.setActiveCodeEditor(null)}else super._triggerCommand(W,x)}};F=De([fe(2,l.IInstantiationService),fe(3,k.ICodeEditorService),fe(4,t.ICommandService),fe(5,n.IContextKeyService),fe(6,c.IKeybindingService),fe(7,r.IThemeService),fe(8,d.INotificationService),fe(9,s.IAccessibilityService),fe(10,y.ILanguageConfigurationService),fe(11,E.ILanguageFeaturesService)],F),e.StandaloneCodeEditor=F;let O=class extends F{constructor(W,x,P,X,ie,K,G,Q,ne,Z,ee,le,V,$,oe){const U=Object.assign({},x);(0,C.updateConfigurationService)(Z,U,!1);const ae=Q.registerEditorContainer(W);typeof U.theme=="string"&&Q.setTheme(U.theme),typeof U.autoDetectHighContrast<"u"&&Q.setAutoDetectHighContrast(Boolean(U.autoDetectHighContrast));const z=U.model;delete U.model,super(W,U,P,X,ie,K,G,Q,ne,ee,$,oe),this._configurationService=Z,this._standaloneThemeService=Q,this._register(ae);let J;if(typeof z>"u"){const Y=V.getLanguageIdByMimeType(U.language)||U.language||_.PLAINTEXT_LANGUAGE_ID;J=N(le,V,U.value||"",Y,void 0),this._ownsModel=!0}else J=z,this._ownsModel=!1;if(this._attachModel(J),J){const Y={oldModelUrl:null,newModelUrl:J.uri};this._onDidChangeModel.fire(Y)}}dispose(){super.dispose()}updateOptions(W){(0,C.updateConfigurationService)(this._configurationService,W,!1),typeof W.theme=="string"&&this._standaloneThemeService.setTheme(W.theme),typeof W.autoDetectHighContrast<"u"&&this._standaloneThemeService.setAutoDetectHighContrast(Boolean(W.autoDetectHighContrast)),super.updateOptions(W)}_postDetachModelCleanup(W){super._postDetachModelCleanup(W),W&&this._ownsModel&&(W.dispose(),this._ownsModel=!1)}};O=De([fe(2,l.IInstantiationService),fe(3,k.ICodeEditorService),fe(4,t.ICommandService),fe(5,n.IContextKeyService),fe(6,c.IKeybindingService),fe(7,h.IStandaloneThemeService),fe(8,d.INotificationService),fe(9,i.IConfigurationService),fe(10,s.IAccessibilityService),fe(11,S.IModelService),fe(12,f.ILanguageService),fe(13,y.ILanguageConfigurationService),fe(14,E.ILanguageFeaturesService)],O),e.StandaloneEditor=O;let M=class extends L.DiffEditorWidget{constructor(W,x,P,X,ie,K,G,Q,ne,Z,ee){const le=Object.assign({},x);(0,C.updateConfigurationService)(Q,le,!0);const V=K.registerEditorContainer(W);typeof le.theme=="string"&&K.setTheme(le.theme),typeof le.autoDetectHighContrast<"u"&&K.setAutoDetectHighContrast(Boolean(le.autoDetectHighContrast)),super(W,le,{},ee,X,P,ie,K,G,ne,Z),this._configurationService=Q,this._standaloneThemeService=K,this._register(V)}dispose(){super.dispose()}updateOptions(W){(0,C.updateConfigurationService)(this._configurationService,W,!0),typeof W.theme=="string"&&this._standaloneThemeService.setTheme(W.theme),typeof W.autoDetectHighContrast<"u"&&this._standaloneThemeService.setAutoDetectHighContrast(Boolean(W.autoDetectHighContrast)),super.updateOptions(W)}_createInnerEditor(W,x,P){return W.createInstance(F,x,P)}getOriginalEditor(){return super.getOriginalEditor()}getModifiedEditor(){return super.getModifiedEditor()}addCommand(W,x,P){return this.getModifiedEditor().addCommand(W,x,P)}createContextKey(W,x){return this.getModifiedEditor().createContextKey(W,x)}addAction(W){return this.getModifiedEditor().addAction(W)}};M=De([fe(2,l.IInstantiationService),fe(3,n.IContextKeyService),fe(4,k.ICodeEditorService),fe(5,h.IStandaloneThemeService),fe(6,d.INotificationService),fe(7,i.IConfigurationService),fe(8,o.IContextMenuService),fe(9,p.IEditorProgressService),fe(10,u.IClipboardService)],M),e.StandaloneDiffEditor=M;function N(B,W,x,P,X){if(x=x||"",!P){const ie=x.indexOf(`
`);let K=x;return ie!==-1&&(K=x.substring(0,ie)),A(B,x,W.createByFilepathOrFirstLine(X||null,K),X)}return A(B,x,W.createById(P),X)}e.createTextModel=N;function A(B,W,x,P){return B.createModel(W,x,P)}}),define(se[808],re([1,0,2,8,284,29,276,38,212,155,47,28,34,139,39,51,673,160,654,807,226,117,26,87,41,13,32,15,408]),function(q,e,w,m,k,D,L,b,C,h,g,t,i,n,o,l,c,d,r,s,a,u,p,S,f,v,_,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createMonacoEditorAPI=e.registerCommand=e.remeasureFonts=e.setTheme=e.defineTheme=e.tokenize=e.colorizeModelLine=e.colorize=e.colorizeElement=e.createWebWorker=e.onDidChangeModelLanguage=e.onWillDisposeModel=e.onDidCreateModel=e.getModels=e.getModel=e.onDidChangeMarkers=e.getModelMarkers=e.removeAllMarkers=e.setModelMarkers=e.setModelLanguage=e.createModel=e.addKeybindingRules=e.addKeybindingRule=e.addEditorAction=e.addCommand=e.createDiffNavigator=e.createDiffEditor=e.getDiffEditors=e.getEditors=e.onDidCreateDiffEditor=e.onDidCreateEditor=e.create=void 0;function E(ue,ce,ge){return a.StandaloneServices.initialize(ge||{}).createInstance(s.StandaloneEditor,ue,ce)}e.create=E;function T(ue){return a.StandaloneServices.get(D.ICodeEditorService).onCodeEditorAdd(ge=>{ue(ge)})}e.onDidCreateEditor=T;function I(ue){return a.StandaloneServices.get(D.ICodeEditorService).onDiffEditorAdd(ge=>{ue(ge)})}e.onDidCreateDiffEditor=I;function R(){return a.StandaloneServices.get(D.ICodeEditorService).listCodeEditors()}e.getEditors=R;function F(){return a.StandaloneServices.get(D.ICodeEditorService).listDiffEditors()}e.getDiffEditors=F;function O(ue,ce,ge){return a.StandaloneServices.initialize(ge||{}).createInstance(s.StandaloneDiffEditor,ue,ce)}e.createDiffEditor=O;function M(ue,ce){return new L.DiffNavigator(ue,ce)}e.createDiffNavigator=M;function N(ue){if(typeof ue.id!="string"||typeof ue.run!="function")throw new Error("Invalid command descriptor, `id` and `run` are required properties!");return p.CommandsRegistry.registerCommand(ue.id,ue.run)}e.addCommand=N;function A(ue){if(typeof ue.id!="string"||typeof ue.label!="string"||typeof ue.run!="function")throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");const ce=y.ContextKeyExpr.deserialize(ue.precondition),ge=(_e,...ye)=>v.EditorCommand.runEditorCommand(_e,ye,ce,(Ee,Te,we)=>Promise.resolve(ue.run(Te,...we))),ve=new w.DisposableStore;if(ve.add(p.CommandsRegistry.registerCommand(ue.id,ge)),ue.contextMenuGroupId){const _e={command:{id:ue.id,title:ue.label},when:ce,group:ue.contextMenuGroupId,order:ue.contextMenuOrder||0};ve.add(_.MenuRegistry.appendMenuItem(_.MenuId.EditorContext,_e))}if(Array.isArray(ue.keybindings)){const _e=a.StandaloneServices.get(f.IKeybindingService);if(!(_e instanceof a.StandaloneKeybindingService))console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService");else{const ye=y.ContextKeyExpr.and(ce,y.ContextKeyExpr.deserialize(ue.keybindingContext));ve.add(_e.addDynamicKeybindings(ue.keybindings.map(Ee=>({keybinding:Ee,command:ue.id,when:ye}))))}}return ve}e.addEditorAction=A;function B(ue){return W([ue])}e.addKeybindingRule=B;function W(ue){const ce=a.StandaloneServices.get(f.IKeybindingService);return ce instanceof a.StandaloneKeybindingService?ce.addDynamicKeybindings(ue.map(ge=>({keybinding:ge.keybinding,command:ge.command,commandArgs:ge.commandArgs,when:y.ContextKeyExpr.deserialize(ge.when)}))):(console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),w.Disposable.None)}e.addKeybindingRules=W;function x(ue,ce,ge){const ve=a.StandaloneServices.get(o.ILanguageService),_e=ve.getLanguageIdByMimeType(ce)||ce;return(0,s.createTextModel)(a.StandaloneServices.get(l.IModelService),ve,ue,_e,ge)}e.createModel=x;function P(ue,ce){const ge=a.StandaloneServices.get(o.ILanguageService);a.StandaloneServices.get(l.IModelService).setMode(ue,ge.createById(ce))}e.setModelLanguage=P;function X(ue,ce,ge){ue&&a.StandaloneServices.get(S.IMarkerService).changeOne(ce,ue.uri,ge)}e.setModelMarkers=X;function ie(ue){a.StandaloneServices.get(S.IMarkerService).changeAll(ue,[])}e.removeAllMarkers=ie;function K(ue){return a.StandaloneServices.get(S.IMarkerService).read(ue)}e.getModelMarkers=K;function G(ue){return a.StandaloneServices.get(S.IMarkerService).onMarkerChanged(ue)}e.onDidChangeMarkers=G;function Q(ue){return a.StandaloneServices.get(l.IModelService).getModel(ue)}e.getModel=Q;function ne(){return a.StandaloneServices.get(l.IModelService).getModels()}e.getModels=ne;function Z(ue){return a.StandaloneServices.get(l.IModelService).onModelAdded(ue)}e.onDidCreateModel=Z;function ee(ue){return a.StandaloneServices.get(l.IModelService).onModelRemoved(ue)}e.onWillDisposeModel=ee;function le(ue){return a.StandaloneServices.get(l.IModelService).onModelLanguageChanged(ge=>{ue({model:ge.model,oldLanguage:ge.oldLanguageId})})}e.onDidChangeModelLanguage=le;function V(ue){return(0,c.createWebWorker)(a.StandaloneServices.get(l.IModelService),a.StandaloneServices.get(i.ILanguageConfigurationService),ue)}e.createWebWorker=V;function $(ue,ce){const ge=a.StandaloneServices.get(o.ILanguageService),ve=a.StandaloneServices.get(u.IStandaloneThemeService);return ve.registerEditorContainer(ue),r.Colorizer.colorizeElement(ve,ge,ue,ce)}e.colorizeElement=$;function oe(ue,ce,ge){const ve=a.StandaloneServices.get(o.ILanguageService);return a.StandaloneServices.get(u.IStandaloneThemeService).registerEditorContainer(document.body),r.Colorizer.colorize(ve,ue,ce,ge)}e.colorize=oe;function U(ue,ce,ge=4){return a.StandaloneServices.get(u.IStandaloneThemeService).registerEditorContainer(document.body),r.Colorizer.colorizeModelLine(ue,ce,ge)}e.colorizeModelLine=U;function ae(ue){const ce=t.TokenizationRegistry.get(ue);return ce||{getInitialState:()=>n.NullState,tokenize:(ge,ve,_e)=>(0,n.nullTokenize)(ue,_e)}}function z(ue,ce){t.TokenizationRegistry.getOrCreate(ce);const ge=ae(ce),ve=(0,m.splitLines)(ue),_e=[];let ye=ge.getInitialState();for(let Ee=0,Te=ve.length;Ee<Te;Ee++){const we=ve[Ee],Ce=ge.tokenize(we,!0,ye);_e[Ee]=Ce.tokens,ye=Ce.endState}return _e}e.tokenize=z;function J(ue,ce){a.StandaloneServices.get(u.IStandaloneThemeService).defineTheme(ue,ce)}e.defineTheme=J;function Y(ue){a.StandaloneServices.get(u.IStandaloneThemeService).setTheme(ue)}e.setTheme=Y;function H(){k.FontMeasurements.clearAllFontInfos()}e.remeasureFonts=H;function j(ue,ce){return p.CommandsRegistry.registerCommand({id:ue,handler:ce})}e.registerCommand=j;function de(){return{create:E,getEditors:R,getDiffEditors:F,onDidCreateEditor:T,onDidCreateDiffEditor:I,createDiffEditor:O,createDiffNavigator:M,addCommand:N,addEditorAction:A,addKeybindingRule:B,addKeybindingRules:W,createModel:x,setModelLanguage:P,setModelMarkers:X,getModelMarkers:K,removeAllMarkers:ie,onDidChangeMarkers:G,getModels:ne,getModel:Q,onDidCreateModel:Z,onWillDisposeModel:ee,onDidChangeModelLanguage:le,createWebWorker:V,colorizeElement:$,colorize:oe,colorizeModelLine:U,tokenize:z,defineTheme:J,setTheme:Y,remeasureFonts:H,registerCommand:j,AccessibilitySupport:d.AccessibilitySupport,ContentWidgetPositionPreference:d.ContentWidgetPositionPreference,CursorChangeReason:d.CursorChangeReason,DefaultEndOfLine:d.DefaultEndOfLine,EditorAutoIndentStrategy:d.EditorAutoIndentStrategy,EditorOption:d.EditorOption,EndOfLinePreference:d.EndOfLinePreference,EndOfLineSequence:d.EndOfLineSequence,MinimapPosition:d.MinimapPosition,MouseTargetType:d.MouseTargetType,OverlayWidgetPositionPreference:d.OverlayWidgetPositionPreference,OverviewRulerLane:d.OverviewRulerLane,RenderLineNumbersType:d.RenderLineNumbersType,RenderMinimap:d.RenderMinimap,ScrollbarVisibility:d.ScrollbarVisibility,ScrollType:d.ScrollType,TextEditorCursorBlinkingStyle:d.TextEditorCursorBlinkingStyle,TextEditorCursorStyle:d.TextEditorCursorStyle,TrackedRangeStickiness:d.TrackedRangeStickiness,WrappingIndent:d.WrappingIndent,InjectedTextCursorStops:d.InjectedTextCursorStops,PositionAffinity:d.PositionAffinity,ConfigurationChangedEvent:b.ConfigurationChangedEvent,BareFontInfo:C.BareFontInfo,FontInfo:C.FontInfo,TextModelResolvedOptions:g.TextModelResolvedOptions,FindMatch:g.FindMatch,ApplyUpdateResult:b.ApplyUpdateResult,EditorType:h.EditorType,EditorOptions:b.EditorOptions}}e.createMonacoEditorAPI=de}),define(se[809],re([1,0,31,3,28,34,74,39,160,226,476,291,117,87,20,30]),function(q,e,w,m,k,D,L,b,C,h,g,t,i,n,o,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createMonacoLanguagesAPI=e.registerInlayHintsProvider=e.registerInlineCompletionsProvider=e.registerDocumentRangeSemanticTokensProvider=e.registerDocumentSemanticTokensProvider=e.registerSelectionRangeProvider=e.registerDeclarationProvider=e.registerFoldingRangeProvider=e.registerColorProvider=e.registerCompletionItemProvider=e.registerLinkProvider=e.registerOnTypeFormattingEditProvider=e.registerDocumentRangeFormattingEditProvider=e.registerDocumentFormattingEditProvider=e.registerCodeActionProvider=e.registerCodeLensProvider=e.registerTypeDefinitionProvider=e.registerImplementationProvider=e.registerDefinitionProvider=e.registerLinkedEditingRangeProvider=e.registerDocumentHighlightProvider=e.registerDocumentSymbolProvider=e.registerHoverProvider=e.registerSignatureHelpProvider=e.registerRenameProvider=e.registerReferenceProvider=e.setMonarchTokensProvider=e.setTokensProvider=e.registerTokensProviderFactory=e.setColorMap=e.TokenizationSupportAdapter=e.EncodedTokenizationSupportAdapter=e.setLanguageConfiguration=e.onLanguage=e.getEncodedLanguageId=e.getLanguages=e.register=void 0;function c(Y){L.ModesRegistry.registerLanguage(Y)}e.register=c;function d(){let Y=[];return Y=Y.concat(L.ModesRegistry.getLanguages()),Y}e.getLanguages=d;function r(Y){return h.StandaloneServices.get(b.ILanguageService).languageIdCodec.encodeLanguageId(Y)}e.getEncodedLanguageId=r;function s(Y,H){const de=h.StandaloneServices.get(b.ILanguageService).onDidEncounterLanguage(ue=>{ue===Y&&(de.dispose(),H())});return de}e.onLanguage=s;function a(Y,H){if(!h.StandaloneServices.get(b.ILanguageService).isRegisteredLanguageId(Y))throw new Error(`Cannot set configuration for unknown language ${Y}`);return h.StandaloneServices.get(D.ILanguageConfigurationService).register(Y,H,100)}e.setLanguageConfiguration=a;class u{constructor(H,j){this._languageId=H,this._actual=j}getInitialState(){return this._actual.getInitialState()}tokenize(H,j,de){if(typeof this._actual.tokenize=="function")return p.adaptTokenize(this._languageId,this._actual,H,de);throw new Error("Not supported!")}tokenizeEncoded(H,j,de){const ue=this._actual.tokenizeEncoded(H,de);return new k.EncodedTokenizationResult(ue.tokens,ue.endState)}}e.EncodedTokenizationSupportAdapter=u;class p{constructor(H,j,de,ue){this._languageId=H,this._actual=j,this._languageService=de,this._standaloneThemeService=ue}getInitialState(){return this._actual.getInitialState()}static _toClassicTokens(H,j){const de=[];let ue=0;for(let ce=0,ge=H.length;ce<ge;ce++){const ve=H[ce];let _e=ve.startIndex;ce===0?_e=0:_e<ue&&(_e=ue),de[ce]=new k.Token(_e,ve.scopes,j),ue=_e}return de}static adaptTokenize(H,j,de,ue){const ce=j.tokenize(de,ue),ge=p._toClassicTokens(ce.tokens,H);let ve;return ce.endState.equals(ue)?ve=ue:ve=ce.endState,new k.TokenizationResult(ge,ve)}tokenize(H,j,de){return p.adaptTokenize(this._languageId,this._actual,H,de)}_toBinaryTokens(H,j){const de=H.encodeLanguageId(this._languageId),ue=this._standaloneThemeService.getColorTheme().tokenTheme,ce=[];let ge=0,ve=0;for(let ye=0,Ee=j.length;ye<Ee;ye++){const Te=j[ye],we=ue.match(de,Te.scopes);if(ge>0&&ce[ge-1]===we)continue;let Ce=Te.startIndex;ye===0?Ce=0:Ce<ve&&(Ce=ve),ce[ge++]=Ce,ce[ge++]=we,ve=Ce}const _e=new Uint32Array(ge);for(let ye=0;ye<ge;ye++)_e[ye]=ce[ye];return _e}tokenizeEncoded(H,j,de){const ue=this._actual.tokenize(H,de),ce=this._toBinaryTokens(this._languageService.languageIdCodec,ue.tokens);let ge;return ue.endState.equals(de)?ge=de:ge=ue.endState,new k.EncodedTokenizationResult(ce,ge)}}e.TokenizationSupportAdapter=p;function S(Y){return typeof Y.getInitialState=="function"}function f(Y){return"tokenizeEncoded"in Y}function v(Y){return Y&&typeof Y.then=="function"}function _(Y){const H=h.StandaloneServices.get(i.IStandaloneThemeService);if(Y){const j=[null];for(let de=1,ue=Y.length;de<ue;de++)j[de]=w.Color.fromHex(Y[de]);H.setColorMapOverride(j)}else H.setColorMapOverride(null)}e.setColorMap=_;function y(Y,H){return f(H)?new u(Y,H):new p(Y,H,h.StandaloneServices.get(b.ILanguageService),h.StandaloneServices.get(i.IStandaloneThemeService))}function E(Y,H){const j={createTokenizationSupport:()=>Se(this,void 0,void 0,function*(){const de=yield Promise.resolve(H.create());return de?S(de)?y(Y,de):new t.MonarchTokenizer(h.StandaloneServices.get(b.ILanguageService),h.StandaloneServices.get(i.IStandaloneThemeService),Y,(0,g.compile)(Y,de),h.StandaloneServices.get(l.IConfigurationService)):null})};return k.TokenizationRegistry.registerFactory(Y,j)}e.registerTokensProviderFactory=E;function T(Y,H){if(!h.StandaloneServices.get(b.ILanguageService).isRegisteredLanguageId(Y))throw new Error(`Cannot set tokens provider for unknown language ${Y}`);return v(H)?E(Y,{create:()=>H}):k.TokenizationRegistry.register(Y,y(Y,H))}e.setTokensProvider=T;function I(Y,H){const j=de=>new t.MonarchTokenizer(h.StandaloneServices.get(b.ILanguageService),h.StandaloneServices.get(i.IStandaloneThemeService),Y,(0,g.compile)(Y,de),h.StandaloneServices.get(l.IConfigurationService));return v(H)?E(Y,{create:()=>H}):k.TokenizationRegistry.register(Y,j(H))}e.setMonarchTokensProvider=I;function R(Y,H){return h.StandaloneServices.get(o.ILanguageFeaturesService).referenceProvider.register(Y,H)}e.registerReferenceProvider=R;function F(Y,H){return h.StandaloneServices.get(o.ILanguageFeaturesService).renameProvider.register(Y,H)}e.registerRenameProvider=F;function O(Y,H){return h.StandaloneServices.get(o.ILanguageFeaturesService).signatureHelpProvider.register(Y,H)}e.registerSignatureHelpProvider=O;function M(Y,H){return h.StandaloneServices.get(o.ILanguageFeaturesService).hoverProvider.register(Y,{provideHover:(de,ue,ce)=>{const ge=de.getWordAtPosition(ue);return Promise.resolve(H.provideHover(de,ue,ce)).then(ve=>{if(!!ve)return!ve.range&&ge&&(ve.range=new m.Range(ue.lineNumber,ge.startColumn,ue.lineNumber,ge.endColumn)),ve.range||(ve.range=new m.Range(ue.lineNumber,ue.column,ue.lineNumber,ue.column)),ve})}})}e.registerHoverProvider=M;function N(Y,H){return h.StandaloneServices.get(o.ILanguageFeaturesService).documentSymbolProvider.register(Y,H)}e.registerDocumentSymbolProvider=N;function A(Y,H){return h.StandaloneServices.get(o.ILanguageFeaturesService).documentHighlightProvider.register(Y,H)}e.registerDocumentHighlightProvider=A;function B(Y,H){return h.StandaloneServices.get(o.ILanguageFeaturesService).linkedEditingRangeProvider.register(Y,H)}e.registerLinkedEditingRangeProvider=B;function W(Y,H){return h.StandaloneServices.get(o.ILanguageFeaturesService).definitionProvider.register(Y,H)}e.registerDefinitionProvider=W;function x(Y,H){return h.StandaloneServices.get(o.ILanguageFeaturesService).implementationProvider.register(Y,H)}e.registerImplementationProvider=x;function P(Y,H){return h.StandaloneServices.get(o.ILanguageFeaturesService).typeDefinitionProvider.register(Y,H)}e.registerTypeDefinitionProvider=P;function X(Y,H){return h.StandaloneServices.get(o.ILanguageFeaturesService).codeLensProvider.register(Y,H)}e.registerCodeLensProvider=X;function ie(Y,H,j){return h.StandaloneServices.get(o.ILanguageFeaturesService).codeActionProvider.register(Y,{providedCodeActionKinds:j?.providedCodeActionKinds,documentation:j?.documentation,provideCodeActions:(ue,ce,ge,ve)=>{const ye=h.StandaloneServices.get(n.IMarkerService).read({resource:ue.uri}).filter(Ee=>m.Range.areIntersectingOrTouching(Ee,ce));return H.provideCodeActions(ue,ce,{markers:ye,only:ge.only,trigger:ge.trigger},ve)},resolveCodeAction:H.resolveCodeAction})}e.registerCodeActionProvider=ie;function K(Y,H){return h.StandaloneServices.get(o.ILanguageFeaturesService).documentFormattingEditProvider.register(Y,H)}e.registerDocumentFormattingEditProvider=K;function G(Y,H){return h.StandaloneServices.get(o.ILanguageFeaturesService).documentRangeFormattingEditProvider.register(Y,H)}e.registerDocumentRangeFormattingEditProvider=G;function Q(Y,H){return h.StandaloneServices.get(o.ILanguageFeaturesService).onTypeFormattingEditProvider.register(Y,H)}e.registerOnTypeFormattingEditProvider=Q;function ne(Y,H){return h.StandaloneServices.get(o.ILanguageFeaturesService).linkProvider.register(Y,H)}e.registerLinkProvider=ne;function Z(Y,H){return h.StandaloneServices.get(o.ILanguageFeaturesService).completionProvider.register(Y,H)}e.registerCompletionItemProvider=Z;function ee(Y,H){return h.StandaloneServices.get(o.ILanguageFeaturesService).colorProvider.register(Y,H)}e.registerColorProvider=ee;function le(Y,H){return h.StandaloneServices.get(o.ILanguageFeaturesService).foldingRangeProvider.register(Y,H)}e.registerFoldingRangeProvider=le;function V(Y,H){return h.StandaloneServices.get(o.ILanguageFeaturesService).declarationProvider.register(Y,H)}e.registerDeclarationProvider=V;function $(Y,H){return h.StandaloneServices.get(o.ILanguageFeaturesService).selectionRangeProvider.register(Y,H)}e.registerSelectionRangeProvider=$;function oe(Y,H){return h.StandaloneServices.get(o.ILanguageFeaturesService).documentSemanticTokensProvider.register(Y,H)}e.registerDocumentSemanticTokensProvider=oe;function U(Y,H){return h.StandaloneServices.get(o.ILanguageFeaturesService).documentRangeSemanticTokensProvider.register(Y,H)}e.registerDocumentRangeSemanticTokensProvider=U;function ae(Y,H){return h.StandaloneServices.get(o.ILanguageFeaturesService).inlineCompletionsProvider.register(Y,H)}e.registerInlineCompletionsProvider=ae;function z(Y,H){return h.StandaloneServices.get(o.ILanguageFeaturesService).inlayHintsProvider.register(Y,H)}e.registerInlayHintsProvider=z;function J(){return{register:c,getLanguages:d,onLanguage:s,getEncodedLanguageId:r,setLanguageConfiguration:a,setColorMap:_,registerTokensProviderFactory:E,setTokensProvider:T,setMonarchTokensProvider:I,registerReferenceProvider:R,registerRenameProvider:F,registerCompletionItemProvider:Z,registerSignatureHelpProvider:O,registerHoverProvider:M,registerDocumentSymbolProvider:N,registerDocumentHighlightProvider:A,registerLinkedEditingRangeProvider:B,registerDefinitionProvider:W,registerImplementationProvider:x,registerTypeDefinitionProvider:P,registerCodeLensProvider:X,registerCodeActionProvider:ie,registerDocumentFormattingEditProvider:K,registerDocumentRangeFormattingEditProvider:G,registerOnTypeFormattingEditProvider:Q,registerLinkProvider:ne,registerColorProvider:ee,registerFoldingRangeProvider:le,registerDeclarationProvider:V,registerSelectionRangeProvider:$,registerDocumentSemanticTokensProvider:oe,registerDocumentRangeSemanticTokensProvider:U,registerInlineCompletionsProvider:ae,registerInlayHintsProvider:z,DocumentHighlightKind:C.DocumentHighlightKind,CompletionItemKind:C.CompletionItemKind,CompletionItemTag:C.CompletionItemTag,CompletionItemInsertTextRule:C.CompletionItemInsertTextRule,SymbolKind:C.SymbolKind,SymbolTag:C.SymbolTag,IndentAction:C.IndentAction,CompletionTriggerKind:C.CompletionTriggerKind,SignatureHelpTriggerKind:C.SignatureHelpTriggerKind,InlayHintKind:C.InlayHintKind,InlineCompletionTriggerKind:C.InlineCompletionTriggerKind,CodeActionTriggerType:C.CodeActionTriggerType,FoldingRangeKind:k.FoldingRangeKind}}e.createMonacoLanguagesAPI=J}),define(se[810],re([1,0,38,280,808,809,17,309]),function(q,e,w,m,k,D,L,b){"use strict";var C;Object.defineProperty(e,"__esModule",{value:!0}),e.languages=e.editor=e.Token=e.Uri=e.MarkerTag=e.MarkerSeverity=e.SelectionDirection=e.Selection=e.Range=e.Position=e.KeyMod=e.KeyCode=e.Emitter=e.CancellationTokenSource=void 0,w.EditorOptions.wrappingIndent.defaultValue=0,w.EditorOptions.glyphMargin.defaultValue=!1,w.EditorOptions.autoIndent.defaultValue=3,w.EditorOptions.overviewRulerLanes.defaultValue=2,b.FormattingConflicts.setFormatterSelector((g,t,i)=>Promise.resolve(g[0]));const h=(0,m.createMonacoBaseAPI)();h.editor=(0,k.createMonacoEditorAPI)(),h.languages=(0,D.createMonacoLanguagesAPI)(),e.CancellationTokenSource=h.CancellationTokenSource,e.Emitter=h.Emitter,e.KeyCode=h.KeyCode,e.KeyMod=h.KeyMod,e.Position=h.Position,e.Range=h.Range,e.Selection=h.Selection,e.SelectionDirection=h.SelectionDirection,e.MarkerSeverity=h.MarkerSeverity,e.MarkerTag=h.MarkerTag,e.Uri=h.Uri,e.Token=h.Token,e.editor=h.editor,e.languages=h.languages,(((C=L.globals.MonacoEnvironment)===null||C===void 0?void 0:C.globalAPI)||typeof define=="function"&&define.amd)&&(self.monaco=h),typeof self.require<"u"&&typeof self.require.config=="function"&&self.require.config({ignoreDuplicateModules:["vscode-languageserver-types","vscode-languageserver-types/main","vscode-languageserver-textdocument","vscode-languageserver-textdocument/main","vscode-nls","vscode-nls/vscode-nls","jsonc-parser","jsonc-parser/main","vscode-uri","vscode-uri/index","vs/basic-languages/typescript/typescript"]})});var ii=this&&this.__createBinding||(Object.create?function(q,e,w,m){m===void 0&&(m=w);var k=Object.getOwnPropertyDescriptor(e,w);(!k||("get"in k?!e.__esModule:k.writable||k.configurable))&&(k={enumerable:!0,get:function(){return e[w]}}),Object.defineProperty(q,m,k)}:function(q,e,w,m){m===void 0&&(m=w),q[m]=e[w]}),ni=this&&this.__exportStar||function(q,e){for(var w in q)w!=="default"&&!Object.prototype.hasOwnProperty.call(e,w)&&ii(e,q,w)};define(se[812],re([1,0,810,806,744,745,746,682,748,749,747,795,763]),function(q,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),ni(w,e)})}).call(this);


"use strict";/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.34.2(c4113c3111ab66e33392ed677319fc1db11cc70b)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
define("vs/basic-languages/monaco.contribution", ["require","require","vs/editor/editor.api"],(require)=>{
var moduleExports=(()=>{var I=Object.create;var m=Object.defineProperty;var k=Object.getOwnPropertyDescriptor;var _=Object.getOwnPropertyNames;var z=Object.getPrototypeOf,w=Object.prototype.hasOwnProperty;var s=(a=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(a,{get:(e,r)=>(typeof require!="undefined"?require:e)[r]}):a)(function(a){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+a+'" is not supported')});var c=(a,e)=>()=>(a&&(e=a(a=0)),e);var C=(a,e)=>()=>(e||a((e={exports:{}}).exports,e),e.exports),u=(a,e)=>{for(var r in e)m(a,r,{get:e[r],enumerable:!0})},l=(a,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of _(e))!w.call(a,i)&&i!==r&&m(a,i,{get:()=>e[i],enumerable:!(n=k(e,i))||n.enumerable});return a},p=(a,e,r)=>(l(a,e,"default"),r&&l(r,e,"default")),x=(a,e,r)=>(r=a!=null?I(z(a)):{},l(e||!a||!a.__esModule?m(r,"default",{value:a,enumerable:!0}):r,a));var y=C((D,f)=>{var M=x(s("vs/editor/editor.api"));f.exports=M});var h={};u(h,{conf:()=>A,language:()=>j});var A,j,v=c(()=>{"use strict";A={comments:{lineComment:";"}},j={defaultToken:"",ignoreCase:!0,tokenPostfix:".rcasm",keywords:["add","inc","and","orr","eor","not","rol","cmp","mov","clr","ldi","lds","ldr","str","ixy","hlt","hlr","opc","jmp","jsr","rts","bne","beq","bcs","bmi","blt","ble","org","dfb","dfw"],registers:["a","b","c","d","j","j1","j2","m","m1","m2","x","y","xy"],symbols:/[\.,\:]+/,tokenizer:{root:[[/[.a-zA-Z_]\w*/,{cases:{this:"variable.predefined","@keywords":{token:"keyword.$0"},"@registers":"type.register","@default":""}}],[/[ \t\r\n]+/,""],[/;.*$/,"comment"],[/@symbols/,"delimiter"],[/0[xX][0-9a-fA-F]+/,"number.hex"],[/[0-1]+b/,"number.binary"],[/[+-]?[0-9]+d?/,"number"],[/"([^"\\]|\\.)*$/,"string.invalid"],[/"/,{token:"string.quote",bracket:"@open",next:"@string"}]],string:[[/[^\\"]+/,"string"],[/"/,{token:"string.quote",bracket:"@close",next:"@pop"}]]}}});var b={};u(b,{conf:()=>R,language:()=>q});var R,q,P=c(()=>{"use strict";R={},q={defaultToken:"",ignoreCase:!1,tokenPostfix:".rcdsm",tokenizer:{root:[[/🔸.*$/,"invalid"],[/❌.*/,"invalid"],[/[ \t\r\n]+/,""],[/[0-9A-F]{4}:/,"number.hex"],[/[0-9A-F]{2}/,"keyword"],[/.*/,"comment"]]}}});var t={};p(t,x(y()));var L={},d={},g=class{static getOrCreate(e){return d[e]||(d[e]=new g(e)),d[e]}_languageId;_loadingTriggered;_lazyLoadPromise;_lazyLoadPromiseResolve;_lazyLoadPromiseReject;constructor(e){this._languageId=e,this._loadingTriggered=!1,this._lazyLoadPromise=new Promise((r,n)=>{this._lazyLoadPromiseResolve=r,this._lazyLoadPromiseReject=n})}load(){return this._loadingTriggered||(this._loadingTriggered=!0,L[this._languageId].loader().then(e=>this._lazyLoadPromiseResolve(e),e=>this._lazyLoadPromiseReject(e))),this._lazyLoadPromise}};function o(a){let e=a.id;L[e]=a,t.languages.register(a);let r=g.getOrCreate(e);t.languages.registerTokensProviderFactory(e,{create:async()=>(await r.load()).language}),t.languages.onLanguage(e,async()=>{let n=await r.load();t.languages.setLanguageConfiguration(e,n.conf)})}o({id:"csharp",extensions:[".cs",".csx",".cake"],aliases:["C#","csharp"],loader:()=>new Promise((a,e)=>{s(["vs/basic-languages/csharp/csharp"],a,e)})});o({id:"mips",extensions:[".s"],aliases:["MIPS","MIPS-V"],mimetypes:["text/x-mips","text/mips","text/plaintext"],loader:()=>new Promise((a,e)=>{s(["vs/basic-languages/mips/mips"],a,e)})});o({id:"rcasm",extensions:[".rcasm"],aliases:["RCASM"],mimetypes:["text/x-rcasm","text/rcasm","text/plaintext"],loader:()=>Promise.resolve().then(()=>(v(),h))});o({id:"rcdsm",extensions:[".rcdsm"],aliases:["RCDSM"],mimetypes:["text/x-rcdsm","text/rcdsm","text/plaintext"],loader:()=>Promise.resolve().then(()=>(P(),b))});})();
return moduleExports;
});

"use strict";/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.34.2(c4113c3111ab66e33392ed677319fc1db11cc70b)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
define("vs/language/css/monaco.contribution", ["require","require","vs/editor/editor.api"],(require)=>{
var moduleExports=(()=>{var C=Object.create;var g=Object.defineProperty;var S=Object.getOwnPropertyDescriptor;var b=Object.getOwnPropertyNames;var x=Object.getPrototypeOf,h=Object.prototype.hasOwnProperty;var l=(e=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(e,{get:(n,r)=>(typeof require!="undefined"?require:n)[r]}):e)(function(e){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var I=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports),M=(e,n)=>{for(var r in n)g(e,r,{get:n[r],enumerable:!0})},s=(e,n,r,a)=>{if(n&&typeof n=="object"||typeof n=="function")for(let t of b(n))!h.call(e,t)&&t!==r&&g(e,t,{get:()=>n[t],enumerable:!(a=S(n,t))||a.enumerable});return e},y=(e,n,r)=>(s(e,n,"default"),r&&s(r,n,"default")),w=(e,n,r)=>(r=e!=null?C(x(e)):{},s(n||!e||!e.__esModule?g(r,"default",{value:e,enumerable:!0}):r,e)),P=e=>s(g({},"__esModule",{value:!0}),e);var v=I((k,D)=>{var O=w(l("vs/editor/editor.api"));D.exports=O});var R={};M(R,{cssDefaults:()=>p,lessDefaults:()=>f,scssDefaults:()=>c});var o={};y(o,w(v()));var i=class{_onDidChange=new o.Emitter;_options;_modeConfiguration;_languageId;constructor(n,r,a){this._languageId=n,this.setOptions(r),this.setModeConfiguration(a)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get modeConfiguration(){return this._modeConfiguration}get diagnosticsOptions(){return this.options}get options(){return this._options}setOptions(n){this._options=n||Object.create(null),this._onDidChange.fire(this)}setDiagnosticsOptions(n){this.setOptions(n)}setModeConfiguration(n){this._modeConfiguration=n||Object.create(null),this._onDidChange.fire(this)}},d={validate:!0,lint:{compatibleVendorPrefixes:"ignore",vendorPrefix:"warning",duplicateProperties:"warning",emptyRules:"warning",importStatement:"ignore",boxModel:"ignore",universalSelector:"ignore",zeroUnits:"ignore",fontFaceProperties:"warning",hexColorLength:"error",argumentsInColorFunction:"error",unknownProperties:"warning",ieHack:"ignore",unknownVendorSpecificProperties:"ignore",propertyIgnoredDueToDisplay:"warning",important:"ignore",float:"ignore",idSelector:"ignore"},data:{useDefaultDataProvider:!0},format:{newlineBetweenSelectors:!0,newlineBetweenRules:!0,spaceAroundSelectorSeparator:!1,braceStyle:"collapse",maxPreserveNewLines:void 0,preserveNewLines:!0}},u={completionItems:!0,hovers:!0,documentSymbols:!0,definitions:!0,references:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0,documentFormattingEdits:!0,documentRangeFormattingEdits:!0},p=new i("css",d,u),c=new i("scss",d,u),f=new i("less",d,u);o.languages.css={cssDefaults:p,lessDefaults:f,scssDefaults:c};function m(){return new Promise((e,n)=>{l(["vs/language/css/cssMode"],e,n)})}o.languages.onLanguage("less",()=>{m().then(e=>e.setupMode(f))});o.languages.onLanguage("scss",()=>{m().then(e=>e.setupMode(c))});o.languages.onLanguage("css",()=>{m().then(e=>e.setupMode(p))});return P(R);})();
return moduleExports;
});

"use strict";/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.34.2(c4113c3111ab66e33392ed677319fc1db11cc70b)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
define("vs/language/html/monaco.contribution", ["require","require","vs/editor/editor.api"],(require)=>{
var moduleExports=(()=>{var w=Object.create;var l=Object.defineProperty;var R=Object.getOwnPropertyDescriptor;var H=Object.getOwnPropertyNames;var O=Object.getPrototypeOf,_=Object.prototype.hasOwnProperty;var f=(e=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(e,{get:(n,t)=>(typeof require!="undefined"?require:n)[t]}):e)(function(e){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var k=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports),T=(e,n)=>{for(var t in n)l(e,t,{get:n[t],enumerable:!0})},d=(e,n,t,r)=>{if(n&&typeof n=="object"||typeof n=="function")for(let o of H(n))!_.call(e,o)&&o!==t&&l(e,o,{get:()=>n[o],enumerable:!(r=R(n,o))||r.enumerable});return e},b=(e,n,t)=>(d(e,n,"default"),t&&d(t,n,"default")),v=(e,n,t)=>(t=e!=null?w(O(e)):{},d(n||!e||!e.__esModule?l(t,"default",{value:e,enumerable:!0}):t,e)),A=e=>d(l({},"__esModule",{value:!0}),e);var C=k((z,h)=>{var E=v(f("vs/editor/editor.api"));h.exports=E});var V={};T(V,{handlebarDefaults:()=>M,handlebarLanguageService:()=>m,htmlDefaults:()=>x,htmlLanguageService:()=>c,razorDefaults:()=>I,razorLanguageService:()=>y,registerHTMLLanguageService:()=>s});var a={};b(a,v(C()));var p=class{_onDidChange=new a.Emitter;_options;_modeConfiguration;_languageId;constructor(n,t,r){this._languageId=n,this.setOptions(t),this.setModeConfiguration(r)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get options(){return this._options}get modeConfiguration(){return this._modeConfiguration}setOptions(n){this._options=n||Object.create(null),this._onDidChange.fire(this)}setModeConfiguration(n){this._modeConfiguration=n||Object.create(null),this._onDidChange.fire(this)}},F={tabSize:4,insertSpaces:!1,wrapLineLength:120,unformatted:'default": "a, abbr, acronym, b, bdo, big, br, button, cite, code, dfn, em, i, img, input, kbd, label, map, object, q, samp, select, small, span, strong, sub, sup, textarea, tt, var',contentUnformatted:"pre",indentInnerHtml:!1,preserveNewLines:!0,maxPreserveNewLines:void 0,indentHandlebars:!1,endWithNewline:!1,extraLiners:"head, body, /html",wrapAttributes:"auto"},u={format:F,suggest:{},data:{useDefaultDataProvider:!0}};function g(e){return{completionItems:!0,hovers:!0,documentSymbols:!0,links:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,selectionRanges:!0,diagnostics:e===i,documentFormattingEdits:e===i,documentRangeFormattingEdits:e===i}}var i="html",D="handlebars",L="razor",c=s(i,u,g(i)),x=c.defaults,m=s(D,u,g(D)),M=m.defaults,y=s(L,u,g(L)),I=y.defaults;a.languages.html={htmlDefaults:x,razorDefaults:I,handlebarDefaults:M,htmlLanguageService:c,handlebarLanguageService:m,razorLanguageService:y,registerHTMLLanguageService:s};function P(){return new Promise((e,n)=>{f(["vs/language/html/htmlMode"],e,n)})}function s(e,n=u,t=g(e)){let r=new p(e,n,t),o,S=a.languages.onLanguage(e,async()=>{o=(await P()).setupMode(r)});return{defaults:r,dispose(){S.dispose(),o?.dispose(),o=void 0}}}return A(V);})();
return moduleExports;
});

"use strict";/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.34.2(c4113c3111ab66e33392ed677319fc1db11cc70b)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
define("vs/language/json/monaco.contribution", ["require","require","vs/editor/editor.api"],(require)=>{
var moduleExports=(()=>{var p=Object.create;var r=Object.defineProperty;var y=Object.getOwnPropertyDescriptor;var h=Object.getOwnPropertyNames;var v=Object.getPrototypeOf,C=Object.prototype.hasOwnProperty;var g=(o=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(o,{get:(e,n)=>(typeof require!="undefined"?require:e)[n]}):o)(function(o){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+o+'" is not supported')});var D=(o,e)=>()=>(e||o((e={exports:{}}).exports,e),e.exports),b=(o,e)=>{for(var n in e)r(o,n,{get:e[n],enumerable:!0})},s=(o,e,n,a)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of h(e))!C.call(o,i)&&i!==n&&r(o,i,{get:()=>e[i],enumerable:!(a=y(e,i))||a.enumerable});return o},u=(o,e,n)=>(s(o,e,"default"),n&&s(n,e,"default")),c=(o,e,n)=>(n=o!=null?p(v(o)):{},s(e||!o||!o.__esModule?r(n,"default",{value:o,enumerable:!0}):n,o)),O=o=>s(r({},"__esModule",{value:!0}),o);var f=D((w,m)=>{var M=c(g("vs/editor/editor.api"));m.exports=M});var R={};b(R,{jsonDefaults:()=>d});var t={};u(t,c(f()));var l=class{_onDidChange=new t.Emitter;_diagnosticsOptions;_modeConfiguration;_languageId;constructor(e,n,a){this._languageId=e,this.setDiagnosticsOptions(n),this.setModeConfiguration(a)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get modeConfiguration(){return this._modeConfiguration}get diagnosticsOptions(){return this._diagnosticsOptions}setDiagnosticsOptions(e){this._diagnosticsOptions=e||Object.create(null),this._onDidChange.fire(this)}setModeConfiguration(e){this._modeConfiguration=e||Object.create(null),this._onDidChange.fire(this)}},j={validate:!0,allowComments:!0,schemas:[],enableSchemaRequest:!1,schemaRequest:"warning",schemaValidation:"warning",comments:"error",trailingCommas:"error"},S={documentFormattingEdits:!0,documentRangeFormattingEdits:!0,completionItems:!0,hovers:!0,documentSymbols:!0,tokens:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0},d=new l("json",j,S);t.languages.json={jsonDefaults:d};function _(){return new Promise((o,e)=>{g(["vs/language/json/jsonMode"],o,e)})}t.languages.register({id:"json",extensions:[".json",".bowerrc",".jshintrc",".jscsrc",".eslintrc",".babelrc",".har"],aliases:["JSON","json"],mimetypes:["application/json"]});t.languages.onLanguage("json",()=>{_().then(o=>o.setupMode(d))});return O(R);})();
return moduleExports;
});

"use strict";/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.34.2(c4113c3111ab66e33392ed677319fc1db11cc70b)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
define("vs/language/rcasm/monaco.contribution", ["require","require","vs/editor/editor.api"],(require)=>{
var moduleExports=(()=>{var C=Object.create;var i=Object.defineProperty;var h=Object.getOwnPropertyDescriptor;var v=Object.getOwnPropertyNames;var p=Object.getPrototypeOf,y=Object.prototype.hasOwnProperty;var g=(e=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(e,{get:(o,n)=>(typeof require!="undefined"?require:o)[n]}):e)(function(e){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var M=(e,o)=>()=>(o||e((o={exports:{}}).exports,o),o.exports),D=(e,o)=>{for(var n in o)i(e,n,{get:o[n],enumerable:!0})},a=(e,o,n,d)=>{if(o&&typeof o=="object"||typeof o=="function")for(let t of v(o))!y.call(e,t)&&t!==n&&i(e,t,{get:()=>o[t],enumerable:!(d=h(o,t))||d.enumerable});return e},l=(e,o,n)=>(a(e,o,"default"),n&&a(n,o,"default")),f=(e,o,n)=>(n=e!=null?C(p(e)):{},a(o||!e||!e.__esModule?i(n,"default",{value:e,enumerable:!0}):n,e)),b=e=>a(i({},"__esModule",{value:!0}),e);var c=M((E,m)=>{var I=f(g("vs/editor/editor.api"));m.exports=I});var L={};D(L,{rcasmDefaults:()=>s});var r={};l(r,f(c()));var u=class{_onDidChange=new r.Emitter;_modeConfiguration;_languageId;constructor(o,n){this._languageId=o,this.setModeConfiguration(n)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get modeConfiguration(){return this._modeConfiguration}setModeConfiguration(o){this._modeConfiguration=o||Object.create(null),this._onDidChange.fire(this)}},_={completionItems:!0,hovers:!0,documentSymbols:!0,definitions:!0,references:!0,documentHighlights:!0,colors:!0,diagnostics:!0},s=new u("rcasm",_);r.languages.rcasm={rcasmDefaults:s};function S(){return new Promise((e,o)=>{g(["vs/language/rcasm/rcasmMode"],e,o)})}r.languages.onLanguage("rcasm",()=>{S().then(e=>e.setupMode(s))});return b(L);})();
return moduleExports;
});

"use strict";/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.34.2(c4113c3111ab66e33392ed677319fc1db11cc70b)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
define("vs/language/typescript/monaco.contribution", ["require","require","vs/editor/editor.api"],(require)=>{
var moduleExports=(()=>{var k=Object.create;var g=Object.defineProperty;var N=Object.getOwnPropertyDescriptor;var H=Object.getOwnPropertyNames;var R=Object.getPrototypeOf,w=Object.prototype.hasOwnProperty;var d=(n=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(n,{get:(e,t)=>(typeof require!="undefined"?require:e)[t]}):n)(function(n){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+n+'" is not supported')});var M=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),F=(n,e)=>{for(var t in e)g(n,t,{get:e[t],enumerable:!0})},m=(n,e,t,o)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of H(e))!w.call(n,s)&&s!==t&&g(n,s,{get:()=>e[s],enumerable:!(o=N(e,s))||o.enumerable});return n},D=(n,e,t)=>(m(n,e,"default"),t&&m(t,e,"default")),L=(n,e,t)=>(t=n!=null?k(R(n)):{},m(e||!n||!n.__esModule?g(t,"default",{value:n,enumerable:!0}):t,n)),W=n=>m(g({},"__esModule",{value:!0}),n);var I=M((B,C)=>{var A=L(d("vs/editor/editor.api"));C.exports=A});var V={};F(V,{JsxEmit:()=>y,ModuleKind:()=>u,ModuleResolutionKind:()=>O,NewLineKind:()=>f,ScriptTarget:()=>h,getJavaScriptWorker:()=>S,getTypeScriptWorker:()=>P,javascriptDefaults:()=>v,typescriptDefaults:()=>x,typescriptVersion:()=>_});var E="4.5.5";var l={};D(l,L(I()));var u=(r=>(r[r.None=0]="None",r[r.CommonJS=1]="CommonJS",r[r.AMD=2]="AMD",r[r.UMD=3]="UMD",r[r.System=4]="System",r[r.ES2015=5]="ES2015",r[r.ESNext=99]="ESNext",r))(u||{}),y=(a=>(a[a.None=0]="None",a[a.Preserve=1]="Preserve",a[a.React=2]="React",a[a.ReactNative=3]="ReactNative",a[a.ReactJSX=4]="ReactJSX",a[a.ReactJSXDev=5]="ReactJSXDev",a))(y||{}),f=(t=>(t[t.CarriageReturnLineFeed=0]="CarriageReturnLineFeed",t[t.LineFeed=1]="LineFeed",t))(f||{}),h=(i=>(i[i.ES3=0]="ES3",i[i.ES5=1]="ES5",i[i.ES2015=2]="ES2015",i[i.ES2016=3]="ES2016",i[i.ES2017=4]="ES2017",i[i.ES2018=5]="ES2018",i[i.ES2019=6]="ES2019",i[i.ES2020=7]="ES2020",i[i.ESNext=99]="ESNext",i[i.JSON=100]="JSON",i[i.Latest=99]="Latest",i))(h||{}),O=(t=>(t[t.Classic=1]="Classic",t[t.NodeJs=2]="NodeJs",t))(O||{}),c=class{_onDidChange=new l.Emitter;_onDidExtraLibsChange=new l.Emitter;_extraLibs;_removedExtraLibs;_eagerModelSync;_compilerOptions;_diagnosticsOptions;_workerOptions;_onDidExtraLibsChangeTimeout;_inlayHintsOptions;constructor(e,t,o,s){this._extraLibs=Object.create(null),this._removedExtraLibs=Object.create(null),this._eagerModelSync=!1,this.setCompilerOptions(e),this.setDiagnosticsOptions(t),this.setWorkerOptions(o),this.setInlayHintsOptions(s),this._onDidExtraLibsChangeTimeout=-1}get onDidChange(){return this._onDidChange.event}get onDidExtraLibsChange(){return this._onDidExtraLibsChange.event}get workerOptions(){return this._workerOptions}get inlayHintsOptions(){return this._inlayHintsOptions}getExtraLibs(){return this._extraLibs}addExtraLib(e,t){let o;if(typeof t>"u"?o=`ts:extralib-${Math.random().toString(36).substring(2,15)}`:o=t,this._extraLibs[o]&&this._extraLibs[o].content===e)return{dispose:()=>{}};let s=1;return this._removedExtraLibs[o]&&(s=this._removedExtraLibs[o]+1),this._extraLibs[o]&&(s=this._extraLibs[o].version+1),this._extraLibs[o]={content:e,version:s},this._fireOnDidExtraLibsChangeSoon(),{dispose:()=>{let p=this._extraLibs[o];!p||p.version===s&&(delete this._extraLibs[o],this._removedExtraLibs[o]=s,this._fireOnDidExtraLibsChangeSoon())}}}setExtraLibs(e){for(let t in this._extraLibs)this._removedExtraLibs[t]=this._extraLibs[t].version;if(this._extraLibs=Object.create(null),e&&e.length>0)for(let t of e){let o=t.filePath||`ts:extralib-${Math.random().toString(36).substring(2,15)}`,s=t.content,p=1;this._removedExtraLibs[o]&&(p=this._removedExtraLibs[o]+1),this._extraLibs[o]={content:s,version:p}}this._fireOnDidExtraLibsChangeSoon()}_fireOnDidExtraLibsChangeSoon(){this._onDidExtraLibsChangeTimeout===-1&&(this._onDidExtraLibsChangeTimeout=window.setTimeout(()=>{this._onDidExtraLibsChangeTimeout=-1,this._onDidExtraLibsChange.fire(void 0)},0))}getCompilerOptions(){return this._compilerOptions}setCompilerOptions(e){this._compilerOptions=e||Object.create(null),this._onDidChange.fire(void 0)}getDiagnosticsOptions(){return this._diagnosticsOptions}setDiagnosticsOptions(e){this._diagnosticsOptions=e||Object.create(null),this._onDidChange.fire(void 0)}setWorkerOptions(e){this._workerOptions=e||Object.create(null),this._onDidChange.fire(void 0)}setInlayHintsOptions(e){this._inlayHintsOptions=e||Object.create(null),this._onDidChange.fire(void 0)}setMaximumWorkerIdleTime(e){}setEagerModelSync(e){this._eagerModelSync=e}getEagerModelSync(){return this._eagerModelSync}},_=E,x=new c({allowNonTsExtensions:!0,target:99},{noSemanticValidation:!1,noSyntaxValidation:!1,onlyVisible:!1},{},{}),v=new c({allowNonTsExtensions:!0,allowJs:!0,target:99},{noSemanticValidation:!0,noSyntaxValidation:!1,onlyVisible:!1},{},{}),P=()=>b().then(n=>n.getTypeScriptWorker()),S=()=>b().then(n=>n.getJavaScriptWorker());l.languages.typescript={ModuleKind:u,JsxEmit:y,NewLineKind:f,ScriptTarget:h,ModuleResolutionKind:O,typescriptVersion:_,typescriptDefaults:x,javascriptDefaults:v,getTypeScriptWorker:P,getJavaScriptWorker:S};function b(){return new Promise((n,e)=>{d(["vs/language/typescript/tsMode"],n,e)})}l.languages.onLanguage("typescript",()=>b().then(n=>n.setupTypeScript(x)));l.languages.onLanguage("javascript",()=>b().then(n=>n.setupJavaScript(v)));return W(V);})();
return moduleExports;
});

define("vs/editor/editor.main", ["vs/editor/edcore.main","vs/basic-languages/monaco.contribution","vs/language/css/monaco.contribution","vs/language/html/monaco.contribution","vs/language/json/monaco.contribution","vs/language/rcasm/monaco.contribution","vs/language/typescript/monaco.contribution"], function(api) { return api; });
//# sourceMappingURL=../../../min-maps/vs/editor/editor.main.js.map